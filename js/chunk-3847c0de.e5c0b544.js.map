{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/chunks/DefaultMaterial.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/vec43.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/DefaultErrorContext.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","webpack:///./node_modules/@arcgis/core/views/3d/glTF/loader.js","webpack:///./node_modules/@arcgis/core/core/devEnvironmentUtils.js","webpack:///./node_modules/@arcgis/core/chunks/vec33.js","webpack:///./node_modules/@arcgis/core/core/Version.js","webpack:///./node_modules/@arcgis/core/geometry/support/buffer/math/common.js","webpack:///./node_modules/@arcgis/core/chunks/vec32.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/scalar.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexPosition.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/mat32.js","webpack:///./node_modules/@arcgis/core/chunks/mat42.js","webpack:///./node_modules/@arcgis/core/geometry/support/buffer/utils.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/RealisticTree.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/DecodeNormal.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js","webpack:///./node_modules/@arcgis/core/chunks/vec22.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/vec42.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateMainLighting.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js"],"names":["P","_","S","vertex","code","$","fragment","include","name","output","uniforms","add","varyings","linearDepth","normalType","offsetBackfaces","instancedColor","attributes","multipassTerrainEnabled","float","vertexTangents","hasColorTexture","textureAlphaPremultiplied","attributeColor","receiveShadows","pbrMode","viewingMode","hasNormalTexture","OITEnabled","Object","freeze","__proto__","build","o","n","Uint32Array","t","e","length","Uint16Array","r","i","f","a","doubleSidedMode","extensions","attributeTextureCoordinates","supportsTextureAtlas","d","typedBuffer","typedBufferStride","u","count","l","dstIndex","c","srcIndex","s","p","copy","fill","this","streamDataRequester","load","m","responseType","data","request","ok","value","error","image","binary","json","int","getLogger","errorUnsupported","warn","warnUnsupported","color","opacity","alphaMode","alphaCutoff","doubleSided","castShadows","receiveAmbientOcclustion","textureColor","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","emissiveFactor","metallicFactor","roughnessFactor","colorMixMode","parameters","wrap","noUnpackFlip","mipmap","offset4","dataUint32","Math","floor","byteLength","Uint8Array","baseColorFactor","pbrMetallicRoughness","ESRI_externalColorMixMode","extras","magFilter","minFilter","wrapS","wrapT","replace","dirPart","filePart","D","MAGIC","CHUNK_TYPE_JSON","CHUNK_TYPE_BIN","MIN_HEADER_LENGTH","context","errorContext","uri","glbBuffer","bufferLoaders","Map","textureLoaders","textureCache","materialCache","nodeParentMap","nodeTransformCache","baseUri","checkVersionSupported","checkRequiredExtensionsSupported","errorUnsupportedIf","scenes","meshes","nodes","computeNodeParents","mediaType","JSON","parse","isBase64","atob","isGLBData","fromGLBData","endsWith","loadJSON","loadBinary","remainingBytes","readUint32","parseGLBData","binaryData","assert","q","readUint8Array","buffers","getBufferLoader","get","resolveUri","then","set","accessors","bufferView","type","bufferViews","getBuffer","buffer","k","V","componentType","byteStride","raw","byteOffset","entryCount","isDenselyPacked","componentCount","componentByteSize","min","max","normalized","indices","getAccessor","wrapAccessor","POSITION","X","toFixed","NORMAL","TANGENT","TEXCOORD_0","J","COLOR_0","material","materials","hasVertexColors","getTexture","baseColorTexture","normalTexture","occlusionTexture","emissiveTexture","metallicRoughnessTexture","colorTexture","id","vertexColors","texCoord","index","textures","sampler","samplers","source","images","loadTextureImageData","getNodeTransform","getNodeParent","matrix","translation","rotation","scale","asset","version","validate","extensionsRequired","join","forEach","children","createTextureLoader","loadImage","mimeType","H","PI","SCALAR","VEC2","VEC3","VEC4","5120","5121","5122","5123","5126","5125","async","Promise","Blob","FileReader","onload","result","onerror","readAsText","URL","createObjectURL","Image","addEventListener","revokeObjectURL","decode","src","x","h","lods","meta","T","ESRI_type","g","mode","hasPositions","v","getPositionData","w","getMaterial","hasNormals","getNormalData","I","hasTangents","getTangentData","R","hasTextureCoordinates","getTextureCoordinates","E","getVertexColors","M","getIndexData","F","transform","position","normal","texCoord0","tangent","primitiveType","y","ESRI_lod","metric","thresholds","parts","lodThreshold","filter","model","isEsriSymbolResource","customMeta","ESRI_proxyEllipsoid","scene","push","MSFT_lod","ids","warnUnsupportedIf","weights","mesh","primitives","all","Array","isArray","has","some","globalThis","location","hostname","match","major","minor","_context","lessThan","split","parseInt","B","b","sqrt","transformMat4","transformMat3","normalize","shiftRight","doublePrecisionRequiresObfuscation","driverTest","symbolColor","receiveAmbientOcclusion","TypedArrayConstructor","makeDense","worldFromModel_RS","worldFromModel_TH","worldFromModel_TL","ModelTransform","worldFromView_TH","worldFromView_TL","viewFromCameraRelative_RS","projFromView","setUniformMatrix3fv","setUniform3fv","setUniformMatrix4fv","ViewProjectionTransform","bindModelTransform","bindViewProjTransform","bindUniforms","ArrayBuffer","ElementCount","ElementType","resource","textureDefinitions","details","url","params","topology","vertexAttributes","faces","values","valueType","valuesPerElement","geometries","materialDefinitions","size","exclusive","j","texture","A","substring","lastIndexOf","transparency","alphaChannelUsage","U","ambient","diffuse","transparent","textureAlphaMode","textureAlphaCutoff","textureId","initTextureTransparent","cullFace","externalColorMixMode","preMultiplyAlpha","materialParamsMixin","assign","stageResources","pivotOffset","boundingBox","numberOfVertices","boundingInfo","getBBMin","getBBMax","encoding","channels","disableTextures","resolve","refId","region","fileType","cache","loadWOSR","referenceBoundingBox","isWosr","remove","loadGLTF","usePBR","indexOf","isSchematic","treeRendering","esriTreeRendering","mrrFactors","specifiedLodIndex","K","Number","Q","doubleSidedType","normals","receiveSSAO","normalTextureId","occlusionTextureId","emissiveTextureId","metallicRoughnessTextureId","O","elementCount","L","getVec","center","radius","setVec","hasMetalnessAndRoughnessTexture","hasEmissionTexture","hasOcclusionTexture","instanced","instancedDoublePrecision","Uniforms","bindCustomOrigin","shader","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","symbolColors","vvSize","vvColor","vvInstancingEnabled","useCustomDTRExponentForWater","normalsTypeDerivate","screenSizePerspectiveEnabled","screenSizePerspective","verticalOffsetEnabled","verticalOffset","rctx","alphaDiscardMode","cullAboveGround","program","camera","projectionMatrix","setUniform2fv","nearFar","inverseViewport","setUniform1f","layerOpacity","setUniform4fv","externalColor","setUniform1i","lighting","setUniforms","shadowMap","bind","ssaoHelper","viewInverseTransposeMatrix","origin","viewMatrix","rebindTextures","slicePlane","blending","culling","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","sceneHasOcludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","setPipeline","super","getPipelineState","arguments","prototype","supportsEdges","techniqueConfig","vertexBufferLayout","instanceBufferLayout","isVisible","vvColorEnabled","vvSizeEnabled","shadowMappingEnabled","ssaoEnabled","offsetTransparentBackfaces","relativeElevation","eye","z","inverseRotation","_material","updateTexture","ensureTechnique","setParameters","hasOccludees","_output","_updateShadowState","_updateOccludeeState","updateParameters","bindPass","bindTextures","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvSizeValue","vvColorValues","vvColorColors","vvSymbolAnchor","vvSymbolRotationMatrix","createBuffer","transformation","invTranspTransformation","vec3f","vec4f","vec2f","vec4u8","mat3f","mat4f","elementType","normalizeIntegerBuffer","lightingSphericalHarmonicsOrder"],"mappings":"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","file":"js/chunk-3847c0de.e5c0b544.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{Slice as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VertexNormal as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{VerticalOffset as g}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as m}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ReadLinearDepth as v}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{ComputeNormalTexture as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ComputeNormalTexture.glsl.js\";import{EvaluateAmbientOcclusion as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{multipassTerrainTest as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{Normals as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js\";import{PhysicallyBasedRendering as x}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as w}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMap as y}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{VisualVariables as C}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as L,DiscardOrAdjustAlpha as j}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{HeaderComment as M}from\"../views/3d/webgl-engine/core/shaderLibrary/util/HeaderComment.glsl.js\";import{MixExternalColor as T}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{glsl as E}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as O}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function P(P){const _=new O,S=_.vertex.code,$=_.fragment.code;return _.include(M,{name:\"Default Material Shader\",output:P.output}),_.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),_.include(t),_.varyings.add(\"vpos\",\"vec3\"),_.include(C,P),_.include(i,P),_.include(g,P),0!==P.output&&7!==P.output||(_.include(l,P),_.include(a,{linearDepth:!1}),0===P.normalType&&P.offsetBackfaces&&_.include(r),_.include(p,P),_.include(c,P),P.instancedColor&&_.attributes.add(\"instanceColor\",\"vec4\"),_.varyings.add(\"localvpos\",\"vec3\"),_.include(s,P),_.include(e,P),_.include(n,P),_.include(d,P),_.vertex.uniforms.add(\"externalColor\",\"vec4\"),_.varyings.add(\"vcolorExt\",\"vec4\"),P.multipassTerrainEnabled&&_.varyings.add(\"depth\",\"float\"),S.add(E`\n      void main(void) {\n        forwardNormalizedVertexColor();\n        vcolorExt = externalColor;\n        ${P.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n        vcolorExt *= vvColor();\n        vcolorExt *= getSymbolColor();\n        forwardColorMixMode();\n\n        if (vcolorExt.a < ${E.float(L)}) {\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        }\n        else {\n          vpos = calculateVPos();\n          localvpos = vpos - view[3].xyz;\n          vpos = subtractOrigin(vpos);\n          ${0===P.normalType?E`\n          vNormalWorld = dpNormal(vvLocalNormal(normalModel()));`:\"\"}\n          vpos = addVerticalOffset(vpos, localOrigin);\n          ${P.vertexTangents?\"vTangent = dpTransformVertexTangent(tangent);\":\"\"}\n          gl_Position = transformPosition(proj, view, vpos);\n          ${0===P.normalType&&P.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n        }\n\n        ${P.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n        forwardLinearDepth();\n        forwardTextureCoordinates();\n      }\n    `)),7===P.output&&(_.include(o,P),_.include(j,P),P.multipassTerrainEnabled&&(_.fragment.include(v),_.include(h,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.fragment.include(T),$.add(E`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?E`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:E`vec4 texColor = vec4(1.0);`}\n        ${P.attributeColor?E`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:E`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===P.output&&(_.include(o,P),_.include(b,P),_.include(u,P),_.include(j,P),P.receiveShadows&&_.include(y,P),P.multipassTerrainEnabled&&(_.fragment.include(v),_.include(h,P)),_.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),P.hasColorTexture&&_.fragment.uniforms.add(\"tex\",\"sampler2D\"),_.include(w,P),_.include(x,P),_.fragment.include(T),_.include(f,P),$.add(E`\n      void main() {\n        discardBySlice(vpos);\n        ${P.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        ${P.hasColorTexture?E`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${P.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:E`vec4 texColor = vec4(1.0);`}\n        shadingParams.viewDirection = normalize(vpos - camPos);\n        ${3===P.normalType?E`\n        vec3 normal = screenDerivativeNormal(localvpos);`:E`\n        shadingParams.normalView = vNormalWorld;\n        vec3 normal = shadingNormal(shadingParams);`}\n        ${1===P.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${P.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===P.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${P.attributeColor?E`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:E`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${P.hasNormalTexture?E`\n              mat3 tangentSpace = ${P.vertexTangents?\"computeTangentSpace(normal);\":\"computeTangentSpace(normal, vpos, vuv0);\"}\n              vec3 shadedNormal = computeTextureNormal(tangentSpace, vuv0);`:\"vec3 shadedNormal = normal;\"}\n        ${1===P.pbrMode||2===P.pbrMode?1===P.viewingMode?E`vec3 normalGround = normalize(vpos + localOrigin);`:E`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:E``}\n        ${1===P.pbrMode||2===P.pbrMode?E`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${P.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),_.include(m,P),_}const _=Object.freeze({__proto__:null,build:P});export{_ as D,P as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst o=2.1;export{o as COLOR_GAMMA};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isUint16Array as t,isUint8Array as e}from\"../../../../core/typedArrayUtil.js\";import{generateDefaultIndexArray as r}from\"../../webgl-engine/lib/geometryDataUtils.js\";function n(n,o=r){return\"number\"==typeof n?o(n):t(n)||e(n)?new Uint32Array(n):n}function o(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let o=0;o<r;o+=1)if(o%2==0){const r=t[o],i=t[o+1],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}else{const r=t[o+1],i=t[o],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}}return n}function i(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}{const e=t[0];let o=t[1],i=0;for(let f=0;f<r;++f){const r=t[f+2];n[i++]=e,n[i++]=o,n[i++]=r,o=r}return n}}export{i as triangleFanToTriangles,o as triangleStripToTriangles,n as trianglesToTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{VertexTextureCoordinates as e}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function n(n,a){const r=n.fragment;a.vertexTangents?(n.attributes.add(\"tangent\",\"vec4\"),n.varyings.add(\"vTangent\",\"vec4\"),2===a.doubleSidedMode?r.code.add(t`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = gl_FrontFacing ? vTangent.w : -vTangent.w;\nvec3 tangent = normalize(gl_FrontFacing ? vTangent.xyz : -vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`):r.code.add(t`mat3 computeTangentSpace(vec3 normal) {\nfloat tangentHeadedness = vTangent.w;\nvec3 tangent = normalize(vTangent.xyz);\nvec3 bitangent = cross(normal, tangent) * tangentHeadedness;\nreturn mat3(tangent, bitangent, normal);\n}`)):(n.extensions.add(\"GL_OES_standard_derivatives\"),r.code.add(t`mat3 computeTangentSpace(vec3 normal, vec3 pos, vec2 st) {\nvec3 Q1 = dFdx(pos);\nvec3 Q2 = dFdy(pos);\nvec2 stx = dFdx(st);\nvec2 sty = dFdy(st);\nfloat det = stx.t * sty.s - sty.t * stx.s;\nvec3 T = stx.t * Q2 - sty.t * Q1;\nT = T - normal * dot(normal, T);\nT *= inversesqrt(max(dot(T,T), 1.e-10));\nvec3 B = sign(det) * cross(normal, T);\nreturn mat3(T, B, normal);\n}`)),0!==a.attributeTextureCoordinates&&(n.include(e,a),r.uniforms.add(\"normalTexture\",\"sampler2D\"),r.uniforms.add(\"normalTextureSize\",\"vec2\"),r.code.add(t`\n    vec3 computeTextureNormal(mat3 tangentSpace, vec2 uv) {\n      vtc.uv = uv;\n      ${a.supportsTextureAtlas?\"vtc.size = normalTextureSize;\":\"\"}\n      vec3 rawNormal = textureLookup(normalTexture, vtc).rgb * 2.0 - 1.0;\n      return tangentSpace * rawNormal;\n    }\n  `))}export{n as ComputeNormalTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../shaderModules/interfaces.js\";function e(e){e.vertex.code.add(o`vec4 offsetBackfacingClipPosition(vec4 posClip, vec3 posWorld, vec3 normalWorld, vec3 camPosWorld) {\nvec3 camToVert = posWorld - camPosWorld;\nbool isBackface = dot(camToVert, normalWorld) > 0.0;\nif (isBackface) {\nposClip.z += 0.0000003 * posClip.w;\n}\nreturn posClip;\n}`)}export{e as Offset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,t,n){const d=e.typedBuffer,f=e.typedBufferStride,o=t.typedBuffer,r=t.typedBufferStride,u=n?n.count:t.count;let l=(n&&n.dstIndex?n.dstIndex:0)*f,c=(n&&n.srcIndex?n.srcIndex:0)*r;for(let s=0;s<u;++s)d[l]=o[c],d[l+1]=o[c+1],d[l+2]=o[c+2],d[l+3]=o[c+3],l+=f,c+=r}function t(e,t,n,d,f,o){var r,u;const l=e.typedBuffer,c=e.typedBufferStride,s=null!=(r=null==o?void 0:o.count)?r:e.count;let p=(null!=(u=null==o?void 0:o.dstIndex)?u:0)*c;for(let i=0;i<s;++i)l[p]=t,l[p+1]=n,l[p+2]=d,l[p+3]=f,p+=c}const n=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport r from\"../../../request.js\";import{result as e}from\"../../../core/asyncUtils.js\";import o from\"../../../core/Error.js\";import{isNone as s}from\"../../../core/maybe.js\";import{throwIfAborted as t,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import{isDataProtocol as i,dataToArrayBuffer as m}from\"../../../core/urlUtils.js\";class n{constructor(r){this.streamDataRequester=r}async loadJSON(r,e){return this.load(\"json\",r,e)}async loadBinary(r,e){return i(r)?(t(e),m(r)):this.load(\"binary\",r,e)}async loadImage(r,e){return this.load(\"image\",r,e)}async load(t,i,m){if(s(this.streamDataRequester))return(await r(i,{responseType:c[t]})).data;const n=await e(this.streamDataRequester.request(i,t,m));if(!0===n.ok)return n.value;throw a(n.error),new o(\"\",`Request for resource failed: ${n.error}`)}}const c={image:\"image\",binary:\"array-buffer\",json:\"json\"};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ColorConversion as e}from\"./ColorConversion.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function i(i){i.include(e),i.code.add(t`\n    vec3 mixExternalColor(vec3 internalColor, vec3 textureColor, vec3 externalColor, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      vec3 internalMixed = internalColor * textureColor;\n      vec3 allMixed = internalMixed * externalColor;\n\n      if (mode == ${t.int(1)}) {\n        return allMixed;\n      }\n      else if (mode == ${t.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${t.int(3)}) {\n        return externalColor;\n      }\n      else {\n        // tint (or something invalid)\n        float vIn = rgb2v(internalMixed);\n        vec3 hsvTint = rgb2hsv(externalColor);\n        vec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\n        return hsv2rgb(hsvOut);\n      }\n    }\n\n    float mixExternalOpacity(float internalOpacity, float textureOpacity, float externalOpacity, int mode) {\n      // workaround for artifacts in OSX using Intel Iris Pro\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/10475\n      float internalMixed = internalOpacity * textureOpacity;\n      float allMixed = internalMixed * externalOpacity;\n\n      if (mode == ${t.int(2)}) {\n        return internalMixed;\n      }\n      else if (mode == ${t.int(3)}) {\n        return externalOpacity;\n      }\n      else {\n        // multiply or tint (or something invalid)\n        return allMixed;\n      }\n    }\n  `)}export{i as MixExternalColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Error.js\";import e from\"../../../core/Logger.js\";const o=e.getLogger(\"esri.views.3d.glTF\");class t{error(e){throw new r(\"gltf-loader-error\",e)}errorUnsupported(e){throw new r(\"gltf-loader-unsupported-feature\",e)}errorUnsupportedIf(r,e){r&&this.errorUnsupported(e)}assert(r,e){r||this.error(e)}warn(r){o.warn(r)}warnUnsupported(r){this.warn(\"[Unsupported Feature] \"+r)}warnUnsupportedIf(r,e){r&&this.warnUnsupported(e)}}export{t as DefaultErrorContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function t(e,t={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...t.wrap},noUnpackFlip:!0,mipmap:!1,...t}}}export{e as makeMaterialParameters,t as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const t=this.offset4;return this.offset4+=1,this.dataUint32[t]}readUint8Array(t){const s=4*this.offset4;return this.offset4+=t/4,new Uint8Array(this.data,s,t)}remainingBytes(){return this.data.byteLength-4*this.offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\"},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,((r,a,i)=>(e=a||\"\",t=i||\"\",\"\"))),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import{isDataProtocol as r,dataComponents as n,dataToArrayBuffer as s,makeAbsolute as o}from\"../../../../core/urlUtils.js\";import{Version as a}from\"../../../../core/Version.js\";import{u as i,m as u,a as c,e as p,f}from\"../../../../chunks/mat4.js\";import{c as d,b as l}from\"../../../../chunks/mat4f64.js\";import{g as m}from\"../../../../chunks/quat.js\";import{a as h}from\"../../../../chunks/quatf64.js\";import{BufferViewUint32 as y,BufferViewUint16 as b,BufferViewUint8 as T,BufferViewVec3f as w,BufferViewVec4f as x,BufferViewVec2f as O,BufferViewVec4u8 as C,BufferViewVec4u16 as g,BufferViewVec3u8 as N,BufferViewVec3u16 as U,BufferViewVec2u32 as S,BufferViewVec2u16 as A,BufferViewVec2i16 as I,BufferViewVec2u8 as L,BufferViewVec2i8 as B}from\"../../../../geometry/support/buffer/BufferView.js\";import{m as R}from\"../../../../chunks/scalar.js\";import{BinaryStreamReader as v}from\"./BinaryStreamReader.js\";import{material as E,textureSampler as M}from\"./fillDefaults.js\";import{splitURI as j}from\"./pathUtils.js\";const D={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class G{constructor(e,t,r,n,s){this.context=e,this.errorContext=t,this.uri=r,this.json=n,this.glbBuffer=s,this.bufferLoaders=new Map,this.textureLoaders=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=j(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),t.errorUnsupportedIf(null==n.scenes,\"Scenes must be defined.\"),t.errorUnsupportedIf(null==n.meshes,\"Meshes must be defined\"),t.errorUnsupportedIf(null==n.nodes,\"Nodes must be defined.\"),this.computeNodeParents()}static async load(e,t,o,a){if(r(o)){const r=n(o);if(\"model/gltf-binary\"!==r.mediaType)try{const n=JSON.parse(r.isBase64?atob(r.data):r.data);return new G(e,t,o,n)}catch{}const a=s(o);if(G.isGLBData(a))return this.fromGLBData(e,t,o,a)}if(o.endsWith(\".gltf\")){const r=await e.loadJSON(o,a);return new G(e,t,o,r)}const i=await e.loadBinary(o,a);if(G.isGLBData(i))return this.fromGLBData(e,t,o,i);const u=await e.loadJSON(o,a);return new G(e,t,o,u)}static isGLBData(e){const t=new v(e);return t.remainingBytes()>=4&&t.readUint32()===D.MAGIC}static async fromGLBData(e,t,r,n){const s=await G.parseGLBData(t,n);return new G(e,t,r,s.json,s.binaryData)}static async parseGLBData(e,t){const r=new v(t);e.assert(r.remainingBytes()>=12,\"GLB binary data is insufficiently large.\");const n=r.readUint32(),s=r.readUint32(),o=r.readUint32();e.assert(n===D.MAGIC,\"Magic first 4 bytes do not fit to expected GLB value.\"),e.assert(t.byteLength>=o,\"GLB binary data is smaller than header specifies.\"),e.errorUnsupportedIf(2!==s,\"An unsupported GLB container version was detected. Only version 2 is supported.\");let a,i,u=0;for(;r.remainingBytes()>=8;){const t=r.readUint32(),n=r.readUint32();0===u?(e.assert(n===D.CHUNK_TYPE_JSON,\"First GLB chunk must be JSON.\"),e.assert(t>=0,\"No JSON data found.\"),a=await q(r.readUint8Array(t))):1===u?(e.errorUnsupportedIf(n!==D.CHUNK_TYPE_BIN,\"Second GLB chunk expected to be BIN.\"),i=r.readUint8Array(t)):e.warnUnsupported(\"More than 2 GLB chunks detected. Skipping.\"),u+=1}return a||e.error(\"No GLB JSON chunk detected.\"),{json:a,binaryData:i}}async getBuffer(e,t){const r=this.json.buffers[e],n=this.errorContext;if(null==r.uri)return n.assert(null!=this.glbBuffer,\"GLB buffer not present\"),this.glbBuffer;const s=await this.getBufferLoader(e,t);return n.assert(s.byteLength===r.byteLength,\"Buffer byte lengths should match.\"),s}async getBufferLoader(e,t){const r=this.bufferLoaders.get(e);if(r)return r;const n=this.json.buffers[e],s=this.context.loadBinary(this.resolveUri(n.uri),t).then((e=>new Uint8Array(e)));return this.bufferLoaders.set(e,s),s}async getAccessor(e,t){const r=this.errorContext;r.errorUnsupportedIf(!this.json.accessors,\"Accessors missing.\");const n=this.json.accessors[e];r.errorUnsupportedIf(null==(null==n?void 0:n.bufferView),\"Some accessor does not specify a bufferView.\"),r.errorUnsupportedIf(n.type in[\"MAT2\",\"MAT3\",\"MAT4\"],`AttributeType ${n.type} is not supported`);const s=this.json.bufferViews[n.bufferView],o=await this.getBuffer(s.buffer,t),a=k[n.type],i=V[n.componentType],u=a*i,c=s.byteStride||u;return{raw:o.buffer,byteStride:c,byteOffset:o.byteOffset+(s.byteOffset||0)+(n.byteOffset||0),entryCount:n.count,isDenselyPacked:c===u,componentCount:a,componentByteSize:i,componentType:n.componentType,min:n.min,max:n.max,normalized:!!n.normalized}}async getIndexData(e,t){if(null==e.indices)return null;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case 5121:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case 5123:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case 5125:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case 5121:return R(this.wrapAccessor(T,r));case 5123:return R(this.wrapAccessor(b,r));case 5125:return R(this.wrapAccessor(y,r))}}async getPositionData(e,t){const r=this.errorContext;r.errorUnsupportedIf(null==e.attributes.POSITION,\"No POSITION vertex data found.\");const n=await this.getAccessor(e.attributes.POSITION,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for POSITION vertex attribute, but found \"+X[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"POSITION vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(w,n)}async getNormalData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.NORMAL,\"No NORMAL vertex data found.\");const n=await this.getAccessor(e.attributes.NORMAL,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for NORMAL vertex attribute, but found \"+X[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"NORMAL vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(w,n)}async getTangentData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TANGENT,\"No TANGENT vertex data found.\");const n=await this.getAccessor(e.attributes.TANGENT,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for TANGENT vertex attribute, but found \"+X[n.componentType]),r.errorUnsupportedIf(4!==n.componentCount,\"TANGENT vertex attribute must have 4 components, but found \"+n.componentCount.toFixed()),new x(n.raw,n.byteOffset,n.byteStride,n.byteOffset+n.byteStride*n.entryCount)}async getTextureCoordinates(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TEXCOORD_0,\"No TEXCOORD_0 vertex data found.\");const n=await this.getAccessor(e.attributes.TEXCOORD_0,t);return r.errorUnsupportedIf(2!==n.componentCount,\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+n.componentCount.toFixed()),5126===n.componentType?this.wrapAccessor(O,n):(r.errorUnsupportedIf(!n.normalized,\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\"),J(n))}async getVertexColors(e,t){const r=this.errorContext;r.assert(null!=e.attributes.COLOR_0,\"No COLOR_0 vertex data found.\");const n=await this.getAccessor(e.attributes.COLOR_0,t);if(r.errorUnsupportedIf(4!==n.componentCount&&3!==n.componentCount,\"COLOR_0 attribute must have 3 or 4 components, but found \"+n.componentCount.toFixed()),4===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(x,n);if(5121===n.componentType)return this.wrapAccessor(C,n);if(5123===n.componentType)return this.wrapAccessor(g,n)}else if(3===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(w,n);if(5121===n.componentType)return this.wrapAccessor(N,n);if(5123===n.componentType)return this.wrapAccessor(U,n)}r.errorUnsupported(\"Unsupported component type for COLOR_0 attribute: \"+X[n.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){let n=this.materialCache.get(e.material);if(!n){const s=null!=e.material?E(this.json.materials[e.material]):E(),o=s.pbrMetallicRoughness,a=this.hasVertexColors(e),i=this.getTexture(o.baseColorTexture,t),u=this.getTexture(s.normalTexture,t),c=r?this.getTexture(s.occlusionTexture,t):null,p=r?this.getTexture(s.emissiveTexture,t):null,f=r?this.getTexture(o.metallicRoughnessTexture,t):null,d=null!=e.material?e.material:-1;n={alphaMode:s.alphaMode,alphaCutoff:s.alphaCutoff,color:o.baseColorFactor,doubleSided:!!s.doubleSided,colorTexture:await i,normalTexture:await u,name:s.name,id:d,occlusionTexture:await c,emissiveTexture:await p,emissiveFactor:s.emissiveFactor,metallicFactor:o.metallicFactor,roughnessFactor:o.roughnessFactor,metallicRoughnessTexture:await f,vertexColors:a,ESRI_externalColorMixMode:s.extras.ESRI_externalColorMixMode}}return n}async getTexture(e,r){if(!e)return null;this.errorContext.errorUnsupportedIf(0!==(e.texCoord||0),\"Only TEXCOORD with index 0 is supported.\");const n=e.index,s=this.errorContext,o=this.json.textures[n],a=M(null!=o.sampler?this.json.samplers[o.sampler]:{});s.errorUnsupportedIf(null==o.source,\"Source is expected to be defined for a texture.\");const i=this.json.images[o.source],u=await this.loadTextureImageData(n,o,r);return t(this.textureCache,n,(()=>{const e=e=>33071===e||33648===e||10497===e,t=e=>(s.error(`Unexpected TextureSampler WrapMode: ${e}. Using default REPEAT(10497).`),10497);return{data:u,wrapS:e(a.wrapS)?a.wrapS:t(a.wrapS),wrapT:e(a.wrapT)?a.wrapT:t(a.wrapT),minFilter:a.minFilter,name:i.name,id:n}}))}getNodeTransform(e){if(void 0===e)return P;let t=this.nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this.getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=u(d(),r,n.matrix):n.translation||n.rotation||n.scale?(t=l(r),n.translation&&c(t,t,n.translation),n.rotation&&(F[3]=m(F,n.rotation),p(t,t,F[3],F)),n.scale&&f(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}resolveUri(e){return o(e,this.baseUri)}getNodeParent(e){return this.nodeParentMap.get(e)}checkVersionSupported(){const e=a.parse(this.json.asset.version,\"glTF\");_.validate(e)}checkRequiredExtensionsSupported(){const e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported(\"gltf loader was not able to load unsupported feature. Required extensions: \"+e.extensionsRequired.join(\", \"))}computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this.nodeParentMap.set(e,t)}))}))}async loadTextureImageData(e,t,r){const n=this.textureLoaders.get(e);if(n)return n;const s=this.createTextureLoader(t,r);return this.textureLoaders.set(e,s),s}async createTextureLoader(e,t){const r=this.json.images[e.source];if(r.uri)return this.context.loadImage(this.resolveUri(r.uri),t);const n=this.errorContext;n.errorUnsupportedIf(null==r.bufferView,\"Image bufferView must be defined.\"),n.errorUnsupportedIf(null==r.mimeType,\"Image mimeType must be defined.\");const s=this.json.bufferViews[r.bufferView],o=await this.getBuffer(s.buffer,t);return n.errorUnsupportedIf(null!=s.byteStride,\"byteStride not supported for image buffer\"),H(new Uint8Array(o.buffer,o.byteOffset+(s.byteOffset||0),s.byteLength),r.mimeType)}}const _=new a(2,0,\"glTF\"),P=i(d(),Math.PI/2),F=h(),k={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},V={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function J(t){switch(t.componentType){case 5120:return new B(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5121:return new L(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5122:return new I(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5123:return new A(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5125:return new S(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5126:return new O(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);default:return void e(t.componentType)}}async function q(e){return new Promise(((t,r)=>{const n=new Blob([e]),s=new FileReader;s.onload=()=>{const e=s.result;t(JSON.parse(e))},s.onerror=e=>{r(e)},s.readAsText(n)}))}async function H(e,t){return new Promise(((r,n)=>{const s=new Blob([e],{type:t}),o=URL.createObjectURL(s),a=new Image;a.addEventListener(\"load\",(()=>{URL.revokeObjectURL(o),\"decode\"in a?a.decode().then((()=>r(a)),(()=>r(a))):r(a)})),a.addEventListener(\"error\",(e=>{URL.revokeObjectURL(o),n(e)})),a.src=o}))}const X={5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\"};export{G as Resource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as o}from\"../../../chunks/mat4f64.js\";import{DefaultErrorContext as s}from\"./DefaultErrorContext.js\";import{makeMaterialParameters as r,makeTextureSource as a}from\"./LoaderResult.js\";import{Resource as n}from\"./internal/Resource.js\";let i=0;async function l(s,r,a={},l=!0){const m=await n.load(s,p,r,a),x=\"gltf_\"+i++,h={lods:[],materials:new Map,textures:new Map,meta:u(m)},T=!(!m.json.asset.extras||\"symbolResource\"!==m.json.asset.extras.ESRI_type),g=new Map;await c(m,(async(s,r,n,i)=>{var u;const c=null!=(u=g.get(n))?u:0;g.set(n,c+1);const T=void 0!==s.mode?s.mode:4,S=4===T||5===T||6===T?T:null;if(t(S))return void p.warnUnsupported(\"Unsupported primitive mode (\"+f[T]+\"). Skipping primitive.\");if(!m.hasPositions(s))return void p.warn(\"Skipping primitive without POSITION vertex attribute.\");const v=m.getPositionData(s,a),w=m.getMaterial(s,a,l),_=m.hasNormals(s)?m.getNormalData(s,a):null,I=m.hasTangents(s)?m.getTangentData(s,a):null,R=m.hasTextureCoordinates(s)?m.getTextureCoordinates(s,a):null,E=m.hasVertexColors(s)?m.getVertexColors(s,a):null,M=m.getIndexData(s,a),F={transform:o(r),attributes:{position:await v,normal:_?await _:null,texCoord0:R?await R:null,color:E?await E:null,tangent:I?await I:null},indices:await M,primitiveType:S,material:d(h,await w,x)};let y=null;e(h.meta)&&e(h.meta.ESRI_lod)&&\"screenSpaceRadius\"===h.meta.ESRI_lod.metric&&(y=h.meta.ESRI_lod.thresholds[n]),h.lods[n]=h.lods[n]||{parts:[],name:i,lodThreshold:y},h.lods[n].parts[c]=F}));for(const e of h.lods)e.parts=e.parts.filter((e=>!!e));return{model:h,meta:{isEsriSymbolResource:T,uri:m.uri},customMeta:{}}}function u(t){const o=t.json;let s=null;return o.nodes.forEach((t=>{const o=t.extras;e(o)&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(s=o)})),s}async function c(e,t){const o=e.json,s=o.scenes[o.scene||0].nodes,r=s.length>1,a=[];for(const i of s){const e=o.nodes[i];if(a.push(n(i,0)),m(e)&&!r){e.extensions.MSFT_lod.ids.forEach(((e,t)=>n(e,t+1)))}}async function n(s,r){const i=o.nodes[s],l=e.getNodeTransform(s);if(p.warnUnsupportedIf(null!=i.weights,\"Morph targets are not supported.\"),null!=i.mesh){const e=o.meshes[i.mesh];for(const o of e.primitives)a.push(t(o,l,r,e.name))}for(const e of i.children||[])a.push(n(e,r))}await Promise.all(a)}function m(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function d(e,t,o){const s=t=>{const s=`${o}_tex_${t&&t.id}${t&&t.name?\"_\"+t.name:\"\"}`;if(t&&!e.textures.has(s)){const o=a(t.data,{wrap:{s:t.wrapS,t:t.wrapT},mipmap:x.some((e=>e===t.minFilter)),noUnpackFlip:!0});e.textures.set(s,o)}return s},n=`${o}_mat_${t.id}_${t.name}`;if(!e.materials.has(n)){const o=r({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?s(t.colorTexture):void 0,textureNormal:t.normalTexture?s(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?s(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?s(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?s(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(n,o)}return n}const p=new s,x=[9987,9985],f=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"];export{l as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,n.some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(r)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(l)||null!=a.match(s)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}function o(c){c=c||globalThis.location.hostname;return[/^zrh-.+?\\.esri\\.com$/].concat(n).some((a=>{var o;return null!=(null==(o=c)?void 0:o.match(a))}))}const t=/^devext.arcgis.com$/,l=/^qaext.arcgis.com$/,r=/^[\\w-]*\\.mapsdevext.arcgis.com$/,s=/^[\\w-]*\\.mapsqa.arcgis.com$/,n=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,l,/^jsapps.esri.com$/,r,s];export{a as adjustStaticAGOUrl,c as isDevEnvironment,o as isTelemetryDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,t,n){const d=e.typedBuffer,f=e.typedBufferStride,o=t.typedBuffer,r=t.typedBufferStride,u=n?n.count:t.count;let l=(n&&n.dstIndex?n.dstIndex:0)*f,c=(n&&n.srcIndex?n.srcIndex:0)*r;for(let s=0;s<u;++s)d[l]=o[c],d[l+1]=o[c+1],d[l+2]=o[c+2],l+=f,c+=r}function t(e,t,n,d,f){var o,r;const u=e.typedBuffer,l=e.typedBufferStride,c=null!=(o=null==f?void 0:f.count)?o:e.count;let s=(null!=(r=null==f?void 0:f.dstIndex)?r:0)*l;for(let p=0;p<c;++p)u[s]=t,u[s+1]=n,u[s+2]=d,s+=l}const n=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"./Error.js\";class r{constructor(t,r,o=\"\"){this.major=t,this.minor=r,this._context=o}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}since(t,r){return!this.lessThan(t,r)}validate(r){if(this.major!==r.major){const o=this._context&&this._context+\":\",s=this._context&&this._context+\" \";throw new t(o+\"unsupported-version\",`Required major ${s}version is '${this.major}', but got '\\${version.major}.\\${version.minor}'`,{version:r})}}clone(){return new r(this.major,this.minor,this._context)}static parse(o,s=\"\"){const[e,i]=o.split(\".\"),n=/^\\s*\\d+\\s*$/;if(!e||!e.match||!e.match(n)){throw new t((s&&s+\":\")+\"invalid-version\",\"Expected major version to be a number, but got '${version}'\",{version:o})}if(!i||!i.match||!i.match(n)){throw new t((s&&s+\":\")+\"invalid-version\",\"Expected minor version to be a number, but got '${version}'\",{version:o})}const a=parseInt(e,10),h=parseInt(i,10);return new r(a,h,s)}}export{r as Version};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Logger.js\";const e=r.getLogger(\"esri.views.3d.support.buffer.math\");export{e as logger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{logger as t}from\"../geometry/support/buffer/math/common.js\";function e(e,f,r){if(e.count!==f.count)return void t.error(\"source and destination buffers need to have the same number of elements\");const o=e.count,n=r[0],u=r[1],d=r[2],s=r[4],c=r[5],i=r[6],a=r[8],p=r[9],y=r[10],B=r[12],m=r[13],h=r[14],l=e.typedBuffer,S=e.typedBufferStride,b=f.typedBuffer,M=f.typedBufferStride;for(let t=0;t<o;t++){const e=t*S,f=t*M,r=b[f],o=b[f+1],v=b[f+2];l[e]=n*r+s*o+a*v+B,l[e+1]=u*r+c*o+p*v+m,l[e+2]=d*r+i*o+y*v+h}}function f(e,f,r){if(e.count!==f.count)return void t.error(\"source and destination buffers need to have the same number of elements\");const o=e.count,n=r[0],u=r[1],d=r[2],s=r[3],c=r[4],i=r[5],a=r[6],p=r[7],y=r[8],B=e.typedBuffer,m=e.typedBufferStride,h=f.typedBuffer,l=f.typedBufferStride;for(let t=0;t<o;t++){const e=t*m,f=t*l,r=h[f],o=h[f+1],S=h[f+2];B[e]=n*r+s*o+a*S,B[e+1]=u*r+c*o+p*S,B[e+2]=d*r+i*o+y*S}}function r(t,e,f){const r=Math.min(t.count,e.count),o=t.typedBuffer,n=t.typedBufferStride,u=e.typedBuffer,d=e.typedBufferStride;for(let s=0;s<r;s++){const t=s*n,e=s*d;o[t]=f*u[e],o[t+1]=f*u[e+1],o[t+2]=f*u[e+2]}}function o(t,e){const f=Math.min(t.count,e.count),r=t.typedBuffer,o=t.typedBufferStride,n=e.typedBuffer,u=e.typedBufferStride;for(let d=0;d<f;d++){const t=d*o,e=d*u,f=n[e],s=n[e+1],c=n[e+2],i=Math.sqrt(f*f+s*s+c*c);if(i>0){const e=1/i;r[t]=e*f,r[t+1]=e*s,r[t+2]=e*c}}}function n(t,e,f){const r=Math.min(t.count,e.count),o=t.typedBuffer,n=t.typedBufferStride,u=e.typedBuffer,d=e.typedBufferStride;for(let s=0;s<r;s++){const t=s*n,e=s*d;o[t]=u[e]>>f,o[t+1]=u[e+1]>>f,o[t+2]=u[e+2]>>f}}const u=Object.freeze({__proto__:null,transformMat4:e,transformMat3:f,scale:r,normalize:o,shiftRight:n});export{f as a,n as b,o as n,r as s,e as t,u as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../../core/has.js\";import{glsl as c}from\"../../shaderModules/interfaces.js\";function i({code:e},i){i.doublePrecisionRequiresObfuscation?e.add(c`vec3 dpPlusFrc(vec3 a, vec3 b) {\nreturn mix(a, a + b, vec3(notEqual(b, vec3(0))));\n}\nvec3 dpMinusFrc(vec3 a, vec3 b) {\nreturn mix(vec3(0), a - b, vec3(notEqual(a, b)));\n}\nvec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 t1 = dpPlusFrc(hiA, hiB);\nvec3 e = dpMinusFrc(t1, hiA);\nvec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\nreturn t1 + t2;\n}`):e.add(c`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 t1 = hiA + hiB;\nvec3 e = t1 - hiA;\nvec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\nreturn t1 + t2;\n}`)}function r(c){return!!e(\"force-double-precision-obfuscation\")||c.driverTest.doublePrecisionRequiresObfuscation}export{i as DoublePrecision,r as doublePrecisionRequiresObfuscation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../../../core/shaderModules/interfaces.js\";function l(l){l.vertex.code.add(o`\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ${o.int(3)};\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ${o.int(4)};\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ${o.int(1)};\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  `)}export{l as DecodeSymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{DecodeSymbolColor as o}from\"../../../collections/Component/Material/shader/DecodeSymbolColor.glsl.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";function r(r,l){l.symbolColor?(r.include(o),r.attributes.add(\"symbolColor\",\"vec4\"),r.varyings.add(\"colorMixMode\",\"mediump float\")):r.fragment.uniforms.add(\"colorMixMode\",\"int\"),l.symbolColor?r.vertex.code.add(e`int symbolColorMixMode;\nvec4 getSymbolColor() {\nreturn decodeSymbolColor(symbolColor, symbolColorMixMode) * 0.003921568627451;\n}\nvoid forwardColorMixMode() {\ncolorMixMode = float(symbolColorMixMode) + 0.5;\n}`):r.vertex.code.add(e`vec4 getSymbolColor() { return vec4(1.0); }\nvoid forwardColorMixMode() {}`)}export{r as SymbolColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o,t){const r=o.fragment;t.receiveAmbientOcclusion?(r.uniforms.add(\"ssaoTex\",\"sampler2D\"),r.uniforms.add(\"viewportPixelSz\",\"vec4\"),r.code.add(e`float evaluateAmbientOcclusion() {\nreturn 1.0 - texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\n}\nfloat evaluateAmbientOcclusionInverse() {\nfloat ssao = texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\nreturn viewportPixelSz.z < 0.0 ? 1.0 : ssao;\n}`)):r.code.add(e`float evaluateAmbientOcclusion() { return 0.0; }\nfloat evaluateAmbientOcclusionInverse() { return 1.0; }`)}export{o as EvaluateAmbientOcclusion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.extensions.add(\"GL_EXT_shader_texture_lod\"),t.extensions.add(\"GL_OES_standard_derivatives\"),t.fragment.code.add(e`#ifndef GL_EXT_shader_texture_lod\nfloat calcMipMapLevel(const vec2 ddx, const vec2 ddy) {\nfloat deltaMaxSqr = max(dot(ddx, ddx), dot(ddy, ddy));\nreturn max(0.0, 0.5 * log2(deltaMaxSqr));\n}\n#endif\nvec4 textureAtlasLookup(sampler2D texture, vec2 textureSize, vec2 textureCoordinates, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;\nfloat maxdUV = 0.125;\nvec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\nvec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;\n#ifdef GL_EXT_shader_texture_lod\nreturn texture2DGradEXT(texture, uvAtlas, dUVdx, dUVdy);\n#else\nvec2 dUVdxAuto = dFdx(uvAtlas);\nvec2 dUVdyAuto = dFdy(uvAtlas);\nfloat mipMapLevel = calcMipMapLevel(dUVdx * textureSize, dUVdy * textureSize);\nfloat autoMipMapLevel = calcMipMapLevel(dUVdxAuto * textureSize, dUVdyAuto * textureSize);\nreturn texture2D(texture, uvAtlas, mipMapLevel - autoMipMapLevel);\n#endif\n}`)}export{t as TextureAtlasLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{TextureCoordinateAttribute as e}from\"./TextureCoordinateAttribute.glsl.js\";import{TextureAtlasLookup as t}from\"../util/TextureAtlasLookup.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function u(u,a){u.include(e,a),u.fragment.code.add(r`\n  struct TextureLookupParameter {\n    vec2 uv;\n    ${a.supportsTextureAtlas?\"vec2 size;\":\"\"}\n  } vtc;\n  `),1===a.attributeTextureCoordinates&&u.fragment.code.add(r`vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\nreturn texture2D(tex, params.uv);\n}`),2===a.attributeTextureCoordinates&&(u.include(t),u.fragment.code.add(r`vec4 textureLookup(sampler2D tex, TextureLookupParameter params) {\nreturn textureAtlasLookup(tex, params.size, params.uv, vuvRegion);\n}`))}export{u as VertexTextureCoordinates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,t,n){const r=e.typedBuffer,o=e.typedBufferStride,c=t.typedBuffer,d=t.typedBufferStride,f=n?n.count:t.count;let s=(n&&n.dstIndex?n.dstIndex:0)*o,u=(n&&n.srcIndex?n.srcIndex:0)*d;for(let p=0;p<f;++p)r[s]=c[u],s+=o,u+=d}function t(e,t){const n=e.count;t||(t=new e.TypedArrayConstructor(n));for(let r=0;r<n;r++)t[r]=e.get(r);return t}const n=Object.freeze({__proto__:null,copy:e,makeDense:t});export{e as c,t as m,n as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as o}from\"../../../../../../chunks/mat3f64.js\";import{c as r}from\"../../../../../../chunks/mat4f64.js\";import{c as e}from\"../../../../../../chunks/vec3f64.js\";import{PositionAttribute as i}from\"./PositionAttribute.glsl.js\";import{DoublePrecision as m}from\"../util/DoublePrecision.glsl.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";function d(o,r){o.include(i),o.vertex.include(m,r),o.varyings.add(\"vPositionWorldCameraRelative\",\"vec3\"),o.varyings.add(\"vPosition_view\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromModel_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TH\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.vertex.uniforms.add(\"uTransform_ViewFromCameraRelative_RS\",\"mat3\"),o.vertex.uniforms.add(\"uTransform_ProjFromView\",\"mat4\"),o.vertex.code.add(a`vec3 positionWorldCameraRelative() {\nvec3 rotatedModelPosition = uTransform_WorldFromModel_RS * positionModel();\nvec3 transform_CameraRelativeFromModel = dpAdd(\nuTransform_WorldFromModel_TL,\nuTransform_WorldFromModel_TH,\n-uTransform_WorldFromView_TL,\n-uTransform_WorldFromView_TH\n);\nreturn transform_CameraRelativeFromModel + rotatedModelPosition;\n}\nvec3 position_view() {\nreturn uTransform_ViewFromCameraRelative_RS * positionWorldCameraRelative();\n}\nvoid forwardPosition() {\nvPositionWorldCameraRelative = positionWorldCameraRelative();\nvPosition_view = position_view();\ngl_Position = uTransform_ProjFromView * vec4(vPosition_view, 1.0);\n}\nvec3 positionWorld() {\nreturn uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n}`),o.fragment.uniforms.add(\"uTransform_WorldFromView_TL\",\"vec3\"),o.fragment.code.add(a`vec3 positionWorld() {\nreturn uTransform_WorldFromView_TL + vPositionWorldCameraRelative;\n}`)}!function(i){class m{constructor(){this.worldFromModel_RS=o(),this.worldFromModel_TH=e(),this.worldFromModel_TL=e()}}i.ModelTransform=m;class a{constructor(){this.worldFromView_TH=e(),this.worldFromView_TL=e(),this.viewFromCameraRelative_RS=o(),this.projFromView=r()}}function d(o,r){o.setUniformMatrix3fv(\"uTransform_WorldFromModel_RS\",r.worldFromModel_RS),o.setUniform3fv(\"uTransform_WorldFromModel_TH\",r.worldFromModel_TH),o.setUniform3fv(\"uTransform_WorldFromModel_TL\",r.worldFromModel_TL)}function s(o,r){o.setUniform3fv(\"uTransform_WorldFromView_TH\",r.worldFromView_TH),o.setUniform3fv(\"uTransform_WorldFromView_TL\",r.worldFromView_TL),o.setUniformMatrix4fv(\"uTransform_ProjFromView\",r.projFromView),o.setUniformMatrix3fv(\"uTransform_ViewFromCameraRelative_RS\",r.viewFromCameraRelative_RS)}i.ViewProjectionTransform=a,i.bindModelTransform=d,i.bindViewProjTransform=s}(d||(d={}));export{d as VertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{NormalAttribute as o}from\"./NormalAttribute.glsl.js\";import{VertexPosition as r}from\"./VertexPosition.glsl.js\";import{glsl as a}from\"../../shaderModules/interfaces.js\";function l(l,e){0===e.normalType||1===e.normalType?(l.include(o,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.varyings.add(\"vNormalView\",\"vec3\"),l.vertex.uniforms.add(\"uTransformNormal_GlobalFromModel\",\"mat3\"),l.vertex.uniforms.add(\"uTransformNormal_ViewFromGlobal\",\"mat3\"),l.vertex.code.add(a`void forwardNormal() {\nvNormalWorld = uTransformNormal_GlobalFromModel * normalModel();\nvNormalView = uTransformNormal_ViewFromGlobal * vNormalWorld;\n}`)):2===e.normalType?(l.include(r,e),l.varyings.add(\"vNormalWorld\",\"vec3\"),l.vertex.code.add(a`\n    void forwardNormal() {\n      vNormalWorld = ${1===e.viewingMode?a`normalize(vPositionWorldCameraRelative);`:a`vec3(0.0, 0.0, 1.0);`}\n    }\n    `)):l.vertex.code.add(a`void forwardNormal() {}`)}!function(o){function r(o,r){o.setUniformMatrix4fv(\"viewNormal\",r)}o.bindUniforms=r}(l||(l={}));export{l as VertexNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Slice as o}from\"../Slice.glsl.js\";import{Transform as r}from\"../Transform.glsl.js\";import{NormalAttribute as e}from\"../attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttribute as t}from\"../attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormal as i}from\"../attributes/VertexNormal.glsl.js\";import{OutputDepth as a}from\"../output/OutputDepth.glsl.js\";import{OutputHighlight as l}from\"../output/OutputHighlight.glsl.js\";import{VisualVariables as s}from\"../shading/VisualVariables.glsl.js\";import{DiscardOrAdjustAlpha as d}from\"../util/AlphaDiscard.glsl.js\";import{glsl as n}from\"../../shaderModules/interfaces.js\";function u(u,c){const p=u.vertex.code,v=u.fragment.code;1!==c.output&&3!==c.output||(u.include(r,{linearDepth:!0}),u.include(t,c),u.include(s,c),u.include(a,c),u.include(o,c),u.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),u.varyings.add(\"depth\",\"float\"),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(n`void main(void) {\nvpos = calculateVPos();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPositionWithDepth(proj, view, vpos, cameraNearFar, depth);\nforwardTextureCoordinates();\n}`),u.include(d,c),v.add(n`\n      void main(void) {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?n`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputDepth(depth);\n      }\n    `)),2===c.output&&(u.include(r,{linearDepth:!1}),u.include(e,c),u.include(i,c),u.include(t,c),u.include(s,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),u.vertex.uniforms.add(\"viewNormal\",\"mat4\"),u.varyings.add(\"vPositionView\",\"vec3\"),p.add(n`\n      void main(void) {\n        vpos = calculateVPos();\n        vpos = subtractOrigin(vpos);\n        ${0===c.normalType?n`\n        vNormalWorld = dpNormalView(vvLocalNormal(normalModel()));`:\"\"}\n        vpos = addVerticalOffset(vpos, localOrigin);\n        gl_Position = transformPosition(proj, view, vpos);\n        forwardTextureCoordinates();\n      }\n    `),u.include(o,c),u.include(d,c),v.add(n`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?n`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n\n        ${3===c.normalType?n`\n            vec3 normal = screenDerivativeNormal(vPositionView);`:n`\n            vec3 normal = normalize(vNormalWorld);\n            if (gl_FrontFacing == false) normal = -normal;`}\n        gl_FragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);\n      }\n    `)),4===c.output&&(u.include(r,{linearDepth:!1}),u.include(t,c),u.include(s,c),c.hasColorTexture&&u.fragment.uniforms.add(\"tex\",\"sampler2D\"),p.add(n`void main(void) {\nvpos = calculateVPos();\nvpos = subtractOrigin(vpos);\nvpos = addVerticalOffset(vpos, localOrigin);\ngl_Position = transformPosition(proj, view, vpos);\nforwardTextureCoordinates();\n}`),u.include(o,c),u.include(d,c),u.include(l),v.add(n`\n      void main() {\n        discardBySlice(vpos);\n        ${c.hasColorTexture?n`\n        vec4 texColor = texture2D(tex, vuv0);\n        discardOrAdjustAlpha(texColor);`:\"\"}\n        outputHighlight();\n      }\n    `))}export{u as DefaultMaterialAuxiliaryPasses};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*f,u=(r&&r.srcIndex?r.srcIndex:0)*o;for(let p=0;p<c;++p){for(let e=0;e<9;++e)d[s+e]=n[u+e];s+=f,u+=o}}const t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*f,u=(r&&r.srcIndex?r.srcIndex:0)*o;for(let p=0;p<c;++p){for(let e=0;e<16;++e)d[s+e]=n[u+e];s+=f,u+=o}}const t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../chunks/mat32.js\";export{m as mat4}from\"../../../chunks/mat42.js\";export{s as scalar}from\"../../../chunks/scalar.js\";export{v as vec2}from\"../../../chunks/vec22.js\";export{v as vec3}from\"../../../chunks/vec33.js\";export{v as vec4}from\"../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{result as t}from\"../../../../core/asyncUtils.js\";import r from\"../../../../core/Error.js\";import n from\"../../../../core/Logger.js\";import{isSome as a,unwrap as s}from\"../../../../core/maybe.js\";import{throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Version as i}from\"../../../../core/Version.js\";import{d as u}from\"../../../../chunks/vec3f64.js\";import{empty as l,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as f}from\"../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as d}from\"../../webgl-engine/materials/DefaultMaterial.js\";const y=n.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function x(e,t){const r=await g(e,t);return{resource:r,textures:await A(r.textureDefinitions,t)}}async function g(r,n){const i=a(n)&&n.streamDataRequester;if(i)return h(r,i,n);const u=await t(e(r,s(n)));if(!0===u.ok)return u.value.data;o(u.error),w(u.error)}async function h(e,r,n){const a=await t(r.request(e,\"json\",n));if(!0===a.ok)return a.value;o(a.error),w(a.error.details.url)}function w(e){throw new r(\"\",`Request for object resource failed: ${e}`)}function v(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(y.warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t&&t.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(y.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(y.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(y.warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else y.warn(\"Indexed geometries must specify faces\"),n=!1;break}default:y.warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(y.warn(\"Geometry requires material\"),n=!1);const a=e.params.vertexAttributes;for(const s in a){a[s].values||(y.warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function b(e,t){const r=[],n=[],s=[],o=[],l=e.resource,c=i.parse(l.version||\"1.0\",\"wosr\");I.validate(c);const p=l.model.name,y=l.model.geometries,x=l.materialDefinitions,g=e.textures;let h=0;const w=new Map;for(let i=0;i<y.length;i++){const e=y[i];if(!v(e))continue;const l=M(e),c=e.params.vertexAttributes,p=[];for(const t in c){const e=c[t],r=e.values;p.push([t,{data:r,size:e.valuesPerElement,exclusive:!0}])}const b=[];if(\"PerAttributeArray\"!==e.params.topology){const t=e.params.faces;for(const e in t)b.push([e,new Uint32Array(t[e].values)])}const j=g&&g[l.texture];if(j&&!w.has(l.texture)){const{image:e,params:t}=j,r=new f(e,t);o.push(r),w.set(l.texture,r)}const A=w.get(l.texture),I=A?A.id:void 0;let P=s[l.material]?s[l.material][l.texture]:null;if(!P){const e=x[l.material.substring(l.material.lastIndexOf(\"/\")+1)].params;1===e.transparency&&(e.transparency=0);const r=j&&j.alphaChannelUsage,n=e.transparency>0||\"transparency\"===r||\"maskAndTransparency\"===r,o=j?U(j.alphaChannelUsage):void 0,i={ambient:u(e.diffuse),diffuse:u(e.diffuse),opacity:1-(e.transparency||0),transparent:n,textureAlphaMode:o,textureAlphaCutoff:.33,textureId:I,initTextureTransparent:!0,doubleSided:!0,cullFace:0,colorMixMode:e.externalColorMixMode||\"tint\",textureAlphaPremultiplied:!!j&&!!j.params.preMultiplyAlpha};a(t)&&t.materialParamsMixin&&Object.assign(i,t.materialParamsMixin),P=new d(i),s[l.material]||(s[l.material]={}),s[l.material][l.texture]=P}n.push(P);const T=new m(p,b);h+=b.position?b.position.length:0,r.push(T)}return{name:p,stageResources:{textures:o,materials:n,geometries:r},pivotOffset:l.model.pivotOffset,boundingBox:j(r),numberOfVertices:h,lodThreshold:null}}function j(e){const t=l();return e.forEach((e=>{const r=e.boundingInfo;a(r)&&(c(t,r.getBBMin()),c(t,r.getBBMax()))})),t}async function A(e,t){const r=[];for(const o in e){const n=e[o],s=n.images[0].data;if(!s){y.warn(\"Externally referenced texture data is not yet supported\");continue}const i=n.encoding+\";base64,\"+s,u=\"/textureDefinitions/\"+o,l=\"rgba\"===n.channels?n.alphaChannelUsage||\"transparency\":\"none\",c={noUnpackFlip:!0,wrap:{s:10497,t:10497},preMultiplyAlpha:1!==U(l)},m=a(t)&&t.disableTextures?Promise.resolve(null):p(i,t);r.push(m.then((e=>({refId:u,image:e,params:c,alphaChannelUsage:l}))))}const n=await Promise.all(r),s={};for(const a of n)s[a.refId]=a;return s}function U(e){switch(e){case\"mask\":return 2;case\"maskAndTransparency\":return 3;case\"none\":return 1;default:return 0}}function M(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const I=new i(1,2,\"wosr\");export{A as createTextureResources,x as load,b as processLoadResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{adjustStaticAGOUrl as e}from\"../../../../core/devEnvironmentUtils.js\";import{get as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{a as o}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{b as a}from\"../../../../chunks/mat4.js\";import{c as u}from\"../../../../chunks/mat4f64.js\";import{m as n,f as l,E as c,l as m,n as d,e as f}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{empty as x,expandWithVec3 as g}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as h,BufferViewVec4f as b,BufferViewVec2f as v,BufferViewVec4u8 as R,BufferViewVec4u16 as y,BufferViewVec3u8 as B,BufferViewVec3u16 as M}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as w,a as j,s as C}from\"../../../../chunks/vec32.js\";import{t as E,s as T}from\"../../../../chunks/vec42.js\";import{createBuffer as S}from\"../../../../geometry/support/buffer/utils.js\";import{DefaultLoadingContext as O}from\"../../glTF/DefaultLoadingContext.js\";import{load as F}from\"../../glTF/loader.js\";import{triangleFanToTriangles as A,triangleStripToTriangles as I,trianglesToTriangles as k}from\"../../glTF/internal/indexUtils.js\";import{load as L,processLoadResult as N}from\"./wosrLoader.js\";import{Geometry as P}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as _}from\"../../webgl-engine/lib/Texture.js\";import{DefaultMaterial as z}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{COLOR_GAMMA as D}from\"../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";import{n as V}from\"../../../../chunks/vec22.js\";import{c as W,f as G}from\"../../../../chunks/vec43.js\";import{c as U}from\"../../../../chunks/vec33.js\";async function $(s,o){const i=q(e(s));if(\"wosr\"===i.fileType){const e=await(o.cache?o.cache.loadWOSR(i.url,o):L(i.url,o)),t=N(e,o);return{lods:[t],referenceBoundingBox:t.boundingBox,isEsriSymbolResource:!1,isWosr:!0,remove:e.remove}}const a=await(o.cache?o.cache.loadGLTF(i.url,o,o.usePBR):F(new O(o.streamDataRequester),i.url,o,o.usePBR)),u=t(a.model.meta,\"ESRI_proxyEllipsoid\");a.meta.isEsriSymbolResource&&r(u)&&-1!==a.meta.uri.indexOf(\"/RealisticTrees/\")&&J(a,u);const n=a.meta.isEsriSymbolResource?{usePBR:o.usePBR,isSchematic:!1,treeRendering:a.customMeta.esriTreeRendering,mrrFactors:[0,1,.2]}:{usePBR:o.usePBR,isSchematic:!1,mrrFactors:[0,1,.5]},l={...o.materialParamsMixin,treeRendering:a.customMeta.esriTreeRendering};if(null!=i.specifiedLodIndex){const e=K(a,n,l,i.specifiedLodIndex);let t=e[0].boundingBox;if(0!==i.specifiedLodIndex){t=K(a,n,l,0)[0].boundingBox}return{lods:e,referenceBoundingBox:t,isEsriSymbolResource:a.meta.isEsriSymbolResource,isWosr:!1,remove:a.remove}}const c=K(a,n,l);return{lods:c,referenceBoundingBox:c[0].boundingBox,isEsriSymbolResource:a.meta.isEsriSymbolResource,isWosr:!1,remove:a.remove}}function q(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function K(e,t,s,a){const u=e.model,n=i(),l=new Array,c=new Map,m=new Map;return u.lods.forEach(((e,i)=>{if(void 0!==a&&i!==a)return;const d={name:e.name,stageResources:{textures:new Array,materials:new Array,geometries:new Array},lodThreshold:r(e.lodThreshold)?e.lodThreshold:null,pivotOffset:[0,0,0],numberOfVertices:0,boundingBox:x()};l.push(d),e.parts.forEach((e=>{const i=e.material+(e.attributes.normal?\"_normal\":\"\")+(e.attributes.color?\"_color\":\"\")+(e.attributes.texCoord0?\"_texCoord0\":\"\")+(e.attributes.tangent?\"_tangent\":\"\"),a=u.materials.get(e.material),l=r(e.attributes.texCoord0),f=r(e.attributes.normal),p=Q(a.alphaMode);if(!c.has(i)){if(l){if(r(a.textureColor)&&!m.has(a.textureColor)){const e=u.textures.get(a.textureColor),t={...e.parameters,preMultiplyAlpha:1!==p};m.set(a.textureColor,new _(e.data,t))}if(r(a.textureNormal)&&!m.has(a.textureNormal)){const e=u.textures.get(a.textureNormal);m.set(a.textureNormal,new _(e.data,e.parameters))}if(r(a.textureOcclusion)&&!m.has(a.textureOcclusion)){const e=u.textures.get(a.textureOcclusion);m.set(a.textureOcclusion,new _(e.data,e.parameters))}if(r(a.textureEmissive)&&!m.has(a.textureEmissive)){const e=u.textures.get(a.textureEmissive);m.set(a.textureEmissive,new _(e.data,e.parameters))}if(r(a.textureMetallicRoughness)&&!m.has(a.textureMetallicRoughness)){const e=u.textures.get(a.textureMetallicRoughness);m.set(a.textureMetallicRoughness,new _(e.data,e.parameters))}}const o=a.color[0]**(1/D),n=a.color[1]**(1/D),d=a.color[2]**(1/D),x=a.emissiveFactor[0]**(1/D),g=a.emissiveFactor[1]**(1/D),h=a.emissiveFactor[2]**(1/D),b=r(a.textureColor)&&l?m.get(a.textureColor):null;c.set(i,new z({...t,transparent:0===p,textureAlphaMode:p,textureAlphaCutoff:a.alphaCutoff,diffuse:[o,n,d],ambient:[o,n,d],opacity:a.opacity,doubleSided:a.doubleSided,doubleSidedType:\"winding-order\",cullFace:a.doubleSided?0:2,vertexColors:!!e.attributes.color,vertexTangents:!!e.attributes.tangent,normals:f?\"default\":\"screenDerivative\",castShadows:!0,receiveSSAO:!0,textureId:r(b)?b.id:void 0,colorMixMode:a.colorMixMode,normalTextureId:r(a.textureNormal)&&l?m.get(a.textureNormal).id:void 0,textureAlphaPremultiplied:r(b)&&!!b.params.preMultiplyAlpha,occlusionTextureId:r(a.textureOcclusion)&&l?m.get(a.textureOcclusion).id:void 0,emissiveTextureId:r(a.textureEmissive)&&l?m.get(a.textureEmissive).id:void 0,metallicRoughnessTextureId:r(a.textureMetallicRoughness)&&l?m.get(a.textureMetallicRoughness).id:void 0,emissiveFactor:[x,g,h],mrrFactors:[a.metallicFactor,a.roughnessFactor,t.mrrFactors[2]],isSchematic:!1,...s}))}const x=H(e.indices||e.attributes.position.count,e.primitiveType),O=e.attributes.position.count,F=S(h,O);w(F,e.attributes.position,e.transform);const A=[[\"position\",{data:F.typedBuffer,size:F.elementCount,exclusive:!0}]],I=[[\"position\",x]];if(r(e.attributes.normal)){const t=S(h,O);o(n,e.transform),j(t,e.attributes.normal,n),A.push([\"normal\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"normal\",x])}if(r(e.attributes.tangent)){const t=S(b,O);o(n,e.transform),E(t,e.attributes.tangent,n),A.push([\"tangent\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"tangent\",x])}if(r(e.attributes.texCoord0)){const t=S(v,O);V(t,e.attributes.texCoord0),A.push([\"uv0\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"uv0\",x])}if(r(e.attributes.color)){const t=S(R,O);if(4===e.attributes.color.elementCount)e.attributes.color instanceof b?T(t,e.attributes.color,255):e.attributes.color instanceof R?W(t,e.attributes.color):e.attributes.color instanceof y&&T(t,e.attributes.color,1/256);else{G(t,255,255,255,255);const r=new B(t.buffer,0,4);e.attributes.color instanceof h?C(r,e.attributes.color,255):e.attributes.color instanceof B?U(r,e.attributes.color):e.attributes.color instanceof M&&C(r,e.attributes.color,1/256)}A.push([\"color\",{data:t.typedBuffer,size:t.elementCount,exclusive:!0}]),I.push([\"color\",x])}const k=new P(A,I);d.stageResources.geometries.push(k),d.stageResources.materials.push(c.get(i)),l&&(r(a.textureColor)&&d.stageResources.textures.push(m.get(a.textureColor)),r(a.textureNormal)&&d.stageResources.textures.push(m.get(a.textureNormal)),r(a.textureOcclusion)&&d.stageResources.textures.push(m.get(a.textureOcclusion)),r(a.textureEmissive)&&d.stageResources.textures.push(m.get(a.textureEmissive)),r(a.textureMetallicRoughness)&&d.stageResources.textures.push(m.get(a.textureMetallicRoughness))),d.numberOfVertices+=O;const L=k.boundingInfo;r(L)&&(g(d.boundingBox,L.getBBMin()),g(d.boundingBox,L.getBBMax()))}))})),l}function Q(e){switch(e){case\"BLEND\":return 0;case\"MASK\":return 2;case\"OPAQUE\":case null:case void 0:return 1}}function H(e,t){switch(t){case 4:return k(e);case 5:return I(e);case 6:return A(e)}}function J(e,t){for(let r=0;r<e.model.lods.length;++r){const o=e.model.lods[r];e.customMeta.esriTreeRendering=!0;for(const i of o.parts){const o=i.attributes.normal;if(s(o))return;const x=i.attributes.position,g=x.count,b=p(),v=p(),y=p(),B=S(R,g),M=S(h,g),w=a(u(),i.transform);for(let s=0;s<g;s++){x.getVec(s,v),o.getVec(s,b),n(v,v,i.transform),l(y,v,t.center),c(y,y,t.radius);const a=y[2],u=m(y),p=Math.min(.45+.55*u*u,1);c(y,y,t.radius),n(y,y,w),d(y,y),r+1!==e.model.lods.length&&e.model.lods.length>1&&f(y,y,b,a>-1?.2:Math.min(-4*a-3.8,1)),M.setVec(s,y),B.set(s,0,255*p),B.set(s,1,255*p),B.set(s,2,255*p),B.set(s,3,255)}i.attributes.normal=M,i.attributes.color=B}}}export{$ as fetch,K as gltfToEngineResources,q as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../../../chunks/vec3f32.js\";import{VertexTextureCoordinates as s}from\"../attributes/VertexTextureCoordinates.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";const t=e(0,.6,.2);function r(e,t){const r=e.fragment,a=t.hasMetalnessAndRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture;1===t.pbrMode&&a&&e.include(s,t),2!==t.pbrMode?(0===t.pbrMode&&r.code.add(o`float getBakedOcclusion() { return 1.0; }`),1===t.pbrMode&&(r.uniforms.add(\"emissionFactor\",\"vec3\"),r.uniforms.add(\"mrrFactors\",\"vec3\"),r.code.add(o`vec3 mrr;\nvec3 emission;\nfloat occlusion;`),t.hasMetalnessAndRoughnessTexture&&(r.uniforms.add(\"texMetallicRoughness\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texMetallicRoughnessSize\",\"vec2\"),r.code.add(o`void applyMetallnessAndRoughness(TextureLookupParameter params) {\nvec3 metallicRoughness = textureLookup(texMetallicRoughness, params).rgb;\nmrr[0] *= metallicRoughness.b;\nmrr[1] *= metallicRoughness.g;\n}`)),t.hasEmissionTexture&&(r.uniforms.add(\"texEmission\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texEmissionSize\",\"vec2\"),r.code.add(o`void applyEmission(TextureLookupParameter params) {\nemission *= textureLookup(texEmission, params).rgb;\n}`)),t.hasOcclusionTexture?(r.uniforms.add(\"texOcclusion\",\"sampler2D\"),t.supportsTextureAtlas&&r.uniforms.add(\"texOcclusionSize\",\"vec2\"),r.code.add(o`void applyOcclusion(TextureLookupParameter params) {\nocclusion *= textureLookup(texOcclusion, params).r;\n}\nfloat getBakedOcclusion() {\nreturn occlusion;\n}`)):r.code.add(o`float getBakedOcclusion() { return 1.0; }`),r.code.add(o`\n    void applyPBRFactors() {\n      mrr = mrrFactors;\n      emission = emissionFactor;\n      occlusion = 1.0;\n      ${a?\"vtc.uv = vuv0;\":\"\"}\n      ${t.hasMetalnessAndRoughnessTexture?t.supportsTextureAtlas?\"vtc.size = texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);\":\"applyMetallnessAndRoughness(vtc);\":\"\"}\n      ${t.hasEmissionTexture?t.supportsTextureAtlas?\"vtc.size = texEmissionSize; applyEmission(vtc);\":\"applyEmission(vtc);\":\"\"}\n      ${t.hasOcclusionTexture?t.supportsTextureAtlas?\"vtc.size = texOcclusionSize; applyOcclusion(vtc);\":\"applyOcclusion(vtc);\":\"\"}\n    }\n  `))):r.code.add(o`const vec3 mrr = vec3(0.0, 0.6, 0.2);\nconst vec3 emission = vec3(0.0);\nfloat occlusion = 1.0;\nvoid applyPBRFactors() {}\nfloat getBakedOcclusion() { return 1.0; }`)}function a(e,s,o=!1){o||(e.setUniform3fv(\"mrrFactors\",s.mrrFactors),e.setUniform3fv(\"emissionFactor\",s.emissiveFactor))}export{t as PBRSchematicMRRValues,r as PhysicallyBasedRenderingParameters,a as bindPBRUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as a}from\"../../shaderModules/interfaces.js\";function r(r,e){const m=r.fragment;m.code.add(a`struct ShadingNormalParameters {\nvec3 normalView;\nvec3 viewDirection;\n} shadingParams;`),1===e.doubleSidedMode?m.code.add(a`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn dot(params.normalView, params.viewDirection) > 0.0 ? normalize(-params.normalView) : normalize(params.normalView);\n}`):2===e.doubleSidedMode?m.code.add(a`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn gl_FrontFacing ? normalize(params.normalView) : normalize(-params.normalView);\n}`):m.code.add(a`vec3 shadingNormal(ShadingNormalParameters params) {\nreturn normalize(params.normalView);\n}`)}export{r as Normals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.attributes.add(\"position\",\"vec3\"),o.vertex.code.add(e`vec3 positionModel() { return position; }`)}export{o as PositionAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Offset as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Offset.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{InstancedDoublePrecision as i}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{NormalAttribute as l}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{PositionAttribute as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js\";import{SymbolColor as d}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/SymbolColor.glsl.js\";import{TextureCoordinateAttribute as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexColor as s}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js\";import{VerticalOffset as c}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{DefaultMaterialAuxiliaryPasses as g}from\"../views/3d/webgl-engine/core/shaderLibrary/default/DefaultMaterialAuxiliaryPasses.glsl.js\";import{ReadLinearDepth as m}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{EvaluateAmbientOcclusion as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js\";import{EvaluateSceneLighting as p}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js\";import{multipassTerrainTest as u}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{PhysicallyBasedRendering as b}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js\";import{PhysicallyBasedRenderingParameters as f}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{ReadShadowMap as h}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{VisualVariables as w}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as x,DiscardOrAdjustAlpha as y}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{MixExternalColor as C}from\"../views/3d/webgl-engine/core/shaderLibrary/util/MixExternalColor.glsl.js\";import{glsl as L}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as M}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function j(j){const E=new M,O=E.vertex.code,_=E.fragment.code;return E.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\"),E.include(t),E.varyings.add(\"vpos\",\"vec3\"),E.include(w,j),E.include(i,j),E.include(c,j),0!==j.output&&7!==j.output||(E.include(l,j),E.include(a,{linearDepth:!1}),j.offsetBackfaces&&E.include(o),j.instancedColor&&E.attributes.add(\"instanceColor\",\"vec4\"),E.varyings.add(\"vNormalWorld\",\"vec3\"),E.varyings.add(\"localvpos\",\"vec3\"),j.multipassTerrainEnabled&&E.varyings.add(\"depth\",\"float\"),E.include(n,j),E.include(e,j),E.include(d,j),E.include(s,j),E.vertex.uniforms.add(\"externalColor\",\"vec4\"),E.varyings.add(\"vcolorExt\",\"vec4\"),O.add(L`\n        void main(void) {\n          forwardNormalizedVertexColor();\n          vcolorExt = externalColor;\n          ${j.instancedColor?\"vcolorExt *= instanceColor;\":\"\"}\n          vcolorExt *= vvColor();\n          vcolorExt *= getSymbolColor();\n          forwardColorMixMode();\n\n          if (vcolorExt.a < ${L.float(x)}) {\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          }\n          else {\n            vpos = calculateVPos();\n            localvpos = vpos - view[3].xyz;\n            vpos = subtractOrigin(vpos);\n            vNormalWorld = dpNormal(vvLocalNormal(normalModel()));\n            vpos = addVerticalOffset(vpos, localOrigin);\n            gl_Position = transformPosition(proj, view, vpos);\n            ${j.offsetBackfaces?\"gl_Position = offsetBackfacingClipPosition(gl_Position, vpos, vNormalWorld, camPos);\":\"\"}\n          }\n          ${j.multipassTerrainEnabled?L`depth = (view * vec4(vpos, 1.0)).z;`:\"\"}\n          forwardLinearDepth();\n          forwardTextureCoordinates();\n        }\n      `)),7===j.output&&(E.include(r,j),E.include(y,j),j.multipassTerrainEnabled&&(E.fragment.include(m),E.include(u,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.fragment.include(C),_.add(L`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?L`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?L`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:L`vec4 texColor = vec4(1.0);`}\n        ${j.attributeColor?L`\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:L`\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n\n        gl_FragColor = vec4(opacity_);\n      }\n    `)),0===j.output&&(E.include(r,j),E.include(p,j),E.include(v,j),E.include(y,j),j.receiveShadows&&E.include(h,j),j.multipassTerrainEnabled&&(E.fragment.include(m),E.include(u,j)),E.fragment.uniforms.add(\"camPos\",\"vec3\").add(\"localOrigin\",\"vec3\").add(\"ambient\",\"vec3\").add(\"diffuse\",\"vec3\").add(\"opacity\",\"float\").add(\"layerOpacity\",\"float\"),E.fragment.uniforms.add(\"view\",\"mat4\"),j.hasColorTexture&&E.fragment.uniforms.add(\"tex\",\"sampler2D\"),E.include(f,j),E.include(b,j),E.fragment.include(C),_.add(L`\n      void main() {\n        discardBySlice(vpos);\n        ${j.multipassTerrainEnabled?L`terrainDepthTest(gl_FragCoord, depth);`:\"\"}\n        ${j.hasColorTexture?L`\n        vec4 texColor = texture2D(tex, vuv0);\n        ${j.textureAlphaPremultiplied?\"texColor.rgb /= texColor.a;\":\"\"}\n        discardOrAdjustAlpha(texColor);`:L`vec4 texColor = vec4(1.0);`}\n        vec3 viewDirection = normalize(vpos - camPos);\n        ${1===j.pbrMode?\"applyPBRFactors();\":\"\"}\n        float ssao = evaluateAmbientOcclusionInverse();\n        ssao *= getBakedOcclusion();\n\n        float additionalAmbientScale = additionalDirectedAmbientLight(vpos + localOrigin);\n        vec3 additionalLight = ssao * lightingMainIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;\n        ${j.receiveShadows?\"float shadow = readShadowMap(vpos, linearDepth);\":1===j.viewingMode?\"float shadow = lightingGlobalFactor * (1.0 - additionalAmbientScale);\":\"float shadow = 0.0;\"}\n        vec3 matColor = max(ambient, diffuse);\n        ${j.attributeColor?L`\n        vec3 albedo_ = mixExternalColor(vColor.rgb * matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(vColor.a * opacity, texColor.a, vcolorExt.a, int(colorMixMode));`:L`\n        vec3 albedo_ = mixExternalColor(matColor, texColor.rgb, vcolorExt.rgb, int(colorMixMode));\n        float opacity_ = layerOpacity * mixExternalOpacity(opacity, texColor.a, vcolorExt.a, int(colorMixMode));\n        `}\n        ${L`\n        vec3 shadedNormal = normalize(vNormalWorld);\n        albedo_ *= 1.2;\n        vec3 viewForward = vec3(view[0][2], view[1][2], view[2][2]);\n        float alignmentLightView = clamp(dot(viewForward, -lightingMainDirection), 0.0, 1.0);\n        float transmittance = 1.0 - clamp(dot(viewForward, shadedNormal), 0.0, 1.0);\n        float treeRadialFalloff = vColor.r;\n        float backLightFactor = 0.5 * treeRadialFalloff * alignmentLightView * transmittance * (1.0 - shadow);\n        additionalLight += backLightFactor * lightingMainIntensity;`}\n        ${1===j.pbrMode||2===j.pbrMode?1===j.viewingMode?L`vec3 normalGround = normalize(vpos + localOrigin);`:L`vec3 normalGround = vec3(0.0, 0.0, 1.0);`:L``}\n        ${1===j.pbrMode||2===j.pbrMode?L`\n            float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * lightingMainIntensity[2];\n            vec3 shadedColor = evaluateSceneLightingPBR(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight, viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);`:\"vec3 shadedColor = evaluateSceneLighting(shadedNormal, albedo_, shadow, 1.0 - ssao, additionalLight);\"}\n        gl_FragColor = highlightSlice(vec4(shadedColor, opacity_), vpos);\n        ${j.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),E.include(g,j),E}const E=Object.freeze({__proto__:null,build:j});export{E as R,j as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){const d=e`vec3 decodeNormal(vec2 f) {\nfloat z = 1.0 - abs(f.x) - abs(f.y);\nreturn vec3(f + sign(f) * min(z, 0.0), z);\n}`;o.fragment.code.add(d),o.vertex.code.add(d)}export{o as DecodeNormal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{DecodeNormal as e}from\"../util/DecodeNormal.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o,d){0===d.normalType&&(o.attributes.add(\"normal\",\"vec3\"),o.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`)),1===d.normalType&&(o.include(e),o.attributes.add(\"normalCompressed\",\"vec2\"),o.vertex.code.add(r`vec3 normalModel() {\nreturn decodeNormal(normalCompressed);\n}`)),3===d.normalType&&(o.extensions.add(\"GL_OES_standard_derivatives\"),o.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`))}export{o as NormalAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../../../chunks/vec3f64.js\";import{DoublePrecision as i}from\"../util/DoublePrecision.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{encodeDoubleArraySplit as n}from\"../../../../../webgl/doublePrecisionUtils.js\";function o(e,n){n.instanced&&n.instancedDoublePrecision&&(e.attributes.add(\"modelOriginHi\",\"vec3\"),e.attributes.add(\"modelOriginLo\",\"vec3\"),e.attributes.add(\"model\",\"mat3\"),e.attributes.add(\"modelNormal\",\"mat3\")),n.instancedDoublePrecision&&(e.vertex.include(i,n),e.vertex.uniforms.add(\"viewOriginHi\",\"vec3\"),e.vertex.uniforms.add(\"viewOriginLo\",\"vec3\"));const o=[r`\n    vec3 calculateVPos() {\n      ${n.instancedDoublePrecision?\"return model * localPosition().xyz;\":\"return localPosition().xyz;\"}\n    }\n    `,r`\n    vec3 subtractOrigin(vec3 _pos) {\n      ${n.instancedDoublePrecision?r`\n          vec3 originDelta = dpAdd(viewOriginHi, viewOriginLo, -modelOriginHi, -modelOriginLo);\n          return _pos - originDelta;`:\"return vpos;\"}\n    }\n    `,r`\n    vec3 dpNormal(vec4 _normal) {\n      ${n.instancedDoublePrecision?\"return normalize(modelNormal * _normal.xyz);\":\"return normalize(_normal.xyz);\"}\n    }\n    `,r`\n    vec3 dpNormalView(vec4 _normal) {\n      ${n.instancedDoublePrecision?\"return normalize((viewNormal * vec4(modelNormal * _normal.xyz, 1.0)).xyz);\":\"return normalize((viewNormal * _normal).xyz);\"}\n    }\n    `,n.vertexTangents?r`\n    vec4 dpTransformVertexTangent(vec4 _tangent) {\n      ${n.instancedDoublePrecision?\"return vec4(modelNormal * _tangent.xyz, _tangent.w);\":\"return _tangent;\"}\n\n    }\n    `:r``];e.vertex.code.add(o[0]),e.vertex.code.add(o[1]),e.vertex.code.add(o[2]),2===n.output&&e.vertex.code.add(o[3]),e.vertex.code.add(o[4])}!function(e){class i{}function r(e,i){n(i,t,a,3),e.setUniform3fv(\"viewOriginHi\",t),e.setUniform3fv(\"viewOriginLo\",a)}e.Uniforms=i,e.bindCustomOrigin=r}(o||(o={}));const t=e(),a=e();export{o as InstancedDoublePrecision};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";import{webglValidateShadersEnabled as e}from\"../../../../../webgl/checkWebGLError.js\";function u(u,o){const r=t`\n  /*\n  *  ${o.name}\n  *  ${0===o.output?\"RenderOutput: Color\":1===o.output?\"RenderOutput: Depth\":3===o.output?\"RenderOutput: Shadow\":2===o.output?\"RenderOutput: Normal\":4===o.output?\"RenderOutput: Highlight\":\"\"}\n  */\n  `;e()&&(u.fragment.code.add(r),u.vertex.code.add(r))}export{u as HeaderComment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{bindSliceUniforms as r}from\"../core/shaderLibrary/Slice.glsl.js\";import{InstancedDoublePrecision as i}from\"../core/shaderLibrary/attributes/InstancedDoublePrecision.glsl.js\";import{bindVerticalOffsetUniforms as o}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{bindOutputHighlight as s}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindMultipassTerrainTexture as a}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindPBRUniforms as n}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{bindReadShadowMapViewCustomOrigin as l}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{bindVisualVariablesUniformsForSymbols as p}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{doublePrecisionRequiresObfuscation as c}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{bindProjectionMatrix as u,bindViewCustomOrigin as h,bindCameraPosition as d}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as m}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as f}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as v,ShaderTechniqueConfiguration as g}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as b}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as y,OITBlending as x,OITDepthTest as T,getOITPolygonOffset as P}from\"../lib/OrderIndependentTransparency.js\";import{Program as M}from\"../lib/Program.js\";import{stencilWriteMaskOn as S,stencilToolMaskBaseParams as C,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{colorMixModes as D,bindScreenSizePerspective as w}from\"../materials/internal/MaterialUtil.js\";import{D as j}from\"../../../../chunks/DefaultMaterial.glsl.js\";import{makePipelineState as A,cullingParams as E,defaultDepthWriteParams as U,defaultColorWriteParams as z}from\"../../../webgl/renderState.js\";class R extends f{initializeProgram(e){const t=R.shader.get(),r=this.configuration,i=t.build({OITEnabled:0===r.transparencyPassType,output:r.output,viewingMode:e.viewingMode,receiveShadows:r.receiveShadows,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:r.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:r.symbolColors,vvSize:r.vvSize,vvColor:r.vvColor,vvInstancingEnabled:!0,instanced:r.instanced,instancedColor:r.instancedColor,instancedDoublePrecision:r.instancedDoublePrecision,pbrMode:r.usePBR?r.isSchematic?2:1:0,hasMetalnessAndRoughnessTexture:r.hasMetalnessAndRoughnessTexture,hasEmissionTexture:r.hasEmissionTexture,hasOcclusionTexture:r.hasOcclusionTexture,hasNormalTexture:r.hasNormalTexture,hasColorTexture:r.hasColorTexture,receiveAmbientOcclusion:r.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:r.normalsTypeDerivate?3:0,doubleSidedMode:r.doubleSidedMode,vertexTangents:r.vertexTangents,attributeTextureCoordinates:r.hasMetalnessAndRoughnessTexture||r.hasEmissionTexture||r.hasOcclusionTexture||r.hasNormalTexture||r.hasColorTexture?1:0,textureAlphaPremultiplied:r.textureAlphaPremultiplied,attributeColor:r.vertexColors,screenSizePerspectiveEnabled:r.screenSizePerspective,verticalOffsetEnabled:r.verticalOffset,offsetBackfaces:r.offsetBackfaces,doublePrecisionRequiresObfuscation:c(e.rctx),alphaDiscardMode:r.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new M(e.rctx,i,b)}bindPass(e,t){var r,i;u(this.program,t.camera.projectionMatrix);const l=this.configuration.output;(1===this.configuration.output||t.multipassTerrainEnabled||3===l)&&this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),a(this.program,t)),7===l&&(this.program.setUniform1f(\"opacity\",e.opacity),this.program.setUniform1f(\"layerOpacity\",e.layerOpacity),this.program.setUniform4fv(\"externalColor\",e.externalColor),this.program.setUniform1i(\"colorMixMode\",D[e.colorMixMode])),0===l?(t.lighting.setUniforms(this.program,!1),this.program.setUniform3fv(\"ambient\",e.ambient),this.program.setUniform3fv(\"diffuse\",e.diffuse),this.program.setUniform4fv(\"externalColor\",e.externalColor),this.program.setUniform1i(\"colorMixMode\",D[e.colorMixMode]),this.program.setUniform1f(\"opacity\",e.opacity),this.program.setUniform1f(\"layerOpacity\",e.layerOpacity),this.configuration.usePBR&&n(this.program,e,this.configuration.isSchematic)):4===l&&s(this.program,t),p(this.program,e),o(this.program,e,t),w(e.screenSizePerspective,this.program,\"screenSizePerspectiveAlignment\"),2!==e.textureAlphaMode&&3!==e.textureAlphaMode||this.program.setUniform1f(\"textureAlphaCutoff\",e.textureAlphaCutoff),null==(r=t.shadowMap)||r.bind(this.program),null==(i=t.ssaoHelper)||i.bind(this.program,t.camera)}bindDraw(e){const o=this.configuration.instancedDoublePrecision?t(e.camera.viewInverseTransposeMatrix[3],e.camera.viewInverseTransposeMatrix[7],e.camera.viewInverseTransposeMatrix[11]):e.origin;h(this.program,o,e.camera.viewMatrix),this.program.rebindTextures(),(0===this.configuration.output||7===this.configuration.output||1===this.configuration.output&&this.configuration.screenSizePerspective||2===this.configuration.output&&this.configuration.screenSizePerspective||4===this.configuration.output&&this.configuration.screenSizePerspective)&&d(this.program,o,e.camera.viewInverseTransposeMatrix),2===this.configuration.output&&this.program.setUniformMatrix4fv(\"viewNormal\",e.camera.viewInverseTransposeMatrix),this.configuration.instancedDoublePrecision&&i.bindCustomOrigin(this.program,o),r(this.program,this.configuration,e.slicePlane,o),0===this.configuration.output&&l(this.program,e,o)}setPipeline(e,t){const r=this.configuration,i=3===e,o=2===e;return A({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?y:x(e),culling:L(r)&&E(r.cullFace),depthTest:{func:T(e)},depthWrite:i||o?r.writeDepth&&U:null,colorWrite:z,stencilWrite:r.sceneHasOcludees?S:null,stencilTest:r.sceneHasOcludees?t?C:O:null,polygonOffset:i||o?null:P(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipeline(this.configuration.transparencyPassType,!0),this.setPipeline(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}function L(e){return e.cullFace?0!==e.cullFace:!e.slicePlaneEnabled&&(!e.transparent&&!e.doubleSidedMode)}R.shader=new m(j,(()=>import(\"./DefaultMaterial.glsl.js\")));class H extends g{constructor(){super(...arguments),this.output=0,this.alphaDiscardMode=1,this.doubleSidedMode=0,this.isSchematic=!1,this.vertexColors=!1,this.offsetBackfaces=!1,this.symbolColors=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.receiveAmbientOcclusion=!1,this.screenSizePerspective=!1,this.textureAlphaPremultiplied=!1,this.hasColorTexture=!1,this.usePBR=!1,this.hasMetalnessAndRoughnessTexture=!1,this.hasEmissionTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.instanced=!1,this.instancedColor=!1,this.instancedDoublePrecision=!1,this.vertexTangents=!1,this.normalsTypeDerivate=!1,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparent=!1,this.enableOffset=!0,this.cullFace=0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([v({count:8})],H.prototype,\"output\",void 0),e([v({count:4})],H.prototype,\"alphaDiscardMode\",void 0),e([v({count:3})],H.prototype,\"doubleSidedMode\",void 0),e([v()],H.prototype,\"isSchematic\",void 0),e([v()],H.prototype,\"vertexColors\",void 0),e([v()],H.prototype,\"offsetBackfaces\",void 0),e([v()],H.prototype,\"symbolColors\",void 0),e([v()],H.prototype,\"vvSize\",void 0),e([v()],H.prototype,\"vvColor\",void 0),e([v()],H.prototype,\"verticalOffset\",void 0),e([v()],H.prototype,\"receiveShadows\",void 0),e([v()],H.prototype,\"slicePlaneEnabled\",void 0),e([v()],H.prototype,\"sliceHighlightDisabled\",void 0),e([v()],H.prototype,\"receiveAmbientOcclusion\",void 0),e([v()],H.prototype,\"screenSizePerspective\",void 0),e([v()],H.prototype,\"textureAlphaPremultiplied\",void 0),e([v()],H.prototype,\"hasColorTexture\",void 0),e([v()],H.prototype,\"usePBR\",void 0),e([v()],H.prototype,\"hasMetalnessAndRoughnessTexture\",void 0),e([v()],H.prototype,\"hasEmissionTexture\",void 0),e([v()],H.prototype,\"hasOcclusionTexture\",void 0),e([v()],H.prototype,\"hasNormalTexture\",void 0),e([v()],H.prototype,\"instanced\",void 0),e([v()],H.prototype,\"instancedColor\",void 0),e([v()],H.prototype,\"instancedDoublePrecision\",void 0),e([v()],H.prototype,\"vertexTangents\",void 0),e([v()],H.prototype,\"normalsTypeDerivate\",void 0),e([v()],H.prototype,\"writeDepth\",void 0),e([v()],H.prototype,\"sceneHasOcludees\",void 0),e([v()],H.prototype,\"transparent\",void 0),e([v()],H.prototype,\"enableOffset\",void 0),e([v({count:3})],H.prototype,\"cullFace\",void 0),e([v({count:4})],H.prototype,\"transparencyPassType\",void 0),e([v()],H.prototype,\"multipassTerrainEnabled\",void 0),e([v()],H.prototype,\"cullAboveGround\",void 0);export{R as DefaultMaterialTechnique,H as DefaultMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{R as e}from\"../../../../chunks/RealisticTree.glsl.js\";import{doublePrecisionRequiresObfuscation as r}from\"../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{DefaultMaterialTechnique as t}from\"./DefaultMaterialTechnique.js\";class a extends t{initializeProgram(e){const s=a.shader.get(),t=this.configuration,l=s.build({OITEnabled:0===t.transparencyPassType,output:t.output,viewingMode:e.viewingMode,receiveShadows:t.receiveShadows,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:t.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,symbolColor:t.symbolColors,vvSize:t.vvSize,vvColor:t.vvColor,vvInstancingEnabled:!0,instanced:t.instanced,instancedColor:t.instancedColor,instancedDoublePrecision:t.instancedDoublePrecision,pbrMode:t.usePBR?1:0,hasMetalnessAndRoughnessTexture:!1,hasEmissionTexture:!1,hasOcclusionTexture:!1,hasNormalTexture:!1,hasColorTexture:t.hasColorTexture,receiveAmbientOcclusion:t.receiveAmbientOcclusion,useCustomDTRExponentForWater:!1,normalType:0,doubleSidedMode:2,vertexTangents:!1,attributeTextureCoordinates:t.hasColorTexture?1:0,textureAlphaPremultiplied:t.textureAlphaPremultiplied,attributeColor:t.vertexColors,screenSizePerspectiveEnabled:t.screenSizePerspective,verticalOffsetEnabled:t.verticalOffset,offsetBackfaces:t.offsetBackfaces,doublePrecisionRequiresObfuscation:r(e.rctx),alphaDiscardMode:t.alphaDiscardMode,supportsTextureAtlas:!1,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new o(e.rctx,l,i)}}a.shader=new s(e,(()=>import(\"../core/shaderLibrary/default/RealisticTree.glsl.js\")));export{a as RealisticTreeTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/mat3f64.js\";import{s as t,g as i,n as s,f as r,l as a,a as n,d as o,t as l}from\"../../../../chunks/vec3.js\";import{c,f as u}from\"../../../../chunks/vec3f64.js\";import{newLayout as h}from\"../../support/buffer/InterleavedLayout.js\";import{defaultMaskAlphaCutoff as d}from\"../core/shaderLibrary/util/AlphaDiscard.glsl.js\";import p from\"../lib/GLMaterialTexture.js\";import{Material as m,materialParametersDefaults as f}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as v}from\"../lib/OrderIndependentTransparency.js\";import{getVerticalOffsetObject3D as g}from\"../lib/verticalOffsetUtils.js\";import{writeDefaultAttributes as C}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as b,intersectTriangleGeometry as x}from\"./internal/MaterialUtil.js\";import{DefaultMaterialTechniqueConfiguration as S,DefaultMaterialTechnique as T}from\"../shaders/DefaultMaterialTechnique.js\";import{RealisticTreeTechnique as q}from\"../shaders/RealisticTreeTechnique.js\";class y extends m{constructor(e){super(e,P),this.supportsEdges=!0,this.techniqueConfig=new S,this.vertexBufferLayout=w(this.parameters),this.instanceBufferLayout=e.instanced?E(this.parameters):null}isVisibleInPass(e){return 4!==e&&6!==e&&7!==e||this.parameters.castShadows}isVisible(){const e=this.parameters;if(!super.isVisible()||0===e.layerOpacity)return!1;const t=e.instanced,i=e.vertexColors,s=e.symbolColors,r=!!t&&t.indexOf(\"color\")>-1,a=e.vvColorEnabled,n=\"replace\"===e.colorMixMode,o=e.opacity>0,l=e.externalColor&&e.externalColor[3]>0;return i&&(r||a||s)?!!n||o:i?n?l:o:r||a||s?!!n||o:n?l:o}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.hasNormalTexture=!!this.parameters.normalTextureId,this.techniqueConfig.hasColorTexture=!!this.parameters.textureId,this.techniqueConfig.vertexTangents=this.parameters.vertexTangents,this.techniqueConfig.instanced=!!this.parameters.instanced,this.techniqueConfig.instancedDoublePrecision=this.parameters.instancedDoublePrecision,this.techniqueConfig.vvSize=this.parameters.vvSizeEnabled,this.techniqueConfig.verticalOffset=null!==this.parameters.verticalOffset,this.techniqueConfig.screenSizePerspective=null!==this.parameters.screenSizePerspective,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.sliceHighlightDisabled=this.parameters.sliceHighlightDisabled,this.techniqueConfig.alphaDiscardMode=this.parameters.textureAlphaMode,this.techniqueConfig.normalsTypeDerivate=\"screenDerivative\"===this.parameters.normals,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees,this.techniqueConfig.cullFace=this.parameters.slicePlaneEnabled?0:this.parameters.cullFace,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,0!==e&&7!==e||(this.techniqueConfig.vertexColors=this.parameters.vertexColors,this.techniqueConfig.symbolColors=this.parameters.symbolColors,this.parameters.treeRendering?this.techniqueConfig.doubleSidedMode=2:this.techniqueConfig.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?1:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?2:0,this.techniqueConfig.instancedColor=!!this.parameters.instanced&&this.parameters.instanced.indexOf(\"color\")>-1,this.techniqueConfig.receiveShadows=this.parameters.receiveShadows&&this.parameters.shadowMappingEnabled,this.techniqueConfig.receiveAmbientOcclusion=!!t.ssaoEnabled&&this.parameters.receiveSSAO,this.techniqueConfig.vvColor=this.parameters.vvColorEnabled,this.techniqueConfig.textureAlphaPremultiplied=!!this.parameters.textureAlphaPremultiplied,this.techniqueConfig.usePBR=this.parameters.usePBR,this.techniqueConfig.hasMetalnessAndRoughnessTexture=!!this.parameters.metallicRoughnessTextureId,this.techniqueConfig.hasEmissionTexture=!!this.parameters.emissiveTextureId,this.techniqueConfig.hasOcclusionTexture=!!this.parameters.occlusionTextureId,this.techniqueConfig.offsetBackfaces=!(!this.parameters.transparent||!this.parameters.offsetTransparentBackfaces),this.techniqueConfig.isSchematic=this.parameters.usePBR&&this.parameters.isSchematic,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<v),this.techniqueConfig}intersect(e,c,u,h,d,p,m){if(null!==this.parameters.verticalOffset){const e=h.camera;t(j,u[12],u[13],u[14]);let c=null;switch(h.viewingMode){case 1:c=s(D,j);break;case 2:c=i(D,A)}let m=0;if(null!==this.parameters.verticalOffset){const t=r(L,j,e.eye),i=a(t),s=n(t,t,1/i);let l=null;this.parameters.screenSizePerspective&&(l=o(c,s)),m+=b(e,i,this.parameters.verticalOffset,l,this.parameters.screenSizePerspective)}n(c,c,m),l(z,c,h.transform.inverseRotation),d=r(I,d,z),p=r(B,p,z)}x(e,c,h,d,p,g(h.verticalOffset),m)}requiresSlot(e){return e===(this.parameters.transparent?this.parameters.writeDepth?4:7:2)||20===e}createGLMaterial(e){return 0===e.output||7===e.output||1===e.output||2===e.output||3===e.output||4===e.output?new O(e):null}createBufferWriter(){return new M(this.vertexBufferLayout,this.instanceBufferLayout)}}class O extends p{constructor(e){super({...e,...e.material.parameters})}updateParameters(e){const t=this._material.parameters;return this.updateTexture(t.textureId),this.ensureTechnique(t.treeRendering?q:T,e)}_updateShadowState(e){e.shadowMappingEnabled!==this._material.parameters.shadowMappingEnabled&&this._material.setParameters({shadowMappingEnabled:e.shadowMappingEnabled})}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.sceneHasOcludees&&this._material.setParameters({sceneHasOcludees:e.hasOccludees})}beginSlot(e){return 0!==this._output&&7!==this._output||(this._updateShadowState(e),this._updateOccludeeState(e)),this.updateParameters(e)}bind(e,t){t.bindPass(this._material.parameters,e),this.bindTextures(t.program)}}const P={textureId:void 0,initTextureTransparent:!1,isSchematic:!1,usePBR:!1,normalTextureId:void 0,vertexTangents:!1,occlusionTextureId:void 0,emissiveTextureId:void 0,metallicRoughnessTextureId:void 0,emissiveFactor:[0,0,0],mrrFactors:[0,1,.5],ambient:[.2,.2,.2],diffuse:[.8,.8,.8],externalColor:[1,1,1,1],colorMixMode:\"multiply\",opacity:1,layerOpacity:1,vertexColors:!1,symbolColors:!1,doubleSided:!1,doubleSidedType:\"normal\",cullFace:2,instanced:void 0,instancedDoublePrecision:!1,normals:\"default\",receiveSSAO:!0,receiveShadows:!0,castShadows:!0,shadowMappingEnabled:!1,verticalOffset:null,screenSizePerspective:null,slicePlaneEnabled:!1,sliceHighlightDisabled:!1,offsetTransparentBackfaces:!1,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvSizeValue:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],vvSymbolAnchor:[0,0,0],vvSymbolRotationMatrix:e(),transparent:!1,writeDepth:!0,textureAlphaMode:0,textureAlphaCutoff:d,textureAlphaPremultiplied:!1,sceneHasOcludees:!1,...f};class M{constructor(e,t){this.vertexBufferLayout=e,this.instanceBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,i,s){C(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,i,s)}}function w(e){const t=e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId,i=h().vec3f(\"position\").vec3f(\"normal\");return e.vertexTangents&&i.vec4f(\"tangent\"),t&&i.vec2f(\"uv0\"),e.vertexColors&&i.vec4u8(\"color\"),e.symbolColors&&i.vec4u8(\"symbolColor\"),i}function E(e){let t=h();return t=e.instancedDoublePrecision?t.vec3f(\"modelOriginHi\").vec3f(\"modelOriginLo\").mat3f(\"model\").mat3f(\"modelNormal\"):t.mat4f(\"model\").mat4f(\"modelNormal\"),e.instanced&&e.instanced.indexOf(\"color\")>-1&&(t=t.vec4f(\"instanceColor\")),e.instanced&&e.instanced.indexOf(\"featureAttribute\")>-1&&(t=t.vec4f(\"instanceFeatureAttribute\")),t}const I=c(),B=c(),A=u(0,0,1),D=c(),z=c(),j=c(),L=c();export{y as DefaultMaterial,E as getInstanceBufferLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isInteger as e,maximumValue as t,isSigned as n}from\"../geometry/support/buffer/types.js\";function f(e,t,n){const f=e.typedBuffer,r=e.typedBufferStride,d=t.typedBuffer,o=t.typedBufferStride,u=n?n.count:t.count;let l=(n&&n.dstIndex?n.dstIndex:0)*r,s=(n&&n.srcIndex?n.srcIndex:0)*o;for(let c=0;c<u;++c)f[l]=d[s],f[l+1]=d[s+1],l+=r,s+=o}function r(r,d,o){const u=r.typedBuffer,l=r.typedBufferStride,s=d.typedBuffer,c=d.typedBufferStride,p=o?o.count:d.count;let y=(o&&o.dstIndex?o.dstIndex:0)*l,i=(o&&o.srcIndex?o.srcIndex:0)*c;if(e(d.elementType)){const e=t(d.elementType);if(n(d.elementType))for(let t=0;t<p;++t)u[y]=Math.max(s[i]/e,-1),u[y+1]=Math.max(s[i+1]/e,-1),y+=l,i+=c;else for(let t=0;t<p;++t)u[y]=s[i]/e,u[y+1]=s[i+1]/e,y+=l,i+=c}else f(r,d,o);return r}function d(e,t,n,f){var r,d;const o=e.typedBuffer,u=e.typedBufferStride,l=null!=(r=null==f?void 0:f.count)?r:e.count;let s=(null!=(d=null==f?void 0:f.dstIndex)?d:0)*u;for(let c=0;c<l;++c)o[s]=t,o[s+1]=n,s+=u}const o=Object.freeze({__proto__:null,copy:f,normalizeIntegerBuffer:r,fill:d});export{f as c,d as f,r as n,o as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t,d){1===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.vertex.code.add(e`void forwardTextureCoordinates() {\nvuv0 = uv0;\n}`)),2===d.attributeTextureCoordinates&&(t.attributes.add(\"uv0\",\"vec2\"),t.varyings.add(\"vuv0\",\"vec2\"),t.attributes.add(\"uvRegion\",\"vec4\"),t.varyings.add(\"vuvRegion\",\"vec4\"),t.vertex.code.add(e`void forwardTextureCoordinates() {\nvuv0 = uv0;\nvuvRegion = uvRegion;\n}`)),0===d.attributeTextureCoordinates&&t.vertex.code.add(e`void forwardTextureCoordinates() {}`)}export{t as TextureCoordinateAttribute};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../geometry/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],m=f[9],B=f[10],h=f[11],l=f[12],S=f[13],b=f[14],v=f[15],M=t.typedBuffer,_=t.typedBufferStride,g=r.typedBuffer,j=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*_,r=e*j,f=g[r],o=g[r+1],x=g[r+2],z=g[r+3];M[t]=n*f+c*o+y*x+l*z,M[t+1]=u*f+i*o+m*x+S*z,M[t+2]=d*f+a*o+B*x+b*z,M[t+3]=s*f+p*o+h*x+v*z}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],m=t.typedBuffer,B=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*B,r=e*l,f=h[r],o=h[r+1],S=h[r+2],b=h[r+3];m[t]=n*f+s*o+a*S,m[t+1]=u*f+c*o+p*S,m[t+2]=d*f+i*o+y*S,m[t+3]=b}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2],o[e+3]=r*u[t+3]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r,o[e+3]=u[t+3]>>r}}const n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{o as a,t as b,f as s,r as t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n,t){const e=n.fragment,a=void 0!==t.lightingSphericalHarmonicsOrder?t.lightingSphericalHarmonicsOrder:2;0===a?(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.code.add(i`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):1===a?(e.uniforms.add(\"lightingAmbientSH_R\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B\",\"vec4\"),e.code.add(i`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec4 sh0 = vec4(\n0.282095,\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y\n);\nvec3 ambientLight = vec3(\ndot(lightingAmbientSH_R, sh0),\ndot(lightingAmbientSH_G, sh0),\ndot(lightingAmbientSH_B, sh0)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`)):2===a&&(e.uniforms.add(\"lightingAmbientSH0\",\"vec3\"),e.uniforms.add(\"lightingAmbientSH_R1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B1\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_R2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_G2\",\"vec4\"),e.uniforms.add(\"lightingAmbientSH_B2\",\"vec4\"),e.code.add(i`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {\nvec3 ambientLight = 0.282095 * lightingAmbientSH0;\nvec4 sh1 = vec4(\n0.488603 * normal.x,\n0.488603 * normal.z,\n0.488603 * normal.y,\n1.092548 * normal.x * normal.y\n);\nvec4 sh2 = vec4(\n1.092548 * normal.y * normal.z,\n0.315392 * (3.0 * normal.z * normal.z - 1.0),\n1.092548 * normal.x * normal.z,\n0.546274 * (normal.x * normal.x - normal.y * normal.y)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R1, sh1),\ndot(lightingAmbientSH_G1, sh1),\ndot(lightingAmbientSH_B1, sh1)\n);\nambientLight += vec3(\ndot(lightingAmbientSH_R2, sh2),\ndot(lightingAmbientSH_G2, sh2),\ndot(lightingAmbientSH_B2, sh2)\n);\nreturn ambientLight * (1.0 - ambientOcclusion);\n}`),1!==t.pbrMode&&2!==t.pbrMode||e.code.add(i`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);\nvec3 calculateAmbientRadiance(float ambientOcclusion)\n{\nvec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;\nreturn ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;\n}`))}export{n as EvaluateAmbientLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as i}from\"../../shaderModules/interfaces.js\";function n(n){const t=n.fragment;t.uniforms.add(\"lightingMainDirection\",\"vec3\"),t.uniforms.add(\"lightingMainIntensity\",\"vec3\"),t.uniforms.add(\"lightingFixedFactor\",\"float\"),t.code.add(i`vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {\nfloat dotVal = clamp(dot(normal_global, lightingMainDirection), 0.0, 1.0);\ndotVal = mix(dotVal, 1.0, lightingFixedFactor);\nreturn lightingMainIntensity * ((1.0 - shadowing) * dotVal);\n}`)}export{n as EvaluateMainLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{EvaluateAmbientLighting as i}from\"./EvaluateAmbientLighting.glsl.js\";import{EvaluateAmbientOcclusion as n}from\"./EvaluateAmbientOcclusion.glsl.js\";import{EvaluateMainLighting as o}from\"./EvaluateMainLighting.glsl.js\";import{PhysicallyBasedRendering as e}from\"./PhysicallyBasedRendering.glsl.js\";import{PiUtils as t}from\"./PiUtils.glsl.js\";import{ReadShadowMap as a}from\"./ReadShadowMap.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function l(l,d){const c=l.fragment;l.include(o),l.include(n,d),0!==d.pbrMode&&l.include(e,d),l.include(i,d),d.receiveShadows&&l.include(a,d),c.uniforms.add(\"lightingGlobalFactor\",\"float\"),c.uniforms.add(\"ambientBoostFactor\",\"float\"),l.include(t),c.code.add(r`\n    const float GAMMA_SRGB = 2.1;\n    const float INV_GAMMA_SRGB = 0.4761904;\n    ${0===d.pbrMode?\"\":\"const vec3 GROUND_REFLECTANCE = vec3(0.2);\"}\n  `),c.code.add(r`\n    float additionalDirectedAmbientLight(vec3 vPosWorld) {\n      float vndl = dot(${1===d.viewingMode?r`normalize(vPosWorld)`:r`vec3(0.0, 0.0, 1.0)`}, lightingMainDirection);\n      return smoothstep(0.0, 1.0, clamp(vndl * 2.5, 0.0, 1.0));\n    }\n  `),c.code.add(r`vec3 evaluateAdditionalLighting(float ambientOcclusion, vec3 vPosWorld) {\nfloat additionalAmbientScale = additionalDirectedAmbientLight(vPosWorld);\nreturn (1.0 - ambientOcclusion) * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor * lightingMainIntensity;\n}`),0===d.pbrMode||4===d.pbrMode?c.code.add(r`vec3 evaluateSceneLighting(vec3 normalWorld, vec3 albedo, float shadow, float ssao, vec3 additionalLight)\n{\nvec3 mainLighting = evaluateMainLighting(normalWorld, shadow);\nvec3 ambientLighting = calculateAmbientIrradiance(normalWorld, ssao);\nvec3 albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\nvec3 totalLight = mainLighting + ambientLighting + additionalLight;\ntotalLight = min(totalLight, vec3(PI));\nvec3 outColor = vec3((albedoLinear / PI) * totalLight);\nreturn pow(outColor, vec3(INV_GAMMA_SRGB));\n}`):1!==d.pbrMode&&2!==d.pbrMode||(c.code.add(r`const float fillLightIntensity = 0.25;\nconst float horizonLightDiffusion = 0.4;\nconst float additionalAmbientIrradianceFactor = 0.02;\nvec3 evaluateSceneLightingPBR(vec3 normal, vec3 albedo, float shadow, float ssao, vec3 additionalLight, vec3 viewDir, vec3 normalGround, vec3 mrr, vec3 _emission, float additionalAmbientIrradiance)\n{\nvec3 viewDirection = -viewDir;\nvec3 mainLightDirection = lightingMainDirection;\nvec3 h = normalize(viewDirection + mainLightDirection);\nPBRShadingInfo inputs;\ninputs.NdotL = clamp(dot(normal, mainLightDirection), 0.001, 1.0);\ninputs.NdotV = clamp(abs(dot(normal, viewDirection)), 0.001, 1.0);\ninputs.NdotH = clamp(dot(normal, h), 0.0, 1.0);\ninputs.VdotH = clamp(dot(viewDirection, h), 0.0, 1.0);\ninputs.NdotNG = clamp(dot(normal, normalGround), -1.0, 1.0);\nvec3 reflectedView = normalize(reflect(viewDirection, normal));\ninputs.RdotNG = clamp(dot(reflectedView, normalGround), -1.0, 1.0);\ninputs.albedoLinear = pow(albedo, vec3(GAMMA_SRGB));\ninputs.ssao = ssao;\ninputs.metalness = mrr[0];\ninputs.roughness = clamp(mrr[1] * mrr[1], 0.001, 0.99);`),c.code.add(r`inputs.f0 = (0.16 * mrr[2] * mrr[2]) * (1.0 - inputs.metalness) + inputs.albedoLinear * inputs.metalness;\ninputs.f90 = vec3(clamp(dot(inputs.f0, vec3(50.0 * 0.33)), 0.0, 1.0));\ninputs.diffuseColor = inputs.albedoLinear * (vec3(1.0) - inputs.f0) * (1.0 - inputs.metalness);`),c.code.add(r`vec3 ambientDir = vec3(5.0 * normalGround[1] - normalGround[0] * normalGround[2], - 5.0 * normalGround[0] - normalGround[2] * normalGround[1], normalGround[1] * normalGround[1] + normalGround[0] * normalGround[0]);\nambientDir = ambientDir != vec3(0.0)? normalize(ambientDir) : normalize(vec3(5.0, -1.0, 0.0));\ninputs.NdotAmbDir = abs(dot(normal, ambientDir));\nvec3 mainLightIrradianceComponent = inputs.NdotL * (1.0 - shadow) * lightingMainIntensity;\nvec3 fillLightsIrradianceComponent = inputs.NdotAmbDir * lightingMainIntensity * fillLightIntensity;\nvec3 ambientLightIrradianceComponent = calculateAmbientIrradiance(normal, ssao) + additionalLight;\ninputs.skyIrradianceToSurface = ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;\ninputs.groundIrradianceToSurface = GROUND_REFLECTANCE * ambientLightIrradianceComponent + mainLightIrradianceComponent + fillLightsIrradianceComponent ;`),c.code.add(r`vec3 horizonRingDir = inputs.RdotNG * normalGround - reflectedView;\nvec3 horizonRingH = normalize(viewDirection + horizonRingDir);\ninputs.NdotH_Horizon = dot(normal, horizonRingH);\nvec3 mainLightRadianceComponent = normalDistribution(inputs.NdotH, inputs.roughness) * lightingMainIntensity * (1.0 - shadow);\nvec3 horizonLightRadianceComponent = normalDistribution(inputs.NdotH_Horizon, min(inputs.roughness + horizonLightDiffusion, 1.0)) * lightingMainIntensity * fillLightIntensity;\nvec3 ambientLightRadianceComponent = calculateAmbientRadiance(ssao) + additionalLight;\ninputs.skyRadianceToSurface = ambientLightRadianceComponent + mainLightRadianceComponent + horizonLightRadianceComponent;\ninputs.groundRadianceToSurface = GROUND_REFLECTANCE * (ambientLightRadianceComponent + horizonLightRadianceComponent) + mainLightRadianceComponent;\ninputs.averageAmbientRadiance = ambientLightIrradianceComponent[1] * (1.0 + GROUND_REFLECTANCE[1]);`),c.code.add(r`\n        vec3 reflectedColorComponent = evaluateEnvironmentIllumination(inputs);\n        vec3 additionalMaterialReflectanceComponent = inputs.albedoLinear * additionalAmbientIrradiance;\n        vec3 emissionComponent = pow(_emission, vec3(GAMMA_SRGB));\n        vec3 outColorLinear = reflectedColorComponent + additionalMaterialReflectanceComponent + emissionComponent;\n        ${2===d.pbrMode?r`vec3 outColor = pow(max(vec3(0.0), outColorLinear - 0.005 * inputs.averageAmbientRadiance), vec3(INV_GAMMA_SRGB));`:r`vec3 outColor = pow(blackLevelSoftCompression(outColorLinear, inputs), vec3(INV_GAMMA_SRGB));`}\n        return outColor;\n      }\n    `))}export{l as EvaluateSceneLighting};\n"],"sourceRoot":""}