(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={app:0},r=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0101643a":"5e6dfb32","chunk-01941038":"0b7ee3d2","chunk-434f637c":"fb51e6eb","chunk-a1580416":"91c406b8","chunk-084afda9":"fee4ca9d","chunk-f1516bda":"e498449d","chunk-0b720add":"cf69225b","chunk-145178c0":"07beb27f","chunk-1513dd4f":"802cd0b5","chunk-1a3fb22c":"dd24964d","chunk-1a64e58c":"862b58a1","chunk-1a6b895e":"a973fadd","chunk-1d20ce8a":"50702b63","chunk-20049de8":"b4af3fdf","chunk-3e045336":"c215ae3e","chunk-0a439a86":"b2e3578f","chunk-21440acd":"11a09a63","chunk-252da140":"a7ccaf48","chunk-252f2cfc":"4a10d49c","chunk-270e7d4f":"23ed544a","chunk-2d0a2dc5":"a6f91f23","chunk-2d0a3344":"3cd23002","chunk-2d0a4c1e":"da61582f","chunk-2d0abe0e":"16c01231","chunk-2d0aead6":"4bc249f4","chunk-2d0b32f8":"733e8a21","chunk-2d0b6d34":"5f735ad1","chunk-2d0b726e":"f6133bca","chunk-2d0bcda5":"603eced1","chunk-2d0bdcef":"76e7d813","chunk-2d0bdf78":"ec93a88d","chunk-2d0c0894":"daebafa6","chunk-2d0c1555":"66507489","chunk-2d0c1948":"20ee9084","chunk-2d0c5abf":"387f3cb9","chunk-2d0c7ed4":"c818de47","chunk-2d0c86de":"498d5223","chunk-2d0c970e":"5ebcc6ee","chunk-2d0cbd02":"f3f2135f","chunk-2d0cf344":"adb82c0d","chunk-2d0cffe8":"1865fb02","chunk-2d0d03a7":"253e2d23","chunk-1f46d0f8":"dba326bc","chunk-1f70f5e4":"e527ed1f","chunk-528f064d":"fa99ea5b","chunk-62c11016":"2055c643","chunk-9a959fca":"93c8deac","chunk-cce14d88":"d4183b4a","chunk-e26bd3da":"4346777c","chunk-e948379e":"e0823204","chunk-2d0d03e5":"e2c5393b","chunk-2d0d30d0":"c0a845a4","chunk-2d0d7e56":"6d3f75d8","chunk-2d0d7fd9":"6b0bb1aa","chunk-2d0dd452":"64943c62","chunk-2d0e48cf":"88f69e78","chunk-2d0e5bc0":"df830ad0","chunk-2d0e925e":"ac70e4e5","chunk-2d207ac9":"a0f70511","chunk-2d2080c7":"7e981ab7","chunk-2d20828d":"d0122cc4","chunk-2d20ff55":"c00f041a","chunk-2d210440":"6436ced0","chunk-2d210f99":"1234188f","chunk-2d218057":"f9b91daa","chunk-2d21b2d9":"4f59f399","chunk-2d21dff7":"00733fbd","chunk-2d21e41f":"f8269b55","chunk-2d221c62":"7c29148c","chunk-2d222546":"265fa351","chunk-2d225296":"9318227b","chunk-2d225664":"96789164","chunk-2d22611c":"40f83d34","chunk-2d2297bc":"761e4725","chunk-2d22a1b6":"cfd6ff07","chunk-2d22ce36":"3df22cda","chunk-2d22d3a8":"53808030","chunk-2d22e157":"a4e9a416","chunk-2d231045":"fdbba2cd","chunk-2d2311e8":"071f7b19","chunk-2d261253":"37ff45d2","chunk-3b31293b":"23332feb","chunk-3bb87d0e":"2eaf46d6","chunk-3eefa2a8":"6565197d","chunk-3f48965f":"291980e4","chunk-43efbda2":"a6628ddd","chunk-4f878514":"6441636c","chunk-2d0dace6":"458cb442","chunk-2d0e62e7":"341dc4b5","chunk-2d237116":"7e5ddac5","chunk-4e7277d5":"8a648243","chunk-3659ce29":"7bab3a5e","chunk-526022d6":"79a0f4d3","chunk-3847c0de":"e5c0b544","chunk-150c4a82":"29c819fa","chunk-eb72276e":"ac166e69","chunk-58b66df9":"2c39e9e0","chunk-24fad822":"bcd7213a","chunk-1b15e1dd":"a60365eb","chunk-11774bae":"da5ff931","chunk-14e912bc":"0862274c","chunk-15328738":"23cd22f7","chunk-34524640":"767f80fb","chunk-5e4fd59d":"4bc63ab1","chunk-63f2285e":"7f3cf3cb","chunk-8cca0090":"d7b85f47","chunk-8fcd06d0":"ce176ab0","chunk-e5f9e0ae":"cd4b4e24","chunk-5994f67a":"5b8b709d","chunk-698f74d5":"43da0475","chunk-6b6f695c":"1af413a5","chunk-77bf1571":"aa7e0d7d","chunk-ea5dff4c":"581b8e76","chunk-70c316c0":"8c5fedc0","chunk-589b7919":"e768b8a3","chunk-198e34ef":"820a66f4","chunk-2d0c190b":"0191f237","chunk-2d21a92e":"d7792a9b","chunk-2d222978":"b38a3cc2","chunk-bd18e6a2":"5650bdfd","chunk-59f29c8d":"5be8fff3","chunk-66bef568":"1dcca49b","chunk-6c40627a":"4741ed13","chunk-703d78b0":"504a3c19","chunk-71d2f73e":"477b0278","chunk-7499dfb6":"fa8f2ff7","chunk-8ee3b352":"d953d0ca","chunk-a1f41d14":"552a6d00","chunk-bd597f0c":"d9e0fb28","chunk-c08e8064":"ba9c3cca","chunk-d90c717e":"374ca2d5","chunk-4fddd802":"f17e577e","chunk-df664df4":"f7c45dfe","chunk-e40fb29e":"329ac913","chunk-15302fac":"cbf499a7","chunk-40c5a146":"4b7866bf","chunk-f7648f2e":"54eed2ca","chunk-fbb0e4bc":"f56e2a3d","chunk-fbbf9fbe":"ebad6a1b","chunk-2d23775c":"0f746e90","chunk-6c51c518":"6239ffb6","chunk-65779b0d":"dd8a161f","chunk-f9539be0":"5a31f788","chunk-0a492f92":"50c478a4","chunk-180660b2":"3fabee2f","chunk-08a2b3cf":"b775209d","chunk-196bbbbc":"faa65a02","chunk-0a68365e":"654d27b2","chunk-2d222178":"6cc3f765","chunk-1e759e79":"6489b0ee","chunk-2d237932":"822300cd","chunk-6bbbfd2f":"756c7191","chunk-161078e6":"45e11fda","chunk-1f92628b":"9c9fcb80","chunk-2d0a33b6":"42846fad","chunk-2d0a4f14":"0f7ceddc","chunk-2d0ac5dd":"2b337134","chunk-2d0c8892":"17b36e5f","chunk-2d0e9004":"778600db","chunk-2d209b4c":"4b45636e","chunk-2d20f003":"00ceb5bc","chunk-2d21a92d":"ee8c3c9b","chunk-435aa026":"4fc43440","chunk-5084825c":"20ad2e7b","chunk-55744460":"033c60a4","chunk-55a2b5c0":"db0efd28","chunk-5b5540ce":"b3a1f117","chunk-5f116fd7":"0f6e0bd5","chunk-6b3eda79":"6eaddb45","chunk-6d68c34e":"49d57593","chunk-79cde962":"29ea382c","chunk-e4fd0ad0":"1800a0af","chunk-ef0d75d0":"266368f1","chunk-ef2246e6":"b0b5e23b","chunk-6b979686":"d0e68236","chunk-7503b3e1":"ebcdc8dc","chunk-2d0a5169":"70a555a3","chunk-2d0ab897":"3993b999","chunk-2d0b3143":"4006b02f","chunk-2d0c7e33":"463d746a","chunk-2d0cb6c5":"1ac2331c","chunk-2d0db7d8":"c7ed21d9","chunk-2d0de726":"b17d390f","chunk-2d0efcae":"ed413089","chunk-2d208701":"1a2df015","chunk-2d20f1b1":"22eb5d08","chunk-2d213386":"b79b4ce2","chunk-5ba1e7e0":"97806de6","chunk-2d0a47c1":"9b4107cd","chunk-2d215c84":"c674ed94","chunk-2d2219c9":"2b8d82ae","chunk-2d2248f1":"8638a136","chunk-2d22cca6":"aee57915","chunk-d54cf23a":"e8168e3e","chunk-2d0c191a":"2628bf70","chunk-2d207f46":"17c7367c","chunk-045d740e":"61261a50","chunk-2d0c8483":"92265ea2","chunk-2d0a514a":"7c1f8f2d","chunk-a1620918":"b8c97c0e","chunk-2d0c8f9b":"6ccc1e6f","chunk-57e02c98":"08033ef7","chunk-2d0a4b23":"42726048","chunk-f8df2c5c":"ff0c3236","chunk-2d209409":"39272537","chunk-2d0c7903":"82eea472"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=o[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=n);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var l=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(d);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,a[1](l)}o[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/CRI-Updates/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"235f":function(e,t,a){e.exports=a.p+"img/txdotLogo.f6cd20cf.png"},"2a33":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("8d60");const o={portalUrl:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_SurfType_Geom_view/FeatureServer/0",refernceLayer:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_Ref_Layers_view/FeatureServer/0",editsLayer:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_Edits_view/FeatureServer/0",assetLyrRdbSrf:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_Ref_Layers_view/FeatureServer/1",assetLyrRdbDsgn:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_Ref_Layers_view/FeatureServer/2",assetLyrRdbName:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_Ref_Layers_view/FeatureServer/3",assetLyrRdbLane:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_Ref_Layers_view/FeatureServer/4",txCounties:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/Texas_County_Boundaries/FeatureServer/0",geomTypeRd:"polyline",geomTypeCounty:"polygon",basemap:"topo-vector",zoomLevel:9,roadSurfaceMouseType:"cursor:crosshair",fmeurl:"http://api.fmeserver.com/js/v3/FMEServer.js",design:[{num:"1",name:"One Way"},{num:"2",name:"Two Way"},{num:"3",name:"Boulevard"}],surface:[{num:10,name:"Paved"},{num:11,name:"Brick"},{num:12,name:"Dirt/Natural"},{num:13,name:"Gravel"},{num:2,name:"Concrete"}],testRoadInfo:[{type:"Paved",bdfo:"0",edfo:"12"},{type:"Brick",bdfo:"12",edfo:"24"}],startPoint:new n["a"]({geometry:{type:"point",longitude:0,latitude:0},symbol:{type:"simple-marker",color:"#8DB600"}}),endPoint:new n["a"]({geometry:{type:"point",longitude:0,latitude:0},symbol:{type:"simple-marker",color:"#E32636"}})}},3123:function(e,t,a){"use strict";a("b092")},"338f":function(e,t,a){"use strict";a("c24a")},3514:function(e,t,a){"use strict";a.r(t),a.d(t,"gLayer",(function(){return S})),a.d(t,"addRdbd",(function(){return k})),a.d(t,"delgLayer",(function(){return N})),a.d(t,"rdbdAssetPt",(function(){return D})),a.d(t,"rdbdAssetLine",(function(){return E})),a.d(t,"map",(function(){return C})),a.d(t,"view",(function(){return x})),a.d(t,"basemapToggle",(function(){return L})),a.d(t,"viewPoint",(function(){return M})),a.d(t,"home",(function(){return I})),a.d(t,"search",(function(){return j})),a.d(t,"featLayer",(function(){return B})),a.d(t,"rdbdSrfcGeom",(function(){return K})),a.d(t,"rdbdSrfcAsst",(function(){return W})),a.d(t,"rdbdDsgnAsst",(function(){return q})),a.d(t,"rdbdNameAsst",(function(){return Z})),a.d(t,"rdbdLaneAsst",(function(){return V})),a.d(t,"editsLayer",(function(){return Q})),a.d(t,"txCounties",(function(){return z})),a.d(t,"countyOfficialInfo",(function(){return X})),a.d(t,"sketch",(function(){return ee})),a.d(t,"newSketch",(function(){return te})),a.d(t,"sketchPoint",(function(){return ae})),a.d(t,"initialize",(function(){return ne}));var n=a("2a33"),o=a("a611"),r=a("6d1b"),i=a("955e"),s=a("a049"),c=a("ce0b"),l=a("5bd5"),d=a("3795"),u=a("173c"),f=a("b039"),b=a("619d"),h=a("e657"),m=a("cb72"),g=a("8491"),p=a("1452"),y=a("07a5"),v=a("80e7"),_=a("cf3e");const S=new c["a"],k=new c["a"],N=new c["a"],D=new c["a"],E=new c["a"],w=new u["default"]({url:"https://tiles.arcgis.com/tiles/KTcxiTD9dsQw4r7Z/arcgis/rest/services/TxDOT_Vector_Tile_Basemap/VectorTileServer",id:"txdot"}),A=new f["default"]({url:"https://txgi.tnris.org/login/path/corner-express-popcorn-compact/wmts",serviceMode:"KVP",id:"imagery"}),T=new b["default"]({baseLayers:w}),F=new b["default"]({baseLayers:A}),C=new r["a"]({basemap:T,layers:[E,D,S,k,E,D,S]}),x=new o["a"]({container:"viewDiv",map:C,zoom:9,highlightOptions:{color:"orange"},constraints:{rotationEnabled:!1,snapToZoom:!1}}),L=new h["a"]({view:x,nextBasemap:F}),M=new m["a"],I=new g["a"]({view:x}),R=new p["a"]({view:x}),P=new y["a"]({view:x}),O=new v["a"]({view:x}),j=new _["a"]({view:x,allPlaceholder:"County Road Name...",includeDefaultSources:!1,sources:[]});j.sources.push({layer:new l["default"]({url:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_Ref_Layers_view/FeatureServer/0"}),searchFields:["RTE_NBR"],displayField:"RTE_NBR",exactMatch:!1,autoSelect:!0,outFields:["*"],name:"County Road",placeholder:"Ex: 7, 240, 243",maxResults:12,maxSuggestions:12,suggestionsEnabled:!0,minCharacters:0,popupEnabled:!1,popupOpenOnSelect:!1,resultSymbol:{type:"simple-line",color:"cyan",width:"6px"}}),console.log(j),x.ui.remove("attribution"),x.ui.empty("top-left"),x.ui.add([{component:I,position:"top-right",index:3},{component:R,position:"top-right",index:2},{component:L,position:"bottom-right"},{component:P,position:"bottom-right"},{component:O,position:"bottom-left"},{component:j,position:"top-right",index:0}]);const B=new l["default"]({url:n["a"].refernceLayer,opacity:1,editingEnabled:!0,returnM:!0,returnZ:!0,hasM:!0,visible:!0,renderer:{type:"simple",symbol:{type:"simple-line",color:[0,127,255]}}}),G={type:"simple-line",color:"#FFBF00",width:"1.5px",style:"solid"},Y={type:"simple-line",color:"#FF9966",width:"1px",style:"solid"},$={type:"simple-line",color:"#7B3F00",width:"1px",style:"solid"},H={type:"simple-line",color:"#89CFF0",width:"1.5px",style:"solid"},U={type:"simple-line",color:"#FFA700",width:"1px",style:"solid"},J={type:"unique-value",field:"SURFACE",uniqueValueInfos:[{value:10,symbol:G,label:"Paved"},{value:11,symbol:Y,label:"Brick"},{value:12,symbol:$,label:"Dirt/Natural"},{value:13,symbol:H,label:"Gravel"},{value:2,symbol:U,label:"Concrete"}]},K=new l["default"]({url:n["a"].portalUrl,renderer:J}),W=new l["default"]({url:n["a"].assetLyrRdbSrf}),q=new l["default"]({url:n["a"].assetLyrRdbDsgn}),Z=new l["default"]({url:n["a"].assetLyrRdbName}),V=new l["default"]({url:n["a"].assetLyrRdbLane}),Q=new l["default"]({url:n["a"].editsLayer}),z=new l["default"]({url:n["a"].txCounties}),X=new l["default"]({url:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_County_Info_Test/FeatureServer/0"}),ee=new i["a"]({view:x,layer:[S],viewModel:new s["a"]({view:x,layer:S})}),te=new i["a"]({view:x,layer:[k],viewModel:new s["a"]({view:x,layer:k,polylineSymbol:{type:"simple-line",color:[127,255,212],width:2,style:"dash"}})});te.id="newSketch";const ae=new i["a"]({view:x,viewModel:new s["a"]({layer:N,view:x}),snappingOptions:{enabled:!0,featureSources:[{layer:S,enabled:!0,featureEnabled:!0}],distance:20}});d["j"](x,"ready").then(C.addMany([K,B,z])),x.on("double-click",e=>{e.stopPropagation()}),x.ui.remove("zoom");const ne=e=>{x.container=e,x.when().then(()=>{console.log("Map and View are ready")}).catch(e=>{console.warn("An error in creating the map occurred:",e)})}},"46d4":function(e,t,a){"use strict";a("ebfa")},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",{attrs:{id:"app"}},[a("router-view")],1)])},r=[],i=a("3514");const s=[{1:"Anderson",2:"Andrews",3:"Angelina",4:"Aransas",5:"Archer",6:"Armstrong",7:"Atascosa",8:"Austin",9:"Bailey",10:"Bandera",11:"Bastrop",12:"Baylor",13:"Bee",14:"Bell",15:"Bexar",16:"Blanco",17:"Borden",18:"Bosque",19:"Bowie",20:"Brazoria",21:"Brazos",22:"Brewster",23:"Briscoe",24:"Brooks",25:"Brown",26:"Burleson",27:"Burnet",28:"Caldwell",29:"Calhoun",30:"Callahan",31:"Cameron",32:"Camp",33:"Carson",34:"Cass",35:"Castro",36:"Chambers",37:"Cherokee",38:"Childress",39:"Clay",40:"Cochran",41:"Coke",42:"Coleman",43:"Collin",44:"Collingsworth",45:"Colorado",46:"Comal",47:"Comanche",48:"Concho",49:"Cooke",50:"Coryell",51:"Cottle",52:"Crane",53:"Crockett",54:"Crosby",55:"Culberson",56:"Dallam",57:"Dallas",58:"Dawson",62:"De Witt",59:"Deaf Smith",60:"Delta",61:"Denton",63:"Dickens",64:"Dimmit",65:"Donley",67:"Duval",68:"Eastland",69:"Ector",70:"Edwards",72:"El Paso",71:"Ellis",73:"Erath",74:"Falls",75:"Fannin",76:"Fayette",77:"Fisher",78:"Floyd",79:"Foard",80:"Fort Bend",81:"Franklin",82:"Freestone",83:"Frio",84:"Gaines",85:"Galveston",86:"Garza",87:"Gillespie",88:"Glasscock",89:"Goliad",90:"Gonzales",91:"Gray",92:"Grayson",93:"Gregg",94:"Grimes",95:"Guadalupe",96:"Hale",97:"Hall",98:"Hamilton",99:"Hansford",100:"Hardeman",101:"Hardin",102:"Harris",103:"Harrison",104:"Hartley",105:"Haskell",106:"Hays",107:"Hemphill",108:"Henderson",109:"Hidalgo",110:"Hill",111:"Hockley",112:"Hood",113:"Hopkins",114:"Houston",115:"Howard",116:"Hudspeth",117:"Hunt",118:"Hutchinson",119:"Irion",120:"Jack",121:"Jackson",122:"Jasper",123:"Jeff Davis",124:"Jefferson",125:"Jim Hogg",126:"Jim Wells",127:"Johnson",128:"Jones",129:"Karnes",130:"Kaufman",131:"Kendall",66:"Kenedy",132:"Kent",133:"Kerr",134:"Kimble",135:"King",136:"Kinney",137:"Kleberg",138:"Knox",142:"La Salle",139:"Lamar",140:"Lamb",141:"Lampasas",143:"Lavaca",144:"Lee",145:"Leon",146:"Liberty",147:"Limestone",148:"Lipscomb",149:"Live Oak",150:"Llano",151:"Loving",152:"Lubbock",153:"Lynn",154:"Madison",155:"Marion",156:"Martin",157:"Mason",158:"Matagorda",159:"Maverick",160:"McCulloch",161:"McLennan",162:"McMullen",163:"Medina",164:"Menard",165:"Midland",166:"Milam",167:"Mills",168:"Mitchell",169:"Montague",170:"Montgomery",171:"Moore",172:"Morris",173:"Motley",174:"Nacogdoches",175:"Navarro",176:"Newton",177:"Nolan",178:"Nueces",179:"Ochiltree",180:"Oldham",181:"Orange",182:"Palo Pinto",183:"Panola",184:"Parker",185:"Parmer",186:"Pecos",187:"Polk",188:"Potter",189:"Presidio",190:"Rains",191:"Randall",192:"Reagan",193:"Real",194:"Red River",195:"Reeves",196:"Refugio",197:"Roberts",198:"Robertson",199:"Rockwall",200:"Runnels",201:"Rusk",202:"Sabine",203:"San Augustine",204:"San Jacinto",205:"San Patricio",206:"San Saba",207:"Schleicher",208:"Scurry",209:"Shackelford",210:"Shelby",211:"Sherman",212:"Smith",213:"Somervell",214:"Starr",215:"Stephens",216:"Sterling",217:"Stonewall",218:"Sutton",220:"Tarrant",221:"Taylor",222:"Terrell",223:"Terry",224:"Throckmorton",225:"Titus",226:"Tom Green",227:"Travis",228:"Trinity",229:"Tyler",230:"Upshur",231:"Upton",232:"Uvalde",233:"Val Verde",234:"Van Zandt",235:"Victoria",236:"Walker",237:"Waller",238:"Ward",239:"Washington",240:"Webb",241:"Wharton",242:"Wheeler",243:"Wichita",244:"Wilbarger",245:"Willacy",246:"Williamson",247:"Wilson",248:"Winkler",249:"Wise",250:"Wood",251:"Yoakum",252:"Young",253:"Zapata",254:"Zavala",219:"Swisher"}],c={objectid:0,roadbedName:"",roadbedDesign:"",roadbedSurface:null,numLane:0,addRoad:!1,cntyName:"",cntyNmbr:0,cntyMiles:0,count:0,updateDfo:0,get getUpdateDfo(){return this.updateDfo},get getObjectId(){return this.objectid},get getCount(){return this.count},get getcntyNmbr(){return this.cntyNmbr},get getcntyMiles(){return this.cntyMiles},get getcntyName(){return this.cntyName},get getaddRoad(){return this.addRoad},get getName(){return this.roadbedName},get getDesign(){return this.roadbedDesign},get getSurface(){return this.roadbedSurface},get getLane(){return this.numLane},set getUpdateDfo(e){this.updateDfo=e},set getObjectId(e){this.objectid=e},set getCount(e){this.count=e},set getcntyNmbr(e){this.cntyNmbr=e},set getcntyMiles(e){this.cntyMiles=e},set getcntyName(e){this.cntyName=e},set getaddRoad(e){this.addRoad=e},set getName(e){this.roadbedName=e},set getDesign(e){this.roadbedDesign=e},set getSurface(e){this.roadbedSurface=e},set getLane(e){this.numLane=e}};var l=a("2a33"),d=a("ea51"),u=a("8d60"),f=a("69dd"),b=(a("f793"),a("d81c8"),a("9786")),h=a("40b6"),m=a("2f62");n["default"].use(m["a"]);const g=new m["a"].Store({state:{objectid:0,roadbedName:"",roadbedDesign:"",roadbedSurface:null,numLane:0,cntyName:"",cntyNmbr:0,cntyMiles:0,count:0,updateDfo:0},getters:{getUpdateDfo(e){return e.updateDfo},getObjectid(e){return e.objectid},getCount(e){return e.count},getCntyNmbr(e){return e.cntyNmbr},getCntyMiles(e){return e.cntyMiles},cntyName(e){return e.cntyName},getRoadbedName(e){return e.roadbedName},getRoadbedDesign(e){return e.roadbedDesign},roadbedSurface(e){return console.log(e),e.roadbedSurface},getNumLane(e){return e.numLane}},mutations:{setUpdateDfo(e,t){e.updateDfo=t},setObjectid(e,t){e.objectid=t},setCount(e,t){e.count=t},setCntyNmbr(e,t){e.cntyNmbr=t},setCntyMiles(e,t){e.cntyMiles=t},setCntyName(e,t){e.cntyName=t},setRoadbedName(e,t){e.roadbedName=t},setRoadbedDesign(e,t){e.roadbedDesign=t},setRoadbedSurface(e,t){console.log(e.roadbedSurface,t),e.roadbedSurface=t},setNumLane(e,t){e.numLane=t}},actions:{roadbedSurfaceAction(e,t){let a=[];for(let n in t)a.push({ASSET_LN_BEGIN_DFO_MS:t[n].AssetBeginDfo,ASSET_LN_END_DFO_MS:t[n].AssetEndDfo,objectid:t[n].objectid,SRFC_TYPE_ID:t[n].srfcType});e.commit("setRoadbedSurface",a)}}});function p(e){console.log(e.results[0].graphic.attributes.OBJECTID);let t=i["featLayer"].queryFeatures({objectIds:[e.results[0].graphic.attributes.OBJECTID],outFields:["*"],returnGeometry:!0,returnM:!0});return console.log(t),t}async function y(e){const t=new f["a"];t.where="RDBD_GMTRY_LN_ID = "+e.features[0].attributes.GID,t.outFields=["*"];const a=i["rdbdSrfcAsst"].queryFeatures(t),n=i["rdbdDsgnAsst"].queryFeatures(t),o=i["rdbdNameAsst"].queryFeatures(t),r=i["rdbdLaneAsst"].queryFeatures(t),s=await a,d=await n,u=await o,b=await r;let h=[];h.length&&(h.length=0);for(let i in s.features){let e=l["a"].surface;for(let t in e)e[t]["num"]===s.features[i].attributes.SRFC_TYPE_ID&&(s.features[i].attributes.SRFC_TYPE_ID=e[t]["name"]);console.log(s.features[i].attributes),h.push(s.features[i].attributes)}h.sort((e,t)=>e.ASSET_LN_BEGIN_DFO_MS>t.ASSET_LN_BEGIN_DFO_MS?1:-1);for(let i=0;i<h.length;i++)h[i].ASSET_LN_BEGIN_DFO_MS=Number(h[i].ASSET_LN_BEGIN_DFO_MS.toFixed(3)),h[i].ASSET_LN_END_DFO_MS=Number(h[i].ASSET_LN_END_DFO_MS.toFixed(3));v(h,d.features[0].attributes.RDWAY_DSGN_TYPE_DSCR,u.features[0].attributes.ST_DEFN_NM,b.features[0].attributes.NBR_THRU_LANE_CNT),c.getSurface=h}function v(e,t,a,n,o){console.log(e),g.commit("setRoadbedSurface",JSON.stringify(e)),g.commit("setRoadbedDesign",t),g.commit("setRoadbedName",a),g.commit("setNumLane",n),g.commit("setObjectid",o),console.log(g.getters.roadbedSurface)}async function _(){let e=new Promise((function(e){let t=window.location.href,a=t.split("https://txdot.github.io/CRI-Updates/")[1];for(let n=0;n<s.length;n++)if(s[n][a]){let t=`County_NBR = '${a}'`;g.commit("setCntyNmbr",a),g.commit("setCntyName",s[n][a]);const o=new f["a"];o.where=t,o.outFields=["*"];let r=i["countyOfficialInfo"].queryFeatures(o);const c=new f["a"];c.where=`CNTY_NM = '${g.state.cntyName}'`,c.outFields=["*"],c.returnGeometry=!0;let l=i["txCounties"].queryFeatures(c);i["search"].sources._items[0].layer.definitionExpression="CNTY_NBR = "+g.state.cntyNmbr;let d=l;d.then((function(e){i["viewPoint"].targetGeometry=e.features[0].geometry.extent,i["home"].viewpoint=i["viewPoint"]})),e({response:!0,nbr:parseInt(a),query:r,extent:l})}else e({response:!1})})),t=await e;return t}async function S(){return await new Promise((function(e){i["newSketch"].create("polyline",{mode:"click",hasZ:!1}),i["newSketch"].on("create",t=>{let a;"complete"===t.state&&(a=d["geodesicLength"](t.graphic.geometry,"miles"),e(a))})}))}async function k(e){let t=new Promise((function(t){i["view"].on(e,e=>{let a={include:i["featLayer"]};i["view"].hitTest(e,a).then((function(e){for(let a=0;a<e.results.length;a++)if(null!==e.results[a].graphic.geometry&&null!==e.results[a].graphic.sourceLayer){let a=p(e);a.then(e=>t(e))}}))})})),a=await t;return await y(a),N(a,e),"pointer-move"===e?(c.getObjectId=a.features[0].attributes.OBJECTID,1):a}async function N(e,t){let a=i["gLayer"].graphics.items.filter(t=>t.attributes.objectid===e.features[0].attributes.OBJECTID);if(console.log(a),a.length)console.log(a);else if("click"===t){let t=new Promise((function(t){let a=new u["a"]({geometry:{type:"polyline",paths:e.features[0].geometry.paths[0],hasM:!0,spatialReference:{wkid:3857}},attributes:{gid:e.features[0].attributes.GID,objectid:e.features[0].attributes.OBJECTID,roadbedName:g.getters.getRoadbedName,roadbedDesign:g.getters.getRoadbedDesign,roadbedSurface:g.getters.roadbedSurface,numLane:g.getters.getNumLane,createDt:(new Date).getTime(),createNm:"DPROSACK"},symbol:{type:"simple-line",color:[0,0,255],width:2,style:"dash"}});i["gLayer"].graphics.add(a),t(i["gLayer"])})),a=await t;D(a)}}function D(e){let t=[];for(let a in e.graphics.items)null!==e.graphics.items[a].attributes&&t.push(e.graphics.items[a].attributes.objectid);i["featLayer"].definitionExpression=`OBJECTID not in (${t}) and CNTY_NM = '${g.getters.cntyName}'`}async function E(e){console.log(e);let t=new Promise((function(e){i["sketch"].on("update",t=>{"complete"===t.state&&(e(t),F(t.graphics[0]))}),i["newSketch"].on("update",t=>{"complete"===t.state&&(e(t),F(t.graphics[0]))})})),a=await t,n=d["geodesicLength"](a.graphics[0].geometry,"miles");console.log(n,e);const o=n-e;let r;if(e<n){let e=Math.abs(o);r=e}if(e>n){let e=-Math.abs(o);r=e}return e===n&&(r=0),console.log(r),r}async function w(){let e=new Promise((function(e){i["view"].on("click",t=>{if(console.log(t),"active"===i["sketch"].state)return;if("active"===i["newSketch"].state)return;let a={include:[i["gLayer"],i["addRdbd"]]};i["view"].hitTest(t,a).then(t=>{const a=t.results;console.log(a),a.forEach((function(a){const n=i["gLayer"].graphics.items.filter(e=>e.attributes.objectid===a.graphic.attributes.objectid).length?i["sketch"]:i["newSketch"];n.update([a.graphic],{tool:"reshape"});let o=d["geodesicLength"](t.results[0].graphic.geometry,"miles");e(E(o))}))})})})),t=await e;return console.log(t),t}function A(){i["newSketch"].cancel()}async function T(){let e=new Promise((function(e){i["view"].on("click",(function(t){let a={include:[i["gLayer"],i["addRdbd"]]};"active"!==i["sketch"].state&&"active"!==i["newSketch"].state&&i["view"].when((function(){i["view"].hitTest(t,a).then((function(t){t.results.length&&(console.log(t.results[0].graphic.attributes),g.commit("setObjectid",t.results[0].graphic.attributes["objectid"]),g.commit("setRoadbedName",t.results[0].graphic.attributes["roadbedName"]),g.commit("setRoadbedDesign",t.results[0].graphic.attributes["roadbedDesign"]),g.commit("setNumLane",t.results[0].graphic.attributes["numLane"]),g.commit("setRoadbedSurface",t.results[0].graphic.attributes["roadbedSurface"]),e(1))}))}))}))})),t=await e;return t}function F(e){console.log(e);let t=i["gLayer"].graphics.items.filter(t=>t.objectid=e.attributes.objectid).at(-1),a=[];a.length&&(a.length=0);for(let o=0;o<i["addRdbd"].graphics.items.length;o++)i["addRdbd"].graphics.items[o].attributes.objectid===e.attributes.objectid&&a.push(i["addRdbd"].graphics.items[o]);console.log(t),console.log(a);let n=[];console.log(n);try{console.log(e.geometry.paths[0][0][2]?e.geometry.paths[0][0][2]:0);let t=e.geometry.paths[0][0][2];n.push(e.geometry.paths[0][0][2]);for(let a=0;a<e.geometry.paths[0].length;a++){let o=new u["a"]({geometry:{type:"point",longitude:e.geometry.paths[0][a][0],latitude:e.geometry.paths[0][a][1]}}),r=new u["a"]({geometry:{type:"point",longitude:e.geometry.paths[0][a+1][0],latitude:e.geometry.paths[0][a+1][1]}}),i=h["b"](b["e"](r.geometry),b["e"](o.geometry),"miles");t+=i.distance,n.push(t)}}catch{console.log("end of the line")}if(console.log(a),t)for(let o=0;o<n.length;o++)t.geometry.setPoint(0,o,[e.geometry.paths[0][o][0],e.geometry.paths[0][o][1],n[o]]);else{console.log("addRd");for(let t=0;t<n.length;t++)console.log(a[0].geometry.setPoint(0,t,[e.geometry.paths[0][t][0],e.geometry.paths[0][t][1],n[t]]));console.log(a)}console.log(a),console.log(t)}function C(e){const t=i["gLayer"].graphics.items;let a,n,o,r;for(let i in t)t[i].attributes.OBJECTID===e.objectid&&(a=t[i].geometry,n=t[i].attributes.createDt,o=t[i].attributes.createNm,r=t[i].attributes.gid);const s=new u["a"]({geometry:a,attributes:{objectid:e.objectid,gid:r,begin_dfo:1,end_dfo:1,seg_len:4,county:c.getcntyNmbr,edit_type:"update",create_nm:o,create_dt:n,edit_nm:e.editNm,edit_dt:e.editDt,submit:0,cnty_nbr:c.getcntyNmbr,srfc_type_id:e.rdbdSurfe,st_defn_nm:e.rdbdName,rdway_dsgn_type_dscr:e.rdbdDes,nbr_thru_lane_cnt:e.numLanes}});i["editsLayer"].applyEdits({addFeatures:[s]})}function x(e,t){console.log(t),console.log(e);let a=i["rdbdAssetLine"].graphics.items;console.log(a);for(let r=0;r<a.length;r++)a[r].attributes.objectid===t[0].objectid&&(console.log(a[r].attributes.objectid),i["rdbdAssetLine"].graphics.remove(a[r]));let n=e.paths[0],o=[];console.log(o),o.length&&(o.length=0);for(let r=0;r<n.length;r++)o.push(Number(parseFloat(n[r][2]).toFixed(3)));for(let r in t){let e=e=>e>=t[r].ASSET_LN_BEGIN_DFO_MS,a=e=>e>=t[r].ASSET_LN_END_DFO_MS;console.log(o.findIndex(e)),console.log(o.findIndex(a)-1),console.log(o.findIndex(a)),console.log(n.length),console.log(n.slice(o.findIndex(e),o.findIndex(a)+1)),console.log(n.slice(o.findIndex(e),o.findIndex(a)));let s=-1===o.findIndex(a)?n.slice(o.findIndex(e)):n.slice(o.findIndex(e),o.findIndex(a)+1);console.log(s);let c,l=t[r].SRFC_TYPE_ID;switch(l){case"Paved":c="#FF6700";break;case"Brick":c="#FF0800";break;case"Dirt/Natural":c="#CF71AF";break;case"Gravel":c="#36454F";break;case"Concrete":c="#CFCFC4"}const d={type:"simple-line",color:c,width:5,style:"solid"};let f=new u["a"]({geometry:{type:"polyline",paths:s,hasM:!0,spatialReference:{wkid:3857}},attributes:{objectid:t[r].objectid},symbol:d});i["rdbdAssetLine"].graphics.add(f)}}function L(e,t){console.log(e),console.log(i["rdbdAssetPt"]);let a=i["rdbdAssetPt"].graphics.items.filter(t=>t.attributes.objectid===e[0].objectid),n=i["gLayer"].graphics.items.filter(t=>t.attributes.objectid===e[0].objectid);if(console.log(JSON.stringify(e)),g.commit("setRoadbedSurface",JSON.stringify(e)),n[0].attributes.roadbedSurface=g.getters.roadbedSurface,"click"!==t){console.log(a);for(let e=0;e<a.length;e++)a[e].attributes.edit?console.log("fail",a[e]):(console.log(a[e]),console.log(I(a[e].attributes.objectid,a[e].geometry.x,a[e].geometry.y)))}x(n.at(-1).geometry,e)}function M(e){console.log(e),console.log(i["rdbdAssetPt"]);try{let t;i["rdbdAssetPt"].length&&(i["rdbdAssetPt"].length=0),console.log(i["gLayer"]);for(let o in i["gLayer"].graphics.items)i["gLayer"].graphics.items[o].attributes.objectid===e[0].objectid&&(console.log(i["gLayer"].graphics.items[o]),t=i["gLayer"].graphics.items[o].geometry);let a=t.paths[0],n=[];n.length&&(n.length=0);for(let e=0;e<a.length;e++)n.push(a[e][2]);for(let o in e){console.log(e[o].srfcType);let t=t=>t>=e[o].ASSET_LN_BEGIN_DFO_MS,r=t=>t>=e[o].ASSET_LN_END_DFO_MS;console.log(n.findIndex(t)),console.log(n.findIndex(r)-1),console.log(n.findIndex(r)),console.log(a.length),console.log(a.slice(n.findIndex(r)-1));let s=-1===n.findIndex(r)?a.slice(n.findIndex(r)-1):a.slice(n.findIndex(r)-1,n.findIndex(r)+1);console.log(s);const c=1609.344*Math.abs(s[0][2]-e[o].ASSET_LN_END_DFO_MS);console.log(c);const l=new u["a"]({geometry:{type:"point",longitude:s[0][0],latitude:s[0][1]}}),d=new u["a"]({geometry:{type:"point",longitude:s[1][0],latitude:s[1][1]}});let f=b["e"](l.geometry),m=b["e"](d.geometry);const g=h["b"](f,m),p=h["e"](f,c,g.azimuth);console.log(p.x,p.y,e[o].SRFC_TYPE_ID);const y=b["b"](p);let v,_=e[o].SRFC_TYPE_ID;switch(_){case"Paved":v="#FF6700";break;case"Brick":v="#FF0800";break;case"Dirt/Natural":v="#CF71AF";break;case"Gravel":v="#36454F";break;case"Concrete":v="#CFCFC4"}const S={type:"simple-marker",color:v};console.log(y);let k=new u["a"]({geometry:{type:"point",hasM:!0,longitude:p.x,latitude:p.y,spatialReference:{wkid:3857}},attributes:{objectid:e[o].objectid,assetTyp:_,bDfo:e[o].ASSET_LN_BEGIN_DFO_MS,eDfo:e[o].ASSET_LN_END_DFO_MS},symbol:S});i["rdbdAssetPt"].graphics.add(k),console.log(i["rdbdAssetPt"])}L(e)}catch(t){return console.log(Error),void alert("You have selected a value that is greater than the length of road")}}function I(e,t,a){let n={};n.length&&(n.length=0);let o=new u["a"]({geometry:{type:"point",longitude:t,latitude:a}}),r=b["e"](o.geometry);for(let d in i["gLayer"].graphics.items)i["gLayer"].graphics.items[d].attributes.objectid===e&&(n=i["gLayer"].graphics.items[d].geometry,console.log(n));console.log(n.paths[0].length);let s,c=d["nearestVertex"](n,o.geometry).vertexIndex,l=n.paths[0].at(c);if(console.log(c),n.paths[0].at(-1)===l)return void console.log("End of the line");s=n.paths[0].slice(c,c+2),console.log(s);let f=s[0][0]>s[1][0];console.log(f);let m=l[0],g=l[1],p=new u["a"]({geometry:{type:"point",longitude:m,latitude:g}});console.log(o,p);let y,v=t-m;0===v&&(y=a-g);let _=b["e"](p.geometry);const S=h["b"](_,r);let k,N;return console.log(S),console.log(s[0][2]),console.log(s[1][2]),v<0&&!f?console.log("1",Math.abs(s[0][2]-S.distance/1609.344)):v>0&&!f?console.log("1",Math.abs(s[0][2]+S.distance/1609.344)):v<0&&f?console.log("2",Math.abs(s[0][2]+S.distance/1609.344)):v>0&&f&&console.log("2",Math.abs(s[0][2]-S.distance/1609.344)),console.log(s[0][2]),0===v&&(k=s[0][2],N=c),v<0&&!f?(k=Math.abs(s[0][2]-S.distance/1609.344),N=c):v>0&&!f||v<0&&f?(k=Math.abs(s[0][2]+S.distance/1609.344),N=c+1):v>0&&f&&(k=Math.abs(s[0][2]-S.distance/1609.344),N=c),0===v&&y<0?k=Math.abs(s[0][2]-S.distance/1609.344):0===v&&y>0&&(k=Math.abs(s[0][2]+S.distance/1609.344)),console.log(k),k?(n.insertPoint(0,N,[t,a,Number(k.toFixed(3))]),k):void 0}async function R(e){console.log("this point is being updated",e);let t=[];t.length&&(t.length=0);for(let c in i["rdbdAssetPt"].graphics.items)console.log(i["rdbdAssetPt"].graphics.items[c]),i["rdbdAssetPt"].graphics.items[c].attributes.objectid===e[0].objectid&&i["rdbdAssetPt"].graphics.items[c].attributes.assetTyp===e[0].SRFC_TYPE_ID&&i["rdbdAssetPt"].graphics.items[c].attributes.eDfo===e[0].ASSET_LN_END_DFO_MS&&(i["view"].goTo({center:i["rdbdAssetPt"].graphics.items[c].geometry,zoom:20}),i["rdbdAssetPt"].graphics.items[c].attributes.edit=null,console.log(i["rdbdAssetPt"].graphics.items[c]),t=i["rdbdAssetPt"].graphics.items[c]);console.log(t);let a=new Promise((function(e){i["sketchPoint"].create("point",{mode:"click"}),i["sketchPoint"].on("create",(function(t){i["sketchPoint"].cancel(),e(t)}))})),n=await a;console.log(n),console.log(t);let o=I(t.attributes.objectid,n.graphic.geometry.x,n.graphic.geometry.y);console.log(o),console.log(n);let r,s=e[0].SRFC_TYPE_ID;switch(s){case"Paved":r="#FF6700";break;case"Brick":r="#FF0800";break;case"Dirt/Natural":r="#CF71AF";break;case"Gravel":r="#36454F";break;case"Concrete":r="#CFCFC4";break}const l={type:"simple-marker",color:r},d=new u["a"]({geometry:{type:"point",longitude:n.graphic.geometry.x,latitude:n.graphic.geometry.y,m:Number(parseFloat(o).toFixed(3))}});let f=b["e"](d.geometry),h=new u["a"]({geometry:{type:"point",hasM:!0,longitude:f.x,latitude:f.y,spatialReference:{wkid:3857}},attributes:{objectid:e[0].objectid,assetTyp:s,bDfo:e[0].ASSET_LN_BEGIN_DFO_MS,eDfo:Number(parseFloat(o).toFixed(3)),edit:!0},symbol:l});console.log(t),console.log(t.attributes.objectid),i["rdbdAssetPt"].graphics.remove(t),i["rdbdAssetPt"].graphics.add(h),console.log(i["rdbdAssetPt"]),c.getUpdateDfo=h.attributes.eDfo,console.log(c.getUpdateDfo);let m=i["rdbdAssetPt"].graphics.items.filter(t=>t.attributes.objectid===e[0].objectid),g=[];for(let i=0;i<m.length;i++)console.log(m[i].attributes.assetTyp,Number(parseFloat(m[i].attributes.bDfo)),Number(parseFloat(m[i].attributes.eDfo)),m[i].attributes.objectid,m[i].attributes.edit),g.push({SRFC_TYPE_ID:m[i].attributes.assetTyp,ASSET_LN_BEGIN_DFO_MS:Number(parseFloat(m[i].attributes.bDfo)),ASSET_LN_END_DFO_MS:Number(parseFloat(m[i].attributes.eDfo)),objectid:m[i].attributes.objectid,edit:m[i].attributes.edit});console.log(g);let p=O(g,"click");return console.log(p),L(p,"click"),p}function P(){i["rdbdAssetPt"].graphics.removeAll(),console.log(i["rdbdAssetPt"])}function O(e,t){console.log(e);let a=[];console.log(i["gLayer"].graphics.items.filter(t=>t.attributes.objectid===e[0].objectid).length?i["gLayer"]:i["addRdbd"]);for(let n=0;n<i["gLayer"].graphics.items.length;n++)i["gLayer"].graphics.items[n].attributes.objectid===e[0].objectid&&a.push(i["gLayer"].graphics.items[n]);console.log(a);for(let n=0;n<a[0].attributes.roadbedSurface.length;n++)"string"!==typeof a[0].attributes.roadbedSurface[n].ASSET_LN_BEGIN_DFO_MS&&"string"!==typeof a[0].attributes.roadbedSurface[n].ASSET_LN_END_DFO_MS||(e[n].edit=!0);i["rdbdAssetLine"].removeAll(),console.log(e),e.sort((e,t)=>e.ASSET_LN_BEGIN_DFO_MS>t.ASSET_LN_BEGIN_DFO_MS),console.log(e);for(let n=1;n<e.length;n++)e[n].edit&&(console.log(e[n-1],e[n]),e[n-1].ASSET_LN_END_DFO_MS=e[n].ASSET_LN_BEGIN_DFO_MS,e[n+1]&&(e[n+1].ASSET_LN_BEGIN_DFO_MS=e[n].ASSET_LN_END_DFO_MS)),e[n-1].edit&&(console.log(e[n-1],e[n]),e[n].ASSET_LN_BEGIN_DFO_MS=e[n-1].ASSET_LN_END_DFO_MS,e[n+1]&&(e[n+1].ASSET_LN_BEGIN_DFO_MS=e[n].ASSET_LN_END_DFO_MS));return e.at(-1).ASSET_LN_END_DFO_MS!==Number(a[0].geometry.paths[0].at(-1)[2].toFixed(3))&&(e.at(-1).ASSET_LN_END_DFO_MS=Number(a[0].geometry.paths[0].at(-1)[2].toFixed(3))),console.log(e),"click"!==t&&(i["rdbdAssetPt"].removeAll(),M(e)),e}function j(){i["sketch"].complete()}async function B(e){const t=new f["a"];t.where=e,t.outFields=["*"],t.returnGeometry=!0,t.returnM=!0;let a=await i["featLayer"].queryFeatures(t);console.log(a)}var G={name:"App",mounted(){_().then(e=>{!0===e.response?this.$router.push({name:"MileSign",params:{id:e.nbr}}):this.$router.push("/catchAll(.*)")})}},Y=G,$=(a("5c0b"),a("2877")),H=Object($["a"])(Y,o,r,!1,null,null,null),U=H.exports,J=(a("164a"),a("ce5b")),K=a.n(J);a("bf40"),a("5363");n["default"].use(K.a);const W={};var q=new K.a({opts:W,icons:{iconfont:"mdi"}}),Z=a("8c4f"),V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"MapHome"},[a("mapHeader"),a("Map"),a("mapFooter")],1)},Q=[],z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main",attrs:{id:"viewDiv"}},[a("div",{attrs:{id:"step"}},[a("stepper")],1)])},X=[],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{staticClass:"mb-12",attrs:{id:"stepper",vertical:"","non-linear":""},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"},on:{click:function(t){return e.removeAsstPt()}}},[e._v(" Road Name: "),a("small",[e._v("Fill out this form to complete editing your road.")])]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",[a("v-text-field",{attrs:{label:"Road Name",disabled:e.graphic?e.disabled:""},model:{value:e.roadbedName,callback:function(t){e.roadbedName=t},expression:"roadbedName"}})],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v(" Continue ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")])],1),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"},on:{click:function(t){return e.removeAsstPt()}}},[e._v(" Road Design ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",[a("v-select",{attrs:{items:e.design,label:"Design",outlined:"",filled:"",disabled:e.graphic?e.disabled:""},model:{value:e.roadbedDesign,callback:function(t){e.roadbedDesign=t},expression:"roadbedDesign"}})],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=3}}},[e._v(" Continue ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")])],1),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v(" Road Surface ")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",[a("div",{staticClass:"scroller"},[e._l(e.rdbdSurf,(function(t,n){return a("v-col",{key:n},[a("v-select",{attrs:{items:e.surface,label:"Road Surface",outlined:"",disabled:e.graphic?e.disabled:""},model:{value:t.SRFC_TYPE_ID,callback:function(a){e.$set(t,"SRFC_TYPE_ID",a)},expression:"item.SRFC_TYPE_ID"}}),e._v(" "),a("v-row",[a("v-col",{attrs:{sm:"6"}},[a("v-text-field",{attrs:{label:"A",disabled:e.graphic?e.disabled:""},model:{value:t.ASSET_LN_BEGIN_DFO_MS,callback:function(a){e.$set(t,"ASSET_LN_BEGIN_DFO_MS",a)},expression:"item.ASSET_LN_BEGIN_DFO_MS"}})],1),a("v-col",{attrs:{sm:"6"}},[a("v-text-field",{attrs:{label:"B",disabled:e.graphic?e.disabled:""},model:{value:t.ASSET_LN_END_DFO_MS,callback:function(a){e.$set(t,"ASSET_LN_END_DFO_MS",a)},expression:"item.ASSET_LN_END_DFO_MS"}}),a("v-btn",{attrs:{id:"editedfo",icon:"","x-small":"",elevation:"0"},on:{click:function(a){return e.executeDFOgraph("draw",t.ASSET_LN_END_DFO_MS)}}},[a("v-icon",[e._v("mdi-pencil")])],1)],1)],1),a("v-btn",{attrs:{id:"currentSurf",elevation:"0"},on:{click:function(t){return e.deleteSurface(n)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)})),e._l(e.mileInfo,(function(t,n){return a("v-card",{key:n},[a("v-select",{attrs:{items:e.surface,label:"Road Surface",outlined:""},model:{value:t.SRFC_TYPE_ID,callback:function(a){e.$set(t,"SRFC_TYPE_ID",a)},expression:"item.SRFC_TYPE_ID"}}),a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"A"},model:{value:t.ASSET_LN_BEGIN_DFO_MS,callback:function(a){e.$set(t,"ASSET_LN_BEGIN_DFO_MS",a)},expression:"item.ASSET_LN_BEGIN_DFO_MS"}})],1),a("v-col",{attrs:{sm:"6"}},[a("v-text-field",{attrs:{label:"B"},model:{value:t.ASSET_LN_END_DFO_MS,callback:function(a){e.$set(t,"ASSET_LN_END_DFO_MS",a)},expression:"item.ASSET_LN_END_DFO_MS"}}),a("v-btn",{attrs:{id:"editedfo1",icon:"","x-small":"",elevation:"0"},on:{click:function(a){return e.executeDFOgraph("draw",t.ASSET_LN_END_DFO_MS)}}},[a("v-icon",[e._v("mdi-pencil")])],1)],1)],1),a("v-btn",{attrs:{id:"addSurf",elevation:"0"},on:{click:function(t){return e.deleteSurface()}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)}))],2),a("v-btn",{attrs:{color:"pink"},on:{click:e.addRoadSurface}},[e._v("add additional Road Surface Types")])],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.executeDFOgraph("point")}}},[e._v(" Draw Surface Graphic ")]),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=4}}},[e._v(" Continue ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")])],1),a("v-stepper-step",{attrs:{step:"4",editable:""},on:{click:function(t){return e.removeAsstPt()}}},[e._v(" Number of Lanes ")]),a("v-stepper-content",{attrs:{step:"4"}},[a("v-card",{attrs:{disabled:e.graphic?e.disabled:""}},[a("v-select",{attrs:{items:e.lanes,label:"Number of Lanes",outlined:"",filled:""},model:{value:e.numLane,callback:function(t){e.numLane=t},expression:"numLane"}})],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=5}}},[e._v(" Continue ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")])],1),a("v-stepper-step",{attrs:{step:"5",editable:""},on:{click:function(t){return e.removeAsstPt()}}},[e._v(" Completed? ")]),a("v-stepper-content",{attrs:{step:"5"}},[a("v-btn",{attrs:{color:"primary",disabled:e.graphic?e.disabled:""},on:{click:function(t){return e.saveAttri()}}},[e._v(" Save Edits ")]),a("v-btn",{attrs:{text:"",disabled:e.graphic?e.disabled:""},on:{click:function(t){return e.cancel()}}},[e._v(" Cancel ")])],1)],1)},te=[],ae={name:"stepper",props:{received:Boolean},data(){return{mileInfo:[],e1:1,design:["One Way","Two-way","Boulevard"],surface:["Paved","Brick","Dirt/Natural","Gravel","Concrete"],lanes:[1,2,3,4,5,6],counter:0,beginDFO:null,endDFO:null,editTest:!1,clickCount:0,graphic:!1,feature:!1,clickCountF:0,cursor:!1,bdfo:!1,edfo:!0,assetLnInfo:null,disabled:!1,newDfo:0,dfoRules:{DFO:e=>!!e||"Required",gather:e=>(document.getElementsByTagName("input"),console.log(e),e)}}},mounted(){document.getElementById("addBtn").onclick=this.clearTable},watch:{received(){console.log(this.received)},clickCountF:{handler:async function(){const e="pointer-move";let t=await k(e);this.feature=!0,this.graphic=!1,this.clickCountF+=t,console.log(t),document.getElementById("step").style.width="450px"},immediate:!0},clickCount:{handler:async function(){let e=await T(!1);console.log(e),this.feature=!1,this.graphic=!0,this.clickCount+=e,document.getElementById("step").style.width="450px",this.rdbdSurf,this.roadbedName,this.roadbedDesign,this.objectid},immediate:!0},newDfo(){console.log(this.newDfo),this.emptyMileArr();let e=[];for(let t in this.newDfo)e.push({ASSET_LN_BEGIN_DFO_MS:this.newDfo[t].ASSET_LN_BEGIN_DFO_MS,ASSET_LN_END_DFO_MS:this.newDfo[t].ASSET_LN_END_DFO_MS,objectid:this.newDfo[t].objectid,SRFC_TYPE_ID:this.newDfo[t].SRFC_TYPE_ID});this.rdbdSurf=e}},methods:{emptyMileArr(){this.mileInfo.length&&(this.mileInfo.length=0)},removeAsstPt(){P()},async executeDFOgraph(e,t){console.log(e,t),j();const a=[];if("point"===e){console.log(this.rdbdSurf);for(let e in this.rdbdSurf){let t={SRFC_TYPE_ID:this.rdbdSurf[e].SRFC_TYPE_ID,ASSET_LN_BEGIN_DFO_MS:Number(this.rdbdSurf[e].ASSET_LN_BEGIN_DFO_MS),ASSET_LN_END_DFO_MS:Number(this.rdbdSurf[e].ASSET_LN_END_DFO_MS),objectid:this.objectid};a.push(t)}for(let e in this.mileInfo){console.log(this.mileInfo[e]);let t={SRFC_TYPE_ID:this.mileInfo[e].SRFC_TYPE_ID,ASSET_LN_BEGIN_DFO_MS:Number(parseFloat(this.mileInfo[e].ASSET_LN_BEGIN_DFO_MS)),ASSET_LN_END_DFO_MS:Number(parseFloat(this.mileInfo[e].ASSET_LN_END_DFO_MS)),objectid:this.objectid,edit:this.mileInfo[e].EDIT};a.push(t)}this.newDfo=O(a)}else if("draw"===e){console.log(t);for(let n in this.rdbdSurf)if(this.rdbdSurf[n].ASSET_LN_END_DFO_MS===t){let e={SRFC_TYPE_ID:this.rdbdSurf[n].SRFC_TYPE_ID,ASSET_LN_BEGIN_DFO_MS:parseFloat(this.rdbdSurf[n].ASSET_LN_BEGIN_DFO_MS),ASSET_LN_END_DFO_MS:parseFloat(this.rdbdSurf[n].ASSET_LN_END_DFO_MS),objectid:this.objectid};a.push(e)}for(let n in this.mileInfo)if(Number(parseFloat(this.mileInfo[n].ASSET_LN_END_DFO_MS))===Number(t)){console.log(this.mileInfo[n]);let e={SRFC_TYPE_ID:this.mileInfo[n].SRFC_TYPE_ID,ASSET_LN_BEGIN_DFO_MS:Number(parseFloat(this.mileInfo[n].ASSET_LN_BEGIN_DFO_MS)),ASSET_LN_END_DFO_MS:Number(parseFloat(this.mileInfo[n].ASSET_LN_END_DFO_MS)),objectid:this.objectid};a.push(e)}console.log(a);let e=await R(a);console.log(e),this.newDfo=e}},getElement(){document.getElementsByTagName("input")&&document.getElementById("dfo")&&console.log(document.getElementsByTagName("input"))},cancel(){document.getElementById("step").style.width="0px",console.log(this.getCount)},addRoadSurface(){this.mileInfo.push({SRFC_TYPE_ID:"",ASSET_LN_BEGIN_DFO_MS:0,ASSET_LN_END_DFO_MS:0,EDIT:!0})},clearTable(){},deleteSurface(e){console.log(e),document.getElementById("currentSurf")&&console.log(this.mileInfo.splice(e,1))},saveAttri(){const e=[];for(let a in this.rdbdSurf){let t={srfcType:this.rdbdSurf[a].SRFC_TYPE_ID,AssetBeginDfo:this.rdbdSurf[a].ASSET_LN_BEGIN_DFO_MS,AssetEndDfo:this.rdbdSurf[a].ASSET_LN_END_DFO_MS};e.push(t)}for(let a in this.mileInfo){let t={srfcType:this.mileInfo[a].SRFC_TYPE_ID,AssetBeginDfo:parseInt(this.mileInfo[a].ASSET_LN_BEGIN_DFO_MS),AssetEndDfo:parseInt(this.mileInfo[a].ASSET_LN_END_DFO_MS)};e.push(t)}let t={objectid:this.objectid,numLanes:this.numLane,rdbdName:this.roadbedName,rdbdDes:this.roadbedDesign,rdbdSurfe:JSON.stringify(e),editNm:"DPROSACK",editDt:(new Date).getTime()};console.log(t),C(t)}},computed:{numLane:{get(){return this.$store.state.numLane}},rdbdSurf:{get(){return console.log(this.$store.state.roadbedSurface),JSON.parse(this.$store.state.roadbedSurface)},set(e){this.$store.commit("setRoadbedSurface",JSON.stringify(e))}},roadbedName:{get(){return this.$store.state.roadbedName}},roadbedDesign:{get(){return this.$store.state.roadbedDesign}},objectid:{get(){return this.$store.state.objectid}}}},ne=ae,oe=(a("6389"),Object($["a"])(ne,ee,te,!1,null,"351d9447",null)),re=oe.exports,ie={name:"Map",components:{stepper:re},data(){return{stepper:!1,addButton:"add Road",previousTotal:0,lineLength:{},newMiles:"",modifyLine:0}},async mounted(){const e=await Promise.resolve().then(a.bind(null,"3514"));e.initialize(this.$el),console.log(this.cntyName)},methods:{uploadFile(){document.getElementById("upldFile").click()},fileValid(){let e=document.getElementById("upldFile").value,t=/(\.shp|\.gdb)$/i;if(!t.exec(e))return alert("Incorrect File Type!"),e="",!1}},watch:{},computed:{}},se=ie,ce=(a("3123"),Object($["a"])(se,z,X,!1,null,"0bf830dc",null)),le=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mapHeader"}},[n("v-toolbar",{attrs:{dark:""}},[n("v-app-bar-nav-icon",{on:{click:e.expand}}),n("v-toolbar-title",{attrs:{justify:"center"}},[e._v("Welcome to DUSA")]),n("v-btn-toggle",{attrs:{id:"editBtns"}},[n("v-btn",{attrs:{color:"red",small:""}},[e._v("Delete Roads")]),n("v-btn",{attrs:{color:"primary",small:"",id:"addBtn"},on:{click:function(t){e.addRoad(),e.snackbar=!0}}},[e._v("Add Roads")]),n("input",{attrs:{id:"upldFile",type:"file",hidden:""},on:{change:function(t){return e.fileValid()}}}),n("v-btn",{attrs:{color:"blue-grey",small:"",component:"span",variant:"contained"},on:{click:function(t){return e.uploadFile()}}},[e._v("Upload Files")])],1),n("v-btn-toggle",{attrs:{id:"submitExitBtns"}},[n("v-btn",{attrs:{color:"green",small:""},on:{click:function(t){e.submitCertify=!0}}},[e._v("Submit & Certify")]),n("v-btn",{attrs:{color:"Black",small:""}},[e._v("Save & Exit")])],1)],1),n("div",{staticClass:"text-center"},[n("v-snackbar",{staticStyle:{bottom:"50px"},attrs:{timeout:"-1"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[n("v-btn",{attrs:{dark:"",color:"pink",text:"",width:"600"},on:{click:function(t){e.snackbar=!1,e.cancelEditing()}}},[e._v(" Stop Editing ")])],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.submitCertify,callback:function(t){e.submitCertify=t},expression:"submitCertify"}},[n("v-card",{attrs:{height:"300"},model:{value:e.submitCertify,callback:function(t){e.submitCertify=t},expression:"submitCertify"}},[n("v-img",[n("img",{staticStyle:{position:"relative",top:"0%"},attrs:{src:a("7c66")}})]),n("v-card-actions",[n("div",{staticClass:"black--text mb-3",staticStyle:{position:"absolute",top:"20%",left:"5%"}},[n("v-card-text",[e._v(" You are about to submit and certify county mileage for "+e._s(e.cntyName)+" County."),n("br"),e._v(" The previous years mileage was "),n("b",[e._v(e._s(this.countyTotal)+" miles")]),e._v("."),n("br"),e._v("The new total mileage is "),n("b",[e._v(e._s(e.countyTots)+" miles.")])])],1),n("div",{staticStyle:{position:"absolute",left:"10%",bottom:"5%"}},[n("div",{staticStyle:{position:"relative",left:"70%",top:"0%"}},[n("v-btn",{attrs:{elevation:"2",color:"primary"}},[e._v(" Submit & Certify ")])],1)])])],1)],1)],1)},ue=[],fe={name:"mapHeader",data(){return{submitCertify:!1,previousTotal:0,snackbar:!1}},methods:{addRoad(){S().then(e=>{console.log(Number(parseFloat(e.toFixed(3)))),this.previousTotal+=Number(parseFloat(e.toFixed(3)))})},cancelEditing(){A()}}},be=fe,he=(a("d645"),Object($["a"])(be,de,ue,!1,null,"ec8ee574",null)),me=he.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"mapFooter"}},[a("v-card",{attrs:{dark:"",height:"50"}},[a("div",{staticClass:"font-weight-regular"},[e._v("County: "+e._s(e.county)+"      User Name: "+e._s(this.username)+"       Previous Total Mileage: "+e._s(e.countyTotal)+"    Current Mileage: "+e._s(e.currentMiles)+"    New Total Miles: "+e._s(e.countyTots)+" ")]),a("v-btn",{staticStyle:{right:"30%",bottom:"20%"}},[e._v("Criteria")]),a("v-btn",{staticStyle:{right:"40%",bottom:"20%"}},[e._v("About")]),a("v-btn",{attrs:{id:"googleBtn",color:"blue"},on:{click:function(t){return e.google()}}},[e._v("Jump to Google")])],1)],1)},pe=[];function ye(){console.log("I'm gonna jump to google now");let e=i["view"].get("center"),t=e.latitude,a=e.longitude,n=i["view"].zoom;window.open("https://www.google.com/maps/@"+t+","+a+","+n+"z")}var ve={name:"mapFooter",data(){return{previousTotal:0,modifyLength:0,modifyLine:0,username:"DPROSACK"}},methods:{google(){ye()}},watch:{modifyLength:{handler:async function(){let e=await w();console.log(e),this.modifyLength+=e},immediate:!0},modifyLine:{handler:async function(){let e=await k("click");this.modifyLine+=parseFloat(d["geodesicLength"](e.features[0].geometry,"miles").toFixed(3)),console.log(e.features[0].geometry)},immediate:!0}},computed:{county:{get(){return this.$store.state.cntyName}},countyTotal:{get(){return this.$store.state.cntyMiles}},currentMiles:function(){return Number(this.previousTotal)+Number(this.modifyLength)},countyTots:function(){return Number(this.countyTotal)+Number(this.previousTotal)+Number(this.modifyLength)}}},_e=ve,Se=(a("338f"),Object($["a"])(_e,ge,pe,!1,null,"059f4e7d",null)),ke=Se.exports,Ne={name:"MapHome",components:{Map:le,mapHeader:me,mapFooter:ke},props:["id"],methods:{expand(){"0px"===document.getElementById("step").style.width?document.getElementById("step").style.width="450px":document.getElementById("step").style.width="0px"}},mounted(){}},De=Ne,Ee=(a("c97a"),Object($["a"])(De,V,Q,!1,null,"6ff35a69",null)),we=Ee.exports,Ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ErrorPage"},[a("h1",[e._v("Hello! The County Id that was provided, is not correct. Contact the CRI Admin")])])}],Fe={name:"errorPage"},Ce=Fe,xe=Object($["a"])(Ce,Ae,Te,!1,null,null,null),Le=xe.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",[n("v-dialog",{attrs:{persistent:"","max-width":"1100"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[n("v-img",[n("img",{attrs:{src:a("235f")}})])],1),n("v-card-text",{attrs:{justify:"left"},domProps:{innerHTML:e._s(e.txt)}}),n("v-card-actions",[n("v-row",[n("v-col",[n("v-spacer"),n("div",{attrs:{id:"disagree"}},[n("v-btn",{attrs:{small:"",dark:"",color:"red"},on:{click:function(t){e.dialog=!1,e.disagree=!0}}},[e._v(" Review & Edit ")])],1),n("div",{attrs:{id:"agree"}},[n("v-btn",{attrs:{small:"",dark:"",color:"blue"},on:{click:function(t){e.dialog=!1,e.agree=!0}}},[e._v(" Agree & Certify ")])],1),n("div",{attrs:{id:"delegate"}},[n("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){e.dialog=!1,e.delegate=!0}}},[e._v(" Assign Delegate ")])],1)],1)],1)],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.disagree,callback:function(t){e.disagree=t},expression:"disagree"}},[n("v-card",{attrs:{height:"300"},model:{value:e.disagree,callback:function(t){e.disagree=t},expression:"disagree"}},[n("v-img",[n("img",{staticStyle:{position:"relative",top:"0%"},attrs:{src:a("7c66")}})]),n("v-card-actions",[!1===e.certify?n("div",{staticStyle:{position:"absolute",top:"10%",left:"0%"}},[n("v-alert",{staticClass:"black--text mb-3",attrs:{color:"red lighten-2",border:"top",dark:""},domProps:{innerHTML:e._s(e.statusMessageFalse)}})],1):e._e(),!0===e.certify?n("div",{staticStyle:{position:"absolute",top:"10%",left:"0%"}},[n("v-alert",{staticClass:"black--text mb-3",attrs:{color:"green",border:"top",dark:""},domProps:{innerHTML:e._s(e.statusMessageTrue)}})],1):e._e(),n("div",{staticClass:"black--text mb-3",staticStyle:{position:"absolute",top:"20%",left:"5%"}},[n("v-card-text",{domProps:{innerHTML:e._s(e.disagreeTxt)}})],1),n("div",{staticStyle:{position:"absolute",left:"10%",bottom:"5%"}},[n("div",{staticStyle:{position:"relative",left:"200%",top:"0%"}},[n("v-btn",{attrs:{elevation:"2",color:"primary"},on:{click:function(t){e.disagree=!1,e.goToMap()}}},[e._v(" Login ")])],1),n("div",{staticStyle:{position:"relative",right:"50%",bottom:"10%"}},[n("v-btn",{attrs:{"x-small":"",elevation:"0",outlined:"",color:"primary",onclick:"window.location.href='https://www.dot.state.tx.us/apps-cg/contact_us/form/dusa-form.htm'"}},[e._v(" Sign-Up ")])],1)])])],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[n("v-card",[n("v-card-text",[n("p",{staticClass:"text-body-1",domProps:{innerHTML:e._s(e.agreeTxt)}})]),n("div",{attrs:{id:"agreeTxtBox"}},[n("v-text-field",{attrs:{disabled:"",required:"",outlined:"",label:"County Judge Name"},model:{value:e.judgeName,callback:function(t){e.judgeName=t},expression:"judgeName"}}),n("v-text-field",{attrs:{disabled:"",label:"County Judge E-mail",required:"",outlined:""},model:{value:e.judgeEmail,callback:function(t){e.judgeEmail=t},expression:"judgeEmail"}}),e._l(e.emailList,(function(t){return n("v-text-field",{key:t,attrs:{rules:e.emailRules,label:"CC E-mail",required:"",outlined:"","append-icon":e.trash},on:{"click:append":function(t){return e.deleteEmail(e.index)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-icon",{on:{click:function(t){return e.deleteEmail(e.index)}}},[e._v("mdi-delete")])]},proxy:!0}],null,!0)},[e._v(e._s(t)+" ")])})),n("div",[n("a",{staticStyle:{color:"blue"},attrs:{id:"addEmail","x-small":""},on:{click:e.addEmail}},[e._v("Add CC")])]),n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{rules:e.sigRules,outlined:"",placeholder:"Gimme your John Hancock"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),n("p",{staticStyle:{"font-family":"Brush Script MT","font-size":"30px"}},[e._v("Signature: "+e._s(e.message))]),n("div",{attrs:{id:"CCEmail"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.valid,expression:"valid"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.valid)?e._i(e.valid,null)>-1:e.valid},on:{change:function(t){var a=e.valid,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&(e.valid=a.concat([r])):i>-1&&(e.valid=a.slice(0,i).concat(a.slice(i+1)))}else e.valid=o}}}),n("label",[e._v(" I certify, I am "+e._s(e.judgeName))])]),n("v-spacer"),n("v-btn",{attrs:{outlined:"",color:"blue",disabled:!e.valid},on:{click:function(t){e.alert=!0,e.agree=!1,e.submit()}}},[e._v("Submit")])],2),n("v-spacer"),n("v-alert",{staticStyle:{left:"15px",top:"5px"},attrs:{borderd:"bottom",type:"info","max-width":"550"},domProps:{innerHTML:e._s(e.certiAlert)}})],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[n("v-card",[n("v-icon",{staticStyle:{left:"0%"},attrs:{color:"green"}},[e._v(" mdi-check ")]),e._v(" Thank you for certifing your mileage! Be on the lookout for an email confirming your certification. ")],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"650px"},model:{value:e.delegate,callback:function(t){e.delegate=t},expression:"delegate"}},[n("v-card",[n("v-spacer"),n("v-card-text",{attrs:{justify:"center"},domProps:{innerHTML:e._s(e.delegateTxt)}}),n("div",[n("v-card-action",[n("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{counter:30,required:"",outlined:"",label:"Name"}}),n("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{rules:e.emailRules,label:"E-mail",required:"",outlined:""}})],1)],1),n("v-divider"),e._l(e.emailList,(function(t){return n("div",{key:t},[n("v-card-action",[n("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{counter:30,required:"",outlined:"",label:"Name"}}),n("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{rules:e.emailRules,label:"E-mail",required:"",outlined:""}}),n("v-divider")],1),n("div",{staticStyle:{position:"relative",left:"40%",bottom:"110px"}},[n("v-icon",{on:{click:function(t){return e.deleteEmail(e.index)}}},[e._v("mdi-delete")])],1)],1)})),n("div",{staticStyle:{position:"relative",left:"0px",bottom:"3px"}},[n("a",{staticStyle:{color:"blue"},attrs:{"x-small":""},on:{click:e.addEmail}},[e._v("Add CC")])]),n("v-btn-toggle",[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialog=!0,e.delegate=!1}}},[e._v("Back to Certification Page")]),n("v-btn",{attrs:{color:"primary"}},[e._v("Send")]),n("v-btn",{attrs:{color:"primary",href:"https://www.txdot.gov/"}},[e._v("Exit")])],1)],2)],1)],1)},Ie=[],Re={name:"MileSign",props:["id"],data(){return{certify:!1,statusMessageFalse:"",statusMessageTrue:"",valid:!0,sigRules:[e=>!!e||"Name is required",e=>e&&e.length>=5||"Name must be greater than 5 characters"],disabled:!0,checkbox:!1,sign:!1,delegate:!1,alert:!1,dialog:!1,txt:"",disagree:!1,agree:!1,disagreeTxt:"<br><br>Click on the Login button to use your CRI credentials to access DUSA. If you do not have a DUSA account, click on the sign up button to register.",agreeTxt:"",currentMiles:0,date:0,sendData:0,signed:!1,countyNbr:"",judgeName:"",judgeEmail:"",county:"",enabled:!1,emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],select:null,emailList:[],counter:0,message:"",certiAlert:"",delegateTxt:""}},async mounted(){this.certify=!1;let e=await _(),t=await e["query"];this.judgeName=t.features[0].attributes["Judge_Name"],this.judgeEmail=t.features[0].attributes["Judge_Email"],this.countyNbr=t.features[0].attributes["County_NBR"],this.currentMiles=t.features[0].attributes["Total_Mileage"],this.county=t.features[0].attributes["County_Name"],this.sendData=parseInt(this.currentMiles),this.sendCountyName(),this.$store.commit("setCntyMiles",this.currentMiles),this.dialog=!0,this.agreeTxt=`<br><br><p align="justify">You are about to certify your county mileage. The current mileage for <b>${this.county}</b> is <b>${this.currentMiles}</b>. Only the county judge can certify the county road inventory.<br><br>\n                          If you are not the county judge, please exit this form, or proceed to the DUSA application to start making edits.<br></p><br>`,this.delegateTxt=`<p align="justify">Use this form to delegate persons to make edits to the ${this.county} County Road Inventory.<br><br> Delegates will receive an email stating that you, ${this.judgeName}, have granted them this authority.<br>\n                              You will be copied on all delegation emails. Delegating others to assist with review and edits of your county road inventory does not prevent you from making edits yourself.<br>\n                              Furthermore, as county judge, you will have to certify the changes upon their completion and submittal of edits.</p>`;const a=new Date;this.certiAlert=`<p>By clicking submit, you are certifying the mileage for your county and completing the process for ${a.getFullYear()-1}.<br> Edits made in ${a.getFullYear()} after certifying are allowed, but will need to be recertified by the county judge prior to <DATE> in order to be accepted.`,a.toDateString(),this.statusMessageFalse=`As of today, ${a.toDateString().substring(4,15)}, ${this.judgeName}, has not certified the mileage for County ${this.county}`,this.statusMessageTrue=`As of today, ${a.toDateString().substring(4,15)}, ${this.judgeName}, has certified the mileage for County ${this.county}`,this.date=a.toDateString().substring(4,15),this.txt=`<p align="justify">${a.toDateString().substring(4,15)}</p>\n          </br>\n\n          <p align="justify" style=font-family: Arial, Helvetica, sans-serif>Dear ${this.judgeName},</p><br>\n\n          <p align="justify" style=font-family: Arial, Helvetica, sans-serif>The Texas Department of Transportation (TxDOT) is soliciting updates to the county road inventory (CRI) from your county. The deadline for the ${a.getFullYear()} submission is <u>August 31</u>.<br><br>\n           \n          In September ${a.getFullYear()}, the certified county-maintained road mileage from ${a.getFullYear()-1} will be submitted to the Texas Department of Motor Vehicles for disbursement of the tile\n          and registration fees and to the State Comptroller's Office for disbursement of the Lateral Road and Bridge funds. Updates made by Ausgust 31, ${a.getFullYear()} will be reviewed and updated in our system then reported\n          in September of ${a.getFullYear()+1}<br><br>\n            \n          Your ${a.getFullYear()} certified mileage is: <b><u>${this.currentMiles}</b></u><br><br>\n            \n          Please click the appropriate response below to agree or disagree with this mileage.  You may also delegate the certification to another county official.<br><br>\n\n          Thank you for your assistance in keeping the county road inventory up to date. If you have any questions or need clarification, please contact us by email or phone. <br><br>\n\n          Sincerely,<br><br> \n          Michael Chamberlain<br>  \n          Transportation Planning and Programming Division<br>  \n          Director of Data Management<br>  \n          TPP-GIS@txdot.gov<br>  \n          (512) 486-5054<br><br></p>\n                                                       <br><br><br> \n                                                       <footer style="text-align: center;font-size:12px"><p style=font-family: Arial, Helvetica, sans-serif>OUR VALUES: People • Accountability • Trust • Honesty<br>\n                                                              OUR MISSION:  Connecting You With Texas<br>\n                                                                  An Equal Opportunity Employer</p></footer>`},methods:{submit(){let e=new XMLHttpRequest;e.responseType="json",e.onreadystatechange=function(){4==e.readyState&&200==e.status&&console.log("Webhook fired! Check your email...")};let t=`https://gis-batch-dev.txdot.gov:8443/fmejobsubmitter/DUSA/emailer.fmw?email="TXDOT.SPM@gmail.com"&name=${this.judgeName}&opt_showresult=false&opt_servicemode=sync&token=a421aac78d7326aca5457e78d144e64cd972f885`;e.open("GET",t,!0),e.send()},addSignature(){return this.signature},addEmail(){let e=this.counter++;this.emailList.push(e)},async goToMap(){this.$router.push("/map");let e=i["featLayer"].definitionExpression=`CNTY_NM = '${this.county}'`;i["txCounties"].definitionExpression=`CNTY_NM='${this.county}'`,i["rdbdSrfcGeom"].definitionExpression=`CNTY_NM='${this.county}'`;const t=new f["a"];t.where=`CNTY_NM = '${this.county}'`,t.outFields=["*"],t.returnGeometry=!0;let a=i["txCounties"].queryFeatures(t),n=await a;i["view"].goTo({target:n.features[0].geometry}),B(e)},sendCountyName(){this.sendData=parseInt(this.currentMiles),this.$emit("county-miles",this.sendData)},deleteEmail(e){this.emailList.splice(e,1)}}},Pe=Re,Oe=(a("46d4"),Object($["a"])(Pe,Me,Ie,!1,null,"10be5b00",null)),je=Oe.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.disagree,callback:function(t){e.disagree=t},expression:"disagree"}},[n("v-card",{attrs:{height:"300"},model:{value:e.disagree,callback:function(t){e.disagree=t},expression:"disagree"}},[n("v-img",[n("img",{staticStyle:{position:"relative",top:"0%"},attrs:{src:a("7c66")}})]),n("v-card-actions",[!1===e.certify?n("div",{staticStyle:{position:"absolute",top:"10%",left:"0%"}},[n("v-alert",{staticClass:"black--text mb-3",attrs:{color:"red lighten-2",border:"top",dark:""},domProps:{innerHTML:e._s(e.statusMessageFalse)}})],1):e._e(),!0===e.certify?n("div",{staticStyle:{position:"absolute",top:"10%",left:"0%"}},[n("v-alert",{staticClass:"black--text mb-3",attrs:{color:"green",border:"top",dark:""},domProps:{innerHTML:e._s(e.statusMessageTrue)}})],1):e._e(),n("div",{staticClass:"black--text mb-3",staticStyle:{position:"absolute",top:"20%",left:"5%"}},[n("v-card-text",{domProps:{innerHTML:e._s(e.disagreeTxt)}})],1),n("div",{staticStyle:{position:"absolute",left:"10%",bottom:"5%"}},[n("div",{staticStyle:{position:"relative",left:"200%",top:"0%"}},[n("v-btn",{attrs:{elevation:"2",color:"primary"},on:{click:function(t){e.disagree=!1}}},[e._v(" Login ")])],1),n("div",{staticStyle:{position:"relative",right:"50%",bottom:"10%"}},[n("v-btn",{attrs:{"x-small":"",elevation:"0",outlined:"",color:"primary",onclick:"window.location.href='https://www.dot.state.tx.us/apps-cg/contact_us/form/dusa-form.htm'"}},[e._v(" Sign-Up ")])],1)])])],1)],1)},Ge=[],Ye={name:"Login",props:["id"],data(){return{statusMessageTrue:"",statusMessageFalse:"",certify:!1,disagree:!0,disagreeTxt:"<br><br>Click on the Login button to use your CRI credentials to access DUSA. If you do not have a DUSA account, click on the sign up button to register.",judgeName:"",county:""}},async mounted(){this.certify=!1;const e=new Date;this.certiAlert=`<p>By clicking submit, you are certifying the mileage for your county and completing the process for ${e.getFullYear()-1}.<br> Edits made in ${e.getFullYear()} after certifying are allowed, but will need to be recertified by the county judge prior to <DATE> in order to be accepted.`,e.toDateString(),this.statusMessageFalse=`As of today, ${e.toDateString().substring(4,15)}, Judge David P, has not certified the mileage for County Fake `,this.statusMessageTrue=`As of today, ${e.toDateString().substring(4,15)}, Judge David P, has certified the mileage for County Fake`}},$e=Ye,He=Object($["a"])($e,Be,Ge,!1,null,null,null),Ue=He.exports;n["default"].use(Z["a"]);const Je=[{path:"/:id(\\d{0,3})",name:"MileSign",component:je,props:!0},{path:"/map",name:"MapHome",component:we,props:!0},{path:"/login",name:"Login",component:Ue,props:!0},{path:"/catchAll(.*)",component:Le}],Ke=new Z["a"]({mode:"history",base:"/CRI-Updates/",routes:Je});var We=Ke;n["default"].config.productionTip=!1,new n["default"]({vuetify:q,router:We,roadInfo:c,store:g,render:e=>e(U)}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},6389:function(e,t,a){"use strict";a("aa74")},"7c66":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABvFBMVEX////////////w9Pn6+/3t8/iGrNLs8vj+/v+HrNI6eLX9///9/v+80eYXX6g2dbTv9Pn8/f7//f370dL5u7z5vL37vb3brLZujrtekcRhksQrbbADUqEYYalajcFekMN/ps/Y5PD97Oz2mZr0gYP0g4T1g4Txg4WQfqAPVaEBUaAEU6EGVKIFU6ETXadnl8bQ3+3++fn3oaL0gIL0g4X1g4XzfoBlW4sDU6IFU6IRXKapxN///Pz5urv2kpP1kZP1kpP3kpLckpw1Z6YLWKQmaq4ZYanU4e/83t72mpv1jY71jo/2jo/yjpF1a5Y8eLWnw97d6PJqmMcfZav+9/f2m5z0foD0gYL2goP2gILXhZCnu9bq8fjz9/ubutne6PP//v7/+/v++/utw910m8d2nch0nMe/z+P8+/z9/v7P3u0iZ60AUKACUaEoa67W4/D09/tYjMEFVKIMWKSfvducutoLV6RcjsL1+PspbK8EUqElaa7R3+73+fxik8QKVqOWttilwd0OWaVTiL7y9vrc5/IwcLEgZavK2+v5+/1ol8YBUKCMsNTt8viVtdeIrdKJrtOXt9ju8/n+/v7LbLaGAAAAAnRSTlMp5JWydLIAAAABYktHRACIBR1IAAAAB3RJTUUH4gUfEAQvhFmDvQAAARdJREFUOMtjYCAEGAkABiYCYAAVMLPgV8DKxo5XAQcnFzNOBdw8HEy8fPwCTIKCSAqEhEVEIUBMXEJSSlpGVk5eQRFJgZKyiioEqKlraGpp6+jq6RsgmWBoZGwCA6Zm5hballbWgkhusLG1s3eAAUcnZxdXHTd3ZEd6eHp5w4CPr59/QGBQMLKCkNCw8HCVCBBQCY+Mio5hYoqNi0dSkJAIBEnJKampaek2iRkcIPHMTPRwyMrOyc3Jy8cZFwWFMjpFxSW4I6u0rEhHprwCp4L8yiqdquoanNFdWyejo1PfgDs9NDZZ6sg0t+BU0Nomo6Pd3sGES0FnV7eMjE4PE04FvX39E/onToIITMbhTZyAHgoIZl5CAACqqEHw5TBtwwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNS0zMVQxNjowNDo0NyswMjowMN+nWE4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDUtMzFUMTY6MDQ6NDcrMDI6MDCu+uDyAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC"},"9c0c":function(e,t,a){},aa74:function(e,t,a){},b092:function(e,t,a){},bc66:function(e,t){function a(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="bc66"},c24a:function(e,t,a){},c97a:function(e,t,a){"use strict";a("d6f3")},d645:function(e,t,a){"use strict";a("eb42")},d6f3:function(e,t,a){},eb42:function(e,t,a){},ebfa:function(e,t,a){}});
//# sourceMappingURL=app.4ddee410.js.map