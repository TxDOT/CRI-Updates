{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","webpack:///./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","webpack:///./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js","webpack:///./node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js","webpack:///./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/originGraphicVisualElementUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/undoRecords.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js","webpack:///./node_modules/@arcgis/core/geometry/support/coordinateSystem.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","webpack:///./node_modules/@arcgis/core/widgets/Slice/SlicePlane.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/Factory.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js","webpack:///./node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js","webpack:///./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js","webpack:///./node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js","webpack:///./node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js","webpack:///./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack:///./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js","webpack:///./node_modules/@arcgis/core/views/draw/drawSurfaces.js","webpack:///./node_modules/@arcgis/core/chunks/vec4f32.js","webpack:///./node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","webpack:///./node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js","webpack:///./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js","webpack:///./node_modules/@arcgis/core/chunks/Laserlines.glsl.js","webpack:///./node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","webpack:///./node_modules/@arcgis/core/views/draw/support/createUtils.js","webpack:///./node_modules/@arcgis/core/views/draw/DrawGraphicTool.js","webpack:///./node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js","webpack:///./node_modules/@arcgis/core/views/interactive/dragEventPipeline.js","webpack:///./node_modules/@arcgis/core/portal/support/resourceExtension.js","webpack:///./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","webpack:///./node_modules/@arcgis/core/core/colorUtils.js","webpack:///./node_modules/@arcgis/core/views/draw/DrawManipulator.js","webpack:///./node_modules/@arcgis/core/views/draw/DrawingMode.js","webpack:///./node_modules/@arcgis/core/views/draw/DrawOperation.js","webpack:///./node_modules/@arcgis/core/views/support/drapedUtils.js","webpack:///./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js"],"names":["i","vertex","uniforms","add","code","r","e","setUniform1f","camera","perScreenPixelRatio","screenSize","a","n","U","k","t","l","q","c","s","b","x","d","y","v","super","this","layer","interactive","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","symbol","_set","attachSymbolChanged","graphic","elevationInfo","offset","mode","_get","_updateGraphicSymbol","emit","action","detachSymbolChanged","_resetGraphicSymbol","visible","geometry","view","type","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","equals","o","spatialReference","clone","mapPoint","radiusPx","size","C","toScreen","p","xoffset","m","yoffset","toMap","include","S","renderSpatialReference","state","eye","constructOnly","nonNullable","prototype","readOnly","value","_attached","_resourcesCreated","_visible","_createResources","_destroyResources","console","error","attached","_stage","updateVisibility","createResources","destroyResources","shader","get","configuration","build","rctx","attributeLocations","program","setUniform3fv","innerColor","innerWidth","pixelRatio","glowColor","glowWidth","glowFalloff","globalAlpha","setUniform2f","fullWidth","fullHeight","setUniformMatrix4fv","projectionMatrix","viewMatrix","contrastControlEnabled","globalAlphaContrastBoost","blending","colorWrite","Map","arguments","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","Float64Array","length","buffers","Math","floor","ensureVAO","bindVAO","drawArrays","dispose","createVAO","ensureVertexData","createDataBuffer","data","createVertex","vertexBuffers","setData","reduce","numberOfRenderVertices","createBuffer","u","f","getAltitude","setAltitude","worldUpAtPosition","up","setVec","start","extrude","setValues","end","buffer","vec3f","vec2f","angleCutoff","cos","max","intersectsLineEnabled","heightManifoldEnabled","pointDistanceEnabled","lineVerticalPlaneEnabled","H","_config","_technique","_projInfo","_zScale","_heightManifoldEnabled","_heightManifoldTarget","_pointDistanceEnabled","_pointDistanceOrigin","_pointDistanceTarget","_lineVerticalPlaneEnabled","_lineVerticalPlaneSegment","_intersectsLineEnabled","_intersectsLineSegment","_intersectsLineRadius","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_pathVerticalPlaneData","_pathTechnique","canRender","_tempNormal","_tempDir","_tempUp","_tempVec3A","_tempVec3B","_tempVec4","_tempPlane","_tempSphere","_params","_requestRender","vertices","pathVerticalPlaneEnabled","_context","renderContext","_quadVAO","_techniqueRepository","shaderTechniqueRep","_techniqueConfig","acquire","lineVerticalPlaneSegment","renderUnified","renderPath","_selectTechnique","useProgram","bindPipelineState","_bindGlobalUniforms","bindHeightManifoldUniforms","bindPointDistanceUniforms","bindLineVerticalPlaneUniforms","bindIntersectsLineUniforms","bind","origin","draw","setUniform4fv","setUniform4f","vector","B","c0","Number","MAX_VALUE","frustum","setUniform3f","setUniform2fv","near","far","computeScreenPixelSizeAt","bindTexture","offscreenRenderingHelper","linearDepthTexture","mainColorTexture","requestRender","releaseAndAcquire","_angleCutoff","_style","_intersectsLine","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProps","renderer","ensureRenderer","disposeRenderer","syncHeightManifold","syncIntersectsLine","syncPathVerticalPlane","syncLineVerticalPlane","syncPointDistance","syncAngleCutoff","syncStyle","syncRenderer","intersectsLine","renderCoordsHelper","intersectsLineInfinite","syncIntersectsLineInfinite","target","addRenderPlugin","renderSlots","setParameters","intersectsLineRadius","heightManifoldTarget","intersectsLineSegment","pathVerticalPlaneBuffers","pointDistanceOrigin","pointDistanceTarget","removeRenderPlugin","_resources","_transform","object","transformation","removeMany","geometries","removeAllGeometries","createGeometries","setVisible","addMany","isPickable","updatePolicy","castShadow","createExternalResources","forEachExternalMaterial","destroyExternalResources","_ray","_externalResources","_handles","_isWorldDown","_start","_end","_width","_color","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stipplePreferContinuous","_falloff","_extensionType","_laserlineStyle","_laserlineEnabled","_renderOccluded","_fadedExtensions","materialParameters","updateGeometry","material","laserline","destroy","removeAll","extensionType","push","Float32Array","createPolylineGeometry","addGeometry","updateVertices","updateMaterial","recreate","_laserlineAttached","style","recreateGeometry","width","color","stippleOffColor","stipplePattern","stipplePreferContinuous","falloff","polygonOffset","renderOccluded","writeDepth","updateLineSegmentFinite","updateLineSegmentInfinite","updateVertexAttributes","elevationProvider","getElevation","ray","direction","c1","abs","W","getMutableAttribute","fadedExtensions","geometryVertexAttrsUpdated","geometryRecords","_location","_direction","_offset","_length","projectToScreen","location","unprojectFromScreen","resourceFactory","external","_syncVisible","_createOrDestroyResources","forEach","cameraChanged","cameraHandle","_geometry","_size","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","resources","preferredTextureSize","updateSizeAttribute","texture","id","geometrySize","textureIsSignedDistanceField","distanceFieldBoundingBox","occlusionTest","outlineColor","outlineSize","textureId","shaderPolygonOffset","drawInSecondSlot","depthEnabled","pixelSnappingEnabled","createRenderGeometry","createTexture","mipmap","wrap","height","components","noUnpackFlip","vertexAttributes","fromElevationInfo","createPointGeometry","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","previous","center","next","min","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","exclusive","Uint16Array","transparent","coordinateHelper","primitive","vectorToPoint","intersectionPoint","toUnitRGBA","orange","point","createLineSegmentHintFromMap","lineStart","lineEnd","fadeLeft","fadeRight","parallelLineHintOffset","parallelLineHintLength","parallelLineHintWidth","setDirectionFromPoints","outlineRenderOccluded","rightAngleHintOutlineSize","rightAngleHintSize","previousVertex","centerVertex","nextVertex","createLineSegmentHint","lineHintWidthTarget","lineHintFadedExtensions","lineHintWidthReference","main","selected","staged","outline","selectedOutline","g","coneHeight","coneWidth","collisionPadding","hoverOutlineColor","hoverColor","minSquaredEdgeLength","edge","edgeOffset","shape","radius","heightFillColor","toUnitRGB","laserlineStyle","shadowStyle","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","visualElements","reshapeManipulators","zManipulator","_syncGeometriesToRenderer","ensureRenderGeometriesRemoved","layerView","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","addGeometries","drapeSourceType","_attachmentOrigin","_attachmentOriginDirty","_isDraped","drapedResources","_createDrapedResources","_createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","isDraped","laserlineEnabled","indices","isClosed","fromRenderCoords","join","normalizedRenderOccluded","createRenderGeometries","position","lines","overlayInfo","attributeData","removeDuplicateStartEnd","boundingSphere","sqrt","mapPosition","pathVerticalPlane","output","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","screenSizeEnabled","shadingEnabled","OITEnabled","transparencyPassType","multipassTerrainEnabled","cullAboveGround","shadingTint","shadingDirection","nearFar","inverseViewport","blendColor","viewInverseTransposeMatrix","rebindTextures","culling","cullFace","depthTest","func","depthWrite","setPipelineState","count","supportsEdges","techniqueConfig","_vertexAttributeLocations","parameters","h","applyToVertex","computeRenderPixelSizeAt","applyToAabb","ensureTechnique","updateParameters","bindPass","_material","getPassParameters","vertexBufferLayout","invTranspTransformation","has","Error","getField","_vertices","_spatialReference","colorToVec4","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","numVertices","vertexGeometry","vertexOutlineGeometry","createSphereGeometry","EventedAccessor","tracking","displaying","_activeVertexVisualElement","_createGraphicState","_outlineVisualElement","_verticesVisualElement","geometryType","internalGraphicsLayer","hasZ","maskOccludee","trackGraphicState","manipulators","drawingMode","defaultZ","snapToSceneEnabled","snapToScene","drawSurface","elevationDrawSurface","hasM","snappingManager","snappingVisualizer","apply","screenToRender","unprojectFromRenderScreen","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","z","_elevationAlignedLocation","_elevationAlignedLocationDirty","_grabbing","_hovering","_selected","_state","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayer","_materialIdReferences","copyFrom","_removeResourcesFromStage","_updateEngineObject","slice","$","toRenderCoords","elevationAlignedLocation","ee","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","ensureScreenLocation","renderLocation","_calculateModelTransformOffset","_e","projectToRenderScreen","renderToScreen","available","te","_getCollisionRadius","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ne","se","ce","le","ie","oe","_","de","ue","ae","he","_calculateModelTransformPosition","manipulator3D","engineLayerId","getObject","engineLayerReferences","materialIdReferences","ge","extent","_getFocusedSize","focused","objectsByState","_ensureEngineResources","stateMask","objects","Set","renderObjects","transform","Array","isArray","set","materials","_addResourcesToStage","delete","re","isVisible","areAnyResourcesVisible","viewingMode","atan2","getViewForGraphic","computeAttachmentOrigin","F","anchor","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","on","writeDepthEnabled","E","j","M","G","L","update","D","onManipulatorsChanged","setStartEndFromWorldDownAtLocation","attachmentOrigin","w","P","R","V","intersectsWorldUpAtLocation","calculateMapBounds","ceil","PI","forEachManipulator3D","someManipulator","plane","screenStart","J","screenEnd","renderStart","renderEnd","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","execute","sign","dxScreen","screenDeltaX","dyScreen","screenDeltaY","translationX","translationY","translationZ","rings","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","createDragPipeline","map","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","computeRenderPixelSizeAtDist","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","X","EventedMixin","graphics","enableZ","_toolHandles","snappingPipeline","_refreshManipulators","complete","updatingHandles","updating","handles","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","buildSnappingPipelineSteps","destroyed","pointer","editGeometryOperations","fromGeometry","visualizer","excludeFeature","snapOrigin","pointToVector","createSnapDragEventPipelineStep","snappingContext","cancel","edgeDirection","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_edgeOffsetManipulatorMaterial","_edgeOffsetManipulatorHoverMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_edgeOffsetManipulatorGeometryInside","_edgeOffsetManipulatorGeometryOutside","_manipulatorHandles","_manipulatorInfos","_editGeometryOperations","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_snappingPipeline","_snappingPipelineHandle","_vertexLaserLineVisualElement","_resetGrabbingDragging","_recreateEditGeometryAndManipulators","enableZShape","enableZVertex","enableMoveGraphic","enableMidpoints","enableEdgeOffset","handle","_removeVertices","_createVertexOrEdgeManipulator","edges","_createGraphicMoveManipulators","canRedo","canUndo","redo","_recreateManipulators","undo","_removeManipulators","inputGeometry","_moveVertices","_updateEventState","mover","mapDeltaX","mapDeltaY","mapDeltaZ","info","_trackNumDragging","createUndoGroup","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","pos","predicate","_updateMoveManipulationPosition","locationUpdateHandle","selectedIndex","edgeManipulator","visibilityHandle","_autoHideEdgeOffsetManipulator","_updateEdgeOffsetManipulator","_getManipulatorInfoFromHandle","leftVertex","rightVertex","_createEdgeOffsetPipeline","_updateManipulatorPosition","pe","step","cleanup","_initializeEdgeOffset","_applyEdgeOffsetStep","requiresSplitEdgeLeft","_splitEdgeManipulator","leftEdge","requiresSplitEdgeRight","rightEdge","_cleanEdgeOffsetCollapsedEdges","operation","_offsetEdge","distance","_createEdgeOffsetManipulator","_computeVertexManipulatorSizeAndOutline","Vertex","Edge","_setTypeSpecificManipulatorSettings","_isMultiVertexSelection","_perVertexManipulatorDragAction","_manipulatorClickCallback","doneSnapping","_updateSelection","pointerType","splice","indexOf","vectorToDehydratedPoint","splitEdge","createdVertex","_removeManipulator","vectorToArray","component","coordinates","componentIndex","vertexIndex","index","added","orthogonalAvailable","canRemoveVertex","removeVertices","removedVertices","createdEdge","removed","moveVertices","signedDistanceToPoint","shiftKey","button","_reshapeOperation","_internalGeometryUpdate","automaticManipulatorSelection","_updateGeometry","manipulatorSelectionChanged","_updateGeometryInternally","_onReshapeGeometryChanged","_updateGraphic","key","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","adapter","scale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","deltaTime","createRingManipulator","restart","initialAngle","angleDir","scaleDir","shortestSignedDiff","ot","onScaleChanged","nt","record","createUndoRecord","xScale","yScale","startAnimation","ct","ht","updateDelayedFocusedState","updateStateEnabled","sin","createPathExtrusionGeometry","left","right","round","concat","lt","dt","notifyGeometryChanged","clonePositional","previousAngle","previousScale","rotation","geographic","rotate","initialSizes","findLayerView","getSymbolLayerSize","heading","updateSymbol","forEachObjectSymbolLayerPair","sizeFilter","depth","enableRotation","enableScaling","scaleRotate","moveManipulation","createGeometryUndoRecord","scaleRotateAdapter","createScaleRotateAdapter","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","updateManipulatorsInteractive","enforceNonZeroSize","allLayerViews","find","test","K","backgroundColor","gridColor","gridWidth","opacity","stencilWrite","sceneHasOcludees","stencilTest","enableOffset","_occludeePipelineState","getPipelineState","relativeElevation","updateTexture","hasOccludees","_output","_updateOccludeeState","bindTextures","bindTextureScale","initTextureTransparent","tilt","json","read","write","range","normalize","getLogger","Ne","basis1","basis2","$e","Qe","tt","it","Rt","Xe","ft","basis","mt","tubeRadius","tipRadius","tipLength","tubeFocusMultiplier","tipFocusMultiplier","padding","bothEnds","flat","focusTipLength","addCap","normal","part","vt","kt","Uint32Array","xt","Ut","ut","O","thickness","preMultiplyAlpha","fromData","adjustScaleFactors","factor1","factor2","dz","axis1","axis2","POSITIVE_INFINITY","NEGATIVE_INFINITY","I","N","T","St","_preserveAspectRatio","inputState","moveZManipulator","resizeManipulators","rotateManipulator","outlineVisualElement","mapBounds","mapBoundsStart","displayBounds","displayBoundsStart","displayBoundsMarginStart","resizeHandles","graphicMoveManipulation","createMoveXYGraphicDragPipeline","updateManipulatorAvailability","createMoveZDragPipeline","onResizeGrab","createResizeDragPipeline","rotateManipulatorTexture","toolViewManager","textures","onRotateGrab","createRotateDragPipeline","updateDisplayBounds","updateAllManipulatorAvailability","graphicDrapedChanged","pointsOfInterest","centerOnSurfaceFrequent","release","pixelSizeAt","displayBoundsMargin","updateManipulators","Bt","applyGraphicMoveSteps","moveDragUpdateGeometry","calculatePickRay","screenPoint","resizeDragRenderPlaneToFactors","resizeDragUpdateGeometry","Gt","scaleVertices","rotatePlane","rotateDragRenderPlaneToRotate","rotateDragUpdateGeometry","rotateAngle","rotateAxis","rotateVertices","updateZMoveHandle","lastOperation","activeTool","_isToolEditable","_manipulators","_nextManipulatorId","_resourceContexts","visibilityPredicate","_updateManipulatorAttachment","_detachManipulator","items","intersectionDistance","_isManipulatorItemVisible","_attachManipulator","attach","hovering","detach","toolState","completed","_editableFlags","_creationStartedResolver","_creationFinishedResolver","active","_show","_hide","getEditableFlag","setEditableFlag","warn","onAttach","onShow","onHide","onDetach","focus","onActivate","onDeactivate","onInputEvent","onInputEventAfter","isToolEditable","internallyEditable","notifyChange","onEditableChange","promise","resolve","reject","startToolCreation","created","finishToolCreation","stops","maxSize","minSize","event","visualVariables","uniqueValueInfos","classBreakInfos","attributes","varyings","fragment","Object","freeze","__proto__","excludeGraphics","screenToMap","mapToScreen","create","fromValues","createView","zeros","ones","unitX","unitY","unitZ","unitW","ZEROS","ONES","UNIT_X","UNIT_Y","UNIT_Z","UNIT_W","linearDepth","float","resourceController","scheduler","registerTask","SNAPPING","context","vertexHandle","originalPos","arrayToVector","async","schedule","valid","addPromise","extensions","defaultAngleCutoff","mapToLocal","transformInv","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","resolution","referenceMapPoint","viewRight","worldBasisAtPosition","points","reverse","isSelfIntersecting","mapToLocalMultiple","localToMap","doUnnormalization","radiusUnit","_graphic","listMode","internal","layers","drawOperation","makeDrawOperation","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","graphicSymbol","initializeGraphic","regularVertices","activeVertex","operationComplete","stagedVertex","committedVertices","pointToArray","full","arrayToPoint","makeMapPoint","forceUniformSize","centered","isCompleted","_getCreateOperationGeometry","sourceLayer","graphicProperties","onOutlineChanged","onRegularVerticesChanged","onActiveVertexChanged","_createGraphic","move","centerAt","getOriginPoint","mapDeltaSpatialReference","Blob","url","png","jpeg","jpg","bmp","gif","txt","xml","svg","zip","pbf","gz","origins","String","verifyItemRelativeUrls","writtenUrls","rootPath","originIdOf","portalItem","resourceFromPath","pendingOperations","then","path","itemRelativeUrl","catch","toAdd","toUpdate","toKeep","resource","content","finish","JSON","stringify","toJSON","default","responseType","grabbableForEvent","_createOperationCompleted","_pointerDownStates","_snappingTask","_stagedVertex","_frameTask","_activeComponent","updated","_snappingEnabled","_createManipulatorDragPipeline","_onImmediateClick","_onImmediateDoubleClick","options","effectiveEnabled","discardStagedVertex","aborted","appendVertex","commitStagedVertex","pointerId","_onPointerMove","_onHold","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","_screenToMapDragEventStep","getZ","_getDrawSurface","_closeOnClickVertexIndex","_screenToMap","hasStagedVertex","_mapToScreen","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects"],"mappings":"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","file":"js/chunk-6a8d130a.cc9733cb.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{rad2deg as n,deg2rad as r}from\"../../core/mathUtils.js\";import{g as t,s as u,m as o}from\"../../chunks/quat.js\";import{a as c}from\"../../chunks/quatf64.js\";import{g as s,c as f,n as i,y as e}from\"../../chunks/vec3.js\";function a(n=U){return[n[0],n[1],n[2],n[3]]}function m(n,r,t,u){return j(n,r,t,u,w)}function p(n,r){return j(n[0],n[1],n[2],r,w)}function h(n,r=a()){return j(n[0],n[1],n[2],n[3],r)}function j(n,r,t,u,o=a()){return o[0]=n,o[1]=r,o[2]=t,o[3]=u,o}function k(n,r,t=a()){return s(l(t),n),t[3]=r,t}function g(n,r,t=a()){return f(t,n,r),i(t,t),t[3]=-e(n,r),t}function q(r,c,s=a()){return u(b,l(r),x(r)),u(d,l(c),x(c)),o(b,d,b),y(s,n(t(l(s),b)))}function l(n){return n}function v(n){return n[3]}function x(n){return r(n[3])}function y(n,r){return n[3]=r,n}const U=[0,0,1,0],b=c(),d=c(),w=a();export{U as UP,v as angle,x as angleRad,l as axis,q as compose,h as copy,a as create,k as fromAxisAndAngle,g as fromPoints,j as fromValues,y as setAngle,m as wrap,p as wrapAxisAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch(\"ready\",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?\"attached\"===s?e=t[s]:this[s]=t[s]:console.error(\"Cannot set unknown property\",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{a as o}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as a,ShaderTechniqueConfiguration as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Program as n}from\"../lib/Program.js\";import{L as l}from\"../../../../chunks/LaserlinePath.glsl.js\";import{makePipelineState as m,simpleBlendingParams as h,defaultColorWriteParams as f}from\"../../../webgl/renderState.js\";class p extends e{initializeProgram(r){const o=p.shader.get(),t=this.configuration,i=o.build(t);return new n(r.rctx,i,p.attributeLocations)}bind(r,t,i){this.program.setUniform3fv(\"innerColor\",r.innerColor),this.program.setUniform1f(\"innerWidth\",r.innerWidth*i.pixelRatio),this.program.setUniform3fv(\"glowColor\",r.glowColor),this.program.setUniform1f(\"glowWidth\",r.glowWidth*i.pixelRatio),this.program.setUniform1f(\"glowFalloff\",r.glowFalloff),this.program.setUniform1f(\"globalAlpha\",r.globalAlpha),this.program.setUniform1f(\"perScreenPixelRatio\",i.perScreenPixelRatio),this.program.setUniform2f(\"pixelToNDC\",2/i.fullWidth,2/i.fullHeight),this.program.setUniformMatrix4fv(\"uProjectionMatrix\",i.projectionMatrix),o(c,i.viewMatrix,t),this.program.setUniformMatrix4fv(\"uModelViewMatrix\",c),this.configuration.contrastControlEnabled&&this.program.setUniform1f(\"globalAlphaContrastBoost\",null!=r.globalAlphaContrastBoost?r.globalAlphaContrastBoost:1)}initializePipeline(){return m({blending:h(1,771),colorWrite:f})}}p.shader=new i(l,(()=>import(\"./LaserlinePath.glsl.js\"))),p.attributeLocations=new Map([[\"start\",0],[\"end\",1],[\"up\",2],[\"extrude\",3]]);class g extends s{constructor(){super(...arguments),this.contrastControlEnabled=!1}}r([a()],g.prototype,\"contrastControlEnabled\",void 0);const c=t();export{p as LaserlinePathTechnique,g as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{s as r,f as s}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{glLayout as o}from\"./buffer/glUtil.js\";import{newLayout as u}from\"./buffer/InterleavedLayout.js\";import{LaserlinePathTechnique as f}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import n from\"../../webgl/BufferObject.js\";import a from\"../../webgl/VertexArrayObject.js\";class c{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=i(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=new Float64Array(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(e){if(this._buffers=e,this._buffers.length>0){const e=this._buffers[0],t=3*Math.floor(e.length/3/2);r(this._origin,e[t+0],e[t+1],e[t+2])}else r(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(t){const r=this.ensureVAO(t);e(r)&&(t.bindVAO(r),t.drawArrays(4,0,this._count))}dispose(){e(this._vao)&&this._vao.dispose()}ensureVAO(e){return t(this._buffers)?null:(t(this._vao)&&(this._vao=this.createVAO(e,this._buffers)),this.ensureVertexData(this._vao,this._buffers),this._vao)}createVAO(e,t){const r=this.createDataBuffer(t);return this._dirty=!1,new a(e,f.attributeLocations,{data:o(d)},{data:n.createVertex(e,35044,r)})}ensureVertexData(e,t){if(!this._dirty)return;const r=this.createDataBuffer(t);e.vertexBuffers.data.setData(r),this._dirty=!1}numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}createDataBuffer(e){const t=e.reduce(((e,t)=>e+this.numberOfRenderVertices(t)),0);this._count=t;const i=d.createBuffer(t),o=this._origin;let u=0,f=0;for(const n of e){for(let e=0;e<n.length;e+=3){const t=r(l,n[e+0],n[e+1],n[e+2]);0===e?f=this._renderCoordsHelper.getAltitude(t):this._renderCoordsHelper.setAltitude(t,f);const a=this._renderCoordsHelper.worldUpAtPosition(t,h),c=u+2*e,d=s(l,t,o);if(e<n.length-3){i.up.setVec(c,a),i.up.setVec(c+3,a),i.up.setVec(c+5,a);for(let e=0;e<6;e++)i.start.setVec(c+e,d);i.extrude.setValues(c+0,0,-1),i.extrude.setValues(c+1,1,-1),i.extrude.setValues(c+2,1,1),i.extrude.setValues(c+3,0,-1),i.extrude.setValues(c+4,1,1),i.extrude.setValues(c+5,0,1)}if(e>0){i.up.setVec(c-2,a),i.up.setVec(c-4,a),i.up.setVec(c-5,a);for(let e=-6;e<0;e++)i.end.setVec(c+e,d)}}u+=this.numberOfRenderVertices(n)}return i.buffer}}const h=i(),l=i(),d=u().vec3f(\"start\").vec3f(\"end\").vec3f(\"up\").vec2f(\"extrude\");export{c as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i,ShaderTechniqueConfiguration as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../lib/Program.js\";import{d as s,L as h}from\"../../../../chunks/Laserlines.glsl.js\";import{makePipelineState as f,simpleBlendingParams as p,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class d extends r{initializeProgram(o){const t=d.shader.get(),e=this.configuration,r=t.build(e);return new l(o.rctx,r,a)}bind(o,e){this.program.setUniform3fv(\"innerColor\",o.innerColor),this.program.setUniform1f(\"innerWidth\",o.innerWidth*e.pixelRatio),this.program.setUniform3fv(\"glowColor\",o.glowColor),this.program.setUniform1f(\"glowWidth\",o.glowWidth*e.pixelRatio),this.program.setUniform1f(\"glowFalloff\",o.glowFalloff),this.program.setUniform1f(\"globalAlpha\",o.globalAlpha),this.configuration.contrastControlEnabled&&this.program.setUniform1f(\"globalAlphaContrastBoost\",null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1);const r=null!=o.angleCutoff?o.angleCutoff:s;this.program.setUniform2f(\"angleCutoff\",Math.cos(r),Math.cos(Math.max(0,r-t(2)))),this.configuration.intersectsLineEnabled&&this.program.setUniform1f(\"perScreenPixelRatio\",e.perScreenPixelRatio)}initializePipeline(){return f({blending:p(1,771),colorWrite:m})}}d.shader=new e(h,(()=>import(\"./Laserlines.glsl.js\")));class c extends n{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.contrastControlEnabled=!1}}o([i()],c.prototype,\"heightManifoldEnabled\",void 0),o([i()],c.prototype,\"pointDistanceEnabled\",void 0),o([i()],c.prototype,\"lineVerticalPlaneEnabled\",void 0),o([i()],c.prototype,\"intersectsLineEnabled\",void 0),o([i()],c.prototype,\"contrastControlEnabled\",void 0);export{d as LaserlineTechnique,c as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../core/mathUtils.js\";import{isSome as t,isNone as i,disposeMaybe as n,releaseMaybe as s}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{g as a,m as h,i as l,n as o,c,b as _}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f64.js\";import{t as m}from\"../../../chunks/vec4.js\";import{c as p}from\"../../../chunks/vec4f64.js\";import{create as f,fromRay as g,getStart as u,getEnd as b}from\"../../../geometry/support/clipRay.js\";import{intersectClipRay as P}from\"../../../geometry/support/frustum.js\";import{create as V,copy as E,pointAt as D}from\"../../../geometry/support/lineSegment.js\";import{create as q,fromPositionAndNormal as L}from\"../../../geometry/support/plane.js\";import{wrap as S}from\"../../../geometry/support/ray.js\";import{c as U}from\"../../../chunks/sphere.js\";import{LaserlinePathData as R}from\"./LaserlinePathData.js\";import{createQuadVAO as x}from\"../webgl-engine/lib/glUtil3D.js\";import{inverseProjectionInfo as M}from\"../webgl-engine/lib/Util.js\";import{copyParameters as T,updateParameters as v}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{LaserlinePathTechniqueConfiguration as C,LaserlinePathTechnique as j}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{LaserlineTechniqueConfiguration as w,LaserlineTechnique as A}from\"../webgl-engine/shaders/LaserlineTechnique.js\";const y=d(),I=p(),O={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:e(6),globalAlphaContrastBoost:2};function H(e,t,i,n){const s=y,r=I;h(s,t,n),a(r,i),r[3]=0,m(r,r,n),L(s,r,e)}class z{constructor(e,t={},i={contrastControlEnabled:!1}){this._renderCoordsHelper=e,this._config=i,this._technique=null,this._projInfo=p(),this._zScale=r(),this._heightManifoldEnabled=!1,this._heightManifoldTarget=d(),this._pointDistanceEnabled=!1,this._pointDistanceOrigin=d(),this._pointDistanceTarget=d(),this._lineVerticalPlaneEnabled=!1,this._lineVerticalPlaneSegment=V(),this._intersectsLineEnabled=!1,this._intersectsLineSegment=V(),this._intersectsLineRadius=3,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._tempNormal=d(),this._tempDir=d(),this._tempUp=d(),this._tempVec3A=d(),this._tempVec3B=d(),this._tempVec4=p(),this._tempPlane=q(),this._tempSphere=U(),this._params=T(t,O)}get renderSlots(){return[this._config.contrastControlEnabled?15:14]}get needsLinearDepth(){return!0}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._heightManifoldTarget}set heightManifoldTarget(e){a(this._heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._pointDistanceTarget}set pointDistanceTarget(e){a(this._pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._pointDistanceOrigin}set pointDistanceOrigin(e){a(this._pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){E(e,this._lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._intersectsLineSegment}set intersectsLineSegment(e){E(e,this._intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._intersectsLineRadius}set intersectsLineRadius(e){e!==this._intersectsLineRadius&&(this._intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,t(this._pathVerticalPlaneData)&&this._requestRender())}set pathVerticalPlaneVertices(e){i(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new R(this._renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){i(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new R(this._renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){v(this._params,e)&&this._requestRender()}initializeRenderContext(e){this._context=e;const t=e.renderContext.rctx;this._quadVAO=x(t),this._techniqueRepository=e.shaderTechniqueRep,this._techniqueConfig=new w;const i=new C;i.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(j,i)}uninitializeRenderContext(){this._quadVAO=n(this._quadVAO),this._technique=s(this._technique),this._pathVerticalPlaneData=n(this._pathVerticalPlaneData),this._pathTechnique=s(this._pathTechnique)}render(e){const t=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,i=this.pathVerticalPlaneEnabled;if(!t&&!i)return!1;const n=e.camera;return M(n.projectionMatrix,n.fullWidth,n.fullHeight,this._projInfo,this._zScale),t&&this.renderUnified(e),i&&this.renderPath(e),!0}renderUnified(e){const t=e.rctx,i=this._selectTechnique(),n=i.program;t.useProgram(n),i.bindPipelineState(t),this._bindGlobalUniforms(e,n),this.bindHeightManifoldUniforms(e,n),this.bindPointDistanceUniforms(e,n),this.bindLineVerticalPlaneUniforms(e,n),this.bindIntersectsLineUniforms(e,n),i.bind(this._params,e.camera),t.bindVAO(this._quadVAO),t.drawArrays(5,0,4)}renderPath(e){if(i(this._pathVerticalPlaneData)||i(this._pathTechnique))return;const t=e.rctx,n=this._pathTechnique,s=n.program;t.useProgram(s),n.bindPipelineState(t),this._bindGlobalUniforms(e,s),n.bind(this._params,this._pathVerticalPlaneData.origin,e.camera),this._pathVerticalPlaneData.draw(e.rctx)}bindHeightManifoldUniforms(e,t){if(!this.heightManifoldEnabled)return;const i=this._tempVec3A,n=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,i),H(n,this._heightManifoldTarget,i,e.camera.viewMatrix),t.setUniform4fv(\"heightPlane\",n)}bindPointDistanceUniforms(e,t){if(!this._pointDistanceEnabled)return;const i=e.camera,n=this._tempSphere;a(n,this._pointDistanceOrigin),h(n,n,i.viewMatrix),n[3]=l(this._pointDistanceOrigin,this._pointDistanceTarget),t.setUniform4f(\"pointDistanceSphere\",n[0],n[1],n[2],n[3])}bindLineVerticalPlaneUniforms(e,t){if(!this._lineVerticalPlaneEnabled)return;const i=this._renderCoordsHelper,n=e.camera,s=this._tempPlane,r=this._tempVec3A,l=this._tempUp,d=this._tempDir,m=this._tempNormal;D(this._lineVerticalPlaneSegment,.5,r),i.worldUpAtPosition(r,l),o(d,this._lineVerticalPlaneSegment.vector),c(m,l,d),o(m,m),H(s,this._lineVerticalPlaneSegment.origin,m,n.viewMatrix),t.setUniform4fv(\"lineVerticalPlane\",s);const p=this._tempVec3A;a(p,this._lineVerticalPlaneSegment.origin),i.setAltitude(p,0),h(p,p,n.viewMatrix),t.setUniform3fv(\"lineVerticalStart\",p);const f=this._tempVec3B;_(f,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector),i.setAltitude(f,0),h(f,f,n.viewMatrix),t.setUniform3fv(\"lineVerticalEnd\",f)}bindIntersectsLineUniforms(e,t){if(!this._intersectsLineEnabled)return;const i=B,n=G;if(this._intersectsLineInfinite){const t=e.camera;if(g(S(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),k),k.c0=-Number.MAX_VALUE,!P(t.frustum,k))return;u(k,i),b(k,n)}else a(i,this._intersectsLineSegment.origin),_(n,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);const s=this._tempVec3A;h(s,i,e.camera.viewMatrix),t.setUniform3fv(\"intersectsLineStart\",s);const r=this._tempVec4;a(r,this._intersectsLineSegment.vector),this._tempVec4[3]=0,m(this._tempVec4,this._tempVec4,e.camera.viewMatrix),h(n,n,e.camera.viewMatrix),t.setUniform3fv(\"intersectsLineEnd\",n),o(r,r),t.setUniform3f(\"intersectsLineDirection\",r[0],r[1],r[2]),t.setUniform1f(\"intersectsLineRadius\",this._intersectsLineRadius)}_bindGlobalUniforms(e,t){const i=e.camera;t.setUniform4fv(\"projInfo\",this._projInfo),t.setUniform2fv(\"zScale\",this._zScale),t.setUniform2f(\"nearFar\",i.near,i.far),this._heightManifoldEnabled?t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin)),t.bindTexture(e.offscreenRenderingHelper.linearDepthTexture,\"depthMap\"),t.bindTexture(e.offscreenRenderingHelper.mainColorTexture,\"frameColor\")}_requestRender(){this._context&&this._context.requestRender()}_selectTechnique(){return this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._technique=this._techniqueRepository.releaseAndAcquire(A,this._techniqueConfig,this._technique),this._technique}}const k=f(),B=d(),G=d();export{z as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{g as i}from\"../../../../chunks/vec3.js\";import{c as n,a as s}from\"../../../../chunks/vec3f64.js\";import{create as r,fromValues as h,copy as a}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as c}from\"../../support/LaserLineRenderer.js\";import{d}from\"../../../../chunks/Laserlines.glsl.js\";class o extends l{constructor(e){super(e.view),this._angleCutoff=d,this._style={},this._heightManifoldTarget=n(),this._heightManifoldEnabled=!1,this._intersectsLine=r(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProps(e)}get testData(){return this.renderer}createResources(){this.ensureRenderer()}destroyResources(){this.disposeRenderer()}updateVisibility(){this.syncHeightManifold(),this.syncIntersectsLine(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this.syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this.syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){e(t)?(i(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this.syncRenderer(),this.syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(t(e))return void(this.intersectsLine=null);const i=this.view.renderCoordsHelper.worldUpAtPosition(e,f);this.intersectsLine=h(e,i),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(t){e(t)?(a(t,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this.syncIntersectsLine(),this.syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this.syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(t){this._lineVerticalPlaneSegment=e(t)?a(t):null,this.syncLineVerticalPlane(),this.syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(t){this._pointDistanceLine=e(t)?{origin:s(t.origin),target:s(t.target)}:null,this.syncPointDistance(),this.syncRenderer()}syncRenderer(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||e(this._pointDistanceLine)||e(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()}ensureRenderer(){e(this.renderer)||(this.renderer=new c(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))}syncStyle(){t(this.renderer)||(this.renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))}syncAngleCutoff(){t(this.renderer)||this.renderer.setParameters({angleCutoff:this._angleCutoff})}syncHeightManifold(){t(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))}syncIntersectsLine(){t(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))}syncIntersectsLineInfinite(){t(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)}syncPathVerticalPlane(){t(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=e(this._pathVerticalPlaneBuffers)&&this.visible,e(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}syncLineVerticalPlane(){t(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=e(this._lineVerticalPlaneSegment)&&this.visible,e(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}syncPointDistance(){t(this.renderer)||(this.renderer.pointDistanceEnabled=e(this._pointDistanceLine)&&this.visible,e(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))}disposeRenderer(){e(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)}}const f=n();export{o as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{VisualElement as o}from\"./VisualElement.js\";import{Object3D as i}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as a}from\"../../webgl-engine/lib/WebGLLayer.js\";class c extends o{constructor(e){super(e.view),this._resources=null,this._transform=t()}get object(){return e(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){r(this._transform,s),e(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(s(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new a({isPickable:!1,updatePolicy:1});e.add(s);const r=new i({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!s(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){s(this._resources)||this._resources.object.setVisible(e)}}export{c as Object3DVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{g as n,f as a,k as l,o}from\"../../../../chunks/vec3.js\";import{c as h,f as d}from\"../../../../chunks/vec3f64.js\";import{g as p,c as _}from\"../../../../chunks/vec4.js\";import{f as u,a as c}from\"../../../../chunks/vec4f32.js\";import{create as f,fromRay as m,getStart as y,getEnd as g}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as x}from\"../../../../geometry/support/frustum.js\";import{create as w,fromPoints as b,pointAt as E}from\"../../../../geometry/support/lineSegment.js\";import{create as C,fromPoints as O}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as P}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as R}from\"./Object3DVisualElement.js\";import j from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class M extends R{constructor(t){super(t),this._ray=C(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=h(),this._end=d(1,0,0),this._width=1,this._color=u(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=u(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=0,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=4,this._fadedExtensions=T,this.applyProps(t)}createExternalResources(){const e=new v(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()})));const t=new P({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[h(),h()],i=3===this.extensionType;i&&t.push(h(),h());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=j.createPolylineGeometry(t,null,r);e.addGeometry(n,s(this._externalResources).material),this.updateVertices(e)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,n(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),a(this._end,e,this._end),O(this._start,this._end,this._ray),this.updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,l(this._start,e)||(n(this._start,e),O(this._start,this._end,this._ray),this.updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,l(this._end,e)||(n(this._end,e),O(this._start,this._end,this._ray),this.updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(_(this._color,e),this.updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(_(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!p(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?c(e):null,this.updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,T),this.recreateGeometry()}updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}updateGeometry(){t(this.object)&&this.updateVertices(this.object)}updateVertices(e){const s=3===this._extensionType?this.updateLineSegmentFinite(S):this.updateLineSegmentInfinite(this._extensionType,S);this.updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}updateLineSegmentFinite(e){return b(this._start,this._end,e)}updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(m(this._ray,D),e){case 0:D.c0=-Number.MAX_VALUE;break;case 1:case 2:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&o(D.ray.direction,D.ray.direction),2===this._extensionType&&null!=t&&(D.c1=Math.abs(s-t));break}}if(!x(s.frustum,D))return b(this._start,this._end,t);const i=y(D,A),n=g(D,W);return b(i,n,t)}updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute(\"position\").data;if(3===this.extensionType){const e=E(t,-this.fadedExtensions.start,A);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=E(t,0,A);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=E(t,1,A);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=E(t,1+this.fadedExtensions.end,A);s[9]=n[0],s[10]=n[1],s[11]=n[2]}else{const e=E(t,0,A);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=E(t,1,A);s[3]=i[0],s[4]=i[1],s[5]=i[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const D=f(),A=h(),W=h(),S=w(),G=1/3,T={start:G,end:G};export{M as ExtendedLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{createScreenPointArray as i}from\"../../../../core/screenUtils.js\";import{i as o,f as a,g as c,s as h,m as n}from\"../../../../chunks/vec2.js\";import{k as l,g as d,n as m,f as u,b as _}from\"../../../../chunks/vec3.js\";import{c as p,f}from\"../../../../chunks/vec3f64.js\";import{g,c as y}from\"../../../../chunks/vec4.js\";import{f as j}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as w}from\"./Object3DVisualElement.js\";import x from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as b}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class G extends w{constructor(t){super(t),this._handles=new e,this._location=p(),this._direction=f(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=j(1,0,1,1),this._renderOccluded=4,this.applyProps(t)}get location(){return this._location}set location(e){l(this._location,e)||(d(this._location,e),this.updateGeometry())}get direction(){return this._direction}set direction(e){l(this._direction,e)||(d(this._direction,e),this.updateGeometry())}setDirectionFromPoints(e,t){m(this._direction,u(this._direction,t,e)),this.updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this.updateGeometry())}get color(){return this._color}set color(e){g(e,this._color)||(y(this._color,e),this.updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}createExternalResources(){const e=new b(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const r=x.createPolylineGeometry([p(),p()]),s=x.createPolylineGeometry([p(),p()]),i=t(this._externalResources).material;e.addGeometry(r,i),e.addGeometry(s,i),this.updateVertices(e)}forEachExternalMaterial(e){r(this._externalResources)&&e(this._externalResources.material)}updateMaterial(){if(s(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}updateGeometry(){const e=this.object;s(e)||this.updateVertices(e)}updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,O),_(R,this.location,this.direction),t.projectToScreen(R,v),o(v,a(v,v,O)),this.updateVertexAttributes(t,e,0,O,v,1),this.updateVertexAttributes(t,e,1,O,v,-1)}updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],l=a.geometry.getMutableAttribute(\"position\").data,d=c(P,h(P,i[1]*o,i[0]*-o),this.offset+this.width/2),m=n(V,n(V,n(V,s,c(V,i,this.length/2)),d),d),u=n(M,m,c(M,i,-this.length));e.unprojectFromScreen(m,R),l[0]=R[0],l[1]=R[1],l[2]=R[2],e.unprojectFromScreen(u,R),l[3]=R[0],l[4]=R[1],l[5]=R[2],t.geometryVertexAttrsUpdated(a)}}const R=p(),O=i(),v=i(),P=i(),V=i(),M=i();export{G as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class o{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{2===s.type&&e.remove(s)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:1});e.add(s);const o=new t({castShadow:!1}),i=this.resourceFactory.createResources(o,s);i.forEach((s=>e.add(s))),e.add(o),s.add(o),this._syncVisible();const a=this.resourceFactory.cameraChanged?r(this.resourceFactory.view.state,\"camera\",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:i,cameraHandle:a}}_destroyResources(){if(s(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(this._resources.object),null==e||e.remove(this._resources.layer),this._resources.external.forEach((s=>{null==e||e.remove(s),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{o as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{clamp as e,nextHighestPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as i}from\"../../../../core/maybe.js\";import{s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as n,c as a}from\"../../../../chunks/vec4.js\";import{f as l}from\"../../../../chunks/vec4f64.js\";import{projectVectorToVector as c}from\"../../../../geometry/projection.js\";import{expandWithBuffer as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{VisualElementResources as m}from\"./VisualElementResources.js\";import{evaluateElevationAlignmentAtPoint as p}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import{createType as d}from\"../../layers/graphics/sdfPrimitives.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{Texture as y}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as v}from\"../../webgl-engine/materials/HUDMaterial.js\";class _{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=l(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=l(1,1,1,1),this._elevationInfo=null,this.resources=new m({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometry=this.recreateGeometry(t,e.material),r(e.geometry)?[e.geometry]:[])});let t=!0;for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this.preferredTextureSize;this._size=e,t<this.preferredTextureSize?r(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}get color(){return this._color}set color(e){n(e,this._color)||(a(this._color,e),this.updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,r(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){n(e,this._outlineColor)||(a(this._outlineColor,e),this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}updateMaterial(){const e=this.resources.resources;i(e)||e.material.setParameters(this.materialParameters(e.texture.id))}updateSizeAttribute(){const e=this.resources.resources,t=this.resources.object;if(i(e)||i(t))return;const r=e.geometry;if(i(r))return;const s=r.getMutableAttribute(\"size\").data,o=this.geometrySize;s[0]=o,s[1]=o,t.geometryVertexAttrsUpdated(t.geometryRecords[0])}materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/S}recreateGeometry(e,t){const i=this.createRenderGeometry();return r(i)&&e.addGeometry(i,t),i}createResources(e){const t=this.createTexture(),i=new v(this.materialParameters(t.id)),s=this.recreateGeometry(e,i);return{material:i,texture:t,geometry:s,forEach(e){e(t),e(i),r(this.geometry)&&e(this.geometry)}}}get preferredTextureSize(){return e(t(2*this.geometrySize),16,128)}createTexture(){const e=this.preferredTextureSize;return new y(d(this._primitive,e,e*S),{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}calculateMapBounds(e){if(i(this.resources.resources)||i(this.resources.resources.geometry))return!1;const t=this.resources.resources.geometry.vertexAttributes.get(\"position\");return c(t.data,this.view.renderCoordsHelper.spatialReference,z,this.view.spatialReference),u(e,z),!0}createRenderGeometry(){const e=this.geometry;if(i(e))return null;const{renderCoordsHelper:t,elevationProvider:r}=this.view,o=p(e,r,g.fromElevationInfo(this.elevationInfo),t),n=s(h.get(),e.x,e.y,o),a=h.get();c(n,e.spatialReference,a,t.spatialReference);const l=this.geometrySize;return f.createPointGeometry(null,a,null,[l,l],[0,0,0,1])}}const S=.5,x=[S/2,S/2,1-S/2,1-S/2],z=o();export{_ as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{i,a as r,f as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,f as n,g as u,b as h}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{c}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class y extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=d(),this._up=d(),this._right=d(),this._renderOccluded=4,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){c(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){c(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new g(this.quadMaterialParameters),this._outlineMaterial=new O(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const a=this.view.state.camera,o=this._size*a.computeScreenPixelSizeAt(this._position),l=Math.min(this._maxSize,o);i(z),r(z,z,this._position),s(z,z,[l,l,l]),t(e)&&(e.transformation=z)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this.outlineMaterialParameters)}}const z=a();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{e as t}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{ExtendedLineVisualElement as o}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as r}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as a}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as l}from\"./visualElements/RightAngleQuadVisualElement.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{anyMapPointToRender as c,anyMapPointsToRenderWithEqualZ as d}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";class m extends p{visualizeIntersectionPoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return n(new a({view:l,primitive:\"circle\",geometry:o.vectorToPoint(t.intersectionPoint),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(s.orange),pixelSnappingEnabled:!1}))}visualizePoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return n(new a({view:l,primitive:\"circle\",geometry:o.vectorToPoint(t.point),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(s.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,t){const{coordinateHelper:i,elevationInfo:o,view:r}=t;return n(this.createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,i,o,r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,o){const{coordinateHelper:a,elevationInfo:l,view:d}=o,p=c(i.lineStart,a,l,o.view),m=c(i.lineEnd,a,l,o.view),u=t(m,p,m,.5),v=new r({view:d,attached:!1,offset:s.parallelLineHintOffset,length:s.parallelLineHintLength,width:s.parallelLineHintWidth,color:e.toUnitRGBA(s.orange),location:u,renderOccluded:16});return v.setDirectionFromPoints(p,u),v.attached=!0,n(v)}visualizeRightAngleQuad(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return n(new l({view:a,attached:!0,color:e.toUnitRGBA(s.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:e.toUnitRGBA(s.orange),outlineSize:s.rightAngleHintOutlineSize,size:s.rightAngleHintSize,geometry:{previous:c(t.previousVertex,o,r,a),center:c(t.centerVertex,o,r,a),next:c(t.nextVertex,o,r,a)}}))}createLineSegmentHintFromMap(e,n,t,o,r,a,l=!0,s=!0){const c=i(),p=i();return d(n,t,o,r,a,c,p),this.createLineSegmentHint(e,a,c,p,l,s)}createLineSegmentHint(n,t,i,r,a=!0,l=!0){const c=new o({view:t,extensionType:3,start:i,end:r,color:e.toUnitRGBA(s.orange),renderOccluded:16});switch(n){case 0:c.width=s.lineHintWidthTarget,c.fadedExtensions={start:0,end:s.lineHintFadedExtensions};break;case 2:c.width=s.lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case 1:c.width=s.lineHintWidthReference,c.fadedExtensions={start:a?s.lineHintFadedExtensions:0,end:l?s.lineHintFadedExtensions:0}}return c.attached=!0,c}}export{m as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as e,toRGB as i}from\"../../../../core/colorUtils.js\";import{d as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePatternSimple as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])},n=.3;function r(t,e){const i=t.clone();return i.a*=e,i}function h(t,o){const l=t.clone(),s=e(l);s.s*=o;const n=i(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,e){if(e)for(const i in e)t[i]=e[i]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,e){const i=this[t];e.setParameters({color:b(i),transparent:\"color\"!==t||i.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=r(s.main,.5),this.hoverColor=s.main,this.renderOccluded=2,this.minSquaredEdgeLength=900,c(this,t)}apply(t,e){const i=this[t];e.setParameters({color:b(i),transparent:i.a<1,renderOccluded:this.renderOccluded})}}class p{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),this.edgeOffset=new u,c(this,t)}}class g{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l(5),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=b(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=b(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=b(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",c(this,t)}apply(t){t.color=b(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=b(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(e,i=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*i,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in e?e.style=o:e.laserlineStyle=o}}class C{constructor(t){this.outline=new g({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l(5),width:1.5,innerWidth:0}),this.staged=new g({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l(5),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class m{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class O extends g{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new C,this.pointGraphics=new m,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new O({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class z{constructor(t){this.visualElements=new W,this.reshapeManipulators=new p,this.zManipulator=new a,c(this,t)}colorToVec4(t){return b(t)}}function b(e){return o(t.toUnitRGBA(e))}const A=new z;export{d as VertexManipulatorStyle,s as colors,A as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{isSome as t,isNone as o}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return t(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?o(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?o(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(o(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(o(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(o(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=1,this.updatePolicy=1}};e([i({constructOnly:!0})],u.prototype,\"view\",void 0),e([i({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([c(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import{isSome as t,unwrap as r,isNone as s}from\"../../../../core/maybe.js\";import{s as i,b as a,a as o}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{g as l,c as h,s as c}from\"../../../../chunks/vec4.js\";import{f as d,a as p}from\"../../../../chunks/vec4f32.js\";import{projectBuffer as u}from\"../../../../geometry/projection.js\";import{create as m,empty as f,expandWithBuffer as _}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as g}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{getGeometryEffectiveElevationMode as y}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{DrapedVisualElementResources as w}from\"./DrapedVisualElementResources.js\";import{LaserlineVisualElement as C}from\"./LaserlineVisualElement.js\";import{VisualElementResources as O}from\"./VisualElementResources.js\";import{ElevationContext as R}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfoDraped as b,createGeometry as D,geometryToRenderInfo as j}from\"../../layers/graphics/lineUtils.js\";import{computeAttachmentOriginLines as P}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{RenderGeometry as E}from\"../../webgl-engine/lib/RenderGeometry.js\";import{RibbonLineMaterial as G}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class A{constructor(t){this.view=null,this._attachmentOrigin=g(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new e,this._isDraped=!1,this._geometry=null,this._width=1,this._color=d(1,0,1,1),this._innerWidth=0,this._innerColor=d(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new O({view:t.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=t.view.spatialReference,this.drapedResources=new w({view:t.view,createResources:()=>this._createDrapedResources(),recreateGeometry:e=>{e.geometries=this._createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let r=!0;this._laserline=new C({view:t.view});for(const e in t)e in this?\"attached\"===e?r=t[e]:this[e]=t[e]:console.error(\"Cannot set unknown property\",e);this.attached=r}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&t(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){l(e,this._color)||(h(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){l(e,this._innerColor)||(h(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const r=t(e)!==t(this._stipplePattern);this._stipplePattern=e,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&l(e,this._stippleOffColor)||(this._stippleOffColor=e?p(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this.laserlineAttached,t(e)&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const e=t(this.resources.resources)?this.resources.resources.geometries:null;if(!e||0===e.length)return null;i(S,0,0,0);let s=0;for(const t of e){const e=t.vertexAttributes.get(\"position\"),i=t.indices.get(\"position\"),o=r(this.resources.resources).material.isClosed(e.data,i);P(e,i,o,I)&&(a(S,S,I),s++)}return 0===s?null:(o(S,S,1/s),this.view.renderCoordsHelper.fromRenderCoords(S,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){t(this.resources.resources)&&this.resources.resources.material.setParameters(this.materialParameters),t(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameters(this.materialParameters)}get isClosed(){return t(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new G(this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_createDrapedResources(){const e=new G(this.materialParameters);return{material:e,geometries:this._createRenderGeometriesDraped(e)}}_createRenderGeometriesDraped(e){const t=this.geometry;if(s(t))return[];const r=b(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:s}of r.lines){const t={overlayInfo:{spatialReference:this.view.basemapTerrain.spatialReference,renderCoordsHelper:this.view.renderCoordsHelper},attributeData:{position:s},removeDuplicateStartEnd:this.isClosed?1:0},r=new E(D(t),e),a=f(M);_(a,s),c(r.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(r)}return i}calculateMapBounds(e){if(s(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get(\"position\"),i=new Float64Array(s.data.length);u(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),_(e,i)}return!0}createRenderGeometries(){var e;const t=this.geometry;if(s(t))return[];const r=j(t,this.view.elevationProvider,this.view.renderCoordsHelper,R.fromElevationInfo(null!=(e=this.elevationInfo)?e:new v({mode:y(t,null)}))),i=[],a=[];for(const{position:s,mapPosition:o}of r.lines){const e={overlayInfo:null,attributeData:{position:s,mapPosition:o},removeDuplicateStartEnd:this.isClosed?1:0};i.push(D(e)),a.push(s)}return this._laserline.pathVerticalPlane=a,i}}const M=m(),I=n(),S=n();export{A as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{c as r}from\"../../../../chunks/vec4f64.js\";import{bindScreenSizeScalingUniforms as i}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as o}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as s,bindView as a,bindCameraPosition as n}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as d,ShaderTechniqueConfiguration as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{Program as b}from\"../lib/Program.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{makePipelineState as v,cullingParams as y,defaultDepthWriteParams as T,defaultColorWriteParams as E}from\"../../../webgl/renderState.js\";class S extends p{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new b(e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;s(this.program,r.camera.projectionMatrix),this.program.setUniform4fv(\"color\",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),o(this.program,r)),a&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(w,l,n)),this.program.setUniform3fv(\"shadingDirection\",p),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix)),t&&i(this.program,e,r)}bindDraw(e){a(this.program,e),n(this.program,e.origin,e.camera.viewInverseTransposeMatrix),t(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return v({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:y(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&T:u(e),colorWrite:E,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}S.shader=new l(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends c{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([d({count:8})],j.prototype,\"output\",void 0),e([d({count:3})],j.prototype,\"cullFace\",void 0),e([d()],j.prototype,\"slicePlaneEnabled\",void 0),e([d()],j.prototype,\"transparent\",void 0),e([d()],j.prototype,\"writeDepth\",void 0),e([d()],j.prototype,\"screenSizeEnabled\",void 0),e([d()],j.prototype,\"shadingEnabled\",void 0),e([d({count:4})],j.prototype,\"transparencyPassType\",void 0),e([d()],j.prototype,\"multipassTerrainEnabled\",void 0),e([d()],j.prototype,\"cullAboveGround\",void 0);const P=new Map([[\"position\",0],[\"normal\",1],[\"offset\",2]]),w=r();export{S as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as s}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{outputFromPass as l}from\"../lib/GLMaterials.js\";import{materialParametersDefaults as f,Material as h}from\"../lib/Material.js\";import{assert as p}from\"../lib/Util.js\";import{writeDefaultAttributes as m,writePosition as d}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as b}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as v,ShadedColorMaterialTechnique as E}from\"../shaders/ShadedColorMaterialTechnique.js\";class q extends h{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=v}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.parameters}intersect(e,i,o,u,c,l,f){if(this.parameters.screenSizeEnabled){const o=e.vertexAttributes.get(\"offset\"),h={applyToVertex:(e,i,a,n)=>{const c=t(z,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),l=t(w,e,i,a);return r(c,c,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(c)),s(l,l,c),[l[0],l[1],l[2]]},applyToAabb:e=>{const t=a(e,z);return n(e,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(t))}};b(e,i,u,c,l,h,f)}else b(e,i,u,c,l,void 0,f)}requiresSlot(e,t){if(4===l(t))return 2===e;let r=2;return this.parameters.transparent&&(r=this.parameters.writeDepth?4:7),e===r||20===e}createGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new S(e):null}createBufferWriter(){return new x(this.parameters.screenSizeEnabled)}}class S extends c{updateParameters(e){return this.ensureTechnique(E,e)}beginSlot(e){return this.updateParameters(e)}bind(e,t){t.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(i(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class x{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,s){if(m(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,s),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const i=t.vertexAttributes.get(\"offset\"),a=t.indices.get(\"offset\");p(3===i.size);const n=r.getField(\"offset\",o);if(!n)throw new Error(\"unable to acquire view for offset\");d(a,i.data,e.invTranspTransformation,n,s)}}}}const z=i(),w=i();export{q as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{s as t}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import{settings as a}from\"../editingTools/settings.js\";import{Object3DVisualElement as o}from\"./Object3DVisualElement.js\";import{ElevationContext as l}from\"../../layers/graphics/ElevationContext.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import c from\"../../webgl-engine/lib/GeometryUtil.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";class u extends o{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=a.colorToVec4(a.reshapeManipulators.vertex.color),this._size=a.reshapeManipulators.vertex.size,this._outlineColor=a.colorToVec4(a.reshapeManipulators.vertex.outlineColor),this._outlineSize=a.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameters(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameters(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const r=this.vertices;if(e(r)||0===r.length)return[];const i=.5,s=.5,a=n(r,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,l.fromElevationInfo(this.elevationInfo)),o=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const r=t(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,r),l=p(s,r);o.push({vertexGeometry:a,vertexOutlineGeometry:l})}return o}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=r();function p(e,t){return c.createSphereGeometry(e,16,16,{offset:t})}export{u as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Evented.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([s({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([s()],e.prototype,\"tracking\",void 0),r([s()],e.prototype,\"displaying\",void 0),r([s()],e.prototype,\"isDraped\",void 0),e=r([t(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{handlesGroup as t,makeHandle as i}from\"../../../../../core/handleUtils.js\";import{isSome as s,destroyMaybe as r}from\"../../../../../core/maybe.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{getEffectiveElevationMode as o}from\"../../../../../support/elevationInfoUtils.js\";import c from\"../../../../../symbols/support/ElevationInfo.js\";import{SnappingVisualizer3D as h}from\"../../SnappingVisualizer3D.js\";import{settings as p}from\"../settings.js\";import{OutlineVisualElement as u}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as m}from\"../../visualElements/VerticesVisualElement.js\";import{GraphicState as v}from\"../../../layers/graphics/GraphicState.js\";import{DrawGraphicTool as d,geometryTypeToDrawOperationGeometryType as f}from\"../../../../draw/DrawGraphicTool.js\";import{DrawOperation as V}from\"../../../../draw/DrawOperation.js\";import{SceneDrawSurface as w,ElevationDrawSurface as E}from\"../../../../draw/drawSurfaces.js\";let y=class extends d{constructor(e){super(e),this._activeVertexVisualElement=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const{mode:e,offset:t}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new c({mode:e,offset:t})}normalizeCtorArgs(e){if(!e.elevationInfo){var t;const i=null==(t=e.hasZ)||t;return{...e,elevationInfo:{mode:i?\"absolute-height\":\"on-the-ground\",offset:0}}}return e}initializeGraphic(e){return this._createGraphicState=new v({graphic:e}),t([this.view.maskOccludee(e),this.view.trackGraphicState(this._createGraphicState),a(this._createGraphicState,\"isDraped\",(e=>{s(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))])}makeDrawOperation(){return new V({view:this.view,manipulators:this.manipulators,geometryType:f(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new w(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new E(this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new h})}onActiveVertexChanged(e){return s(this._activeVertexVisualElement)?(this._activeVertexVisualElement.vertices=[e],null):(this._activeVertexVisualElement=new m({view:this.view,spatialReference:this.view.spatialReference,vertices:[e],elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:p.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._activeVertexVisualElement.color=p.colorToVec4(p.reshapeManipulators.selected.color),this._activeVertexVisualElement.attached=!0,i((()=>{this._activeVertexVisualElement=r(this._activeVertexVisualElement)})))}onOutlineChanged(e){if(s(this._outlineVisualElement))return this._outlineVisualElement.geometry=e,null;const t=this.internalGraphicsLayer.elevationInfo;return this._outlineVisualElement=new u({view:this.view,geometry:e,elevationInfo:t,isDraped:s(this._createGraphicState)?this._createGraphicState.isDraped:\"on-the-ground\"===o(this.hasZ,t),attached:!1}),p.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),p.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0,i((()=>{this._outlineVisualElement=r(this._outlineVisualElement)}))}onRegularVerticesChanged(e){return s(this._verticesVisualElement)?(this._verticesVisualElement.vertices=e,null):(this._verticesVisualElement=new m({view:this.view,spatialReference:this.view.spatialReference,vertices:e,elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:p.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0,i((()=>{this._verticesVisualElement=r(this._verticesVisualElement)})))}};e([n({constructOnly:!0})],y.prototype,\"elevationInfo\",void 0),e([n({constructOnly:!0})],y.prototype,\"geometryType\",void 0),e([n({readOnly:!0})],y.prototype,\"type\",void 0),e([n({constructOnly:!0,nonNullable:!0})],y.prototype,\"view\",void 0),y=e([l(\"esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D\")],y);export{y as DrawGraphicTool3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{f as o,g as t,s as c}from\"../../../../chunks/vec3.js\";import{sv3d as i}from\"../../../../geometry/support/vectorStacks.js\";function s(e,n,o){return u(e,e.screenToRender(n,r(i.get())),o)}function u(t,c,s){const u=r(n(i.get(),c));if(u[2]=0,!t.unprojectFromRenderScreen(u,s.origin))return null;const m=r(n(i.get(),c));m[2]=1;const g=t.unprojectFromRenderScreen(m,i.get());return e(g)?null:(o(s.direction,g,s.origin),s)}function m(e,n,o){return g(e,e.screenToRender(n,r(i.get())),o)}function g(r,n,s){t(s.origin,r.eye);const u=c(i.get(),n[0],n[1],1),m=r.unprojectFromRenderScreen(u,i.get());return e(m)?null:(o(s.direction,m,s.origin),s)}export{u as fromRender,g as fromRenderAtEye,s as fromScreen,m as fromScreenAtEye};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as u}from\"../../../chunks/mat3.js\";import{c as _}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as v}from\"../../../chunks/mat4f64.js\";import{a as b}from\"../../../chunks/vec2.js\";import{b as y,t as j,m as L,a as S,g as R,h as w,s as O,f as T}from\"../../../chunks/vec3.js\";import{c as E,Z as A}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeENUToSphericalPCPFLocalRotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as P}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as I}from\"../../../geometry/support/aaBoundingRect.js\";import{create as M,distance2 as C,fromPoints as x,closestRayDistance2 as B}from\"../../../geometry/support/lineSegment.js\";import{create as W,fromPositionAndNormal as V,intersectRay as U}from\"../../../geometry/support/plane.js\";import{create as G}from\"../../../geometry/support/ray.js\";import{sv3d as H}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as Z}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as q}from\"../support/ElevationProvider.js\";import{fromScreen as J}from\"../support/geometryUtils/ray.js\";import K from\"../webgl-engine/lib/Camera.js\";import{Object3D as N}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import X from\"../../../geometry/Point.js\";class Y{constructor(e){this.camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=v(),this._worldFrame=null,this._renderLocation=E(),this._renderLocationDirty=!0,this._location=new X({x:0,y:0,z:0}),this._elevationAlignedLocation=new X,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){$(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=v()),ee(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){Z(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Z(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if($(this._modelTransform)){const t=this._calculateModelTransformOffset(_e);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,te),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(b(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ne),a=r*this.screenLocation.pixelSize,c=J(this.camera,s,se);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],i);for(let t=1;t<s.length;t++){const o=L(le,s[t],i),r=B(x(e,o,ie),c);if(null!=r&&r<a*a){const t=y(H.get(),e,o);S(t,t,.5);const i=h(H.get());return this.camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:A,i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,ne),l=r*this.screenLocation.pixelSize,h=J(this.camera,s,se);if(o(h))return null;const d=u(oe,c),_=j(de,e,d),g=L(ue,t,c);V(g,_,ae);const m=he;if(U(ae,h,m)&&w(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,ne),c=r*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=J(this.camera,s,se);if(o(l))return null;const d=u(oe,a),_=j(de,t,d),g=this._calculateModelTransformPosition(ue);V(g,_,ae);const m=he;if(!U(ae,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],a);for(let t=1;t<s.length;t++){const i=L(le,s[t],a),o=C(x(e,i,ie),m);if(null!=o&&o<c*c){const t=y(H.get(),e,i);S(t,t,.5);const s=h(H.get());return this.camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:1});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new X({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,ge,e.spatialReference),I(e.extent,ge)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(q(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(q(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(q(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ne;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=!(0!=(15&r))||(s&r)==(15&r),i=!(0!=(65520&r))||(this.state&r)==(65520&r);if(e&&i)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new N({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function $(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ee(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=P(e.renderCoordsHelper.spatialReference);return z(t,0,ce,0,o.radius),k(i(ce[0]),i(ce[1]),s),!0}}}const te=a(),ie=M(),se=G(),oe=_(),re=v(),ne=v(),ae=W(),ce=E(),le=E(),he=E(),de=E(),ue=E(),_e=E(),ge=new X({x:0,y:0,z:0,spatialReference:null});export{Y as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as r}from\"../../../chunks/mat4.js\";import{f as n,c as o,m as c,n as a}from\"../../../chunks/vec3.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as l}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as u}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4,r=!0){const n=i(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new h({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t}):new f({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=i(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new u({view:e,renderObjects:[{geometry:g.createSphereGeometry(1,32,32),material:d(i(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,a,i){const m=n(s.get(),e,a),u=b(m,o(s.get(),i,m),a,l.get());r(u,u);const p=c(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,n){const c=a(s.get(),e),i=a(s.get(),t),l=o(s.get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:F(r,n.geometry)}function F(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:p(r);t(n)||(e.location=m(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as a}from\"../../../../core/handleUtils.js\";import{deg2rad as n}from\"../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{s as l,b as s,a as o}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{Manipulator3D as p}from\"../Manipulator3D.js\";import{ManipulatorState as m}from\"./ManipulatorState.js\";import{settings as h}from\"./settings.js\";import{ExtendedLineVisualElement as u}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as d}from\"../visualElements/LaserlineVisualElement.js\";import{OutlineVisualElement as g}from\"../visualElements/OutlineVisualElement.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(t){const{view:a,graphic:n}=t,i=new f({graphic:n}),l=y(t,i),s=[l,E(t,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>e(s).remove()}}function y(a,n){const{view:i,graphic:l}=a,s=new g({view:i,geometry:S(l)?l.geometry:null,elevationInfo:c(l),attached:!1});h.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};h.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=S(l)?l.geometry:null)),t(s)];return o(),{visualElement:s,remove:()=>e(r).remove()}}function E(i,l,s){const{graphic:o,view:r}=i,p=[],g=c(o),f=\"on-the-ground\"===g.mode||!g.offset&&\"absolute-height\"!==g.mode,v=new m,y=new u({view:r,extensionType:h.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});h.visualElements.pointGraphics.shadowStyle.apply(y);const E=n(h.visualElements.heightPlaneAngleCutoff),j=new d({view:r,attached:!1,angleCutoff:E});h.visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(i),!s.displaying||f&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?h.visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,h.visualElements.lineGraphics.shadowStyle.apply(l,e),h.visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?h.visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,h.visualElements.heightPlane.apply(j,e))}w(y,v),b(i,l,j,v)};h.visualElements.zVerticalLine.apply(y),p.push(s.on(\"changed\",L),s.watch(\"displaying\",L),l.events.on(\"attachment-origin-changed\",L),t(y),t(j));const D=[],C=()=>{e(D).remove(),D.length=0,i.forEachManipulator((e=>D.push(e.events.on(\"grab-changed\",L)))),i.forEachManipulator((e=>D.push(e.events.on(\"select-changed\",L)))),L()};return C(),p.push(i.onManipulatorsChanged(C),a((()=>e(D)))),e(p)}function w(e,t){const a=1===t.numSelected?t.firstSelected:t.numSelected>1&&i(t.firstGrabbedXY)?t.firstGrabbedXY:null;i(a)?(e.setStartEndFromWorldDownAtLocation(a.renderLocation),e.attached=!0):e.attached=!1}function b(e,t,a,n){if(n.numSelected>0){l(j,0,0,0);let t=0;e.forEachManipulator(((e,a)=>{1===a&&e.selected&&e instanceof p&&(s(j,j,e.renderLocation),t++)})),t>0?(a.heightManifoldTarget=o(j,j,1/t),a.attached=!0):a.attached=!1}else{const n=t.attachmentOrigin;i(n)&&e.view.renderCoordsHelper.toRenderCoords(n,j)?(a.heightManifoldTarget=j,a.attached=!0):a.attached=!1}}function S(e){return i(e.geometry)&&(\"polygon\"===e.geometry.type||\"polyline\"===e.geometry.type)}const j=r();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e,destroyHandle as t,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{isNone as i,isSome as a}from\"../../../../core/maybe.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{containsXY as d}from\"../../../../geometry/support/aaBoundingRect.js\";import{getGraphicEffectiveElevationInfo as f}from\"../../../../support/elevationInfoUtils.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{settings as v}from\"./settings.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as E}from\"../visualElements/LaserlineVisualElement.js\";import{PointVisualElement as w}from\"../visualElements/PointVisualElement.js\";import{evaluateElevationAlignmentAtPoint as j}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as b}from\"../../layers/graphics/ElevationContext.js\";import{GraphicState as x}from\"../../layers/graphics/GraphicState.js\";function S(t){const{view:n,graphic:o}=t,i=new x({graphic:o}),a=[],s=P(t,i,a);return L(t,i,a,s),a.push(n.trackGraphicState(i)),{visualElement:s,remove(){e(a).remove()}}}function L(e,n,s,l){const{view:c,graphic:m}=e,d=new y({view:c,extensionType:v.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});v.visualElements.zVerticalLine.apply(d);const w=new E({view:c,intersectsLineInfinite:!0,attached:!1});v.visualElements.pointGraphics.shadowStyle.apply(w);const x=o(v.visualElements.heightPlaneAngleCutoff),S=new E({view:c,attached:!1,angleCutoff:x});v.visualElements.heightPlane.apply(S);const L=f(e.graphic),P=b.fromElevationInfo(L),C=\"on-the-ground\"===L.mode||!L.offset&&\"absolute-height\"!==L.mode,M=new g;let R=1,G=1;const V=()=>{M.update(e);const t=A(m),o=C&&(n.isDraped||i(t)||!t.hasZ);let s=!0;if(!o&&a(t)){const e=j(t,c.elevationProvider,P,c.renderCoordsHelper);r(U,t.x,t.y,e),p(U,t.spatialReference,U,c.renderCoordsHelper.spatialReference),d.setStartEndFromWorldDownAtLocation(U),w.intersectsWorldUpAtLocation=U}else s=!1;const f=2&M.grabbingState?v.visualElements.laserlineAlphaMultiplier:1;f!==R&&(R=f,v.visualElements.heightPlane.apply(S,f));const g=h(D);!o&&n.displaying&&l.calculateMapBounds(g)&&p(u(g,U),c.spatialReference,U,c.renderCoordsHelper.spatialReference)?(S.heightManifoldTarget=U,S.attached=!0):S.attached=!1;const y=4&M.grabbingState?v.visualElements.laserlineAlphaMultiplier:1;y!==G&&(G=y,v.visualElements.pointGraphics.shadowStyle.apply(w,y));const E=s&&n.displaying&&!o;w.attached=E,d.attached=E};s.push(n.watch([\"displaying\",\"isDraped\"],V),n.on(\"changed\",V)),e.forEachManipulator((e=>{s.push(e.events.on(\"grab-changed\",V))})),s.push(t(w)),s.push(t(d)),s.push(t(S)),V()}function P(e,n,o){const{view:i,graphic:a}=e,s=new w({view:i,geometry:A(a),elevationInfo:f(a),attached:!1});return C(e,s,n,o),o.push(t(s)),s}function A(e){const t=e.geometry;return i(t)?null:\"point\"===t.type?t:\"mesh\"===t.type?t.anchor.clone():null}function C(e,t,n,o){const i=()=>t.attached=n.displaying;M(e,t,n,o),v.visualElements.pointGraphics.outline.apply(t),o.push(s(n,\"displaying\",i))}function M(e,t,o,i){const{view:s,graphic:r}=e;let l=null;const p=e=>{a(l)&&(l.remove(),l=null),o.isDraped&&a(e)&&(l=R(s,e,(()=>{t.geometry=e})))},c=()=>{const e=A(r);p(e),t.geometry=e};i.push(o.on(\"changed\",c),n((()=>l))),c()}function R(e,t,n){const o=e.elevationProvider.spatialReference;c(t,U,o);const i=U[0],a=U[1];return e.elevationProvider.on(\"elevation-change\",(e=>{d(e.extent,i,a)&&n()}))}const U=l(),D=m();export{S as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as r}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as t}from\"./originGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":case\"mesh\":return t(i);case\"polygon\":case\"polyline\":return r(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this.forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{g as c,l,f as a,d as i,a as u,b as p,c as d}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,fromPositionAndNormal as y,create as S}from\"../../../../geometry/support/plane.js\";import{create as j}from\"../../../../geometry/support/ray.js\";import{projectPoint as E}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as x,getGraphicEffectiveElevationInfo as b}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as C}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";function P(e,r){return h(e,(()=>r))}function U(e){return h(e,(e=>e.plane))}function h(t,s){const c=m(),l=m();let a=!1;return i=>{const u=s(i);if(\"start\"===i.action){const r=n(i.screenStart,o(v.get())),s=w(t.state.camera,r,J);e(s)&&(a=g(u,s,c))}if(!a)return null;const p=n(i.screenEnd,o(v.get())),d=w(t.state.camera,p,J);return r(d)?null:g(u,d,l)?{...i,renderStart:c,renderEnd:l,plane:u,ray:d}:null}}function k(t,n,o,c=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=t.sceneIntersectionHelper.intersectElevationFromScreen(s(i.screenStart.x,i.screenStart.y),n,o,l),e(a)&&e(c)&&!f(a,a,c)))return null;if(r(a))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(i.screenEnd.x,i.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...i,mapStart:a,mapEnd:u}:null}}function M(e,r,t,n=null,o=null){return k(e,t,x(r,e,t),n,o)}function R(e,r,t,n=null,o=null){return M(e,t,b(r),n,o)}function F(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?R(t,n,s,o):null}function T(e,r){const t=z,n=B,o=S();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=d(o,t,a(n,r,e.state.camera.eye));return d(s,s,t),y(r,s,o)}function A(e,r,t){let n=null;const o=new H;return o.next(P(e,T(e,r))).next(D(e,r)).next(q(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function D(e,r){const t=m(),n=l(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=m(),s=m(),d=o=>{if(a(o,o,r),E(t,o,o),\"global\"===e.viewingMode){l(o)*Math.sign(i(t,o))<.001-n&&a(o,u(o,t,.001),r)}return p(o,o,r),o};return e=>(e.renderStart=d(c(o,e.renderStart)),e.renderEnd=d(c(s,e.renderEnd)),e)}function q(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}function G(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function O(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=0,l.options.hud=!1;const a=s(),i={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=m(),p=t(c,o.spatialReference),d=e=>{o.map.ground&&o.map.ground.opacity<1?i.exclude.add(C):i.exclude.delete(C),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,a),l,i);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=2===r.intersector?0:1;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=0}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=d(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=d(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}const z=m(),B=m(),J=j();export{q as convertToMapCoordinates,G as hideManipulatorWhileDragging,D as projectToWorldUp,O as screenToMap3D,M as screenToMapXYAtLocation,F as screenToMapXYForGraphic,R as screenToMapXYForGraphicAtLocation,P as screenToRenderPlane,U as screenToRenderPlaneFromEvent,A as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{dragGraphic as e,resetGraphic as n}from\"../../../../interactive/dragEventPipeline.js\";function r(t,r,a,c){const i=t.graphic,o=(t,e)=>r({action:t,graphic:i,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const s=r.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(e(i,c)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t}));return a.next(n(i)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})})),s}))}function a(e){if(t(e)||\"polyline\"!==e.type&&\"polygon\"!==e.type)return 0;const n=(\"polyline\"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import a from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as i,unwrap as o}from\"../../../../../core/maybe.js\";import{v as s,i as n,A as l,m as p,e as u,w as h}from\"../../../../../chunks/mat4.js\";import{c as m}from\"../../../../../chunks/mat4f64.js\";import{s as c}from\"../../../../../chunks/vec3.js\";import{f as d}from\"../../../../../chunks/vec3f64.js\";import{sv3d as f,sm4d as _}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as M}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as w}from\"../dragEventPipeline3D.js\";import{colors as v}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,DISC_TRANSLATE_ARROW_OFFSET as A,DISC_TRANSLATE_ARROW_SIZE as I}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as b}from\"./moveUtils.js\";import D from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as x}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as P,dragAtLocation as k,constrainToMapAxis as E,addScreenDelta as S}from\"../../../../interactive/dragEventPipeline.js\";class U extends T{constructor(t){super(),this._handles=new r,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=j,this._updateAfterDrag=!1,this.events=new a,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles=i(this._handles),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:a}of this._arrowManipulatorInfos)t(a,1)}createGraphicDragPipeline(t,a,r){const e=a.graphic,i=g(e),s=o(e.geometry).spatialReference;return b(a,r,(a=>this.createDragPipeline(((r,e,i,o,s)=>a(r,t(r,e,i,o,s),i)),i,s,e)),this._view.state.viewingMode)}createDragPipeline(t,a,r,i){return e(this._arrowManipulatorInfos.map((({manipulator:e},o)=>P(e,((e,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:1}))).next(k(this._view,e.elevationAlignedLocation)).next(w(this._view,e.elevationAlignedLocation,a,r,i)).next(E(e.location,this.angle+(o+1)*Math.PI*.5)).next(S());t(e,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/j,i=I*e,o=i*Math.sqrt(3)/2,u=D.createExtrudedTriangle(o,i/2,i/2,y);D.transformInPlace(u,s(_.get(),c(f.get(),0,-o/3,0))),t.renderObjects=[{geometry:u,material:this._opaqueMaterial,stateMask:2},{geometry:u,material:this._transparentMaterial,stateMask:1}],t.radius=o/3*2*1.2;const h=n(_.get());l(h,r*Math.PI/2);const m=n(_.get());s(m,c(f.get(),0,A*e,0)),p(a,h,m)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=n(_.get());u(a,a,t,d(0,0,1));const r=h(_.get(),c(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=n(_.get());p(e,r,a);for(const i of this._arrowManipulatorInfos){const t=p(_.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new M({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:d(0,0,1)}}),r={manipulator:a,transform:m()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(a=1){const r=t.toUnitRGBA(v.main);return r[3]*=a,new x({color:r,transparent:1!==a,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../Color.js\";import e from\"../../../../../core/Handles.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{w as a}from\"../../../../../chunks/mat4.js\";import{c as r}from\"../../../../../chunks/mat4f64.js\";import{s}from\"../../../../../chunks/vec3.js\";import{f as o}from\"../../../../../chunks/vec3f64.js\";import{sv3d as n,sm4d as l}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as c}from\"../../Manipulator3D.js\";import{screenToMapXYAtLocation as m}from\"../dragEventPipeline3D.js\";import{colors as u}from\"../settings.js\";import{DISC_RADIUS as h,DISC_HEIGHT as d,GEOMETRY_SEGMENTS as _,DISC_COLLISION_RADIUS as f}from\"./config.js\";import{Manipulation as g}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as M}from\"./moveUtils.js\";import{SnapToScene as j}from\"../snapping/SnapToScene.js\";import S from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as v}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as y,dragAtLocation as T,addScreenDelta as w}from\"../../../../interactive/dragEventPipeline.js\";class b extends g{constructor(t){super(),this._handles=new e,this._snapToScene=new j,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=h,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(t,e,a){const r=e.graphic,s=p(r),o=i(r.geometry).spatialReference;return M(e,a,(e=>this.createDragPipeline(((i,a,r,s,o)=>e(i,t(i,a,r,s,o),r)),s,o,r)),this._view.state.viewingMode)}createDragPipeline(t,e,i,a){const r=this._view;return y(this._manipulator,((s,o,n,l,p)=>{const c=o.next(T(r,s.elevationAlignedLocation)).next(m(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(w());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=a(l.get(),s(n.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new c({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:o(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=S.createCylinderGeometry(d,1,_,o(0,0,1),o(0,0,0)),e=a(r(),o(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=f*(this._radius/h)}_createMaterial(e=1){const i=t.toUnitRGBA(u.main);return i[3]*=e,new v({color:i,transparent:1!==e,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}export{b as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{darken as t}from\"../../../../../core/colorUtils.js\";import e from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{clamp as a}from\"../../../../../core/mathUtils.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{a as o,d as s,f as n}from\"../../../../../chunks/mat4.js\";import{c as l}from\"../../../../../chunks/mat4f64.js\";import{j as m,f as p,n as u,d as c,c as h,a as d}from\"../../../../../chunks/vec3.js\";import{c as f,f as M}from\"../../../../../chunks/vec3f64.js\";import{Manipulator3D as _}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as g}from\"../../manipulatorUtils.js\";import{screenToZConstrained as y}from\"../dragEventPipeline3D.js\";import{settings as j}from\"../settings.js\";import{DISC_RADIUS as v}from\"./config.js\";import{Manipulation as w}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as k}from\"./moveUtils.js\";import z from\"../../../webgl-engine/lib/GeometryUtil.js\";import{createManipulatorDragEventPipeline as b,addScreenDelta as P}from\"../../../../interactive/dragEventPipeline.js\";class x extends w{constructor(t){super(),this._handles=new r,this._radius=v,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(t,e,r){const a=i(e.graphic.geometry).spatialReference;return k(e,r,(e=>this.createDragPipeline(((r,a,i,o,s)=>e(r,t(r,a,i,o,s),i)),a)),this._view.state.viewingMode)}createDragPipeline(t,e){const r=this._view;return b(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(y(r,a.renderLocation,e)).next(P());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const e=this._radius/v,r=j.zManipulator.height*e,a=j.zManipulator.coneHeight*e,i=j.zManipulator.coneWidth*e,m=j.zManipulator.width*e,p=[M(0,0,0),M(0,0,r)],u=z.createTubeGeometry(p,m/2,16,!1),c=z.createConeGeometry(a,i/2,16,!1),h=[M(0,0,0),M(0,0,r+a)],d=t=>{const e=l();if(o(e,e,[0,0,r]),s(e,e,Math.PI/2),t){const r=1+2*t/i;n(e,e,[r,r,r])}return e},f=d(0),_=(e,r)=>{const a=t(j.zManipulator.color,r);return[a.r/255,a.g/255,a.b/255,j.zManipulator.color.a*e]},y=g(_(1,.25),1),w=g(_(1,0),1),k=g(_(.7,0),j.zManipulator.renderOccluded),b=g(_(.85,0),j.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:c,transform:f,material:y,stateMask:1},{geometry:u,material:y,stateMask:1},{geometry:c,transform:f,material:w,stateMask:2},{geometry:u,material:w,stateMask:2},{geometry:c,transform:f,material:k,stateMask:1},{geometry:u,material:k,stateMask:1},{geometry:c,transform:f,material:b,stateMask:2},{geometry:u,material:b,stateMask:2}],this._manipulator.radius=m/2+2,this._manipulator.collisionType={type:\"line\",paths:[h]}}createManipulator(){const t=new _({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,r=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,r);const i=m(e.eye,r),o=e.computeRenderPixelSizeAtDist(i),s=p(E,r,e.eye);u(s,s);const n=O;this._view.renderCoordsHelper.worldUpAtPosition(D,n);const l=Math.abs(c(s,n)),f=h(E,s,n),M=h(E,f,n),_=a(l,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/v,w=j.zManipulator.width*y;d(M,u(M,M),(1/g-1)*i+o*w),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}get test(){return{manipulator:this._manipulator}}}const D=f(),E=f(),O=f();export{x as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/Handles.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import t from\"../../../../../core/has.js\";import{isSome as e}from\"../../../../../core/maybe.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(a){super(),this._handles=new i,this._angleDeferred=null,this._interactive=!0;const{tool:t,view:e,snapToScene:n,radius:s}=a;this._view=e,this.xyManipulation=new l({tool:t,view:e,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:t,view:e,radius:s}),this.zManipulation=new p({tool:t,view:e,radius:s}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,t,e){return a([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),t,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),t,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),t,e)])}createDragPipeline(i,t,e,n){return a([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),t,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),t,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if(t(\"esri-mobile\"))return;const n=[];a.forEachManipulator((i=>n.push(i))),i.forEachManipulator((i=>n.push(i)));const s=()=>{const a=[];this.xyAxisVisible?e(this._angleDeferred)&&(this.angle=this._angleDeferred()):i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(u),this._handles.add(a,u)};for(const t of n)this._handles.add(t.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=e(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!a&&a.length>0&&a.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{isSome as i}from\"../../../../../core/maybe.js\";import{screenToMapXYForGraphic as e}from\"../dragEventPipeline3D.js\";import{Manipulation as r}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as a}from\"./moveUtils.js\";import{createManipulatorDragEventPipeline as o,addMapDelta as s,addScreenDelta as n}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as l}from\"../../../../interactive/GraphicManipulator.js\";class h extends r{constructor(i){super(),this._handles=new t,this._view=i.view,this._tool=i.tool,this._graphicState=i.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return a(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)}createDragPipeline(t){const r=this._view,a=this._graphicState.graphic,l=i(a.geometry)?a.geometry.spatialReference:null;return o(this._manipulator,((i,o,h,p,c)=>{const m=o.next(e(c,r,a,l)).next(s()).next(n());t(i,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new l({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Collection.js\";import i from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as a}from\"../../../../../core/HandleOwner.js\";import n from\"../../../../../core/Handles.js\";import{makeHandle as o}from\"../../../../../core/handleUtils.js\";import{unwrap as s,isNone as r,isSome as p}from\"../../../../../core/maybe.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{makeDehydratedPoint as c}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as m,getConvertedElevation as u}from\"../../../../../support/elevationInfoUtils.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{createVisualElements as f}from\"../visualElementUtils.js\";import{DISC_RADIUS as y}from\"../manipulations/config.js\";import{MoveManipulation as M}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as w}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as j}from\"../manipulations/MoveXYGraphicManipulation.js\";import{isSupportedGraphic as b}from\"./isSupportedGraphic.js\";import{OutlineVisualElement as x}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as S}from\"../../../layers/graphics/GraphicState.js\";import{dragGraphicMany as E,resetGraphicMany as _}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as P}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as A}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as D}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as G}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";class O{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class z{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class H{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let X=class extends(a(i.EventedMixin(P))){constructor(t){super(t),this.graphics=new e,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new n,this.snappingPipeline=new G}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators(),this.complete()}destroy(){this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}get updating(){return this.updatingHandles.updating}reset(){}_refreshManipulators(){this.handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===b(t))).map((t=>new Y(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this.handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new j({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this.handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this.buildDragEventPipeline(t,0,e,i,a,n))))}this.createMoveManipulation(t)}createMoveManipulation(t){const e=new M({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?M.radiusForSymbol(t[0].graphic.symbol):y});this._moveManipulation=e,e.elevationInfo={mode:\"absolute-height\",offset:0},e.forEachManipulator((t=>{this.handles.add(t.events.on(\"immediate-click\",(i=>{e.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...i,graphic:this.graphics.getItemAt(0)}),i.stopPropagation()})))}));const i=()=>this.updateMoveManipulation(t);for(const n of t)this.handles.add([n.state.on(\"changed\",i),n.state.watch(\"displaying\",i)]);const a=t[t.length-1];this.handles.add(a.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(a)))),this.handles.add(e.createDragPipeline(((e,i,a,n,o)=>this.buildDragEventPipeline(t,e,i,a,n,o)),m(a.graphic),s(a.graphic.geometry).spatialReference,a.graphic)),this.updateMoveManipulationAngle(a)}createVisualElements(t){for(const e of t){const i=e.graphic,a=f({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>o()});r(a)||(e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof x&&this.handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this.handles.add(a))}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>w(t.graphic.geometry)}updateMoveManipulation(t){const e=c(0,0,0,this.view.spatialReference);let i=0,a=!1;const n=this._moveManipulation;for(const o of t){if(!o.state.displaying)continue;const t=o.state.graphic;this.enableZ&&v(t)&&(a=!0);const n=o.geometryRepresentation instanceof x&&!o.state.isDraped?o.geometryRepresentation.attachmentOrigin:d(this.view,t);p(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,i++)}i>0?(e.x/=i,e.y/=i,e.z/=i,n.location=e,n.xyManipulation.available=!0,n.xyAxisManipulation.available=!0,n.zManipulation.available=a):n.available=!1}buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let p=null,l=null;const h=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,p=null,l=null,this._moveManipulation.interactive=!0};if(1===t.length&&0===e){const e=t[0].graphic;a=this.buildSnappingPipelineSteps(e,m(e),a,n,o)}const c=a.next((e=>{if(\"start\"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,p=E(r,this.view.state.viewingMode),l=_(r),this.emit(\"graphic-move-start\",new O(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>p(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit(\"graphic-move\",new z(a,n,r)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new H(r)),this.destroyed)return null;h()}}));return n.next((t=>l(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new H(r)),this.destroyed)return null;h()})),c}buildSnappingPipelineSteps(t,e,i,a,n){const o=t.geometry;if(r(o)||\"point\"!==o.type&&\"mesh\"!==o.type)return i;const s=(\"point\"===o.type?o:o.anchor).clone(),p=new D({elevationInfo:e,pointer:n,editGeometryOperations:A.fromGeometry(s,this.view.state.viewingMode),visualizer:new g,excludeFeature:t}),l=this.snappingManager;return i.next((e=>{s.z=u(this.view,s,m(t),{mode:\"absolute-height\",offset:0});return{...e,snapOrigin:p.coordinateHelper.pointToVector(s)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:p,snappingManager:l,cancel:a,updatingHandles:this.updatingHandles}),this.snappingPipeline.next)}};t([l({constructOnly:!0,nonNullable:!0})],X.prototype,\"view\",void 0),t([l({readOnly:!0})],X.prototype,\"graphics\",void 0),t([l({constructOnly:!0,nonNullable:!0})],X.prototype,\"enableZ\",void 0),t([l({constructOnly:!0})],X.prototype,\"snappingManager\",void 0),t([l({readOnly:!0})],X.prototype,\"type\",void 0),t([l({readOnly:!0})],X.prototype,\"updating\",null),X=t([h(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],X);class Y{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new S({graphic:t})}get graphic(){return this.state.graphic}}export{z as GraphicMoveEvent,O as GraphicMoveStartEvent,H as GraphicMoveStopEvent,X as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../../../../core/maybe.js\";import{createRenderScreenPointArray3 as o}from\"../../../../../core/screenUtils.js\";import{f as n}from\"../../../../../chunks/mat4f64.js\";import{c as t,r as s,p as c,f as i}from\"../../../../../chunks/vec3.js\";import{c as d}from\"../../../../../chunks/vec3f64.js\";import{normal as f,fromPositionAndNormal as p,create as m}from\"../../../../../geometry/support/plane.js\";import{makeDehydratedPoint as u}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{OffsetEdgeVertex as a}from\"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js\";function l(e,r,o){const n=\"on-the-ground\"===o.mode?1:0;return new a(e,n,r,0)}function j(r,o,n){const s=d();if(!r.renderCoordsHelper.toRenderCoords(o,s))return null;const c=h(r,o,f(n.plane)),i=h(r,o,n.edgeDirection);if(e(c)||e(i))return null;const u=t(d(),c,i);return p(s,u,m())}function h(e,r,o){const n=u(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),t=d(),c=d();return e.renderCoordsHelper.toRenderCoords(r,t)&&e.renderCoordsHelper.toRenderCoords(n,c)?s(c,t,c):null}function y(e,r,o){const c=f(e),i=s(d(),r,o),p=t(d(),i,c),m=t(d(),i,p);return n(i[0],i[1],i[2],0,p[0],p[1],p[2],0,m[0],m[1],m[2],0,0,0,0,1)}function C(e,n,t){const s=t.projectToRenderScreen(e,o()),d=t.projectToRenderScreen(n,o());return r(s)&&r(d)?c(i(s,s,d)):0}export{j as createEdgeOffsetIntersectionPlane,l as createEdgeOffsetOperation,y as edgeOffsetRotationMatrix,C as screenEdgeLengthSquared};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import t from\"../../../../../core/Evented.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import a from\"../../../../../core/Handles.js\";import{handlesGroup as n,destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as l,unwrap as p,removeMaybe as h}from\"../../../../../core/maybe.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{property as u}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{I as m}from\"../../../../../chunks/mat4f64.js\";import{l as g,f as _,e as v,s as f,b as M,a as y}from\"../../../../../chunks/vec3.js\";import{f as x,c as O}from\"../../../../../chunks/vec3f64.js\";import b from\"../../../../../geometry/Polyline.js\";import{makeDehydratedPoint as G}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getGraphicEffectiveElevationInfo as E}from\"../../../../../support/elevationInfoUtils.js\";import{isVolumetricSymbol as S}from\"../../../../../symbols/support/utils.js\";import{Manipulator3D as V}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as H,createManipulatorOutlineMaterial as I,placeAtGraphic as w}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as D}from\"../../SnappingVisualizer3D.js\";import{screenToRenderPlaneFromEvent as P,convertToMapCoordinates as k,screenToMapXYAtLocation as A,screenToMapXYForGraphicAtLocation as j}from\"../dragEventPipeline3D.js\";import{canMoveZ as U}from\"../manipulatorUtils.js\";import{settings as L,colors as T}from\"../settings.js\";import{createVisualElements as z}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as F}from\"../manipulations/config.js\";import{MoveManipulation as C}from\"../manipulations/MoveManipulation.js\";import{shapeOrientation as R}from\"../manipulations/moveUtils.js\";import{MoveXYGraphicManipulation as Z}from\"../manipulations/MoveXYGraphicManipulation.js\";import{createEdgeOffsetIntersectionPlane as N,createEdgeOffsetOperation as X,edgeOffsetRotationMatrix as Y,screenEdgeLengthSquared as q}from\"./edgeOffsetUtils.js\";import{OutlineVisualElement as K}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as W}from\"../../../layers/graphics/GraphicState.js\";import B from\"../../../webgl-engine/lib/GeometryUtil.js\";import{addMapDelta as J,createManipulatorDragEventPipeline as Q,dragAtLocation as $,addScreenDelta as ee}from\"../../../../interactive/dragEventPipeline.js\";import{EditGeometryOperations as te}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as ie}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as ae}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";let ne=class extends(t.EventedMixin(i)){constructor(e){super(e),this._vertexManipulatorMaterial=H(L.colorToVec4(L.reshapeManipulators.vertex.color),L.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=I(L.colorToVec4(L.reshapeManipulators.vertex.outlineColor),L.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=I(L.colorToVec4(L.reshapeManipulators.vertex.hoverOutlineColor),L.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=H(L.colorToVec4(L.reshapeManipulators.edge.color),L.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=I(L.colorToVec4(L.reshapeManipulators.edge.outlineColor),L.reshapeManipulators.edge.renderOccluded),this._edgeOffsetManipulatorMaterial=H(L.colorToVec4(L.reshapeManipulators.edgeOffset.color),L.reshapeManipulators.edgeOffset.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=H(L.colorToVec4(L.reshapeManipulators.edgeOffset.hoverColor),L.reshapeManipulators.edgeOffset.renderOccluded,!1),this._selectedManipulatorMaterial=H(L.colorToVec4(L.reshapeManipulators.selected.color),L.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=I(L.colorToVec4(L.reshapeManipulators.selected.outlineColor),L.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=I(L.colorToVec4(L.reshapeManipulators.selected.hoverOutlineColor),L.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._edgeOffsetManipulatorGeometryInside=null,this._edgeOffsetManipulatorGeometryOutside=null,this._manipulatorHandles=new a,this._manipulatorInfos=[],this._editGeometryOperations=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new ae,this._snappingPipelineHandle=new ae,this._vertexLaserLineVisualElement=null}initialize(){const e=new W({graphic:this.graphic});this._graphicState=e,this.handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._editGeometryOperations=o(this._editGeometryOperations),this._moveManipulation=o(this._moveManipulation),this._graphicMoveManipulation=o(this._graphicMoveManipulation),this._manipulatorHandles=o(this._manipulatorHandles),this.manipulators.removeAll(),this._manipulatorInfos=[],this._resetGrabbingDragging()}get inputGeometry(){return s(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null}set inputGeometry(e){this._recreateEditGeometryAndManipulators(e)}get updating(){return this.updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveGraphic(){return this.tool.enableMoveGraphic}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_removeManipulators(){this._moveManipulation=o(this._moveManipulation),this._graphicMoveManipulation=o(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[]}_resetGrabbingDragging(){this._numGrabbing=0,this._numDragging=0}_createManipulators(){if(l(this._editGeometryOperations))return;const e=E(this.graphic);for(const t of this._editGeometryOperations.data.components){for(const i of t.vertices)this._createVertexOrEdgeManipulator(i,e);for(const i of t.edges)this._createVertexOrEdgeManipulator(i,e)}this._createGraphicMoveManipulators(e)}get canRedo(){return s(this._editGeometryOperations)&&this._editGeometryOperations.canRedo}get canUndo(){return s(this._editGeometryOperations)&&this._editGeometryOperations.canUndo}redo(){if(l(this._editGeometryOperations))return null;const e=this._editGeometryOperations.redo();return s(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}undo(){if(l(this._editGeometryOperations))return null;this.emit(\"undo\");const e=this._editGeometryOperations.undo();return s(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}_recreateManipulators(){this._removeManipulators(),this._resetGrabbingDragging(),this._createManipulators()}_recreateEditGeometryAndManipulators(e=this.inputGeometry){this._removeManipulators(),this._resetGrabbingDragging(),l(e)||(o(this._editGeometryOperations),this._editGeometryOperations=te.fromGeometry(e,this.view.state.viewingMode),this._createManipulators())}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;let i=0;const a=[],n=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),r=1===e&&n;for(const o of this._manipulatorInfos)oe(o)&&(o.manipulator.grabbing||r&&!o.manipulator.selected||a.push(o),i++);if(0===a.length)return;this._moveVertices(a,t);if(a.length===i){if(this._updateEventState(1),this.destroyed)return;this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic})}else{if(this._updateEventState(2),this.destroyed)return;this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}}_isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)oe(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const{mapDeltaX:t,mapDeltaY:i,mapDeltaZ:a}=e;if(!t&&!i&&!a)return;const n=[];for(const r of this._manipulatorInfos)oe(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&n.push(r);this._moveVertices(n,e,1),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){if(this._graphicMoveManipulation=new Z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic){let e=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((t,i,a)=>{i.next((e=>this._trackNumDragging(e))).next((t=>(\"start\"===t.action&&(e=p(this._editGeometryOperations).createUndoGroup()),t))).next((t=>{this._perGraphicManipulatorDragAction(0,t),\"end\"===t.action&&(e=h(e))})),a.next(this._cancelDragOperation((()=>e=h(e))))})))}else this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null}));this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()}))]))),this._moveManipulation=new C({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&U(this.graphic),snapToScene:!1,radius:C.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this.handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const t=p(this.graphic.geometry).spatialReference;this.handles.add([this._moveManipulation.createDragPipeline(((t,i,a,n,r)=>{const o=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>oe(e)&&e.manipulator.selected));return 1===e.manipulatorType&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:n,snappingManager:this.tool.snappingManager,snappingContext:new ie({editGeometryOperations:p(this._editGeometryOperations),elevationInfo:e,pointer:r,excludeFeature:this.graphic,visualizer:new D}),updatingHandles:this.updatingHandles}),this._snappingPipelineHandle.next).next(J()).next((e=>(this._perGraphicManipulatorDragAction(1,e),e)));return n.next(this._cancelDragOperation()),o}),e,t,this.graphic),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this.handles.remove(e)}))]),this._updateMoveManipulationPosition();const i=z({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){s(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});s(i)&&(this._outlineVisualElement=i.visualElement instanceof K?i.visualElement:null),s(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(e,t=E(this.graphic)){const i=L.reshapeManipulators.edgeOffset,a=i.size/2,r=a+i.collisionPadding;if(l(this._edgeOffsetManipulatorGeometryInside)||l(this._edgeOffsetManipulatorGeometryOutside)){const e=a/r,t=e*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=B.createExtrudedTriangle(t,e/2,e/2,i.height,i.offset),this._edgeOffsetManipulatorGeometryOutside=B.createExtrudedTriangle(-t,e/2,e/2,i.height,-i.offset)}const o=[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2}],p=new V({view:this.view,renderObjects:o,elevationInfo:\"on-the-ground\"!==t.mode||S(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:t,worldOriented:!1,focusMultiplier:1,radius:r,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:\"disc\",direction:x(0,0,1)},collisionPriority:1}),h=new V({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?\"move\":\"default\"}),d={manipulator:p,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0,edgeManipulator:h,elevationInfo:t,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(d,i.minSquaredEdgeLength),this._updateEdgeOffsetManipulator(d);const u=this._getManipulatorInfoFromHandle(d.handle.leftVertex).manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(d))),c=this._getManipulatorInfoFromHandle(d.handle.rightVertex).manipulator.events.on(\"location-update\",(()=>this._updateEdgeOffsetManipulator(d)));d.locationUpdateHandle=n([u,c]),this._manipulatorHandles.add(d.locationUpdateHandle,p),this._manipulatorHandles.add([this._watchAndUpdateGrabState(p,!0),this._watchAndUpdateGrabState(h,!0)],p),this._manipulatorHandles.add(Q(p,this._createEdgeOffsetPipeline(d,t)),p),this._manipulatorHandles.add(Q(h,((e,i,a,n)=>{if(\"touch\"===n){this._createEdgeOffsetPipeline(d,t)(e,i,a)}else if(this.enableMoveGraphic){const n=this.graphic,r=s(n.geometry)?n.geometry.spatialReference:null;i.next((e=>this._trackNumDragging(e))).next($(this.view,e.elevationAlignedLocation)).next(A(this.view,e.elevationAlignedLocation,t,r,n)).next(ee()).next(J()).next((e=>this._perGraphicManipulatorDragAction(0,e))),a.next(this._cancelDragOperation())}})),p);const m=e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\",{...e,graphic:this.graphic}),e.stopPropagation()};return this._manipulatorHandles.add([p.events.on(\"immediate-click\",m),h.events.on(\"immediate-click\",m)],p),this._manipulatorInfos.push(d),this.manipulators.add(p),this.manipulators.add(h),this.emit(\"manipulators-changed\"),d}_autoHideEdgeOffsetManipulator(e,t){const i=e.manipulator,a=e.edgeManipulator,r=()=>{h(e.visibilityHandle);const r=q(this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.renderLocation,this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.renderLocation,this.view.state.camera)<t;(!i.focused&&!a.focused||r)&&(i.grabbable=!r,a.grabbable=!r,e.visibilityHandle=n([i.disableDisplay(),{remove:()=>{i.grabbable=!0,a.grabbable=this.enableMoveGraphic}}]))};this._manipulatorHandles.add([i.events.on(\"focus-changed\",r),a.events.on(\"focus-changed\",r),{remove:()=>{h(e.visibilityHandle),this.manipulators.remove(a)}}],i),r()}_updateEdgeOffsetManipulator(e){this._updateManipulatorPosition(e);const t=p(this._editGeometryOperations).data.coordinateHelper,i=N(this.view,e.manipulator.elevationAlignedLocation,X(t,e.handle,p(e.manipulator.elevationInfo))),a=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.renderLocation,n=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.renderLocation,r=s(i)?Y(i,a,n):m;e.manipulator.modelTransform=r,e.edgeManipulator.elevationAlignedLocation=e.manipulator.elevationAlignedLocation,e.edgeManipulator.modelTransform=r;const o=g(_(pe,a,n))/2;e.edgeManipulator.collisionType={type:\"line\",paths:[[[-o,0,0],[o,0,0]]]}}_createEdgeOffsetPipeline(e,t){return(i,a,n)=>{this._clearSelection();const{step:r,cleanup:o}=this._initializeEdgeOffset(e,t);a.next((e=>this._trackNumDragging(e))).next($(this.view,i.elevationAlignedLocation)).next(r).next(P(this.view)).next(k(this.view,p(this._editGeometryOperations).data.spatialReference)).next(J()).next(this._applyEdgeOffsetStep(e)).next((e=>{\"end\"===e.action&&o()})),n.next((e=>(o(),e))).next(this._cancelDragOperation())}}_initializeEdgeOffset(e,t){const i=p(this._editGeometryOperations),a=X(i.data.coordinateHelper,e.handle,t),o=i.createUndoGroup(),s=N(this.view,e.manipulator.elevationAlignedLocation,a);a.requiresSplitEdgeLeft&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge),1),a.requiresSplitEdgeRight&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge),0);const d=()=>new b({paths:[[e.handle.leftVertex.pos,e.handle.rightVertex.pos]],spatialReference:p(this._editGeometryOperations).data.spatialReference}),u=new K({view:this.view,isDraped:this._graphicState.isDraped,geometry:d(),elevationInfo:e.elevationInfo,width:L.visualElements.lineGraphics.outline.width,color:L.colorToVec4(T.main),attached:!0});let c;const m=()=>{this._cleanEdgeOffsetCollapsedEdges(e),c=h(c)},g=this.on(\"undo\",m);return c=n([r(u),this._graphicState.watch(\"isDraped\",(e=>u.isDraped=e)),this._graphicState.on(\"changed\",(()=>u.geometry=d())),o,g]),{step:e=>l(a)||l(s)?(m(),null):{...e,operation:a,plane:s},cleanup:m}}_applyEdgeOffsetStep(e){return t=>{if(this.destroyed||l(t.operation))return t;this._updateEventState(2);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:n}=t;return(i||a||n)&&(this._offsetEdge(e,t),this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})),t}}_cleanEdgeOffsetCollapsedEdges(e){var t,i;const a=null==(t=e.handle.leftVertex.leftEdge)?void 0:t.leftVertex,n=e.handle.leftVertex,r=null==(i=e.handle.rightVertex.rightEdge)?void 0:i.rightVertex,o=e.handle.rightVertex,s=p(this._editGeometryOperations).data.coordinateHelper,l=1e-6,h=[];a&&s.distance(a.pos,n.pos)<l&&h.push(this._getManipulatorInfoFromHandle(n)),(s.distance(n.pos,o.pos)<l||r&&s.distance(r.pos,o.pos)<l)&&h.push(this._getManipulatorInfoFromHandle(o)),h.length&&this._removeVertices(h)}_computeVertexManipulatorSizeAndOutline(e){const t=e.size/2,i=t+e.collisionPadding;return{size:t/i,outlineSize:(t+e.outlineSize)/i}}_createVertexOrEdgeManipulator(e,t=E(this.graphic)){if(\"edge\"===e.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(e,t);if(!this.enableMidpoints)return null}if(l(this._vertexManipulatorGeometry)||l(this._vertexManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(L.reshapeManipulators.vertex);this._vertexManipulatorGeometry=B.createSphereGeometry(e,16,16),this._vertexManipulatorOutlineGeometry=B.createSphereGeometry(t,16,16)}if(l(this._edgeManipulatorGeometry)||l(this._edgeManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(L.reshapeManipulators.edge);this._edgeManipulatorGeometry=B.createSphereGeometry(e,16,16),this._edgeManipulatorOutlineGeometry=B.createSphereGeometry(t,16,16)}const i=s(this.graphic.geometry)&&\"point\"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|he.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|he.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|he.Vertex},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}];this.enableMidpoints&&i.push({geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|he.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|he.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|he.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|he.Edge});const a=new V({view:this.view,renderObjects:i,elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(a,e,t);const r=\"edge\"===e.type?{manipulator:a,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:a,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(r),this.manipulators.add(a),this._updateManipulatorPosition(r),\"edge\"===r.type){const e=this._getManipulatorInfoFromHandle(r.handle.leftVertex).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(r))),t=this._getManipulatorInfoFromHandle(r.handle.rightVertex).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(r)));r.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(r.locationUpdateHandle,a)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(a,!0),a);const o=Q(a,((e,i,a,n)=>{let o=null;i.next((e=>this._trackNumDragging(e))).next((e=>{if(\"start\"===e.action&&(o=p(this._editGeometryOperations).createUndoGroup()),se(r)){const t=this._splitEdgeManipulator(r);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:r,snapOrigin:r.handle.pos}})).next($(this.view,e.elevationAlignedLocation)).next(j(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this._isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new ie({editGeometryOperations:p(this._editGeometryOperations),elevationInfo:t,pointer:n,excludeFeature:this.graphic,visualizer:new D}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(J()).next((e=>{this._perVertexManipulatorDragAction(e),\"end\"===e.action&&(o=h(o))})),a.next(this._cancelDragOperation((()=>o=h(o))))}));return this._manipulatorHandles.add(o,a),this._manipulatorHandles.add([a.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,r))),a.events.on(\"select-changed\",(()=>{r.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))],a),this.emit(\"manipulators-changed\"),r}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(e){return()=>{switch(this._numDragging--,this.undo(),this.outputGeometry=s(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null,s(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}e&&e(),this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=he.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=L.reshapeManipulators.vertex.size/2+L.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i,e.interactive=s(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type;break;case\"edge\":e.state=he.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=L.reshapeManipulators.edge.size/2+L.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"!==i.mode||S(this.graphic.symbol)?{mode:\"absolute-height\",offset:0}:i}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,(\"touch\"!==i.pointerType||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((e=>{e.manipulator.interactive=!this._numGrabbing&&s(this.graphic.geometry)&&\"point\"!==this.graphic.geometry.type,\"edgeManipulator\"in e&&(e.edgeManipulator.interactive=!this._numGrabbing)})),p(this._graphicMoveManipulation).forEachManipulator((e=>e.interactive=!this._numGrabbing)))}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const t=p(this._editGeometryOperations);if(\"vertex\"===e.handle.type)e.manipulator.location=t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos,le),e.manipulator.grabbing&&s(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const i=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator,a=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator;if(s(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const n=i.location,r=a.location,o=.5,s=n.x+o*(r.x-n.x),l=n.y+o*(r.y-n.y),p=n.hasZ&&r.hasZ?0:void 0;e.manipulator.location=G(s,l,p,t.data.spatialReference)}else v(pe,i.renderLocation,a.renderLocation,.5),e.manipulator.renderLocation=pe}}_splitEdgeManipulator(e,t=.5){const i=p(this._editGeometryOperations),a=p(i.splitEdge(e.handle,t).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const n=E(this.graphic);let r;this.enableEdgeOffset?(this._removeManipulator(e),r=this._createVertexOrEdgeManipulator(a)):(r=e,r.handle=a,r.type=\"vertex\",this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n)),a.leftEdge&&this._createVertexOrEdgeManipulator(a.leftEdge),a.rightEdge&&this._createVertexOrEdgeManipulator(a.rightEdge),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(r),this._updateSelection(e.manipulator);const o=this._updateEventState(2),s=i.data.coordinateHelper.vectorToArray(r.handle.pos),l=i.data.components.indexOf(a.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:p(a.index)}],added:s}),o&&this._updateEventState(0),r}_updateMoveManipulationPosition(){const e=f(pe,0,0,0);let t=0,i=!1,a=null,n=null;for(const r of this._manipulatorInfos)oe(r)&&(r.manipulator.selected?(t++,M(e,e,r.manipulator.renderLocation),l(a)||r.selectedIndex>a.selectedIndex?(n=a,a=r):(l(n)||r.selectedIndex>n.selectedIndex)&&(n=r)):i=!0);if(0!==t){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&U(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==t}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&U(this.graphic)}if(0!==t){let e=0;if(s(a)){const t=a.handle.pos,i=s(n)?n.handle.pos:a.handle.leftEdge&&a.handle.leftEdge.leftVertex?a.handle.leftEdge.leftVertex.pos:null,r=!s(n)&&a.handle.rightEdge&&a.handle.rightEdge.rightVertex?a.handle.rightEdge.rightVertex.pos:null;i&&r?this._moveManipulation.xyAxisManipulation.available=!1:i?e=re(i,t):r&&(e=re(t,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=F}else this._moveManipulation.angleDeferred=()=>R(p(this.graphic.geometry)),this._moveManipulation.radius=C.radiusForSymbol(this.graphic.symbol);0!==t&&i?(y(e,e,1/t),le.spatialReference=p(this._editGeometryOperations).data.spatialReference,le.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,le),this._moveManipulation.elevationAlignedLocation=le):s(this._outlineVisualElement)&&!this._graphicState.isDraped&&s(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:w(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=p(this._editGeometryOperations);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));const e=p(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createVertexOrEdgeManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.vectorToArray(e.pos),componentIndex:t,vertexIndex:p(e.index)}}));this.outputGeometry=i.data.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_moveVertices(e,t,i=(\"start\"===t.action?0:1)){const a=p(this._editGeometryOperations);a.moveVertices(e.map((e=>e.handle)),t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i),this.outputGeometry=a.data.geometry;for(const n of e)this._updateManipulatorPosition(n)}_offsetEdge(e,t){if(l(t.operation))return;const i=p(this._editGeometryOperations),a=t.operation.clone();a.distance=t.operation.signedDistanceToPoint(t.mapEnd),i.updateVertices([e.handle.leftVertex,e.handle.rightVertex],a),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex))}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),se(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function re(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function oe(e){return\"vertex\"===e.handle.type}function se(e){return\"edge\"===e.handle.type}e([u({constructOnly:!0})],ne.prototype,\"tool\",void 0),e([u()],ne.prototype,\"inputGeometry\",null),e([u()],ne.prototype,\"outputGeometry\",void 0),e([u({readOnly:!0})],ne.prototype,\"updating\",null),ne=e([c(\"esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation\")],ne);const le=G(0,0,null,null),pe=O();var he;!function(e){e.Vertex=16,e.Edge=32}(he||(he={}));export{ne as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Handles.js\";import{destroyMaybe as o,isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import{init as n}from\"../../../../../core/watchUtils.js\";import{property as p}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{geometryOfSupportedGraphic as h,isSupportedGraphic as l}from\"./isSupportedGraphic.js\";import{ReshapeOperation as c}from\"./ReshapeOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";let m=class extends(t.EventedMixin(d)){constructor(e){super(e),this._handles=new r,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveGraphic=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type=\"reshape-3d\",this.snappingManager=null,this.automaticManipulatorSelection=!1}destroy(){this._handles=o(this._handles),this._reshapeOperation=o(this._reshapeOperation),this._set(\"view\",null),this._set(\"graphic\",null)}get updating(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.updating)&&e}_updateGeometry(){const e=h(this.graphic);this._reshapeOperation.inputGeometry=a(e)?e.clone():null}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==l(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_updateGeometryInternally(e){this._internalGeometryUpdate=!0,this.graphic.geometry=e,this._internalGeometryUpdate=!1}_onReshapeGeometryChanged(){i(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}initialize(){this._reshapeOperation=new c({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(e=>this.emit(\"immediate-click\",e))),this.view.on(\"pointer-down\",[\"Shift\"],(e=>{e.stopPropagation()})),n(this,\"graphic\",(()=>{this._updateGraphic()}),!0)]),this.complete()}get canUndo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canUndo)&&e}undo(){a(this.snappingManager)&&this.snappingManager.doneSnapping(),a(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}get canRedo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canRedo)&&e}redo(){a(this.snappingManager)&&this.snappingManager.doneSnapping(),a(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};e([p()],m.prototype,\"_reshapeOperation\",void 0),e([p({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([p({constructOnly:!0})],m.prototype,\"graphic\",void 0),e([p({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZShape\",void 0),e([p({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableZVertex\",void 0),e([p({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMoveGraphic\",void 0),e([p({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableMidpoints\",void 0),e([p({constructOnly:!0,nonNullable:!0})],m.prototype,\"enableEdgeOffset\",void 0),e([p({readOnly:!0})],m.prototype,\"type\",void 0),e([p({constructOnly:!0})],m.prototype,\"snappingManager\",void 0),e([p({readOnly:!0})],m.prototype,\"updating\",null),e([p()],m.prototype,\"automaticManipulatorSelection\",void 0),m=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],m);export{m as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";import a from\"../../../../../core/Handles.js\";import{clamp as e,rad2deg as i}from\"../../../../../core/mathUtils.js\";import{isSome as r,destroyMaybe as s}from\"../../../../../core/maybe.js\";import{addFrameTask as o}from\"../../../../../core/scheduling.js\";import{createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{init as l}from\"../../../../../core/watchUtils.js\";import{i as c,e as h,w as d,m as g,f as p}from\"../../../../../chunks/mat4.js\";import{c as u}from\"../../../../../chunks/mat4f64.js\";import{s as m,f,l as M,h as D,c as S,b as y}from\"../../../../../chunks/vec3.js\";import{a as v,f as R}from\"../../../../../chunks/vec3f64.js\";import{fromPositionAndNormal as b,create as k,normal as _}from\"../../../../../geometry/support/plane.js\";import{wrap as j,distance2 as A}from\"../../../../../geometry/support/ray.js\";import{sv3d as w,sm4d as F}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as I}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as E}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as P}from\"../../manipulatorUtils.js\";import{screenToRenderPlane as U}from\"../dragEventPipeline3D.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as T,SCALE_INDICATOR_DIRECTION_BUFFER as x,RING_HEIGHT as L,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as O,ROTATE_INDICATOR_ARROW_TIP_LENGTH as C,ROTATE_INDICATOR_ARROW_TIP_RADIUS as G,RING_THICKNESS as H,HANDLE_COLOR as q,DRAG_THRESHOLD_PX as z,RING_INDICATOR_DELAY_MS as B,RING_RADIUS as J,INNER_INDICATOR_RADIUS as K,INDICATOR_THICKNESS as N,OUTER_INDICATOR_RADIUS as Q,SCALE_INDICATOR_OFFSET1 as V,SCALE_INDICATOR_OFFSET2 as W,RING_RESET_ANIMATION_SPEED_FACTOR as X,GEOMETRY_SEGMENTS as Y,ROTATE_INDICATOR_ARC_LENGTH as Z,SCALE_INDICATOR_ARC_LENGTH as $}from\"../manipulations/config.js\";import{cyclicalPI as tt}from\"../../../support/mathUtils.js\";import at from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as et}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as it}from\"../../../../interactive/dragEventPipeline.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class st{constructor(e){this.mode=null,this._handles=new a,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new t,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>r(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this.adapter.scale:1,this.tool=e.tool,this.mode=e.mode,this.adapter=e.adapter,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}get angle(){return this.adapter.angle}get scale(){return this.adapter.scale}set location(t){this.ringManipulator.location=t}set elevationAlignedLocation(t){this.ringManipulator.elevationAlignedLocation=t}get grabbing(){return this.ringManipulator.grabbing}set interactive(t){this.ringManipulator.interactive=t}destroy(){r(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles=s(this._handles),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const a=o({update:({deltaTime:a})=>{t.update(a)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:a}}cancelActiveAnimation(){r(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=s(this._activeAnimation))}forEachManipulator(t){t(this.ringManipulator,4)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const t=this.ringManipulator,a=this.tool.graphicState.graphic,s=it(t,((t,s,o)=>{this._scaleRotateDragData=null,this.adapter.restart();const n={mode:\"none\",origin:v(t.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=n,this.updateDragState();const l=w.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation,l),s.next(U(this.tool.view,b(t.renderLocation,l,k()))).next((t=>{const s=_(t.plane),o=P(t.renderStart,t.renderEnd,n.origin,s),l=tt.shortestSignedDiff(n.angle,o);n.angleDir=e(n.angleDir+l,-T,T),n.angle=o;const c=ot(n,t),h=c-this.adapter.scale;if(n.scaleDir=e(n.scaleDir+h,-x,x),this.onScaleChanged(),\"none\"===n.mode){const e=this.mode||nt(t,t.plane,n.origin,this.tool.view.state.camera);if(r(e)){switch(e){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:a,angle:0}),this.tool.emit(\"record-undo\",{record:this.adapter.createUndoRecord()});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:a,xScale:1,yScale:1}),this.tool.emit(\"record-undo\",{record:this.adapter.createUndoRecord()})}n.mode=e}}switch(n.mode){case\"rotate\":this.adapter.angle=n.initialAngle+o;break;case\"scale\":this.adapter.scale=c,this.onScaleChanged()}switch(this.updateDragState(),this.updateManipulatorTransform(),t.action){case\"start\":case\"update\":switch(n.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:a,angle:i(n.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:a,xScale:c,yScale:c})}break;case\"end\":switch(n.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:a,angle:i(n.angle)});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:a,xScale:c,yScale:c})}}\"end\"===t.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),o.next((()=>{if(this.adapter.cancel(),r(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:a,angle:0});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:a,xScale:1,yScale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState()}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(ht(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),l(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t))])}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(r(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),r(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=c(F.get()),a=this.adapter.angle;h(t,t,a,R(0,0,1));const e=this.getScale(),i=d(F.get(),m(w.get(),e,e,e)),r=c(F.get());g(r,i,t),this.ringManipulator.modelTransform=r}createRingManipulator(){const t=(t,a,e)=>{const i=[],r=Math.ceil(Y*(a-t)/(2*Math.PI));for(let s=0;s<r+1;s++){const o=t+s*(a-t)/r;i.push(R(e*Math.cos(o),e*Math.sin(o),0))}return i},a=a=>t(0,2*Math.PI,a),e=t=>[[-t/2,0],[t/2,0],[t/2,L/2],[-t/2,L/2]],i=(t,a)=>at.createPathExtrusionGeometry(e(a),t,[],[],!1),r=a(J),s=i(r,H),o={left:[],right:[]},n=[];for(let R=0;R<2;R++){const a=R*Math.PI-Math.PI/4,e=Math.PI/2-Z,r=a+e,s=a+Math.PI/2-e,l=t(r,s,K),c=i(l,N);n.push(l),n.push(t(r,s,Q-H/2)),o.left.push(c),o.right.push(c);for(let t=0;t<2;t++){const a=0===t,e=u();if(a){p(e,e,[1,-1,1]),h(e,e,-r,[0,0,1]);const t=Math.round(O*(l.length-1));e[12]=l[t][0],e[13]=l[t][1],e[14]=l[t][2]}else{h(e,e,s,[0,0,1]);const t=Math.round((1-O)*(l.length-1));e[12]=l[t][0],e[13]=l[t][1],e[14]=l[t][2]}const i=at.createExtrudedTriangle(C,0,G,L);at.transformInPlace(i,e),(a?o.left:o.right).push(i)}}const l=[];for(let h=0;h<2;h++){const a=h*Math.PI-Math.PI/4,e=Math.PI/2-$,r=a+e,s=a+Math.PI/2-e,o=t(r,s,Q);l.push(i(o,N))}const c=a(J+V),d=a(J+W),g=i(c,N),m=i(d,N),f=a(J-V),M=a(J-W),D=i(f,N),S=i(M,N),y=this.createMaterial(),v=this.createMaterial(.66),b=this.createMaterial(.5),k=this.createMaterial(.33);let _=[{geometry:s,material:y,stateMask:rt.DelayedFocused},{geometry:s,material:b,stateMask:0}];this.mode&&\"scale\"!==this.mode||(_=_.concat([{geometry:l,material:y,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:v,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:m,material:k,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:D,material:v,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:S,material:k,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(_=_.concat([{geometry:o.right,material:y,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:o.left,material:y,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:o.right,material:y,stateMask:rt.DelayedFocused|rt.RotateRight}]));const j=[r,...n];return new E({view:this.tool.view,renderObjects:_,autoScaleRenderObjects:!1,worldOriented:!0,radius:H,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:I(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:j,direction:R(0,0,1)}})}createMaterial(t=1){const a=[...q,t];return new et({color:a,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{ringManipulator:this.ringManipulator}}}function ot(t,a){const e=f(w.get(),a.renderStart,t.origin),i=f(w.get(),a.renderEnd,t.origin),r=M(e),s=M(i);return 0===r?0:s/r}function nt(t,a,e,i){const{renderStart:r,renderEnd:s}=t,o=lt(r,i,w.get()),n=lt(s,i,w.get());if(D(o,n)<z*z)return null;const l=f(w.get(),r,e),c=S(w.get(),l,_(a)),h=r,d=y(w.get(),h,c),g=lt(e,i,w.get()),p=o,u=lt(d,i,w.get()),m=f(w.get(),u,p),M=f(w.get(),o,g),v=j(p,m),R=j(g,M);return A(v,n)<A(R,n)?\"rotate\":\"scale\"}function lt(t,a,e){return a.projectToScreen(t,dt),m(e,dt[0],dt[1],0)}function ct(t,a){let e=null,i=1;const r=()=>i;return{start:()=>{i=t.getScale(),e=t.getScale,t.getScale=r,a()},update:t=>(i+=((i+1)/2-i)*Math.min(t*X,1),a(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=e,a()}}}function ht(t,a){let e=0,i=null;const r=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=r,e=0,a()},update:t=>(e+=t,!i()||e>B?1:0),destroy:()=>{t.getFocused=i,a()}}}const dt=n();export{st as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,none as t}from\"../../../../../core/maybe.js\";function r(t){return e(t.geometry)&&\"mesh\"===t.geometry.type?o(t.geometry):n(t)}function o(t){return e(t.transform)?m(t,t.transform):i(t)}function n(e){let r=e.geometry,o=t;return{undo(e){o=e.geometry,e.geometry=r},redo(e){r=e.geometry,e.geometry=o}}}function m(t,r){let o=r.clone(),n=null;return{undo:r=>{n=e(t.transform)?t.transform.clone():null,t.transform=o,r.notifyGeometryChanged()},redo:r=>{o=e(t.transform)?t.transform.clone():null,t.transform=n,r.notifyGeometryChanged()}}}function i(e){let t,r=e.vertexAttributes.clonePositional();return{undo:o=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,o.notifyGeometryChanged()},redo:o=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,o.notifyGeometryChanged()}}}export{r as createGraphicGeometryUndoRecord};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{deg2rad as s,rad2deg as i}from\"../../../../../core/mathUtils.js\";import{isSome as o}from\"../../../../../core/maybe.js\";import{react as r,sync as a}from\"../../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{axis as p,angle as h}from\"../../../../../geometry/support/axisAngleDegrees.js\";import{createGraphicGeometryUndoRecord as l}from\"./undoRecords.js\";let g=class extends t{constructor(e){super(e),this.angle=0,this.scale=1,this.initialAngle=0,this.previousAngle=0,this.previousScale=1}initialize(){this.restart()}restart(){this.handles.remove(m);const e=this.geometry.transform;if(this.scale=1,o(e)){const t=p(e.rotation)[2];Math.abs(t)>.999999&&(this.angle=s(h(e.rotation))*Math.sign(t))}this.initialAngle=this.angle,this.previousAngle=this.angle,this.previousScale=this.scale,this.handles.add(r((()=>({angle:this.angle,scale:this.scale})),(e=>this.update(e)),a),m)}cancel(){this.scale=1,this.angle=this.initialAngle}createUndoRecord(){return l(this.graphic)}update({scale:e,angle:t}){const s=this.geometry.anchor,o=1===this.viewingMode;e!==this.previousScale&&(this.geometry.scale(e/this.previousScale,{origin:s,geographic:o}),this.previousScale=e,this.graphic.notifyGeometryChanged()),t!==this.previousAngle&&(this.geometry.rotate(0,0,i(t-this.previousAngle),{origin:s,geographic:o}),this.previousAngle=t,this.graphic.notifyGeometryChanged())}};e([c({constructOnly:!0})],g.prototype,\"graphic\",void 0),e([c({constructOnly:!0})],g.prototype,\"geometry\",void 0),e([c({constructOnly:!0})],g.prototype,\"viewingMode\",void 0),e([c()],g.prototype,\"angle\",void 0),e([c()],g.prototype,\"scale\",void 0),g=e([n(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter\")],g);const m=\"scale-heading-update-key\";export{g as ScaleRotateMeshAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as e}from\"../../../../../core/HandleOwner.js\";import{deg2rad as i,rad2deg as s}from\"../../../../../core/mathUtils.js\";import{isSome as o,none as r,isNone as a,unwrapOr as l}from\"../../../../../core/maybe.js\";import{react as h,sync as c}from\"../../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let y=class extends e{constructor(t){super(t),this.angle=0,this.scale=1,this.symbol=null,this.initialAngle=0}initialize(){this.restart()}restart(){this.handles.remove(m);const t=o(this.graphic.symbol)&&\"point-3d\"===this.graphic.symbol.type?this.graphic.symbol:r;if(this.symbol=o(t)?t.clone():null,this.initialSizes=[],o(t)){const e=this.findLayerView();o(e)&&(this.initialSizes=t.symbolLayers.map((i=>\"object\"===i.type?e.getSymbolLayerSize(t,i):null)).toArray())}this.angle=0,o(t)&&t.symbolLayers.some((t=>!(\"object\"!==t.type||!o(t.heading))&&(this.angle=-i(t.heading),!0))),this.initialAngle=this.angle,this.scale=1,this.handles.add(h((()=>({angle:this.angle,scale:this.scale})),(t=>this.updateSymbol(t)),c),m)}cancel(){this.graphic.symbol=this.symbol}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:i=>{e=i.symbol,i.symbol=t,this.restart()},redo:i=>{t=i.symbol,i.symbol=e,this.restart()}}}updateSymbol({scale:t,angle:e}){const i=this.graphic.symbol;if(a(this.symbol)||a(i)||\"point-3d\"!==i.type)return;const r=i.clone(),h=-s(e-this.initialAngle);let c=!1;this.forEachObjectSymbolLayerPair(this.symbol,r,((e,i,s)=>{const r=l(e.heading,0)+h;i.heading!==r&&(i.heading=r,c=!0);const a=this.initialSizes[s];if(o(a)&&\"width\"in a){a.width=this.sizeFilter(a.width),a.height=this.sizeFilter(a.height),a.depth=this.sizeFilter(a.depth);const e=a.width*t;i.width!==e&&(i.width=e,c=!0);const s=a.depth*t;i.depth!==s&&(i.depth=s,c=!0);const o=a.height*t;i.height!==o&&(i.height=o,c=!0)}})),c&&(this.graphic.symbol=r)}forEachObjectSymbolLayerPair(t,e,i){t.symbolLayers.forEach(((t,s)=>{const o=e.symbolLayers.getItemAt(s);\"object\"===t.type&&\"object\"===o.type&&i(t,o,s)}))}};t([n()],y.prototype,\"angle\",void 0),t([n()],y.prototype,\"scale\",void 0),t([n({constructOnly:!0})],y.prototype,\"graphic\",void 0),t([n()],y.prototype,\"symbol\",void 0),t([n({constructOnly:!0})],y.prototype,\"findLayerView\",void 0),t([n({constructOnly:!0})],y.prototype,\"sizeFilter\",void 0),y=t([p(\"esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter\")],y);const m=\"scale-heading-update-key\";export{y as ScaleRotateObjectSymbol3DAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import{HandleOwnerMixin as a}from\"../../../../../core/HandleOwner.js\";import{makeHandle as i}from\"../../../../../core/handleUtils.js\";import{isSome as o,isNone as n,destroyMaybe as s}from\"../../../../../core/maybe.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../../geometry/Point.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as c}from\"../../Manipulator3D.js\";import{placeAtGraphic as m}from\"../../manipulatorUtils.js\";import{SnappingVisualizer3D as d}from\"../../SnappingVisualizer3D.js\";import{canMoveZ as g}from\"../manipulatorUtils.js\";import{createVisualElements as u}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as v}from\"../manipulations/config.js\";import{MoveManipulation as M}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";import{ScaleRotateMeshAdapter as f}from\"./ScaleRotateMeshAdapter.js\";import{ScaleRotateObjectSymbol3DAdapter as S}from\"./ScaleRotateObjectSymbol3DAdapter.js\";import{createGraphicGeometryUndoRecord as R}from\"./undoRecords.js\";import{GraphicState as w}from\"../../../layers/graphics/GraphicState.js\";import{InteractiveToolBase as b}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as j}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as A}from\"../../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as x}from\"../../../../interactive/snapping/SnappingDragPipelineStep.js\";let G=class extends(a(e.EventedMixin(b))){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.scaleRotate=null,this.snappingPipeline=new x}initialize(){this.graphicState=new w({graphic:this.graphic}),this.moveManipulation=new M({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&g(this.graphic),radius:M.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:this.graphicState.graphic}),t.stopPropagation()}))))),this.moveManipulation.elevationInfo=h(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,a,i,n,s)=>(o(t)&&0===e&&(i=i.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new A({elevationInfo:h(this.graphic),pointer:s,editGeometryOperations:j.fromGeometry(new p({spatialReference:t.spatialReference}),this.view.state.viewingMode),visualizer:new d,excludeFeature:this.graphic}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:n}),this.snappingPipeline.next)),i)),this.graphicState,(t=>{const{action:e,graphic:a,dxScreen:i,dyScreen:o}=t,n={graphic:a,dxScreen:i,dyScreen:o};switch(e){case\"start\":this.emit(\"graphic-translate-start\",n),this.emit(\"record-undo\",{record:this.createGeometryUndoRecord()});break;case\"update\":this.emit(\"graphic-translate\",n);break;case\"end\":this.emit(\"graphic-translate-stop\",n)}})),this.moveManipulation.angle=o(this.scaleRotate)?this.scaleRotate.angle:0,this.scaleRotateAdapter=this.createScaleRotateAdapter(),this.handles.add(this.scaleRotateAdapter.watch(\"angle\",(()=>this.updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t,adapter:this.scaleRotateAdapter}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([u({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>i()}),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged(),this.updateMoveAngle(),this.forEachManipulator((t=>{t instanceof c&&this.handles.add(t.events.on(\"grab-changed\",(()=>this.updateManipulatorsInteractive())))})),this.complete()}updateManipulatorsInteractive(){n(this.scaleRotate)||(this.scaleRotate.interactive=!this.moveManipulation.grabbing,this.moveManipulation.interactive=!this.scaleRotate.grabbing)}createScaleRotateAdapter(){return o(this.graphic.geometry)&&\"mesh\"===this.graphic.geometry.type?new f({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new S({graphic:this.graphic,sizeFilter:t=>this.enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.graphic.layer))})}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),o(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((e=>e.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&g(this.graphic)}))}createGeometryUndoRecord(){return R(this.graphic)}destroy(){this.moveManipulation.destroy(),this.scaleRotate=s(this.scaleRotate),this.scaleRotateAdapter=s(this.scaleRotateAdapter),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get updating(){return this.updatingHandles.updating}set location(t){this.moveManipulation.location=t,o(this.scaleRotate)&&(this.scaleRotate.location=t)}set elevationAlignedLocation(t){this.moveManipulation.elevationAlignedLocation=t,o(this.scaleRotate)&&(this.scaleRotate.elevationAlignedLocation=t)}reset(){}onDetach(){o(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){o(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(n(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){2===this.view.state.viewingMode||this.view.scale<v?this.moveManipulation.angle=this.scaleRotateAdapter.angle:this.moveManipulation.angle=0}onGeometryChanged(){m(this.view,this,this.graphic)}enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this.moveManipulation.renderLocation)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,zManipulator:this.moveManipulation.zManipulation.test.manipulator,ringManipulator:o(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([r({constructOnly:!0,nonNullable:!0})],G.prototype,\"view\",void 0),t([r({constructOnly:!0,nonNullable:!0})],G.prototype,\"graphic\",void 0),t([r({constructOnly:!0,nonNullable:!0})],G.prototype,\"enableZ\",void 0),t([r()],G.prototype,\"enableRotation\",void 0),t([r()],G.prototype,\"enableScaling\",void 0),t([r({value:!1})],G.prototype,\"snapToScene\",null),t([r({constructOnly:!0})],G.prototype,\"snappingManager\",void 0),t([r({readOnly:!0})],G.prototype,\"type\",void 0),t([r({readOnly:!0})],G.prototype,\"updating\",null),G=t([l(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],G);export{G as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport o from\"../../../../../core/has.js\";import{deg2rad as t}from\"../../../../../core/mathUtils.js\";const r=o(\"mac\")?\"Meta\":\"Control\",s=\"Shift\",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(t(45)),p=Math.cos(t(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=[...n,1],F=4,G=1,H=.3,I=6,J=4,K=12,L=40,N=27,O=1600,P=.4;export{a as DISPLAY_FOCUS_MULTIPLIER,b as GRID_COLOR,i as INITIAL_DEPTH_OFFSET_FRAC,P as INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION,U as PLANE_BACKGROUND_COLOR,O as PLANE_MIN_BASIS_SCREEN_LEN2,S as PLANE_OUTLINE_COLOR,C as PLANE_OUTLINE_WIDTH,x as PLANE_PREVIEW_OUTLINE_WIDTH,e as POINTER_MOVE_TIMER_MS,M as PREVIEW_FADE_DOT_THRESHOLD,j as PREVIEW_FADE_DURATION_SECONDS,E as RESIZE_HANDLE_COLOR,I as RESIZE_HANDLE_CORNER_INPUT_RADIUS,F as RESIZE_HANDLE_CORNER_WIDTH,J as RESIZE_HANDLE_EDGE_INPUT_RADIUS,H as RESIZE_HANDLE_EDGE_PADDING_FRAC,G as RESIZE_HANDLE_EDGE_WIDTH,d as ROTATE_HEADING_CALLOUT_COLOR,N as ROTATE_HEADING_DISC_RADIUS,h as ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER,L as ROTATE_HEADING_OFFSET_DISTANCE,K as ROTATE_HEADING_TIP_LENGTH,k as SHIFT_RESTART_ARROW_CAP_COLOR,B as SHIFT_RESTART_ARROW_LENGTH,D as SHIFT_RESTART_ARROW_OUTLINE_WIDTH,g as SHIFT_RESTART_ARROW_TIP_COLOR,u as SHIFT_RESTART_CALLOUT_COLOR,A as SHIFT_RESTART_OFFSET_DISTANCE,v as SHIFT_RESTART_OUTLINE_COLOR,m as SHIFT_RESTART_TIP_FOCUS_MULTIPLIER,z as SHIFT_RESTART_TIP_LENGTH,y as SHIFT_RESTART_TIP_RADIUS,q as SHIFT_RESTART_TUBE_COLOR,c as SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER,w as SHIFT_RESTART_TUBE_RADIUS,p as SMALL_ANGLE_DOT_THRESHOLD,f as VERTICAL_DOT_THRESHOLD,r as forceHorizontalModifier,s as forceVerticalModifier};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{i as r,a as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{Z as n,c as l}from\"../../../../chunks/vec3f64.js\";import{g as h,c as a}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as u}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as f}from\"./Object3DVisualElement.js\";import{createGeometry as _}from\"../../layers/graphics/lineUtils.js\";import{RibbonLineMaterial as c}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class m extends f{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromRenderSpacePoint(e){const t=1e3,r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=l(),s=l(),i=100,n=[];o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=l(),h=l(),a=l(),p=l();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;r(g),s(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=n){r(g),s(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(a(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&h(r,this._innerColor)||(this._innerColor=a(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!h(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?u(r):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){this._stipplePreferContinuous!==e&&(this._stipplePreferContinuous=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new c(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=_(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameters(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={overlayInfo:null,attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=i();export{m as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{bindProjectionMatrix as r,bindView as e}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as a}from\"../lib/Program.js\";import{S as s}from\"../../../../chunks/SlicePlaneMaterial.glsl.js\";import{makePipelineState as l,separateBlendingParams as n,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class d extends o{initializeProgram(r){const e=d.shader.get().build();return new a(r.rctx,e,t)}bindPass(e,i){r(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"backgroundColor\",e.backgroundColor),this.program.setUniform4fv(\"gridColor\",e.gridColor),this.program.setUniform1f(\"gridWidth\",e.gridWidth)}bindDraw(r){e(this.program,r),this.program.rebindTextures()}initializePipeline(){return l({blending:n(1,1,771,771),depthTest:{func:513},colorWrite:m})}}d.shader=new i(s,(()=>import(\"./SlicePlaneMaterial.glsl.js\")));export{d as SlicePlaneMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{unwrap as r}from\"../../../../core/maybe.js\";import{ShaderTechniqueConfiguration as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import t from\"../lib/GLMaterial.js\";import{Material as i,materialParametersDefaults as n}from\"../lib/Material.js\";import{DefaultBufferWriter as o,PositionUVLayout as s}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as a}from\"./internal/MaterialUtil.js\";import{SlicePlaneMaterialTechnique as u}from\"../shaders/SlicePlaneMaterialTechnique.js\";class l extends i{constructor(r){super(r,m),this._config=new e}intersect(r,e,t,i,n,o,s){return a(r,e,i,n,o,void 0,s)}createBufferWriter(){return new o(s)}requiresSlot(r){return 7===r}createGLMaterial(r){return 0===r.output?new c(r):null}getTechniqueConfig(){return this._config}}class c extends t{constructor(r){super(r),this.ensureTechnique(u,null)}updateParameters(){return r(this.technique)}beginSlot(){return r(this.technique)}bind(r,e){e.bindPass(this._material.parameters,r)}}const m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...n};export{l as SlicePlaneMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../chunks/mat4.js\";import{s as n,d as e,g as o,n as r,c as u}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{getSphericalPCPF as i,getReferenceEllipsoid as s}from\"../projectionEllipsoid.js\";import c from\"../SpatialReference.js\";import{f as l,b as f}from\"../../chunks/boundedPlane.js\";import{f as p,s as v}from\"../../chunks/sphere.js\";function m(t){const{value:n,operations:e}=t;return{operations:e,value:e.create(n)}}function h(t,n,e){return t.operations.setExtent(t.value,n,e.value),e}function d(t){return{operations:t,value:t.create()}}function j(t,n,e=d(t)){return e.operations=t,t.copy(n,e.value),e}function k(t){return j(v,p(0,0,0,s(t).radius))}const A=2**50;function x(){return j(f,l([0,0,0],[A,0,0],[0,A,0]))}function y(t,n){return B.operations=t,B.value=n,B}function P(t,n,e){return t.operations.axisAt(t.value,n,2,e)}function R(t,n,e,o){return t.operations.axisAt(t.value,n,e,o)}function S(t,n,e){return t.operations.intersectRay(t.value,n,e)}function b(t,n){return t.operations.intersectRay(t.value,n,null)}function g(t,n,e){return t.operations.closestPoint(t.value,n,e)}function C(t,n,e){return t.operations.intersectRayClosestSilhouette(t.value,n,e)}function E(t,n,e){return t.operations.closestPointOnSilhouette(t.value,n,e)}function G(t,n){return t.operations.distanceToSilhouette(t.value,n)}function O(t,n){return t.operations.altitudeAt(t.value,n)}function T(t,n,e,o){return t.operations.setAltitudeAt(t.value,n,e,o)}function q(e,o,r,u){return o!==u&&t(u,o),n(z,u[12],u[13],u[14]),T(e,z,r,z),u[12]=z[0],u[13]=z[1],u[14]=z[2],u}function w(t,n,e){return t.operations.elevate(t.value,n,e.value)}const z=a(),B={operations:null,value:null};function D(t,n,o,r,u){return u[0]=e(t,n),u[1]=e(t,o),u[2]=e(t,r),u}function F(t,n,e,a,i){o(e,t),o(I,n),r(I,I),u(a,I,e),u(i,a,e)}function H(t,n){return t?i(n):n.isGeographic?c.PlateCarree:n}const I=a();export{O as altitudeAt,R as axisAt,g as closestPoint,E as closestPointOnSilhouette,F as coordinateSystemFromOneAxisAndNormalVector,m as create,d as createFromOperations,k as createGlobal,x as createLocal,G as distanceToSilhouette,w as elevate,j as fromValues,S as intersectRay,C as intersectRayClosestSilhouette,b as intersectsRay,P as normalAt,H as renderSRFromViewSR,T as setAltitudeAt,q as setAltitudeOfTransformation,h as setExtent,D as vectorCoordinates,y as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as r}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as i,bindView as s}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as a}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as n,ShaderTechniqueConfiguration as l}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import{OITBlending as c,OITDepthTest as u,OITDepthWrite as d,getOITPolygonOffset as h}from\"../lib/OrderIndependentTransparency.js\";import{Program as m}from\"../lib/Program.js\";import{stencilWriteMaskOn as b,stencilToolMaskBaseParams as f,stencilBaseAllZerosParams as g}from\"../lib/StencilUtils.js\";import{I as y}from\"../../../../chunks/ImageMaterial.glsl.js\";import{simpleBlendingParams as T,makePipelineState as P,cullingParams as v,defaultDepthWriteParams as j,defaultColorWriteParams as S}from\"../../../webgl/renderState.js\";class E extends o{initializeProgram(e){const t=E.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new m(e.rctx,i,p)}bindPass(e,t){i(this.program,t.camera.projectionMatrix),this.program.setUniform1f(\"opacity\",e.opacity),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),r(this.program,t))}bindDraw(e){s(this.program,e),t(this.program,this.configuration,e),this.program.rebindTextures()}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e;return P({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?w:c(e),culling:v(r.cullFace),depthTest:{func:u(e)},depthWrite:i?r.writeDepth&&j:d(e),colorWrite:S,stencilWrite:r.sceneHasOcludees?b:null,stencilTest:r.sceneHasOcludees?t?f:g:null,polygonOffset:i||s?null:h(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}E.shader=new a(y,(()=>import(\"./ImageMaterial.glsl.js\")));const w=T(1,771);class O extends l{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([n({count:8})],O.prototype,\"output\",void 0),e([n({count:3})],O.prototype,\"cullFace\",void 0),e([n()],O.prototype,\"slicePlaneEnabled\",void 0),e([n()],O.prototype,\"transparent\",void 0),e([n()],O.prototype,\"enableOffset\",void 0),e([n()],O.prototype,\"writeDepth\",void 0),e([n()],O.prototype,\"sceneHasOcludees\",void 0),e([n({count:4})],O.prototype,\"transparencyPassType\",void 0),e([n()],O.prototype,\"multipassTerrainEnabled\",void 0),e([n()],O.prototype,\"cullAboveGround\",void 0);export{E as ImageMaterialTechnique,O as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{outputFromPass as e}from\"../lib/GLMaterials.js\";import t from\"../lib/GLMaterialTexture.js\";import{Material as r,materialParametersDefaults as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{DefaultBufferWriter as i,PositionUVLayout as n}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as u}from\"./internal/MaterialUtil.js\";import{ImageMaterialTechniqueConfiguration as c,ImageMaterialTechnique as l}from\"../shaders/ImageMaterialTechnique.js\";class h extends r{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new c}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<s,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}intersect(e,t,r,a,s,i,n){u(e,t,a,s,i,void 0,n)}requiresSlot(t,r){if(20===t)return!0;if(4===e(r))return 2===t;return t===(this.parameters.transparent?this.parameters.writeDepth?4:7:2)}createGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new p(e):void 0}createBufferWriter(){return new i(n)}}class p extends t{constructor(e){super({...e,...e.material.parameters})}updateParameters(e){const t=this._material.parameters;return this.updateTexture(t.textureId),this.ensureTechnique(l,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.sceneHasOcludees&&(this._material.setParameters({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}beginSlot(e){return 0!==this._output&&7!==this._output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){this.bindTextures(t.program),this.bindTextureScale(t.program),t.bindPass(this._material.parameters,e)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...a};export{h as ImageMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import{equalsMaybe as i}from\"../../core/maybe.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as h}from\"../../core/accessorSupport/ensureType.js\";import{persistable as n}from\"../../core/accessorSupport/decorators/persistable.js\";import{cyclicalDeg as a}from\"../../views/3d/support/mathUtils.js\";import l from\"../../geometry/Point.js\";var m;let c=m=class extends o{constructor(t){super(t),this.type=\"plane\",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new m({position:e(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&i(this.position,t.position)&&this.width===t.width&&this.height===t.height}};t([r({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,\"type\",void 0),t([r({type:l}),n()],c.prototype,\"position\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),n(),s((t=>a.normalize(h(t),0,!0)))],c.prototype,\"heading\",void 0),t([r({type:Number,nonNullable:!0,range:{min:0,max:360}}),n(),s((t=>a.normalize(h(t),0,!0)))],c.prototype,\"tilt\",void 0),t([r({type:Number,nonNullable:!0}),n()],c.prototype,\"width\",void 0),t([r({type:Number,nonNullable:!0}),n()],c.prototype,\"height\",void 0),c=m=t([p(\"esri.widgets.Slice.SlicePlane\")],c);const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../../../geometry.js\";import{neverReached as e}from\"../../../../../core/compilerUtils.js\";import t from\"../../../../../core/Logger.js\";import{rad2deg as i,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{isNone as s,isSome as n,unwrapOr as o}from\"../../../../../core/maybe.js\";import{castRenderScreenPointArray3 as a}from\"../../../../../core/screenUtils.js\";import{r as c,i as l,f as u,m,d,a as p,g}from\"../../../../../chunks/mat4.js\";import{c as f}from\"../../../../../chunks/mat4f64.js\";import{r as b}from\"../../../../../chunks/quat.js\";import{a as h,g as y,d as w,c as j,n as M,b as v,l as k,f as P,p as R,s as x,v as U}from\"../../../../../chunks/vec3.js\";import{a as O,c as S,f as T}from\"../../../../../chunks/vec3f64.js\";import{tryProjectWithZConversion as C}from\"../../../../../geometry/projection.js\";import{r as E,f as L,i as F,c as A,n as z,u as G}from\"../../../../../chunks/boundedPlane.js\";import{fromPositionAndNormal as I,fromVectorsAndPoint as H}from\"../../../../../geometry/support/plane.js\";import{create as D}from\"../../../../../geometry/support/ray.js\";import{angleAroundAxis as B}from\"../../../../../geometry/support/vector.js\";import{sv3d as W,sm4d as V,sq4d as Z}from\"../../../../../geometry/support/vectorStacks.js\";import{Manipulator3D as q}from\"../../Manipulator3D.js\";import{calculateTranslateRotateFromBases as N}from\"../../manipulatorUtils.js\";import{SHIFT_RESTART_TIP_RADIUS as $,RESIZE_HANDLE_EDGE_PADDING_FRAC as J,SMALL_ANGLE_DOT_THRESHOLD as K,PLANE_MIN_BASIS_SCREEN_LEN2 as Q,INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION as X,SHIFT_RESTART_OFFSET_DISTANCE as Y,SHIFT_RESTART_ARROW_OUTLINE_WIDTH as _,SHIFT_RESTART_ARROW_TIP_COLOR as ee,SHIFT_RESTART_ARROW_CAP_COLOR as te,SHIFT_RESTART_TUBE_COLOR as ie,SHIFT_RESTART_OUTLINE_COLOR as re,SHIFT_RESTART_CALLOUT_COLOR as se,ROTATE_HEADING_OFFSET_DISTANCE as ne,ROTATE_HEADING_DISC_RADIUS as oe,ROTATE_HEADING_CALLOUT_COLOR as ae,PLANE_OUTLINE_COLOR as ce,PLANE_OUTLINE_WIDTH as le,PLANE_BACKGROUND_COLOR as ue,GRID_COLOR as me,RESIZE_HANDLE_CORNER_INPUT_RADIUS as de,RESIZE_HANDLE_EDGE_INPUT_RADIUS as pe,ROTATE_HEADING_TIP_LENGTH as ge,VERTICAL_DOT_THRESHOLD as fe,ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER as be,RESIZE_HANDLE_COLOR as he,DISPLAY_FOCUS_MULTIPLIER as ye,RESIZE_HANDLE_EDGE_WIDTH as we,SHIFT_RESTART_ARROW_LENGTH as je,SHIFT_RESTART_TUBE_RADIUS as Me,SHIFT_RESTART_TIP_LENGTH as ve,SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER as ke,SHIFT_RESTART_TIP_FOCUS_MULTIPLIER as Pe,RESIZE_HANDLE_CORNER_WIDTH as Re}from\"./sliceToolConfig.js\";import{LineVisualElement as xe}from\"../../visualElements/LineVisualElement.js\";import{SlicePlaneVisualElement as Ue}from\"../../visualElements/SlicePlaneVisualElement.js\";import{getElevationAtPoint as Oe}from\"../../../support/ElevationProvider.js\";import{RenderCoordsHelper as Se}from\"../../../support/RenderCoordsHelper.js\";import{fromRender as Te}from\"../../../support/geometryUtils/ray.js\";import{Geometry as Ce}from\"../../../webgl-engine/lib/Geometry.js\";import Ee from\"../../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as Le}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as Fe}from\"../../../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as Ae}from\"../../../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as ze}from\"../../../webgl-engine/materials/RibbonLineMaterial.js\";import Ge from\"../../../../../widgets/Slice/SlicePlane.js\";import Ie from\"../../../../../geometry/Extent.js\";const He=t.getLogger(\"esri.views.3d.interactive.analysisTools.slice.sliceToolUtils\");function De(e,t,i,r,s,n,o,a){return Be(t,o.worldUpAtPosition(e,W.get()),s,n,a.basis1,a.basis2),h(a.basis1,a.basis1,i),h(a.basis2,a.basis2,r),y(a.origin,e),H(a.basis2,a.basis1,a.origin,a.plane),a}function Be(e,t,i,r,s,n){const o=w(e,t),a=W.get(),c=W.get();switch(0===r?Math.abs(o)>fe?1:2:r){case 2:{const r=Math.abs(o)<=K?e:i.viewUp;j(a,r,t),y(c,t);break}case 1:j(a,i.viewUp,t),j(c,t,a);break;case 3:{const r=Math.abs(o)<=K?t:i.viewUp;j(a,r,e),j(c,e,a);break}}const l=j(W.get(),a,c);w(l,i.viewForward)>0&&h(c,c,-1),M(s,a),M(n,c)}function We(e,t,i){const r=t.worldUpAtPosition(e.origin,W.get()),s=e.basis1,n=ft(e,r),o=Math.round(n/Rt)*Rt;return E(e,o-n,s,i)}function Ve(e,t,i,r,s,n){const o=y(W.get(),s.origin);v(o,o,h(W.get(),s.basis1,e.direction[0]<0?1:-1)),v(o,o,h(W.get(),s.basis2,e.direction[1]<0?1:-1));const a=k(s.basis1),c=k(s.basis2),l=P(W.get(),i,o),u=P(W.get(),t,o);let m=0,d=0;if(rt(e)){const t=it(s),i=it(n);m=a-.5*e.direction[0]*w(s.basis1,u)/a,d=c-.5*e.direction[1]*w(s.basis2,u)/c;const r=i/t;m*=r,d*=r}const p=m+.5*e.direction[0]*w(s.basis1,l)/a,g=d+.5*e.direction[1]*w(s.basis2,l)/c,f=h(W.get(),s.basis1,p/a),b=h(W.get(),s.basis2,g/c);(p<=0||et(n.origin,f,r)<=Q)&&y(f,n.basis1),(g<=0||et(n.origin,b,r)<=Q)&&y(b,n.basis2);const j=y(W.get(),o);return v(j,j,h(W.get(),f,e.direction[0]<0?-1:1)),v(j,j,h(W.get(),b,e.direction[1]<0?-1:1)),L(j,f,b,n)}function Ze(e,t){return X*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function qe(e,t,i,r){const s=j(W.get(),t,i);return j(s,s,t),I(e,s,r)}function Ne(e,t){return N(e.basis1,e.basis2,e.origin,t)}function $e(e,t,i,r){const s=t.worldUpAtPosition(e.origin,W.get()),n=W.get();switch(i){case 1:y(n,s);break;case 2:y(n,e.basis1)}return I(e.origin,n,r)}function Je(e,t,i,r){const s=_e(i,2),n=V.get();c(n,t,s.edge*Math.PI/2);const o=M(W.get(),s.basis);let l=h(W.get(),o,s.direction*r.computeScreenPixelSizeAt(s.position)*Y);v(l,l,s.position);const u=r.projectToRenderScreen(l,a(W.get())),m=Ke(r,u);Te(r,u,Pt),M(Pt.direction,Pt.direction);const d=W.get();!m&&F(i,Pt,d)&&(l=d),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=O(l),m?e.state|=kt:e.state&=~kt}function Ke(e,t){const[i,r,s,n]=e.viewport,o=Math.min(s,n)/16;let a=!0;return t[0]<i+o?(t[0]=i+o,a=!1):t[0]>i+s-o&&(t[0]=i+s-o,a=!1),t[1]<r+o?(t[1]=r+o,a=!1):t[1]>r+n-o&&(t[1]=r+n-o,a=!1),a}function Qe(e,t,i,r){const s=k(r.basis1),n=k(r.basis2),o=tt(r),a=it(r),d=x(W.get(),0,0,0);v(d,h(W.get(),r.basis1,t.direction[0]),h(W.get(),r.basis2,t.direction[1])),v(d,r.origin,d);let p=0,g=1;if(rt(t))1===t.direction[0]&&-1===t.direction[1]?p=Rt:1===t.direction[0]&&1===t.direction[1]?p=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(p=3*Math.PI/2),g=a;else{const e=0!==t.direction[0]?1:2;p=1===e?Rt:0,g=(1===e?n:s)-o}const f=l(V.get());c(f,f,p),u(f,f,x(W.get(),g,g,g)),m(f,i,f),f[12]=0,f[13]=0,f[14]=0,e.modelTransform=f,e.renderLocation=d}function Xe(e,t,i,r){const s=r.worldUpAtPosition(i.origin,W.get()),n=_e(i,0),o=l(V.get());c(o,o,n.edge*Math.PI/2),d(o,o,-ft(i,s)),m(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=n.position}function Ye(e,t,i){const r=_e(i,1),s=l(V.get());c(s,s,r.edge*Math.PI/2),d(s,s,Rt),m(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=r.position}function _e(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:v(W.get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:v(W.get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:P(W.get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:P(W.get(),e.origin,e.basis2),edge:t}}}function et(e,t,i){const r=i.projectToRenderScreen(v(W.get(),e,t),a(W.get())),s=i.projectToRenderScreen(P(W.get(),e,t),a(W.get()));return R(P(r,r,s))}function tt(e){const t=k(e.basis1),i=k(e.basis2);return J*Math.min(t,i)}function it(e){return tt(e)}function rt(e){return 0!==e.direction[0]&&0!==e.direction[1]}function st(e,t=1){const i=0===t?Y:0,r=[T(i,0,-je/2),T(i,0,je/2)],s=mt(r,!0),n=(e,t)=>lt(r,r,{tubeRadius:Me,tipRadius:$,tipLength:ve,tubeFocusMultiplier:ke,tipFocusMultiplier:Pe,padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),o=n(0,!1),a=n(_,!0),c=new Le({color:ee,cullFace:2,renderOccluded:16}),l=new Le({color:te,cullFace:2,renderOccluded:16}),u=new Le({color:ie,cullFace:2,renderOccluded:16}),m=new Le({color:re,transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),d=Ee.createPolylineGeometry([[i,0,0],[i-Y,0,0]]),p=Ee.createPolylineGeometry([[i,0,0],[i-Y,0,0]]),g=new Ae({color:se,renderOccluded:4});return new q({view:e,renderObjects:[...o.normal.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:u,transform:i,stateMask:1|vt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:m,transform:t,stateMask:1|vt}))),{geometry:d,material:g,stateMask:1|vt|kt},...o.focused.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:\"tip\"===e?c:\"cap\"===e?l:u,transform:i,stateMask:2|vt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:m,transform:t,stateMask:2|vt}))),{geometry:p,material:g,stateMask:2|vt|kt}],autoScaleRenderObjects:!1,collisionType:{type:\"line\",paths:[s]},collisionPriority:1,radius:$,state:vt})}function nt(e,t){const i=new Fe({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),r=ne,s=oe,n=s*be,o=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new Ce([[\"position\",{size:3,data:[r-e,-e,0,r+e,-e,0,r+e,e,0,r-e,e,0],exclusive:!0}],[\"uv0\",{size:2,data:[0,0,1,0,1,1,0,1]}]],[[\"position\",t],[\"uv0\",t]])},a=Ee.createPolylineGeometry([[0,0,0],[r-s,0,0]]),c=Ee.createPolylineGeometry([[0,0,0],[r-n,0,0]]),l=new Ae({color:ae,renderOccluded:4}),u=[{geometry:o(s),material:i,stateMask:1|vt},{geometry:a,material:l,stateMask:1|vt},{geometry:o(n),material:i,stateMask:2|vt},{geometry:c,material:l,stateMask:2|vt}];return new q({view:e,renderObjects:u,autoScaleRenderObjects:!1,collisionType:{type:\"disc\",direction:[0,0,1],offset:[r,0,0]},collisionPriority:1,radius:s/2,state:vt})}function ot(e){return new xe({view:e,attached:!0,color:ce,width:le,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function at(e){return new Ue({view:e,attached:!0,backgroundColor:[...ue],gridColor:me,gridWidth:4,renderOccluded:4})}function ct(e,t){const i=rt(t),r=i?[T(1,0,0),T(0,0,0),T(0,1,0)]:[T(1,0,0),T(-1,0,0)],s=Ee.createPolylineGeometry(r),n=he,o=e=>new ze({color:n,width:e,renderOccluded:4}),a=()=>new Ae({color:n,renderOccluded:4}),c=i?Re:we,l=c*ye,u=we,m=e=>e>1?o(e):a(),d=[{geometry:s,material:m(c),stateMask:1|xt},{geometry:s,material:m(l),stateMask:2|xt},{geometry:s,material:m(u),stateMask:Ut}],p=new q({view:e,renderObjects:d,collisionType:{type:\"line\",paths:[r]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?de:pe});return p.state=xt,p}function lt(e,t,i){const r=r=>{const s=(r?t:e).slice(0),o=P(W.get(),s[0],s[1]);M(o,o);const a=P(W.get(),s[s.length-1],s[s.length-2]);if(M(a,a),i.padding>0){const e=h(S(),a,-i.padding);if(s[s.length-1]=v(e,e,s[s.length-1]),i.bothEnds){const e=h(S(),o,-i.padding);s[0]=v(e,e,s[0])}}const c=r?i.tipFocusMultiplier:1,d=i.tipLength*(i.focusTipLength?c:1),y=i.tipRadius*c,w=l(V.get());if(i.padding>0){const e=d/4,t=x(W.get(),0,e,0),r=1+i.padding/e;p(w,w,t),u(w,w,x(W.get(),r,r,r)),p(w,w,h(t,t,-1/r))}const j=l(f()),k=T(0,1,0),R=g(f(),b(Z.get(),k,a));R[12]=s[s.length-1][0],R[13]=s[s.length-1][1],R[14]=s[s.length-1][2],m(R,R,w);const U=[{part:\"tube\",geometry:ut(i.tubeRadius*(r?i.tubeFocusMultiplier:1)+i.padding,i.flat,s),transform:j}];let O,C;if(n(i.flat)?O=Ee.createExtrudedTriangle(d,y,y,i.flat.thickness):(O=Ee.createConeGeometry(d,y,24,!1,!1,!0),C=Ee.createConeGeometry(d,y,24,!1,!0,!1)),U.push({part:\"tip\",geometry:O,transform:R}),C&&U.push({part:\"cap\",geometry:C,transform:R}),i.bothEnds){const e=g(f(),b(Z.get(),k,o));e[12]=s[0][0],e[13]=s[0][1],e[14]=s[0][2],m(e,e,w),U.push({part:\"tip\",geometry:O,transform:e}),C&&U.push({part:\"cap\",geometry:C,transform:e})}return U};return{normal:r(!1),focused:r(!0)}}function ut(e,t,i){const r=[];if(n(t))r.push([e,t.thickness/2],[-e,t.thickness/2],[-e,-t.thickness/2],[e,-t.thickness/2]);else{const t=12;for(let i=0;i<t;i++){const s=i/t*2*Math.PI;r.push([Math.cos(s)*e,Math.sin(s)*e])}}return Ee.createPathExtrusionGeometry(r,i,[],[],!1)}function mt(e,t){const i=P(S(),e[e.length-1],e[e.length-2]);if(M(i,i),h(i,i,ge),v(i,i,e[e.length-1]),t){const t=P(S(),e[0],e[1]);return M(t,t),h(t,t,ge),v(t,t,e[0]),[t,...e,i]}return[...e,i]}function dt(e,t,r,n=new Ge){if(s(e))return null;const{renderCoordsHelper:o}=t,a=o.fromRenderCoords(e.origin,t.spatialReference);if(s(a))return null;const c=C(a,r);if(s(c))return null;n.position=c;const l=o.worldUpAtPosition(e.origin,W.get()),u=o.worldBasisAtPosition(e.origin,1,W.get()),m=2*k(e.basis1),d=2*k(e.basis2),p=Se.renderUnitScaleFactor(t.spatialReference,r);return n.width=m*p,n.height=d*p,n.tilt=i(ft(e,l)),n.heading=i(bt(e,l,u)),n}function pt(e,t,i){if(s(e)||s(e.position))return null;const{spatialReference:r}=e.position,o=gt(wt(e,{renderCoordsHelper:t,spatialReference:r},i),t,r);return!e.position.hasZ&&n(o)&&(o.zmin=null,o.zmax=null),o}function gt(e,t,i){if(s(e))return null;const r=e.origin,n=W.get(),o=W.get(),a=W.get(),c=W.get();let l,u,m,d,p,g;v(n,r,e.basis1),v(n,n,e.basis2),v(o,r,e.basis1),U(o,o,e.basis2),U(a,r,e.basis1),U(a,a,e.basis2),U(c,r,e.basis1),v(c,c,e.basis2);for(const f of[n,o,a,c]){const e=t.fromRenderCoords(f,f,i);if(s(e))return null;l=null==l?e[0]:Math.min(l,e[0]),u=null==u?e[0]:Math.max(u,e[0]),m=null==m?e[1]:Math.min(m,e[1]),d=null==d?e[1]:Math.max(d,e[1]),p=null==p?e[2]:Math.min(p,e[2]),g=null==g?e[2]:Math.max(g,e[2])}return new Ie({xmin:l,xmax:u,ymin:m,ymax:d,zmin:p,zmax:g,spatialReference:i})}function ft(e,t){return B(t,e.basis2,e.basis1)+Rt}function bt(e,t,i){return B(e.basis1,i,t)-Rt}function ht(e,t,i,s,n,o,a=A()){return o.toRenderCoords(e,a.origin)?(o.worldBasisAtPosition(a.origin,0,a.basis1),o.worldBasisAtPosition(a.origin,1,a.basis2),H(a.basis2,a.basis1,a.origin,a.plane),E(a,-r(t),z(a),a),E(a,r(i),a.basis1,a),h(a.basis1,a.basis1,s/2),h(a.basis2,a.basis2,n/2),G(a),a):(He.error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}function yt(e,t){if(s(e)||s(e.position))return null;const i=C(e.position,t);if(s(i))return null;const r=Se.renderUnitScaleFactor(e.position.spatialReference,t),n=e.width*r,o=e.height*r;return{position:i,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function wt(e,t,i,r=A()){const n=yt(e,t.spatialReference);return s(n)?null:jt(n,t,i,r)}function jt(e,t,i,r=A()){if(s(e))return null;let a=e.position;!e.position.hasZ&&n(t.elevationProvider)&&(a=e.position.clone(),a.z=o(Oe(t.elevationProvider,e.position),0));const c=ht(a,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,r);return!i.tiltEnabled&&n(c)&&We(c,t.renderCoordsHelper,c),c}function Mt(t){switch(t.type){case\"analysis\":case\"building-scene\":case\"csv\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"map-notes\":case\"ogc-feature\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(t.type),!1}}const vt=16,kt=32,Pt=D(),Rt=Math.PI/2,xt=16,Ut=32;function Ot(e){const t=\"building-scene-3d\"===e.type?e:null;return n(t)}export{vt as DidPointerMoveRecentlyFlag,kt as IsShiftEdgeOnScreenFlag,mt as addArrowTips,Ne as calculateBoundedPlaneTranslateRotate,it as calculateDiagonalResizeHandleScale,Ze as calculatePlaneHalfSize,tt as calculateResizeHandlePadding,et as calculateScreenSpaceBasisLength2,lt as createArrowGeometry,at as createGridVisualElement,ot as createOutlineVisualElement,De as createPlane,ct as createResizeManipulator,nt as createRotateManipulator,$e as createRotatePlane,st as createShiftManipulator,qe as createShiftPlane,We as forceHorizontalOrVertical,Mt as isAlwaysDrapedLayer,rt as isDiagonalResizeHandle,Ot as isIBuildingSceneLayerView3D,Be as normalToBases,gt as planeToExtent,dt as planeToShape,yt as projectShape,jt as projectedShapeToPlane,xt as resizeNormal,Ut as resizeOutlineOnly,Ve as resizePlane,pt as shapeToExtent,wt as shapeToPlane,Qe as updateResizeHandle,Xe as updateRotateHeadingHandle,Ye as updateRotateTiltHandle,Je as updateShiftRestartHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst D=\"data:image/png;base64,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\";export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"./heading-rotate-png.js\";import r from\"./tilt-rotate-png.js\";import{Texture as e}from\"../../../../webgl-engine/lib/Texture.js\";const n={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function o(r){return r.fromData(t,(()=>new e(t,n)))}function i(t){return t.fromData(r,(()=>new e(r,n)))}export{o as getRotateHeadingTexture,i as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{isDiagonalResizeHandle as a}from\"../../analysisTools/slice/sliceToolUtils.js\";import{EventPipeline as e}from\"../../../../interactive/dragEventPipeline.js\";class s{constructor(){this.lastDragEvent=null,this.next=new e,this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&t(this.lastDragEvent)){const t={...this.lastDragEvent,action:\"update\"};a&&this.adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent=\"end\"!==t.action?{...t}:null,this._enabled&&this.adjustScaleFactors(t),t)}adjustScaleFactors(t){const e=a(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}get test(){return{adjustScaleFactors:t=>this.adjustScaleFactors(t)}}}export{s as PreserveAspectRatio};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{q as s,s as o,k as i,x as n,y as r,f as t,m as a,g as e}from\"../../../../chunks/vec2.js\";import{b as c,G as g,a as b,f,e as u,c as m,n as p,d as I,l as d}from\"../../../../chunks/vec3.js\";import{f as N,Z as j}from\"../../../../chunks/vec3f64.js\";import{c as x,u as E}from\"../../../../chunks/boundedPlane.js\";import{sv2d as T,sv3d as V}from\"../../../../geometry/support/vectorStacks.js\";import{MoveVertex as h}from\"../operations/MoveVertex.js\";import{RotateVertex as k}from\"../operations/RotateVertex.js\";import{ScaleVertex as v}from\"../operations/ScaleVertex.js\";import{UpdateVertices as R}from\"../operations/UpdateVertices.js\";function l(s,o){return F(s,o,!1)}function C(s,o){return F(s,o,!0)}function F(s,o,i){if(s instanceof R){if(s.operation instanceof h)return S(s.operation,o,i),!0;if(s.operation instanceof k)return Y(s.operation,o,i),!0;if(s.operation instanceof v)return _(s.operation,o,i),!0}return!1}function S(s,o,i=!1){const n=i?-1:1,r=N(n*s.dx,n*s.dy,n*s.dz);c(o.origin,o.origin,r)}function Y(s,o,i=!1){const n=i?-s.angle:s.angle;g(o.basis1,o.basis1,j,n),g(o.basis2,o.basis2,j,n)}function _(o,i,n=!1){const r=n?1/o.factor1:o.factor1,t=n?1/o.factor2:o.factor2;b(i.basis1,i.basis1,r),b(i.basis2,i.basis2,t),s(i.origin,i.origin,o.origin,o.axis1,r),s(i.origin,i.origin,o.origin,o.axis2,t)}function y(s,c,g,b){b||(b=x());const f=o(T.get(),s[1],-s[0]),u=o(T.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),m=o(T.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),p=T.get();c.components.forEach((t=>t.vertices.forEach((t=>{const a=t.pos;o(p,i(s,a),i(f,a)),n(u,u,p),r(m,m,p)}))));const I=1e-6,d=o(T.get(),m[0]-u[0]<I?g/2:0,m[1]-u[1]<I?g/2:0);return t(u,u,d),a(m,m,d),e(b.basis1,s,(m[0]-u[0])/2),e(b.basis2,f,(m[1]-u[1])/2),o(b.origin,u[0]*s[0]+u[1]*f[0],u[0]*s[1]+u[1]*f[1]),a(b.origin,b.origin,b.basis1),a(b.origin,b.origin,b.basis2),b}function G(s,o,i,n=0,r){r||(r=x()),o.toRenderCoords(s.origin,i,r.origin);const t=V.get();c(t,s.origin,s.basis1),c(t,t,s.basis2),o.toRenderCoords(t,i,t);const a=V.get();c(a,s.origin,s.basis1),f(a,a,s.basis2),o.toRenderCoords(a,i,a);const e=V.get();f(e,s.origin,s.basis1),f(e,e,s.basis2),o.toRenderCoords(e,i,e);const g=V.get();f(g,s.origin,s.basis1),c(g,g,s.basis2),o.toRenderCoords(g,i,g);const N=u(V.get(),t,a,.5);f(N,N,r.origin);const j=u(V.get(),e,g,.5);f(j,r.origin,j),u(r.basis1,N,j,.5);const T=u(V.get(),g,t,.5);f(T,T,r.origin);const h=u(V.get(),a,e,.5);f(h,r.origin,h),u(r.basis2,T,h,.5);const k=m(V.get(),r.basis1,r.basis2),v=m(k,k,r.basis1);return p(v,v),b(r.basis2,v,I(r.basis2,v)),b(r.basis1,r.basis1,1+n/d(r.basis1)),b(r.basis2,r.basis2,1+n/d(r.basis2)),E(r),r}export{l as apply,y as calculateOrientedBounds,G as mapPlaneToRenderPlane,C as unapply};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{rad2deg as s}from\"../../../../../core/mathUtils.js\";import{isSome as r,unwrapOr as o,isNone as n,unwrap as p}from\"../../../../../core/maybe.js\";import{screenPointObjectToArray as h}from\"../../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../../core/unitUtils.js\";import{init as c}from\"../../../../../core/watchUtils.js\";import{property as d}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{r as m}from\"../../../../../chunks/mat4.js\";import{f as g,i as y,s as v}from\"../../../../../chunks/vec2.js\";import{a as f}from\"../../../../../chunks/vec2f64.js\";import{g as M,F as S,f as b,n as B,l as x,d as G}from\"../../../../../chunks/vec3.js\";import{c as w,a as D}from\"../../../../../chunks/vec3f64.js\";import{containsXY as j}from\"../../../../../geometry/support/aaBoundingRect.js\";import{c as O,a as R}from\"../../../../../chunks/boundedPlane.js\";import{intersectRay as E,create as P,normal as A}from\"../../../../../geometry/support/plane.js\";import{create as z}from\"../../../../../geometry/support/ray.js\";import{sv2d as U,sv3d as k,sm4d as Z}from\"../../../../../geometry/support/vectorStacks.js\";import{getGraphicEffectiveElevationInfo as T}from\"../../../../../support/elevationInfoUtils.js\";import{Manipulator3D as V}from\"../../Manipulator3D.js\";import{getGraphicAttachmentOrigin as C,calculateInputRotationTransform as H}from\"../../manipulatorUtils.js\";import{createShiftManipulator as _,IsShiftEdgeOnScreenFlag as F,createResizeManipulator as I,createRotateManipulator as X,resizeNormal as Y,resizeOutlineOnly as N,isDiagonalResizeHandle as q,calculateDiagonalResizeHandleScale as L,createRotatePlane as J,calculateBoundedPlaneTranslateRotate as K,updateRotateHeadingHandle as Q,updateResizeHandle as W}from\"../../analysisTools/slice/sliceToolUtils.js\";import{getRotateHeadingTexture as $}from\"../../analysisTools/slice/images/Factory.js\";import{screenToZConstrained as tt,screenToRenderPlane as et}from\"../dragEventPipeline3D.js\";import{canMoveZ as it}from\"../manipulatorUtils.js\";import{createVisualElements as at}from\"../visualElementUtils.js\";import{MoveXYGraphicManipulation as st}from\"../manipulations/MoveXYGraphicManipulation.js\";import{PreserveAspectRatio as rt}from\"./PreserveAspectRatio.js\";import{OutlineVisualElement as ot}from\"../../visualElements/OutlineVisualElement.js\";import{evaluateElevationAlignmentAtPoint as nt}from\"../../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as pt}from\"../../../layers/graphics/ElevationContext.js\";import{GraphicState as ht}from\"../../../layers/graphics/GraphicState.js\";import{fromScreen as lt}from\"../../../support/geometryUtils/ray.js\";import{createManipulatorDragEventPipeline as ct,addMapDelta as dt,addScreenDelta as ut}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as mt}from\"../../../../interactive/InteractiveToolBase.js\";import{EditGeometryOperations as gt}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";import{calculateOrientedBounds as yt,mapPlaneToRenderPlane as vt,apply as ft,unapply as Mt}from\"../../../../interactive/editGeometry/support/editPlaneUtils.js\";let St=class extends(e.EventedMixin(mt)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new rt,this.grabbing=!1,this.inputState=null,this.type=\"transform-3d\",this.handles=new i,this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=O(),this.mapBoundsStart=O(),this.displayBounds=O(),this.displayBoundsStart=O(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new ht({graphic:this.graphic});const t=this.graphic.geometry;this.editGeometryOperations=gt.fromGeometry(t,this.view.state.viewingMode),this.graphicMoveManipulation=new st({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this.createMoveXYGraphicDragPipeline()),this.moveZManipulator=_(this.view,0),this.moveZManipulator.state|=F,this.handles.add(this.watch(\"enableZ\",(()=>this.updateManipulatorAvailability(this.moveZManipulator,0)))),this.handles.add(this.createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=I(this.view,t);return this.handles.add(this.watch(\"enableScaling\",(()=>this.updateManipulatorAvailability(e,2)))),e.events.on(\"grab-changed\",(t=>this.onResizeGrab(t))),this.handles.add(this.createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=$(this.view.toolViewManager.textures),this.rotateManipulator=X(this.view,this.rotateManipulatorTexture.texture),this.handles.add(this.watch(\"enableRotation\",(()=>this.updateManipulatorAvailability(this.rotateManipulator,3)))),this.rotateManipulator.events.on(\"grab-changed\",(t=>{this.onRotateGrab(t)})),this.handles.add(this.createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.updateDisplayBounds();const e=at({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>a()});r(e)&&(this.outlineVisualElement=e.visualElement instanceof ot?e.visualElement:null),r(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>this.updateDisplayBounds()))),this.handles.add(e),this.handles.add([this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.graphicState.watch(\"displaying\",(()=>this.updateAllManipulatorAvailability())),c(this.graphicState,\"isDraped\",(()=>this.graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const i=this.view.pointsOfInterest;i&&this.handles.add(i.centerOnSurfaceFrequent.watch(\"location\",(()=>this.updateDisplayBounds())));const s=t=>{this.handles.add(t.events.on(\"grab-changed\",(()=>{this.grabbing=t.grabbing,this.updateAllManipulatorAvailability()})))};this.forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on(\"immediate-click\",(t=>{1===e&&this.emit(\"immediate-click\",{...t,graphic:this.graphic}),t.stopPropagation()})))};this.forEachManipulator(o),this.onGeometryChanged(),this.updateAllManipulatorAvailability(),this.complete()}graphicDrapedChanged(){this.handles.remove(bt),this.updateDisplayBounds(),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on(\"elevation-change\",(t=>{r(this.attachmentOrigin)&&j(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds()})),bt)}updateAllManipulatorAvailability(){this.forEachManipulator(((t,e)=>this.updateManipulatorAvailability(t,e)))}updateManipulatorAvailability(t,e){const i=this.grabbing&&!t.grabbing;if(t.interactive=!i,t instanceof V){const a=this.graphicState.displaying,s=this.enableZ&&it(this.graphic);switch(e){case 3:t.available=a&&this.enableRotation;break;case 2:t.available=a&&(this.enableScaling||this.enableRotation||s),t.interactive=!i&&this.enableScaling,t.state=this.enableScaling?Y:N;break;case 0:t.available=a&&s;break;default:t.available=a}}}forEachManipulator(t){this.graphicMoveManipulation.forEachManipulator(t),this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,3),t(this.moveZManipulator,0)}destroy(){this.rotateManipulatorTexture.release(),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.editGeometryOperations.destroy(),this._set(\"view\",null),this._set(\"graphic\",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set(\"preserveAspectRatio\",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}onGeometryChanged(){this.updateDisplayBounds()}calculateMapBounds(){const t=this.graphic.geometry,e=this.editGeometryOperations.data,i=e.components[0].edges[0],a=g(U.get(),i.leftVertex.pos,i.rightVertex.pos);y(a,a);const s=o(C(this.view,this.graphic),t.extent.center);let r=xt*this.view.pixelSizeAt(s);const n=this.view.spatialReference;n!==t.spatialReference&&(r*=l(n)/l(t.spatialReference)),yt(a,e,r,this.mapBounds)}updateDisplayBounds(){const t=this.graphic.geometry;if(n(t))return;const e=r(this.outlineVisualElement)&&!this.graphicState.isDraped&&r(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:C(this.view,this.graphic);this.attachmentOrigin=o(e,t.extent.center);const i=r(e)?e.z:nt(this.mapBounds.origin,this.view.elevationProvider,pt.fromElevationInfo(T(this.graphic)),this.view.renderCoordsHelper),a=R(this.mapBounds);a.origin[2]=i,vt(a,this.view.renderCoordsHelper,t.spatialReference,this.displayBoundsMargin,this.displayBounds),this.updateManipulators()}get displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.centerOnSurfaceFrequent.location:this.editGeometryOperations.data.geometry.extent.center;return Bt*this.view.pixelSizeAt(e)}createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this.applyGraphicMoveSteps(e,i)))}createMoveZDragPipeline(){const t=this.view,e=this.editGeometryOperations.data.spatialReference;return ct(this.moveZManipulator,((i,a,s)=>{const r=D(i.renderLocation),o=a.next(tt(t,r,e)).next(ut());this.applyGraphicMoveSteps(o,s)}))}applyGraphicMoveSteps(t,e){const i=t.next((t=>(\"start\"===t.action&&(this.inputState={type:\"move\"},R(this.mapBounds,this.mapBoundsStart),this.emit(\"graphic-translate-start\",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(dt()).next(this.moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case\"start\":case\"update\":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit(\"graphic-translate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-translate-stop\",e)}return t}));return e.next((()=>{r(this.inputState)&&this.emit(\"graphic-translate-stop\",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this.cancel()})),i}moveDragUpdateGeometry(){return t=>{if(n(this.inputState)||\"move\"!==this.inputState.type)return t;const e=[];for(const s of this.editGeometryOperations.data.components)e.push(...s.vertices);const i=\"start\"===t.action?0:1,a=this.editGeometryOperations.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return ft(a,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}onResizeGrab(t){if(\"start\"!==t.action)return;const e=this.calculatePickRay(t.screenPoint);E(this.displayBounds.plane,e,k.get())&&(R(this.displayBounds,this.displayBoundsStart),R(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin,this.inputState={type:\"resize\"})}createResizeDragPipeline(t,e){return ct(t,((t,i,a)=>{n(this.inputState)||(i.next((t=>(\"start\"===t.action&&this.emit(\"graphic-scale-start\",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(et(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this.resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this.resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-scale\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-scale-stop\",e)}return t})),a.next((()=>{r(this.inputState)&&this.emit(\"graphic-scale-stop\",{graphic:this.graphic,xScale:1,yScale:1}),this.cancel()})))}))}resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin,s=this.displayBoundsMarginStart,r=M(k.get(),e.origin);S(r,r,e.basis1,-i[0]),S(r,r,e.basis2,-i[1]);const o=b(k.get(),t.renderEnd,r),n=b(k.get(),t.renderStart,r),p=q(t.handle),h=L(e),l=L(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=x(e),r=.5*t*G(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*G(e,n)/i)*h*l}const c=i<1.5*s?1:Gt;return i=Math.max(i-s,Gt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}resizeDragUpdateGeometry(){return t=>{const e=M(w(),this.mapBoundsStart.origin);S(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),S(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=v(f(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);y(i,i);const a=[];for(const o of this.editGeometryOperations.data.components)a.push(...o.vertices);const s=\"start\"===t.action?0:1,r=this.editGeometryOperations.scaleVertices(a,e,i,t.factor1,t.factor2,s,1);return R(this.mapBoundsStart,this.mapBounds),ft(r,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}onRotateGrab(t){if(\"start\"!==t.action)return;const e=J(this.displayBounds,this.view.renderCoordsHelper,1,P()),i=this.calculatePickRay(t.screenPoint);E(e,i,k.get())&&(R(this.displayBounds,this.displayBoundsStart),R(this.mapBounds,this.mapBoundsStart),this.inputState={type:\"rotate\",rotatePlane:e})}createRotateDragPipeline(t){return ct(t,((t,e,i)=>{const a=this.inputState;n(a)||(e.next((t=>(\"start\"===t.action&&this.emit(\"graphic-rotate-start\",{graphic:this.graphic,angle:0}),t))).next(et(this.view,a.rotatePlane)).next(this.rotateDragRenderPlaneToRotate(a)).next(this.rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:s(t.rotateAngle)};switch(t.action){case\"start\":case\"update\":this.emit(\"graphic-rotate\",e);break;case\"end\":this.inputState=null,this.emit(\"graphic-rotate-stop\",e)}return t})),i.next((()=>{r(this.inputState)&&this.emit(\"graphic-rotate-stop\",{graphic:this.graphic,angle:0}),this.cancel()})))}))}rotateDragRenderPlaneToRotate(t){return e=>{const i=A(t.rotatePlane),a=H(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}rotateDragUpdateGeometry(){return t=>{const e=M(w(),this.mapBoundsStart.origin),i=[];for(const r of this.editGeometryOperations.data.components)i.push(...r.vertices);const a=\"start\"===t.action?0:1,s=this.editGeometryOperations.rotateVertices(i,e,t.rotateAngle,a,1);return R(this.mapBoundsStart,this.mapBounds),ft(s,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}calculatePickRay(t){const e=z(),i=h(t);return lt(this.view.state.camera,i,e),B(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;const t=K(this.displayBounds,Z.get());Q(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{W(e,this.resizeHandles[i],t,this.displayBounds)}))}updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:b(k.get(),i.origin,i.basis1),edge:2},s=Z.get();m(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}cancel(){const t=this.editGeometryOperations.lastOperation;n(t)||(this.editGeometryOperations.undo(),this.graphic.geometry=this.editGeometryOperations.data.geometry,Mt(t,this.mapBounds),this.updateDisplayBounds(),this.inputState=null)}get canUndo(){return this.editGeometryOperations.canUndo}undo(){if(r(this.inputState))this.view.activeTool=null;else if(this.canUndo){const t=this.editGeometryOperations.undo();this.graphic.geometry=this.editGeometryOperations.data.geometry,Mt(p(t),this.mapBounds),this.updateDisplayBounds()}}get canRedo(){return this.editGeometryOperations.canRedo}redo(){if(this.canRedo){const t=this.editGeometryOperations.redo();this.graphic.geometry=this.editGeometryOperations.data.geometry,ft(p(t),this.mapBounds),this.updateDisplayBounds()}}get test(){return{resizeManipulators:this.resizeManipulators,rotateManipulator:this.rotateManipulator,moveZManipulator:this.moveZManipulator}}};t([d({constructOnly:!0,nonNullable:!0})],St.prototype,\"view\",void 0),t([d({constructOnly:!0,nonNullable:!0})],St.prototype,\"graphic\",void 0),t([d({constructOnly:!0,nonNullable:!0})],St.prototype,\"enableZ\",void 0),t([d()],St.prototype,\"enableRotation\",void 0),t([d()],St.prototype,\"enableScaling\",void 0),t([d()],St.prototype,\"preserveAspectRatio\",null),t([d()],St.prototype,\"grabbing\",void 0),t([d()],St.prototype,\"inputState\",void 0),t([d({readOnly:!0})],St.prototype,\"type\",void 0),St=t([u(\"esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool\")],St);const bt=\"draped-elevation-changes\",Bt=10,xt=80,Gt=1e-6;export{Gt as EPSILON,St as ExtentTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Collection.js\";import{isNone as a,isSome as i}from\"../../core/maybe.js\";class r{constructor(){this._isToolEditable=!0,this._manipulators=new t,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,a=0){return this.addMany([t],a)[0]}addMany(t,a=0){return t.map((t=>{const i=this._nextManipulatorId++,r={id:i,manipulator:t,visibilityPredicate:a,attached:!1};return this._manipulators.add(r),this._attached&&this._updateManipulatorAttachment(r),i}))}remove(t){if(\"number\"==typeof t){const a=t;for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).id===a){const a=this._manipulators.splice(t,1)[0];return this._detachManipulator(a),a.id}return null}const a=t;for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.getItemAt(i).manipulator===a){const t=this._manipulators.splice(i,1)[0];return this._detachManipulator(t),t.id}return null}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy()})),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let r=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({id:s,manipulator:o,attached:n})=>{if(!n||!o.interactive)return;const l=o.intersectionDistance(t,a);i(l)&&l<e&&(e=l,r={id:s,manipulator:o})})),r}findById(t){if(a(t))return null;for(const a of this._manipulators.items)if(t===a.id)return a.manipulator;return null}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return 2===t.visibilityPredicate||(this._isToolEditable?0===t.visibilityPredicate:1===t.visibilityPredicate)}}export{r as ManipulatorCollection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Logger.js\";import{isNone as a}from\"../../core/maybe.js\";import{createResolver as o}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{isDOMContainer as n}from\"../DOMContainer.js\";import{ManipulatorCollection as l}from\"./ManipulatorCollection.js\";const h=i.getLogger(\"esri.views.interactive.InteractiveToolBase\");let c=class extends e{constructor(t){super(t),this.toolState=\"pending\",this.completed=!1,this.manipulators=new l,this.updating=!1,this.automaticManipulatorSelection=!0,this._editableFlags=new Map([[1,!0],[0,!0]]),this._creationStartedResolver=o(),this._creationFinishedResolver=o()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._set(\"visible\",t),t||this.active&&(this.view.activeTool=null),this.attached&&(t?this._show():this._hide())}get editable(){return this.getEditableFlag(0)}set editable(t){this.setEditableFlag(0,t)}get attached(){return this._get(\"attached\")}get created(){return\"created\"===this.toolState}get cursor(){return null}attach(){this.attached?h.warn(\"Tool is already attached. Ignoring attach request.\"):(this.manipulators.attach(),this.onAttach(),this.visible&&this.onShow(),this._set(\"attached\",!0))}detach(){this.attached?(this.visible&&this.onHide(),this.onDetach(),this.manipulators.detach(),this._set(\"attached\",!1)):h.error(\"Tool isn't currently attached. Ignoring detach request.\")}activate(){a(this.view)?h.error(\"Can't activate tool if view is not defined.\"):this.active?h.warn(\"Tool is already active, ignoring activation request.\"):(n(this.view)&&this.view.focus(),this.onActivate())}deactivate(){this.active?this.onDeactivate():h.warn(\"Tool is not active, ignoring deactivation request.\")}handleInputEvent(t){this.attached?this.onInputEvent(t):h.warn(\"handleInputEvent() called on detached tool\")}handleInputEventAfter(t){this.attached?this.onInputEventAfter(t):h.warn(\"handleInputEventAfter() called on detached tool\")}destroy(){this.manipulators.destroy(),this._set(\"view\",null),this._set(\"completed\",!1)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),0===t&&this.notifyChange(\"editable\"),this.onEditableChange()}getEditableFlag(t){return this._editableFlags.get(t)}whenCreationStarted(){return this._creationStartedResolver.promise}whenCreated(){return this._creationFinishedResolver.promise}rejectCreation(t){\"pending\"!==this.toolState&&\"creating\"!==this.toolState||this._creationStartedResolver.resolve(this),this._creationFinishedResolver.reject(t)}onActivate(){}onDeactivate(){}onAttach(){}onDetach(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(0)&&this.getEditableFlag(1)}startToolCreation(){if(\"pending\"===this.toolState)return this._creationStartedResolver.resolve(this),void(this.toolState=\"creating\");throw new Error(`Unexpected tool state ${this.toolState}`)}finishToolCreation(){switch(this.toolState){case\"pending\":this.startToolCreation();case\"creating\":this.created||this._creationFinishedResolver.resolve(this),this.toolState=\"created\";break;case\"created\":break;default:throw new Error(`Unexpected tool state ${this.toolState}`)}}complete(){this.finishToolCreation(),this._set(\"completed\",!0)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.attached&&this.visible?this.manipulators.attach():this.manipulators.detach()}};t([r()],c.prototype,\"toolState\",void 0),t([r({constructOnly:!0})],c.prototype,\"view\",void 0),t([r({readOnly:!0})],c.prototype,\"active\",null),t([r({value:!0})],c.prototype,\"visible\",null),t([r({value:!0})],c.prototype,\"editable\",null),t([r({value:!1,readOnly:!0})],c.prototype,\"attached\",null),t([r({readOnly:!0})],c.prototype,\"created\",null),t([r({readOnly:!0})],c.prototype,\"completed\",void 0),t([r({readOnly:!0})],c.prototype,\"manipulators\",void 0),t([r({readOnly:!0})],c.prototype,\"updating\",void 0),t([r()],c.prototype,\"cursor\",null),t([r()],c.prototype,\"automaticManipulatorSelection\",void 0),c=t([s(\"esri.views.interactive.InteractiveToolBase\")],c);export{c as InteractiveToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Laserline as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function a(a){const t=new o;return t.include(e,a),t.vertex.uniforms.add(\"uModelViewMatrix\",\"mat4\"),t.vertex.uniforms.add(\"uProjectionMatrix\",\"mat4\"),t.attributes.add(\"start\",\"vec3\"),t.attributes.add(\"end\",\"vec3\"),t.attributes.add(\"up\",\"vec3\"),t.attributes.add(\"extrude\",\"vec2\"),t.varyings.add(\"uv\",\"vec2\"),t.varyings.add(\"vViewStart\",\"vec3\"),t.varyings.add(\"vViewEnd\",\"vec3\"),t.varyings.add(\"vViewPlane\",\"vec4\"),t.vertex.uniforms.add(\"glowWidth\",\"float\"),t.vertex.uniforms.add(\"pixelToNDC\",\"vec2\"),t.vertex.code.add(i`void main() {\nvec3 pos = mix(start, end, extrude.x);\nvec4 viewPos = uModelViewMatrix * vec4(pos, 1);\nvec4 projPos = uProjectionMatrix * viewPos;\nvec2 ndcPos = projPos.xy / projPos.w;\nvec3 viewUp = (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\nvec4 projPosUp = uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\nvec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);\nvec2 lxy = abs(sign(projExtrudeDir) - ndcPos);\nndcPos += length(lxy) * projExtrudeDir;\nvec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));\nvec3 viewPlaneNormal = (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\nvViewStart = (uModelViewMatrix * vec4(start, 1)).xyz;\nvViewEnd = (uModelViewMatrix * vec4(end, 1)).xyz;\nvViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\nfloat xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\nndcPos.x += xPaddingPixels * pixelToNDC.x;\nuv = ndcPos * 0.5 + 0.5;\ngl_Position = vec4(ndcPos, 0, 1);\n}`),t.fragment.uniforms.add(\"globalAlpha\",\"float\"),t.fragment.uniforms.add(\"perScreenPixelRatio\",\"float\"),t.fragment.code.add(i`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\nvec3 origin = mix(start, end, 0.5);\nvec3 basis = end - origin;\nvec3 posAtOrigin = pos - origin;\nfloat x = dot(normalize(basis), posAtOrigin);\nfloat y = dot(plane.xyz, posAtOrigin);\nfloat dx = max(abs(x) - length(basis), 0.0);\nfloat dy = y;\nfloat dist = length(vec2(dx, dy));\nfloat width = fwidth(y);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}\nvoid main() {\nvec3 pos;\nvec3 normal;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\ndiscard;\n}\nfloat distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\nvec4 color = laserlineProfile(distance);\nfloat alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\ngl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n}`),t}const t=Object.freeze({__proto__:null,build:a});export{t as L,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{createScreenPointArray as t}from\"../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as o}from\"../../support/elevationInfoUtils.js\";class r{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=o(i,this.view,this.elevationInfo)),i}mapToScreen(t){let o=t;return e(this.elevationInfo)&&(o=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(o)}}class c{constructor(e){this.view=e,this.screenToMap=t=>e.toMap(t),this.mapToScreen=t=>e.toScreen(t)}}export{r as ElevationDrawSurface,c as MapDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,a){const e=new Float32Array(4);return e[0]=n,e[1]=t,e[2]=r,e[3]=a,e}function a(n,t){return new Float32Array(n,t,4)}function e(){return n()}function u(){return r(1,1,1,1)}function o(){return r(1,0,0,0)}function s(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function i(){return r(0,0,0,1)}const f=e(),l=u(),_=o(),w=s(),N=c(),U=i(),y=Object.freeze({__proto__:null,create:n,clone:t,fromValues:r,createView:a,zeros:e,ones:u,unitX:o,unitY:s,unitZ:c,unitW:i,ZEROS:f,ONES:l,UNIT_X:_,UNIT_Y:w,UNIT_Z:N,UNIT_W:U});export{l as O,_ as U,f as Z,t as a,a as b,n as c,s as d,c as e,r as f,i as g,w as h,N as i,U as j,u as o,o as u,y as v,e as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ScreenSizeScaling as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as s}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function t(t){const c=new s;return c.include(o,{linearDepth:!1}),c.include(e,{}),c.include(r,t),c.fragment.include(l),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(n`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(n`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(n`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(i),c.include(a,t)),c.fragment.code.add(n`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(n`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(n`vec4 finalColor = color;`),c.fragment.code.add(n`\n      if (finalColor.a < ${n.float(d)}) {\n        discard;\n      }\n      ${7===t.output?n`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?n`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}const c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as o}from\"../dragEventPipeline.js\";import{SnappingContext as i}from\"./SnappingContext.js\";import{TaskPriority as s,ImmediateTask as p}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new o}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,y=null;const f=()=>{x=t(x),d.doneSnapping(),n(y)&&y.frameTask.remove(),y=null};return l.next((e=>(f(),e))),this.next=new o,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(s.SNAPPING):p;y={context:new i({editGeometryOperations:m.editGeometryOperations,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(y)){const t=y.context.coordinateHelper.vectorToDehydratedPoint(y.context.coordinateHelper.arrayToVector([y.originalPos.x,y.originalPos.y,y.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-y.originalPos.x,o=e.mapStart.y-y.originalPos.y,i={...e,action:\"udpate\"},s=y.context,p=d.update(t,y.context);if(e.mapEnd.x=p.x+n,e.mapEnd.y=p.y+o,\"end\"!==e.action){const e=y.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,s,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,p)||(i.mapEnd.x=t.x+n,i.mapEnd.y=t.y+o,this.next.execute(i))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&f(),e}}}export{c as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"projInfo\",\"vec4\"),o.fragment.uniforms.add(\"zScale\",\"vec2\"),o.fragment.code.add(e`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}export{o as CameraSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"./output/ReadLinearDepth.glsl.js\";import{CameraSpace as o}from\"./util/CameraSpace.glsl.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function a(a,t){a.extensions.add(\"GL_OES_standard_derivatives\"),a.fragment.include(e),a.include(o),a.fragment.uniforms.add(\"glowColor\",\"vec3\"),a.fragment.uniforms.add(\"glowWidth\",\"float\"),a.fragment.uniforms.add(\"glowFalloff\",\"float\"),a.fragment.uniforms.add(\"innerColor\",\"vec3\"),a.fragment.uniforms.add(\"innerWidth\",\"float\"),a.fragment.uniforms.add(\"depthMap\",\"sampler2D\"),a.fragment.uniforms.add(\"nearFar\",\"vec2\"),a.fragment.uniforms.add(\"frameColor\",\"sampler2D\"),t.contrastControlEnabled&&a.fragment.uniforms.add(\"globalAlphaContrastBoost\",\"float\"),a.fragment.code.add(r`vec4 blendPremultiplied(vec4 source, vec4 dest) {\nfloat oneMinusSourceAlpha = 1.0 - source.a;\nreturn vec4(\nsource.rgb + dest.rgb * oneMinusSourceAlpha,\nsource.a + dest.a * oneMinusSourceAlpha\n);\n}`),a.fragment.code.add(r`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),a.fragment.code.add(r`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),a.fragment.code.add(r`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\nfloat depth = linearDepthFromTexture(depthMap, uv, nearFar);\nif (-depth == nearFar[0]) {\nreturn false;\n}\npos = reconstructPosition(gl_FragCoord.xy, depth);\nnormal = normalize(cross(dFdx(pos), dFdy(pos)));\nfloat ddepth = fwidth(depth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\nreturn true;\n}`),t.contrastControlEnabled?a.fragment.code.add(r`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`):a.fragment.code.add(r`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{a as Laserline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{Laserline as t}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as i}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";const l=e(6);function o(e){const l=new a;return l.extensions.add(\"GL_OES_standard_derivatives\"),l.include(i),l.include(t,e),l.fragment.uniforms.add(\"angleCutoff\",\"vec2\"),l.fragment.uniforms.add(\"globalAlpha\",\"float\"),e.heightManifoldEnabled&&l.fragment.uniforms.add(\"heightPlane\",\"vec4\"),e.pointDistanceEnabled&&l.fragment.uniforms.add(\"pointDistanceSphere\",\"vec4\"),e.lineVerticalPlaneEnabled&&l.fragment.uniforms.add(\"lineVerticalPlane\",\"vec4\").add(\"lineVerticalStart\",\"vec3\").add(\"lineVerticalEnd\",\"vec3\"),(e.heightManifoldEnabled||e.pointDistanceEnabled||e.lineVerticalPlaneEnabled)&&l.fragment.uniforms.add(\"maxPixelDistance\",\"float\"),e.intersectsLineEnabled&&l.fragment.uniforms.add(\"intersectsLineStart\",\"vec3\").add(\"intersectsLineEnd\",\"vec3\").add(\"intersectsLineDirection\",\"vec3\").add(\"intersectsLineRadius\",\"float\").add(\"perScreenPixelRatio\",\"float\"),(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)&&l.fragment.code.add(n`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.pointDistanceEnabled&&l.fragment.code.add(n`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.intersectsLineEnabled&&l.fragment.code.add(n`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&l.fragment.code.add(n`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),l.fragment.code.add(n`void main() {\nvec3 pos;\nvec3 normal;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\ndiscard;\n}\nvec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled&&l.fragment.code.add(n`{\nfloat heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\nvec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));\ncolor = max(color, heightManifoldColor * heightManifoldAlpha);\n}`),e.pointDistanceEnabled&&l.fragment.code.add(n`{\nfloat pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n}`),e.lineVerticalPlaneEnabled&&l.fragment.code.add(n`{\nif (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}\n}`),e.intersectsLineEnabled&&l.fragment.code.add(n`{\nif (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}\n}`),l.fragment.code.add(n`gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);\n}`),l}const s=Object.freeze({__proto__:null,defaultAngleCutoff:l,build:o});export{s as L,o as b,l as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{a as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i as n}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as d}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import u from\"../../../geometry/Point.js\";function w(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function g(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class W extends R{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=p();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),n(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),d(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),d(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?w(s.x,s.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{equals as e}from\"../../../core/arrayUtils.js\";import{clone as t}from\"../../../core/lang.js\";import{filterNones as o,isSome as n,isNone as r}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as a}from\"../../../core/unitUtils.js\";import s from\"../../../geometry/Circle.js\";import{simplify as i,distance as l}from\"../../../geometry/geometryEngine.js\";import{unnormalizeGeometryOnDatelineCrossing as y,isClockwise as c,unnormalizeVerticesOnDatelineCrossing as p}from\"../../../geometry/support/coordsUtils.js\";import{isValid as x}from\"../../../geometry/support/spatialReferenceUtils.js\";import{makeSurfacePoint as m}from\"./surfaceCoordinateSystems.js\";import u from\"../../../geometry/Multipoint.js\";import f from\"../../../geometry/Point.js\";import h from\"../../../geometry/Polyline.js\";import M from\"../../../geometry/Polygon.js\";const g=\"DrawAction-snapping-graphics-layer\";function d(e,t,o=null){return n(o)?[e,t,o]:[e,t]}function R(e,t){const o=new f({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(o.z=e[2]),o}function j(e,t){return new u({points:e,spatialReference:t})}function b(e,t,o){const n=new h({paths:e,spatialReference:t});return o&&y(n),n}function T(o,n,r,a=!0){const s=t(o);s.forEach((t=>{const o=t[0],n=t[t.length-1];e(o,n)&&1!==t.length||t.push(t[0])}));let l=new M({rings:s,spatialReference:n});return l.rings.forEach((e=>{c(e,!1,!1)||e.reverse()})),r&&y(l),a&&l.isSelfIntersecting&&x(n)&&(l=i(l)),l}function U(e,t,n){const r=t.mapToLocalMultiple(e),a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y},l=Math.round(i.x-s.x),y=Math.round(i.y-s.y),c=Math.max(Math.abs(l),Math.abs(y));if(n){const e={x:s.x+c,y:s.y+c},t={x:s.x-c,y:s.y-c};a.push(m(e.x,t.y),m(t.x,t.y),m(t.x,e.y),m(e.x,e.y))}else{const e={x:l>0?s.x+c:s.x-c,y:y>0?s.y+c:s.y-c};a.push(m(s.x,s.y),m(e.x,s.y),m(e.x,e.y),m(s.x,e.y))}return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function w(e,t,n){let r=t.mapToLocalMultiple(e);if(1===r.length){const e=48,t=r[0];r=[m(t.x-e,t.y+e),m(t.x+e,t.y-e),m(t.x+e,t.y-e),m(t.x-e,t.y+e)]}const a=[],s={x:r[0].x,y:r[0].y},i={x:r[1].x,y:r[1].y};if(n){const e=Math.round(i.x-s.x),t=Math.round(i.y-s.y);a.push(m(s.x-e,s.y-t),m(i.x,s.y-t),m(i.x,i.y),m(s.x-e,i.y))}else a.push(m(s.x,s.y),m(i.x,s.y),m(i.x,i.y),m(s.x,i.y));return T([o(a.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!0)}function z(e,t,o,n){const i=t.mapToLocalMultiple(e);let y=null,c=null;if(o)y=i[0],c=i[1];else{const e=i[0],t=i[1],o=Math.round(t.x-e.x),n=Math.round(t.y-e.y),r=Math.max(Math.abs(o),Math.abs(n));y=m(o>0?e.x+r/2:e.x-r/2,n>0?e.y+r/2:e.y-r/2),c=m(Math.abs(o)>Math.abs(n)?y.x-r/2:y.x,Math.abs(o)>Math.abs(n)?y.y:y.y-r/2)}const u=t.localToMap(y),f=t.localToMap(c);if(r(u)||r(f))return null;t.doUnnormalization&&p([[u,f]],t.spatialReference);const h=R(u,t.spatialReference),M=R(f,t.spatialReference),g=a(t.spatialReference);let d=0;if(x(t.spatialReference))d=g*l(h,M,null);else{const e=y.x-c.x,t=y.y-c.y;d=g*Math.sqrt(e*e+t*t)*(n||1)}const j=new s({center:h,radius:d,radiusUnit:\"meters\",spatialReference:t.spatialReference});return T(j.rings,j.spatialReference,!1)}function L(e,t,n){const r=t.mapToLocalMultiple(e),a=r[0],s=r[1],i=Math.round(s.x-a.x),l=Math.round(s.y-a.y),y=m(n?a.x:a.x+i/2,n?a.y:a.y+l/2),c=n?i:i/2,p=n?l:l/2,x=60,u=[],f=2*Math.PI/x;for(let o=0;o<x;o++){const e=Math.cos(o*f),t=Math.sin(o*f),n=m(c*e+y.x,p*t+y.y);u.push(n)}return u.push(u[0]),T([o(u.map((e=>t.localToMap(e))))],t.spatialReference,t.doUnnormalization,!1)}export{g as SNAPPING_GRAPHICS_LAYER_ID,z as createCircle,L as createEllipse,j as createMultipoint,R as createPoint,T as createPolygon,b as createPolyline,w as createRectangle,U as createSquare,d as makeMapPoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import\"../../core/has.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as i}from\"../../core/HandleOwner.js\";import{makeHandle as a}from\"../../core/handleUtils.js\";import{destroyMaybe as o,isSome as s,isNone as n}from\"../../core/maybe.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../layers/GraphicsLayer.js\";import{createSquare as c,createRectangle as d,createCircle as u,createEllipse as m,createPolygon as y,createPolyline as g,createMultipoint as v}from\"./support/createUtils.js\";import{createViewAlignedCoordinateSystem as f}from\"./support/surfaceCoordinateSystems.js\";import{InteractiveToolBase as w}from\"../interactive/InteractiveToolBase.js\";let O=class extends(i(r.EventedMixin(w))){constructor(e){super(e),this._graphic=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.mode=null,this.snappingManager=null,this.snapToScene=!1}initialize(){this.internalGraphicsLayer=new h({listMode:\"hide\",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation(),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.complete()}destroy(){this.drawOperation=o(this.drawOperation),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=o(this.internalGraphicsLayer),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(e){this._set(\"centered\",e),this._updateGraphic()}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(e){this._set(\"graphicSymbol\",e),s(this._graphic)&&(this._graphic.symbol=e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_createGraphic(e){this._graphic=new t({geometry:e,symbol:this.graphicSymbol}),this.internalGraphicsLayer.add(this._graphic),this.handles.add(this.initializeGraphic(this._graphic)),this.notifyChange(\"graphic\"),this.handles.add(a((()=>{s(this._graphic)&&(this.internalGraphicsLayer.remove(this._graphic),this._graphic=o(this._graphic))})),V)}_destroyAllVisualisations(){this.handles.remove(_.outline),this.handles.remove(_.regularVertices),this.handles.remove(_.activeVertex),this.handles.remove(V)}_getCreateOperationGeometry(e={operationComplete:!1}){if(null==this.drawOperation||0===this.drawOperation.numVertices)return null;const t=this.drawOperation.stagedVertex,r=this.drawOperation.committedVertices,i=r.slice();s(t)&&i.push(this.drawOperation.coordinateHelper.pointToArray(t));const a=s(t)?this.drawOperation.coordinateHelper.pointToArray(t):r.splice(-1)[0],o={regularVertices:null,activeVertex:null,full:null,outline:null},n=i.length,l=this.drawOperation.spatialReference,p=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":o.regularVertices=r,o.activeVertex=a,o.full=this.drawOperation.coordinateHelper.arrayToPoint(i[0]);break;case\"multipoint\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=v(i,l));break;case\"polyline\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=g([i],l,p));break;case\"polygon\":o.regularVertices=r,o.activeVertex=a,n>0&&(o.full=y([i],l,p,!0));break;case\"circle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=u([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?u(i,t,this.centered):m(i,t,this.centered))}break;case\"rectangle\":if(n>0){const t=f(this.view,i[0]);if(1===n&&e.operationComplete){const e=i[0],r=t.makeMapPoint(e[0]+G*this.view.resolution,e[1]);o.full=c([e,r],t,!0)}else 2===n&&(o.full=this.forceUniformSize?c(i,t,this.centered):d(i,t,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":case\"multipoint\":break;case\"polyline\":case\"polygon\":n>1&&(o.outline=g([i],l,p));break;case\"circle\":case\"rectangle\":s(o.full)&&\"polygon\"===o.full.type&&(o.outline=y(o.full.rings,l,p))}return o}initializeGraphic(e){return null}onComplete(e){this._updateGraphic();let r=null;if(this.drawOperation.isCompleted){const e=this._getCreateOperationGeometry({operationComplete:!0});s(e)&&(r=new t({geometry:e.full,symbol:this.graphicSymbol,sourceLayer:this.internalGraphicsLayer,...this.graphicProperties}))}this.emit(\"complete\",{graphic:r,...e})}onCursorUpdate(e){this._updateGraphic(),this.emit(\"cursor-update\",e)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(e){this._updateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateGraphic(),this.emit(\"vertex-update\",e)}_updateGraphic(){const e=this._getCreateOperationGeometry();n(e)?this._destroyAllVisualisations():(s(e.outline)?this.handles.add(this.onOutlineChanged(e.outline),_.outline):this.handles.remove(_.outline),s(e.regularVertices)?this.handles.add(this.onRegularVerticesChanged(e.regularVertices),_.regularVertices):this.handles.remove(_.regularVertices),s(e.activeVertex)?this.handles.add(this.onActiveVertexChanged(e.activeVertex),_.activeVertex):this.handles.remove(_.activeVertex),s(e.full)?n(this._graphic)?this._createGraphic(e.full):this._graphic.geometry=e.full:this.handles.remove(V))}};e([l({value:!0})],O.prototype,\"centered\",null),e([l({nonNullable:!0})],O.prototype,\"defaultZ\",void 0),e([l()],O.prototype,\"drawOperation\",void 0),e([l({value:!0})],O.prototype,\"enabled\",null),e([l({value:!0})],O.prototype,\"forceUniformSize\",null),e([l({constructOnly:!0})],O.prototype,\"geometryType\",void 0),e([l()],O.prototype,\"graphic\",null),e([l({constructOnly:!0})],O.prototype,\"graphicProperties\",void 0),e([l()],O.prototype,\"graphicSymbol\",null),e([l({constructOnly:!0})],O.prototype,\"hasZ\",void 0),e([l({constructOnly:!0})],O.prototype,\"mode\",void 0),e([l()],O.prototype,\"snappingManager\",void 0),e([l()],O.prototype,\"snapToScene\",void 0),e([l({readOnly:!0})],O.prototype,\"type\",void 0),e([l({readOnly:!0})],O.prototype,\"updating\",null),e([l({constructOnly:!0,nonNullable:!0})],O.prototype,\"view\",void 0),O=e([p(\"esri.views.draw.DrawGraphicTool\")],O);const V=\"create-operation-graphic\",_={outline:\"outline-visual\",regularVertices:\"regular-vertices-visual\",activeVertex:\"active-vertex-visual\"};function x(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":case\"multipoint\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}const G=48;export{O as DrawGraphicTool,x as geometryTypeToDrawOperationGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as e}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function r(){const r=new e;return r.extensions.add(\"GL_OES_standard_derivatives\"),r.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),r.attributes.add(\"position\",\"vec3\"),r.attributes.add(\"uv0\",\"vec2\"),r.varyings.add(\"vUV\",\"vec2\"),r.vertex.code.add(d`void main(void) {\nvUV = uv0;\ngl_Position = proj * view * vec4(position, 1.0);\n}`),r.fragment.uniforms.add(\"backgroundColor\",\"vec4\").add(\"gridColor\",\"vec4\").add(\"ratio\",\"float\").add(\"gridWidth\",\"float\"),r.fragment.code.add(d`void main() {\nconst float LINE_WIDTH = 1.0;\nvec2 uvScaled = vUV * gridWidth;\nvec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));\nvec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);\ngrid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);\ngrid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);\nfloat gridFade = max(grid.x, grid.y);\nfloat gridAlpha = gridColor.a * gridFade;\ngl_FragColor =\nvec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +\nvec4(gridColor.rgb, 1.0) * gridAlpha;\n}`),r}const a=Object.freeze({__proto__:null,build:r});export{a as S,r as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{handlesGroup as t}from\"../../core/handleUtils.js\";import{clone as n}from\"../../core/lang.js\";import{clamp as e}from\"../../core/mathUtils.js\";import{isSome as r,isNone as a,unwrap as o}from\"../../core/maybe.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{f as s}from\"../../chunks/vec3f64.js\";import{project as l}from\"../../geometry/projection.js\";import{move as i}from\"../draw/support/drawUtils.js\";function u(t,n){let e=null,o=null;return c=>{if(\"cancel\"===c.action)return void(r(o)&&(o.execute({action:\"cancel\"}),e=null,o=null));const s={action:c.action,screenStart:c.start,screenEnd:c.screenPoint};\"start\"===c.action&&a(e)&&(e=new b,o=new b,n(t,e,o,c.pointerType,s)),r(e)&&e.execute(s),\"end\"===c.action&&r(e)&&(e=null,o=null)}}function m(t,n){return t.events.on(\"drag\",u(t,n))}function f(n,e){const r=[];for(const t of n)r.push(m(t,e));return t(r)}function p(t,n){const e=[t.x,t.y,t.z],r=n,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const c=t=>{const n=(t.x-e[0])*a[0]+(t.y-e[1])*a[1];t.x=e[0]+n*a[0],t.y=e[1]+n*a[1]};return t=>(c(t.mapStart),c(t.mapEnd),t)}function y(t,n){let e=null;return r=>{if(\"start\"===r.action&&(e=x(t,r.mapStart.spatialReference,n)),a(e))return null;const o=r.mapEnd.x-r.mapStart.x,c=r.mapEnd.y-r.mapStart.y,s=r.mapEnd.z-r.mapStart.z;return e.move(o,c,s),{...r,translationX:o,translationY:c,translationZ:s}}}function d(t,n){return a(t)?null:t.spatialReference.equals(n)?t.clone():l(t,n)}function x(t,n,e){const r=t.geometry;if(a(r))return null;if(\"mesh\"===r.type)return E(t,r,n,e);const o=d(r,n),c=r.spatialReference;return a(o)?null:{move:(n,e,r)=>{const a=i(o.clone(),n,e,r);a.spatialReference.equals(c)?t.geometry=a:t.geometry=l(a,c)}}}function E(t,n,e,a){if(r(n.transform))return h(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let o=0,c=0,s=0;return{move:(e,r,l)=>{const i=e-o,u=r-c,m=l-s;if(i||u||m){const f=n.origin.clone().offset(i,u,m);n.centerAt(f,{geographic:1===a}),t.notifyGeometryChanged(),o=e,c=r,s=l}}}}function h(t,n,e,o){const c=d(e.getOriginPoint(n.spatialReference),o),u=n.spatialReference;return a(c)?null:{move:(n,a,o)=>{const m=i(c.clone(),n,a,o);if(m.spatialReference.equals(u))e.origin=s(m.x,m.y,m.z);else{const t=l(m,u);r(t)&&(e.origin=s(t.x,t.y,t.z))}t.notifyGeometryChanged()}}}function g(t,n=null,e){let o=null;const c=r(n)&&!t.spatialReference.equals(n)?t=>r(t)?l(t,n):t:t=>t,s={exclude:[],...e};return n=>{if(\"start\"===n.action&&(o=c(t.toMap(n.screenStart,s))),a(o))return null;const e=c(t.toMap(n.screenEnd,s));return r(e)?{...n,mapStart:o,mapEnd:e}:null}}function S(t,n){const e=t.map((t=>o(y(t,n)))).filter((t=>r(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,a=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:a}}}function R(t,e){const r=new Map;for(const a of e)r.set(a,n(t[a]));return n=>(r.forEach(((n,e)=>{t[e]=n})),n)}function z(t){return r(t.geometry)&&\"mesh\"===t.geometry.type?j(t,t.geometry):R(t,[\"geometry\"])}function j(t,n){const e=r(n.transform)?n.transform.clone():null,a=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=a,t.notifyGeometryChanged(),r)}function v(t){const n=t.map((t=>o(z(t)))).filter((t=>r(t)));return t=>(n.forEach((n=>n(t))),t)}function w(t){return R(t,[\"symbol\"])}function q(){let t=0,n=0,e=0;return r=>{\"start\"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const a=r.mapEnd.x-t,o=r.mapEnd.y-n,c=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:c,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function D(){let t=0,n=0;return e=>{\"start\"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,a=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:a}}}function M(t,n){let r=null,a=0,o=0;return s=>{if(\"start\"===s.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(a=s.screenStart.x-r.x,o=s.screenStart.y-r.y)),null==r)return null;const l=e(s.screenEnd.x-a,0,t.width),i=e(s.screenEnd.y-o,0,t.height),u=c(l,i);return s.screenStart=r,s.screenEnd=u,s}}class b{constructor(){this.execute=()=>{}}next(t,n=new b){return r(t)&&(this.execute=e=>{const a=t(e);r(a)&&n.execute(a)}),n}}export{b as EventPipeline,q as addMapDelta,D as addScreenDelta,p as constrainToMapAxis,u as createDragEventPipelineCallback,m as createManipulatorDragEventPipeline,f as createManipulatorDragEventPipelineMany,M as dragAtLocation,y as dragGraphic,S as dragGraphicMany,z as resetGraphic,v as resetGraphicMany,R as resetProperties,w as resetSymbol,g as screenToMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,i as h,p as d}from\"../../../chunks/persistableUrlUtils.js\";function g(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=w(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function w(r,e,o){if(t(r)&&\"resource\"===r.type)return v(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=P(s),d=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(d)&&!i(d)?g?j(this,u,s,d,a,l,f,e):I(d,a,l,f):f&&f.portalItem&&(r(d)||t(h(d))||n(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}function U(t,r,o,i,u,a,c,l){const m=p(),y=S(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(b(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);f(c)===u(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{R(t,r,e)}})}function S(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function b(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function P(t){return r(t)?null:\"string\"==typeof t?t:t.url}function R(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction n(n){return\"r\"in n&&\"g\"in n&&\"b\"in n}function t(n){return\"h\"in n&&\"s\"in n&&\"v\"in n}function r(n){return\"l\"in n&&\"a\"in n&&\"b\"in n}function u(n){return\"l\"in n&&\"c\"in n&&\"h\"in n}function o(n){return\"x\"in n&&\"y\"in n&&\"z\"in n}const e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function i(n,t){const r=[];let u,o;if(n[0].length!==t.length)throw\"dimensions do not match\";const e=n.length,c=n[0].length;let i=0;for(u=0;u<e;u++){for(i=0,o=0;o<c;o++)i+=n[u][o]*t[o];r.push(i)}return r}function a(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4)),r=i(e,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function h(n){const t=i(c,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*n**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function s(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>(6/29)**3?n**(1/3):1/3*(29/6)**2*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function f(n){const t=n.l,r=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?n**3:3*(6/29)**2*(n-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function b(n){const t=n.l,r=n.a,u=n.b,o=Math.sqrt(r*r+u*u);let e=Math.atan2(u,r);return e=e>0?e:e+2*Math.PI,{l:t,c:o,h:e}}function l(n){const t=n.l,r=n.c,u=n.h;return{l:t,a:r*Math.cos(u),b:r*Math.sin(u)}}function g(n){return s(a(n))}function M(n){return h(f(n))}function m(n){return b(s(a(n)))}function d(n){return h(f(l(n)))}function x(n){const t=n.r,r=n.g,u=n.b,o=Math.max(t,r,u),e=o-Math.min(t,r,u);let c=o,i=0===e?0:o===t?(r-u)/e%6:o===r?(u-t)/e+2:(t-r)/e+4,a=0===e?0:e/c;return i<0&&(i+=6),i*=60,a*=100,c*=100/255,{h:i,s:a,v:c}}function k(n){const t=(n.h+360)%360/60,r=n.s/100,u=n.v/100*255,o=u*r,e=o*(1-Math.abs(t%2-1));let c;switch(Math.floor(t)){case 0:c={r:o,g:e,b:0};break;case 1:c={r:e,g:o,b:0};break;case 2:c={r:0,g:o,b:e};break;case 3:c={r:0,g:e,b:o};break;case 4:c={r:e,g:0,b:o};break;case 5:case 6:c={r:o,g:0,b:e};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+u-o),c.g=Math.round(c.g+u-o),c.b=Math.round(c.b+u-o),c}function p(e){return n(e)?e:u(e)?d(e):r(e)?M(e):o(e)?h(e):t(e)?k(e):e}function y(n){if(t(n))return n;return x(p(n))}function z(n){return r(n)?n:g(p(n))}function v(n){return u(n)?n:m(p(n))}function w(n){return o(n)?n:a(p(n))}function q(n,t){const r=g(n);return r.l*=1-t,M(r)}export{q as darken,y as toHSV,z as toLAB,v as toLCH,p as toRGB,w as toXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwner as i}from\"../../core/HandleOwner.js\";import{clone as r}from\"../../core/lang.js\";import{isNone as s,destroyMaybe as n,removeMaybe as a,isSome as o,abortMaybe as p}from\"../../core/maybe.js\";import{createTask as h}from\"../../core/promiseUtils.js\";import{createScreenPoint as c}from\"../../core/screenUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as m}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{DrawManipulator as g}from\"./DrawManipulator.js\";import{defaultDrawingMode as u}from\"./DrawingMode.js\";import{createCoordinateHelper as y}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as v}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as _,Component as x}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as f}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as T}from\"../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as V}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{TaskPriority as S,ImmediateTask as w}from\"../support/Scheduler.js\";let M=class extends(t.EventedMixin(i)){constructor(e){super(e),this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingPipeline=new V,this._snappingTask=null,this._stagedVertex=null,this.snapToSceneEnabled=null,s(e.elevationInfo)&&(this.elevationInfo={mode:e.hasZ?\"absolute-height\":\"on-the-ground\",offset:0})}initialize(){var e,t;this.coordinateHelper=y(this.hasZ,this.hasM,this.view.spatialReference);const i=\"3d\"===this.view.type?null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler:null;this._frameTask=i?i.registerTask(S.SNAPPING):w;const r=\"viewingMode\"in this.view.state?this.view.state.viewingMode:2,s=\"segment\"===this.geometryType||\"multipoint\"===this.geometryType?\"polyline\":this.geometryType;this._editGeometryOperations=new f(new _(s,this.coordinateHelper,r)),this._activeComponent=new x(this.spatialReference,r),this._editGeometryOperations.data.components.push(this._activeComponent),this.handles.add(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}}))),this._manipulator=new g({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType,this.handles.add([this._createManipulatorDragPipeline(this._manipulator),this._manipulator.events.on(\"immediate-click\",(e=>this._onImmediateClick(e))),this._manipulator.events.on(\"immediate-double-click\",(e=>this._onImmediateDoubleClick(e)))])}destroy(){this._editGeometryOperations=n(this._editGeometryOperations),this._frameTask=a(this._frameTask)}get _snappingEnabled(){return o(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:u)}get hasStagedVertex(){return o(this._stagedVertex)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return o(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get spatialReference(){return this.view.spatialReference}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(s(e))this.discardStagedVertex();else if(!o(this._stagedVertex)||!m(this._stagedVertex,e)){if(s(this._stagedVertex))this._stagedVertex=r(e);else{if(m(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}get updating(){return this.updatingHandles.updating}get vertices(){const e=this.committedVertices;return o(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingTask=p(this._snappingTask),o(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;p(this._snappingTask),o(this.snappingManager)&&this.snappingManager.doneSnapping(),\"segment\"===this.geometryType||\"point\"===this.geometryType?this.commitStagedVertex():this.discardStagedVertex();const i=\"multipoint\"===this.geometryType&&0===this.numVertices||\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:\"complete\"})}discardStagedVertex(){this._stagedVertex=null}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){o(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(e);case\"freehand\":return this._createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return v(e,((e,t,i,r)=>{const s=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&s&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||s&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>s,cancel:i,snappingManager:this.snappingManager,snappingContext:new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:r,visualizer:this.snappingVisualizer}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(s&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{s&&o(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}_createManipulatorDragPipelineFreehand(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return v(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(s(this.stagedVertex)&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}_getDrawSurface(){if(s(this.elevationDrawSurface))return this.drawSurface;if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;o(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),o(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),o(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_onHold(e){p(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if(\"mouse\"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(o(i))return e.stopPropagation(),this.discardStagedVertex(),void this.complete();const r=this._screenToMap(e.screenPoint);if(o(r))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=p(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(r)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){if(p(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=c(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(o(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=o(i)?\"crosshair\":null,o(i))if(o(this.snappingManager)){const t=this.snappingManager,r=new T({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:this.snappingVisualizer});this.stagedVertex=t.update(i,r),this._snappingTask=h((async e=>{const s=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);s.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=s.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),s(e))return null;const i=this._screenToMap(t.screenEnd);return o(i)?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return!!o(r)&&b(r,t,i)}};function b(e,t,i){const r=e.x-t.x,s=e.y-t.y;return r*r+s*s<=i}e([d()],M.prototype,\"defaultZ\",void 0),e([d({value:u})],M.prototype,\"drawingMode\",null),e([d({constructOnly:!0})],M.prototype,\"elevationDrawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"elevationInfo\",void 0),e([d({constructOnly:!0})],M.prototype,\"geometryType\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasM\",void 0),e([d({constructOnly:!0})],M.prototype,\"hasZ\",void 0),e([d({constructOnly:!0})],M.prototype,\"manipulators\",void 0),e([d({constructOnly:!0})],M.prototype,\"drawSurface\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingManager\",void 0),e([d({constructOnly:!0})],M.prototype,\"snappingVisualizer\",void 0),e([d()],M.prototype,\"snapToSceneEnabled\",void 0),e([d({readOnly:!0})],M.prototype,\"updating\",null),e([d({constructOnly:!0})],M.prototype,\"view\",void 0),M=e([l(\"esri.views.draw.DrawOperation\")],M);export{M as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Slice as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as o}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function s(s){const n=new l;return n.include(r,{linearDepth:!1}),n.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),n.attributes.add(\"position\",\"vec3\"),n.attributes.add(\"uv0\",\"vec2\"),n.varyings.add(\"vpos\",\"vec3\"),s.multipassTerrainEnabled&&n.varyings.add(\"depth\",\"float\"),n.vertex.uniforms.add(\"textureCoordinateScaleFactor\",\"vec2\"),n.vertex.code.add(t`\n    void main(void) {\n      vpos = position;\n      ${s.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),n.include(e,s),s.multipassTerrainEnabled&&(n.fragment.include(a),n.include(o,s)),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"opacity\",\"float\"),n.varyings.add(\"vTexCoord\",\"vec2\"),7===s.output?n.fragment.code.add(t`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${t.float(i)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(n.fragment.include(d),n.fragment.code.add(t`\n    void main() {\n      discardBySlice(vpos);\n      ${s.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${t.float(i)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${s.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),n}const n=Object.freeze({__proto__:null,build:s});export{n as I,s as b};\n"],"sourceRoot":""}