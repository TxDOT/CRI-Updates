(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0028":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("3423");class r extends n["a"]{constructor(t,e,i){if(super(t,e,i),!(this instanceof r))return new r(t,e,i)}}r.prototype.type="warning"},"003a":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("b2b2"),r=i("8048"),s=i("7f83");function o(t,e,i){if(null==t.hasM||t.hasZ)for(const n of e)for(const t of n)t.length>2&&(t[2]*=i)}function a(t,e,i){if(!t&&!e||!i)return;const n=Object(r["e"])(i);c(t,i,n),c(e,i,n)}function c(t,e,i){if(t)for(const n of t)l(n.geometry,e,i)}function l(t,e,i){if(Object(n["k"])(t)||!t.spatialReference||Object(s["d"])(t.spatialReference,e))return;const a=Object(r["e"])(t.spatialReference)/i;if(1!==a)if("x"in t)null!=t.z&&(t.z*=a);else if("rings"in t)o(t,t.rings,a);else if("paths"in t)o(t,t.paths,a);else if("points"in t&&(null==t.hasM||t.hasZ))for(const n of t.points)n.length>2&&(n[2]*=a)}},"004a":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("a4ee"),r=(i("e06a"),i("6a0e")),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0")),a=i("d386"),c=i("a9ab"),l=i("521c");let u=class extends r["a"]{constructor(t){super(t),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],u.prototype,"calculationType",void 0),Object(n["a"])([Object(s["b"])({type:Boolean,json:{write:!0}})],u.prototype,"geodesic",void 0),Object(n["a"])([Object(s["b"])({json:{write:!0}})],u.prototype,"lengthUnit",void 0),Object(n["a"])([Object(s["b"])({type:[l["a"]],json:{read:{reader:t=>t?t.map(t=>Object(c["a"])(t)):null},write:{writer:(t,e)=>{e.polylines=t.map(t=>t.toJSON())}}}})],u.prototype,"polylines",void 0),u=Object(n["a"])([Object(a["a"])("esri.rest.support.LengthsParameters")],u),u.from=Object(o["m"])(u);const h=u},"00c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("2c4f"),o=i("6a0e"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386"));let l=n=class extends o["a"]{constructor(t){super(t),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new s["a"]}clone(){return new n({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],l.prototype,"floorField",void 0),Object(r["a"])([Object(a["b"])({json:{read:!1,write:!1}})],l.prototype,"viewAllMode",void 0),Object(r["a"])([Object(a["b"])({json:{read:!1,write:!1}})],l.prototype,"viewAllLevelIds",void 0),l=n=Object(r["a"])([Object(c["a"])("esri.layers.support.LayerFloorInfo")],l);const u=l},"00cd":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("d386")),c=i("fdc9"),l=i("b32b");let u=n=class extends l["a"]{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new n({colorRamps:Object(s["a"])(this.colorRamps)})}};Object(r["a"])([Object(o["b"])({type:[c["a"]],json:{write:!0}})],u.prototype,"colorRamps",void 0),Object(r["a"])([Object(o["b"])({type:["multipart"]})],u.prototype,"type",void 0),u=n=Object(r["a"])([Object(a["a"])("esri.rest.support.MultipartColorRamp")],u);const h=u},"00ee":function(t,e,i){var n=i("b622"),r=n("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},"013b":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("c120"),r=i("ecd7");const s=4294967296,o=Object(n["a"])("esri-text-decoder")?new TextDecoder("utf-8"):null,a=Object(n["a"])("safari")||Object(n["a"])("ios")?6:Object(n["a"])("ff")?12:32;class c{constructor(t,e,i=0,n=(t?t.byteLength:0)){this._tag=0,this._dataType=99,this.init(t,e,i,n)}init(t,e,i,n){this._data=t,this._dataView=e,this._pos=i,this._end=n}clone(){return new c(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*s;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*s;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,i=this._toString(this._data,e,e+t);return this._skip(t),i}getBytes(){const t=this._getLength(),e=this._pos,i=this._toBytes(this._data,e,e+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,i,n){const r=this.getMessage(),s=t(r,e,i,n);return r.release(),s}processMessage(t){const e=this.getMessage(),i=t(e);return e.release(),i}getMessage(){const t=this._getLength(),e=c.pool.acquire();return e.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){c.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let e,i=this._pos,n=0;if(this._end-i>=10)do{if(e=t[i++],n|=127&e,0==(128&e))break;if(e=t[i++],n|=(127&e)<<7,0==(128&e))break;if(e=t[i++],n|=(127&e)<<14,0==(128&e))break;if(e=t[i++],n|=(127&e)<<21,0==(128&e))break;if(e=t[i++],n+=268435456*(127&e),0==(128&e))break;if(e=t[i++],n+=34359738368*(127&e),0==(128&e))break;if(e=t[i++],n+=4398046511104*(127&e),0==(128&e))break;if(e=t[i++],n+=562949953421312*(127&e),0==(128&e))break;if(e=t[i++],n+=72057594037927940*(127&e),0==(128&e))break;if(e=t[i++],n+=0x8000000000000000*(127&e),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{let r=1;for(;i!==this._end&&(e=t[i],0!=(128&e));)++i,n+=(127&e)*r,r*=128;if(i===this._end)throw new Error("Varint overrun!");++i,n+=e*r}return this._pos=i,n}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,i){if((i=Math.min(this._end,i))-e>a&&o){const n=t.subarray(e,i);return o.decode(n)}let n="",r="";for(let s=e;s<i;++s){const e=t[s];128&e?r+="%"+e.toString(16):(n+=decodeURIComponent(r)+String.fromCharCode(e),r="")}return r.length&&(n+=decodeURIComponent(r)),n}_toBytes(t,e,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,e,i-e)}}c.pool=new r["a"](c,null,t=>{t._data=null,t._dataView=null})},"018d":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("7f83"),r=i("b2b2"),s=i("ae54");function o(t,e){return[t,e]}function a(t,e,i){return t[0]=e,t[1]=i,t}function c(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}const l=new s["a"]("0/0/0/0");class u{constructor(t,e,i,n,r,s,o,a,c,l,u,h){this.level=t,this.resolution=e,this.scale=i,this.origin=n,this.first=r,this.last=s,this.size=o,this.norm=a,this.worldStart=c,this.worldEnd=l,this.worldSize=u,this.wrap=h}static create(t,e,i=null){const s=Object(n["e"])(t.spatialReference),c=e.origin||o(t.origin.x,t.origin.y),l=o(t.size[0]*e.resolution,t.size[1]*e.resolution),h=o(-1/0,-1/0),d=o(1/0,1/0),p=o(1/0,1/0);Object(r["l"])(i)&&(a(h,Math.max(0,Math.floor((i.xmin-c[0])/l[0])),Math.max(0,Math.floor((c[1]-i.ymax)/l[1]))),a(d,Math.max(0,Math.floor((i.xmax-c[0])/l[0])),Math.max(0,Math.floor((c[1]-i.ymin)/l[1]))),a(p,d[0]-h[0]+1,d[1]-h[1]+1));const{cols:f,rows:b}=e;let y,m,g,v;return!i&&f&&b&&(a(h,f[0],b[0]),a(d,f[1],b[1]),a(p,f[1]-f[0]+1,b[1]-b[0]+1)),t.isWrappable?(y=o(Math.ceil(Math.round((s.valid[1]-s.valid[0])/e.resolution)/t.size[0]),p[1]),m=o(Math.floor((s.origin[0]-c[0])/l[0]),h[1]),g=o(y[0]+m[0]-1,d[1]),v=!0):(m=h,g=d,y=p,v=!1),new u(e.level,e.resolution,e.scale,c,h,d,p,l,m,g,y,v)}normalizeCol(t){if(!this.wrap)return t;const e=this.worldSize[0];return t<0?e-1-Math.abs((t+1)%e):t%e}denormalizeCol(t,e){return this.wrap?this.worldSize[0]*e+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,e,i=!1){l.set(e);const n=i?l.col:this.denormalizeCol(l.col,l.world),r=l.row;return c(t,this.getXForColumn(n),this.getYForRow(r+1),this.getXForColumn(n+1),this.getYForRow(r)),t}getTileCoords(t,e,i=!1){l.set(e);const n=i?l.col:this.denormalizeCol(l.col,l.world);return Array.isArray(t)?a(t,this.getXForColumn(n),this.getYForRow(l.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(l.row)),t}}var h=i("ba6a");class d{constructor(t,e,i){this.row=t,this.colFrom=e,this.colTo=i}}const p=new s["a"]("0/0/0/0");class f{constructor(t,e,i,n,r,s,o,a){this.x=t,this.ymin=e,this.ymax=i,this.invM=n,this.leftAdjust=r,this.rightAdjust=s,this.leftBound=o,this.rightBound=a}static create(t,e){t[1]>e[1]&&([t,e]=[e,t]);const[i,n]=t,[r,s]=e,o=r-i,a=s-n,c=0!==a?o/a:0,l=(Math.ceil(n)-n)*c,u=(Math.floor(n)-n)*c;return new f(i,Math.floor(n),Math.ceil(s),c,o<0?l:u,o<0?u:l,o<0?r:i,o<0?i:r)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const b=[[0,0],[0,0],[0,0],[0,0]],y=1e-6;class m{constructor(t,e=null){this.tileInfo=t,this.fullExtent=e,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const i=t.lods.slice();i.sort((function(t,e){return e.scale-t.scale}));const n=this._lodInfos=i.map(i=>u.create(t,i,e));i.forEach((t,e)=>{this._infoByLevel[t.level]=n[e],this._infoByScale[t.scale]=n[e],this.scales[e]=t.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel["number"==typeof t?t:t.level]}getTileBounds(t,e,i=!1){p.set(e);const n=this._infoByLevel[p.level];return n?n.getTileBounds(t,p,i):t}getTileCoords(t,e,i=!1){p.set(e);const n=this._infoByLevel[p.level];return n?n.getTileCoords(t,p,i):t}getTileCoverage(t,e=192,i="closest"){const n="closest"===i?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),r=h["a"].pool.acquire(n),s=this._wrap;let o,a,c,l=1/0,u=-1/0;const p=r.spans;b[0][0]=b[0][1]=b[1][1]=b[3][0]=-e,b[1][0]=b[2][0]=t.size[0]+e,b[2][1]=b[3][1]=t.size[1]+e;for(const h of b)t.toMap(h,h),h[0]=n.getColumnForX(h[0]),h[1]=n.getRowForY(h[1]);const y=[];let m=3;for(let h=0;h<4;h++){if(b[h][1]===b[m][1]){m=h;continue}const t=f.create(b[h],b[m]);l=Math.min(t.ymin,l),u=Math.max(t.ymax,u),void 0===y[t.ymin]&&(y[t.ymin]=[]),y[t.ymin].push(t),m=h}if(null==l||null==u||u-l>100)return null;let g=[];for(o=l;o<u;){null!=y[o]&&(g=g.concat(y[o])),a=1/0,c=-1/0;for(let t=g.length-1;t>=0;t--){const e=g[t];a=Math.min(a,e.getLeftCol()),c=Math.max(c,e.getRightCol())}if(a=Math.floor(a),c=Math.floor(c),o>=n.first[1]&&o<=n.last[1])if(s)if(n.size[0]<n.worldSize[0]){const t=Math.floor(c/n.worldSize[0]);for(let e=Math.floor(a/n.worldSize[0]);e<=t;e++)p.push(new d(o,Math.max(n.getFirstColumnForWorld(e),a),Math.min(n.getLastColumnForWorld(e),c)))}else p.push(new d(o,a,c));else a>n.last[0]||c<n.first[0]||(a=Math.max(a,n.first[0]),c=Math.min(c,n.last[0]),p.push(new d(o,a,c)));o+=1;for(let t=g.length-1;t>=0;t--){const e=g[t];e.ymax>=o?e.incrRow():g.splice(t,1)}}return r}getTileParentId(t){p.set(t);const e=this._infoByLevel[p.level],i=this._lodInfos.indexOf(e)-1;return i<0?null:(this._getTileIdAtLOD(p,this._lodInfos[i],p),p.id)}getTileResolution(t){const e=this._infoByLevel["object"==typeof t?t.level:t];return e?e.resolution:-1}getTileScale(t){const e=this._infoByLevel[t.level];return e?e.scale:-1}intersects(t,e){p.set(e);const i=this._infoByLevel[p.level],n=t.lodInfo;if(n.resolution>i.resolution){this._getTileIdAtLOD(p,n,p);const e=n.denormalizeCol(p.col,p.world);for(const i of t.spans)if(i.row===p.row&&i.colFrom<=e&&i.colTo>=e)return!0}if(n.resolution<i.resolution){const[e,r,s,o]=t.spans.reduce((t,e)=>(t[0]=Math.min(t[0],e.row),t[1]=Math.max(t[1],e.row),t[2]=Math.min(t[2],e.colFrom),t[3]=Math.max(t[3],e.colTo),t),[1/0,-1/0,1/0,-1/0]),a=i.denormalizeCol(p.col,p.world),c=n.getColumnForX(i.getXForColumn(a)),l=n.getRowForY(i.getYForRow(p.row)),u=n.getColumnForX(i.getXForColumn(a+1))-1,h=n.getRowForY(i.getYForRow(p.row+1))-1;return!(c>o||u<s||l>r||h<e)}const r=n.denormalizeCol(p.col,p.world);return t.spans.some(t=>t.row===p.row&&t.colFrom<=r&&t.colTo>=r)}normalizeBounds(t,e,i){if(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this._wrap){const e=Object(n["e"])(this.tileInfo.spatialReference),r=-i*(e.valid[1]-e.valid[0]);t[0]+=r,t[2]+=r}return t}getSmallestInfoForScale(t){const e=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>e[0])return this._infoByScale[e[0]];for(let i=1;i<e.length-1;i++)if(t>e[i]+y)return this._infoByScale[e[i-1]];return this._infoByScale[e[e.length-1]]}getClosestInfoForScale(t){const e=this.scales;return this._infoByScale[t]||(t=e.reduce((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e,e[0])),this._infoByScale[t]}scaleToLevel(t){const e=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=e.length-1;i>=0;i--)if(t<e[i])return i===e.length-1?this._infoByScale[e[e.length-1]].level:this._infoByScale[e[i]].level+(e[i]-t)/(e[i]-e[i+1]);return this._infoByScale[e[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,e,i){const n=this._infoByLevel[i.level];return t.set(i),e.resolution<n.resolution?null:(e.resolution===n.resolution||(t.level=e.level,t.col=Math.floor(i.col*n.resolution/e.resolution+.01),t.row=Math.floor(i.row*n.resolution/e.resolution+.01)),t)}}},"0224":function(t,e,i){"use strict";i.d(e,"a",(function(){return E}));var n=i("a4ee"),r=i("1325"),s=i("f7be"),o=i("2eab"),a=i("e20b"),c=i("ce50"),l=i("6a0e"),u=i("6d5f"),h=i("e92d"),d=i("b2b2"),p=i("f4cc"),f=i("59b2"),b=(i("b50f"),i("c120"),i("cea0")),y=i("afcf"),m=i("d386"),g=i("3af1"),v=i("2035"),w=i("e9a4"),O=i("fc29");let j=class extends O["a"]{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};Object(n["a"])([Object(f["b"])()],j.prototype,"nextQueryParams",void 0),Object(n["a"])([Object(f["b"])()],j.prototype,"queryParams",void 0),Object(n["a"])([Object(f["b"])()],j.prototype,"results",void 0),Object(n["a"])([Object(f["b"])()],j.prototype,"total",void 0),j=Object(n["a"])([Object(m["a"])("esri.portal.PortalQueryResult")],j);const _=j;var x,S=i("8185"),M=i("8249");let k;const I={PortalGroup:()=>Promise.resolve().then(i.bind(null,"f1a4")),PortalItem:()=>Promise.resolve().then(i.bind(null,"a7e1")),PortalUser:()=>Promise.resolve().then(i.bind(null,"8185"))};let T=x=class extends(Object(l["b"])(u["a"])){constructor(t){super(t),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=r["a"].portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return"string"==typeof t?{url:t}:t}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)-1===r["a"].request.trustedServers.indexOf(e)&&r["a"].request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!t?" AND orgid:"+this.id:null}get isOrganization(){return!!this.access}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.substring(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get stylesGroupQuery(){return Object(a["c"])(h["a"].getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t?t.toLowerCase():t}readUser(t){let e=null;return t&&(e=S["default"].fromJSON(t),e.portal=this),e}load(t){const e=Promise.resolve().then(i.bind(null,"619d")).then(({default:e})=>{Object(p["u"])(t),k=e}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,t)).then(t=>{if(s["b"]){const t=s["b"];this.credential=t.findCredential(this.restUrl),this.credential||this.authMode!==x.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=t.on("credential-create",()=>{t.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=t,this.read(t)});return this.addResolvingPromise(e),Promise.resolve(this)}async createClosestFacilityTask(){Object(a["b"])(h["a"].getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("closestFacility");return new(0,(await i.e("chunk-1a3fb22c").then(i.bind(null,"b740"))).default)(t)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await i.e("chunk-1d20ce8a").then(i.bind(null,"f20e"))).default;return t?t.map(t=>new e({id:t.id,url:t.url})):[]}async createGeometryService(){Object(a["b"])(h["a"].getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("geometry");return new(0,(await i.e("chunk-771a1f22").then(i.bind(null,"d44e9"))).default)({url:t})}async createPrintTask(){Object(a["b"])(h["a"].getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("printTask");return new(0,(await i.e("chunk-8ee3b352").then(i.bind(null,"f579"))).default)(t)}async createRouteTask(){Object(a["b"])(h["a"].getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("route");return new(0,(await i.e("chunk-1a64e58c").then(i.bind(null,"98bd"))).default)(t)}async createServiceAreaTask(){Object(a["b"])(h["a"].getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("serviceArea");return new(0,(await i.e("chunk-1a6b895e").then(i.bind(null,"2082"))).default)(t)}fetchBasemaps(t,e){const i=new w["a"];return i.query=t||(r["a"].apiKey&&Object(M["a"])(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0,this.queryGroups(i,e).then(t=>{if(i.num=100,i.query='type:"Web Map" -type:"Web Application"',t.total){const n=t.results[0];return i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc",n.queryItems(i,e)}return null}).then(t=>{let e;return e=t&&t.total?t.results.filter(t=>"Web Map"===t.type).map(t=>new k({portalItem:t})):[],e})}fetchCategorySchema(t){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",t).then(t=>t.categorySchema):Object(p["m"])(t)?Promise.reject(Object(p["d"])()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,i=new w["a"];if(i.num=100,i.sortField="title",e&&e.length){const n=[];for(const t of e)n.push(`(title:"${t.title}" AND owner:${t.owner})`);return i.query=n.join(" OR "),this.queryGroups(i,t).then(t=>t.results)}return Object(p["m"])(t)?Promise.reject(Object(p["d"])()):Promise.resolve([])}fetchRegions(t){const e=this.user&&this.user.culture||this.culture||Object(v["b"])();return this._request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}static getDefault(){return x._default&&!x._default.destroyed||(x._default=new x),x._default}queryGroups(t,e){return this._queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this._queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this._queryPortal("/community/users",t,"PortalUser",e)}toJSON(){throw new c["a"]("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new x({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new c["a"]("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}_getHelperServiceUrl(t){const e=this._getHelperService(t);if(!e.url)throw new c["a"]("portal:service-url-not-found",`The \`helperServices\` entry "${t}" does not include a \`url\` value`);return e.url}_fetchSelf(t=this.authMode,e=!1,i){const n=this.restUrl+"/portals/self",r={authMode:t,query:{culture:Object(v["b"])().toLowerCase()},...i};return"auto"===r.authMode&&(r.authMode="no-prompt"),e&&(r.query.default=!0),this._request(n,r)}_queryPortal(t,e,i,n){const r=Object(b["m"])(w["a"],e),s=e=>this._request(this.restUrl+t,{...r.toRequestOptions(this),...n}).then(t=>{const i=r.clone();return i.start=t.nextStart,new _({nextQueryParams:i,queryParams:r,total:t.total,results:x._resultsToTypedArray(e,{portal:this},t,n)})}).then(t=>Promise.all(t.results.map(e=>"function"==typeof e.when?e.when():t)).then(()=>t,e=>(Object(p["t"])(e),t)));return i&&I[i]?I[i]().then(({default:t})=>(Object(p["u"])(n),s(t))):s()}_signIn(){if(this.authMode===x.AUTH_MODE_ANONYMOUS)return Promise.reject(new c["a"]("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const t=t=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(t||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(t=>{t&&(this.sourceJSON=t,this.read(t))});return s["b"]?s["b"].getCredential(this.restUrl).then(e=>t(e)):t(this.credential)}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(t){const e=this.credential&&this.credential.token;return this._normalizeSSL(e?t+(t.indexOf("?")>-1?"&":"?")+"token="+e:t)}_requestToTypedArray(t,e,i){return this._request(t,e).then(t=>{const e=x._resultsToTypedArray(i,{portal:this},t);return Promise.all(e.map(e=>"function"==typeof e.when?e.when():t)).then(()=>e,()=>e)})}_readBasemap(t){if(t){const e=k.fromJSON(t);return e.portalItem={portal:this},e}return null}_request(t,e={}){const i={f:"json",...e.query},{authMode:n=(this.authMode===x.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:r=null,cacheBust:s=!1,method:a="auto",responseType:c="json",signal:l}=e,u={authMode:n,body:r,cacheBust:s,method:a,query:i,responseType:c,timeout:0,signal:l};return Object(o["default"])(this._normalizeSSL(t),u).then(t=>t.data)}static _resultsToTypedArray(t,e,i,n){let r;if(i){const s=Object(d["l"])(n)?n.signal:null;r=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(t||e)&&(r=r.map(i=>{const n=Object.assign(t?t.fromJSON(i):i,e);return"function"==typeof n.load&&n.load(s),n}))}else r=[];return r}};T.AUTH_MODE_ANONYMOUS="anonymous",T.AUTH_MODE_AUTO="auto",T.AUTH_MODE_IMMEDIATE="immediate",Object(n["a"])([Object(f["b"])()],T.prototype,"access",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"allSSL",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"authMode",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"authorizedCrossOriginDomains",void 0),Object(n["a"])([Object(y["a"])("authorizedCrossOriginDomains")],T.prototype,"readAuthorizedCrossOriginDomains",null),Object(n["a"])([Object(f["b"])()],T.prototype,"basemapGalleryGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"bingKey",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canListApps",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canListData",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canListPreProvisionedItems",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canProvisionDirectPurchase",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canSearchPublic",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canShareBingPublic",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canSharePublic",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canSignInArcGIS",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"canSignInIDP",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"colorSetsGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"commentsEnabled",void 0),Object(n["a"])([Object(f["b"])({type:Date})],T.prototype,"created",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"credential",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"culture",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"currentVersion",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"customBaseUrl",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"defaultBasemap",void 0),Object(n["a"])([Object(y["a"])("defaultBasemap")],T.prototype,"readDefaultBasemap",null),Object(n["a"])([Object(f["b"])()],T.prototype,"defaultDevBasemap",void 0),Object(n["a"])([Object(y["a"])("defaultDevBasemap")],T.prototype,"readDefaultDevBasemap",null),Object(n["a"])([Object(f["b"])({type:g["a"]})],T.prototype,"defaultExtent",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"defaultVectorBasemap",void 0),Object(n["a"])([Object(y["a"])("defaultVectorBasemap")],T.prototype,"readDefaultVectorBasemap",null),Object(n["a"])([Object(f["b"])()],T.prototype,"description",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"devBasemapGalleryGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"eueiEnabled",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],T.prototype,"extraQuery",null),Object(n["a"])([Object(f["b"])()],T.prototype,"featuredGroups",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"featuredItemsGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"galleryTemplatesGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"livingAtlasGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"hasCategorySchema",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"helpBase",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"helperServices",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"helpMap",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"homePageFeaturedContent",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"homePageFeaturedContentCount",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"httpPort",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"httpsPort",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"id",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"ipCntryCode",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],T.prototype,"isOrganization",null),Object(n["a"])([Object(f["b"])()],T.prototype,"isPortal",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"isReadOnly",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"layerTemplatesGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"maxTokenExpirationMinutes",void 0),Object(n["a"])([Object(f["b"])({type:Date})],T.prototype,"modified",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"name",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"portalHostname",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"portalMode",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"portalProperties",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"region",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],T.prototype,"restUrl",null),Object(n["a"])([Object(f["b"])()],T.prototype,"rotatorPanels",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"showHomePageDescription",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"sourceJSON",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"staticImagesUrl",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,json:{read:!1}})],T.prototype,"stylesGroupQuery",null),Object(n["a"])([Object(f["b"])({json:{name:"2DStylesGroupQuery"}})],T.prototype,"stylesGroupQuery2d",void 0),Object(n["a"])([Object(f["b"])({json:{name:"stylesGroupQuery"}})],T.prototype,"stylesGroupQuery3d",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"supportsHostedServices",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"symbolSetsGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"templatesGroupQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"thumbnail",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],T.prototype,"thumbnailUrl",null),Object(n["a"])([Object(f["b"])()],T.prototype,"units",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"url",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"urlKey",void 0),Object(n["a"])([Object(y["a"])("urlKey")],T.prototype,"readUrlKey",null),Object(n["a"])([Object(f["b"])()],T.prototype,"user",void 0),Object(n["a"])([Object(y["a"])("user")],T.prototype,"readUser",null),Object(n["a"])([Object(f["b"])()],T.prototype,"useStandardizedQuery",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"useVectorBasemaps",void 0),Object(n["a"])([Object(f["b"])()],T.prototype,"vectorBasemapGalleryGroupQuery",void 0),T=x=Object(n["a"])([Object(m["a"])("esri.portal.Portal")],T);const E=T},"02f1":function(t,e,i){"use strict";function n(){return[0,0]}function r(t){return[t[0],t[1]]}function s(t,e){return[t,e]}function o(t){const e=n(),i=Math.min(2,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function a(t,e){return new Float64Array(t,e,2)}function c(){return n()}function l(){return s(1,1)}function u(){return s(1,0)}function h(){return s(0,1)}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return s}));const d=c(),p=l(),f=u(),b=h();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,fromArray:o,createView:a,zeros:c,ones:l,unitX:u,unitY:h,ZEROS:d,ONES:p,UNIT_X:f,UNIT_Y:b})},"0366":function(t,e,i){var n=i("e330"),r=i("59ed"),s=n(n.bind);t.exports=function(t,e){return r(t),void 0===e?t:s?s(t,e):function(){return t.apply(e,arguments)}}},"04d1":function(t,e,i){var n=i("342f"),r=n.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},"0554":function(t,e,i){"use strict";function n(t,e,i,n){const r=3*t,s=3*(i-t)-r,o=1-r-s,a=3*e,c=3*(n-e)-a,l=1-a-c;function u(t){return((o*t+s)*t+r)*t}function h(t){return((l*t+c)*t+a)*t}function d(t){return(3*o*t+2*s)*t+r}function p(t,e){let i,n,r,s,o,a;for(r=t,a=0;a<8;a++){if(s=u(r)-t,Math.abs(s)<e)return r;if(o=d(r),Math.abs(o)<1e-6)break;r-=s/o}if(i=0,n=1,r=t,r<i)return i;if(r>n)return n;for(;i<n;){if(s=u(r),Math.abs(s-t)<e)return r;t>s?i=r:n=r,r=.5*(n-i)+i}return r}return function(t,e=1e-6){return h(p(t,e))}}i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n}));const r=/^cubic-bezier\((.*)\)/,s={};function o(t){let e=s[t]||null;if(!e){const i=r.exec(t);if(i){const t=i[1].split(",").map(t=>parseFloat(t.trim()));4!==t.length||t.some(t=>isNaN(t))||(e=n.apply(n,t))}}return e}s.ease=n(.25,.1,.25,1),s.linear=n(0,0,1,1),s.easeIn=s["ease-in"]=n(.42,0,1,1),s.easeOut=s["ease-out"]=n(0,0,.58,1),s.easeInOut=s["ease-in-out"]=n(.42,0,.58,1)},"057f":function(t,e,i){var n=i("c6b6"),r=i("fc6a"),s=i("241c").f,o=i("4dae"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return s(t)}catch(e){return o(a)}};t.exports.f=function(t){return a&&"Window"==n(t)?c(t):s(r(t))}},"05b7":function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n,r=i("ecc1"),s=i("a4ee"),o=i("4856"),a=i("1fd7"),c=i("6a0e"),l=i("7ffa"),u=i("a915"),h=i("59b2"),d=(i("cea0"),i("d386"));i("b50f"),i("c120");let p=n=class extends c["a"]{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new n({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};Object(s["a"])([Object(h["b"])({type:String,json:{write:!0}})],p.prototype,"statisticType",void 0),Object(s["a"])([Object(h["b"])({type:String,json:{write:!0}})],p.prototype,"onStatisticField",void 0),Object(s["a"])([Object(h["b"])({type:String,json:{write:!0}})],p.prototype,"onStatisticValueExpression",void 0),p=n=Object(s["a"])([Object(d["a"])("esri.layers.support.OutStatistic")],p);const f=p;var b;let y=b=class extends c["a"]{constructor(){super(...arguments),this.name=null}clone(){return new b({name:this.name,outStatistic:this.outStatistic.clone()})}};Object(s["a"])([Object(h["b"])({type:String,json:{write:!0}})],y.prototype,"name",void 0),Object(s["a"])([Object(h["b"])({type:f,json:{write:!0}})],y.prototype,"outStatistic",void 0),y=b=Object(s["a"])([Object(d["a"])("esri.layers.support.AggregateField")],y);const m=y;var g,v=i("22f4"),w=i("c246");let O=g=class extends c["a"]{constructor(t){super(t),this.type="cluster",this.clusterRadius=Object(u["j"])("80px"),this.clusterMinSize=Object(u["j"])("12px"),this.clusterMaxSize=Object(u["j"])("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new g({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(l["a"])(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(l["a"])(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(l["a"])(this.popupTemplate)})}};Object(s["a"])([Object(h["b"])({type:["cluster"],readOnly:!0,json:{write:!0}})],O.prototype,"type",void 0),Object(s["a"])([Object(h["b"])({type:Number,cast:t=>"auto"===t?t:Object(u["j"])(t),json:{write:!0}})],O.prototype,"clusterRadius",void 0),Object(s["a"])([Object(h["b"])({type:Number,cast:u["j"],json:{write:!0}})],O.prototype,"clusterMinSize",void 0),Object(s["a"])([Object(h["b"])({type:Number,cast:u["j"],json:{write:!0}})],O.prototype,"clusterMaxSize",void 0),Object(s["a"])([Object(h["b"])(v["j"])],O.prototype,"popupEnabled",void 0),Object(s["a"])([Object(h["b"])({type:o["a"],json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],O.prototype,"popupTemplate",void 0),Object(s["a"])([Object(h["b"])({types:a["f"]})],O.prototype,"symbol",void 0),Object(s["a"])([Object(h["b"])({type:[w["a"]],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],O.prototype,"labelingInfo",void 0),Object(s["a"])([Object(h["b"])(v["d"])],O.prototype,"labelsVisible",void 0),Object(s["a"])([Object(h["b"])({type:[m],json:{write:!0}})],O.prototype,"fields",void 0),O=g=Object(s["a"])([Object(d["a"])("esri.layers.support.FeatureReductionCluster")],O);const j=O;var _=i("91b0");const x={types:{key:"type",base:r["a"],typeMap:{selection:_["a"],cluster:j}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:r["a"],typeMap:{selection:j}}},"web-scene":{types:{key:"type",base:r["a"],typeMap:{selection:_["a"]}}}}}}},"05c5":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("b2b2"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("448d")),c=i("d386"),l=i("961d"),u=i("f6ab"),h=i("a3af");let d=n=class extends l["a"]{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new n({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:Object(s["l"])(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};Object(r["a"])([Object(a["a"])({Extrude:"extrude"},{readOnly:!0})],d.prototype,"type",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],d.prototype,"size",void 0),Object(r["a"])([Object(o["b"])({type:h["b"],json:{write:!0}})],d.prototype,"material",void 0),Object(r["a"])([Object(o["b"])({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0),Object(r["a"])([Object(o["b"])(u["a"])],d.prototype,"edges",void 0),d=n=Object(r["a"])([Object(c["a"])("esri.symbols.ExtrudeSymbol3DLayer")],d);const p=d},"0646":function(t,e,i){"use strict";i.d(e,"a",(function(){return j})),i.d(e,"b",(function(){return T})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return S})),i.d(e,"e",(function(){return I}));var n=i("556f"),r=i("7ffa"),s=i("7b7d"),o=i("5815"),a=i("c47a"),c=i("f2e0"),l=i("9d9d"),u=i("9efb"),h=i("4c37");class d{constructor(){this.uid=Object(c["a"])(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,e,i,n,s){return this.pool.acquire(0,t,e,i,n,s,r["b"])}static acquireTracked(t,e,i,n){return this.pool.acquire(1,t,e,i,null,null,n)}notify(t,e){0===this.type?this.callback.call(this.target,t,e,this.path,this.target):this.callback.call(null,t,e)}acquire(t,e,i,n,r,s,o){this.uid=Object(c["a"])(),this.removed=!1,this.type=t,this.oldValue=e,this.callback=i,this.getValue=n,this.target=r,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Object(c["a"])(),this.removed=!0}}d.pool=new s["a"](d);const p=new n["a"],f=new Set;let b;function y(t){f.delete(t),f.add(t),b||(b=Object(o["b"])(v))}function m(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function g(t){for(const e of f.values())e.target===t&&(e.removed=!0)}function v(){let t=10;for(;b&&t--;){b=null;const t=w(),e=p.acquire();for(const i of t){const t=i.uid;m(i),t===i.uid&&i.removed&&e.push(i)}for(const i of f)i.removed&&(e.push(i),f.delete(i));for(const i of e)d.pool.release(i);p.release(e),p.release(t),O.forEach(t=>t())}}function w(){const t=p.acquire();t.length=f.size;let e=0;for(const i of f)t[e]=i,++e;return f.clear(),t}const O=new Set;function j(t){return O.add(t),{remove(){O.delete(t)}}}function _(t,e,i){let n=Object(h["e"])(t,e,i,(t,e,i)=>{let r,s,o=Object(u["c"])(()=>Object(l["c"])(t,e),(o,a)=>{t.__accessor__.destroyed||r&&r.uid!==s?n.remove():(r||(r=d.acquireUntracked(o,i,a,t,e),s=r.uid),y(r))});return{remove:Object(h["d"])(()=>{o.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,y(r)),r=null),n=o=null})}});return n}function x(t,e,i){const n=Object(h["e"])(t,e,i,(t,e,i)=>{let s=!1;return Object(u["b"])(()=>Object(l["c"])(t,e),(o,a)=>{t.__accessor__.destroyed?n.remove():s||(s=!0,Object(r["b"])(a,o)||i.call(t,o,a,e,t),s=!1)})});return n}function S(t,e,i,n=!1){return!t.__accessor__||t.__accessor__.destroyed?{remove(){}}:n?x(t,e,i):_(t,e,i)}function M(t,e,i){let n,r,s=Object(u["c"])(t,(t,o)=>{n&&n.uid!==r?s.remove():(n||(n=d.acquireTracked(t,e,o,i),r=n.uid),y(n))});return{remove:Object(h["d"])(()=>{s.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,y(n)),n=null),s=null})}}function k(t,e,i){let n=!1;return Object(u["b"])(t,(t,r)=>{n||(n=!0,i(r,t)||e(t,r),n=!1)})}function I(t,e,i=!1,n=r["b"]){return i?k(t,e,n):M(t,e,n)}function T(t){return Object(a["a"])(f,e=>e.oldValue===t)}},"06cf":function(t,e,i){var n=i("83ab"),r=i("c65b"),s=i("d1e7"),o=i("5c6c"),a=i("fc6a"),c=i("a04b"),l=i("1a2d"),u=i("0cfb"),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=a(t),e=c(e),u)try{return h(t,e)}catch(i){}if(l(t,e))return o(!r(s.f,t,e),t[e])}},"072f":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("f97e");function r(t,e){const i=Object(n["a"])(t,e),r=i.queryResult.featureResult,s=i.queryResult.queryGeometry,o=i.queryResult.queryGeometryType;if(r&&r.features&&r.features.length&&r.objectIdFieldName){const t=r.objectIdFieldName;for(const e of r.features)e.attributes&&(e.objectId=e.attributes[t])}return r&&(r.queryGeometry=s,r.queryGeometryType=o),r}},"07a5":function(t,e,i){"use strict";i.d(e,"a",(function(){return C}));var n=i("a4ee"),r=i("a915"),s=i("3795"),o=i("4adc"),a=(i("b50f"),i("c120"),i("1a3e")),c=i("59b2"),l=i("d386"),u=i("121a"),h=(i("e06a"),i("fc29")),d=i("b2b2"),p=(i("cea0"),i("40b6")),f=i("a8d5"),b=i("7f83"),y=i("9786"),m=i("2c81"),g=i("5996"),v=i("521c"),w=i("4ae5");function O(t){const{wkid:e}=t;if(null!=m["a"][e])return m["a"].values[m["a"][e]];const{wkt:i}=t,n=i.lastIndexOf(",")+1,r=i.lastIndexOf("]]");return parseFloat(i.substring(n,r))}function j(t,e){return t&&t.indexOf(e)>-1}function _(t,e){const{x:i,y:n}="decimal-degrees"===t?Object(y["e"])(e,!0):e;return[i,n]}function x({state:{paddedViewState:t},spatialReference:e,width:i}){return e.isWrappable&&t.worldScreenWidth<i}let S=class extends h["a"]{constructor(t){super(t),this.scaleComputedFrom=Object(r["e"])(),this.view=null}get state(){return this.get("view.ready")&&"2d"===this.get("view.type")?"ready":"disabled"}getScaleBarProperties(t,e){if("disabled"===this.state||isNaN(t)||!e)return null;const i=this._getDistanceInKm(this.view,this.scaleComputedFrom);if(Object(d["k"])(i))return null;if("metric"===e)return this._getScaleBarProps(t,i,"metric");const n=i/1.609;return this._getScaleBarProps(t,n,"non-metric")}_getLocationUnit(){const t=this.get("view.spatialReference"),{isWebMercator:e,wkid:i,wkt:n}=t;return e||j(n,"WGS_1984_Web_Mercator")?"decimal-degrees":null!=m["a"][i]||j(n,"PROJCS")?"linear-unit":"unknown"}_getDistanceInKm(t,e){const{state:i,spatialReference:n}=t,r=this._getLocationUnit();if("linear-unit"===r){const t=1e3;return i.extent.width*O(n)/t}const[s,o]=this._getScaleMeasuringPoints(t,e),a="decimal-degrees"===r||n.isGeographic&&!Object(p["d"])(n)?g["a"].WGS84:n,c=new v["a"]({paths:[[_(r,s),_(r,o)]],spatialReference:a}),l=Object(f["c"])(c,10);let u;try{[u]=Object(p["c"])([l],"kilometers")}catch{return null}return u}_getScaleMeasuringPoints(t,e){const{width:i,height:n,position:s,spatialReference:o}=t;if(x(t)){const{valid:t}=Object(b["e"])(o);return[new w["a"](t[0],0,o),new w["a"](t[1],0,o)]}let a=e.y-s[1];a>n?a=n:a<0&&(a=0);const c=Object(r["e"])(0,a),l=Object(r["e"])(i,a);return[t.toMap(c),t.toMap(l)]}_getScaleBarProps(t,e,i){const{view:n}=this;let r=t*e/(x(n)?n.state.paddedViewState.worldScreenWidth:n.width),s="metric"===i?"km":"mi";r<.1&&("mi"===s?(r*=5280,s="ft"):"km"===s&&(r*=1e3,s="m"));let o=0;for(;r>=1;)r/=10,o++;const a=this._getConstraints(r);if(!a)return null;const{min:c,max:l}=a,u=l/r>=r/c?c:l;return{length:t*(u/r),value:10**o*u,unit:s}}_getConstraints(t){return t>.5?{min:.5,max:1}:t>.3?{min:.3,max:.5}:t>.2?{min:.2,max:.3}:t>.15?{min:.15,max:.2}:t>=.1?{min:.15,max:.1}:void 0}};Object(n["a"])([Object(c["b"])()],S.prototype,"scaleComputedFrom",void 0),Object(n["a"])([Object(c["b"])({readOnly:!0})],S.prototype,"state",null),Object(n["a"])([Object(c["b"])()],S.prototype,"view",void 0),S=Object(n["a"])([Object(l["a"])("esri.widgets.Scalebar.ScaleBarViewModel")],S);const M=S;i("702a");var k=i("755e"),I=(i("e92d"),i("d822"));const T={base:"esri-scale-bar esri-widget",labelContainer:"esri-scale-bar__label-container",rulerLabelContainer:"esri-scale-bar__label-container--ruler",lineLabelContainer:"esri-scale-bar__label-container--line",topLabelContainer:"esri-scale-bar__label-container--top",bottomLabelContainer:"esri-scale-bar__label-container--bottom",label:"esri-scale-bar__label",line:"esri-scale-bar__line",topLine:"esri-scale-bar__line--top",bottomLine:"esri-scale-bar__line--bottom",ruler:"esri-scale-bar__ruler",rulerBlock:"esri-scale-bar__ruler-block",barContainer:"esri-scale-bar__bar-container",rulerBarContainer:"esri-scale-bar__bar-container--ruler",lineBarContainer:"esri-scale-bar__bar-container--line",disabled:"esri-disabled"};function E(t){return 2*t}let A=class extends u["a"]{constructor(t,e){super(t,e),this.label=void 0,this.messages=null,this.unit="non-metric",this.view=null,this.viewModel=new M}initialize(){this.own([Object(s["k"])(this,"view.stationary",()=>this.scheduleRender()),Object(s["d"])(this,["view.center","view.scale","view.zoom"],()=>{this.view.stationary&&this.scheduleRender()})])}set style(t){const e="dual"===this.unit?"line":t;this._set("style",e)}castStyle(t){return"line"===t?t:"ruler"}castUnit(t){return"metric"===t||"dual"===t?t:"non-metric"}render(){const t="disabled"===this.get("viewModel.state"),e={[T.disabled]:t};let i,n;if(!t){const{unit:t,style:e}=this,r="metric"===t||"dual"===t,s=50;if("non-metric"===t||"dual"===t){const t=this.viewModel.getScaleBarProperties(s,"non-metric");t&&(n="ruler"===e?this._renderRuler(t):this._renderLine(t,"bottom"))}if(r){const t=this.viewModel.getScaleBarProperties(s,"metric");t&&(i="ruler"===e?this._renderRuler(t):this._renderLine(t,"top"))}}return Object(I["a"])("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(T.base,e)},i,n)}_renderRuler(t){const e=E(Math.round(t.length)),{messages:i}=this,n=i[t.unit]||i.unknownUnit,r=`${E(t.value)} ${n}`;return Object(I["a"])("div",{class:this.classes(T.barContainer,T.rulerBarContainer),key:"esri-scale-bar__ruler"},Object(I["a"])("div",{class:T.ruler,styles:{width:e+"px"}},Object(I["a"])("div",{class:T.rulerBlock}),Object(I["a"])("div",{class:T.rulerBlock}),Object(I["a"])("div",{class:T.rulerBlock}),Object(I["a"])("div",{class:T.rulerBlock})),Object(I["a"])("div",{class:this.classes(T.labelContainer,T.rulerLabelContainer)},Object(I["a"])("div",{class:T.label},"0"),Object(I["a"])("div",{class:T.label},r)))}_renderLine(t,e){const{messages:i}=this,n=i[t.unit]||i.unknownUnit,r=`${E(t.value)} ${n}`,s={[T.topLabelContainer]:"top"===e,[T.bottomLabelContainer]:"bottom"===e},o=Object(I["a"])("div",{class:this.classes(T.labelContainer,T.lineLabelContainer,s),key:"esri-scale-bar__label"},Object(I["a"])("div",{class:T.label},r)),a={[T.topLine]:"top"===e,[T.bottomLine]:"bottom"===e},c=E(Math.round(t.length)),l=Object(I["a"])("div",{class:this.classes(T.line,a),key:"esri-scale-bar__line",styles:{width:c+"px"}});return Object(I["a"])("div",{class:this.classes(T.barContainer,T.lineBarContainer),key:"esri-scale-bar__line-container"},[l,o])}_handleRootCreateOrUpdate(t){const e=this.viewModel;if(!e)return;const i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,s=i.top+window.pageYOffset,o=Object(r["e"])(n,s);(o.x!==e.scaleComputedFrom.x||o.y!==e.scaleComputedFrom.y)&&(e.scaleComputedFrom=o)}};Object(n["a"])([Object(c["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],A.prototype,"label",void 0),Object(n["a"])([Object(c["b"])(),Object(k["a"])("esri/widgets/ScaleBar/t9n/ScaleBar")],A.prototype,"messages",void 0),Object(n["a"])([Object(c["b"])()],A.prototype,"style",null),Object(n["a"])([Object(a["a"])("style")],A.prototype,"castStyle",null),Object(n["a"])([Object(c["b"])()],A.prototype,"unit",void 0),Object(n["a"])([Object(a["a"])("unit")],A.prototype,"castUnit",null),Object(n["a"])([Object(o["a"])("viewModel.view")],A.prototype,"view",void 0),Object(n["a"])([Object(c["b"])()],A.prototype,"viewModel",void 0),A=Object(n["a"])([Object(l["a"])("esri.widgets.ScaleBar")],A);const C=A},"07cd":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("a4ee"),r=i("fc29"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("3349"),c=i("b541");function l(t,e){return t.length=0,e.forEach(e=>t.push(e)),t}const u=new Set,h=[],d=new Map,p=[0,0];let f=class extends r["a"]{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:e,strategy:i}=this;this._queue=new c["a"]({concurrency:t,process:(t,i)=>{const n=this._keyToItem.get(t);return e(n,{signal:i})},peeker:"scale-first"===i?t=>this._peekByScaleFirst(t):t=>this._peekByCenterFirst(t)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const e="string"==typeof t?t:t.id;this._queue.abort(e)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return"string"==typeof t?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const e="string"==typeof t?t:t.id;return this.has(e)&&this._queue.isOngoing(e)}pause(){this._queue.pause()}push(t){const e=t.key.id;if(this._queue.has(e))return this._queue.get(e);const i=this._queue.push(e),n=()=>{this._keyToItem.delete(e),this.notifyChange("updating")};return this._keyToItem.set(e,t),i.then(n,n),this.notifyChange("updating"),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const e=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;t.forEach(t=>{const e=this._keyToItem.get(t),r=this.tileInfoView.getTileScale(e.key);d.has(r)||(d.set(r,[]),i=Math.max(r,i),n=Math.min(r,n)),d.get(r).push(e.key),u.add(r)});let r=this.state.scale;d.has(r)||(l(h,u),h.sort((t,e)=>t-e),r=h.reduce((t,e)=>Math.abs(e-r)<Math.abs(t-r)?e:t,h[0])),r=Math.min(r,i),r=Math.max(r,n);const s=d.get(r),o=e.getClosestInfoForScale(r),a=o.getColumnForX(this.state.center[0]),c=o.getRowForY(this.state.center[1]);return s.sort((t,e)=>{const i=o.denormalizeCol(t.col,t.world),n=o.denormalizeCol(e.col,e.world);return Math.sqrt((a-i)*(a-i)+(c-t.row)*(c-t.row))-Math.sqrt((a-n)*(a-n)+(c-e.row)*(c-e.row))}),u.clear(),d.clear(),s[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const e=this.tileInfoView,i=this.state.center;let n=Number.POSITIVE_INFINITY,r=null;return t.forEach(t=>{const s=this._keyToItem.get(t);e.getTileCoords(p,s.key);const o=Object(a["b"])(p,i);o<n&&(n=o,r=s.key)}),r.id}};Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"concurrency",void 0),Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"process",void 0),Object(n["a"])([Object(s["b"])()],f.prototype,"state",void 0),Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"strategy",void 0),Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"tileInfoView",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],f.prototype,"updating",null),f=Object(n["a"])([Object(o["a"])("esri.views.2d.tiling.TileQueue")],f);const b=f},"07fa":function(t,e,i){var n=i("50c4");t.exports=function(t){return n(t.length)}},"08f6":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r}));var n=i("9ef0");const r=new n["a"]("white"),s=(new n["a"]("black"),new n["a"]([255,255,255,0]));function o(t){return 0===t.r&&0===t.g&&0===t.b}},"0964":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return d}));var n=i("9d9d"),r=i("4c37"),s=i("7ed0");function o(t,e,i){if(!t||!t.read||!1===t.read.enabled||!t.read.source)return!1;const r=t.read.source;if("string"==typeof r){if(r===e)return!0;if(r.indexOf(".")>-1&&0===r.indexOf(e)&&Object(n["a"])(r,i))return!0}else for(const s of r){if(s===e)return!0;if(s.indexOf(".")>-1&&0===s.indexOf(e)&&Object(n["a"])(s,i))return!0}return!1}function a(t){return t&&(!t.read||!1!==t.read.enabled&&!t.read.source)}function c(t,e,i,n,r){let c=Object(s["b"])(e[i],r);a(c)&&(t[i]=!0);for(const a of Object.getOwnPropertyNames(e))c=Object(s["b"])(e[a],r),o(c,i,n)&&(t[a]=!0)}function l(t,e,i,n){const r=i.metadatas,o=Object(s["a"])(r[e],"any",n),a=o&&o.default;if(void 0===a)return;const c="function"==typeof a?a.call(t,e,n):a;void 0!==c&&i.set(e,c)}const u={origin:"service"};function h(t,e,i=u){if(!e||"object"!=typeof e)return;const o=Object(r["a"])(t),a=o.metadatas,h={};for(const n of Object.getOwnPropertyNames(e))c(h,a,n,e,i);o.setDefaultOrigin(i.origin);for(const r of Object.getOwnPropertyNames(h)){const c=Object(s["b"])(a[r],i).read,l=c&&c.source;let u;u=l&&"string"==typeof l?Object(n["c"])(e,l):e[r],c&&c.reader&&(u=c.reader.call(t,u,e,i)),void 0!==u&&o.set(r,u)}if(!i||!i.ignoreDefaults)for(const n of Object.getOwnPropertyNames(a))h[n]||l(t,n,o,i);o.setDefaultOrigin("user")}function d(t,e,i,n=u){var r;const s={...n,messages:[]};i(s),null==(r=s.messages)||r.forEach(e=>{"warning"!==e.type||t.loaded?n&&n.messages&&n.messages.push(e):t.loadWarnings.push(e)})}},"09db":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("59b2");function r(t,e,i){let r,s;return void 0===e?(s=t,r=[void 0]):"string"!=typeof e?(s=t,r=[void 0],i=e):(s=e,r=Array.isArray(t)?t:[t]),(t,e)=>{const o=t.constructor.prototype;for(const a of r){const r=Object(n["c"])(t,a,s);r.write&&"object"==typeof r.write||(r.write={}),i&&(r.write.target=i),r.write.writer=o[e]}}}},"0b2d":function(t,e,i){"use strict";function n(){return[0,0,0]}function r(t){return[t[0],t[1],t[2]]}function s(t,e,i){return[t,e,i]}function o(t){const e=n(),i=Math.min(3,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function a(t,e){return new Float64Array(t,e,3)}function c(){return n()}function l(){return s(1,1,1)}function u(){return s(1,0,0)}function h(){return s(0,1,0)}function d(){return s(0,0,1)}i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return n})),i.d(e,"g",(function(){return o})),i.d(e,"h",(function(){return s}));const p=c(),f=l(),b=u(),y=h(),m=d();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,fromArray:o,createView:a,zeros:c,ones:l,unitX:u,unitY:h,unitZ:d,ZEROS:p,ONES:f,UNIT_X:b,UNIT_Y:y,UNIT_Z:m})},"0b42":function(t,e,i){var n=i("da84"),r=i("e8b5"),s=i("68ee"),o=i("861d"),a=i("b622"),c=a("species"),l=n.Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,s(e)&&(e===l||r(e.prototype))?e=void 0:o(e)&&(e=e[c],null===e&&(e=void 0))),void 0===e?l:e}},"0b86":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return u}));var n=i("e92d"),r=i("9d1d"),s=i("0028"),o=i("7af8"),a=i("74bd");const c=n["a"].getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function l(t,e,i){var n,s;t&&(!i&&!e.read||null!=(n=e.read)&&n.reader||!1===(null==(s=e.read)?void 0:s.enabled)||m(t)&&Object(r["c"])("read.reader",u(t),e))}function u(t){var e;const i=null!=(e=t.ndimArray)?e:0;if(i>1)return f(t);if(1===i)return b(t);if("type"in t&&y(t.type)){var n,r;const e=null==(n=t.type.prototype)||null==(r=n.itemType)?void 0:r.Type,i=b("function"==typeof e?{type:e}:{types:e});return(e,n,r)=>{const s=i(e,n,r);return s?new t.type(s):s}}return h(t)}function h(t){return"type"in t?d(t.type):w(t.types)}function d(t){return t.prototype.read?(e,i,n)=>{if(null==e)return e;const r=typeof e;if("object"!==r)return void c.error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${r}'`);const s=new t;return s.read(e,n),s}:t.fromJSON}function p(t,e,i,n){return 0!==n&&Array.isArray(e)?e.map(e=>p(t,e,i,n-1)):t(e,void 0,i)}function f(t){var e;const i=h(t),n=p.bind(null,i),r=null!=(e=t.ndimArray)?e:0;return(t,e,i)=>{if(null==t)return t;t=n(t,i,r);let s=r,o=t;for(;s>0&&Array.isArray(o);)s--,o=o[0];if(void 0!==o)for(let n=0;n<s;n++)t=[t];return t}}function b(t){const e=h(t);return(t,i,n)=>{if(null==t)return t;if(Array.isArray(t)){const i=[];for(const r of t){const t=e(r,void 0,n);void 0!==t&&i.push(t)}return i}const r=e(t,void 0,n);return void 0!==r?[r]:void 0}}function y(t){if(!Object(a["a"])(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&("function"==typeof e.Type?g(e.Type):v(e.Type))}function m(t){return"types"in t?v(t.types):g(t.type)}function g(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||y(t))}function v(t){for(const e in t.typeMap)if(!g(t.typeMap[e]))return!1;return!0}function w(t){var e;let i=null;const n=null!=(e=t.errorContext)?e:"type";return(e,r,o)=>{if(null==e)return e;const a=typeof e;if("object"!==a)return void c.error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);i||(i=O(t));const l=t.key;if("string"!=typeof l)return;const u=e[l],h=u?i[u]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!h){const t=`Type '${u||"unknown"}' is not supported`;return o&&o.messages&&e&&o.messages.push(new s["a"](n+":unsupported",t,{definition:e,context:o})),void c.error(t)}const d=new h;return d.read(e,o),d}}function O(t){const e={};for(const r in t.typeMap){var i,n;const s=t.typeMap[r],a=Object(o["a"])(s.prototype);if("function"==typeof t.key)continue;const c=a.properties[t.key];if(!c)continue;null!=(i=c.json)&&i.type&&Array.isArray(c.json.type)&&1===c.json.type.length&&"string"==typeof c.json.type[0]&&(e[c.json.type[0]]=s);const l=null==(n=c.json)?void 0:n.write;if(!l||!l.writer){e[r]=s;continue}const u=l.target,h="string"==typeof u?u:t.key,d={};l.writer(r,d,h),d[h]&&(e[d[h]]=s)}return e}},"0cfb":function(t,e,i){var n=i("83ab"),r=i("d039"),s=i("cc12");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(t,e,i){var n=i("da84"),r=n.String;t.exports=function(t){try{return r(t)}catch(e){return"Object"}}},"0d76":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n,r=i("a4ee"),s=i("9ef0"),o=i("fa8a"),a=i("7ffa"),c=i("59b2"),l=(i("cea0"),i("448d")),u=i("d386"),h=i("2959"),d=i("db52");const p=new o["a"]({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let f=n=class extends h["a"]{constructor(...t){super(...t),this.color=new s["a"]([0,0,0,.25]),this.outline=new d["a"],this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&"string"!=typeof t)return t;const n={};return t&&(n.style=t),e&&(n.outline=e),i&&(n.color=i),n}clone(){return new n({color:Object(a["a"])(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};Object(r["a"])([Object(c["b"])()],f.prototype,"color",void 0),Object(r["a"])([Object(c["b"])()],f.prototype,"outline",void 0),Object(r["a"])([Object(l["a"])({esriSFS:"simple-fill"},{readOnly:!0})],f.prototype,"type",void 0),Object(r["a"])([Object(c["b"])({type:p.apiValues,json:{read:p.read,write:p.write}})],f.prototype,"style",void 0),f=n=Object(r["a"])([Object(u["a"])("esri.symbols.SimpleFillSymbol")],f);const b=f},"0d93":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("a4ee"),r=i("9ef0"),s=i("fa8a"),o=i("6a0e"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("afcf")),l=i("d386");const u=new s["a"]({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let h=0,d=class extends o["a"]{constructor(t){super(t),this.id="sym"+h++,this.type=null}set color(t){this._set("color",t)}readColor(t){return t&&null!=t[0]?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};Object(n["a"])([Object(a["b"])({type:u.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:u.write}}})],d.prototype,"type",void 0),Object(n["a"])([Object(a["b"])({type:r["a"],value:new r["a"]([0,0,0,1]),json:{write:{allowNull:!0}}})],d.prototype,"color",null),Object(n["a"])([Object(c["a"])("color")],d.prototype,"readColor",null),d=Object(n["a"])([Object(l["a"])("esri.symbols.Symbol")],d);const p=d},"0db5":function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n=i("a4ee"),r=i("f7be"),s=i("2eab"),o=i("792b"),a=i("ce50"),c=i("e92d"),l=i("b2b2"),u=i("f4cc"),h=i("e041"),d=i("59b2"),p=(i("b50f"),i("c120"),i("cea0"),i("afcf")),f=i("d386"),b=i("09db"),y=i("0224"),m=i("a7e1"),g=i("8185");const v=c["a"].getLogger("esri.layers.mixins.PortalLayer"),w=t=>{let e=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,i){if(e.itemId)return new m["default"]({id:e.itemId,portal:i&&i.portal})}writePortalItem(t,e){t&&t.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem&&this.portalItem.id)try{const n=await i.e("chunk-71d2f73e").then(i.bind(null,"3b92"));return Object(u["u"])(e),await n.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},e)}catch(n){throw Object(u["l"])(n)||v.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${n}`),n}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this.fetchUserHasEditingPrivileges(t).catch(t=>(Object(u["t"])(t),!0)))}async fetchUserHasEditingPrivileges(t){const e=this.url?null==r["b"]?void 0:r["b"].findCredential(this.url):null;if(!e)return!0;const i=O.credential===e?O.user:await this.fetchEditingUser(t);return O.credential=e,O.user=i,Object(l["k"])(i)||null==i.privileges||i.privileges.includes("features:user:edit")}async fetchEditingUser(t){var e,i;const n=null==(e=this.portalItem)||null==(i=e.portal)?void 0:i.user;if(n)return n;const a=r["b"].findServerInfo(this.url);if(null==a||!a.owningSystemUrl)return null;const c=a.owningSystemUrl+"/sharing/rest",u=y["a"].getDefault();if(u&&u.loaded&&Object(h["D"])(u.restUrl)===Object(h["D"])(c))return u.user;const d=c+"/community/self",p=Object(l["l"])(t)?t.signal:null,f=await Object(o["c"])(Object(s["default"])(d,{authMode:"no-prompt",query:{f:"json"},signal:p}));return f.ok?g["default"].fromJSON(f.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const i=e&&e.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||y["a"].getDefault());return i&&n&&!Object(h["r"])(n.restUrl,i.restUrl)?(e.messages&&e.messages.push(new a["a"]("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return Object(n["a"])([Object(d["b"])({type:m["default"]})],e.prototype,"portalItem",null),Object(n["a"])([Object(p["a"])("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),Object(n["a"])([Object(b["a"])("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),Object(n["a"])([Object(d["b"])()],e.prototype,"resourceReferences",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],e.prototype,"userHasEditingPrivileges",void 0),e=Object(n["a"])([Object(f["a"])("esri.layers.mixins.PortalLayer")],e),e},O={credential:null,user:null}},"0f1c":function(t,e,i){"use strict";i.d(e,"a",(function(){return y})),i.d(e,"b",(function(){return f})),i.d(e,"c",(function(){return b})),i.d(e,"d",(function(){return m}));var n=i("fc29"),r=i("2c4f"),s=i("b2b2"),o=i("4c37");const a=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function c(t){return t instanceof n["a"]}function l(t){return t instanceof r["a"]?Object.keys(t.items):c(t)?Object(o["a"])(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof r["a"]?t.items[e]:t[e]}function h(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function d(t){return t?t.declaredClass:null}function p(t,e){const i=t.diff;if(i&&"function"==typeof i)return i(t,e);const n=l(t),r=l(e);if(0===n.length&&0===r.length)return;if(!n.length||!r.length||h(t,e))return{type:"complete",oldValue:t,newValue:e};const o=r.filter(t=>-1===n.indexOf(t)),f=n.filter(t=>-1===r.indexOf(t)),b=n.filter(i=>r.indexOf(i)>-1&&u(t,i)!==u(e,i)).concat(o,f).sort(),y=d(t);if(y&&a.indexOf(y)>-1&&b.length)return{type:"complete",oldValue:t,newValue:e};let m;const g=c(t)&&c(e);for(const a of b){const n=u(t,a),r=u(e,a);let o;(g||"function"!=typeof n&&"function"!=typeof r)&&n!==r&&(null==n&&null==r||(o=i&&i[a]&&"function"==typeof i[a]?i[a](n,r):"object"==typeof n&&"object"==typeof r&&d(n)===d(r)?p(n,r):{type:"complete",oldValue:n,newValue:r},Object(s["l"])(o)&&(Object(s["l"])(m)?m.diff[a]=o:m={type:"partial",diff:{[a]:o}})))}return m}function f(t,e){if(Object(s["k"])(t))return!1;const i=e.split(".");let n=t;for(const r of i){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[r];if(!t)return!1;n=t}}return!0}function b(t,e){for(const i of e)if(f(t,i))return!0;return!1}function y(t,e){if(!("function"==typeof t||"function"==typeof e||Object(s["k"])(t)&&Object(s["k"])(e)))return Object(s["k"])(t)||Object(s["k"])(e)||"object"==typeof t&&"object"==typeof e&&d(t)!==d(e)?{type:"complete",oldValue:t,newValue:e}:p(t,e)}function m(t){if(Object(s["k"])(t))return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const t of e.added)if(!m(t))return!1;for(const t of e.removed)if(!m(t))return!1;for(const t of e.changed)if(!m(t))return!1;return!0}case"partial":for(const e in t.diff)if(!m(t.diff[e]))return!1;return!0}}},"0f94":function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return b})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return h})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return u}));var n=i("38a4"),r=i("3349"),s=i("02f1");function o(t,e){return t[0]*e[1]-t[1]*e[0]}function a(t,e,i){const n=(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0]);return Math.abs(n)/Object(r["b"])(e,i)}function c(t,e,i){const n=Object(r["k"])(i,e)/Object(r["u"])(i);return Object(r["g"])(t,i,n)}function l(t,e,i,n,s=i){return Object(r["f"])(m,n,i),Object(r["f"])(v,e,s),c(w,v,m),Object(r["m"])(t,s,w)}function u(t,e,i,n){Object(r["f"])(m,n,i),Object(r["f"])(v,e,i);const s=Object(r["k"])(m,v)/Object(r["u"])(m);return s>0?Object(r["v"])(t,i,m,s):Object(r["c"])(t,i)}function h(t,e,i,n){Object(r["f"])(m,e,i);const s=n/Object(r["l"])(m);return Object(r["v"])(t,i,m,s)}function d(t,e){return l(v,e,t.start,t.end),Object(n["g"])(v[0],e[0])&&Object(n["g"])(v[1],e[1])?[Object(s["b"])(e)]:[]}function p(t,e,i){return h(v,i,t,e),Object(n["g"])(v[0],i[0])&&Object(n["g"])(v[1],i[1])?[Object(s["b"])(i)]:[]}function f(t,e){const i=t.start,n=t.end,s=e.start,a=e.end,c=Object(r["f"])(m,n,i),l=Object(r["f"])(g,a,s),u=o(c,l);if(Math.abs(u)<=y)return[];const h=Object(r["f"])(v,i,s),d=o(l,h)/u,p=o(c,h)/u;if(d>=0){if(p>=0||1===e.type)return[Object(r["v"])(w,i,c,d)]}else if(1===t.type&&(p>=0||1===e.type))return[Object(r["v"])(w,i,c,d)];return[]}function b(t,e,i){const n=[],s=Object(r["f"])(m,t.end,t.start),o=Object(r["f"])(g,t.start,e),a=Object(r["u"])(s),c=2*Object(r["k"])(s,o),l=c*c-4*a*(Object(r["u"])(o)-i*i);if(0===l){const e=-c/(2*a);(1===t.type||e>=0)&&n.push(Object(r["v"])(w,t.start,s,e))}else if(l>0){const e=Math.sqrt(l),i=(-c+e)/(2*a);(1===t.type||i>=0)&&n.push(Object(r["v"])(w,t.start,s,i));const o=(-c-e)/(2*a);(1===t.type||o>=0)&&n.push(Object(r["v"])(v,t.start,s,o))}return n}const y=1e-6,m=Object(s["a"])(),g=Object(s["a"])(),v=Object(s["a"])(),w=Object(s["a"])()},"0fe9":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=i("2c4f"),o=i("7ffa"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("d386"),u=i("c128"),h=i("c528");const d=s["a"].ofType({base:null,key:"type",typeMap:{fill:u["a"]}});let p=n=class extends h["a"]{constructor(t){super(t),this.symbolLayers=new d,this.type="mesh-3d"}clone(){return new n({styleOrigin:Object(o["a"])(this.styleOrigin),symbolLayers:Object(o["a"])(this.symbolLayers),thumbnail:Object(o["a"])(this.thumbnail)})}};Object(r["a"])([Object(a["b"])({type:d})],p.prototype,"symbolLayers",void 0),Object(r["a"])([Object(c["a"])({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],p.prototype,"type",void 0),p=n=Object(r["a"])([Object(l["a"])("esri.symbols.MeshSymbol3D")],p);const f=p},"107c":function(t,e,i){var n=i("d039"),r=i("da84"),s=r.RegExp;t.exports=n((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"10eb":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("c246");const r=/\[([^\[\]]+)\]/gi;function s(t,e,i){return t?t.map(t=>{const s=new n["a"];if(s.read(t,i),s.labelExpression){const t=e.fields||e.layerDefinition&&e.layerDefinition.fields||this.fields;s.labelExpression=s.labelExpression.replace(r,(e,i)=>`[${o(i,t)}]`)}return s}):null}function o(t,e){if(!e)return t;const i=t.toLowerCase();for(let n=0;n<e.length;n++){const t=e[n].name;if(t.toLowerCase()===i)return t}return t}},1148:function(t,e,i){"use strict";var n=i("da84"),r=i("5926"),s=i("577e"),o=i("1d80"),a=n.RangeError;t.exports=function(t){var e=s(o(this)),i="",n=r(t);if(n<0||n==1/0)throw a("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},1219:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n,r=i("a4ee"),s=i("b50f"),o=i("7ffa"),a=i("b2b2"),c=i("59b2"),l=(i("cea0"),i("d386")),u=i("09db"),h=i("3af1"),d=i("3760"),p=i("4ae5"),f=i("5996"),b=i("57e5"),y=i("2172"),m=i("32ed"),g=i("f8d4"),v=i("f547"),w=i("9786"),O=i("3723");function j(t){return!Array.isArray(t[0])}let _=n=class extends d["a"]{constructor(...t){super(...t),this.rings=[],this.type="polygon"}static fromExtent(t){const e=t.clone().normalize(),i=t.spatialReference;let r=!1,s=!1;for(const n of e)n.hasZ&&(r=!0),n.hasM&&(s=!0);const o={rings:e.map((function(t){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(r&&t.hasZ){const i=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(i)}if(s&&t.hasM){const i=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(i)}return e})),spatialReference:i};return r&&(o.hasZ=!0),s&&(o.hasM=!0),new n(o)}normalizeCtorArgs(t,e){let i,n,r=null,s=null;return t&&!Array.isArray(t)?(r=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),i=t.hasZ,n=t.hasM):r=t,r=r||[],e=e||f["a"].WGS84,r.length&&r[0]&&null!=r[0][0]&&"number"==typeof r[0][0]&&(r=[r]),s=r[0]&&r[0][0],s&&(void 0===i&&void 0===n?(i=s.length>2,n=s.length>3):void 0===i?i=n?s.length>3:s.length>2:void 0===n&&(n=i?s.length>3:s.length>2)),{rings:r,spatialReference:e,hasZ:i,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Object(b["a"])(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new p["a"];return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=Object(g["b"])(this);if(!e)return null;const i=new h["a"](e);return i.spatialReference=t,i}get isSelfIntersecting(){return Object(v["d"])(this.rings)}writeRings(t,e){e.rings=Object(o["a"])(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(j(t)){const n=[];for(let e=0,i=t.length;e<i;e++)n[e]=t[e].toArray();e[i]=n}else e[i]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new n;return t.spatialReference=this.spatialReference,t.rings=Object(o["a"])(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(Object(a["k"])(t))return!1;const e=this.spatialReference,i=t.spatialReference;if(Object(a["l"])(e)!==Object(a["l"])(i))return!1;if(Object(a["l"])(e)&&Object(a["l"])(i)&&!e.equals(i))return!1;if(this.rings.length!==t.rings.length)return!1;const n=([t,e,i,n],[r,s,o,a])=>t===r&&e===s&&(null==i&&null==o||i===o)&&(null==n&&null==a||n===a);for(let r=0;r<this.rings.length;r++){const e=this.rings[r],i=t.rings[r];if(!Object(s["c"])(e,i,n))return!1}return!0}contains(t){if(!t)return!1;const e=Object(w["d"])(t,this.spatialReference);return Object(y["g"])(this,Object(a["l"])(e)?e:t)}isClockwise(t){let e;return e=j(t)?t.map(t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y]):t,Object(m["g"])(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],n=this.hasZ,r=this.hasM;return n&&!r?new p["a"](i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new p["a"](i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new p["a"](i[0],i[1],i[2],i[3],this.spatialReference):new p["a"](i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(Object(O["a"])(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new p["a"](this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,n=e.map(t=>new p["a"](t,i));return this.notifyChange("rings"),n}setPoint(t,e,i){return this._validateInputs(t,e)?(Object(O["a"])(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=e){const n=this.rings[t];if(i&&(e<0||e>n.length))return!1;if(!i&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write({},t)}};Object(r["a"])([Object(c["b"])({readOnly:!0})],_.prototype,"cache",null),Object(r["a"])([Object(c["b"])({readOnly:!0})],_.prototype,"centroid",null),Object(r["a"])([Object(c["b"])({readOnly:!0})],_.prototype,"extent",null),Object(r["a"])([Object(c["b"])({readOnly:!0})],_.prototype,"isSelfIntersecting",null),Object(r["a"])([Object(c["b"])({type:[[[Number]]],json:{write:{isRequired:!0}}})],_.prototype,"rings",void 0),Object(r["a"])([Object(u["a"])("rings")],_.prototype,"writeRings",null),_=n=Object(r["a"])([Object(l["a"])("esri.geometry.Polygon")],_),_.prototype.toJSON.isDefaultToJSON=!0;const x=_},"121a":function(t,e,i){"use strict";i.d(e,"a",(function(){return H}));var n=i("a4ee"),r=(i("1b8f"),i("e20b")),s=i("cf9c"),o=i("ce6d"),a=i("af40"),c=(i("c120"),i("7ffa")),l=i("e92d"),u=i("b2b2"),h=i("fab3"),d=i("f4cc"),p=i("8eed"),f=i("3795"),b=i("59b2"),y=i("1a3e"),m=i("d386"),g=i("c0d3"),v=i("cb26"),w=i("5ab2");i("69e9");const O={handleInterceptedEvent:(t,e,i,n)=>(t.scheduleRender(),e.properties["on"+n.type].apply(e.properties.bind||i,[n]))},j={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{t.style[e]=i}},_=t=>({...j,...t}),x=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},S=(t,e)=>t.find(e),M=(t,e,i=!1)=>{let n=t;return e.forEach((t,r)=>{var s;const o=null!=(s=n)&&s.children?S(n.children,e=>e.domNode===t):void 0;i&&!o&&r!==e.length-1||(n=o)}),n},k=t=>{let e;const i={...O,...t},n=_(i),r=n.performanceLogger;let s,o=!0,a=!1;const c=[],l=[],u=(t,s,o)=>{let a;n.eventHandlerInterceptor=(t,n,s,o)=>function(t){let n;r("domEvent",t);const s=x(t.currentTarget,a.domNode),o=s.some(t=>{var e;return customElements.get(null==t||null==(e=t.tagName)?void 0:e.toLowerCase())});if(t.eventPhase!==Event.CAPTURING_PHASE&&o){const e=t.composedPath(),i=e.slice(e.indexOf(t.currentTarget),e.indexOf(a.domNode)).filter(t=>t.getRootNode()===t.ownerDocument).reverse();n=M(a.getLastRender(),i,!0)}else s.reverse(),n=M(a.getLastRender(),s);let c;return n&&(c=i.handleInterceptedEvent(e,n,this,t)),r("domEventProcessed",t),c},null==i.postProcessProjectionOptions||i.postProcessProjectionOptions(n);const u=o();a=t(s,u,n),c.push(a),l.push(o),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(a,u)};let h=()=>{if(s=void 0,o){o=!1,r("renderStart",void 0);for(let t=0;t<c.length;t++){const e=l[t]();r("rendered",void 0),c[t].update(e),r("patched",void 0)}r("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(h=i.modifyDoRenderImplementation(h,c,l)),e={renderNow:h,scheduleRender:()=>{s||a||(s=requestAnimationFrame(h))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,e.scheduleRender()},append:(t,e)=>{u(w["b"].append,t,e)},insertBefore:(t,e)=>{u(w["b"].insertBefore,t,e)},merge:(t,e)=>{u(w["b"].merge,t,e)},replace:(t,e)=>{u(w["b"].replace,t,e)},detach:t=>{for(let e=0;e<l.length;e++)if(l[e]===t)return l.splice(e,1),c.splice(e,1)[0];throw new Error("renderFunction was not found")}},e};var I=i("3105"),T=i("b2cd"),E=i("e041");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */let A;function C(){Object(I["g"])(Object(E["A"])(Object(T["a"])(A)))}A="components/assets";var P=i("deae"),R=i("702a"),L=i("2035"),N=i("6323");const F="esri.widgets.Widget",D=l["a"].getLogger(F);let z=0;const V=new Map,$={widgetIcon:"esri-icon-checkbox-unchecked"};function G(t,e){for(const i in e)null!=t[i]&&("object"==typeof t[i]&&"object"==typeof e[i]?G(t[i],e[i]):t[i]=e[i]);return t}const U=k({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(t,n,r,s)=>{const o=e(t,n,r,s),a=i.test(t);if(!((t=t.replace(i,"")).toLowerCase()in r)||a){const e=t[2].toLowerCase()+t.slice(3),i=t=>o.call(r,t);r.addEventListener(e,i,a);const n=()=>r.removeEventListener(e,i,a),c=s.afterRemoved;s.afterRemoved=t=>{null==c||c(t),n()}}return o}},handleInterceptedEvent(t,e,i,n){const{eventPhase:r,type:s}=n,o=r===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const c=e.properties;(a in c||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,a in c))&&(V.clear(),t.scheduleRender(),c[a].call(c.bind||i,n))}});let q=!1,B=class extends(Object(h["b"])(o["a"].EventedAccessor)){constructor(t,e){super(t,e),this._attached=!1,this._internalHandles=new a["a"],this._projector=U,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=$.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=Object(d["h"])(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const t=await Object(d["i"])(this._messageBundleProps.map(async({bundlePath:t,propertyName:e})=>{let i=await Object(N["a"])(t);this.uiStrings&&Object.keys(this.uiStrings)&&(i=G(Object(c["a"])(i),this.uiStrings)),this[e]=i}));for(const e of t)e.error&&D.error("widget-intl:locale-error",this.declaredClass,e.error)}await this.loadLocale()}),C();const i=["light","dark"],n=Object(R["e"])()||"light";i.includes(n)||Object(r["a"])(D,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const s="esri-widget-uid-"+Object(p["a"])(),o=this.render.bind(this);this._trackingTarget=new v["a"](()=>this.scheduleRender());const l=()=>{var t;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:s,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const e=o();let{properties:i}=e;i||(e.properties=i={});let{key:n,styles:r}=i;n||(i.key=s),r||(i.styles=r={}),r.display||(r.display="");let a=0;return null==(t=e.children)||t.forEach(t=>{if(Object(P["b"])(t.vnodeSelector))return;let{properties:e}=t;e||(t.properties=e={}),e.key||(e.key=`${this.id}--${a++}`)}),Object(P["c"])(this,e)};this.render=()=>{if(q)return l();let t=V.get(this);if(t)return t;this._trackingTarget.clear(),q=!0;try{t=Object(g["b"])(this._trackingTarget,l)}finally{q=!1}return V.set(this,t),t},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(t,e){const i={...t};return e&&(i.container=e),i}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(d["v"])}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=Object(u["e"])(this._trackingTarget),this.viewModel=Object(u["e"])(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,V.delete(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return Object(s["a"])(t)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+z++}set id(t){t&&this._set("id",t)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(V.delete(this),this._projector.scheduleRender())}classes(...t){return R["a"].apply(this,t)}own(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments)),this._internalHandles.add(t)}renderNow(){V.delete(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),null!=(t=this._delegatedEventNames)&&t.length&&this._internalHandles.add(Object(f["a"])(this,"viewModel",(t,e)=>{e&&this._internalHandles.remove("delegated-events"),t&&this._internalHandles.add(this._delegatedEventNames.map(e=>t.on(e,t=>{this.emit(e,t)})),"delegated-events")})),this.postInitialize();const e=async()=>{await this._loadLocale().catch(d["v"]),this.scheduleRender()};this._internalHandles.add([Object(L["c"])(e),this.watch("uiStrings",e),Object(f["j"])(this,"container",async t=>{this.destroyed||this._attach(t)})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){t&&this._attached&&(this._projector.detach(this.render),t.parentNode&&t.parentNode.removeChild(t),this._attached=!1)}};B[P["a"]]=!0,Object(n["a"])([Object(b["b"])()],B.prototype,"_readyForTrueRender",void 0),Object(n["a"])([Object(b["b"])({value:null})],B.prototype,"container",null),Object(n["a"])([Object(y["a"])("container")],B.prototype,"castContainer",null),Object(n["a"])([Object(b["b"])({aliasOf:"container"})],B.prototype,"domNode",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"iconClass",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"id",null),Object(n["a"])([Object(b["b"])()],B.prototype,"label",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"renderable",null),Object(n["a"])([Object(b["b"])()],B.prototype,"uiStrings",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"viewModel",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"visible",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"key",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"children",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"afterCreate",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"afterUpdate",void 0),Object(n["a"])([Object(b["b"])()],B.prototype,"afterRemoved",void 0),B=Object(n["a"])([Object(m["a"])(F)],B);const H=B},1233:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o}));i("c120");const n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},r={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function s(t,e,i){const n=new Date(t.getTime());if(e&&i){const t=r[i],{getter:s,setter:o,multiplier:a}=t;n[o](n[s]()+e*a)}return n}function o(t,e){switch(e){case"milliseconds":return new Date(t.getTime());case"seconds":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds());case"minutes":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes());case"hours":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());case"days":return new Date(t.getFullYear(),t.getMonth(),t.getDate());case"weeks":return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());case"months":return new Date(t.getFullYear(),t.getMonth(),1);case"years":return new Date(t.getFullYear(),0,1);case"decades":return new Date(t.getFullYear()-t.getFullYear()%10,0,1);case"centuries":return new Date(t.getFullYear()-t.getFullYear()%100,0,1);default:return new Date}}function a(t,e,i){return 0===t?0:t*n[e]/n[i]}},1276:function(t,e,i){"use strict";var n=i("2ba4"),r=i("c65b"),s=i("e330"),o=i("d784"),a=i("44e7"),c=i("825a"),l=i("1d80"),u=i("4840"),h=i("8aa5"),d=i("50c4"),p=i("577e"),f=i("dc4a"),b=i("4dae"),y=i("14c3"),m=i("9263"),g=i("9f7f"),v=i("d039"),w=g.UNSUPPORTED_Y,O=4294967295,j=Math.min,_=[].push,x=s(/./.exec),S=s(_),M=s("".slice),k=!v((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));o("split",(function(t,e,i){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var s=p(l(this)),o=void 0===i?O:i>>>0;if(0===o)return[];if(void 0===t)return[s];if(!a(t))return r(e,s,t,o);var c,u,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=new RegExp(t.source,f+"g");while(c=r(m,g,s)){if(u=g.lastIndex,u>y&&(S(d,M(s,y,c.index)),c.length>1&&c.index<s.length&&n(_,d,b(c,1)),h=c[0].length,y=u,d.length>=o))break;g.lastIndex===c.index&&g.lastIndex++}return y===s.length?!h&&x(g,"")||S(d,""):S(d,M(s,y)),d.length>o?b(d,0,o):d}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:r(e,this,t,i)}:e,[function(e,i){var n=l(this),o=void 0==e?void 0:f(e,t);return o?r(o,e,n,i):r(s,p(n),e,i)},function(t,n){var r=c(this),o=p(t),a=i(s,r,o,n,s!==e);if(a.done)return a.value;var l=u(r,RegExp),f=r.unicode,b=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(w?"g":"y"),m=new l(w?"^(?:"+r.source+")":r,b),g=void 0===n?O:n>>>0;if(0===g)return[];if(0===o.length)return null===y(m,o)?[o]:[];var v=0,_=0,x=[];while(_<o.length){m.lastIndex=w?0:_;var k,I=y(m,w?M(o,_):o);if(null===I||(k=j(d(m.lastIndex+(w?_:0)),o.length))===v)_=h(o,_,f);else{if(S(x,M(o,v,_)),x.length===g)return x;for(var T=1;T<=I.length-1;T++)if(S(x,I[T]),x.length===g)return x;_=v=k}}return S(x,M(o,v)),x}]}),!k,w)},1289:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("a7a7");let c=n=class extends a["a"]{constructor(t){super(t),this.description=null,this.displayType=null,this.title=null,this.type="attachments"}clone(){return new n({description:this.description,displayType:this.displayType,title:this.title})}};Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(r["a"])([Object(s["b"])({type:["auto","preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0),Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],c.prototype,"title",void 0),Object(r["a"])([Object(s["b"])({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.popup.content.AttachmentsContent")],c);const l=c},1315:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s.apply(this,arguments)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,i){return u=l()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=Function.bind.apply(t,n),s=new r;return i&&c(s,i.prototype),s},u.apply(null,arguments)}function h(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function d(t){var e="function"===typeof Map?new Map:void 0;return d=function(t){if(null===t||!h(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return u(t,arguments,a(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c(i,t)},d(t)}function p(t,e){if(null==t)return{};var i,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}function f(t,e){if(t){if("string"===typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=f(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0});var m=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(d(Error)),g=function(t){function e(e){return t.call(this,"Invalid DateTime: "+e.toMessage())||this}return o(e,t),e}(m),v=function(t){function e(e){return t.call(this,"Invalid Interval: "+e.toMessage())||this}return o(e,t),e}(m),w=function(t){function e(e){return t.call(this,"Invalid Duration: "+e.toMessage())||this}return o(e,t),e}(m),O=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(m),j=function(t){function e(e){return t.call(this,"Invalid unit "+e)||this}return o(e,t),e}(m),_=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(m),x=function(t){function e(){return t.call(this,"Zone is an abstract class")||this}return o(e,t),e}(m),S="numeric",M="short",k="long",I={year:S,month:S,day:S},T={year:S,month:M,day:S},E={year:S,month:M,day:S,weekday:M},A={year:S,month:k,day:S},C={year:S,month:k,day:S,weekday:k},P={hour:S,minute:S},R={hour:S,minute:S,second:S},L={hour:S,minute:S,second:S,timeZoneName:M},N={hour:S,minute:S,second:S,timeZoneName:k},F={hour:S,minute:S,hourCycle:"h23"},D={hour:S,minute:S,second:S,hourCycle:"h23"},z={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:M},V={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:k},$={year:S,month:S,day:S,hour:S,minute:S},G={year:S,month:S,day:S,hour:S,minute:S,second:S},U={year:S,month:M,day:S,hour:S,minute:S},q={year:S,month:M,day:S,hour:S,minute:S,second:S},B={year:S,month:M,day:S,weekday:M,hour:S,minute:S},H={year:S,month:k,day:S,hour:S,minute:S,timeZoneName:M},W={year:S,month:k,day:S,hour:S,minute:S,second:S,timeZoneName:M},J={year:S,month:k,day:S,weekday:k,hour:S,minute:S,timeZoneName:k},K={year:S,month:k,day:S,weekday:k,hour:S,minute:S,second:S,timeZoneName:k};function Y(t){return"undefined"===typeof t}function Z(t){return"number"===typeof t}function X(t){return"number"===typeof t&&t%1===0}function Q(t){return"string"===typeof t}function tt(t){return"[object Date]"===Object.prototype.toString.call(t)}function et(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function it(t){return Array.isArray(t)?t:[t]}function nt(t,e,i){if(0!==t.length)return t.reduce((function(t,n){var r=[e(n),n];return t&&i(t[0],r[0])===t[0]?t:r}),null)[1]}function rt(t,e){return e.reduce((function(e,i){return e[i]=t[i],e}),{})}function st(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ot(t,e,i){return X(t)&&t>=e&&t<=i}function at(t,e){return t-e*Math.floor(t/e)}function ct(t,e){void 0===e&&(e=2);var i,n=t<0?"-":"",r=n?-1*t:t;return i=r.toString().length<e?("0".repeat(e)+r).slice(-e):r.toString(),""+n+i}function lt(t){return Y(t)||null===t||""===t?void 0:parseInt(t,10)}function ut(t){return Y(t)||null===t||""===t?void 0:parseFloat(t)}function ht(t){if(!Y(t)&&null!==t&&""!==t){var e=1e3*parseFloat("0."+t);return Math.floor(e)}}function dt(t,e,i){void 0===i&&(i=!1);var n=Math.pow(10,e),r=i?Math.trunc:Math.round;return r(t*n)/n}function pt(t){return t%4===0&&(t%100!==0||t%400===0)}function ft(t){return pt(t)?366:365}function bt(t,e){var i=at(e-1,12)+1,n=t+(e-i)/12;return 2===i?pt(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function yt(t){var e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function mt(t){var e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,i=t-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return 4===e||3===n?53:52}function gt(t){return t>99?t:t>60?1900+t:2e3+t}function vt(t,e,i,n){void 0===n&&(n=null);var r=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);var a=s({timeZoneName:e},o),c=new Intl.DateTimeFormat(i,a).formatToParts(r).find((function(t){return"timezonename"===t.type.toLowerCase()}));return c?c.value:null}function wt(t,e){var i=parseInt(t,10);Number.isNaN(i)&&(i=0);var n=parseInt(e,10)||0,r=i<0||Object.is(i,-0)?-n:n;return 60*i+r}function Ot(t){var e=Number(t);if("boolean"===typeof t||""===t||Number.isNaN(e))throw new _("Invalid unit value "+t);return e}function jt(t,e){var i={};for(var n in t)if(st(t,n)){var r=t[n];if(void 0===r||null===r)continue;i[e(n)]=Ot(r)}return i}function _t(t,e){var i=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return""+r+ct(i,2)+":"+ct(n,2);case"narrow":return""+r+i+(n>0?":"+n:"");case"techie":return""+r+ct(i,2)+ct(n,2);default:throw new RangeError("Value format "+e+" is out of range for property format")}}function xt(t){return rt(t,["hour","minute","second","millisecond"])}var St=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,Mt=["January","February","March","April","May","June","July","August","September","October","November","December"],kt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],It=["J","F","M","A","M","J","J","A","S","O","N","D"];function Tt(t){switch(t){case"narrow":return[].concat(It);case"short":return[].concat(kt);case"long":return[].concat(Mt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Et=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],At=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ct=["M","T","W","T","F","S","S"];function Pt(t){switch(t){case"narrow":return[].concat(Ct);case"short":return[].concat(At);case"long":return[].concat(Et);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Rt=["AM","PM"],Lt=["Before Christ","Anno Domini"],Nt=["BC","AD"],Ft=["B","A"];function Dt(t){switch(t){case"narrow":return[].concat(Ft);case"short":return[].concat(Nt);case"long":return[].concat(Lt);default:return null}}function zt(t){return Rt[t.hour<12?0:1]}function Vt(t,e){return Pt(e)[t.weekday-1]}function $t(t,e){return Tt(e)[t.month-1]}function Gt(t,e){return Dt(e)[t.year<0?0:1]}function Ut(t,e,i,n){void 0===i&&(i="always"),void 0===n&&(n=!1);var r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===i&&s){var o="days"===t;switch(e){case 1:return o?"tomorrow":"next "+r[t][0];case-1:return o?"yesterday":"last "+r[t][0];case 0:return o?"today":"this "+r[t][0]}}var a=Object.is(e,-0)||e<0,c=Math.abs(e),l=1===c,u=r[t],h=n?l?u[1]:u[2]||u[1]:l?r[t][0]:t;return a?c+" "+h+" ago":"in "+c+" "+h}function qt(t,e){for(var i,n="",r=y(t);!(i=r()).done;){var s=i.value;s.literal?n+=s.val:n+=e(s.val)}return n}var Bt={D:I,DD:T,DDD:A,DDDD:C,t:P,tt:R,ttt:L,tttt:N,T:F,TT:D,TTT:z,TTTT:V,f:$,ff:U,fff:H,ffff:J,F:G,FF:q,FFF:W,FFFF:K},Ht=function(){function t(t,e){this.opts=e,this.loc=t,this.systemLoc=null}t.create=function(e,i){return void 0===i&&(i={}),new t(e,i)},t.parseFormat=function(t){for(var e=null,i="",n=!1,r=[],s=0;s<t.length;s++){var o=t.charAt(s);"'"===o?(i.length>0&&r.push({literal:n,val:i}),e=null,i="",n=!n):n||o===e?i+=o:(i.length>0&&r.push({literal:!1,val:i}),i=o,e=o)}return i.length>0&&r.push({literal:n,val:i}),r},t.macroTokenToFormatOpts=function(t){return Bt[t]};var e=t.prototype;return e.formatWithSystemDefault=function(t,e){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());var i=this.systemLoc.dtFormatter(t,s({},this.opts,e));return i.format()},e.formatDateTime=function(t,e){void 0===e&&(e={});var i=this.loc.dtFormatter(t,s({},this.opts,e));return i.format()},e.formatDateTimeParts=function(t,e){void 0===e&&(e={});var i=this.loc.dtFormatter(t,s({},this.opts,e));return i.formatToParts()},e.resolvedOptions=function(t,e){void 0===e&&(e={});var i=this.loc.dtFormatter(t,s({},this.opts,e));return i.resolvedOptions()},e.num=function(t,e){if(void 0===e&&(e=0),this.opts.forceSimple)return ct(t,e);var i=s({},this.opts);return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)},e.formatDateTimeFromString=function(e,i){var n=this,r="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(t,i){return n.loc.extract(e,t,i)},a=function(t){return e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):""},c=function(){return r?zt(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},l=function(t,i){return r?$t(e,t):o(i?{month:t}:{month:t,day:"numeric"},"month")},u=function(t,i){return r?Vt(e,t):o(i?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday")},h=function(i){var r=t.macroTokenToFormatOpts(i);return r?n.formatWithSystemDefault(e,r):i},d=function(t){return r?Gt(e,t):o({era:t},"era")},p=function(t){switch(t){case"S":return n.num(e.millisecond);case"u":case"SSS":return n.num(e.millisecond,3);case"s":return n.num(e.second);case"ss":return n.num(e.second,2);case"uu":return n.num(Math.floor(e.millisecond/10),2);case"uuu":return n.num(Math.floor(e.millisecond/100));case"m":return n.num(e.minute);case"mm":return n.num(e.minute,2);case"h":return n.num(e.hour%12===0?12:e.hour%12);case"hh":return n.num(e.hour%12===0?12:e.hour%12,2);case"H":return n.num(e.hour);case"HH":return n.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:n.opts.allowZ});case"ZZ":return a({format:"short",allowZ:n.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:n.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:n.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:n.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return s?o({day:"numeric"},"day"):n.num(e.day);case"dd":return s?o({day:"2-digit"},"day"):n.num(e.day,2);case"c":return n.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return n.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?o({month:"numeric",day:"numeric"},"month"):n.num(e.month);case"LL":return s?o({month:"2-digit",day:"numeric"},"month"):n.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?o({month:"numeric"},"month"):n.num(e.month);case"MM":return s?o({month:"2-digit"},"month"):n.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?o({year:"numeric"},"year"):n.num(e.year);case"yy":return s?o({year:"2-digit"},"year"):n.num(e.year.toString().slice(-2),2);case"yyyy":return s?o({year:"numeric"},"year"):n.num(e.year,4);case"yyyyyy":return s?o({year:"numeric"},"year"):n.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return n.num(e.weekYear.toString().slice(-2),2);case"kkkk":return n.num(e.weekYear,4);case"W":return n.num(e.weekNumber);case"WW":return n.num(e.weekNumber,2);case"o":return n.num(e.ordinal);case"ooo":return n.num(e.ordinal,3);case"q":return n.num(e.quarter);case"qq":return n.num(e.quarter,2);case"X":return n.num(Math.floor(e.ts/1e3));case"x":return n.num(e.ts);default:return h(t)}};return qt(t.parseFormat(i),p)},e.formatDurationFromString=function(e,i){var n=this,r=function(t){switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},s=function(t){return function(e){var i=r(e);return i?n.num(t.get(i),e.length):e}},o=t.parseFormat(i),a=o.reduce((function(t,e){var i=e.literal,n=e.val;return i?t:t.concat(n)}),[]),c=e.shiftTo.apply(e,a.map(r).filter((function(t){return t})));return qt(o,s(c))},t}(),Wt=function(){function t(t,e){this.reason=t,this.explanation=e}var e=t.prototype;return e.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},t}(),Jt=function(){function t(){}var e=t.prototype;return e.offsetName=function(t,e){throw new x},e.formatOffset=function(t,e){throw new x},e.offset=function(t){throw new x},e.equals=function(t){throw new x},r(t,[{key:"type",get:function(){throw new x}},{key:"name",get:function(){throw new x}},{key:"isUniversal",get:function(){throw new x}},{key:"isValid",get:function(){throw new x}}]),t}(),Kt=null,Yt=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var i=e.prototype;return i.offsetName=function(t,e){var i=e.format,n=e.locale;return vt(t,i,n)},i.formatOffset=function(t,e){return _t(this.offset(t),e)},i.offset=function(t){return-new Date(t).getTimezoneOffset()},i.equals=function(t){return"system"===t.type},r(e,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Kt&&(Kt=new e),Kt}}]),e}(Jt),Zt=RegExp("^"+St.source+"$"),Xt={};function Qt(t){return Xt[t]||(Xt[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Xt[t]}var te={year:0,month:1,day:2,hour:3,minute:4,second:5};function ee(t,e){var i=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i),r=n[1],s=n[2],o=n[3],a=n[4],c=n[5],l=n[6];return[o,r,s,a,c,l]}function ie(t,e){for(var i=t.formatToParts(e),n=[],r=0;r<i.length;r++){var s=i[r],o=s.type,a=s.value,c=te[o];Y(c)||(n[c]=parseInt(a,10))}return n}var ne={},re=function(t){function e(i){var n;return n=t.call(this)||this,n.zoneName=i,n.valid=e.isValidZone(i),n}o(e,t),e.create=function(t){return ne[t]||(ne[t]=new e(t)),ne[t]},e.resetCache=function(){ne={},Xt={}},e.isValidSpecifier=function(t){return!(!t||!t.match(Zt))},e.isValidZone=function(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(e){return!1}};var i=e.prototype;return i.offsetName=function(t,e){var i=e.format,n=e.locale;return vt(t,i,n,this.name)},i.formatOffset=function(t,e){return _t(this.offset(t),e)},i.offset=function(t){var e=new Date(t);if(isNaN(e))return NaN;var i=Qt(this.name),n=i.formatToParts?ie(i,e):ee(i,e),r=n[0],s=n[1],o=n[2],a=n[3],c=n[4],l=n[5],u=24===a?0:a,h=yt({year:r,month:s,day:o,hour:u,minute:c,second:l,millisecond:0}),d=+e,p=d%1e3;return d-=p>=0?p:1e3+p,(h-d)/6e4},i.equals=function(t){return"iana"===t.type&&t.name===this.name},r(e,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),e}(Jt),se=null,oe=function(t){function e(e){var i;return i=t.call(this)||this,i.fixed=e,i}o(e,t),e.instance=function(t){return 0===t?e.utcInstance:new e(t)},e.parseSpecifier=function(t){if(t){var i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new e(wt(i[1],i[2]))}return null};var i=e.prototype;return i.offsetName=function(){return this.name},i.formatOffset=function(t,e){return _t(this.fixed,e)},i.offset=function(){return this.fixed},i.equals=function(t){return"fixed"===t.type&&t.fixed===this.fixed},r(e,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+_t(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===se&&(se=new e(0)),se}}]),e}(Jt),ae=function(t){function e(e){var i;return i=t.call(this)||this,i.zoneName=e,i}o(e,t);var i=e.prototype;return i.offsetName=function(){return null},i.formatOffset=function(){return""},i.offset=function(){return NaN},i.equals=function(){return!1},r(e,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),e}(Jt);function ce(t,e){if(Y(t)||null===t)return e;if(t instanceof Jt)return t;if(Q(t)){var i=t.toLowerCase();return"local"===i||"system"===i?e:"utc"===i||"gmt"===i?oe.utcInstance:re.isValidSpecifier(i)?re.create(t):oe.parseSpecifier(i)||new ae(t)}return Z(t)?oe.instance(t):"object"===typeof t&&t.offset&&"number"===typeof t.offset?t:new ae(t)}var le,ue=function(){return Date.now()},he="system",de=null,pe=null,fe=null,be=function(){function t(){}return t.resetCaches=function(){Re.resetCache(),re.resetCache()},r(t,null,[{key:"now",get:function(){return ue},set:function(t){ue=t}},{key:"defaultZone",get:function(){return ce(he,Yt.instance)},set:function(t){he=t}},{key:"defaultLocale",get:function(){return de},set:function(t){de=t}},{key:"defaultNumberingSystem",get:function(){return pe},set:function(t){pe=t}},{key:"defaultOutputCalendar",get:function(){return fe},set:function(t){fe=t}},{key:"throwOnInvalid",get:function(){return le},set:function(t){le=t}}]),t}(),ye=["base"],me={};function ge(t,e){void 0===e&&(e={});var i=JSON.stringify([t,e]),n=me[i];return n||(n=new Intl.DateTimeFormat(t,e),me[i]=n),n}var ve={};function we(t,e){void 0===e&&(e={});var i=JSON.stringify([t,e]),n=ve[i];return n||(n=new Intl.NumberFormat(t,e),ve[i]=n),n}var Oe={};function je(t,e){void 0===e&&(e={});var i=e;i.base;var n=p(i,ye),r=JSON.stringify([t,n]),s=Oe[r];return s||(s=new Intl.RelativeTimeFormat(t,e),Oe[r]=s),s}var _e=null;function xe(){return _e||(_e=(new Intl.DateTimeFormat).resolvedOptions().locale,_e)}function Se(t){var e=t.indexOf("-u-");if(-1===e)return[t];var i,n=t.substring(0,e);try{i=ge(t).resolvedOptions()}catch(a){i=ge(n).resolvedOptions()}var r=i,s=r.numberingSystem,o=r.calendar;return[n,s,o]}function Me(t,e,i){return i||e?(t+="-u",i&&(t+="-ca-"+i),e&&(t+="-nu-"+e),t):t}function ke(t){for(var e=[],i=1;i<=12;i++){var n=hr.utc(2016,i,1);e.push(t(n))}return e}function Ie(t){for(var e=[],i=1;i<=7;i++){var n=hr.utc(2016,11,13+i);e.push(t(n))}return e}function Te(t,e,i,n,r){var s=t.listingMode(i);return"error"===s?null:"en"===s?n(e):r(e)}function Ee(t){return(!t.numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem)}var Ae=function(){function t(t,e,i){if(this.padTo=i.padTo||0,this.floor=i.floor||!1,!e){var n={useGrouping:!1};i.padTo>0&&(n.minimumIntegerDigits=i.padTo),this.inf=we(t,n)}}var e=t.prototype;return e.format=function(t){if(this.inf){var e=this.floor?Math.floor(t):t;return this.inf.format(e)}var i=this.floor?Math.floor(t):dt(t,3);return ct(i,this.padTo)},t}(),Ce=function(){function t(t,e,i){var n;if(this.opts=i,t.zone.isUniversal){var r=t.offset/60*-1,o=r>=0?"Etc/GMT+"+r:"Etc/GMT"+r;0!==t.offset&&re.create(o).valid?(n=o,this.dt=t):(n="UTC",i.timeZoneName?this.dt=t:this.dt=0===t.offset?t:hr.fromMillis(t.ts+60*t.offset*1e3))}else"system"===t.zone.type?this.dt=t:(this.dt=t,n=t.zone.name);var a=s({},this.opts);n&&(a.timeZone=n),this.dtf=ge(e,a)}var e=t.prototype;return e.format=function(){return this.dtf.format(this.dt.toJSDate())},e.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},e.resolvedOptions=function(){return this.dtf.resolvedOptions()},t}(),Pe=function(){function t(t,e,i){this.opts=s({style:"long"},i),!e&&et()&&(this.rtf=je(t,i))}var e=t.prototype;return e.format=function(t,e){return this.rtf?this.rtf.format(t,e):Ut(e,t,this.opts.numeric,"long"!==this.opts.style)},e.formatToParts=function(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]},t}(),Re=function(){function t(t,e,i,n){var r=Se(t),s=r[0],o=r[1],a=r[2];this.locale=s,this.numberingSystem=e||o||null,this.outputCalendar=i||a||null,this.intl=Me(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}t.fromOpts=function(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)},t.create=function(e,i,n,r){void 0===r&&(r=!1);var s=e||be.defaultLocale,o=s||(r?"en-US":xe()),a=i||be.defaultNumberingSystem,c=n||be.defaultOutputCalendar;return new t(o,a,c,s)},t.resetCache=function(){_e=null,me={},ve={},Oe={}},t.fromObject=function(e){var i=void 0===e?{}:e,n=i.locale,r=i.numberingSystem,s=i.outputCalendar;return t.create(n,r,s)};var e=t.prototype;return e.listingMode=function(t){var e=this.isEnglish(),i=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&i?"en":"intl"},e.clone=function(e){return e&&0!==Object.getOwnPropertyNames(e).length?t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this},e.redefaultToEN=function(t){return void 0===t&&(t={}),this.clone(s({},t,{defaultToEN:!0}))},e.redefaultToSystem=function(t){return void 0===t&&(t={}),this.clone(s({},t,{defaultToEN:!1}))},e.months=function(t,e,i){var n=this;return void 0===e&&(e=!1),void 0===i&&(i=!0),Te(this,t,i,Tt,(function(){var i=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return n.monthsCache[r][t]||(n.monthsCache[r][t]=ke((function(t){return n.extract(t,i,"month")}))),n.monthsCache[r][t]}))},e.weekdays=function(t,e,i){var n=this;return void 0===e&&(e=!1),void 0===i&&(i=!0),Te(this,t,i,Pt,(function(){var i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return n.weekdaysCache[r][t]||(n.weekdaysCache[r][t]=Ie((function(t){return n.extract(t,i,"weekday")}))),n.weekdaysCache[r][t]}))},e.meridiems=function(t){var e=this;return void 0===t&&(t=!0),Te(this,void 0,t,(function(){return Rt}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[hr.utc(2016,11,13,9),hr.utc(2016,11,13,19)].map((function(i){return e.extract(i,t,"dayperiod")}))}return e.meridiemCache}))},e.eras=function(t,e){var i=this;return void 0===e&&(e=!0),Te(this,t,e,Dt,(function(){var e={era:t};return i.eraCache[t]||(i.eraCache[t]=[hr.utc(-40,1,1),hr.utc(2017,1,1)].map((function(t){return i.extract(t,e,"era")}))),i.eraCache[t]}))},e.extract=function(t,e,i){var n=this.dtFormatter(t,e),r=n.formatToParts(),s=r.find((function(t){return t.type.toLowerCase()===i}));return s?s.value:null},e.numberFormatter=function(t){return void 0===t&&(t={}),new Ae(this.intl,t.forceSimple||this.fastNumbers,t)},e.dtFormatter=function(t,e){return void 0===e&&(e={}),new Ce(t,this.intl,e)},e.relFormatter=function(t){return void 0===t&&(t={}),new Pe(this.intl,this.isEnglish(),t)},e.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},e.equals=function(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar},r(t,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=Ee(this)),this.fastNumbersCached}}]),t}();function Le(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.reduce((function(t,e){return t+e.source}),"");return RegExp("^"+n+"$")}function Ne(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(e,i){var n=e[0],r=e[1],o=e[2],a=i(t,o),c=a[0],l=a[1],u=a[2];return[s({},n,c),r||l,u]}),[{},null,1]).slice(0,2)}}function Fe(t){if(null==t)return[null,null];for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=0,s=i;r<s.length;r++){var o=s[r],a=o[0],c=o[1],l=a.exec(t);if(l)return c(l)}return[null,null]}function De(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,i){var n,r={};for(n=0;n<e.length;n++)r[e[n]]=lt(t[i+n]);return[r,null,i+n]}}var ze=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ve=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$e=RegExp(""+Ve.source+ze.source+"?"),Ge=RegExp("(?:T"+$e.source+")?"),Ue=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,qe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Be=/(\d{4})-?(\d{3})/,He=De("weekYear","weekNumber","weekDay"),We=De("year","ordinal"),Je=/(\d{4})-(\d\d)-(\d\d)/,Ke=RegExp(Ve.source+" ?(?:"+ze.source+"|("+St.source+"))?"),Ye=RegExp("(?: "+Ke.source+")?");function Ze(t,e,i){var n=t[e];return Y(n)?i:lt(n)}function Xe(t,e){var i={year:Ze(t,e),month:Ze(t,e+1,1),day:Ze(t,e+2,1)};return[i,null,e+3]}function Qe(t,e){var i={hours:Ze(t,e,0),minutes:Ze(t,e+1,0),seconds:Ze(t,e+2,0),milliseconds:ht(t[e+3])};return[i,null,e+4]}function ti(t,e){var i=!t[e]&&!t[e+1],n=wt(t[e+1],t[e+2]),r=i?null:oe.instance(n);return[{},r,e+3]}function ei(t,e){var i=t[e]?re.create(t[e]):null;return[{},i,e+1]}var ii=RegExp("^T?"+Ve.source+"$"),ni=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function ri(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u="-"===e[0],h=c&&"-"===c[0],d=function(t,e){return void 0===e&&(e=!1),void 0!==t&&(e||t&&u)?-t:t};return[{years:d(ut(i)),months:d(ut(n)),weeks:d(ut(r)),days:d(ut(s)),hours:d(ut(o)),minutes:d(ut(a)),seconds:d(ut(c),"-0"===c),milliseconds:d(ht(l),h)}]}var si={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function oi(t,e,i,n,r,s,o){var a={year:2===e.length?gt(lt(e)):lt(e),month:kt.indexOf(i)+1,day:lt(n),hour:lt(r),minute:lt(s)};return o&&(a.second=lt(o)),t&&(a.weekday=t.length>3?Et.indexOf(t)+1:At.indexOf(t)+1),a}var ai=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ci(t){var e,i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9],h=t[10],d=t[11],p=oi(i,s,r,n,o,a,c);return e=l?si[l]:u?0:wt(h,d),[p,new oe(e)]}function li(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var ui=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,hi=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,di=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function pi(t){var e=t[1],i=t[2],n=t[3],r=t[4],s=t[5],o=t[6],a=t[7],c=oi(e,r,n,i,s,o,a);return[c,oe.utcInstance]}function fi(t){var e=t[1],i=t[2],n=t[3],r=t[4],s=t[5],o=t[6],a=t[7],c=oi(e,a,i,n,r,s,o);return[c,oe.utcInstance]}var bi=Le(Ue,Ge),yi=Le(qe,Ge),mi=Le(Be,Ge),gi=Le($e),vi=Ne(Xe,Qe,ti),wi=Ne(He,Qe,ti),Oi=Ne(We,Qe,ti),ji=Ne(Qe,ti);function _i(t){return Fe(t,[bi,vi],[yi,wi],[mi,Oi],[gi,ji])}function xi(t){return Fe(li(t),[ai,ci])}function Si(t){return Fe(t,[ui,pi],[hi,pi],[di,fi])}function Mi(t){return Fe(t,[ni,ri])}var ki=Ne(Qe);function Ii(t){return Fe(t,[ii,ki])}var Ti=Le(Je,Ye),Ei=Le(Ke),Ai=Ne(Xe,Qe,ti,ei),Ci=Ne(Qe,ti,ei);function Pi(t){return Fe(t,[Ti,Ai],[Ei,Ci])}var Ri="Invalid Duration",Li={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ni=s({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Li),Fi=365.2425,Di=30.436875,zi=s({years:{quarters:4,months:12,weeks:Fi/7,days:Fi,hours:24*Fi,minutes:24*Fi*60,seconds:24*Fi*60*60,milliseconds:24*Fi*60*60*1e3},quarters:{months:3,weeks:Fi/28,days:Fi/4,hours:24*Fi/4,minutes:24*Fi*60/4,seconds:24*Fi*60*60/4,milliseconds:24*Fi*60*60*1e3/4},months:{weeks:Di/7,days:Di,hours:24*Di,minutes:24*Di*60,seconds:24*Di*60*60,milliseconds:24*Di*60*60*1e3}},Li),Vi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$i=Vi.slice(0).reverse();function Gi(t,e,i){void 0===i&&(i=!1);var n={values:i?e.values:s({},t.values,e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new Hi(n)}function Ui(t){return t<0?Math.floor(t):Math.ceil(t)}function qi(t,e,i,n,r){var s=t[r][i],o=e[i]/s,a=Math.sign(o)===Math.sign(n[r]),c=!a&&0!==n[r]&&Math.abs(o)<=1?Ui(o):Math.trunc(o);n[r]+=c,e[i]-=c*s}function Bi(t,e){$i.reduce((function(i,n){return Y(e[n])?i:(i&&qi(t,e,i,e,n),n)}),null)}var Hi=function(){function t(t){var e="longterm"===t.conversionAccuracy||!1;this.values=t.values,this.loc=t.loc||Re.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=e?zi:Ni,this.isLuxonDuration=!0}t.fromMillis=function(e,i){return t.fromObject({milliseconds:e},i)},t.fromObject=function(e,i){if(void 0===i&&(i={}),null==e||"object"!==typeof e)throw new _("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new t({values:jt(e,t.normalizeUnit),loc:Re.fromObject(i),conversionAccuracy:i.conversionAccuracy})},t.fromDurationLike=function(e){if(Z(e))return t.fromMillis(e);if(t.isDuration(e))return e;if("object"===typeof e)return t.fromObject(e);throw new _("Unknown duration argument "+e+" of type "+typeof e)},t.fromISO=function(e,i){var n=Mi(e),r=n[0];return r?t.fromObject(r,i):t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.fromISOTime=function(e,i){var n=Ii(e),r=n[0];return r?t.fromObject(r,i):t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.invalid=function(e,i){if(void 0===i&&(i=null),!e)throw new _("need to specify a reason the Duration is invalid");var n=e instanceof Wt?e:new Wt(e,i);if(be.throwOnInvalid)throw new w(n);return new t({invalid:n})},t.normalizeUnit=function(t){var e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!e)throw new j(t);return e},t.isDuration=function(t){return t&&t.isLuxonDuration||!1};var e=t.prototype;return e.toFormat=function(t,e){void 0===e&&(e={});var i=s({},e,{floor:!1!==e.round&&!1!==e.floor});return this.isValid?Ht.create(this.loc,i).formatDurationFromString(this,t):Ri},e.toObject=function(){return this.isValid?s({},this.values):{}},e.toISO=function(){if(!this.isValid)return null;var t="P";return 0!==this.years&&(t+=this.years+"Y"),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(t+=dt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t},e.toISOTime=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var e=this.toMillis();if(e<0||e>=864e5)return null;t=s({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t);var i=this.shiftTo("hours","minutes","seconds","milliseconds"),n="basic"===t.format?"hhmm":"hh:mm";t.suppressSeconds&&0===i.seconds&&0===i.milliseconds||(n+="basic"===t.format?"ss":":ss",t.suppressMilliseconds&&0===i.milliseconds||(n+=".SSS"));var r=i.toFormat(n);return t.includePrefix&&(r="T"+r),r},e.toJSON=function(){return this.toISO()},e.toString=function(){return this.toISO()},e.toMillis=function(){return this.as("milliseconds")},e.valueOf=function(){return this.toMillis()},e.plus=function(e){if(!this.isValid)return this;for(var i,n=t.fromDurationLike(e),r={},s=y(Vi);!(i=s()).done;){var o=i.value;(st(n.values,o)||st(this.values,o))&&(r[o]=n.get(o)+this.get(o))}return Gi(this,{values:r},!0)},e.minus=function(e){if(!this.isValid)return this;var i=t.fromDurationLike(e);return this.plus(i.negate())},e.mapUnits=function(t){if(!this.isValid)return this;for(var e={},i=0,n=Object.keys(this.values);i<n.length;i++){var r=n[i];e[r]=Ot(t(this.values[r],r))}return Gi(this,{values:e},!0)},e.get=function(e){return this[t.normalizeUnit(e)]},e.set=function(e){if(!this.isValid)return this;var i=s({},this.values,jt(e,t.normalizeUnit));return Gi(this,{values:i})},e.reconfigure=function(t){var e=void 0===t?{}:t,i=e.locale,n=e.numberingSystem,r=e.conversionAccuracy,s=this.loc.clone({locale:i,numberingSystem:n}),o={loc:s};return r&&(o.conversionAccuracy=r),Gi(this,o)},e.as=function(t){return this.isValid?this.shiftTo(t).get(t):NaN},e.normalize=function(){if(!this.isValid)return this;var t=this.toObject();return Bi(this.matrix,t),Gi(this,{values:t},!0)},e.shiftTo=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(!this.isValid)return this;if(0===i.length)return this;i=i.map((function(e){return t.normalizeUnit(e)}));for(var r,s,o={},a={},c=this.toObject(),l=y(Vi);!(s=l()).done;){var u=s.value;if(i.indexOf(u)>=0){r=u;var h=0;for(var d in a)h+=this.matrix[d][u]*a[d],a[d]=0;Z(c[u])&&(h+=c[u]);var p=Math.trunc(h);for(var f in o[u]=p,a[u]=h-p,c)Vi.indexOf(f)>Vi.indexOf(u)&&qi(this.matrix,c,f,o,u)}else Z(c[u])&&(a[u]=c[u])}for(var b in a)0!==a[b]&&(o[r]+=b===r?a[b]:a[b]/this.matrix[r][b]);return Gi(this,{values:o},!0).normalize()},e.negate=function(){if(!this.isValid)return this;for(var t={},e=0,i=Object.keys(this.values);e<i.length;e++){var n=i[e];t[n]=-this.values[n]}return Gi(this,{values:t},!0)},e.equals=function(t){if(!this.isValid||!t.isValid)return!1;if(!this.loc.equals(t.loc))return!1;function e(t,e){return void 0===t||0===t?void 0===e||0===e:t===e}for(var i,n=y(Vi);!(i=n()).done;){var r=i.value;if(!e(this.values[r],t.values[r]))return!1}return!0},r(t,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(),Wi="Invalid Interval";function Ji(t,e){return t&&t.isValid?e&&e.isValid?e<t?Ki.invalid("end before start","The end of an interval must be after its start, but you had start="+t.toISO()+" and end="+e.toISO()):null:Ki.invalid("missing or invalid end"):Ki.invalid("missing or invalid start")}var Ki=function(){function t(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}t.invalid=function(e,i){if(void 0===i&&(i=null),!e)throw new _("need to specify a reason the Interval is invalid");var n=e instanceof Wt?e:new Wt(e,i);if(be.throwOnInvalid)throw new v(n);return new t({invalid:n})},t.fromDateTimes=function(e,i){var n=dr(e),r=dr(i),s=Ji(n,r);return null==s?new t({start:n,end:r}):s},t.after=function(e,i){var n=Hi.fromDurationLike(i),r=dr(e);return t.fromDateTimes(r,r.plus(n))},t.before=function(e,i){var n=Hi.fromDurationLike(i),r=dr(e);return t.fromDateTimes(r.minus(n),r)},t.fromISO=function(e,i){var n=(e||"").split("/",2),r=n[0],s=n[1];if(r&&s){var o,a,c,l;try{o=hr.fromISO(r,i),a=o.isValid}catch(s){a=!1}try{c=hr.fromISO(s,i),l=c.isValid}catch(s){l=!1}if(a&&l)return t.fromDateTimes(o,c);if(a){var u=Hi.fromISO(s,i);if(u.isValid)return t.after(o,u)}else if(l){var h=Hi.fromISO(r,i);if(h.isValid)return t.before(c,h)}}return t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.isInterval=function(t){return t&&t.isLuxonInterval||!1};var e=t.prototype;return e.length=function(t){return void 0===t&&(t="milliseconds"),this.isValid?this.toDuration.apply(this,[t]).get(t):NaN},e.count=function(t){if(void 0===t&&(t="milliseconds"),!this.isValid)return NaN;var e=this.start.startOf(t),i=this.end.startOf(t);return Math.floor(i.diff(e,t).get(t))+1},e.hasSame=function(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))},e.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},e.isAfter=function(t){return!!this.isValid&&this.s>t},e.isBefore=function(t){return!!this.isValid&&this.e<=t},e.contains=function(t){return!!this.isValid&&(this.s<=t&&this.e>t)},e.set=function(e){var i=void 0===e?{}:e,n=i.start,r=i.end;return this.isValid?t.fromDateTimes(n||this.s,r||this.e):this},e.splitAt=function(){var e=this;if(!this.isValid)return[];for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=n.map(dr).filter((function(t){return e.contains(t)})).sort(),o=[],a=this.s,c=0;while(a<this.e){var l=s[c]||this.e,u=+l>+this.e?this.e:l;o.push(t.fromDateTimes(a,u)),a=u,c+=1}return o},e.splitBy=function(e){var i=Hi.fromDurationLike(e);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];var n,r=this.s,s=1,o=[];while(r<this.e){var a=this.start.plus(i.mapUnits((function(t){return t*s})));n=+a>+this.e?this.e:a,o.push(t.fromDateTimes(r,n)),r=n,s+=1}return o},e.divideEqually=function(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]},e.overlaps=function(t){return this.e>t.s&&this.s<t.e},e.abutsStart=function(t){return!!this.isValid&&+this.e===+t.s},e.abutsEnd=function(t){return!!this.isValid&&+t.e===+this.s},e.engulfs=function(t){return!!this.isValid&&(this.s<=t.s&&this.e>=t.e)},e.equals=function(t){return!(!this.isValid||!t.isValid)&&(this.s.equals(t.s)&&this.e.equals(t.e))},e.intersection=function(e){if(!this.isValid)return this;var i=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return i>=n?null:t.fromDateTimes(i,n)},e.union=function(e){if(!this.isValid)return this;var i=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(i,n)},t.merge=function(t){var e=t.sort((function(t,e){return t.s-e.s})).reduce((function(t,e){var i=t[0],n=t[1];return n?n.overlaps(e)||n.abutsStart(e)?[i,n.union(e)]:[i.concat([n]),e]:[i,e]}),[[],null]),i=e[0],n=e[1];return n&&i.push(n),i},t.xor=function(e){for(var i,n,r=null,s=0,o=[],a=e.map((function(t){return[{time:t.s,type:"s"},{time:t.e,type:"e"}]})),c=(i=Array.prototype).concat.apply(i,a),l=c.sort((function(t,e){return t.time-e.time})),u=y(l);!(n=u()).done;){var h=n.value;s+="s"===h.type?1:-1,1===s?r=h.time:(r&&+r!==+h.time&&o.push(t.fromDateTimes(r,h.time)),r=null)}return t.merge(o)},e.difference=function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.xor([this].concat(n)).map((function(t){return e.intersection(t)})).filter((function(t){return t&&!t.isEmpty()}))},e.toString=function(){return this.isValid?"["+this.s.toISO()+" – "+this.e.toISO()+")":Wi},e.toISO=function(t){return this.isValid?this.s.toISO(t)+"/"+this.e.toISO(t):Wi},e.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Wi},e.toISOTime=function(t){return this.isValid?this.s.toISOTime(t)+"/"+this.e.toISOTime(t):Wi},e.toFormat=function(t,e){var i=void 0===e?{}:e,n=i.separator,r=void 0===n?" – ":n;return this.isValid?""+this.s.toFormat(t)+r+this.e.toFormat(t):Wi},e.toDuration=function(t,e){return this.isValid?this.e.diff(this.s,t,e):Hi.invalid(this.invalidReason)},e.mapEndpoints=function(e){return t.fromDateTimes(e(this.s),e(this.e))},r(t,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(),Yi=function(){function t(){}return t.hasDST=function(t){void 0===t&&(t=be.defaultZone);var e=hr.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset},t.isValidIANAZone=function(t){return re.isValidSpecifier(t)&&re.isValidZone(t)},t.normalizeZone=function(t){return ce(t,be.defaultZone)},t.months=function(t,e){void 0===t&&(t="long");var i=void 0===e?{}:e,n=i.locale,r=void 0===n?null:n,s=i.numberingSystem,o=void 0===s?null:s,a=i.locObj,c=void 0===a?null:a,l=i.outputCalendar,u=void 0===l?"gregory":l;return(c||Re.create(r,o,u)).months(t)},t.monthsFormat=function(t,e){void 0===t&&(t="long");var i=void 0===e?{}:e,n=i.locale,r=void 0===n?null:n,s=i.numberingSystem,o=void 0===s?null:s,a=i.locObj,c=void 0===a?null:a,l=i.outputCalendar,u=void 0===l?"gregory":l;return(c||Re.create(r,o,u)).months(t,!0)},t.weekdays=function(t,e){void 0===t&&(t="long");var i=void 0===e?{}:e,n=i.locale,r=void 0===n?null:n,s=i.numberingSystem,o=void 0===s?null:s,a=i.locObj,c=void 0===a?null:a;return(c||Re.create(r,o,null)).weekdays(t)},t.weekdaysFormat=function(t,e){void 0===t&&(t="long");var i=void 0===e?{}:e,n=i.locale,r=void 0===n?null:n,s=i.numberingSystem,o=void 0===s?null:s,a=i.locObj,c=void 0===a?null:a;return(c||Re.create(r,o,null)).weekdays(t,!0)},t.meridiems=function(t){var e=void 0===t?{}:t,i=e.locale,n=void 0===i?null:i;return Re.create(n).meridiems()},t.eras=function(t,e){void 0===t&&(t="short");var i=void 0===e?{}:e,n=i.locale,r=void 0===n?null:n;return Re.create(r,null,"gregory").eras(t)},t.features=function(){return{relative:et()}},t}();function Zi(t,e){var i=function(t){return t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},n=i(e)-i(t);return Math.floor(Hi.fromMillis(n).as("days"))}function Xi(t,e,i){for(var n,r,s=[["years",function(t,e){return e.year-t.year}],["quarters",function(t,e){return e.quarter-t.quarter}],["months",function(t,e){return e.month-t.month+12*(e.year-t.year)}],["weeks",function(t,e){var i=Zi(t,e);return(i-i%7)/7}],["days",Zi]],o={},a=0,c=s;a<c.length;a++){var l=c[a],u=l[0],h=l[1];if(i.indexOf(u)>=0){var d;n=u;var p,f=h(t,e);if(r=t.plus((d={},d[u]=f,d)),r>e)t=t.plus((p={},p[u]=f-1,p)),f-=1;else t=r;o[u]=f}}return[t,o,r,n]}function Qi(t,e,i,n){var r=Xi(t,e,i),s=r[0],o=r[1],a=r[2],c=r[3],l=e-s,u=i.filter((function(t){return["hours","minutes","seconds","milliseconds"].indexOf(t)>=0}));if(0===u.length){var h;if(a<e)a=s.plus((h={},h[c]=1,h));a!==s&&(o[c]=(o[c]||0)+l/(a-s))}var d,p=Hi.fromObject(o,n);return u.length>0?(d=Hi.fromMillis(l,n)).shiftTo.apply(d,u).plus(p):p}var tn={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},en={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},nn=tn.hanidec.replace(/[\[|\]]/g,"").split("");function rn(t){var e=parseInt(t,10);if(isNaN(e)){e="";for(var i=0;i<t.length;i++){var n=t.charCodeAt(i);if(-1!==t[i].search(tn.hanidec))e+=nn.indexOf(t[i]);else for(var r in en){var s=en[r],o=s[0],a=s[1];n>=o&&n<=a&&(e+=n-o)}}return parseInt(e,10)}return e}function sn(t,e){var i=t.numberingSystem;return void 0===e&&(e=""),new RegExp(""+tn[i||"latn"]+e)}var on="missing Intl.DateTimeFormat.formatToParts support";function an(t,e){return void 0===e&&(e=function(t){return t}),{regex:t,deser:function(t){var i=t[0];return e(rn(i))}}}var cn=String.fromCharCode(160),ln="( |"+cn+")",un=new RegExp(ln,"g");function hn(t){return t.replace(/\./g,"\\.?").replace(un,ln)}function dn(t){return t.replace(/\./g,"").replace(un," ").toLowerCase()}function pn(t,e){return null===t?null:{regex:RegExp(t.map(hn).join("|")),deser:function(i){var n=i[0];return t.findIndex((function(t){return dn(n)===dn(t)}))+e}}}function fn(t,e){return{regex:t,deser:function(t){var e=t[1],i=t[2];return wt(e,i)},groups:e}}function bn(t){return{regex:t,deser:function(t){var e=t[0];return e}}}function yn(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mn(t,e){var i=sn(e),n=sn(e,"{2}"),r=sn(e,"{3}"),s=sn(e,"{4}"),o=sn(e,"{6}"),a=sn(e,"{1,2}"),c=sn(e,"{1,3}"),l=sn(e,"{1,6}"),u=sn(e,"{1,9}"),h=sn(e,"{2,4}"),d=sn(e,"{4,6}"),p=function(t){return{regex:RegExp(yn(t.val)),deser:function(t){var e=t[0];return e},literal:!0}},f=function(f){if(t.literal)return p(f);switch(f.val){case"G":return pn(e.eras("short",!1),0);case"GG":return pn(e.eras("long",!1),0);case"y":return an(l);case"yy":return an(h,gt);case"yyyy":return an(s);case"yyyyy":return an(d);case"yyyyyy":return an(o);case"M":return an(a);case"MM":return an(n);case"MMM":return pn(e.months("short",!0,!1),1);case"MMMM":return pn(e.months("long",!0,!1),1);case"L":return an(a);case"LL":return an(n);case"LLL":return pn(e.months("short",!1,!1),1);case"LLLL":return pn(e.months("long",!1,!1),1);case"d":return an(a);case"dd":return an(n);case"o":return an(c);case"ooo":return an(r);case"HH":return an(n);case"H":return an(a);case"hh":return an(n);case"h":return an(a);case"mm":return an(n);case"m":return an(a);case"q":return an(a);case"qq":return an(n);case"s":return an(a);case"ss":return an(n);case"S":return an(c);case"SSS":return an(r);case"u":return bn(u);case"uu":return bn(a);case"uuu":return an(i);case"a":return pn(e.meridiems(),0);case"kkkk":return an(s);case"kk":return an(h,gt);case"W":return an(a);case"WW":return an(n);case"E":case"c":return an(i);case"EEE":return pn(e.weekdays("short",!1,!1),1);case"EEEE":return pn(e.weekdays("long",!1,!1),1);case"ccc":return pn(e.weekdays("short",!0,!1),1);case"cccc":return pn(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return fn(new RegExp("([+-]"+a.source+")(?::("+n.source+"))?"),2);case"ZZZ":return fn(new RegExp("([+-]"+a.source+")("+n.source+")?"),2);case"z":return bn(/[a-z_+-/]{1,256}?/i);default:return p(f)}},b=f(t)||{invalidReason:on};return b.token=t,b}var gn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function vn(t,e,i){var n=t.type,r=t.value;if("literal"===n)return{literal:!0,val:r};var s=i[n],o=gn[n];return"object"===typeof o&&(o=o[s]),o?{literal:!1,val:o}:void 0}function wn(t){var e=t.map((function(t){return t.regex})).reduce((function(t,e){return t+"("+e.source+")"}),"");return["^"+e+"$",t]}function On(t,e,i){var n=t.match(e);if(n){var r={},s=1;for(var o in i)if(st(i,o)){var a=i[o],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(n.slice(s,s+c))),s+=c}return[n,r]}return[n,{}]}function jn(t){var e,i=function(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};e=Y(t.Z)?Y(t.z)?null:re.create(t.z):new oe(t.Z),Y(t.q)||(t.M=3*(t.q-1)+1),Y(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),Y(t.u)||(t.S=ht(t.u));var n=Object.keys(t).reduce((function(e,n){var r=i(n);return r&&(e[r]=t[n]),e}),{});return[n,e]}var _n=null;function xn(){return _n||(_n=hr.fromMillis(1555555555555)),_n}function Sn(t,e){if(t.literal)return t;var i=Ht.macroTokenToFormatOpts(t.val);if(!i)return t;var n=Ht.create(e,i),r=n.formatDateTimeParts(xn()),s=r.map((function(t){return vn(t,e,i)}));return s.includes(void 0)?t:s}function Mn(t,e){var i;return(i=Array.prototype).concat.apply(i,t.map((function(t){return Sn(t,e)})))}function kn(t,e,i){var n=Mn(Ht.parseFormat(i),t),r=n.map((function(e){return mn(e,t)})),s=r.find((function(t){return t.invalidReason}));if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};var o=wn(r),a=o[0],c=o[1],l=RegExp(a,"i"),u=On(e,l,c),h=u[0],d=u[1],p=d?jn(d):[null,null],f=p[0],b=p[1];if(st(d,"a")&&st(d,"H"))throw new O("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:h,matches:d,result:f,zone:b}}function In(t,e,i){var n=kn(t,e,i),r=n.result,s=n.zone,o=n.invalidReason;return[r,s,o]}var Tn=[0,31,59,90,120,151,181,212,243,273,304,334],En=[0,31,60,91,121,152,182,213,244,274,305,335];function An(t,e){return new Wt("unit out of range","you specified "+e+" (of type "+typeof e+") as a "+t+", which is invalid")}function Cn(t,e,i){var n=new Date(Date.UTC(t,e-1,i)).getUTCDay();return 0===n?7:n}function Pn(t,e,i){return i+(pt(t)?En:Tn)[e-1]}function Rn(t,e){var i=pt(t)?En:Tn,n=i.findIndex((function(t){return t<e})),r=e-i[n];return{month:n+1,day:r}}function Ln(t){var e,i=t.year,n=t.month,r=t.day,o=Pn(i,n,r),a=Cn(i,n,r),c=Math.floor((o-a+10)/7);return c<1?(e=i-1,c=mt(e)):c>mt(i)?(e=i+1,c=1):e=i,s({weekYear:e,weekNumber:c,weekday:a},xt(t))}function Nn(t){var e,i=t.weekYear,n=t.weekNumber,r=t.weekday,o=Cn(i,1,4),a=ft(i),c=7*n+r-o-3;c<1?(e=i-1,c+=ft(e)):c>a?(e=i+1,c-=ft(i)):e=i;var l=Rn(e,c),u=l.month,h=l.day;return s({year:e,month:u,day:h},xt(t))}function Fn(t){var e=t.year,i=t.month,n=t.day,r=Pn(e,i,n);return s({year:e,ordinal:r},xt(t))}function Dn(t){var e=t.year,i=t.ordinal,n=Rn(e,i),r=n.month,o=n.day;return s({year:e,month:r,day:o},xt(t))}function zn(t){var e=X(t.weekYear),i=ot(t.weekNumber,1,mt(t.weekYear)),n=ot(t.weekday,1,7);return e?i?!n&&An("weekday",t.weekday):An("week",t.week):An("weekYear",t.weekYear)}function Vn(t){var e=X(t.year),i=ot(t.ordinal,1,ft(t.year));return e?!i&&An("ordinal",t.ordinal):An("year",t.year)}function $n(t){var e=X(t.year),i=ot(t.month,1,12),n=ot(t.day,1,bt(t.year,t.month));return e?i?!n&&An("day",t.day):An("month",t.month):An("year",t.year)}function Gn(t){var e=t.hour,i=t.minute,n=t.second,r=t.millisecond,s=ot(e,0,23)||24===e&&0===i&&0===n&&0===r,o=ot(i,0,59),a=ot(n,0,59),c=ot(r,0,999);return s?o?a?!c&&An("millisecond",r):An("second",n):An("minute",i):An("hour",e)}var Un="Invalid DateTime",qn=864e13;function Bn(t){return new Wt("unsupported zone",'the zone "'+t.name+'" is not supported')}function Hn(t){return null===t.weekData&&(t.weekData=Ln(t.c)),t.weekData}function Wn(t,e){var i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new hr(s({},i,e,{old:i}))}function Jn(t,e,i){var n=t-60*e*1e3,r=i.offset(n);if(e===r)return[n,e];n-=60*(r-e)*1e3;var s=i.offset(n);return r===s?[n,r]:[t-60*Math.min(r,s)*1e3,Math.max(r,s)]}function Kn(t,e){t+=60*e*1e3;var i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Yn(t,e,i){return Jn(yt(t),e,i)}function Zn(t,e){var i=t.o,n=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),o=s({},t.c,{year:n,month:r,day:Math.min(t.c.day,bt(n,r))+Math.trunc(e.days)+7*Math.trunc(e.weeks)}),a=Hi.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=yt(o),l=Jn(c,i,t.zone),u=l[0],h=l[1];return 0!==a&&(u+=a,h=t.zone.offset(u)),{ts:u,o:h}}function Xn(t,e,i,n,r){var o=i.setZone,a=i.zone;if(t&&0!==Object.keys(t).length){var c=e||a,l=hr.fromObject(t,s({},i,{zone:c}));return o?l:l.setZone(a)}return hr.invalid(new Wt("unparsable",'the input "'+r+"\" can't be parsed as "+n))}function Qn(t,e,i){return void 0===i&&(i=!0),t.isValid?Ht.create(Re.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function tr(t,e){var i=e.suppressSeconds,n=void 0!==i&&i,r=e.suppressMilliseconds,s=void 0!==r&&r,o=e.includeOffset,a=e.includePrefix,c=void 0!==a&&a,l=e.includeZone,u=void 0!==l&&l,h=e.spaceZone,d=void 0!==h&&h,p=e.format,f=void 0===p?"extended":p,b="basic"===f?"HHmm":"HH:mm";n&&0===t.second&&0===t.millisecond||(b+="basic"===f?"ss":":ss",s&&0===t.millisecond||(b+=".SSS")),(u||o)&&d&&(b+=" "),u?b+="z":o&&(b+="basic"===f?"ZZZ":"ZZ");var y=Qn(t,b);return c&&(y="T"+y),y}var er={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ir={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},nr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},rr=["year","month","day","hour","minute","second","millisecond"],sr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],or=["year","ordinal","hour","minute","second","millisecond"];function ar(t){var e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new j(t);return e}function cr(t,e){var i,n,r=ce(e.zone,be.defaultZone),s=Re.fromObject(e),o=be.now();if(Y(t.year))i=o;else{for(var a,c=y(rr);!(a=c()).done;){var l=a.value;Y(t[l])&&(t[l]=er[l])}var u=$n(t)||Gn(t);if(u)return hr.invalid(u);var h=r.offset(o),d=Yn(t,h,r);i=d[0],n=d[1]}return new hr({ts:i,zone:r,loc:s,o:n})}function lr(t,e,i){var n=!!Y(i.round)||i.round,r=function(t,r){t=dt(t,n||i.calendary?0:2,!0);var s=e.loc.clone(i).relFormatter(i);return s.format(t,r)},s=function(n){return i.calendary?e.hasSame(t,n)?0:e.startOf(n).diff(t.startOf(n),n).get(n):e.diff(t,n).get(n)};if(i.unit)return r(s(i.unit),i.unit);for(var o,a=y(i.units);!(o=a()).done;){var c=o.value,l=s(c);if(Math.abs(l)>=1)return r(l,c)}return r(t>e?-0:0,i.units[i.units.length-1])}function ur(t){var e,i={};return t.length>0&&"object"===typeof t[t.length-1]?(i=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[i,e]}var hr=function(){function t(t){var e=t.zone||be.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new Wt("invalid input"):null)||(e.isValid?null:Bn(e));this.ts=Y(t.ts)?be.now():t.ts;var n=null,r=null;if(!i){var s=t.old&&t.old.ts===this.ts&&t.old.zone.equals(e);if(s){var o=[t.old.c,t.old.o];n=o[0],r=o[1]}else{var a=e.offset(this.ts);n=Kn(this.ts,a),i=Number.isNaN(n.year)?new Wt("invalid input"):null,n=i?null:n,r=i?null:a}}this._zone=e,this.loc=t.loc||Re.create(),this.invalid=i,this.weekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}t.now=function(){return new t({})},t.local=function(){var t=ur(arguments),e=t[0],i=t[1],n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],c=i[5],l=i[6];return cr({year:n,month:r,day:s,hour:o,minute:a,second:c,millisecond:l},e)},t.utc=function(){var t=ur(arguments),e=t[0],i=t[1],n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],c=i[5],l=i[6];return e.zone=oe.utcInstance,cr({year:n,month:r,day:s,hour:o,minute:a,second:c,millisecond:l},e)},t.fromJSDate=function(e,i){void 0===i&&(i={});var n=tt(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");var r=ce(i.zone,be.defaultZone);return r.isValid?new t({ts:n,zone:r,loc:Re.fromObject(i)}):t.invalid(Bn(r))},t.fromMillis=function(e,i){if(void 0===i&&(i={}),Z(e))return e<-qn||e>qn?t.invalid("Timestamp out of range"):new t({ts:e,zone:ce(i.zone,be.defaultZone),loc:Re.fromObject(i)});throw new _("fromMillis requires a numerical input, but received a "+typeof e+" with value "+e)},t.fromSeconds=function(e,i){if(void 0===i&&(i={}),Z(e))return new t({ts:1e3*e,zone:ce(i.zone,be.defaultZone),loc:Re.fromObject(i)});throw new _("fromSeconds requires a numerical input")},t.fromObject=function(e,i){void 0===i&&(i={}),e=e||{};var n=ce(i.zone,be.defaultZone);if(!n.isValid)return t.invalid(Bn(n));var r=be.now(),s=n.offset(r),o=jt(e,ar),a=!Y(o.ordinal),c=!Y(o.year),l=!Y(o.month)||!Y(o.day),u=c||l,h=o.weekYear||o.weekNumber,d=Re.fromObject(i);if((u||a)&&h)throw new O("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new O("Can't mix ordinal dates with month/day");var p,f,b=h||o.weekday&&!u,m=Kn(r,s);b?(p=sr,f=ir,m=Ln(m)):a?(p=or,f=nr,m=Fn(m)):(p=rr,f=er);for(var g,v=!1,w=y(p);!(g=w()).done;){var j=g.value,_=o[j];Y(_)?o[j]=v?f[j]:m[j]:v=!0}var x=b?zn(o):a?Vn(o):$n(o),S=x||Gn(o);if(S)return t.invalid(S);var M=b?Nn(o):a?Dn(o):o,k=Yn(M,s,n),I=k[0],T=k[1],E=new t({ts:I,zone:n,o:T,loc:d});return o.weekday&&u&&e.weekday!==E.weekday?t.invalid("mismatched weekday","you can't specify both a weekday of "+o.weekday+" and a date of "+E.toISO()):E},t.fromISO=function(t,e){void 0===e&&(e={});var i=_i(t),n=i[0],r=i[1];return Xn(n,r,e,"ISO 8601",t)},t.fromRFC2822=function(t,e){void 0===e&&(e={});var i=xi(t),n=i[0],r=i[1];return Xn(n,r,e,"RFC 2822",t)},t.fromHTTP=function(t,e){void 0===e&&(e={});var i=Si(t),n=i[0],r=i[1];return Xn(n,r,e,"HTTP",e)},t.fromFormat=function(e,i,n){if(void 0===n&&(n={}),Y(e)||Y(i))throw new _("fromFormat requires an input string and a format");var r=n,s=r.locale,o=void 0===s?null:s,a=r.numberingSystem,c=void 0===a?null:a,l=Re.fromOpts({locale:o,numberingSystem:c,defaultToEN:!0}),u=In(l,e,i),h=u[0],d=u[1],p=u[2];return p?t.invalid(p):Xn(h,d,n,"format "+i,e)},t.fromString=function(e,i,n){return void 0===n&&(n={}),t.fromFormat(e,i,n)},t.fromSQL=function(t,e){void 0===e&&(e={});var i=Pi(t),n=i[0],r=i[1];return Xn(n,r,e,"SQL",t)},t.invalid=function(e,i){if(void 0===i&&(i=null),!e)throw new _("need to specify a reason the DateTime is invalid");var n=e instanceof Wt?e:new Wt(e,i);if(be.throwOnInvalid)throw new g(n);return new t({invalid:n})},t.isDateTime=function(t){return t&&t.isLuxonDateTime||!1};var e=t.prototype;return e.get=function(t){return this[t]},e.resolvedLocaleOptions=function(t){void 0===t&&(t={});var e=Ht.create(this.loc.clone(t),t).resolvedOptions(this),i=e.locale,n=e.numberingSystem,r=e.calendar;return{locale:i,numberingSystem:n,outputCalendar:r}},e.toUTC=function(t,e){return void 0===t&&(t=0),void 0===e&&(e={}),this.setZone(oe.instance(t),e)},e.toLocal=function(){return this.setZone(be.defaultZone)},e.setZone=function(e,i){var n=void 0===i?{}:i,r=n.keepLocalTime,s=void 0!==r&&r,o=n.keepCalendarTime,a=void 0!==o&&o;if(e=ce(e,be.defaultZone),e.equals(this.zone))return this;if(e.isValid){var c=this.ts;if(s||a){var l=e.offset(this.ts),u=this.toObject(),h=Yn(u,l,e);c=h[0]}return Wn(this,{ts:c,zone:e})}return t.invalid(Bn(e))},e.reconfigure=function(t){var e=void 0===t?{}:t,i=e.locale,n=e.numberingSystem,r=e.outputCalendar,s=this.loc.clone({locale:i,numberingSystem:n,outputCalendar:r});return Wn(this,{loc:s})},e.setLocale=function(t){return this.reconfigure({locale:t})},e.set=function(t){if(!this.isValid)return this;var e,i=jt(t,ar),n=!Y(i.weekYear)||!Y(i.weekNumber)||!Y(i.weekday),r=!Y(i.ordinal),o=!Y(i.year),a=!Y(i.month)||!Y(i.day),c=o||a,l=i.weekYear||i.weekNumber;if((c||r)&&l)throw new O("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&r)throw new O("Can't mix ordinal dates with month/day");n?e=Nn(s({},Ln(this.c),i)):Y(i.ordinal)?(e=s({},this.toObject(),i),Y(i.day)&&(e.day=Math.min(bt(e.year,e.month),e.day))):e=Dn(s({},Fn(this.c),i));var u=Yn(e,this.o,this.zone),h=u[0],d=u[1];return Wn(this,{ts:h,o:d})},e.plus=function(t){if(!this.isValid)return this;var e=Hi.fromDurationLike(t);return Wn(this,Zn(this,e))},e.minus=function(t){if(!this.isValid)return this;var e=Hi.fromDurationLike(t).negate();return Wn(this,Zn(this,e))},e.startOf=function(t){if(!this.isValid)return this;var e={},i=Hi.normalizeUnit(t);switch(i){case"years":e.month=1;case"quarters":case"months":e.day=1;case"weeks":case"days":e.hour=0;case"hours":e.minute=0;case"minutes":e.second=0;case"seconds":e.millisecond=0;break}if("weeks"===i&&(e.weekday=1),"quarters"===i){var n=Math.ceil(this.month/3);e.month=3*(n-1)+1}return this.set(e)},e.endOf=function(t){var e;return this.isValid?this.plus((e={},e[t]=1,e)).startOf(t).minus(1):this},e.toFormat=function(t,e){return void 0===e&&(e={}),this.isValid?Ht.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Un},e.toLocaleString=function(t,e){return void 0===t&&(t=I),void 0===e&&(e={}),this.isValid?Ht.create(this.loc.clone(e),t).formatDateTime(this):Un},e.toLocaleParts=function(t){return void 0===t&&(t={}),this.isValid?Ht.create(this.loc.clone(t),t).formatDateTimeParts(this):[]},e.toISO=function(t){return void 0===t&&(t={}),this.isValid?this.toISODate(t)+"T"+this.toISOTime(t):null},e.toISODate=function(t){var e=void 0===t?{}:t,i=e.format,n=void 0===i?"extended":i,r="basic"===n?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(r="+"+r),Qn(this,r)},e.toISOWeekDate=function(){return Qn(this,"kkkk-'W'WW-c")},e.toISOTime=function(t){var e=void 0===t?{}:t,i=e.suppressMilliseconds,n=void 0!==i&&i,r=e.suppressSeconds,s=void 0!==r&&r,o=e.includeOffset,a=void 0===o||o,c=e.includePrefix,l=void 0!==c&&c,u=e.format,h=void 0===u?"extended":u;return tr(this,{suppressSeconds:s,suppressMilliseconds:n,includeOffset:a,includePrefix:l,format:h})},e.toRFC2822=function(){return Qn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},e.toHTTP=function(){return Qn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},e.toSQLDate=function(){return Qn(this,"yyyy-MM-dd")},e.toSQLTime=function(t){var e=void 0===t?{}:t,i=e.includeOffset,n=void 0===i||i,r=e.includeZone,s=void 0!==r&&r;return tr(this,{includeOffset:n,includeZone:s,spaceZone:!0})},e.toSQL=function(t){return void 0===t&&(t={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(t):null},e.toString=function(){return this.isValid?this.toISO():Un},e.valueOf=function(){return this.toMillis()},e.toMillis=function(){return this.isValid?this.ts:NaN},e.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},e.toJSON=function(){return this.toISO()},e.toBSON=function(){return this.toJSDate()},e.toObject=function(t){if(void 0===t&&(t={}),!this.isValid)return{};var e=s({},this.c);return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e},e.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},e.diff=function(t,e,i){if(void 0===e&&(e="milliseconds"),void 0===i&&(i={}),!this.isValid||!t.isValid)return Hi.invalid("created by diffing an invalid DateTime");var n=s({locale:this.locale,numberingSystem:this.numberingSystem},i),r=it(e).map(Hi.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,c=o?t:this,l=Qi(a,c,r,n);return o?l.negate():l},e.diffNow=function(e,i){return void 0===e&&(e="milliseconds"),void 0===i&&(i={}),this.diff(t.now(),e,i)},e.until=function(t){return this.isValid?Ki.fromDateTimes(this,t):this},e.hasSame=function(t,e){if(!this.isValid)return!1;var i=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(e)<=i&&i<=n.endOf(e)},e.equals=function(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)},e.toRelative=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var i=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<i?-e.padding:e.padding:0,r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),lr(i,this.plus(n),s({},e,{numeric:"always",units:r,unit:o}))},e.toRelativeCalendar=function(e){return void 0===e&&(e={}),this.isValid?lr(e.base||t.fromObject({},{zone:this.zone}),this,s({},e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},t.min=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(!i.every(t.isDateTime))throw new _("min requires all arguments be DateTimes");return nt(i,(function(t){return t.valueOf()}),Math.min)},t.max=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(!i.every(t.isDateTime))throw new _("max requires all arguments be DateTimes");return nt(i,(function(t){return t.valueOf()}),Math.max)},t.fromFormatExplain=function(t,e,i){void 0===i&&(i={});var n=i,r=n.locale,s=void 0===r?null:r,o=n.numberingSystem,a=void 0===o?null:o,c=Re.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});return kn(c,t,e)},t.fromStringExplain=function(e,i,n){return void 0===n&&(n={}),t.fromFormatExplain(e,i,n)},r(t,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Hn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Hn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Hn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Fn(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Yi.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Yi.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Yi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Yi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return pt(this.year)}},{key:"daysInMonth",get:function(){return bt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?ft(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?mt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return I}},{key:"DATE_MED",get:function(){return T}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return E}},{key:"DATE_FULL",get:function(){return A}},{key:"DATE_HUGE",get:function(){return C}},{key:"TIME_SIMPLE",get:function(){return P}},{key:"TIME_WITH_SECONDS",get:function(){return R}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return L}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return N}},{key:"TIME_24_SIMPLE",get:function(){return F}},{key:"TIME_24_WITH_SECONDS",get:function(){return D}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return z}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return V}},{key:"DATETIME_SHORT",get:function(){return $}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return G}},{key:"DATETIME_MED",get:function(){return U}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return q}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return B}},{key:"DATETIME_FULL",get:function(){return H}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return W}},{key:"DATETIME_HUGE",get:function(){return J}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return K}}]),t}();function dr(t){if(hr.isDateTime(t))return t;if(t&&t.valueOf&&Z(t.valueOf()))return hr.fromJSDate(t);if(t&&"object"===typeof t)return hr.fromObject(t);throw new _("Unknown datetime argument: "+t+", of type "+typeof t)}var pr="2.1.1";e.DateTime=hr,e.Duration=Hi,e.FixedOffsetZone=oe,e.IANAZone=re,e.Info=Yi,e.Interval=Ki,e.InvalidZone=ae,e.Settings=be,e.SystemZone=Yt,e.VERSION=pr,e.Zone=Jt},1325:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("c120");var n,r=i("9d1d");const s={apiKey:void 0,applicationUrl:null==(n=globalThis.location)?void 0:n.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Object(r["a"])(s,globalThis.esriConfig,!0),delete s.has),!s.assetsPath){const t="4.22.2";s.assetsPath=`https://js.arcgis.com/${t.slice(0,-2)}/@arcgis/core/assets`}s.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(s,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),s.request.corsEnabledServers=[],s.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}},1452:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n=i("a4ee"),r=i("4adc"),s=(i("b50f"),i("c120"),i("cea0"),i("59b2")),o=i("d386"),a=i("121a"),c=(i("702a"),i("755e")),l=(i("e92d"),i("d822")),u=i("8750");const h={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let d=class extends a["a"]{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const t=this.enabled?0:-1,e={[h.disabled]:!this.enabled,[h.interactive]:this.enabled},i={[this.iconClass]:!!this.iconClass};return Object(l["a"])("div",{bind:this,class:this.classes(h.button,e),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},Object(l["a"])("span",{"aria-hidden":"true",role:"presentation",class:this.classes(h.icon,i)}),Object(l["a"])("span",{class:h.iconText},this.title))}_triggerAction(){this.action.call(this)}};Object(n["a"])([Object(s["b"])()],d.prototype,"action",void 0),Object(n["a"])([Object(s["b"])()],d.prototype,"enabled",void 0),Object(n["a"])([Object(s["b"])()],d.prototype,"iconClass",void 0),Object(n["a"])([Object(s["b"])()],d.prototype,"title",void 0),Object(n["a"])([Object(u["a"])()],d.prototype,"_triggerAction",null),d=Object(n["a"])([Object(o["a"])("esri.widgets.IconButton")],d);const p=d;var f=i("fc29"),b=i("f4cc");let y=class extends f["a"]{get canZoomIn(){if(!this.get("view.ready"))return!1;const t=this.get("view.animation.target.scale")||this.get("view.scale"),e=this.get("view.constraints.effectiveMaxScale");return 0===e||t>e}get canZoomOut(){if(!this.get("view.ready"))return!1;const t=this.get("view.animation.target.scale")||this.get("view.scale"),e=this.get("view.constraints.effectiveMinScale");return 0===e||t<e}};Object(n["a"])([Object(s["b"])({readOnly:!0})],y.prototype,"canZoomIn",null),Object(n["a"])([Object(s["b"])({readOnly:!0})],y.prototype,"canZoomOut",null),Object(n["a"])([Object(s["b"])()],y.prototype,"view",void 0),y=Object(n["a"])([Object(o["a"])("esri.widgets.Zoom.ZoomConditions2D")],y);const m=y;let g=class extends f["a"]{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};Object(n["a"])([Object(s["b"])({readOnly:!0})],g.prototype,"canZoomIn",null),Object(n["a"])([Object(s["b"])({readOnly:!0})],g.prototype,"canZoomOut",null),Object(n["a"])([Object(s["b"])()],g.prototype,"view",void 0),g=Object(n["a"])([Object(o["a"])("esri.widgets.Zoom.ZoomConditions3D")],g);const v=g;let w=class extends f["a"]{constructor(t){super(t),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(t){t?"2d"===t.type?this._zoomConditions=new m({view:t}):"3d"===t.type&&(this._zoomConditions=new v({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){if(!this.canZoomIn)return;const t=this.view;"2d"===t.type?t.mapViewNavigation.zoomIn():Object(b["k"])(t.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const t=this.view;"2d"===t.type?t.mapViewNavigation.zoomOut():Object(b["k"])(t.goTo({zoomFactor:.5}))}};Object(n["a"])([Object(s["b"])()],w.prototype,"_zoomConditions",void 0),Object(n["a"])([Object(s["b"])({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],w.prototype,"canZoomIn",void 0),Object(n["a"])([Object(s["b"])({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],w.prototype,"canZoomOut",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],w.prototype,"state",null),Object(n["a"])([Object(s["b"])()],w.prototype,"view",null),w=Object(n["a"])([Object(o["a"])("esri.widgets.Zoom.ZoomViewModel")],w);const O=w,j={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let _=class extends a["a"]{constructor(t,e){super(t,e),this.iconClass=j.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new O}initialize(){this._zoomInButton=new p({action:this.zoomIn.bind(this),iconClass:j.zoomInIcon}),this._zoomOutButton=new p({action:this.zoomOut.bind(this),iconClass:j.zoomOutIcon})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(t){"horizontal"!==t&&(t="vertical"),this._set("layout",t)}render(){const t=this.viewModel,e={[j.horizontalLayout]:"horizontal"===this.layout};return this._zoomInButton.enabled="ready"===t.state&&t.canZoomIn,this._zoomOutButton.enabled="ready"===t.state&&t.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,Object(l["a"])("div",{class:this.classes(j.base,e)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};Object(n["a"])([Object(s["b"])()],_.prototype,"iconClass",void 0),Object(n["a"])([Object(s["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],_.prototype,"label",void 0),Object(n["a"])([Object(s["b"])({value:"vertical"})],_.prototype,"layout",null),Object(n["a"])([Object(s["b"])(),Object(c["a"])("esri/widgets/Zoom/t9n/Zoom")],_.prototype,"messages",void 0),Object(n["a"])([Object(r["a"])("viewModel.view")],_.prototype,"view",void 0),Object(n["a"])([Object(s["b"])({type:O})],_.prototype,"viewModel",void 0),_=Object(n["a"])([Object(o["a"])("esri.widgets.Zoom")],_);const x=_},"14c3":function(t,e,i){var n=i("da84"),r=i("c65b"),s=i("825a"),o=i("1626"),a=i("c6b6"),c=i("9263"),l=n.TypeError;t.exports=function(t,e){var i=t.exec;if(o(i)){var n=r(i,t,e);return null!==n&&s(n),n}if("RegExp"===a(t))return r(c,t,e);throw l("RegExp#exec called on incompatible receiver")}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),s=i("785a"),o=i("17c2"),a=i("9112"),c=function(t){if(t&&t.forEach!==o)try{a(t,"forEach",o)}catch(e){t.forEach=o}};for(var l in r)r[l]&&c(n[l]&&n[l].prototype);c(s)},"15ec":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("e041"),r=i("0224");function s(t){return{origin:"portal-item",url:Object(n["K"])(t.itemUrl),portal:t.portal||r["a"].getDefault(),portalItem:t,readResourcePaths:[]}}},1626:function(t,e){t.exports=function(t){return"function"==typeof t}},1637:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"name",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"title",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"expression",void 0),Object(r["a"])([Object(o["b"])({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.popup.ExpressionInfo")],c);const l=c},"169c":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fa8a"),r=i("a9ab");const s=new n["a"]({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function o(t){const{geometries:e,deviationUnit:i,maxDeviation:n}=t.toJSON(),o={maxDeviation:n};return e&&e.length&&(o.geometries=JSON.stringify({geometryType:Object(r["c"])(e[0]),geometries:e}),o.sr=JSON.stringify(e[0].spatialReference)),s.write(i,o,"deviationUnit"),o}},"16e0":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=i("9ef0"),o=i("7ffa"),a=i("59b2"),c=i("cea0"),l=i("448d"),u=i("d386"),h=i("961d");let d=n=class extends h["a"]{constructor(t){super(t),this.color=p.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new n({color:Object(o["a"])(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};Object(r["a"])([Object(a["b"])({type:s["a"],nonNullable:!0,json:{type:[c["a"]],write:(t,e,i)=>e[i]=t.toArray(1),default:()=>p.clone(),defaultEquals:t=>t.toCss(!0)===p.toCss(!0)}})],d.prototype,"color",void 0),Object(r["a"])([Object(l["a"])({Water:"water"},{readOnly:!0})],d.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:["small","medium","large"],json:{write:!0,default:"medium"}})],d.prototype,"waterbodySize",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0,default:null}})],d.prototype,"waveDirection",void 0),Object(r["a"])([Object(a["b"])({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],d.prototype,"waveStrength",void 0),d=n=Object(r["a"])([Object(u["a"])("esri.symbols.WaterSymbol3DLayer")],d);const p=new s["a"]([0,119,190]),f=d},1729:function(t,e,i){"use strict";function n(t){return{setTimeout:(e,i)=>{const n=t.setTimeout(e,i);return{remove:()=>t.clearTimeout(n)}}}}i.d(e,"a",(function(){return r}));const r=n(globalThis)},"173c":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return rt}));var n=i("a4ee"),r=i("2eab"),s=i("ce50"),o=i("7ffa"),a=i("e694"),c=i("f4cc"),l=i("e041"),u=i("59b2"),h=(i("cea0"),i("afcf")),d=i("d386"),p=i("09db"),f=i("3af1"),b=i("5996"),y=i("a6a3"),m=i("f46e"),g=i("b485"),v=i("3d59"),w=i("997b"),O=i("8b28"),j=i("b911"),_=i("0db5"),x=i("5a62");let S=null;function M(t){if(S)return S;const e={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return S=new Promise(i=>{const n=new Image;n.onload=()=>{n.onload=n.onerror=null,i(n.width>0&&n.height>0)},n.onerror=()=>{n.onload=n.onerror=null,i(!1)},n.src="data:image/webp;base64,"+e[t]}),S}var k=i("e92d");const I=k["a"].getLogger("esri.layers.support.SpriteSource"),T=1.15;class E{constructor(t,e,i,n){this.baseURL=t,this.devicePixelRatio=e,this.maxTextureSize=i,this._spriteImageFormat=n,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded"}get spriteNames(){const t=[];for(const e in this._spritesData)t.push(e);return t.sort(),t}getSpriteInfo(t){return this._spritesData[t]}async load(t){if(this.baseURL){this.loadStatus="loading";try{await this._loadSprites(t),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"}_loadSprites(t){this._isRetina=this.devicePixelRatio>T;const e=Object(l["K"])(this.baseURL),i=e.query?"?"+Object(l["E"])(e.query):"",n=this._isRetina?"@2x":"",o=`${e.path}${n}.${this._spriteImageFormat}${i}`,a=`${e.path}${n}.json${i}`;return Promise.all([Object(r["default"])(a,t),Object(r["default"])(o,{responseType:"image",...t})]).then(([t,i])=>{const n=Object.keys(t.data);if(!n||0===n.length||1===n.length&&"_ssl"===n[0]||!i||!i.data)return this._spritesData=this.image=null,this.width=this.height=0,Promise.resolve(null);this._spritesData=t.data;const r=i.data,o=Math.max(this.maxTextureSize,4096);if(r.width>o||r.height>o){const t=`Sprite resource for style ${e.path} is bigger than the maximum allowed of ${o} pixels}`;throw I.error(t),new s["a"]("SpriteSource",t)}this.width=r.width,this.height=r.height;const a=document.createElement("canvas"),c=a.getContext("2d");a.width=r.width,a.height=r.height,c.drawImage(r,0,0,r.width,r.height);const l=c.getImageData(0,0,r.width,r.height),u=new Uint8Array(l.data);let h;for(let e=0;e<u.length;e+=4)h=u[e+3]/255,u[e]=u[e]*h,u[e+1]=u[e+1]*h,u[e+2]=u[e+2]*h;this.image=u})}}var A=i("dff3"),C=i("1325"),P=i("ab68"),R=i("9651"),L=i("ae54");class N{constructor(t){this.url=t}async fetchTileIndex(){return this._tileIndexPromise||(this._tileIndexPromise=Object(r["default"])(this.url).then(t=>t.data.index)),this._tileIndexPromise}async dataKey(t,e){const i=await this.fetchTileIndex();return Object(c["u"])(e),this._getIndexedDataKey(i,t)}_getIndexedDataKey(t,e){const i=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return null;let n=e;for(;0!==n.level;)n=new L["a"](n.level-1,n.row>>1,n.col>>1,n.world),i.push(n);let r,s,o=t,a=i.pop();if(1===o)return a;for(;i.length;)if(r=i.pop(),s=(1&r.col)+((1&r.row)<<1),o){if(0===o[s]){a=null;break}if(1===o[s]){a=r;break}a=r,o=o[s]}return a}}class F{constructor(t,e){this._tilemap=t,this._tileIndexUrl=e}async fetchTileIndex(t){return this._tileIndexPromise||(this._tileIndexPromise=Object(r["default"])(this._tileIndexUrl,{query:{...null==t?void 0:t.query}}).then(t=>t.data.index)),this._tileIndexPromise}dataKey(t,e){const{level:i,row:n,col:r}=t,s=new L["a"](t);return this._tilemap.fetchAvailabilityUpsample(i,n,r,s,e).then(()=>(s.world=t.world,s)).catch(t=>{if(Object(c["l"])(t))throw t;return null})}}class D{constructor(t,e,i){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=t,this.sourceUrl=e;const n=Object(l["K"])(this.sourceUrl),r=Object(o["a"])(i),s=r.tiles;if(n)for(let o=0;o<s.length;o++){const t=Object(l["K"])(s[o]);t&&(Object(l["s"])(t.path)||(t.path=Object(l["z"])(n.path,t.path)),s[o]=Object(l["e"])(t.path,{...n.query,...t.query}))}this.tileServers=s;const a=i.capabilities&&i.capabilities.split(",").map(t=>t.toLowerCase().trim()),c=!0===(null==i?void 0:i.exportTilesAllowed),u=!0===(null==a?void 0:a.includes("tilemap")),h=c&&i.hasOwnProperty("maxExportTilesCount")?i.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:c,supportsTileMap:u},exportTiles:c?{maxExportTilesCount:+h}:null},this.tileInfo=Object(P["a"])(r.tileInfo,r,null,{ignoreMinMaxLOD:!0});const d=i.tileMap?Object(l["e"])(Object(l["z"])(n.path,i.tileMap),n.query):null;u?(this.type="vector-tile",this.tilemap=new F(new R["a"]({layer:{parsedUrl:n,tileInfo:this.tileInfo,type:"vector-tile",tileServers:this.tileServers}}),d)):d&&(this.tilemap=new N(d)),this.fullExtent=f["a"].fromJSON(i.fullExtent)}async getRefKey(t,e){var i,n;return null!=(i=null==(n=this.tilemap)?void 0:n.dataKey(t,e))?i:t}getSourceTileUrl(t,e,i){return this.tileServers[e%this.tileServers.length].replace(/\{z\}/gi,t.toString()).replace(/\{y\}/gi,e.toString()).replace(/\{x\}/gi,i.toString())}isCompatibleWith(t){const e=this.tileInfo,i=t.tileInfo;if(!e.spatialReference.equals(i.spatialReference))return!1;if(!e.origin.equals(i.origin))return!1;if(Math.round(e.dpi)!==Math.round(i.dpi))return!1;const n=e.lods,r=i.lods,s=Math.min(n.length,r.length);for(let o=0;o<s;o++){const t=n[o],e=r[o];if(t.level!==e.level||Math.round(t.scale)!==Math.round(e.scale))return!1}return!0}}const z=C["a"].defaults&&C["a"].defaults.io.corsEnabledServers;async function V(t,e){const i={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[n,r]="string"==typeof t?[t,null]:[null,t.jsonUrl];await U(i,"esri",t,r,e);const s={layerDefinition:i.validatedSource,url:n,serviceUrl:i.sourceUrl,style:i.style,styleUrl:i.styleUrl,spriteUrl:i.style.sprite&&G(i.styleBase,i.style.sprite),spriteFormat:i.spriteFormat,glyphsUrl:i.style.glyphs&&G(i.styleBase,i.style.glyphs),sourceNameToSource:i.sourceNameToSource,primarySourceName:i.primarySourceName};return $(s.spriteUrl),$(s.glyphsUrl),s}function $(t){if(!t)return;const e=Object(l["m"])(t);z&&!z.includes(e)&&z.push(e)}function G(...t){let e;for(let i=0;i<t.length;++i)if(Object(l["w"])(t[i])){if(e){const n=e.split("://")[0];e=n+":"+t[i].trim()}}else e=Object(l["s"])(t[i])?t[i]:Object(l["z"])(e,t[i]);return Object(l["I"])(e)}async function U(t,e,i,n,s){let o,a,u;if(Object(c["u"])(s),"string"==typeof i){const t=Object(l["D"])(i);$(t),u=await Object(r["default"])(t,{...s,responseType:"json",query:{f:"json",...null==s?void 0:s.query}}),u.ssl&&(o&&(o=o.replace(/^http:/i,"https:")),a&&(a=a.replace(/^http:/i,"https:"))),o=t,a=t}else u={data:i},o=i.jsonUrl||null,a=n;const h=u.data;return q(h)?(t.styleUrl=o||null,H(t,h,a,s)):B(h)?t.sourceUrl?W(t,h,a,!1,e,s):(t.sourceUrl=o||null,W(t,h,a,!0,e,s)):Promise.reject("You must specify the URL or the JSON for a service or for a style.")}function q(t){return!!t.sources}function B(t){return!q(t)}async function H(t,e,i,n){const r=i?Object(l["G"])(i):l["f"];t.styleBase=r,t.style=e,t.styleUrl&&$(t.styleUrl),e["sprite-format"]&&"webp"===e["sprite-format"].toLowerCase()&&(t.spriteFormat="webp");const s=[];if(e.sources&&e.sources.esri){const i=e.sources.esri;i.url?await U(t,"esri",G(r,i.url),void 0,n):s.push(U(t,"esri",i,r,n))}for(const o of Object.keys(e.sources))"esri"!==o&&"vector"===e.sources[o].type&&(e.sources[o].url?s.push(U(t,o,G(r,e.sources[o].url),void 0,n)):e.sources[o].tiles&&s.push(U(t,o,e.sources[o],r,n)));await Promise.all(s)}async function W(t,e,i,n,r,s){const o=i?Object(l["I"])(i)+"/":l["f"],a=J(e,o),c=new D(r,Object(l["e"])(o,null==s?void 0:s.query),a);if(!n&&t.primarySourceName in t.sourceNameToSource){const e=t.sourceNameToSource[t.primarySourceName];if(!e.isCompatibleWith(c))return Promise.resolve();null!=c.fullExtent&&(null!=e.fullExtent?e.fullExtent.union(c.fullExtent):e.fullExtent=c.fullExtent.clone()),e.tileInfo.lods.length<c.tileInfo.lods.length&&(e.tileInfo=c.tileInfo)}if(n?(t.sourceBase=o,t.source=e,t.validatedSource=a,t.primarySourceName=r,t.sourceUrl&&$(t.sourceUrl)):$(o),t.sourceNameToSource[r]=c,!t.style)return null==e.defaultStyles?Promise.reject():"string"==typeof e.defaultStyles?U(t,"",G(o,e.defaultStyles,"root.json"),void 0,s):U(t,"",e.defaultStyles,G(o,"root.json"),s)}function J(t,e){if(t.hasOwnProperty("tileInfo"))return t;const i={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},n=512;let r=78271.51696400007,s=295828763.7957775;const o=[],a=t.hasOwnProperty("minzoom")?+t.minzoom:0,c=t.hasOwnProperty("maxzoom")?+t.maxzoom:22;for(let l=0;l<=c;l++)l>=a&&o.push({level:l,scale:s,resolution:r}),r/=2,s/=2;for(const l of t.tiles)$(G(e,l));return{capabilities:"TilesOnly",initialExtent:i,fullExtent:i,minScale:0,maxScale:0,tiles:t.tiles,tileInfo:{rows:n,cols:n,dpi:96,format:"pbf",origin:{x:-20037508.342787,y:20037508.342787},lods:o,spatialReference:{wkid:102100}}}}var K=i("15ec"),Y=i("50e6");class Z{constructor(t,e){this.lockedSchemaPixelSize=t,this.isGCS=e}getLevelRowColumn(t){return this.isGCS?[t[0],t[1]>>1,t[2]>>1]:256===this.lockedSchemaPixelSize&&t[0]>0?[t[0]-1,t[1]>>1,t[2]>>1]:t}adjustLevel(t){return this.isGCS?t:256===this.lockedSchemaPixelSize?t>0?t-1:0:t}getShift(t,e){let i=0,n=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(t[2]%2&&(i=e),t[1]%2&&(n=e)),[i,n]}getScale(t){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===t)return 1;return 2}static create256x256CompatibleTileInfo(t){if(!t)return null;if(256===t.size[0]&&256===t.size[1])return t;const e=256,i=t.spatialReference.isGeographic,n=[],r=t.lods.length;for(let s=0;s<r;s++){const e=t.lods[s],r=i?e.resolution:2*e.resolution;n.push(new Y["a"]({level:e.level,scale:e.scale,resolution:r}))}return new A["a"]({size:[e,e],dpi:t.dpi,format:t.format,compressionQuality:t.compressionQuality,origin:t.origin,spatialReference:t.spatialReference,lods:n})}static create512x512CompatibleTileInfo(t){if(!t)return null;if(256===t.size[0]||256===t.size[1])return null;const e=512,i=[],n=t.lods.length;for(let r=0;r<n;r++){const e=t.lods[r],n=.5*e.resolution;i.push(new Y["a"]({level:e.level,scale:e.scale,resolution:n}))}return new A["a"]({size:[e,e],dpi:t.dpi,format:t.format,compressionQuality:t.compressionQuality,origin:t.origin,spatialReference:t.spatialReference,lods:i})}}const X=1e-6;function Q(t,e){if(t===e)return!0;if(!t&&null!=e)return!1;if(null!=t&&!e)return!1;if(!t.spatialReference.equals(e.spatialReference)||t.dpi!==e.dpi)return!1;const i=t.origin,n=e.origin;if(Math.abs(i.x-n.x)>=X||Math.abs(i.y-n.y)>=X)return!1;let r,s;t.lods[0].scale>e.lods[0].scale?(r=t,s=e):(s=t,r=e);for(let o=r.lods[0].scale;o>=s.lods[s.lods.length-1].scale-X;o/=2)if(Math.abs(o-s.lods[0].scale)<X)return!0;return!1}function tt(t,e){if(t===e)return t;if(!t&&null!=e)return e;if(null!=t&&!e)return t;const i=t.size[0],n=t.format,r=t.dpi,s={x:t.origin.x,y:t.origin.y},o=t.spatialReference.toJSON(),a=t.lods[0].scale>e.lods[0].scale?t.lods[0]:e.lods[0],c=t.lods[t.lods.length-1].scale<=e.lods[e.lods.length-1].scale?t.lods[t.lods.length-1]:e.lods[e.lods.length-1],l=a.scale,u=a.resolution,h=c.scale,d=[];let p=l,f=u,b=0;for(;p>h;)d.push({level:b,resolution:f,scale:p}),b++,p/=2,f/=2;return new A["a"]({size:[i,i],dpi:r,format:n||"pbf",origin:s,lods:d,spatialReference:o})}var et=i("901e"),it=i("b2af");let nt=class extends(Object(w["a"])(Object(x["a"])(Object(g["a"])(Object(v["a"])(Object(j["a"])(Object(_["a"])(Object(O["a"])(Object(m["a"])(Object(a["a"])(y["a"])))))))))){constructor(...t){super(...t),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.style=null,this.isReference=null,this.operationalLayerType="VectorTileLayer",this.type="vector-tile",this.url=null,this.symbolCollisionBoxesVisible=!1,this.path=null}normalizeCtorArgs(t,e){return"string"==typeof t?{url:t,...e}:t}destroy(){this._spriteSourceMap.clear()}async prefetchResources(t){await this.loadSpriteSource(globalThis.devicePixelRatio||1,t)}load(t){const e=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},t).catch(c["t"]).then(async()=>{if(!this.portalItem||!this.portalItem.id)return;const e=this.portalItem.itemUrl+"/resources/styles/root.json";(await Object(r["default"])(e,{...t,query:{f:"json",...this.customParameters,token:this.apiKey}})).data&&this.read({url:e},Object(K["a"])(this.portalItem))}).catch(c["t"]).then(()=>this._loadStyle(t));return this.addResolvingPromise(e),Promise.resolve(this)}get attributionDataUrl(){const t=this.currentStyleInfo,e=t&&t.serviceUrl&&Object(l["K"])(t.serviceUrl);if(!e)return null;const i=this._getDefaultAttribution(e.path);return i?Object(l["e"])(i,{...this.customParameters,token:this.apiKey}):null}get capabilities(){const t=this.primarySource;return t?t.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){var t;return(null==(t=this.primarySource)?void 0:t.fullExtent)||null}get parsedUrl(){return this.serviceUrl?Object(l["K"])(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}get spatialReference(){return this.tileInfo&&this.tileInfo.spatialReference||null}get styleUrl(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}writeStyleUrl(t,e){t&&Object(l["w"])(t)&&(t="https:"+t),e.styleUrl=t}get tileInfo(){var t;const e=[];for(const n in this.sourceNameToSource)e.push(this.sourceNameToSource[n]);let i=(null==(t=this.primarySource)?void 0:t.tileInfo)||new A["a"];if(e.length>1)for(let n=0;n<e.length;n++)Q(i,e[n].tileInfo)&&(i=tt(i,e[n].tileInfo));return i}readVersion(t,e){return e.version?parseFloat(e.version):parseFloat(e.currentVersion)}get compatibleTileInfo256(){return Z.create256x256CompatibleTileInfo(this.tileInfo)}get compatibleTileInfo512(){return Z.create512x512CompatibleTileInfo(this.tileInfo)}async loadSpriteSource(t=1,e){if(!this._spriteSourceMap.has(t)){var i;const n=Object(it["a"])(),r=null!=(i=this.currentStyleInfo)&&i.spriteUrl?Object(l["e"])(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null,s=new E(r,t,n.maxTextureSize,this.currentStyleInfo.spriteFormat);await s.load(e),this._spriteSourceMap.set(t,s)}return Promise.resolve(this._spriteSourceMap.get(t))}async loadStyle(t,e){var i;const n=t||this.style||this.url;return this._loadingTask&&"string"==typeof n&&this.url===n||(null==(i=this._loadingTask)||i.abort(),this._loadingTask=Object(c["g"])(t=>(this._spriteSourceMap.clear(),this._getSourceAndStyle(n,{signal:t})),e)),this._loadingTask.promise}getStyleLayerId(t){return this.styleRepository.getStyleLayerId(t)}getStyleLayerIndex(t){return this.styleRepository.getStyleLayerIndex(t)}getPaintProperties(t){return Object(o["a"])(this.styleRepository.getPaintProperties(t))}setPaintProperties(t,e){const i=this.styleRepository.isPainterDataDriven(t);this.styleRepository.setPaintProperties(t,e);const n=this.styleRepository.isPainterDataDriven(t);this.emit("paint-change",{layer:t,paint:e,isDataDriven:i||n})}getStyleLayer(t){return Object(o["a"])(this.styleRepository.getStyleLayer(t))}setStyleLayer(t,e){this.styleRepository.setStyleLayer(t,e),this.emit("style-layer-change",{layer:t,index:e})}deleteStyleLayer(t){this.styleRepository.deleteStyleLayer(t),this.emit("delete-style-layer",{layer:t})}getLayoutProperties(t){return Object(o["a"])(this.styleRepository.getLayoutProperties(t))}setLayoutProperties(t,e){this.styleRepository.setLayoutProperties(t,e),this.emit("layout-change",{layer:t,layout:e})}setStyleLayerVisibility(t,e){this.styleRepository.setStyleLayerVisibility(t,e),this.emit("style-layer-visibility-change",{layer:t,visibility:e})}getStyleLayerVisibility(t){return this.styleRepository.getStyleLayerVisibility(t)}write(t,e){return e&&e.origin&&!this.styleUrl?(e.messages&&e.messages.push(new s["a"]("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(t,e)}getTileUrl(t,e,i){return null}async _getSourceAndStyle(t,e){if(!t)throw new Error("invalid style!");const i=await V(t,{...e,query:{...this.customParameters,token:this.apiKey}});"webp"===i.spriteFormat&&(await M("lossy")||(i.spriteFormat="png")),this._set("currentStyleInfo",{...i}),"string"==typeof t?(this.url=t,this.style=null):(this.url=null,this.style=t),this._set("sourceNameToSource",i.sourceNameToSource),this._set("primarySource",i.sourceNameToSource[i.primarySourceName]),this._set("styleRepository",new et["a"](i.style)),this.read(i.layerDefinition,{origin:"service"}),this.emit("load-style")}_getDefaultAttribution(t){const e=t.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i),i=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2"];if(!e)return;const n=e[2]&&e[2].toLowerCase();if(!n)return;const r=e[1]||"";for(const s of i)if(s.toLowerCase().includes(n))return Object(l["D"])(`//static.arcgis.com/attribution/Vector${r}/${s}`)}async _loadStyle(t){var e,i;return null!=(e=null==(i=this._loadingTask)?void 0:i.promise)?e:this.loadStyle(null,t)}};Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"attributionDataUrl",null),Object(n["a"])([Object(u["b"])({type:["show","hide"]})],nt.prototype,"listMode",void 0),Object(n["a"])([Object(u["b"])({readOnly:!0,json:{read:!1}})],nt.prototype,"capabilities",null),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"currentStyleInfo",void 0),Object(n["a"])([Object(u["b"])({json:{read:!1},readOnly:!0,type:f["a"]})],nt.prototype,"fullExtent",null),Object(n["a"])([Object(u["b"])()],nt.prototype,"style",void 0),Object(n["a"])([Object(u["b"])({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],nt.prototype,"isReference",void 0),Object(n["a"])([Object(u["b"])({type:["VectorTileLayer"]})],nt.prototype,"operationalLayerType",void 0),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"parsedUrl",null),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"serviceUrl",null),Object(n["a"])([Object(u["b"])({type:b["a"],readOnly:!0})],nt.prototype,"spatialReference",null),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"styleRepository",void 0),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"sourceNameToSource",void 0),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"primarySource",void 0),Object(n["a"])([Object(u["b"])({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],nt.prototype,"styleUrl",null),Object(n["a"])([Object(p["a"])(["portal-item","web-document"],"styleUrl")],nt.prototype,"writeStyleUrl",null),Object(n["a"])([Object(u["b"])({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:A["a"]})],nt.prototype,"tileInfo",null),Object(n["a"])([Object(u["b"])({json:{read:!1},readOnly:!0,value:"vector-tile"})],nt.prototype,"type",void 0),Object(n["a"])([Object(u["b"])({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],nt.prototype,"url",void 0),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"version",void 0),Object(n["a"])([Object(h["a"])("version",["version","currentVersion"])],nt.prototype,"readVersion",null),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"compatibleTileInfo256",null),Object(n["a"])([Object(u["b"])({readOnly:!0})],nt.prototype,"compatibleTileInfo512",null),Object(n["a"])([Object(u["b"])({type:Boolean})],nt.prototype,"symbolCollisionBoxesVisible",void 0),Object(n["a"])([Object(u["b"])({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],nt.prototype,"path",void 0),nt=Object(n["a"])([Object(d["a"])("esri.layers.VectorTileLayer")],nt);const rt=nt},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),s=r("forEach");t.exports=s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},1853:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c}));var n=i("792b"),r=i("2c4f"),s=i("6d5f"),o=i("b2b2");async function a(t,e){return await t.load(),c(t,e)}async function c(t,e){const i=[],a=(...t)=>{for(const e of t)Object(o["k"])(e)||(Array.isArray(e)?a(...e):r["a"].isCollection(e)?e.forEach(t=>a(t)):s["a"].isLoadable(e)&&i.push(e))};e(a);let c=null;if(await Object(n["b"])(i,async t=>{!1!==(await Object(n["c"])(l(t)?t.loadAll():t.load())).ok||c||(c=t)}),c)throw c.loadError;return t}function l(t){return"loadAll"in t&&"function"==typeof t.loadAll}},"18bf":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("d386")),c=i("09db"),l=i("9f91"),u=i("a7a7");let h=n=class extends u["a"]{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(t=>t.toJSON())}clone(){return new n(Object(s["a"])({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};Object(r["a"])([Object(o["b"])({type:Object,json:{write:!0}})],h.prototype,"attributes",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],h.prototype,"description",void 0),Object(r["a"])([Object(o["b"])({type:[l["a"]]})],h.prototype,"fieldInfos",void 0),Object(r["a"])([Object(c["a"])("fieldInfos")],h.prototype,"writeFieldInfos",null),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],h.prototype,"title",void 0),Object(r["a"])([Object(o["b"])({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0),h=n=Object(r["a"])([Object(a["a"])("esri.popup.content.FieldsContent")],h);const d=h},"19aa":function(t,e,i){var n=i("da84"),r=i("3a9b"),s=n.TypeError;t.exports=function(t,e){if(r(e,t))return t;throw s("Incorrect invocation")}},"19e0":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("fa8a");const r=new n["a"]({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function s(t){const{extendHow:e,polylines:i,trimExtendTo:n}=t.toJSON(),s={};return s.extendHow=r.toJSON(e),i&&i.length&&(s.polylines=JSON.stringify(i),s.sr=JSON.stringify(i[0].spatialReference)),n&&(s.trimExtendTo=JSON.stringify(n)),s}},"1a2d":function(t,e,i){var n=i("e330"),r=i("7b0b"),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},"1a3e":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("cea0"),r=i("7af8");const s=Object.prototype.toString;function o(t){const e="__accessorMetadata__"in t?Object(n["m"])(t):t;return function(...t){if(t.push(e),"number"==typeof t[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,t)}}function a(t,e,i,n){Object(r["b"])(t,e).cast=n}function c(t){return function(e,i){Object(r["b"])(e,t).cast=e[i]}}function l(...t){if(3!==t.length||"string"!=typeof t[1])return 1===t.length&&"[object Function]"===s.call(t[0])?o(t[0]):1===t.length&&"string"==typeof t[0]?c(t[0]):void 0}},"1b19":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("9b9d"),c=i("6a0e"),l=i("7ffa"),u=i("a8f3");let h=n=class extends c["a"]{constructor(t){super(t),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new n({fields:Object(l["a"])(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};Object(r["a"])([Object(s["b"])({type:[String],json:{write:!0}})],h.prototype,"fields",void 0),Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],h.prototype,"normalizeField",void 0),Object(r["a"])([Object(s["b"])({type:[u["a"]],json:{read:!1}})],h.prototype,"series",void 0),Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],h.prototype,"tooltipField",void 0),h=n=Object(r["a"])([Object(o["a"])("esri.popup.content.support.ChartMediaInfoValue")],h);const d=h;let p=class extends a["a"]{constructor(t){super(t),this.type=null,this.value=null}};Object(r["a"])([Object(s["b"])({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0),Object(r["a"])([Object(s["b"])({type:d,json:{write:!0}})],p.prototype,"value",void 0),p=Object(r["a"])([Object(o["a"])("esri.popup.content.mixins.ChartMediaInfo")],p);const f=p},"1b8f":function(t,e,i){"use strict";i("4653"),i("21e2"),i("255d"),i("2035");var n=i("6323"),r=i("2eab"),s=i("ce50"),o=i("b2b2");async function a(t,e,i,r){const o=e.exec(i);if(!o)throw new s["a"]("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const a=o[1]?o[1]+"/":"",l=o[2],u=Object(n["b"])(r),h=`${a}${l}.json`,d=u?`${a}${l}_${u}.json`:h;let p;try{p=await c(t(d))}catch(f){if(d===h)throw new s["a"]("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f});try{p=await c(t(h))}catch(f){throw new s["a"]("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f})}}return p}async function c(t){if(Object(o["l"])(h.fetchBundleAsset))return h.fetchBundleAsset(t);const e=await Object(r["default"])(t,{responseType:"text"});return JSON.parse(e.data)}class l{constructor({base:t="",pattern:e,location:i=new URL(window.location.href)}){let n;n="string"==typeof i?t=>new URL(t,new URL(i,window.location.href)).href:i instanceof URL?t=>new URL(t,i).href:i,this.pattern="string"==typeof e?new RegExp("^"+e):e,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,e){return a(this.getAssetUrl,this.matcher,t,e)}}function u(t){return new l(t)}const h={};var d=i("b2cd");Object(n["c"])(u({pattern:"esri/",location:d["a"]}))},"1be4":function(t,e,i){var n=i("d066");t.exports=n("document","documentElement")},"1c7e":function(t,e,i){var n=i("b622"),r=n("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!s)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(c){}return i}},"1c92":function(t,e,i){"use strict";i.d(e,"a",(function(){return _})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return b})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return r})),i.d(e,"g",(function(){return P})),i.d(e,"h",(function(){return y})),i.d(e,"i",(function(){return d})),i.d(e,"j",(function(){return j})),i.d(e,"k",(function(){return f})),i.d(e,"l",(function(){return o})),i.d(e,"m",(function(){return c}));var n=i("4212");function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function o(t,e,i,n,r,s,o,a,c,l){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,e){if(t===e){const i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function l(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=u*o-a*l,d=-u*s+a*c,p=l*s-o*c;let f=i*h+n*d+r*p;return f?(f=1/f,t[0]=h*f,t[1]=(-u*n+r*l)*f,t[2]=(a*n-r*o)*f,t[3]=d*f,t[4]=(u*i-r*c)*f,t[5]=(-a*i+r*s)*f,t[6]=p*f,t[7]=(-l*i+n*c)*f,t[8]=(o*i-n*s)*f,t):null}function u(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t[0]=o*u-a*l,t[1]=r*l-n*u,t[2]=n*a-r*o,t[3]=a*c-s*u,t[4]=i*u-r*c,t[5]=r*s-i*a,t[6]=s*l-o*c,t[7]=n*c-i*l,t[8]=i*o-n*s,t}function h(t){const e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8];return e*(l*s-o*c)+i*(-l*r+o*a)+n*(c*r-s*a)}function d(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=e[6],u=e[7],h=e[8],d=i[0],p=i[1],f=i[2],b=i[3],y=i[4],m=i[5],g=i[6],v=i[7],w=i[8];return t[0]=d*n+p*o+f*l,t[1]=d*r+p*a+f*u,t[2]=d*s+p*c+f*h,t[3]=b*n+y*o+m*l,t[4]=b*r+y*a+m*u,t[5]=b*s+y*c+m*h,t[6]=g*n+v*o+w*l,t[7]=g*r+v*a+w*u,t[8]=g*s+v*c+w*h,t}function p(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=e[6],u=e[7],h=e[8],d=i[0],p=i[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=c,t[6]=d*n+p*o+l,t[7]=d*r+p*a+u,t[8]=d*s+p*c+h,t}function f(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=e[6],u=e[7],h=e[8],d=Math.sin(i),p=Math.cos(i);return t[0]=p*n+d*o,t[1]=p*r+d*a,t[2]=p*s+d*c,t[3]=p*o-d*n,t[4]=p*a-d*r,t[5]=p*c-d*s,t[6]=l,t[7]=u,t[8]=h,t}function b(t,e,i){const n=i[0],r=i[1],s=i[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function y(t,e,i){const n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function g(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function v(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function O(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,c=r+r,l=i*o,u=n*o,h=n*a,d=r*o,p=r*a,f=r*c,b=s*o,y=s*a,m=s*c;return t[0]=1-h-f,t[3]=u-m,t[6]=d+y,t[1]=u+m,t[4]=1-l-f,t[7]=p-b,t[2]=d-y,t[5]=p+b,t[8]=1-l-h,t}function j(t,e){const i=e[0],n=e[1],r=e[2],s=e[4],o=e[5],a=e[6],c=e[8],l=e[9],u=e[10],h=u*o-a*l,d=-u*s+a*c,p=l*s-o*c,f=i*h+n*d+r*p;if(!f)return null;const b=1/f;return t[0]=h*b,t[1]=(-u*n+r*l)*b,t[2]=(a*n-r*o)*b,t[3]=d*b,t[4]=(u*i-r*c)*b,t[5]=(-a*i+r*s)*b,t[6]=p*b,t[7]=(-l*i+n*c)*b,t[8]=(o*i-n*s)*b,t}function _(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],b=e[13],y=e[14],m=e[15],g=i*a-n*o,v=i*c-r*o,w=i*l-s*o,O=n*c-r*a,j=n*l-s*a,_=r*l-s*c,x=u*b-h*f,S=u*y-d*f,M=u*m-p*f,k=h*y-d*b,I=h*m-p*b,T=d*m-p*y;let E=g*T-v*I+w*k+O*M-j*S+_*x;return E?(E=1/E,t[0]=(a*T-c*I+l*k)*E,t[1]=(c*M-o*T-l*S)*E,t[2]=(o*I-a*M+l*x)*E,t[3]=(r*I-n*T-s*k)*E,t[4]=(i*T-r*M+s*S)*E,t[5]=(n*M-i*I-s*x)*E,t[6]=(b*_-y*j+m*O)*E,t[7]=(y*w-f*_-m*v)*E,t[8]=(f*j-b*w+m*g)*E,t):null}function x(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function M(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function k(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function I(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function T(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function E(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function C(t,e){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],c=t[5],l=t[6],u=t[7],h=t[8],d=e[0],p=e[1],f=e[2],b=e[3],y=e[4],m=e[5],g=e[6],v=e[7],w=e[8];return Math.abs(i-d)<=n["a"]*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(r-p)<=n["a"]*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(s-f)<=n["a"]*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-b)<=n["a"]*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-y)<=n["a"]*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(c-m)<=n["a"]*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-g)<=n["a"]*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-v)<=n["a"]*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(h-w)<=n["a"]*Math.max(1,Math.abs(h),Math.abs(w))}function P(t){const e=n["a"],i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],c=t[5],l=t[6],u=t[7],h=t[8];return Math.abs(1-(i*i+o*o+l*l))<=e&&Math.abs(1-(r*r+a*a+u*u))<=e&&Math.abs(1-(s*s+c*c+h*h))<=e}const R=d,L=I;Object.freeze({__proto__:null,fromMat4:r,copy:s,set:o,identity:a,transpose:c,invert:l,adjoint:u,determinant:h,multiply:d,translate:p,rotate:f,scale:b,scaleByVec2:y,fromTranslation:m,fromRotation:g,fromScaling:v,fromMat2d:w,fromQuat:O,normalFromMat4Legacy:j,normalFromMat4:_,projection:x,str:S,frob:M,add:k,subtract:I,multiplyScalar:T,multiplyScalarAndAdd:E,exactEquals:A,equals:C,isOrthoNormal:P,mul:R,sub:L})},"1cdc":function(t,e,i){var n=i("342f");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},"1d80":function(t,e,i){var n=i("da84"),r=n.TypeError;t.exports=function(t){if(void 0==t)throw r("Can't call method on "+t);return t}},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7");function n(t,e,i,n,r,s,o){try{var a=t[s](o),c=a.value}catch(l){return void i(l)}a.done?e(c):Promise.resolve(c).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var o=t.apply(e,i);function a(t){n(o,r,s,a,c,"next",t)}function c(t){n(o,r,s,a,c,"throw",t)}a(void 0)}))}}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),s=i("2d00"),o=r("species");t.exports=function(t){return s>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1f3b":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=i("ce50"),o=i("6a0e"),a=i("b2b2"),c=i("9d1d"),l=i("59b2"),u=(i("b50f"),i("c120"),i("cea0"),i("d386")),h=i("d4e6"),d=i("96d4");let p=n=class extends o["a"]{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){const i=super.write(t,e);if(null!=e&&e.origin){if(i.filter){const t=Object.keys(i.filter);var n;if(t.length>1||"where"!==t[0])return null==(n=e.messages)||n.push(new s["a"]("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}var r;if("showExcludedLabels"in i)return null==(r=e.messages)||r.push(new s["a"]("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return i}clone(){return new n({filter:Object(a["l"])(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};Object(r["a"])([Object(l["b"])({type:d["a"],json:{write:{allowNull:!0,writer(t,e,i,n){const r=null==t?void 0:t.write({},n);r&&0!==Object.keys(r).length?Object(c["c"])(i,r,e):Object(c["c"])(i,null,e)}}}})],p.prototype,"filter",void 0),Object(r["a"])([Object(l["b"])({json:{write:!0,origins:{"web-map":{read:{reader:h["b"]},write:{writer:h["c"],overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],p.prototype,"includedEffect",void 0),Object(r["a"])([Object(l["b"])({json:{write:!0,origins:{"web-map":{read:{reader:h["b"]},write:{writer:h["c"],overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],p.prototype,"excludedEffect",void 0),Object(r["a"])([Object(l["b"])({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],p.prototype,"excludedLabelsVisible",void 0),p=n=Object(r["a"])([Object(u["a"])("esri.layers.support.FeatureEffect")],p);const f=p},"1fd7":function(t,e,i){"use strict";i.d(e,"a",(function(){return D})),i.d(e,"b",(function(){return T})),i.d(e,"c",(function(){return E})),i.d(e,"d",(function(){return P})),i.d(e,"e",(function(){return A})),i.d(e,"f",(function(){return C})),i.d(e,"g",(function(){return L})),i.d(e,"h",(function(){return F})),i.d(e,"i",(function(){return R})),i.d(e,"j",(function(){return N}));var n,r=i("cea0"),s=i("0b86"),o=i("4cac"),a=(i("05c5"),i("2959")),c=(i("c128"),i("9787"),i("6005"),i("9fab")),l=i("6e07"),u=(i("8d66"),i("6e4d"),i("0fe9")),h=(i("e1bb"),i("3ad7"),i("a4ee")),d=i("7ffa"),p=i("a915"),f=i("59b2"),b=i("448d"),y=i("d386"),m=i("b0e3");let g=n=class extends a["a"]{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,n){if(t&&"string"!=typeof t&&null==t.imageData)return t;const r={};return t&&(r.url=t),e&&(r.outline=e),null!=i&&(r.width=Object(p["j"])(i)),null!=n&&(r.height=Object(p["j"])(n)),r}clone(){const t=new n({color:Object(d["a"])(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",Object(d["a"])(this.source)),t}hash(){var t;return`${super.hash()}.${null==(t=this.color)?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};Object(h["a"])([Object(b["a"])({esriPFS:"picture-fill"},{readOnly:!0})],g.prototype,"type",void 0),Object(h["a"])([Object(f["b"])(m["b"])],g.prototype,"url",void 0),Object(h["a"])([Object(f["b"])({type:Number,json:{write:!0}})],g.prototype,"xscale",void 0),Object(h["a"])([Object(f["b"])({type:Number,json:{write:!0}})],g.prototype,"yscale",void 0),Object(h["a"])([Object(f["b"])({type:Number,cast:p["j"],json:{write:!0}})],g.prototype,"width",void 0),Object(h["a"])([Object(f["b"])({type:Number,cast:p["j"],json:{write:!0}})],g.prototype,"height",void 0),Object(h["a"])([Object(f["b"])({type:Number,cast:p["j"],json:{write:!0}})],g.prototype,"xoffset",void 0),Object(h["a"])([Object(f["b"])({type:Number,cast:p["j"],json:{write:!0}})],g.prototype,"yoffset",void 0),Object(h["a"])([Object(f["b"])(m["a"])],g.prototype,"source",void 0),g=n=Object(h["a"])([Object(y["a"])("esri.symbols.PictureFillSymbol")],g);const v=g;var w=i("37e7"),O=i("7533"),j=i("35c9"),_=i("0d76"),x=i("db52"),S=i("4dc9"),M=i("0d93"),k=(i("c528"),i("961d"),i("21ba")),I=(i("a957"),i("16e0"),i("ddc2"));i("d288"),i("8f07"),i("333a");function T(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function E(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const A={base:M["a"],key:"type",typeMap:{"simple-fill":_["a"],"picture-fill":v,"picture-marker":w["a"],"simple-line":x["a"],"simple-marker":S["a"],text:k["a"],"label-3d":c["a"],"line-3d":l["a"],"mesh-3d":u["a"],"point-3d":O["a"],"polygon-3d":j["a"],"web-style":I["a"],cim:o["a"]},errorContext:"symbol"},C={base:M["a"],key:"type",typeMap:{"picture-marker":w["a"],"simple-marker":S["a"],text:k["a"],"web-style":I["a"],cim:o["a"]},errorContext:"symbol"},P=Object(s["b"])({types:A}),R={base:M["a"],key:"type",typeMap:{"simple-fill":_["a"],"picture-fill":v,"picture-marker":w["a"],"simple-line":x["a"],"simple-marker":S["a"],text:k["a"],"line-3d":l["a"],"mesh-3d":u["a"],"point-3d":O["a"],"polygon-3d":j["a"],"web-style":I["a"],cim:o["a"]},errorContext:"symbol"},L={base:M["a"],key:"type",typeMap:{text:k["a"],"label-3d":c["a"]},errorContext:"symbol"},N=(M["a"],c["a"],l["a"],u["a"],O["a"],j["a"],I["a"],{base:M["a"],key:"type",typeMap:{"line-3d":l["a"],"mesh-3d":u["a"],"point-3d":O["a"],"polygon-3d":j["a"],"web-style":I["a"],cim:o["a"]},errorContext:"symbol"}),F={base:M["a"],key:"type",typeMap:{"label-3d":c["a"]},errorContext:"symbol"},D=Object(r["k"])(A)},2035:function(t,e,i){"use strict";var n,r,s;let o,a;i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return d}));const c=null!=(n=null==(r=globalThis.esriConfig)?void 0:r.locale)?n:null==(s=globalThis.dojoConfig)?void 0:s.locale;function l(){var t,e;return null!=(t=null!=c?c:null==(e=globalThis.navigator)?void 0:e.language)?t:"en"}function u(){return void 0===a&&(a=l()),a}const h=[];function d(t){return h.push(t),{remove(){h.splice(h.indexOf(t),1)}}}const p=[];function f(t){return p.push(t),{remove(){h.splice(p.indexOf(t),1)}}}function b(){var t;const e=null!=(t=o)?t:l();a!==e&&(a=e,[...p].forEach(t=>{t.call(null,e)}),[...h].forEach(t=>{t.call(null,e)}))}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",b)},2172:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return s})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return h}));var n=i("b2b2");const r=[0,0];function s(t,e){return!!Object(n["l"])(e)&&u(t,e.x,e.y,e.z)}function o(t,e){if(!e.points||e.points.length)return!1;for(const i of e.points)if(!c(t,i))return!1;return!0}function a(t,e){const{xmin:i,ymin:n,zmin:r,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?u(t,i,n,r)&&u(t,i,o,r)&&u(t,s,o,r)&&u(t,s,n,r)&&u(t,i,n,a)&&u(t,i,o,a)&&u(t,s,o,a)&&u(t,s,n,a):u(t,i,n)&&u(t,i,o)&&u(t,s,o)&&u(t,s,n)}function c(t,e){return u(t,e[0],e[1])}function l(t,e){return u(t,e[0],e[1],e[2])}function u(t,e,i,n){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(null==n||!t.hasZ||n>=t.zmin&&n<=t.zmax)}function h(t,e){return r[1]=e.y,r[0]=e.x,d(t,r)}function d(t,e){return p(t.rings,e)}function p(t,e){if(!t)return!1;if(f(t))return b(!1,t,e);let i=!1;for(let n=0,r=t.length;n<r;n++)i=b(i,t[n],e);return i}function f(t){return!Array.isArray(t[0][0])}function b(t,e,i){const[n,r]=i;let s=t,o=0;for(let a=0,c=e.length;a<c;a++){o++,o===c&&(o=0);const[t,i]=e[a],[l,u]=e[o];(i<r&&u>=r||u<r&&i>=r)&&t+(r-i)/(u-i)*(l-t)<n&&(s=!s)}return s}},"21ba":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("9ef0"),o=i("7ffa"),a=i("a915"),c=i("59b2"),l=i("1a3e"),u=i("448d"),h=i("d386"),d=i("09db"),p=i("9787"),f=i("0d93");let b=n=class extends f["a"]{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new p["a"],this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment=null,this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&"string"!=typeof t)return t;const n={};return t&&(n.text=t),e&&(n.font=e),i&&(n.color=i),n}writeLineWidth(t,e,i,n){n&&"string"!=typeof n?n.origin:e[i]=t}castLineWidth(t){return Object(a["j"])(t)}writeLineHeight(t,e,i,n){n&&"string"!=typeof n?n.origin:e[i]=t}clone(){return new n({angle:this.angle,backgroundColor:Object(o["a"])(this.backgroundColor),borderLineColor:Object(o["a"])(this.borderLineColor),borderLineSize:this.borderLineSize,color:Object(o["a"])(this.color),font:this.font&&this.font.clone(),haloColor:Object(o["a"])(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};Object(r["a"])([Object(c["b"])({type:s["a"],json:{write:!0}})],b.prototype,"backgroundColor",void 0),Object(r["a"])([Object(c["b"])({type:s["a"],json:{write:!0}})],b.prototype,"borderLineColor",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],b.prototype,"borderLineSize",void 0),Object(r["a"])([Object(c["b"])({type:p["a"],json:{write:!0}})],b.prototype,"font",void 0),Object(r["a"])([Object(c["b"])({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0),Object(r["a"])([Object(c["b"])({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0),Object(r["a"])([Object(c["b"])({type:s["a"],json:{write:!0}})],b.prototype,"haloColor",void 0),Object(r["a"])([Object(c["b"])({type:Number,cast:a["j"],json:{write:!0}})],b.prototype,"haloSize",void 0),Object(r["a"])([Object(c["b"])({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0),Object(r["a"])([Object(c["b"])({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],b.prototype,"text",void 0),Object(r["a"])([Object(u["a"])({esriTS:"text"},{readOnly:!0})],b.prototype,"type",void 0),Object(r["a"])([Object(c["b"])({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",void 0),Object(r["a"])([Object(c["b"])({type:Number,cast:a["j"],json:{write:!0}})],b.prototype,"xoffset",void 0),Object(r["a"])([Object(c["b"])({type:Number,cast:a["j"],json:{write:!0}})],b.prototype,"yoffset",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],b.prototype,"angle",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],b.prototype,"width",void 0),Object(r["a"])([Object(c["b"])({type:Number})],b.prototype,"lineWidth",void 0),Object(r["a"])([Object(d["a"])("lineWidth")],b.prototype,"writeLineWidth",null),Object(r["a"])([Object(l["a"])("lineWidth")],b.prototype,"castLineWidth",null),Object(r["a"])([Object(c["b"])({type:Number})],b.prototype,"lineHeight",void 0),Object(r["a"])([Object(d["a"])("lineHeight")],b.prototype,"writeLineHeight",null),b=n=Object(r["a"])([Object(h["a"])("esri.symbols.TextSymbol")],b);const y=b},"21e2":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return u}));var n=i("b2b2"),r=i("2035");const s={ar:"ar-u-nu-latn"};let o=new WeakMap,a={};function c(t){const e=t||a;if(!o.has(e)){const i=Object(r["b"])(),n=s[Object(r["b"])()]||i;o.set(e,new Intl.NumberFormat(n,t))}return Object(n["d"])(o.get(e))}function l(t={}){const e={};return null!=t.digitSeparator&&(e.useGrouping=t.digitSeparator),null!=t.places&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function u(t,e){return c(e).format(t)}Object(r["a"])(()=>{o=new WeakMap,a={}})},2255:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o}));class n{constructor(t,e,i,n){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=i;const r=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*r,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const r=new n(6378137,1/298.257223563,3e5,.006694379990137799),s=new n(3396190,1/169.8944472236118,23e4),o=new n(1737400,0,0)},2266:function(t,e,i){var n=i("da84"),r=i("0366"),s=i("c65b"),o=i("825a"),a=i("0d51"),c=i("e95a"),l=i("07fa"),u=i("3a9b"),h=i("9a1f"),d=i("35a1"),p=i("2a62"),f=n.TypeError,b=function(t,e){this.stopped=t,this.result=e},y=b.prototype;t.exports=function(t,e,i){var n,m,g,v,w,O,j,_=i&&i.that,x=!(!i||!i.AS_ENTRIES),S=!(!i||!i.IS_ITERATOR),M=!(!i||!i.INTERRUPTED),k=r(e,_),I=function(t){return n&&p(n,"normal",t),new b(!0,t)},T=function(t){return x?(o(t),M?k(t[0],t[1],I):k(t[0],t[1])):M?k(t,I):k(t)};if(S)n=t;else{if(m=d(t),!m)throw f(a(t)+" is not iterable");if(c(m)){for(g=0,v=l(t);v>g;g++)if(w=T(t[g]),w&&u(y,w))return w;return new b(!1)}n=h(t,m)}O=n.next;while(!(j=s(O,n)).done){try{w=T(j.value)}catch(E){p(n,"throw",E)}if("object"==typeof w&&w&&u(y,w))return w}return new b(!1)}},"228a":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("c120"),r=i("b2b2"),s=i("f4cc");function o(t,e,i=!1,o){return new Promise((c,l)=>{if(Object(s["m"])(o))return void l(a());let u=()=>{p(),l(new Error("Unable to load "+e))},h=()=>{const e=t;p(),c(e)},d=()=>{if(!t)return;const e=t;p(),e.src="",l(a())};const p=()=>{Object(n["a"])("esri-image-decode")||(t.removeEventListener("error",u),t.removeEventListener("load",h)),u=null,h=null,t=null,Object(r["l"])(o)&&o.removeEventListener("abort",d),d=null,i&&URL.revokeObjectURL(e)};Object(r["l"])(o)&&o.addEventListener("abort",d),Object(n["a"])("esri-image-decode")?t.decode().then(h,u):(t.addEventListener("error",u),t.addEventListener("load",h))})}function a(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}},"229e":function(t,e,i){"use strict";i.d(e,"a",(function(){return Lt})),i.d(e,"b",(function(){return zt})),i.d(e,"c",(function(){return Nt})),i.d(e,"d",(function(){return Vt})),i.d(e,"e",(function(){return Ft})),i.d(e,"f",(function(){return Dt})),i.d(e,"g",(function(){return $t}));var n=i("b2b2"),r=i("ae0b");class s{constructor(t){this._locations=new Map,this._key=t}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return 0===this._locations.size&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(t,e,i,n,r){const s=this.getUniforms();for(const o of s){const{name:s,type:a,getValue:c}=o,l=c(i,e,n,r);if(null!==l)switch(a){case"float":t.setUniform1f(s,l);break;case"vec2":t.setUniform2fv(s,l);break;case"vec4":t.setUniform4fv(s,l)}}}encodeAttributes(t,e,i,n){const r=this.attributesInfo(),s=this.getEncodingInfos(),o=[];let a=0,c=0;for(const u of Object.keys(s)){var l;const h=s[u],{type:d,precisionFactor:p,isLayout:f}=r[u],b=f?i.getLayoutProperty(u):i.getPaintProperty(u),y=null==(l=b.interpolator)?void 0:l.getInterpolationRange(e);let m=0;for(const i of h){const{offset:r,bufferElementsToAdd:s}=i;if(s>0){for(let t=0;t<s;t++)o.push(0);a+=c,c=i.bufferElementsToAdd}const l=null!=n?n:b.getValue(y?y[m]:e,t);switch(d){case 0:case 1:o[a]|=this._encodeByte(l*(p||1),8*r);break;case 2:case 3:o[a]|=this._encodeShort(l*(p||1),8*r);break;case 4:case 5:o[a]|=this._encodeByte(l*(p||1),8*r),o[a]|=this._encodeByte(l*(p||1),8*r+8);break;case 6:case 7:o[a]|=this._encodeShort(l*(p||1),8*r),o[a]|=this._encodeShort(l*(p||1),8*r+16);break;case 8:case 9:o[a]|=this._encodeByte(l*(p||1),8*r),o[a]|=this._encodeByte(l*(p||1),8*r+8),o[a]|=this._encodeByte(l*(p||1),8*r+16),o[a]|=this._encodeByte(l*(p||1),8*r+24);break;case 10:o[a]=this._encodeColor(l);break;case 11:case 12:this._encodePattern(a,o,l);break;default:throw new Error("Unsupported encoding type")}m++}}return o}getAtributeState(t){let e=0;const i=3+2*t;return e|=this._bit(i),e|=this._bit(i+1)<<1,e}_buildAttributesInfo(){const t=[],e={},i={};let n=-1;const r=this.attributesInfo(),o=this.attributes();let a=-1;for(const h of o){a++;const o=this.getAtributeState(a);if(0===o||3===o)continue;const c=r[h],l=[];e[h]=l;const u=c.type;for(let e=0;e<o;e++){const{dataType:e,bytesPerElement:r,count:o,normalized:a}=s._encodingInfo[u],c=r*o;let h=i[e],d=0;if(!h||h.count+o>4)n++,h={dataIndex:n,count:0,offset:0},4!==o&&(i[e]=h),t.push({location:-1,name:"a_data_"+n,count:o,type:e,normalized:a}),d=Math.ceil(Math.max(c/4,1));else{const e=t[h.dataIndex];e.count+=o,d=Math.ceil(Math.max(e.count*r/4,1))-Math.ceil(Math.max(h.offset/4,1))}l.push({dataIndex:h.dataIndex,offset:h.offset,bufferElementsToAdd:d}),h.offset+=c,h.count+=o}}for(const s of t)switch(s.type){case 5120:case 5121:s.count=4;case 5122:case 5123:s.count+=s.count%2}this._buildVertexBufferLayout(t);let c=0;const l=this._layoutInfo.geometry;for(const s of l)this._locations.set(s.name,c++);const u=this._layoutInfo.opacity;if(u)for(const s of u)this._locations.set(s.name,c++);this._buildShaderInfo(t,e),this._propertyEncodingInfo=e}_buildVertexBufferLayout(t){const e={},i=this.geometryInfo();let n=i[0].stride;if(0===t.length)e.geometry=i;else{const r=[];let s=n;for(const e of t)n+=o(e.type)*e.count;for(const t of i){const e={...t};e.stride=n,r.push(e)}for(const e of t)r.push({name:e.name,count:e.count,type:e.type,offset:s,stride:n,normalized:e.normalized||!1,divisor:0}),s+=o(e.type)*e.count;e.geometry=r}this.opacityInfo()&&(e.opacity=this.opacityInfo()),this._layoutInfo=e,this._stride=n}_buildShaderInfo(t,e){let i="\n",r="\n";const o=[];for(const n of t)i+=`attribute ${this._getType(n.count)} ${n.name};\n`;const c=this.attributes(),l=this.attributesInfo();let u=-1;for(const h of c){u++;const{name:t,type:c,precisionFactor:d,isLayout:p}=l[h],f=d&&1!==d?" * "+1/d:"",{bytesPerElement:b,count:y}=s._encodingInfo[c],m=t=>`a_data_${t.dataIndex}${a(y,t.offset,b)}`;switch(this.getAtributeState(u)){case 0:{const e=this._getType(y),s="u_"+t;o.push({name:s,type:e,getValue:(t,e,i,r)=>{const s=p?t.getLayoutValue(h,e):t.getPaintValue(h,e);if(11===c){const i=t.getDashKey(s,t.getLayoutValue("line-cap",e)),o=r.getMosaicItemPosition(i,!1);if(Object(n["k"])(o))return null;const{tl:a,br:c}=o;return[a[0],c[1],c[0],a[1]]}if(12===c){const t=r.getMosaicItemPosition(s,-1===h.indexOf("line-"));if(Object(n["k"])(t))return null;const{tl:e,br:i}=t;return[e[0],i[1],i[0],e[1]]}if(10===c){const t=s[3];return[t*s[0],t*s[1],t*s[2],t]}return s}}),i+=`uniform ${e} ${s};\n`,r+=`${e} ${t} = ${s};\n`}break;case 1:{const i=m(e[h][0]);r+=`${this._getType(y)} ${t} = ${i}${f};\n`}break;case 2:{const n="u_t_"+t;o.push({name:n,type:"float",getValue:(t,e,i,n)=>(p?t.getLayoutProperty(h):t.getPaintProperty(h)).interpolator.interpolationUniformValue(i,e)}),i+=`uniform float ${n};\n`;const s=m(e[h][0]),a=m(e[h][1]);r+=`${this._getType(y)} ${t} = mix(${s}${f}, ${a}${f}, ${n});\n`}}}this._shaderHeader=i,this._shaderMain=r,this._uniforms=o}_bit(t){return(this._key&1<<t)>>t}_getType(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(t){const e=255*t[3];return r["a"].i8888to32(t[0]*e,t[1]*e,t[2]*e,e)}_encodePattern(t,e,i){if(!i||!i.rect)return;const n=2,r=i.rect,s=i.width,o=i.height;e[t]=this._encodeShort(r.x+n,0),e[t]|=this._encodeShort(r.y+n+o,16),e[t+1]=this._encodeShort(r.x+n+s,0),e[t+1]|=this._encodeShort(r.y+n,16)}_encodeByte(t,e){return(255&t)<<e}_encodeShort(t,e){return(65535&t)<<e}}s._encodingInfo={0:{dataType:5120,bytesPerElement:1,count:1,normalized:!1},1:{dataType:5121,bytesPerElement:1,count:1,normalized:!1},2:{dataType:5122,bytesPerElement:2,count:1,normalized:!1},3:{dataType:5123,bytesPerElement:2,count:1,normalized:!1},4:{dataType:5120,bytesPerElement:1,count:2,normalized:!1},5:{dataType:5121,bytesPerElement:1,count:2,normalized:!1},6:{dataType:5122,bytesPerElement:2,count:2,normalized:!1},7:{dataType:5123,bytesPerElement:2,count:2,normalized:!1},8:{dataType:5120,bytesPerElement:1,count:4,normalized:!1},9:{dataType:5121,bytesPerElement:1,count:4,normalized:!1},10:{dataType:5121,bytesPerElement:1,count:4,normalized:!0},11:{dataType:5123,bytesPerElement:2,count:4,normalized:!1},12:{dataType:5123,bytesPerElement:2,count:4,normalized:!1}};const o=t=>{switch(t){case 5126:case 5124:case 5125:return 4;case 5122:case 5123:return 2;case 5120:case 5121:return 1}},a=(t,e,i)=>{const n=e/i;if(1===t)switch(n){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===t)switch(n){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===t)switch(n){case 0:return".xyz";case 1:return".yzw"}return""};class c extends s{constructor(t){super(t)}geometryInfo(){return c.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return c.ATTRIBUTES}attributesInfo(){return c.ATTRIBUTES_INFO}}c.ATTRIBUTES=[],c.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}],c.ATTRIBUTES_INFO={};class l extends s{constructor(t){super(t)}geometryInfo(){return l.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return l.ATTRIBUTES}attributesInfo(){return l.ATTRIBUTES_INFO}}l.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],l.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}],l.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:1},"circle-color":{name:"color",type:10},"circle-opacity":{name:"opacity",type:1,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:1,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:10},"circle-stroke-opacity":{name:"stroke_opacity",type:1,precisionFactor:100},"circle-blur":{name:"blur",type:1,precisionFactor:32}};class u extends s{constructor(t){super(t)}geometryInfo(){return u.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return u.ATTRIBUTES}attributesInfo(){return u.ATTRIBUTES_INFO}}u.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],u.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}],u.ATTRIBUTES_INFO={"fill-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100},"fill-pattern":{name:"tlbr",type:12,isOptional:!0}};class h extends s{constructor(t,e){super(t),this.usefillColor=e}geometryInfo(){return h.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this.usefillColor?h.ATTRIBUTES_FILL:h.ATTRIBUTES_OUTLINE}attributesInfo(){return this.usefillColor?h.ATTRIBUTES_INFO_FILL:h.ATTRIBUTES_INFO_OUTLINE}}h.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],h.ATTRIBUTES_FILL=["fill-color","fill-opacity"],h.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:8,normalized:!1,divisor:0}],h.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100}},h.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100}};class d extends s{constructor(t){super(t)}geometryInfo(){return d.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return d.ATTRIBUTES}attributesInfo(){return d.ATTRIBUTES_INFO}}d.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],d.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_extrude_offset",count:4,type:5120,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_dir_normal",count:4,type:5120,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5123,offset:12,stride:16,normalized:!1,divisor:0}],d.ATTRIBUTES_INFO={"line-width":{name:"width",type:1,precisionFactor:2},"line-gap-width":{name:"gap_width",type:1,precisionFactor:2},"line-offset":{name:"offset",type:0,precisionFactor:2},"line-color":{name:"color",type:10},"line-opacity":{name:"opacity",type:1,precisionFactor:100},"line-blur":{name:"blur",type:1,precisionFactor:4},"line-pattern":{name:"tlbr",type:12,isOptional:!0},"line-dasharray":{name:"tlbr",type:11,isOptional:!0}};const p=[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_texAngleRange",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}],f=[{name:"a_opacityInfo",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}];class b extends s{constructor(t){super(t)}geometryInfo(){return p}opacityInfo(){return f}attributes(){return b.ATTRIBUTES}attributesInfo(){return b.ATTRIBUTES_INFO}}b.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],b.ATTRIBUTES_INFO={"icon-color":{name:"color",type:10},"icon-opacity":{name:"opacity",type:1,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:10},"icon-halo-width":{name:"halo_width",type:1,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:1,precisionFactor:4},"icon-size":{name:"size",type:1,precisionFactor:32,isLayout:!0}};class y extends s{constructor(t){super(t)}geometryInfo(){return p}opacityInfo(){return f}attributes(){return y.ATTRIBUTES}attributesInfo(){return y.ATTRIBUTES_INFO}}y.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],y.ATTRIBUTES_INFO={"text-color":{name:"color",type:10},"text-opacity":{name:"opacity",type:1,precisionFactor:100},"text-halo-color":{name:"halo_color",type:10},"text-halo-width":{name:"halo_width",type:1,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:1,precisionFactor:4},"text-size":{name:"size",type:1,isLayout:!0}};var m=i("9ef0"),g=i("d329"),v=i("0554"),w=i("3b19");const O={kind:"null"},j={kind:"number"},_={kind:"string"},x={kind:"boolean"},S={kind:"color"},M={kind:"object"},k={kind:"value"};function I(t,e){return{kind:"array",itemType:t,n:e}}const T=[O,j,_,x,S,M,I(k)];function E(t){if("array"===t.kind){const e=E(t.itemType);return"number"==typeof t.n?`array<${e}, ${t.n}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}function A(t){if(null===t)return O;if("string"==typeof t)return _;if("boolean"==typeof t)return x;if("number"==typeof t)return j;if(t instanceof m["a"])return S;if(Array.isArray(t)){let e;for(const i of t){const t=A(i);if(e){if(e!==t){e=k;break}}else e=t}return I(e||k,t.length)}return"object"==typeof t?M:k}function C(t,e){if("array"===e.kind)return"array"===t.kind&&(0===t.n&&"value"===t.itemType.kind||C(t.itemType,e.itemType))&&("number"!=typeof e.n||e.n===t.n);if("value"===e.kind)for(const i of T)if(C(t,i))return!0;return e.kind===t.kind}function P(t){if(null===t)return"";const e=typeof t;return"string"===e?t:"number"===e||"boolean"===e?String(t):t instanceof m["a"]?t.toString():JSON.stringify(t)}class R{constructor(t){this.parent=t,this.vars={}}add(t,e){this.vars[t]=e}get(t){return this.vars[t]?this.vars[t]:this.parent?this.parent.get(t):null}}class L{constructor(){this.type=k}static parse(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new L}evaluate(t,e){return null==t?void 0:t.id}}class N{constructor(){this.type=_}static parse(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new N}evaluate(t,e){if(!t)return null;switch(t.type){case 1:return"Point";case 2:return"LineString";case 3:return"Polygon";default:return null}}}class F{constructor(){this.type=M}static parse(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new F}evaluate(t,e){return null==t?void 0:t.values}}class D{constructor(){this.type=j}static parse(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new D}evaluate(t,e){return e}}class z{constructor(t,e,i){this.lhs=t,this.rhs=e,this.compare=i,this.type=x}static parse(t,e,i){if(3!==t.length&&4!==t.length)throw new Error(`"${t[0]}" expects 2 or 3 arguments`);if(4===t.length)throw new Error(`"${t[0]}" collator not supported`);return new z(It(t[1],e),It(t[2],e),i)}evaluate(t,e){return this.compare(this.lhs.evaluate(t,e),this.rhs.evaluate(t,e))}}class V extends z{static parse(t,e){return z.parse(t,e,(t,e)=>t===e)}}class $ extends z{static parse(t,e){return z.parse(t,e,(t,e)=>t!==e)}}class G extends z{static parse(t,e){return z.parse(t,e,(t,e)=>t<e)}}class U extends z{static parse(t,e){return z.parse(t,e,(t,e)=>t<=e)}}class q extends z{static parse(t,e){return z.parse(t,e,(t,e)=>t>e)}}class B extends z{static parse(t,e){return z.parse(t,e,(t,e)=>t>=e)}}class H{constructor(t){this.arg=t,this.type=x}static parse(t,e){if(2!==t.length)throw new Error('"!" expects 1 argument');return new H(It(t[1],e))}evaluate(t,e){return!this.arg.evaluate(t,e)}}class W{constructor(t){this.args=t,this.type=x}static parse(t,e){const i=[];for(let n=1;n<t.length;n++)i.push(It(t[n],e));return new W(i)}evaluate(t,e){for(const i of this.args)if(!i.evaluate(t,e))return!1;return!0}}class J{constructor(t){this.args=t,this.type=x}static parse(t,e){const i=[];for(let n=1;n<t.length;n++)i.push(It(t[n],e));return new J(i)}evaluate(t,e){for(const i of this.args)if(i.evaluate(t,e))return!0;return!1}}class K{constructor(t){this.args=t,this.type=x}static parse(t,e){const i=[];for(let n=1;n<t.length;n++)i.push(It(t[n],e));return new K(i)}evaluate(t,e){for(const i of this.args)if(i.evaluate(t,e))return!1;return!0}}class Y{constructor(t,e,i){this.type=t,this.args=e,this.fallback=i}static parse(t,e,i){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');let n;const r=[];for(let o=1;o<t.length-1;o+=2){const s=It(t[o],e),a=It(t[o+1],e,i);n||(n=a.type),r.push({condition:s,output:a})}const s=It(t[t.length-1],e,i);return n||(n=s.type),new Y(n,r,s)}evaluate(t,e){for(const i of this.args)if(i.condition.evaluate(t,e))return i.output.evaluate(t,e);return this.fallback.evaluate(t,e)}}class Z{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');let i;const n=[];for(let r=1;r<t.length;r++){const s=It(t[r],e);i||(i=s.type),n.push(s)}return new Z(i,n)}evaluate(t,e){for(const i of this.args){const n=i.evaluate(t,e);if(null!==n)return n}return null}}class X{constructor(t,e,i,n,r){this.type=t,this.input=e,this.labels=i,this.outputs=n,this.fallback=r}static parse(t,e){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');let i;const n=It(t[1],e),r=[],s={};let o;for(let a=2;a<t.length-1;a+=2){let n=t[a];Array.isArray(n)||(n=[n]);for(const t of n){const e=typeof t;if("string"!==e&&"number"!==e)throw new Error('"match" requires string or number literal as labels');if(o){if(e!==o)throw new Error('"match" requires labels to have the same type')}else o=e;s[t]=r.length}const c=It(t[a+1],e);i||(i=c.type),r.push(c)}return new X(i,n,s,r,It(t[t.length-1],e))}evaluate(t,e){const i=this.input.evaluate(t,e);return(this.outputs[this.labels[i]]||this.fallback).evaluate(t,e)}}class Q{constructor(t,e,i,n,r){this.operator=t,this.type=e,this.interpolation=i,this.input=n,this.stops=r}static parse(t,e,i){const n=t[0];if(t.length<5)throw new Error(`"${n}" expects at least 4 arguments`);const r=t[1];if(!Array.isArray(r)||0===r.length)throw new Error(`"${r}" is not a valid interpolation`);switch(r[0]){case"linear":if(1!==r.length)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(2!==r.length||"number"!=typeof r[1])throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(5!==r.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let t=1;t<5;t++){const e=r[t];if("number"!=typeof e||e<0||e>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${t[0]}" unknown interpolation type "${r[0]}"`)}if(t.length%2!=1)throw new Error(`"${n}" expects an even number of arguments`);const s=It(t[2],e,j);let o;"interpolate-hcl"===n||"interpolate-lab"===n?o=S:i&&"value"!==i.kind&&(o=i);const a=[];for(let c=3;c<t.length;c+=2){const i=t[c];if("number"!=typeof i)throw new Error(`"${n}" requires stop inputs as literal numbers`);if(a.length&&a[a.length-1][0]>=i)throw new Error(`"${n}" requires strictly ascending stop inputs`);const r=It(t[c+1],e,o);o||(o=r.type),a.push([i,r])}if(o&&o!==S&&o!==j&&("array"!==o.kind||o.itemType!==j))throw new Error(`"${n}" cannot interpolate type ${E(o)}`);return new Q(n,o,r,s,a)}evaluate(t,e){const i=this.stops;if(1===i.length)return i[0][1].evaluate(t,e);const n=this.input.evaluate(t,e);if(n<=i[0][0])return i[0][1].evaluate(t,e);if(n>=i[i.length-1][0])return i[i.length-1][1].evaluate(t,e);let r=0;for(;++r<i.length&&!(n<i[r][0]););const s=i[r-1][0],o=i[r][0],a=Q.interpolationRatio(this.interpolation,n,s,o),c=i[r-1][1].evaluate(t,e),l=i[r][1].evaluate(t,e);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(c)&&Array.isArray(l))return c.map((t,e)=>Object(w["e"])(t,l[e],a));if("color"===this.type.kind&&c instanceof m["a"]&&l instanceof m["a"]){const t=new m["a"](c),e=new m["a"](l);return new m["a"]([Object(w["e"])(t.r,e.r,a),Object(w["e"])(t.g,e.g,a),Object(w["e"])(t.b,e.b,a),Object(w["e"])(t.a,e.a,a)])}if("number"===this.type.kind&&"number"==typeof c&&"number"==typeof l)return Object(w["e"])(c,l,a);throw new Error(`"${this.operator}" cannot interpolate type ${E(this.type)}`)}if("interpolate-hcl"===this.operator){const t=Object(g["d"])(c),e=Object(g["d"])(l),i=e.h-t.h,n=Object(g["e"])({h:t.h+a*(i>180||i<-180?i-360*Math.round(i/360):i),c:Object(w["e"])(t.c,e.c,a),l:Object(w["e"])(t.l,e.l,a)});return new m["a"]({a:Object(w["e"])(c.a,l.a,a),...n})}if("interpolate-lab"===this.operator){const t=Object(g["c"])(c),e=Object(g["c"])(l),i=Object(g["e"])({l:Object(w["e"])(t.l,e.l,a),a:Object(w["e"])(t.a,e.a,a),b:Object(w["e"])(t.b,e.b,a)});return new m["a"]({a:Object(w["e"])(c.a,l.a,a),...i})}throw new Error(`Unexpected operator "${this.operator}"`)}interpolationUniformValue(t,e){const i=this.stops;if(1===i.length)return 0;if(t>=i[i.length-1][0])return 0;let n=0;for(;++n<i.length&&!(t<i[n][0]););const r=i[n-1][0],s=i[n][0];return Q.interpolationRatio(this.interpolation,e,r,s)}getInterpolationRange(t){const e=this.stops;if(1===e.length){const t=e[0][0];return[t,t]}const i=e[e.length-1][0];if(t>=i)return[i,i];let n=0;for(;++n<e.length&&!(t<e[n][0]););return[e[n-1][0],e[n][0]]}static interpolationRatio(t,e,i,n){let r=0;return"linear"===t[0]?r=Q.exponentialInterpolationRatio(e,1,i,n):"exponential"===t[0]?r=Q.exponentialInterpolationRatio(e,t[1],i,n):"cubic-bezier"===t[0]&&(r=Object(v["c"])(t[1],t[2],t[3],t[4])(Q.exponentialInterpolationRatio(e,1,i,n),1e-5)),r<0?r=0:r>1&&(r=1),r}static exponentialInterpolationRatio(t,e,i,n){const r=n-i;if(0===r)return 0;const s=t-i;return 1===e?s/r:(e**s-1)/(e**r-1)}}class tt{constructor(t,e,i){this.type=t,this.input=e,this.stops=i}static parse(t,e){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');const i=It(t[1],e,j);let n;const r=[];r.push([-1/0,It(t[2],e)]);for(let s=3;s<t.length;s+=2){const i=t[s];if("number"!=typeof i)throw new Error('"step" requires stop inputs as literal numbers');if(r.length&&r[r.length-1][0]>=i)throw new Error('"step" requires strictly ascending stop inputs');const o=It(t[s+1],e);n||(n=o.type),r.push([i,o])}return new tt(n,i,r)}evaluate(t,e){const i=this.stops;if(1===i.length)return i[0][1].evaluate(t,e);const n=this.input.evaluate(t,e);let r=0;for(;++r<i.length&&!(n<i[r][0]););return this.stops[r-1][1].evaluate(t,e)}}class et{constructor(t,e){this.type=t,this.output=e}static parse(t,e,i){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');const n=new R(e);for(let s=1;s<t.length-1;s+=2){const i=t[s];if("string"!=typeof i)throw new Error('"let" requires a string to define variable names - found '+i);n.add(i,It(t[s+1],e))}const r=It(t[t.length-1],n,i);return new et(r.type,r)}evaluate(t,e){return this.output.evaluate(t,e)}}class it{constructor(t,e){this.type=t,this.output=e}static parse(t,e,i){if(2!==t.length||"string"!=typeof t[1])throw new Error('"var" requires just one literal string argument');const n=e.get(t[1]);if(!n)throw new Error(t[1]+' must be defined before being used in a "var" expression');return new it(i||k,n)}evaluate(t,e){return this.output.evaluate(t,e)}}class nt{constructor(t,e,i){this.type=t,this.index=e,this.array=i}static parse(t,e){if(3!==t.length)throw new Error('"at" expects 2 arguments');const i=It(t[1],e,j),n=It(t[2],e);return new nt(n.type.itemType,i,n)}evaluate(t,e){const i=this.index.evaluate(t,e),n=this.array.evaluate(t,e);if(i<0||i>=n.length)throw new Error('"at" index out of bounds');if(i!==Math.floor(i))throw new Error('"at" index must be an integer');return n[i]}}class rt{constructor(t,e){this.key=t,this.obj=e,this.type=k}static parse(t,e){let i,n;switch(t.length){case 2:return i=It(t[1],e),new rt(i);case 3:return i=It(t[1],e),n=It(t[2],e),new rt(i,n);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(t,e){const i=this.key.evaluate(t,e);return this.obj?this.obj.evaluate(t,e)[i]:null==t?void 0:t.values[i]}}class st{constructor(t,e){this.key=t,this.obj=e,this.type=x}static parse(t,e){let i,n;switch(t.length){case 2:return i=It(t[1],e),new st(i);case 3:return i=It(t[1],e),n=It(t[2],e),new st(i,n);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(t,e){const i=this.key.evaluate(t,e);return this.obj?i in this.obj.evaluate(t,e):!(null==t||!t.values[i])}}class ot{constructor(t,e){this.key=t,this.vals=e,this.type=x}static parse(t,e){if(3!==t.length)throw new Error('"in" expects 2 arguments');return new ot(It(t[1],e),It(t[2],e))}evaluate(t,e){const i=this.key.evaluate(t,e);return-1!==this.vals.evaluate(t,e).indexOf(i)}}class at{constructor(t,e,i){this.item=t,this.array=e,this.from=i,this.type=j}static parse(t,e){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const i=It(t[1],e),n=It(t[2],e);if(4===t.length){const r=It(t[3],e,j);return new at(i,n,r)}return new at(i,n)}evaluate(t,e){const i=this.item.evaluate(t,e),n=this.array.evaluate(t,e);if(this.from){const r=this.from.evaluate(t,e);if(r!==Math.floor(r))throw new Error('"index-of" index must be an integer');return n.indexOf(i,r)}return n.indexOf(i)}}class ct{constructor(t){this.arg=t,this.type=j}static parse(t,e){if(2!==t.length)throw new Error('"length" expects 2 arguments');const i=It(t[1],e);return new ct(i)}evaluate(t,e){const i=this.arg.evaluate(t,e);if("string"==typeof i)return i.length;if(Array.isArray(i))return i.length;throw new Error('"length" expects string or array')}}class lt{constructor(t,e,i,n){this.type=t,this.array=e,this.from=i,this.to=n}static parse(t,e){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');const i=It(t[1],e),n=It(t[2],e,j);if(n.type!==j)throw new Error('"slice" index must return a number');if(4===t.length){const r=It(t[3],e,j);if(r.type!==j)throw new Error('"slice" index must return a number');return new lt(i.type,i,n,r)}return new lt(i.type,i,n)}evaluate(t,e){const i=this.array.evaluate(t,e);if(!Array.isArray(i)&&"string"!=typeof i)throw new Error('"slice" input must be an array or a string');const n=this.from.evaluate(t,e);if(n<0||n>=i.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this.to){const r=this.to.evaluate(t,e);if(r<0||r>=i.length)throw new Error('"slice" index out of bounds');if(r!==Math.floor(r))throw new Error('"slice" index must be an integer');return i.slice(n,r)}return i.slice(n)}}class ut{constructor(){this.type=x}static parse(t){if(1!==t.length)throw new Error('"has-id" expects no arguments');return new ut}evaluate(t,e){return t&&void 0!==t.id}}class ht{constructor(t,e){this.args=t,this.calculate=e,this.type=j}static parse(t,e,i){const n=t.slice(1).map(t=>It(t,e));return new ht(n,i)}evaluate(t,e){let i;return this.args&&(i=this.args.map(i=>i.evaluate(t,e))),this.calculate(i)}}class dt extends ht{static parse(t,e){switch(t.length){case 2:return ht.parse(t,e,t=>-t[0]);case 3:return ht.parse(t,e,t=>t[0]-t[1]);default:throw new Error('"-" expects 1 or 2 arguments')}}}class pt extends ht{static parse(t,e){return ht.parse(t,e,t=>{let e=1;for(const i of t)e*=i;return e})}}class ft extends ht{static parse(t,e){if(3===t.length)return ht.parse(t,e,t=>t[0]/t[1]);throw new Error('"/" expects 2 arguments')}}class bt extends ht{static parse(t,e){if(3===t.length)return ht.parse(t,e,t=>t[0]%t[1]);throw new Error('"%" expects 2 arguments')}}class yt extends ht{static parse(t,e){if(3===t.length)return ht.parse(t,e,t=>t[0]**t[1]);throw new Error('"^" expects 1 or 2 arguments')}}class mt extends ht{static parse(t,e){return ht.parse(t,e,t=>{let e=0;for(const i of t)e+=i;return e})}}class gt{constructor(t,e){this.args=t,this.calculate=e,this.type=j}static parse(t,e){const i=t.slice(1).map(t=>It(t,e));return new gt(i,gt.ops[t[0]])}evaluate(t,e){let i;return this.args&&(i=this.args.map(i=>i.evaluate(t,e))),this.calculate(i)}}gt.ops={abs:t=>Math.abs(t[0]),acos:t=>Math.acos(t[0]),asin:t=>Math.asin(t[0]),atan:t=>Math.atan(t[0]),ceil:t=>Math.ceil(t[0]),cos:t=>Math.cos(t[0]),e:()=>Math.E,floor:t=>Math.floor(t[0]),ln:t=>Math.log(t[0]),ln2:()=>Math.LN2,log10:t=>Math.log(t[0])/Math.LN10,log2:t=>Math.log(t[0])/Math.LN2,max:t=>Math.max(...t),min:t=>Math.min(...t),pi:()=>Math.PI,round:t=>Math.round(t[0]),sin:t=>Math.sin(t[0]),sqrt:t=>Math.sqrt(t[0]),tan:t=>Math.tan(t[0])};class vt{constructor(t){this.args=t,this.type=_}static parse(t,e){return new vt(t.slice(1).map(t=>It(t,e)))}evaluate(t,e){return this.args.map(i=>i.evaluate(t,e)).join("")}}class wt{constructor(t,e){this.arg=t,this.calculate=e,this.type=_}static parse(t,e){if(2!==t.length)throw new Error(t[0]+" expects 1 argument");const i=It(t[1],e);return new wt(i,wt.ops[t[0]])}evaluate(t,e){return this.calculate(this.arg.evaluate(t,e))}}wt.ops={downcase:t=>t.toLowerCase(),upcase:t=>t.toUpperCase()};class Ot{constructor(t){this.args=t,this.type=S}static parse(t,e){if(4!==t.length)throw new Error('"rgb" expects 3 arguments');const i=t.slice(1).map(t=>It(t,e));return new Ot(i)}evaluate(t,e){const i=this._validate(this.args[0].evaluate(t,e)),n=this._validate(this.args[1].evaluate(t,e)),r=this._validate(this.args[2].evaluate(t,e));return new m["a"]({r:i,g:n,b:r})}_validate(t){if("number"!=typeof t||t<0||t>255)throw new Error(t+": invalid color component");return Math.round(t)}}class jt{constructor(t){this.args=t,this.type=S}static parse(t,e){if(5!==t.length)throw new Error('"rgba" expects 4 arguments');const i=t.slice(1).map(t=>It(t,e));return new jt(i)}evaluate(t,e){const i=this._validate(this.args[0].evaluate(t,e)),n=this._validate(this.args[1].evaluate(t,e)),r=this._validate(this.args[2].evaluate(t,e)),s=this._validateAlpha(this.args[3].evaluate(t,e));return new m["a"]({r:i,g:n,b:r,a:s})}_validate(t){if("number"!=typeof t||t<0||t>255)throw new Error(t+": invalid color component");return Math.round(t)}_validateAlpha(t){if("number"!=typeof t||t<0||t>1)throw new Error(t+": invalid alpha color component");return t}}class _t{constructor(t){this.color=t,this.type=I(j,4)}static parse(t,e){if(2!==t.length)throw new Error('"to-rgba" expects 1 argument');const i=It(t[1],e);return new _t(i)}evaluate(t,e){return new m["a"](this.color.evaluate(t,e)).toRgba()}}class xt{constructor(t,e){this.type=t,this.args=e}static parse(t,e){const i=t[0];if(t.length<2)throw new Error(i+" expects at least one argument");let n,r=1;if("array"===i){if(t.length>2){switch(t[1]){case"string":n=_;break;case"number":n=j;break;case"boolean":n=x;break;default:throw new Error('"array" type argument must be string, number or boolean')}r++}else n=k;let e;if(t.length>3){if(e=t[2],null!==e&&("number"!=typeof e||e<0||e!==Math.floor(e)))throw new Error('"array" length argument must be a positive integer literal');r++}n=I(n,e)}else switch(i){case"string":n=_;break;case"number":n=j;break;case"boolean":n=x;break;case"object":n=M}const s=[];for(;r<t.length;r++){const i=It(t[r],e);s.push(i)}return new xt(n,s)}evaluate(t,e){let i;for(const n of this.args){const r=n.evaluate(t,e);if(i=A(r),C(i,this.type))return r}throw new Error(`Expected ${E(this.type)} but got ${E(i)}`)}}class St{constructor(t,e){this.type=t,this.args=e}static parse(t,e){const i=t[0],n=St.types[i];if(n===x||n===_){if(2!==t.length)throw new Error(i+" expects one argument")}else if(t.length<2)throw new Error(i+" expects at least one argument");const r=[];for(let s=1;s<t.length;s++){const i=It(t[s],e);r.push(i)}return new St(n,r)}evaluate(t,e){if(this.type===x)return Boolean(this.args[0].evaluate(t,e));if(this.type===_)return P(this.args[0].evaluate(t,e));if(this.type===j){for(const i of this.args){const n=Number(i.evaluate(t,e));if(!isNaN(n))return n}return null}if(this.type===S){for(const i of this.args)try{const n=St.toColor(i.evaluate(t,e));if(n instanceof m["a"])return n}catch{}return null}}static toBoolean(t){return Boolean(t)}static toString(t){return P(t)}static toNumber(t){const e=Number(t);if(isNaN(e))throw new Error(`"${t}" is not a number`);return e}static toColor(t){if(t instanceof m["a"])return t;if("string"==typeof t){const e=m["a"].fromString(t);if(e)return e;throw new Error(`"${t}" is not a color`)}if(Array.isArray(t))return m["a"].fromArray(t);throw new Error(`"${t}" is not a color`)}}St.types={"to-boolean":x,"to-color":S,"to-number":j,"to-string":_};class Mt{constructor(t){this.val=t,this.type=A(t)}static parse(t){if(2!==t.length)throw new Error('"literal" expects 1 argument');return new Mt(t[1])}evaluate(t,e){return this.val}}class kt{constructor(t){this.arg=t,this.type=_}static parse(t,e){if(2!==t.length)throw new Error('"typeof" expects 1 argument');return new kt(It(t[1],e))}evaluate(t,e){return E(A(this.arg.evaluate(t,e)))}}function It(t,e,i){const n=typeof t;if("string"===n||"boolean"===n||"number"===n||null===t){if(i)switch(i.kind){case"string":"string"!==n&&(t=St.toString(t));break;case"number":"number"!==n&&(t=St.toNumber(t));break;case"color":t=St.toColor(t)}t=["literal",t]}if(!Array.isArray(t)||0===t.length)throw new Error("Expression must be a non empty array");const r=t[0];if("string"!=typeof r)throw new Error("First element of expression must be a string");const s=Tt[r];if(void 0===s)throw new Error(`Invalid expression operator "${r}"`);if(!s)throw new Error(`Unimplemented expression operator "${r}"`);return s.parse(t,e,i)}const Tt={array:xt,boolean:xt,collator:null,format:null,image:null,literal:Mt,number:xt,"number-format":null,object:xt,string:xt,"to-boolean":St,"to-color":St,"to-number":St,"to-string":St,typeof:kt,accumulated:null,"feature-state":null,"geometry-type":N,id:L,"line-progress":null,properties:F,at:nt,get:rt,has:st,in:ot,"index-of":at,length:ct,slice:lt,"!":H,"!=":$,"<":G,"<=":U,"==":V,">":q,">=":B,all:W,any:J,case:Y,coalesce:Z,match:X,within:null,interpolate:Q,"interpolate-hcl":Q,"interpolate-lab":Q,step:tt,let:et,var:it,concat:vt,downcase:wt,"is-supported-script":null,"resolved-locale":null,upcase:wt,rgb:Ot,rgba:jt,"to-rgba":_t,"-":dt,"*":pt,"/":ft,"%":bt,"^":yt,"+":mt,abs:gt,acos:gt,asin:gt,atan:gt,ceil:gt,cos:gt,e:gt,floor:gt,ln:gt,ln2:gt,log10:gt,log2:gt,max:gt,min:gt,pi:gt,round:gt,sin:gt,sqrt:gt,tan:gt,zoom:D,"heatmap-density":null,"has-id":ut,none:K};class Et{constructor(t){this._expression=t}filter(t,e){if(!this._expression)return!0;try{return this._expression.evaluate(t,e)}catch(i){return console.log(i.message),!0}}static createFilter(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{const e=It(t,null,x);return new Et(e)}catch(e){return console.log(e.message),null}}static isLegacyFilter(t){if(!Array.isArray(t))return!0;if(0===t.length)return!0;switch(t[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===t.length&&"string"==typeof t[1]&&!Array.isArray(t[2]);case"in":return t.length>=3&&"string"==typeof t[1]&&!Array.isArray(t[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let e=1;e<t.length;e++)if(!this.isLegacyFilter(t[1]))return!1;return!0;case"has":return 2===t.length&&("$id"===t[1]||"$type"===t[1]);default:return!1}}static convertLegacyFilter(t){if(!Array.isArray(t)||0===t.length)return!0;const e=t[0];if(1===t.length)return"any"!==e;switch(e){case"==":return Et.convertComparison("==",t[1],t[2]);case"!=":return Et.negate(Et.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return Et.convertComparison(e,t[1],t[2]);case"in":return Et.convertIn(t[1],t.slice(2));case"!in":return Et.negate(Et.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return Et.convertCombining(e,t.slice(1));case"has":return Et.convertHas(t[1]);case"!has":return Et.negate(Et.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(t,e,i){switch(e){case"$type":return[t,["geometry-type"],i];case"$id":return[t,["id"],i];default:return[t,["get",e],i]}}static convertIn(t,e){switch(t){case"$type":return["in",["geometry-type"],["literal",e]];case"$id":return["in",["id"],["literal",e]];default:return["in",["get",t],["literal",e]]}}static convertHas(t){switch(t){case"$type":return!0;case"$id":return["has-id"];default:return["has",t]}}static convertCombining(t,e){return[t].concat(e.map(this.convertLegacyFilter))}static negate(t){return["!",t]}}class At{}At.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}},At.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}},At.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0},"line-cap":{type:"enum",values:["butt","round","square"],default:0},"line-join":{type:"enum",values:["bevel","round","miter"],default:2},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},At.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:0},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:0},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:2},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:0},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:2},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:2},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:0},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[0]}},At.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}},At.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},At.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:0}},At.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:0},"line-width":{type:"number",minimum:0,default:1}},At.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:0},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:0}},At.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},At.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:0}};class Ct{constructor(t,e){let i;switch(this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":i=!0;break;case"array":i="number"===t.value;break;default:i=!1}if(null==e&&(e=t.default),Array.isArray(e)&&e.length>0&&Tt[e[0]]){const i={number:j,color:S,string:_,boolean:x,enum:_};try{const n="array"===t.type?I(i[t.value]||k,t.length):i[t.type],r=It(e,null,n);this.getValue=this._buildExpression(r,t),this.isDataDriven=!0,r instanceof Q&&r.input instanceof D&&(this.interpolator=r)}catch(r){console.log(r.message),this.getValue=this._buildSimple(t.default)}return}i&&"interval"===e.type&&(i=!1);const n=e&&e.stops&&e.stops.length>0;if(n)for(const s of e.stops)s[1]=this._validate(s[1],t);if(this.isDataDriven=!!e&&!!e.property,this.isDataDriven)if(void 0!==e.default&&(e.default=this._validate(e.default,t)),n)switch(e.type){case"identity":this.getValue=this._buildIdentity(e,t);break;case"categorical":this.getValue=this._buildCategorical(e,t);break;default:this.getValue=i?this._buildInterpolate(e,t):this._buildInterval(e,t)}else this.getValue=this._buildIdentity(e,t);else n?this.getValue=i?this._buildZoomInterpolate(e):this._buildZoomInterval(e):(e=this._validate(e,t),this.getValue=this._buildSimple(e))}_validate(t,e){if("number"===e.type){if(t<e.minimum)return e.minimum;if(t>e.maximum)return e.maximum}else"color"===e.type?t=Ct._parseColor(t):"enum"===e.type?"string"==typeof t&&(t=e.values.indexOf(t)):"array"===e.type&&"enum"===e.value?t=t.map(t=>"string"==typeof t?e.values.indexOf(t):t):"string"===e.type&&(t=P(t));return t}_buildSimple(t){return()=>t}_buildExpression(t,e){return(i,n)=>{try{const r=t.evaluate(n,i);return void 0===r?e.default:this._validate(r,e)}catch(r){return console.log(r.message),e.default}}}_buildIdentity(t,e){return(i,n)=>{let r;return n&&(r=n.values[t.property]),void 0!==r&&(r=this._validate(r,e)),null!=r?r:void 0!==t.default?t.default:e.default}}_buildCategorical(t,e){return(i,n)=>{let r;return n&&(r=n.values[t.property]),r=this._categorical(r,t.stops),void 0!==r?r:void 0!==t.default?t.default:e.default}}_buildInterval(t,e){return(i,n)=>{let r;return n&&(r=n.values[t.property]),"number"==typeof r?this._interval(r,t.stops):void 0!==t.default?t.default:e.default}}_buildInterpolate(t,e){return(i,n)=>{let r;return n&&(r=n.values[t.property]),"number"==typeof r?this._interpolate(r,t.stops,t.base||1):void 0!==t.default?t.default:e.default}}_buildZoomInterpolate(t){return e=>this._interpolate(e,t.stops,t.base||1)}_buildZoomInterval(t){return e=>this._interval(e,t.stops)}_categorical(t,e){const i=e.length;for(let n=0;n<i;n++)if(e[n][0]===t)return e[n][1]}_interval(t,e){const i=e.length;let n=0;for(let r=0;r<i&&e[r][0]<=t;r++)n=r;return e[n][1]}_interpolate(t,e,i){let n,r;const s=e.length;for(let o=0;o<s;o++){const i=e[o];if(!(i[0]<=t)){r=i;break}n=i}if(n&&r){const e=r[0]-n[0],s=t-n[0],o=1===i?s/e:(i**s-1)/(i**e-1);if(Array.isArray(n[1])){const t=n[1],e=r[1],i=[];for(let n=0;n<t.length;n++)i.push(Object(w["e"])(t[n],e[n],o));return i}return Object(w["e"])(n[1],r[1],o)}return n?n[1]:r?r[1]:void 0}static _isEmpty(t){for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}static _parseColor(t){return Array.isArray(t)?t:("string"==typeof t&&(t=new m["a"](t)),t instanceof m["a"]&&!this._isEmpty(t)?m["a"].toUnitRGBA(t):void 0)}}var Pt=i("8c81");class Rt{constructor(t,e,i,n){switch(this.type=t,this.typeName=e.type,this.id=e.id,this.source=e.source,this.sourceLayer=e["source-layer"],this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.filter=e.filter,this.layout=e.layout,this.paint=e.paint,this.z=i,this.uid=n,t){case 0:this._layoutDefinition=At.backgroundLayoutDefinition,this._paintDefinition=At.backgroundPaintDefinition;break;case 1:this._layoutDefinition=At.fillLayoutDefinition,this._paintDefinition=At.fillPaintDefinition;break;case 2:this._layoutDefinition=At.lineLayoutDefinition,this._paintDefinition=At.linePaintDefinition;break;case 3:this._layoutDefinition=At.symbolLayoutDefinition,this._paintDefinition=At.symbolPaintDefinition;break;case 4:this._layoutDefinition=At.circleLayoutDefinition,this._paintDefinition=At.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=Et.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,e,i){let n;const r=this._layoutProperties[t];return r&&(n=r.getValue(e,i)),void 0===n&&(n=this._layoutDefinition[t].default),n}getPaintValue(t,e,i){let n;const r=this._paintProperties[t];return r&&(n=r.getValue(e,i)),void 0===n&&(n=this._paintDefinition[t].default),n}isPainterDataDriven(){const t=this._paintProperties;if(t)for(const e in t)if(t[e].isDataDriven)return!0;return!1}_parseLayout(t){const e={};for(const i in t){const n=this._layoutDefinition[i];n&&(e[i]=new Ct(n,t[i]))}return e}_parsePaint(t){const e={};for(const i in t){const n=this._paintDefinition[i];n&&(e[i]=new Ct(n,t[i]))}return e}computeAttributesKey(t,e,i,n){let r=0,s=0;for(const o of e){let t=3;if(!o||o!==n){const e=i[o],{isLayout:n,isOptional:r}=e,s=n?this.getLayoutProperty(o):this.getPaintProperty(o);t=null!=s&&s.interpolator?2:null!=s&&s.isDataDriven?1:r&&!s?3:0}s|=t<<r,r+=2}return s<<3|t}}class Lt extends Rt{constructor(t,e,i,n){super(t,e,i,n),this.backgroundMaterial=new c(this.computeAttributesKey(0,c.ATTRIBUTES,c.ATTRIBUTES_INFO))}}class Nt extends Rt{constructor(t,e,i,n){super(t,e,i,n);const r=this.getPaintProperty("fill-color"),s=this.getPaintProperty("fill-opacity"),o=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=null==r?void 0:r.isDataDriven,this.hasDataDrivenOpacity=null==s?void 0:s.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||(null==o?void 0:o.isDataDriven);const a=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!a,this.hasDataDrivenOutlineColor=null==a?void 0:a.isDataDriven,this.hasDataDrivenOutline=a?a.isDataDriven:!!r&&r.isDataDriven,this.hasDataDrivenOutline=(a?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new u(this.computeAttributesKey(1,u.ATTRIBUTES,u.ATTRIBUTES_INFO)),this.outlineMaterial=new h(this.computeAttributesKey(2,this.outlineUsesFillColor?h.ATTRIBUTES_FILL:h.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?h.ATTRIBUTES_INFO_FILL:h.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}}class Ft extends Rt{constructor(t,e,i,n){var r,s,o,a,c,l,u,h,p;super(t,e,i,n);const f=this.getPaintProperty("line-pattern");if(this.lineMaterial=new d(this.computeAttributesKey(3,d.ATTRIBUTES,d.ATTRIBUTES_INFO,f?"line-dasharray":"")),this.hasDataDrivenLine=(null==(r=this.getPaintProperty("line-blur"))?void 0:r.isDataDriven)||(null==(s=this.getPaintProperty("line-color"))?void 0:s.isDataDriven)||(null==(o=this.getPaintProperty("line-gap-width"))?void 0:o.isDataDriven)||(null==(a=this.getPaintProperty("line-offset"))?void 0:a.isDataDriven)||(null==(c=this.getPaintProperty("line-opacity"))?void 0:c.isDataDriven)||(null==(l=this.getPaintProperty("line-pattern"))?void 0:l.isDataDriven)||(null==(u=this.getPaintProperty("line-dasharray"))?void 0:u.isDataDriven)||(null==(h=this.getLayoutProperty("line-cap"))?void 0:h.isDataDriven)||(null==(p=this.getPaintProperty("line-width"))?void 0:p.isDataDriven),this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const t=this.getPaintProperty("line-width");if(!t||"number"==typeof t&&.5*t<Pt["K"]){const t=this.getPaintProperty("line-offset");(!t||"number"==typeof t&&0===t)&&(this.canUseThinTessellation=!0)}}}getDashKey(t,e){let i;switch(e){case 0:default:i="Butt";break;case 1:i="Round";break;case 2:i="Square"}return`dasharray-[${t.toString()}]-${i}`}}class Dt extends Rt{constructor(t,e,i,n){var r,s,o,a,c,l,u,h,d,p,f,m;super(t,e,i,n),this.iconMaterial=new b(this.computeAttributesKey(4,b.ATTRIBUTES,b.ATTRIBUTES_INFO)),this.textMaterial=new y(this.computeAttributesKey(6,y.ATTRIBUTES,y.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=(null==(r=this.getPaintProperty("icon-color"))?void 0:r.isDataDriven)||(null==(s=this.getPaintProperty("icon-halo-blur"))?void 0:s.isDataDriven)||(null==(o=this.getPaintProperty("icon-halo-color"))?void 0:o.isDataDriven)||(null==(a=this.getPaintProperty("icon-halo-width"))?void 0:a.isDataDriven)||(null==(c=this.getPaintProperty("icon-opacity"))?void 0:c.isDataDriven)||(null==(l=this.getLayoutProperty("icon-size"))?void 0:l.isDataDriven),this.hasDataDrivenText=(null==(u=this.getPaintProperty("text-color"))?void 0:u.isDataDriven)||(null==(h=this.getPaintProperty("text-halo-blur"))?void 0:h.isDataDriven)||(null==(d=this.getPaintProperty("text-halo-color"))?void 0:d.isDataDriven)||(null==(p=this.getPaintProperty("text-halo-width"))?void 0:p.isDataDriven)||(null==(f=this.getPaintProperty("text-opacity"))?void 0:f.isDataDriven)||(null==(m=this.getLayoutProperty("text-size"))?void 0:m.isDataDriven)}}class zt extends Rt{constructor(t,e,i,n){super(t,e,i,n),this.circleMaterial=new l(this.computeAttributesKey(5,l.ATTRIBUTES,l.ATTRIBUTES_INFO))}}class Vt{constructor(t,e,i){var n,r,s,o,a;let c;this.allowOverlap=t.getLayoutValue("icon-allow-overlap",e),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",e),this.keepUpright=t.getLayoutValue("icon-keep-upright",e),this.optional=t.getLayoutValue("icon-optional",e),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",e),2===this.rotationAlignment&&(this.rotationAlignment=i?0:1),c=t.getLayoutProperty("icon-anchor"),null!=(n=c)&&n.isDataDriven?this._anchorProp=c:this.anchor=t.getLayoutValue("icon-anchor",e),c=t.getLayoutProperty("icon-offset"),null!=(r=c)&&r.isDataDriven?this._offsetProp=c:this.offset=t.getLayoutValue("icon-offset",e),c=t.getLayoutProperty("icon-padding"),null!=(s=c)&&s.isDataDriven?this._paddingProp=c:this.padding=t.getLayoutValue("icon-padding",e),c=t.getLayoutProperty("icon-rotate"),null!=(o=c)&&o.isDataDriven?this._rotateProp=c:this.rotate=t.getLayoutValue("icon-rotate",e),c=t.getLayoutProperty("icon-size"),null!=(a=c)&&a.isDataDriven?this._sizeProp=c:this.size=t.getLayoutValue("icon-size",e)}update(t,e){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,e)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,e)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,e)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,e)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,e))}}class $t{constructor(t,e,i){var n,r,s,o,a,c,l,u,h,d,p;let f;this.allowOverlap=t.getLayoutValue("text-allow-overlap",e),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",e),this.keepUpright=t.getLayoutValue("text-keep-upright",e),this.optional=t.getLayoutValue("text-optional",e),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",e),2===this.rotationAlignment&&(this.rotationAlignment=i?0:1),f=t.getLayoutProperty("text-anchor"),null!=(n=f)&&n.isDataDriven?this._anchorProp=f:this.anchor=t.getLayoutValue("text-anchor",e),f=t.getLayoutProperty("text-justify"),null!=(r=f)&&r.isDataDriven?this._justifyProp=f:this.justify=t.getLayoutValue("text-justify",e),f=t.getLayoutProperty("text-letter-spacing"),null!=(s=f)&&s.isDataDriven?this._letterSpacingProp=f:this.letterSpacing=t.getLayoutValue("text-letter-spacing",e),f=t.getLayoutProperty("text-line-height"),null!=(o=f)&&o.isDataDriven?this._lineHeightProp=f:this.lineHeight=t.getLayoutValue("text-line-height",e),f=t.getLayoutProperty("text-max-angle"),null!=(a=f)&&a.isDataDriven?this._maxAngleProp=f:this.maxAngle=t.getLayoutValue("text-max-angle",e),f=t.getLayoutProperty("text-max-width"),null!=(c=f)&&c.isDataDriven?this._maxWidthProp=f:this.maxWidth=t.getLayoutValue("text-max-width",e),f=t.getLayoutProperty("text-offset"),null!=(l=f)&&l.isDataDriven?this._offsetProp=f:this.offset=t.getLayoutValue("text-offset",e),f=t.getLayoutProperty("text-padding"),null!=(u=f)&&u.isDataDriven?this._paddingProp=f:this.padding=t.getLayoutValue("text-padding",e),f=t.getLayoutProperty("text-rotate"),null!=(h=f)&&h.isDataDriven?this._rotateProp=f:this.rotate=t.getLayoutValue("text-rotate",e),f=t.getLayoutProperty("text-size"),null!=(d=f)&&d.isDataDriven?this._sizeProp=f:this.size=t.getLayoutValue("text-size",e),f=t.getLayoutProperty("text-writing-mode"),null!=(p=f)&&p.isDataDriven?this._writingModeProp=f:this.writingMode=t.getLayoutValue("text-writing-mode",e)}update(t,e){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,e)),this._justifyProp&&(this.justify=this._justifyProp.getValue(t,e)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,e)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,e)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,e)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,e)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,e)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,e)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,e)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,e)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,e))}}},"22f1":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s}));var n=i("7a2a");function r(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((t,e)=>t.type===i[e].type)}function s(t,e){const i=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let s=r.length;s<i.length;s++)r.push(Object(n["g"])(i[s]))}function o(t){const e=t[0];return!!e&&"type"in e}},"22f4":function(t,e,i){"use strict";i.d(e,"a",(function(){return j})),i.d(e,"b",(function(){return g})),i.d(e,"c",(function(){return x})),i.d(e,"d",(function(){return b})),i.d(e,"e",(function(){return m})),i.d(e,"f",(function(){return M})),i.d(e,"g",(function(){return S})),i.d(e,"h",(function(){return w})),i.d(e,"i",(function(){return O})),i.d(e,"j",(function(){return f})),i.d(e,"k",(function(){return v})),i.d(e,"l",(function(){return _})),i.d(e,"m",(function(){return p})),i.d(e,"n",(function(){return y}));var n=i("658b"),r=i("3af1"),s=i("5996"),o=i("fcf2"),a=i("b2b2"),c=(i("f4cc"),i("1233"));function l(t){if(!t)return t;const{start:e,end:i}=t;return new n["a"]({start:Object(a["l"])(e)?Object(c["b"])(e,-e.getTimezoneOffset(),"minutes"):e,end:Object(a["l"])(i)?Object(c["b"])(i,-i.getTimezoneOffset(),"minutes"):i})}function u(t){if(!t)return t;const{start:e,end:i}=t;return new n["a"]({start:Object(a["l"])(e)?Object(c["b"])(e,e.getTimezoneOffset(),"minutes"):e,end:Object(a["l"])(i)?Object(c["b"])(i,i.getTimezoneOffset(),"minutes"):i})}var h=i("fd14"),d=i("42be");const p={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},f={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},b={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},y={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:o["f"]}}},m={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},g={value:null,type:h["a"],json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function v(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},O={...w,json:{...w.json,origins:{"web-document":{...w.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>i&&"service"!==i.origin||!e.drawingInfo||void 0===e.drawingInfo.transparency?e.layerDefinition&&e.layerDefinition.drawingInfo&&void 0!==e.layerDefinition.drawingInfo.transparency?Object(d["b"])(e.layerDefinition.drawingInfo.transparency):void 0:Object(d["b"])(e.drawingInfo.transparency)}}},j={type:n["a"],readOnly:!0,get(){var t,e;if(null==(t=this.layer)||!t.timeInfo)return null;const{datesInUnknownTimezone:i,timeOffset:n,useViewTime:r}=this.layer,s=null==(e=this.view)?void 0:e.timeExtent;let o=this.layer.timeExtent;i&&(o=u(o));let a=r?s&&o?s.intersection(o):s||o:o;if(!a||a.isEmpty||a.isAllTime)return a;n&&(a=a.offset(-n.value,n.unit)),i&&(a=l(a));const c=this._get("timeExtent");return a.equals(c)?c:a}},_={type:r["a"],readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=r["a"].fromJSON(t);return null!=e.spatialReference&&"object"==typeof e.spatialReference&&(i.spatialReference=s["a"].fromJSON(e.spatialReference)),i}}}},read:!1}},x={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},M={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}},"23cb":function(t,e,i){var n=i("5926"),r=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):s(i,e)}},"23e7":function(t,e,i){var n=i("da84"),r=i("06cf").f,s=i("9112"),o=i("6eeb"),a=i("ce4e"),c=i("e893"),l=i("94ca");t.exports=function(t,e){var i,u,h,d,p,f,b=t.target,y=t.global,m=t.stat;if(u=y?n:m?n[b]||a(b,{}):(n[b]||{}).prototype,u)for(h in e){if(p=e[h],t.noTargetGet?(f=r(u,h),d=f&&f.value):d=u[h],i=l(y?h:b+(m?".":"#")+h,t.forced),!i&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(t.sham||d&&d.sham)&&s(p,"sham",!0),o(u,h,p,t)}}},"240c":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var n=i("b2b2"),r=i("b48e"),s=i("f408");function o(t){return c(t).result}function a(t){return c(t).geometry}function c(t){var e;return"graphics"!==(null==(e=t.layer)?void 0:e.type)?{result:1,geometry:null}:Object(n["k"])(t.geometry)?{result:2,geometry:null}:"on-the-ground"!==Object(s["f"])(t)&&Object(s["h"])(t)?{result:4,geometry:null}:"point"!==t.geometry.type&&"polyline"!==t.geometry.type&&("polygon"!==t.geometry.type||t.geometry instanceof r["a"])?{result:3,geometry:null}:{result:0,geometry:t.geometry}}},"241c":function(t,e,i){var n=i("ca84"),r=i("7839"),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},"243f":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("c120");var n=i("b2b2"),r=i("f408");function s(t){var e;if("graphics"!==(null==(e=t.layer)?void 0:e.type))return 1;if(Object(n["k"])(t.geometry))return 2;switch(t.geometry.type){case"polygon":case"point":case"polyline":case"mesh":break;default:return 3}return"on-the-ground"!==Object(r["f"])(t)&&Object(r["h"])(t)?4:0}},2524:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return f}));var n=i("ce50"),r=i("e92d"),s=i("9d1d"),o=i("74bd");const a=r["a"].getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function c(t,e){var i;if(!e.write||e.write.writer||!1===e.write.enabled&&!e.write.overridePolicy)return;const n=null!=(i=null==t?void 0:t.ndimArray)?i:0;t&&(1===n||"type"in t&&Object(o["a"])(t.type))?e.write.writer=b:n>1?e.write.writer=m(n):e.types?Array.isArray(e.types)?e.write.writer=h(e.types[0]):e.write.writer=l(e.types):e.write.writer=d}function l(t){return(e,i,n,r)=>e?u(e,t,r)?d(e,i,n,r):void 0:d(e,i,n,r)}function u(t,e,i){for(const n in e.typeMap)if(t instanceof e.typeMap[n])return!0;if(null!=i&&i.messages){var r,s;const o=null!=(r=e.errorContext)?r:"type",c=`Values of type '${null!=(s="function"!=typeof e.key?t[e.key]:t.declaredClass)?s:"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new n["a"](o+":unsupported",c,{definition:t,context:i})),a.error(c)}return!1}function h(t){return(e,i,n,r)=>e&&Array.isArray(e)?d(e.filter(e=>u(e,t,r)),i,n,r):d(e,i,n,r)}function d(t,e,i,n){Object(s["c"])(i,p(t,n),e)}function p(t,e){return t&&"function"==typeof t.write?t.write({},e):t&&"function"==typeof t.toJSON?t.toJSON():"number"==typeof t?f(t):t}function f(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function b(t,e,i,n){let r;null===t?r=null:t&&"function"==typeof t.map?(r=t.map(t=>p(t,n)),"function"==typeof r.toArray&&(r=r.toArray())):r=[p(t,n)],Object(s["c"])(i,r,e)}function y(t,e,i){return 0!==i&&Array.isArray(t)?t.map(t=>y(t,e,i-1)):p(t,e)}function m(t){return function(e,i,n,r){let o;if(null===e)o=null;else{o=y(e,r,t);let i=t,n=o;for(;i>0&&Array.isArray(n);)i--,n=n[0];if(void 0!==n)for(let t=0;t<i;t++)o=[o]}Object(s["c"])(n,o,i)}}},"255d":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("e92d"),r=i("9d1d"),s=i("b3b6"),o=i("4653"),a=i("21e2");const c=n["a"].getLogger("esri.intl");function l(t,e,i={}){const{format:n={}}=i;return Object(s["c"])(t,t=>u(t,e,n))}function u(t,e,i){let n,s;const o=t.indexOf(":");if(-1===o?n=t.trim():(n=t.slice(0,o).trim(),s=t.slice(o+1).trim()),!n)return"";const a=Object(r["b"])(n,e);if(null==a)return"";const c=i[s]||i[n];return c?h(a,c):s?d(a,s):p(a)}function h(t,e){switch(e.type){case"date":return Object(o["b"])(t,e.intlOptions);case"number":return Object(a["b"])(t,e.intlOptions);default:return c.warn("missing format descriptor for key {key}"),p(t)}}function d(t,e){switch(e.toLowerCase()){case"dateformat":return Object(o["b"])(t);case"numberformat":return Object(a["b"])(t);default:return c.warn("inline format is unsupported since 4.12: "+e),/^(dateformat|datestring)/i.test(e)?Object(o["b"])(t):/^numberformat/i.test(e)?Object(a["b"])(t):p(t)}}function p(t){switch(typeof t){case"string":return t;case"number":return Object(a["b"])(t);case"boolean":return""+t;default:return t instanceof Date?Object(o["b"])(t):""}}},2589:function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return b}));var n=i("a4ee"),r=i("fc29"),s=i("e92d"),o=i("8ca7"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386")),l=i("767d"),u=i("7164");class h extends u["a"]{constructor(t){super(!0),this._onChange=t,this._value="mouse",this.registerIncoming("pointer-down",t=>{const e="touch"===t.data.native.pointerType;this._setValue(e?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",t=>{const e="touch"===t.data.native.pointerType;this._setValue(e?"touch":"mouse")}),this._moveHandler.pause()}_setValue(t){t!==this._value&&("touch"===t?this._moveHandler.resume():this._moveHandler.pause(),this._value=t,this._onChange(t))}}const d=s["a"].getLogger("esri.views.input.InputManager");let p=class extends r["a"]{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=l["c"],this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const e of t)this.uninstallHandlers(e);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}installHandlers(t,e,i=b.INTERNAL){if(this._nameToGroup[t])return void d.error("There is already an InputHandler group registered under the name `"+t+"`");if(0===e.length)return void d.error("Can't register a group of zero handlers");const n={name:t,handlers:e.map(t=>({handler:t,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=n;for(let r=n.handlers.length-1;r>=0;r--){const t=n.handlers[r];this._handlers.push(t),t.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(e,i,n,r,s)=>{this._emitInputEvent(t.priorityIndex+1,e,i,n,s,r)},setPointerCapture:(e,i)=>{this._setPointerCapture(n,t,e,i)},setEventCallback:e=>{t.eventCallback=e},setUninstallCallback:e=>{t.uninstallCallback=e},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const e=this._nameToGroup[t];e?(e.handlers.forEach(t=>{t.removed=!0,t.uninstallCallback()}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):d.error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return void 0!==this._nameToGroup[t]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,e=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const t=this._handlers[i];t.priorityIndex=i,this._handlersPriority.push(t)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const n=this._handlersPriority[i];n.priorityIndex=i;let r=n.handler.hasSideEffects;if(!r)for(const e of n.handler.outgoingEventTypes)if(t.has(e)){r=!0;break}if(r)for(const i of n.handler.incomingEventMatches){t.add(i.eventType);for(const t of i.keyModifiers)Object(l["b"])(t)||e.add(t)}n.active=r}this._sourceEvents=t,this._keyModifiers=e,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(t){this._set("latestPointerType",t)}_onEventReceived(t,e){if("pointer-capture-lost"===t){const t=e;this._pointerCaptures.delete(t.native.pointerId)}this._updateKeyModifiers(t,e);const i=null!=this.test.timestamp?this.test.timestamp:e.native?e.native.timestamp:void 0,n=e.native?e.native.cancelable:void 0;this._emitInputEventFromSource(t,e,i,n)}_updateKeyModifiers(t,e){if(!e)return;let i=!1;const n=()=>{if(!i){const t=new Set;this._activeKeyModifiers.forEach(e=>{t.add(e)}),this._activeKeyModifiers=t,i=!0}},r=(t,e)=>{e&&!this._activeKeyModifiers.has(t)?(n(),this._activeKeyModifiers.add(t)):!e&&this._activeKeyModifiers.has(t)&&(n(),this._activeKeyModifiers.delete(t))};if("key-down"===t||"key-up"===t){const i=e.key;this._keyModifiers.has(i)&&r(i,"key-down"===t)}const s=e.native;r("Alt",!(!s||!s.altKey)),r("Ctrl",!(!s||!s.ctrlKey)),r("Shift",!(!s||!s.shiftKey)),r("Meta",!(!s||!s.metaKey)),r("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new h(t=>this._setLatestPointerType(t)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,b.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],b.INTERNAL)}_setPointerCapture(t,e,i,n){const r=t.name+"-"+e.priorityIndex,s=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,s),n?(s.add(r),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):s.has(r)&&(s.delete(r),0===s.size&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,e,i,n){this._emitInputEvent(0,t,e,i,n)}_emitInputEvent(t,e,i,n,r,s){const o=void 0!==n?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==r&&r,c={event:new f(e,i,o,s||this._activeKeyModifiers,a),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(c):this._doNewPropagation(c)}_doNewPropagation(t){this._currentPropagation={events:new o["a"],currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){const t=this._currentPropagation;if(t){for(;this._currentPropagation.events.length>0;){const{event:e,priorityIndex:i}=this._currentPropagation.events.pop(),n=e.data&&e.data.eventId;if(null==n||!this._stoppedPropagationEventIds.has(n))for(t.currentHandler=this._handlersPriority[i];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!e.shouldStopPropagation()&&t.currentHandler.eventCallback(e),e.shouldStopPropagation()){null!=n&&this._stoppedPropagationEventIds.add(n);break}if(e.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:e,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const e=new o["a"];for(e.push(t);this._currentPropagation.events.length;)e.push(this._currentPropagation.events.pop());this._currentPropagation.events=e,this._currentPropagation.currentHandler=null}_compareHandlerPriority(t,e){if(t.handler.hasSideEffects!==e.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==e.groupPriority)return t.groupPriority>e.groupPriority?-1:1;for(const i of t.handler.incomingEventMatches)for(const t of e.handler.incomingEventMatches){if(i.eventType!==t.eventType)continue;const e=i.keyModifiers.filter(e=>-1!==t.keyModifiers.indexOf(e));if(e.length===i.keyModifiers.length!==(e.length===t.keyModifiers.length))return i.keyModifiers.length>t.keyModifiers.length?-1:1}return t.priorityIndex>e.priorityIndex?-1:1}_sortHandlersPriority(t){const e=[];for(const i of t){let t=0;for(;t<e.length&&this._compareHandlerPriority(i,e[t])>=0;)t++;e.splice(t,0,i)}return e}get debug(){const t=t=>{const e=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=e};return{injectEvent:(e,i)=>{t(()=>{this._onEventReceived(e,i)})},disablePointerCapture:t}}};Object(n["a"])([Object(a["b"])({readOnly:!0})],p.prototype,"hasPendingInputs",null),Object(n["a"])([Object(a["b"])()],p.prototype,"eventSource",void 0),Object(n["a"])([Object(a["b"])()],p.prototype,"recognizers",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],p.prototype,"latestPointerType",void 0),p=Object(n["a"])([Object(c["a"])("esri.views.input.InputManager")],p);class f{constructor(t,e,i,n,r){this.type=t,this.data=e,this.timestamp=i,this.modifiers=n,this.cancelable=r,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return 0!=(1&this._propagationState)}async(t){this._propagationState|=2;const e=(t,e)=>{this._propagationState&=-3;const i=this._resumeCallback;if(this._resumeCallback=null,i&&i(),e)throw t;return t};return("function"==typeof t?t():t).then(t=>e(t,!1),t=>e(t,!0))}shouldPausePropagation(t){return!!(2&this._propagationState)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}const b={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}},"25f0":function(t,e,i){"use strict";var n=i("e330"),r=i("5e77").PROPER,s=i("6eeb"),o=i("825a"),a=i("3a9b"),c=i("577e"),l=i("d039"),u=i("ad6d"),h="toString",d=RegExp.prototype,p=d[h],f=n(u),b=l((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),y=r&&p.name!=h;(b||y)&&s(RegExp.prototype,h,(function(){var t=o(this),e=c(t.source),i=t.flags,n=c(void 0===i&&a(d,t)&&!("flags"in d)?f(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"261a":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return S}));var n,r=i("a4ee"),s=i("9ef0"),o=i("2eab"),a=i("ce50"),c=i("7ffa"),l=i("e92d"),u=i("c24e"),h=i("b2b2"),d=i("f4cc"),p=i("b3b6"),f=i("59b2"),b=(i("cea0"),i("d386")),y=i("09db"),m=i("c1da"),g=i("667b"),v=i("be4d"),w=i("82fa"),O=i("4cac");const j=l["a"].getLogger("esri.renderers.DictionaryRenderer"),_={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let x=n=class extends(Object(v["a"])(g["a"])){constructor(t){super(t),this._ongoingRequests=new Map,this._symbolCache=new u["a"](100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}writeData(t,e){t&&(e.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,e,i,n){null!=n&&n.origin||super.writeVisualVariables(t,e,i,n)}clone(){return new n({config:Object(c["a"])(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(c["a"])(this.fieldMap),url:Object(c["a"])(this.url),visualVariables:Object(c["a"])(this.visualVariables)})}async getSymbolAsync(t,e){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(e));try{i=await this._dictionaryPromise}catch(y){if(Object(d["l"])(y))return this._dictionaryPromise=null,null}const n={};if(this.fieldMap)for(const s of this._symbolFields){const e=this.fieldMap[s];if(e&&null!==t.attributes[e]&&void 0!==t.attributes[e]){const i=""+t.attributes[e];n[s]=i}else n[s]=""}const r=i(n,e);if(!r||"string"!=typeof r)return null;const o=Object(p["b"])(r).toString(),a=this._symbolCache.get(o);if(a)return a.catch(()=>{this._symbolCache.pop(o)}),a;const c=r.split(";"),l=[],u=[];for(const h of c)if(h&&0!==h.length)if(-1===h.indexOf("po:"))if(-1!==h.indexOf("|")){for(const t of h.split("|"))if(this._itemNames.has(t)){l.push(t);break}}else this._itemNames.has(h)&&l.push(h);else{const t=h.substr(3).split("|");if(3===t.length){const e=t[0],i=t[1];let n=t[2];if("DashTemplate"===i)n=n.split(" ").map(t=>Number(t));else if("Color"===i){const t=new s["a"](n).toRgba();n=[t[0],t[1],t[2],255*t[3]]}else n=Number(n);u.push({primitiveName:e,propertyName:i,value:n})}}const f=!Object(h["l"])(t.geometry)||!t.geometry.hasZ&&"point"===t.geometry.type,b=this._cimPartsToCIMSymbol(l,u,f,e);return this._symbolCache.put(o,b,1),b}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e),this.scaleExpression&&await Object(m["a"])(t,e,this.scaleExpression);for(const i in this.fieldMap){const n=this.fieldMap[i];e.has(n)&&t.add(n)}}get arcadeRequired(){return!0}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void j.error("no valid URL!");const e=Object(h["l"])(t)?t.abortOptions:null,i=Object(o["default"])(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...e}),[{data:n}]=await Promise.all([i,Object(w["e"])()]);if(!n)throw this._dictionaryPromise=null,new a["a"]("esri.renderers.DictionaryRenderer","Bad dictionary data!");const r=n.expression,s=n.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(n.itemsNames),this._symbolFields=s.symbol;const c={};if(this.config){const t=this.config;for(const e in t)c[e]=t[e]}if(s.configuration)for(const o of s.configuration)c.hasOwnProperty(o.name)||(c[o.name]=o.value);const l=[];if(Object(h["l"])(t)&&t.fields&&this.fieldMap)for(const o of this._symbolFields){const e=this.fieldMap[o],i=t.fields.filter(t=>t.name===e);i.length>0&&l.push({...i[0],name:o})}return this._dictionaryPromise=Object(w["b"])(r,Object(h["l"])(t)?t.spatialReference:null,l,c).then(t=>{const e={scale:0};return(i,n)=>{const r=t.repurposeFeature({geometry:null,attributes:i});return e.scale=Object(h["l"])(n)?n.scale:void 0,t.evaluate({$feature:r,$view:e})}}).catch(t=>(j.error("Creating dictinoary expression failed:",t),null)),this._dictionaryPromise}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,e)=>t+e.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}async _getSymbolPart(t,e){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(t=>t.data);const i=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),n=Object(o["default"])(i,{responseType:"json",query:{f:"json"},...e});this._ongoingRequests.set(t,n);try{return(await n).data}catch(r){return this._ongoingRequests.delete(t),Promise.reject(r)}}_combineSymbolParts(t,e,i){if(!t||0===t.length)return null;const n={...t[0]};if(t.length>1){n.symbolLayers=[];for(const e of t){const t=e;n.symbolLayers.unshift(...t.symbolLayers)}}return i&&(n.callout=_),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:e}}async _cimPartsToCIMSymbol(t,e,i,n){const r=new Array(t.length);for(let o=0;o<t.length;o++)r[o]=this._getSymbolPart(t[o],n);const s=await Promise.all(r);return new O["a"]({data:this._combineSymbolParts(s,e,i)})}};Object(r["a"])([Object(f["b"])({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],x.prototype,"config",void 0),Object(r["a"])([Object(f["b"])({type:Object,json:{write:!0}})],x.prototype,"fieldMap",void 0),Object(r["a"])([Object(f["b"])({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],x.prototype,"scaleExpression",void 0),Object(r["a"])([Object(y["a"])("scaleExpression")],x.prototype,"writeData",null),Object(r["a"])([Object(f["b"])({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],x.prototype,"scaleExpressionTitle",void 0),Object(r["a"])([Object(f["b"])({type:String,json:{write:!0}})],x.prototype,"url",void 0),Object(r["a"])([Object(y["a"])("visualVariables")],x.prototype,"writeVisualVariables",null),x=n=Object(r["a"])([Object(b["a"])("esri.renderers.DictionaryRenderer")],x);const S=x},2626:function(t,e,i){"use strict";var n=i("d066"),r=i("9bf2"),s=i("b622"),o=i("83ab"),a=s("species");t.exports=function(t){var e=n(t),i=r.f;o&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},"26cd":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("fc29"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};Object(n["a"])([Object(s["b"])()],a.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),Object(n["a"])([Object(s["b"])()],a.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),a=Object(n["a"])([Object(o["a"])("esri.views.support.DebugFlags")],a);const c=new a},2772:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));i("8750"),i("755e"),i("e20b"),i("c120"),i("e92d");i("feab"),i("d822"),i("702a");function n(t){return t&&"function"==typeof t.render}function r(t){return t&&"function"==typeof t.postMixInProperties&&"function"==typeof t.buildRendering&&"function"==typeof t.postCreate&&"function"==typeof t.startup}},2877:function(t,e,i){"use strict";function n(t,e,i,n,r,s,o,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}i.d(e,"a",(function(){return n}))},"28b1":function(t,e,i){"use strict";function n(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function r(t){return void 0!==t.points}function s(t){return void 0!==t.x&&void 0!==t.y}function o(t){return void 0!==t.paths}function a(t){return void 0!==t.rings}function c(t){return(e,i)=>null==e?i:null==i?e:t(e,i)}i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return b})),i.d(e,"d",(function(){return p}));const l=c(Math.min),u=c(Math.max);function h(t,e){return o(e)?p(t,e.paths,!1,!1):a(e)?p(t,e.rings,!1,!1):r(e)?b(t,e.points,!1,!1,!1,!1):n(e)?f(t,e):(s(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function d(t,e){return o(e)?p(t,e.paths,!0,!1):a(e)?p(t,e.rings,!0,!1):r(e)?b(t,e.points,!0,!1,!0,!1):n(e)?f(t,e,!0,!1,!0,!1):(s(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function p(t,e,i,n){const r=i?3:2;if(!e.length||!e[0].length)return null;let s,o,a,c,[h,d]=e[0][0],[p,f]=e[0][0];for(let b=0;b<e.length;b++){const t=e[b];for(let e=0;e<t.length;e++){const b=t[e],[y,m]=b;if(h=l(h,y),d=l(d,m),p=u(p,y),f=u(f,m),i&&b.length>2){const t=b[2];s=l(s,t),o=u(o,t)}if(n&&b.length>r){const t=b[r];a=l(s,t),c=u(o,t)}}}return i?n?(t[0]=h,t[1]=d,t[2]=s,t[3]=a,t[4]=p,t[5]=f,t[6]=o,t[7]=c,t.length=8,t):(t[0]=h,t[1]=d,t[2]=s,t[3]=p,t[4]=f,t[5]=o,t.length=6,t):n?(t[0]=h,t[1]=d,t[2]=a,t[3]=p,t[4]=f,t[5]=c,t.length=6,t):(t[0]=h,t[1]=d,t[2]=p,t[3]=f,t.length=4,t)}function f(t,e,i,n,r,s){const o=e.xmin,a=e.xmax,c=e.ymin,l=e.ymax;let u=e.zmin,h=e.zmax,d=e.mmin,p=e.mmax;return r?(u=u||0,h=h||0,s?(d=d||0,p=p||0,t[0]=o,t[1]=c,t[2]=u,t[3]=d,t[4]=a,t[5]=l,t[6]=h,t[7]=p,t):(t[0]=o,t[1]=c,t[2]=u,t[3]=a,t[4]=l,t[5]=h,t)):s?(d=d||0,p=p||0,t[0]=o,t[1]=c,t[2]=d,t[3]=a,t[4]=l,t[5]=p,t):(t[0]=o,t[1]=c,t[2]=a,t[3]=l,t)}function b(t,e,i,n,r,s){const o=i?3:2,a=n&&s,c=i&&r;if(!e.length||!e[0].length)return null;let h,d,p,f,[b,y]=e[0],[m,g]=e[0];for(let v=0;v<e.length;v++){const t=e[v],[i,n]=t;if(b=l(b,i),y=l(y,n),m=u(m,i),g=u(g,n),c&&t.length>2){const e=t[2];h=l(h,e),d=u(d,e)}if(a&&t.length>o){const e=t[o];p=l(h,e),f=u(d,e)}}return r?(h=h||0,d=d||0,s?(p=p||0,f=f||0,t[0]=b,t[1]=y,t[2]=h,t[3]=p,t[4]=m,t[5]=g,t[6]=d,t[7]=f,t):(t[0]=b,t[1]=y,t[2]=h,t[3]=m,t[4]=g,t[5]=d,t)):s?(p=p||0,f=f||0,t[0]=b,t[1]=y,t[2]=p,t[3]=m,t[4]=g,t[5]=f,t):(t[0]=b,t[1]=y,t[2]=m,t[3]=g,t)}},"28c0":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386"));const o=t=>{let e=class extends t{constructor(...t){super(...t),this.goToOverride=null,this.view=null}callGoTo(t){const{view:e}=this;return this.goToOverride?this.goToOverride(e,t):e.goTo(t.target,t.options)}};return Object(n["a"])([Object(r["b"])()],e.prototype,"goToOverride",void 0),Object(n["a"])([Object(r["b"])()],e.prototype,"view",void 0),e=Object(n["a"])([Object(s["a"])("esri.widgets.support.GoTo")],e),e}},"28eb":function(t,e,i){"use strict";function n(t,e){for(const[i,n]of t)if(e(n,i))return!0;return!1}function r(t,e){for(const[i,n]of t)if(e(n,i))return n;return null}function s(t,e,i){const n=t.get(e);if(void 0!==n)return n;const r=i();return t.set(e,r),r}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n}))},2959:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386")),o=i("db52"),a=i("0d93");let c=class extends a["a"]{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};Object(n["a"])([Object(r["b"])({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":o["a"]}},json:{default:null,write:!0}})],c.prototype,"outline",void 0),Object(n["a"])([Object(r["b"])({type:["simple-fill","picture-fill"],readOnly:!0})],c.prototype,"type",void 0),c=Object(n["a"])([Object(s["a"])("esri.symbols.FillSymbol")],c);const l=c},"2a62":function(t,e,i){var n=i("c65b"),r=i("825a"),s=i("dc4a");t.exports=function(t,e,i){var o,a;r(t);try{if(o=s(t,"return"),!o){if("throw"===e)throw i;return i}o=n(o,t)}catch(c){a=!0,o=c}if("throw"===e)throw i;if(a)throw o;return r(o),i}},"2ab7":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));const n=[];function r(t){n.push(t),1===n.length&&queueMicrotask(()=>{const t=n.slice();n.length=0;for(const e of t)e()})}},"2b0e":function(t,e,i){"use strict";(function(t){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function s(t){return!0===t}function o(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function b(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}y("slot,component",!0);var m=y("key,ref,slot,slot-scope,is");function g(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var v=Object.prototype.hasOwnProperty;function w(t,e){return v.call(t,e)}function O(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var j=/-(\w)/g,_=O((function(t){return t.replace(j,(function(t,e){return e?e.toUpperCase():""}))})),x=O((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),S=/\B([A-Z])/g,M=O((function(t){return t.replace(S,"-$1").toLowerCase()}));function k(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function I(t,e){return t.bind(e)}var T=Function.prototype.bind?I:k;function E(t,e){e=e||0;var i=t.length-e,n=new Array(i);while(i--)n[i]=t[i+e];return n}function A(t,e){for(var i in e)t[i]=e[i];return t}function C(t){for(var e={},i=0;i<t.length;i++)t[i]&&A(e,t[i]);return e}function P(t,e,i){}var R=function(t,e,i){return!1},L=function(t){return t};function N(t,e){if(t===e)return!0;var i=c(t),n=c(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),s=Array.isArray(e);if(r&&s)return t.length===e.length&&t.every((function(t,i){return N(t,e[i])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||s)return!1;var o=Object.keys(t),a=Object.keys(e);return o.length===a.length&&o.every((function(i){return N(t[i],e[i])}))}catch(l){return!1}}function F(t,e){for(var i=0;i<t.length;i++)if(N(t[i],e))return i;return-1}function D(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var z="data-server-rendered",V=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],G={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:P,parsePlatformTagName:L,mustUseProp:R,async:!0,_lifecycleHooks:$},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function B(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var H=new RegExp("[^"+U.source+".$_\\d]");function W(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var J,K="__proto__"in{},Y="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,X=Z&&WXEnvironment.platform.toLowerCase(),Q=Y&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,it=Q&&Q.indexOf("edge/")>0,nt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===X),rt=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),st={}.watch,ot=!1;if(Y)try{var at={};Object.defineProperty(at,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,at)}catch(xo){}var ct=function(){return void 0===J&&(J=!Y&&!Z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),J},lt=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ht="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=P,ft=0,bt=function(){this.id=ft++,this.subs=[]};bt.prototype.addSub=function(t){this.subs.push(t)},bt.prototype.removeSub=function(t){g(this.subs,t)},bt.prototype.depend=function(){bt.target&&bt.target.addDep(this)},bt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,i=t.length;e<i;e++)t[e].update()},bt.target=null;var yt=[];function mt(t){yt.push(t),bt.target=t}function gt(){yt.pop(),bt.target=yt[yt.length-1]}var vt=function(t,e,i,n,r,s,o,a){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(vt.prototype,wt);var Ot=function(t){void 0===t&&(t="");var e=new vt;return e.text=t,e.isComment=!0,e};function jt(t){return new vt(void 0,void 0,void 0,String(t))}function _t(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var xt=Array.prototype,St=Object.create(xt),Mt=["push","pop","shift","unshift","splice","sort","reverse"];Mt.forEach((function(t){var e=xt[t];B(St,t,(function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var r,s=e.apply(this,i),o=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),s}))}));var kt=Object.getOwnPropertyNames(St),It=!0;function Tt(t){It=t}var Et=function(t){this.value=t,this.dep=new bt,this.vmCount=0,B(t,"__ob__",this),Array.isArray(t)?(K?At(t,St):Ct(t,St,kt),this.observeArray(t)):this.walk(t)};function At(t,e){t.__proto__=e}function Ct(t,e,i){for(var n=0,r=i.length;n<r;n++){var s=i[n];B(t,s,e[s])}}function Pt(t,e){var i;if(c(t)&&!(t instanceof vt))return w(t,"__ob__")&&t.__ob__ instanceof Et?i=t.__ob__:It&&!ct()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new Et(t)),e&&i&&i.vmCount++,i}function Rt(t,e,i,n,r){var s=new bt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var a=o&&o.get,c=o&&o.set;a&&!c||2!==arguments.length||(i=t[e]);var l=!r&&Pt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):i;return bt.target&&(s.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Ft(e))),e},set:function(e){var n=a?a.call(t):i;e===n||e!==e&&n!==n||a&&!c||(c?c.call(t,e):i=e,l=!r&&Pt(e),s.notify())}})}}function Lt(t,e,i){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(Rt(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function Nt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||w(t,e)&&(delete t[e],i&&i.dep.notify())}}function Ft(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ft(e)}Et.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Rt(t,e[i])},Et.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Pt(t[e])};var Dt=G.optionMergeStrategies;function zt(t,e){if(!e)return t;for(var i,n,r,s=dt?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)i=s[o],"__ob__"!==i&&(n=t[i],r=e[i],w(t,i)?n!==r&&u(n)&&u(r)&&zt(n,r):Lt(t,i,r));return t}function Vt(t,e,i){return i?function(){var n="function"===typeof e?e.call(i,i):e,r="function"===typeof t?t.call(i,i):t;return n?zt(n,r):r}:e?t?function(){return zt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function $t(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?Gt(i):i}function Gt(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}function Ut(t,e,i,n){var r=Object.create(t||null);return e?A(r,e):r}Dt.data=function(t,e,i){return i?Vt(t,e,i):e&&"function"!==typeof e?t:Vt(t,e)},$.forEach((function(t){Dt[t]=$t})),V.forEach((function(t){Dt[t+"s"]=Ut})),Dt.watch=function(t,e,i,n){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var s in A(r,t),e){var o=r[s],a=e[s];o&&!Array.isArray(o)&&(o=[o]),r[s]=o?o.concat(a):Array.isArray(a)?a:[a]}return r},Dt.props=Dt.methods=Dt.inject=Dt.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return A(r,t),e&&A(r,e),r},Dt.provide=Vt;var qt=function(t,e){return void 0===e?t:e};function Bt(t,e){var i=t.props;if(i){var n,r,s,o={};if(Array.isArray(i)){n=i.length;while(n--)r=i[n],"string"===typeof r&&(s=_(r),o[s]={type:null})}else if(u(i))for(var a in i)r=i[a],s=_(a),o[s]=u(r)?r:{type:r};else 0;t.props=o}}function Ht(t,e){var i=t.inject;if(i){var n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(u(i))for(var s in i){var o=i[s];n[s]=u(o)?A({from:s},o):{from:o}}else 0}}function Wt(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"===typeof n&&(e[i]={bind:n,update:n})}}function Jt(t,e,i){if("function"===typeof e&&(e=e.options),Bt(e,i),Ht(e,i),Wt(e),!e._base&&(e.extends&&(t=Jt(t,e.extends,i)),e.mixins))for(var n=0,r=e.mixins.length;n<r;n++)t=Jt(t,e.mixins[n],i);var s,o={};for(s in t)a(s);for(s in e)w(t,s)||a(s);function a(n){var r=Dt[n]||qt;o[n]=r(t[n],e[n],i,n)}return o}function Kt(t,e,i,n){if("string"===typeof i){var r=t[e];if(w(r,i))return r[i];var s=_(i);if(w(r,s))return r[s];var o=x(s);if(w(r,o))return r[o];var a=r[i]||r[s]||r[o];return a}}function Yt(t,e,i,n){var r=e[t],s=!w(i,t),o=i[t],a=ee(Boolean,r.type);if(a>-1)if(s&&!w(r,"default"))o=!1;else if(""===o||o===M(t)){var c=ee(String,r.type);(c<0||a<c)&&(o=!0)}if(void 0===o){o=Zt(n,r,t);var l=It;Tt(!0),Pt(o),Tt(l)}return o}function Zt(t,e,i){if(w(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"===typeof n&&"Function"!==Qt(e.type)?n.call(t):n}}var Xt=/^\s*function (\w+)/;function Qt(t){var e=t&&t.toString().match(Xt);return e?e[1]:""}function te(t,e){return Qt(t)===Qt(e)}function ee(t,e){if(!Array.isArray(e))return te(e,t)?0:-1;for(var i=0,n=e.length;i<n;i++)if(te(e[i],t))return i;return-1}function ie(t,e,i){mt();try{if(e){var n=e;while(n=n.$parent){var r=n.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var o=!1===r[s].call(n,t,e,i);if(o)return}catch(xo){re(xo,n,"errorCaptured hook")}}}re(t,e,i)}finally{gt()}}function ne(t,e,i,n,r){var s;try{s=i?t.apply(e,i):t.call(e),s&&!s._isVue&&p(s)&&!s._handled&&(s.catch((function(t){return ie(t,n,r+" (Promise/async)")})),s._handled=!0)}catch(xo){ie(xo,n,r)}return s}function re(t,e,i){if(G.errorHandler)try{return G.errorHandler.call(null,t,e,i)}catch(xo){xo!==t&&se(xo,null,"config.errorHandler")}se(t,e,i)}function se(t,e,i){if(!Y&&!Z||"undefined"===typeof console)throw t;console.error(t)}var oe,ae=!1,ce=[],le=!1;function ue(){le=!1;var t=ce.slice(0);ce.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var he=Promise.resolve();oe=function(){he.then(ue),nt&&setTimeout(P)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(ue)}:function(){setTimeout(ue,0)};else{var de=1,pe=new MutationObserver(ue),fe=document.createTextNode(String(de));pe.observe(fe,{characterData:!0}),oe=function(){de=(de+1)%2,fe.data=String(de)},ae=!0}function be(t,e){var i;if(ce.push((function(){if(t)try{t.call(e)}catch(xo){ie(xo,e,"nextTick")}else i&&i(e)})),le||(le=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){i=t}))}var ye=new ht;function me(t){ge(t,ye),ye.clear()}function ge(t,e){var i,n,r=Array.isArray(t);if(!(!r&&!c(t)||Object.isFrozen(t)||t instanceof vt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(r){i=t.length;while(i--)ge(t[i],e)}else{n=Object.keys(t),i=n.length;while(i--)ge(t[n[i]],e)}}}var ve=O((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}}));function we(t,e){function i(){var t=arguments,n=i.fns;if(!Array.isArray(n))return ne(n,null,arguments,e,"v-on handler");for(var r=n.slice(),s=0;s<r.length;s++)ne(r[s],null,t,e,"v-on handler")}return i.fns=t,i}function Oe(t,e,i,r,o,a){var c,l,u,h;for(c in t)l=t[c],u=e[c],h=ve(c),n(l)||(n(u)?(n(l.fns)&&(l=t[c]=we(l,a)),s(h.once)&&(l=t[c]=o(h.name,l,h.capture)),i(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)n(t[c])&&(h=ve(c),r(h.name,e[c],h.capture))}function je(t,e,i){var o;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){i.apply(this,arguments),g(o.fns,c)}n(a)?o=we([c]):r(a.fns)&&s(a.merged)?(o=a,o.fns.push(c)):o=we([a,c]),o.merged=!0,t[e]=o}function _e(t,e,i){var s=e.options.props;if(!n(s)){var o={},a=t.attrs,c=t.props;if(r(a)||r(c))for(var l in s){var u=M(l);xe(o,c,l,u,!0)||xe(o,a,l,u,!1)}return o}}function xe(t,e,i,n,s){if(r(e)){if(w(e,i))return t[i]=e[i],s||delete e[i],!0;if(w(e,n))return t[i]=e[n],s||delete e[n],!0}return!1}function Se(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Me(t){return a(t)?[jt(t)]:Array.isArray(t)?Ie(t):void 0}function ke(t){return r(t)&&r(t.text)&&o(t.isComment)}function Ie(t,e){var i,o,c,l,u=[];for(i=0;i<t.length;i++)o=t[i],n(o)||"boolean"===typeof o||(c=u.length-1,l=u[c],Array.isArray(o)?o.length>0&&(o=Ie(o,(e||"")+"_"+i),ke(o[0])&&ke(l)&&(u[c]=jt(l.text+o[0].text),o.shift()),u.push.apply(u,o)):a(o)?ke(l)?u[c]=jt(l.text+o):""!==o&&u.push(jt(o)):ke(o)&&ke(l)?u[c]=jt(l.text+o.text):(s(t._isVList)&&r(o.tag)&&n(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+i+"__"),u.push(o)));return u}function Te(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Ee(t){var e=Ae(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach((function(i){Rt(t,i,e[i])})),Tt(!0))}function Ae(t,e){if(t){for(var i=Object.create(null),n=dt?Reflect.ownKeys(t):Object.keys(t),r=0;r<n.length;r++){var s=n[r];if("__ob__"!==s){var o=t[s].from,a=e;while(a){if(a._provided&&w(a._provided,o)){i[s]=a._provided[o];break}a=a.$parent}if(!a)if("default"in t[s]){var c=t[s].default;i[s]="function"===typeof c?c.call(e):c}else 0}}return i}}function Ce(t,e){if(!t||!t.length)return{};for(var i={},n=0,r=t.length;n<r;n++){var s=t[n],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==e&&s.fnContext!==e||!o||null==o.slot)(i.default||(i.default=[])).push(s);else{var a=o.slot,c=i[a]||(i[a]=[]);"template"===s.tag?c.push.apply(c,s.children||[]):c.push(s)}}for(var l in i)i[l].every(Pe)&&delete i[l];return i}function Pe(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Re(t){return t.isComment&&t.asyncFactory}function Le(t,e,n){var r,s=Object.keys(e).length>0,o=t?!!t.$stable:!s,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==i&&a===n.$key&&!s&&!n.$hasNormal)return n;for(var c in r={},t)t[c]&&"$"!==c[0]&&(r[c]=Ne(e,c,t[c]))}else r={};for(var l in e)l in r||(r[l]=Fe(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),B(r,"$stable",o),B(r,"$key",a),B(r,"$hasNormal",s),r}function Ne(t,e,i){var n=function(){var t=arguments.length?i.apply(null,arguments):i({});t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Me(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Re(e))?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function Fe(t,e){return function(){return t[e]}}function De(t,e){var i,n,s,o,a;if(Array.isArray(t)||"string"===typeof t)for(i=new Array(t.length),n=0,s=t.length;n<s;n++)i[n]=e(t[n],n);else if("number"===typeof t)for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(c(t))if(dt&&t[Symbol.iterator]){i=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)i.push(e(u.value,i.length)),u=l.next()}else for(o=Object.keys(t),i=new Array(o.length),n=0,s=o.length;n<s;n++)a=o[n],i[n]=e(t[a],a,n);return r(i)||(i=[]),i._isVList=!0,i}function ze(t,e,i,n){var r,s=this.$scopedSlots[t];s?(i=i||{},n&&(i=A(A({},n),i)),r=s(i)||("function"===typeof e?e():e)):r=this.$slots[t]||("function"===typeof e?e():e);var o=i&&i.slot;return o?this.$createElement("template",{slot:o},r):r}function Ve(t){return Kt(this.$options,"filters",t,!0)||L}function $e(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ge(t,e,i,n,r){var s=G.keyCodes[e]||i;return r&&n&&!G.keyCodes[e]?$e(r,n):s?$e(s,t):n?M(n)!==e:void 0===t}function Ue(t,e,i,n,r){if(i)if(c(i)){var s;Array.isArray(i)&&(i=C(i));var o=function(o){if("class"===o||"style"===o||m(o))s=t;else{var a=t.attrs&&t.attrs.type;s=n||G.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=_(o),l=M(o);if(!(c in s)&&!(l in s)&&(s[o]=i[o],r)){var u=t.on||(t.on={});u["update:"+o]=function(t){i[o]=t}}};for(var a in i)o(a)}else;return t}function qe(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e||(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),He(n,"__static__"+t,!1)),n}function Be(t,e,i){return He(t,"__once__"+e+(i?"_"+i:""),!0),t}function He(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!==typeof t[n]&&We(t[n],e+"_"+n,i);else We(t,e,i)}function We(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Je(t,e){if(e)if(u(e)){var i=t.on=t.on?A({},t.on):{};for(var n in e){var r=i[n],s=e[n];i[n]=r?[].concat(r,s):s}}else;return t}function Ke(t,e,i,n){e=e||{$stable:!i};for(var r=0;r<t.length;r++){var s=t[r];Array.isArray(s)?Ke(s,e,i):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return n&&(e.$key=n),e}function Ye(t,e){for(var i=0;i<e.length;i+=2){var n=e[i];"string"===typeof n&&n&&(t[e[i]]=e[i+1])}return t}function Ze(t,e){return"string"===typeof t?e+t:t}function Xe(t){t._o=Be,t._n=b,t._s=f,t._l=De,t._t=ze,t._q=N,t._i=F,t._m=qe,t._f=Ve,t._k=Ge,t._b=Ue,t._v=jt,t._e=Ot,t._u=Ke,t._g=Je,t._d=Ye,t._p=Ze}function Qe(t,e,n,r,o){var a,c=this,l=o.options;w(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var u=s(l._compiled),h=!u;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=Ae(l.inject,r),this.slots=function(){return c.$slots||Le(t.scopedSlots,c.$slots=Ce(n,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Le(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Le(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,i,n){var s=di(a,t,e,i,n,h);return s&&!Array.isArray(s)&&(s.fnScopeId=l._scopeId,s.fnContext=r),s}:this._c=function(t,e,i,n){return di(a,t,e,i,n,h)}}function ti(t,e,n,s,o){var a=t.options,c={},l=a.props;if(r(l))for(var u in l)c[u]=Yt(u,l,e||i);else r(n.attrs)&&ii(c,n.attrs),r(n.props)&&ii(c,n.props);var h=new Qe(n,c,o,s,t),d=a.render.call(null,h._c,h);if(d instanceof vt)return ei(d,n,h.parent,a,h);if(Array.isArray(d)){for(var p=Me(d)||[],f=new Array(p.length),b=0;b<p.length;b++)f[b]=ei(p[b],n,h.parent,a,h);return f}}function ei(t,e,i,n,r){var s=_t(t);return s.fnContext=i,s.fnOptions=n,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function ii(t,e){for(var i in e)t[_(i)]=e[i]}Xe(Qe.prototype);var ni={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;ni.prepatch(i,i)}else{var n=t.componentInstance=oi(t,Ei);n.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions,n=e.componentInstance=t.componentInstance;Li(n,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,zi(i,"mounted")),t.data.keepAlive&&(e._isMounted?Xi(i):Fi(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Di(e,!0):e.$destroy())}},ri=Object.keys(ni);function si(t,e,i,o,a){if(!n(t)){var l=i.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(n(t.cid)&&(u=t,t=ji(u,l),void 0===t))return Oi(u,e,i,o,a);e=e||{},jn(t),r(e.model)&&li(t.options,e);var h=_e(e,t,a);if(s(t.options.functional))return ti(t,h,e,i,o);var d=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}ai(e);var f=t.options.name||a,b=new vt("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:h,listeners:d,tag:a,children:o},u);return b}}}function oi(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(i)}function ai(t){for(var e=t.hook||(t.hook={}),i=0;i<ri.length;i++){var n=ri[i],r=e[n],s=ni[n];r===s||r&&r._merged||(e[n]=r?ci(s,r):s)}}function ci(t,e){var i=function(i,n){t(i,n),e(i,n)};return i._merged=!0,i}function li(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var s=e.on||(e.on={}),o=s[n],a=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(s[n]=[a].concat(o)):s[n]=a}var ui=1,hi=2;function di(t,e,i,n,r,o){return(Array.isArray(i)||a(i))&&(r=n,n=i,i=void 0),s(o)&&(r=hi),pi(t,e,i,n,r)}function pi(t,e,i,n,s){if(r(i)&&r(i.__ob__))return Ot();if(r(i)&&r(i.is)&&(e=i.is),!e)return Ot();var o,a,c;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),s===hi?n=Me(n):s===ui&&(n=Se(n)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||G.getTagNamespace(e),o=G.isReservedTag(e)?new vt(G.parsePlatformTagName(e),i,n,void 0,void 0,t):i&&i.pre||!r(c=Kt(t.$options,"components",e))?new vt(e,i,n,void 0,void 0,t):si(c,i,t,n,e)):o=si(e,i,t,n);return Array.isArray(o)?o:r(o)?(r(a)&&fi(o,a),r(i)&&bi(i),o):Ot()}function fi(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var o=0,a=t.children.length;o<a;o++){var c=t.children[o];r(c.tag)&&(n(c.ns)||s(i)&&"svg"!==c.tag)&&fi(c,e,i)}}function bi(t){c(t.style)&&me(t.style),c(t.class)&&me(t.class)}function yi(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Ce(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,i,n,r){return di(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return di(t,e,i,n,r,!0)};var s=n&&n.data;Rt(t,"$attrs",s&&s.attrs||i,null,!0),Rt(t,"$listeners",e._parentListeners||i,null,!0)}var mi,gi=null;function vi(t){Xe(t.prototype),t.prototype.$nextTick=function(t){return be(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,n=i.render,r=i._parentVnode;r&&(e.$scopedSlots=Le(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{gi=e,t=n.call(e._renderProxy,e.$createElement)}catch(xo){ie(xo,e,"render"),t=e._vnode}finally{gi=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof vt||(t=Ot()),t.parent=r,t}}function wi(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function Oi(t,e,i,n,r){var s=Ot();return s.asyncFactory=t,s.asyncMeta={data:e,context:i,children:n,tag:r},s}function ji(t,e){if(s(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var i=gi;if(i&&r(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),s(t.loading)&&r(t.loadingComp))return t.loadingComp;if(i&&!r(t.owners)){var o=t.owners=[i],a=!0,l=null,u=null;i.$on("hook:destroyed",(function(){return g(o,i)}));var h=function(t){for(var e=0,i=o.length;e<i;e++)o[e].$forceUpdate();t&&(o.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},d=D((function(i){t.resolved=wi(i,e),a?o.length=0:h(!0)})),f=D((function(e){r(t.errorComp)&&(t.error=!0,h(!0))})),b=t(d,f);return c(b)&&(p(b)?n(t.resolved)&&b.then(d,f):p(b.component)&&(b.component.then(d,f),r(b.error)&&(t.errorComp=wi(b.error,e)),r(b.loading)&&(t.loadingComp=wi(b.loading,e),0===b.delay?t.loading=!0:l=setTimeout((function(){l=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,h(!1))}),b.delay||200)),r(b.timeout)&&(u=setTimeout((function(){u=null,n(t.resolved)&&f(null)}),b.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function _i(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||Re(i)))return i}}function xi(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ii(t,e)}function Si(t,e){mi.$on(t,e)}function Mi(t,e){mi.$off(t,e)}function ki(t,e){var i=mi;return function n(){var r=e.apply(null,arguments);null!==r&&i.$off(t,n)}}function Ii(t,e,i){mi=t,Oe(e,i||{},Si,Mi,ki,t),mi=void 0}function Ti(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this;if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n.$on(t[r],i);else(n._events[t]||(n._events[t]=[])).push(i),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var i=this;function n(){i.$off(t,n),e.apply(i,arguments)}return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)i.$off(t[n],e);return i}var s,o=i._events[t];if(!o)return i;if(!e)return i._events[t]=null,i;var a=o.length;while(a--)if(s=o[a],s===e||s.fn===e){o.splice(a,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?E(i):i;for(var n=E(arguments,1),r='event handler for "'+t+'"',s=0,o=i.length;s<o;s++)ne(i[s],e,n,e,r)}return e}}var Ei=null;function Ai(t){var e=Ei;return Ei=t,function(){Ei=e}}function Ci(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Pi(t){t.prototype._update=function(t,e){var i=this,n=i.$el,r=i._vnode,s=Ai(i);i._vnode=t,i.$el=r?i.__patch__(r,t):i.__patch__(i.$el,t,e,!1),s(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){zi(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();var i=t._watchers.length;while(i--)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),zi(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Ri(t,e,i){var n;return t.$el=e,t.$options.render||(t.$options.render=Ot),zi(t,"beforeMount"),n=function(){t._update(t._render(),i)},new nn(t,n,P,{before:function(){t._isMounted&&!t._isDestroyed&&zi(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,zi(t,"mounted")),t}function Li(t,e,n,r,s){var o=r.data.scopedSlots,a=t.$scopedSlots,c=!!(o&&!o.$stable||a!==i&&!a.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),l=!!(s||t.$options._renderChildren||c);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){Tt(!1);for(var u=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var p=h[d],f=t.$options.props;u[p]=Yt(p,f,e,t)}Tt(!0),t.$options.propsData=e}n=n||i;var b=t.$options._parentListeners;t.$options._parentListeners=n,Ii(t,n,b),l&&(t.$slots=Ce(s,r.context),t.$forceUpdate())}function Ni(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Fi(t,e){if(e){if(t._directInactive=!1,Ni(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Fi(t.$children[i]);zi(t,"activated")}}function Di(t,e){if((!e||(t._directInactive=!0,!Ni(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)Di(t.$children[i]);zi(t,"deactivated")}}function zi(t,e){mt();var i=t.$options[e],n=e+" hook";if(i)for(var r=0,s=i.length;r<s;r++)ne(i[r],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),gt()}var Vi=[],$i=[],Gi={},Ui=!1,qi=!1,Bi=0;function Hi(){Bi=Vi.length=$i.length=0,Gi={},Ui=qi=!1}var Wi=0,Ji=Date.now;if(Y&&!tt){var Ki=window.performance;Ki&&"function"===typeof Ki.now&&Ji()>document.createEvent("Event").timeStamp&&(Ji=function(){return Ki.now()})}function Yi(){var t,e;for(Wi=Ji(),qi=!0,Vi.sort((function(t,e){return t.id-e.id})),Bi=0;Bi<Vi.length;Bi++)t=Vi[Bi],t.before&&t.before(),e=t.id,Gi[e]=null,t.run();var i=$i.slice(),n=Vi.slice();Hi(),Qi(i),Zi(n),lt&&G.devtools&&lt.emit("flush")}function Zi(t){var e=t.length;while(e--){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&zi(n,"updated")}}function Xi(t){t._inactive=!1,$i.push(t)}function Qi(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Fi(t[e],!0)}function tn(t){var e=t.id;if(null==Gi[e]){if(Gi[e]=!0,qi){var i=Vi.length-1;while(i>Bi&&Vi[i].id>t.id)i--;Vi.splice(i+1,0,t)}else Vi.push(t);Ui||(Ui=!0,be(Yi))}}var en=0,nn=function(t,e,i,n,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++en,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=W(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};nn.prototype.get=function(){var t;mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(xo){if(!this.user)throw xo;ie(xo,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&me(t),gt(),this.cleanupDeps()}return t},nn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nn.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},nn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tn(this)},nn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var i='callback for watcher "'+this.expression+'"';ne(this.cb,this.vm,[t,e],this.vm,i)}else this.cb.call(this.vm,t,e)}}},nn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nn.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rn={enumerable:!0,configurable:!0,get:P,set:P};function sn(t,e,i){rn.get=function(){return this[e][i]},rn.set=function(t){this[e][i]=t},Object.defineProperty(t,i,rn)}function on(t){t._watchers=[];var e=t.$options;e.props&&an(t,e.props),e.methods&&bn(t,e.methods),e.data?cn(t):Pt(t._data={},!0),e.computed&&hn(t,e.computed),e.watch&&e.watch!==st&&yn(t,e.watch)}function an(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[],s=!t.$parent;s||Tt(!1);var o=function(s){r.push(s);var o=Yt(s,e,i,t);Rt(n,s,o),s in t||sn(t,"_props",s)};for(var a in e)o(a);Tt(!0)}function cn(t){var e=t.$options.data;e=t._data="function"===typeof e?ln(e,t):e||{},u(e)||(e={});var i=Object.keys(e),n=t.$options.props,r=(t.$options.methods,i.length);while(r--){var s=i[r];0,n&&w(n,s)||q(s)||sn(t,"_data",s)}Pt(e,!0)}function ln(t,e){mt();try{return t.call(e,e)}catch(xo){return ie(xo,e,"data()"),{}}finally{gt()}}var un={lazy:!0};function hn(t,e){var i=t._computedWatchers=Object.create(null),n=ct();for(var r in e){var s=e[r],o="function"===typeof s?s:s.get;0,n||(i[r]=new nn(t,o||P,P,un)),r in t||dn(t,r,s)}}function dn(t,e,i){var n=!ct();"function"===typeof i?(rn.get=n?pn(e):fn(i),rn.set=P):(rn.get=i.get?n&&!1!==i.cache?pn(e):fn(i.get):P,rn.set=i.set||P),Object.defineProperty(t,e,rn)}function pn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),bt.target&&e.depend(),e.value}}function fn(t){return function(){return t.call(this,this)}}function bn(t,e){t.$options.props;for(var i in e)t[i]="function"!==typeof e[i]?P:T(e[i],t)}function yn(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)mn(t,i,n[r]);else mn(t,i,n)}}function mn(t,e,i,n){return u(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=t[i]),t.$watch(e,i,n)}function gn(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Lt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,i){var n=this;if(u(e))return mn(n,t,e,i);i=i||{},i.user=!0;var r=new nn(n,t,e,i);if(i.immediate){var s='callback for immediate watcher "'+r.expression+'"';mt(),ne(e,n,[r.value],n,s),gt()}return function(){r.teardown()}}}var vn=0;function wn(t){t.prototype._init=function(t){var e=this;e._uid=vn++,e._isVue=!0,t&&t._isComponent?On(e,t):e.$options=Jt(jn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Ci(e),xi(e),yi(e),zi(e,"beforeCreate"),Ee(e),on(e),Te(e),zi(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function On(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function jn(t){var e=t.options;if(t.super){var i=jn(t.super),n=t.superOptions;if(i!==n){t.superOptions=i;var r=_n(t);r&&A(t.extendOptions,r),e=t.options=Jt(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function _n(t){var e,i=t.options,n=t.sealedOptions;for(var r in i)i[r]!==n[r]&&(e||(e={}),e[r]=i[r]);return e}function xn(t){this._init(t)}function Sn(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=E(arguments,1);return i.unshift(this),"function"===typeof t.install?t.install.apply(t,i):"function"===typeof t&&t.apply(null,i),e.push(t),this}}function Mn(t){t.mixin=function(t){return this.options=Jt(this.options,t),this}}function kn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var s=t.name||i.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Jt(i.options,t),o["super"]=i,o.options.props&&In(o),o.options.computed&&Tn(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,V.forEach((function(t){o[t]=i[t]})),s&&(o.options.components[s]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=A({},o.options),r[n]=o,o}}function In(t){var e=t.options.props;for(var i in e)sn(t.prototype,"_props",i)}function Tn(t){var e=t.options.computed;for(var i in e)dn(t.prototype,i,e[i])}function En(t){V.forEach((function(e){t[e]=function(t,i){return i?("component"===e&&u(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"===typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}}))}function An(t){return t&&(t.Ctor.options.name||t.tag)}function Cn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Pn(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var s in i){var o=i[s];if(o){var a=o.name;a&&!e(a)&&Rn(i,s,n,r)}}}function Rn(t,e,i,n){var r=t[e];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),t[e]=null,g(i,e)}wn(xn),gn(xn),Ti(xn),Pi(xn),vi(xn);var Ln=[String,RegExp,Array],Nn={name:"keep-alive",abstract:!0,props:{include:Ln,exclude:Ln,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,i=t.keys,n=t.vnodeToCache,r=t.keyToCache;if(n){var s=n.tag,o=n.componentInstance,a=n.componentOptions;e[r]={name:An(a),tag:s,componentInstance:o},i.push(r),this.max&&i.length>parseInt(this.max)&&Rn(e,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Rn(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Pn(t,(function(t){return Cn(e,t)}))})),this.$watch("exclude",(function(e){Pn(t,(function(t){return!Cn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=_i(t),i=e&&e.componentOptions;if(i){var n=An(i),r=this,s=r.include,o=r.exclude;if(s&&(!n||!Cn(s,n))||o&&n&&Cn(o,n))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,g(l,u),l.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},Fn={KeepAlive:Nn};function Dn(t){var e={get:function(){return G}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:A,mergeOptions:Jt,defineReactive:Rt},t.set=Lt,t.delete=Nt,t.nextTick=be,t.observable=function(t){return Pt(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,A(t.options.components,Fn),Sn(t),Mn(t),kn(t),En(t)}Dn(xn),Object.defineProperty(xn.prototype,"$isServer",{get:ct}),Object.defineProperty(xn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xn,"FunctionalRenderContext",{value:Qe}),xn.version="2.6.14";var zn=y("style,class"),Vn=y("input,textarea,option,select,progress"),$n=function(t,e,i){return"value"===i&&Vn(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Gn=y("contenteditable,draggable,spellcheck"),Un=y("events,caret,typing,plaintext-only"),qn=function(t,e){return Kn(e)||"false"===e?"false":"contenteditable"===t&&Un(e)?e:"true"},Bn=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Hn="http://www.w3.org/1999/xlink",Wn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Jn=function(t){return Wn(t)?t.slice(6,t.length):""},Kn=function(t){return null==t||!1===t};function Yn(t){var e=t.data,i=t,n=t;while(r(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(e=Zn(n.data,e));while(r(i=i.parent))i&&i.data&&(e=Zn(e,i.data));return Xn(e.staticClass,e.class)}function Zn(t,e){return{staticClass:Qn(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Xn(t,e){return r(t)||r(e)?Qn(t,tr(e)):""}function Qn(t,e){return t?e?t+" "+e:t:e||""}function tr(t){return Array.isArray(t)?er(t):c(t)?ir(t):"string"===typeof t?t:""}function er(t){for(var e,i="",n=0,s=t.length;n<s;n++)r(e=tr(t[n]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function ir(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rr=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),sr=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),or=function(t){return rr(t)||sr(t)};function ar(t){return sr(t)?"svg":"math"===t?"math":void 0}var cr=Object.create(null);function lr(t){if(!Y)return!0;if(or(t))return!1;if(t=t.toLowerCase(),null!=cr[t])return cr[t];var e=document.createElement(t);return t.indexOf("-")>-1?cr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:cr[t]=/HTMLUnknownElement/.test(e.toString())}var ur=y("text,number,password,search,email,tel,url");function hr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function dr(t,e){var i=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function pr(t,e){return document.createElementNS(nr[t],e)}function fr(t){return document.createTextNode(t)}function br(t){return document.createComment(t)}function yr(t,e,i){t.insertBefore(e,i)}function mr(t,e){t.removeChild(e)}function gr(t,e){t.appendChild(e)}function vr(t){return t.parentNode}function wr(t){return t.nextSibling}function Or(t){return t.tagName}function jr(t,e){t.textContent=e}function _r(t,e){t.setAttribute(e,"")}var xr=Object.freeze({createElement:dr,createElementNS:pr,createTextNode:fr,createComment:br,insertBefore:yr,removeChild:mr,appendChild:gr,parentNode:vr,nextSibling:wr,tagName:Or,setTextContent:jr,setStyleScope:_r}),Sr={create:function(t,e){Mr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Mr(t,!0),Mr(e))},destroy:function(t){Mr(t,!0)}};function Mr(t,e){var i=t.data.ref;if(r(i)){var n=t.context,s=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[i])?g(o[i],s):o[i]===s&&(o[i]=void 0):t.data.refInFor?Array.isArray(o[i])?o[i].indexOf(s)<0&&o[i].push(s):o[i]=[s]:o[i]=s}}var kr=new vt("",{},[]),Ir=["create","activate","update","remove","destroy"];function Tr(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Er(t,e)||s(t.isAsyncPlaceholder)&&n(e.asyncFactory.error))}function Er(t,e){if("input"!==t.tag)return!0;var i,n=r(i=t.data)&&r(i=i.attrs)&&i.type,s=r(i=e.data)&&r(i=i.attrs)&&i.type;return n===s||ur(n)&&ur(s)}function Ar(t,e,i){var n,s,o={};for(n=e;n<=i;++n)s=t[n].key,r(s)&&(o[s]=n);return o}function Cr(t){var e,i,o={},c=t.modules,l=t.nodeOps;for(e=0;e<Ir.length;++e)for(o[Ir[e]]=[],i=0;i<c.length;++i)r(c[i][Ir[e]])&&o[Ir[e]].push(c[i][Ir[e]]);function u(t){return new vt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function i(){0===--i.listeners&&d(t)}return i.listeners=e,i}function d(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function p(t,e,i,n,o,a,c){if(r(t.elm)&&r(a)&&(t=a[c]=_t(t)),t.isRootInsert=!o,!f(t,e,i,n)){var u=t.data,h=t.children,d=t.tag;r(d)?(t.elm=t.ns?l.createElementNS(t.ns,d):l.createElement(d,t),j(t),v(t,h,e),r(u)&&O(t,e),g(i,t.elm,n)):s(t.isComment)?(t.elm=l.createComment(t.text),g(i,t.elm,n)):(t.elm=l.createTextNode(t.text),g(i,t.elm,n))}}function f(t,e,i,n){var o=t.data;if(r(o)){var a=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1),r(t.componentInstance))return b(t,e),g(i,t.elm,n),s(a)&&m(t,e,i,n),!0}}function b(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(O(t,e),j(t)):(Mr(t),e.push(t))}function m(t,e,i,n){var s,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,r(s=a.data)&&r(s=s.transition)){for(s=0;s<o.activate.length;++s)o.activate[s](kr,a);e.push(a);break}g(i,t.elm,n)}function g(t,e,i){r(t)&&(r(i)?l.parentNode(i)===t&&l.insertBefore(t,e,i):l.appendChild(t,e))}function v(t,e,i){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)p(e[n],i,t.elm,null,!0,e,n)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function O(t,i){for(var n=0;n<o.create.length;++n)o.create[n](kr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(kr,t),r(e.insert)&&i.push(t))}function j(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var i=t;while(i)r(e=i.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),i=i.parent}r(e=Ei)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function _(t,e,i,n,r,s){for(;n<=r;++n)p(i[n],s,t,e,!1,i,n)}function x(t){var e,i,n=t.data;if(r(n))for(r(e=n.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)x(t.children[i])}function S(t,e,i){for(;e<=i;++e){var n=t[e];r(n)&&(r(n.tag)?(M(n),x(n)):d(n.elm))}}function M(t,e){if(r(e)||r(t.data)){var i,n=o.remove.length+1;for(r(e)?e.listeners+=n:e=h(t.elm,n),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&M(i,e),i=0;i<o.remove.length;++i)o.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else d(t.elm)}function k(t,e,i,s,o){var a,c,u,h,d=0,f=0,b=e.length-1,y=e[0],m=e[b],g=i.length-1,v=i[0],w=i[g],O=!o;while(d<=b&&f<=g)n(y)?y=e[++d]:n(m)?m=e[--b]:Tr(y,v)?(T(y,v,s,i,f),y=e[++d],v=i[++f]):Tr(m,w)?(T(m,w,s,i,g),m=e[--b],w=i[--g]):Tr(y,w)?(T(y,w,s,i,g),O&&l.insertBefore(t,y.elm,l.nextSibling(m.elm)),y=e[++d],w=i[--g]):Tr(m,v)?(T(m,v,s,i,f),O&&l.insertBefore(t,m.elm,y.elm),m=e[--b],v=i[++f]):(n(a)&&(a=Ar(e,d,b)),c=r(v.key)?a[v.key]:I(v,e,d,b),n(c)?p(v,s,t,y.elm,!1,i,f):(u=e[c],Tr(u,v)?(T(u,v,s,i,f),e[c]=void 0,O&&l.insertBefore(t,u.elm,y.elm)):p(v,s,t,y.elm,!1,i,f)),v=i[++f]);d>b?(h=n(i[g+1])?null:i[g+1].elm,_(t,h,i,f,g,s)):f>g&&S(e,d,b)}function I(t,e,i,n){for(var s=i;s<n;s++){var o=e[s];if(r(o)&&Tr(t,o))return s}}function T(t,e,i,a,c,u){if(t!==e){r(e.elm)&&r(a)&&(e=a[c]=_t(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?C(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;r(p)&&r(d=p.hook)&&r(d=d.prepatch)&&d(t,e);var f=t.children,b=e.children;if(r(p)&&w(e)){for(d=0;d<o.update.length;++d)o.update[d](t,e);r(d=p.hook)&&r(d=d.update)&&d(t,e)}n(e.text)?r(f)&&r(b)?f!==b&&k(h,f,b,i,u):r(b)?(r(t.text)&&l.setTextContent(h,""),_(h,null,b,0,b.length-1,i)):r(f)?S(f,0,f.length-1):r(t.text)&&l.setTextContent(h,""):t.text!==e.text&&l.setTextContent(h,e.text),r(p)&&r(d=p.hook)&&r(d=d.postpatch)&&d(t,e)}}}function E(t,e,i){if(s(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var A=y("attrs,class,staticClass,staticStyle,key");function C(t,e,i,n){var o,a=e.tag,c=e.data,l=e.children;if(n=n||c&&c.pre,e.elm=t,s(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(o=c.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return b(e,i),!0;if(r(a)){if(r(l))if(t.hasChildNodes())if(r(o=c)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<l.length;d++){if(!h||!C(h,l[d],i,n)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else v(e,l,i);if(r(c)){var p=!1;for(var f in c)if(!A(f)){p=!0,O(e,i);break}!p&&c["class"]&&me(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a){if(!n(e)){var c=!1,h=[];if(n(t))c=!0,p(e,h);else{var d=r(t.nodeType);if(!d&&Tr(t,e))T(t,e,h,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(z)&&(t.removeAttribute(z),i=!0),s(i)&&C(t,e,h))return E(e,h,!0),t;t=u(t)}var f=t.elm,b=l.parentNode(f);if(p(e,h,f._leaveCb?null:b,l.nextSibling(f)),r(e.parent)){var y=e.parent,m=w(e);while(y){for(var g=0;g<o.destroy.length;++g)o.destroy[g](y);if(y.elm=e.elm,m){for(var v=0;v<o.create.length;++v)o.create[v](kr,y);var O=y.data.hook.insert;if(O.merged)for(var j=1;j<O.fns.length;j++)O.fns[j]()}else Mr(y);y=y.parent}}r(b)?S([t],0,0):r(t.tag)&&x(t)}}return E(e,h,c),e.elm}r(t)&&x(t)}}var Pr={create:Rr,update:Rr,destroy:function(t){Rr(t,kr)}};function Rr(t,e){(t.data.directives||e.data.directives)&&Lr(t,e)}function Lr(t,e){var i,n,r,s=t===kr,o=e===kr,a=Fr(t.data.directives,t.context),c=Fr(e.data.directives,e.context),l=[],u=[];for(i in c)n=a[i],r=c[i],n?(r.oldValue=n.value,r.oldArg=n.arg,zr(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(zr(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var h=function(){for(var i=0;i<l.length;i++)zr(l[i],"inserted",e,t)};s?je(e,"insert",h):h()}if(u.length&&je(e,"postpatch",(function(){for(var i=0;i<u.length;i++)zr(u[i],"componentUpdated",e,t)})),!s)for(i in a)c[i]||zr(a[i],"unbind",t,t,o)}var Nr=Object.create(null);function Fr(t,e){var i,n,r=Object.create(null);if(!t)return r;for(i=0;i<t.length;i++)n=t[i],n.modifiers||(n.modifiers=Nr),r[Dr(n)]=n,n.def=Kt(e.$options,"directives",n.name,!0);return r}function Dr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function zr(t,e,i,n,r){var s=t.def&&t.def[e];if(s)try{s(i.elm,t,i,n,r)}catch(xo){ie(xo,i.context,"directive "+t.name+" "+e+" hook")}}var Vr=[Sr,Pr];function $r(t,e){var i=e.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var s,o,a,c=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(s in r(u.__ob__)&&(u=e.data.attrs=A({},u)),u)o=u[s],a=l[s],a!==o&&Gr(c,s,o,e.data.pre);for(s in(tt||it)&&u.value!==l.value&&Gr(c,"value",u.value),l)n(u[s])&&(Wn(s)?c.removeAttributeNS(Hn,Jn(s)):Gn(s)||c.removeAttribute(s))}}function Gr(t,e,i,n){n||t.tagName.indexOf("-")>-1?Ur(t,e,i):Bn(e)?Kn(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):Gn(e)?t.setAttribute(e,qn(e,i)):Wn(e)?Kn(i)?t.removeAttributeNS(Hn,Jn(e)):t.setAttributeNS(Hn,e,i):Ur(t,e,i)}function Ur(t,e,i){if(Kn(i))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var qr={create:$r,update:$r};function Br(t,e){var i=e.elm,s=e.data,o=t.data;if(!(n(s.staticClass)&&n(s.class)&&(n(o)||n(o.staticClass)&&n(o.class)))){var a=Yn(e),c=i._transitionClasses;r(c)&&(a=Qn(a,tr(c))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var Hr,Wr={create:Br,update:Br},Jr="__r",Kr="__c";function Yr(t){if(r(t[Jr])){var e=tt?"change":"input";t[e]=[].concat(t[Jr],t[e]||[]),delete t[Jr]}r(t[Kr])&&(t.change=[].concat(t[Kr],t.change||[]),delete t[Kr])}function Zr(t,e,i){var n=Hr;return function r(){var s=e.apply(null,arguments);null!==s&&ts(t,r,i,n)}}var Xr=ae&&!(rt&&Number(rt[1])<=53);function Qr(t,e,i,n){if(Xr){var r=Wi,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}Hr.addEventListener(t,e,ot?{capture:i,passive:n}:i)}function ts(t,e,i,n){(n||Hr).removeEventListener(t,e._wrapper||e,i)}function es(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},r=t.data.on||{};Hr=e.elm,Yr(i),Oe(i,r,Qr,ts,Zr,e.context),Hr=void 0}}var is,ns={create:es,update:es};function rs(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,s,o=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(i in r(c.__ob__)&&(c=e.data.domProps=A({},c)),a)i in c||(o[i]="");for(i in c){if(s=c[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),s===a[i])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===i&&"PROGRESS"!==o.tagName){o._value=s;var l=n(s)?"":String(s);ss(o,l)&&(o.value=l)}else if("innerHTML"===i&&sr(o.tagName)&&n(o.innerHTML)){is=is||document.createElement("div"),is.innerHTML="<svg>"+s+"</svg>";var u=is.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(u.firstChild)o.appendChild(u.firstChild)}else if(s!==a[i])try{o[i]=s}catch(xo){}}}}function ss(t,e){return!t.composing&&("OPTION"===t.tagName||os(t,e)||as(t,e))}function os(t,e){var i=!0;try{i=document.activeElement!==t}catch(xo){}return i&&t.value!==e}function as(t,e){var i=t.value,n=t._vModifiers;if(r(n)){if(n.number)return b(i)!==b(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}var cs={create:rs,update:rs},ls=O((function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function us(t){var e=hs(t.style);return t.staticStyle?A(t.staticStyle,e):e}function hs(t){return Array.isArray(t)?C(t):"string"===typeof t?ls(t):t}function ds(t,e){var i,n={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=us(r.data))&&A(n,i)}(i=us(t.data))&&A(n,i);var s=t;while(s=s.parent)s.data&&(i=us(s.data))&&A(n,i);return n}var ps,fs=/^--/,bs=/\s*!important$/,ys=function(t,e,i){if(fs.test(e))t.style.setProperty(e,i);else if(bs.test(i))t.style.setProperty(M(e),i.replace(bs,""),"important");else{var n=gs(e);if(Array.isArray(i))for(var r=0,s=i.length;r<s;r++)t.style[n]=i[r];else t.style[n]=i}},ms=["Webkit","Moz","ms"],gs=O((function(t){if(ps=ps||document.createElement("div").style,t=_(t),"filter"!==t&&t in ps)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<ms.length;i++){var n=ms[i]+e;if(n in ps)return n}}));function vs(t,e){var i=e.data,s=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(s.staticStyle)&&n(s.style))){var o,a,c=e.elm,l=s.staticStyle,u=s.normalizedStyle||s.style||{},h=l||u,d=hs(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?A({},d):d;var p=ds(e,!0);for(a in h)n(p[a])&&ys(c,a,"");for(a in p)o=p[a],o!==h[a]&&ys(c,a,null==o?"":o)}}var ws={create:vs,update:vs},Os=/\s+/;function js(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Os).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function _s(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Os).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function xs(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&A(e,Ss(t.name||"v")),A(e,t),e}return"string"===typeof t?Ss(t):void 0}}var Ss=O((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ms=Y&&!et,ks="transition",Is="animation",Ts="transition",Es="transitionend",As="animation",Cs="animationend";Ms&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ts="WebkitTransition",Es="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(As="WebkitAnimation",Cs="webkitAnimationEnd"));var Ps=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Rs(t){Ps((function(){Ps(t)}))}function Ls(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),js(t,e))}function Ns(t,e){t._transitionClasses&&g(t._transitionClasses,e),_s(t,e)}function Fs(t,e,i){var n=zs(t,e),r=n.type,s=n.timeout,o=n.propCount;if(!r)return i();var a=r===ks?Es:Cs,c=0,l=function(){t.removeEventListener(a,u),i()},u=function(e){e.target===t&&++c>=o&&l()};setTimeout((function(){c<o&&l()}),s+1),t.addEventListener(a,u)}var Ds=/\b(transform|all)(,|$)/;function zs(t,e){var i,n=window.getComputedStyle(t),r=(n[Ts+"Delay"]||"").split(", "),s=(n[Ts+"Duration"]||"").split(", "),o=Vs(r,s),a=(n[As+"Delay"]||"").split(", "),c=(n[As+"Duration"]||"").split(", "),l=Vs(a,c),u=0,h=0;e===ks?o>0&&(i=ks,u=o,h=s.length):e===Is?l>0&&(i=Is,u=l,h=c.length):(u=Math.max(o,l),i=u>0?o>l?ks:Is:null,h=i?i===ks?s.length:c.length:0);var d=i===ks&&Ds.test(n[Ts+"Property"]);return{type:i,timeout:u,propCount:h,hasTransform:d}}function Vs(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,i){return $s(e)+$s(t[i])})))}function $s(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Gs(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var s=xs(t.data.transition);if(!n(s)&&!r(i._enterCb)&&1===i.nodeType){var o=s.css,a=s.type,l=s.enterClass,u=s.enterToClass,h=s.enterActiveClass,d=s.appearClass,p=s.appearToClass,f=s.appearActiveClass,y=s.beforeEnter,m=s.enter,g=s.afterEnter,v=s.enterCancelled,w=s.beforeAppear,O=s.appear,j=s.afterAppear,_=s.appearCancelled,x=s.duration,S=Ei,M=Ei.$vnode;while(M&&M.parent)S=M.context,M=M.parent;var k=!S._isMounted||!t.isRootInsert;if(!k||O||""===O){var I=k&&d?d:l,T=k&&f?f:h,E=k&&p?p:u,A=k&&w||y,C=k&&"function"===typeof O?O:m,P=k&&j||g,R=k&&_||v,L=b(c(x)?x.enter:x);0;var N=!1!==o&&!et,F=Bs(C),z=i._enterCb=D((function(){N&&(Ns(i,E),Ns(i,T)),z.cancelled?(N&&Ns(i,I),R&&R(i)):P&&P(i),i._enterCb=null}));t.data.show||je(t,"insert",(function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),C&&C(i,z)})),A&&A(i),N&&(Ls(i,I),Ls(i,T),Rs((function(){Ns(i,I),z.cancelled||(Ls(i,E),F||(qs(L)?setTimeout(z,L):Fs(i,a,z)))}))),t.data.show&&(e&&e(),C&&C(i,z)),N||F||z()}}}function Us(t,e){var i=t.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var s=xs(t.data.transition);if(n(s)||1!==i.nodeType)return e();if(!r(i._leaveCb)){var o=s.css,a=s.type,l=s.leaveClass,u=s.leaveToClass,h=s.leaveActiveClass,d=s.beforeLeave,p=s.leave,f=s.afterLeave,y=s.leaveCancelled,m=s.delayLeave,g=s.duration,v=!1!==o&&!et,w=Bs(p),O=b(c(g)?g.leave:g);0;var j=i._leaveCb=D((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),v&&(Ns(i,u),Ns(i,h)),j.cancelled?(v&&Ns(i,l),y&&y(i)):(e(),f&&f(i)),i._leaveCb=null}));m?m(_):_()}function _(){j.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),v&&(Ls(i,l),Ls(i,h),Rs((function(){Ns(i,l),j.cancelled||(Ls(i,u),w||(qs(O)?setTimeout(j,O):Fs(i,a,j)))}))),p&&p(i,j),v||w||j())}}function qs(t){return"number"===typeof t&&!isNaN(t)}function Bs(t){if(n(t))return!1;var e=t.fns;return r(e)?Bs(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Hs(t,e){!0!==e.data.show&&Gs(e)}var Ws=Y?{create:Hs,activate:Hs,remove:function(t,e){!0!==t.data.show?Us(t,e):e()}}:{},Js=[qr,Wr,ns,cs,ws,Ws],Ks=Js.concat(Vr),Ys=Cr({nodeOps:xr,modules:Ks});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ro(t,"input")}));var Zs={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?je(i,"postpatch",(function(){Zs.componentUpdated(t,e,i)})):Xs(t,e,i.context),t._vOptions=[].map.call(t.options,eo)):("textarea"===i.tag||ur(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",io),t.addEventListener("compositionend",no),t.addEventListener("change",no),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Xs(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,eo);if(r.some((function(t,e){return!N(t,n[e])}))){var s=t.multiple?e.value.some((function(t){return to(t,r)})):e.value!==e.oldValue&&to(e.value,r);s&&ro(t,"change")}}}};function Xs(t,e,i){Qs(t,e,i),(tt||it)&&setTimeout((function(){Qs(t,e,i)}),0)}function Qs(t,e,i){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var s,o,a=0,c=t.options.length;a<c;a++)if(o=t.options[a],r)s=F(n,eo(o))>-1,o.selected!==s&&(o.selected=s);else if(N(eo(o),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function to(t,e){return e.every((function(e){return!N(e,t)}))}function eo(t){return"_value"in t?t._value:t.value}function io(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,ro(t.target,"input"))}function ro(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function so(t){return!t.componentInstance||t.data&&t.data.transition?t:so(t.componentInstance._vnode)}var oo={bind:function(t,e,i){var n=e.value;i=so(i);var r=i.data&&i.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,Gs(i,(function(){t.style.display=s}))):t.style.display=n?s:"none"},update:function(t,e,i){var n=e.value,r=e.oldValue;if(!n!==!r){i=so(i);var s=i.data&&i.data.transition;s?(i.data.show=!0,n?Gs(i,(function(){t.style.display=t.__vOriginalDisplay})):Us(i,(function(){t.style.display="none"}))):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},ao={model:Zs,show:oo},co={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function lo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?lo(_i(e.children)):t}function uo(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var s in r)e[_(s)]=r[s];return e}function ho(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function po(t){while(t=t.parent)if(t.data.transition)return!0}function fo(t,e){return e.key===t.key&&e.tag===t.tag}var bo=function(t){return t.tag||Re(t)},yo=function(t){return"show"===t.name},mo={name:"transition",props:co,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(bo),i.length)){0;var n=this.mode;0;var r=i[0];if(po(this.$vnode))return r;var s=lo(r);if(!s)return r;if(this._leaving)return ho(t,r);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var c=(s.data||(s.data={})).transition=uo(this),l=this._vnode,u=lo(l);if(s.data.directives&&s.data.directives.some(yo)&&(s.data.show=!0),u&&u.data&&!fo(s,u)&&!Re(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=A({},c);if("out-in"===n)return this._leaving=!0,je(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ho(t,r);if("in-out"===n){if(Re(s))return l;var d,p=function(){d()};je(c,"afterEnter",p),je(c,"enterCancelled",p),je(h,"delayLeave",(function(t){d=t}))}}return r}}},go=A({tag:String,moveClass:String},co);delete go.mode;var vo={props:go,beforeMount:function(){var t=this,e=this._update;this._update=function(i,n){var r=Ai(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,i,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],o=uo(this),a=0;a<r.length;a++){var c=r[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))s.push(c),i[c.key]=c,(c.data||(c.data={})).transition=o;else;}if(n){for(var l=[],u=[],h=0;h<n.length;h++){var d=n[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?l.push(d):u.push(d)}this.kept=t(e,null,l),this.removed=u}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(wo),t.forEach(Oo),t.forEach(jo),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var i=t.elm,n=i.style;Ls(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Es,i._moveCb=function t(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Es,t),i._moveCb=null,Ns(i,e))})}})))},methods:{hasMove:function(t,e){if(!Ms)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){_s(i,t)})),js(i,e),i.style.display="none",this.$el.appendChild(i);var n=zs(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function wo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Oo(t){t.data.newPos=t.elm.getBoundingClientRect()}function jo(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+n+"px,"+r+"px)",s.transitionDuration="0s"}}var _o={Transition:mo,TransitionGroup:vo};xn.config.mustUseProp=$n,xn.config.isReservedTag=or,xn.config.isReservedAttr=zn,xn.config.getTagNamespace=ar,xn.config.isUnknownElement=lr,A(xn.options.directives,ao),A(xn.options.components,_o),xn.prototype.__patch__=Y?Ys:P,xn.prototype.$mount=function(t,e){return t=t&&Y?hr(t):void 0,Ri(this,t,e)},Y&&setTimeout((function(){G.devtools&&lt&&lt.emit("init",xn)}),0),e["a"]=xn}).call(this,i("c8ba"))},"2b92":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n,r=i("a4ee"),s=i("6a0e"),o=i("1233"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386")),l=i("d81c");let u=n=class extends s["a"]{constructor(t){super(t),this.value=0,this.unit="milliseconds"}toMilliseconds(){return Object(o["a"])(this.value,this.unit,"milliseconds")}clone(){return new n({value:this.value,unit:this.unit})}};Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0},nonNullable:!0})],u.prototype,"value",void 0),Object(r["a"])([Object(a["b"])({type:l["a"].apiValues,json:{type:l["a"].jsonValues,read:l["a"].read,write:l["a"].write},nonNullable:!0})],u.prototype,"unit",void 0),u=n=Object(r["a"])([Object(c["a"])("esri.TimeInterval")],u);const h=u},"2ba4":function(t,e){var i=Function.prototype,n=i.apply,r=i.bind,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(n):function(){return s.apply(n,arguments)})},"2c4f":function(t,e,i){"use strict";i.d(e,"a",(function(){return A}));var n,r=i("a4ee"),s=i("556f"),o=i("ce6d"),a=i("7ffa"),c=i("b2b2"),l=i("ecd7"),u=i("5815"),h=i("59b2"),d=i("cea0"),p=i("cbf3"),f=i("d386"),b=i("c0d3"),y=i("9b86");class m{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new y["a"](this._observers,t)}notify(){const t=this._observers.slice();for(let e=0;e<t.length;++e){const i=t[e];i.onInvalidated(),i.onCommitted()}}}class g{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const v=new l["a"](g,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1}),w=()=>{};function O(t){return t?t instanceof E?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function j(t){if(t&&t.length)return t[0]}function _(t,e,i,n){const r=Math.min(t.length-i,e.length-n);let s=0;for(;s<r&&t[i+s]===e[n+s];)s++;return s}function x(t,e,i,n){e&&e.forEach((e,r,s)=>{t.push(e),x(t,i.call(n,e,r,s),i,n)})}const S=new Set,M=new Set,k=new Set,I=new Map;let T=0,E=n=class extends o["a"].EventedAccessor{constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new m,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:T++})}static isCollection(t){return null!=t&&t instanceof n}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof n?{items:t}:t:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Object(b["d"])(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,O(t)),this._emitAfterChanges(1))}hasEventListener(t){return"change"===t?this._chgListeners.length>0:this._emitter.hasEventListener(t)}on(t,e){if("change"===t){const t=this._chgListeners,i={removed:!1,callback:e};return t.push(i),this._notifications&&this._notifications.push({listeners:t.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=w,i.removed=!0,t.splice(t.indexOf(i),1)}}}return this._emitter.on(t,e)}once(t,e){const i=this.on(t,e);return{remove(){i.remove()}}}add(t,e){if(Object(b["d"])(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(null!=e?e:null);return this._splice(i,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(Object(b["d"])(this._observable),!t||!t.length)return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e);return this._splice(i,0,O(t)),this._emitAfterChanges(1),this}removeAll(){if(Object(b["d"])(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._splice(0,this.length)||[];return this._emitAfterChanges(2),t}clone(){return Object(b["d"])(this._observable),this._createNewInstance({items:this._items.map(a["a"])})}concat(...t){Object(b["d"])(this._observable);const e=t.map(O);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(Object(b["d"])(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=Object(c["d"])(this._splice(0,this.length)),n=i.length;for(let r=0;r<n;r++)t.call(e,i[r],r,i);this._emitAfterChanges(2)}every(t,e){return Object(b["d"])(this._observable),this._items.every(t,e)}filter(t,e){let i;return Object(b["d"])(this._observable),i=2===arguments.length?this._items.filter(t,e):this._items.filter(t),this._createNewInstance({items:i})}find(t,e){return Object(b["d"])(this._observable),this._items.find(t,e)}findIndex(t,e){return Object(b["d"])(this._observable),this._items.findIndex(t,e)}flatten(t,e){Object(b["d"])(this._observable);const i=[];return x(i,this,t,e),new n(i)}forEach(t,e){return Object(b["d"])(this._observable),this._items.forEach(t,e)}getItemAt(t){return Object(b["d"])(this._observable),this._items[t]}getNextIndex(t){Object(b["d"])(this._observable);const e=this.length;return(t=null==t?e:t)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return Object(b["d"])(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return Object(b["d"])(this._observable),this._items.indexOf(t,e)}join(t=","){return Object(b["d"])(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return Object(b["d"])(this._observable),this._items.lastIndexOf(t,e)}map(t,e){Object(b["d"])(this._observable);const i=this._items.map(t,e);return new n({items:i})}reorder(t,e=this.length-1){Object(b["d"])(this._observable);const i=this.indexOf(t);if(-1!==i){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges(4))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(Object(b["d"])(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=j(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return Object(b["d"])(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){Object(b["d"])(this._observable);const i=this._items;return 2===arguments.length?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){Object(b["d"])(this._observable);const i=this._items;return 2===arguments.length?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return Object(b["d"])(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Object(b["d"])(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=j(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(Object(b["d"])(this._observable),!t||!t.length||this._emitBeforeChanges(2))return[];const e=t instanceof n?t.toArray():t,i=this._items,r=[],s=e.length;for(let n=0;n<s;n++){const t=e[n],s=i.indexOf(t);if(s>-1){const t=1+_(e,i,n+1,s+1),o=this._splice(s,t);o&&o.length>0&&r.push.apply(r,o),n+=t-1}}return this._emitAfterChanges(2),r}reverse(){if(Object(b["d"])(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(Object(b["d"])(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=j(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return Object(b["d"])(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return Object(b["d"])(this._observable),this._items.some(t,e)}sort(t){if(Object(b["d"])(this._observable),!this.length||this._emitBeforeChanges(4))return this;const e=Object(c["d"])(this._splice(0,this.length));return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}splice(t,e,...i){Object(b["d"])(this._observable);const n=(e?2:0)|(i.length?1:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(t,e,i)||[];return this._emitAfterChanges(n),r}toArray(){return Object(b["d"])(this._observable),this._items.slice()}toJSON(){return Object(b["d"])(this._observable),this.toArray()}toLocaleString(){return Object(b["d"])(this._observable),this._items.toLocaleString()}toString(){return Object(b["d"])(this._observable),this._items.toString()}unshift(...t){return Object(b["d"])(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const n=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Object(u["b"])(()=>this._dispatchChange())),e){if(o=n.splice(t,e),this.hasEventListener("before-remove")){const e=v.acquire();e.target=this,e.cancellable=!0;for(let i=0,r=o.length;i<r;i++)s=o[i],e.reset(s),this.emit("before-remove",e),e.defaultPrevented&&(o.splice(i,1),n.splice(t,0,s),t+=1,i-=1,r-=1);v.release(e)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const t=v.acquire();t.target=this,t.cancellable=!1;const e=o.length;for(let i=0;i<e;i++)t.reset(o[i]),this.emit("after-remove",t);v.release(t)}}if(i&&i.length){if(r){const t=[];for(const e of i){const i=r.ensureType(e);null==i&&null!=e||t.push(i)}i=t}const e=this.hasEventListener("before-add"),s=this.hasEventListener("after-add"),o=t===this.length;if(e||s){const r=v.acquire();r.target=this,r.cancellable=!0;const a=v.acquire();a.target=this,a.cancellable=!1;for(const c of i)e?(r.reset(c),this.emit("before-add",r),r.defaultPrevented||(o?n.push(c):n.splice(t++,0,c),this._set("length",n.length),s&&(a.reset(c),this.emit("after-add",a)))):(o?n.push(c):n.splice(t++,0,c),this._set("length",n.length),a.reset(c),this.emit("after-add",a));v.release(a),v.release(r)}else{if(o)for(const t of i)n.push(t);else n.splice(t,0,...i);this._set("length",n.length)}}return(i&&i.length||o&&o.length)&&this._notifyChangeEvent(i,o),o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=v.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,v.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=v.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),v.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const t=e.changes;S.clear(),M.clear(),k.clear();for(const{added:e,removed:s}of t){if(e)if(0===k.size&&0===M.size)for(const t of e)S.add(t);else for(const t of e)M.has(t)?(k.add(t),M.delete(t)):k.has(t)||S.add(t);if(s)if(0===k.size&&0===S.size)for(const t of s)M.add(t);else for(const t of s)S.has(t)?S.delete(t):(k.delete(t),M.add(t))}const i=s["a"].acquire();S.forEach(t=>{i.push(t)});const n=s["a"].acquire();M.forEach(t=>{n.push(t)});const r=this._items,o=e.items,a=s["a"].acquire();if(k.forEach(t=>{o.indexOf(t)!==r.indexOf(t)&&a.push(t)}),e.listeners&&(i.length||n.length||a.length)){const t={target:this,added:i,removed:n,moved:a},r=e.listeners.length;for(let i=0;i<r;i++){const n=e.listeners[i];n.removed||n.callback.call(this,t)}}s["a"].release(i),s["a"].release(n),s["a"].release(a)}S.clear(),M.clear(),k.clear()}};E.ofType=t=>{if(!t)return n;if(I.has(t))return I.get(t);let e=null;if("function"==typeof t)e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const n in t.typeMap){const i=t.typeMap[n].prototype.declaredClass;e?e+=" | "+i:e=i}let i=class extends n{};return Object(r["a"])([Object(p["a"])({Type:t,ensureType:"function"==typeof t?Object(d["m"])(t):Object(d["k"])(t)})],i.prototype,"itemType",void 0),i=Object(r["a"])([Object(f["a"])(`esri.core.Collection<${e}>`)],i),I.set(t,i),i},Object(r["a"])([Object(h["b"])()],E.prototype,"length",void 0),Object(r["a"])([Object(h["b"])()],E.prototype,"items",null),E=n=Object(r["a"])([Object(f["a"])("esri.core.Collection")],E);const A=E},"2c63":function(t,e,i){"use strict";function n(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function r(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function s(t,e,i,n,r,s){const o=new Float32Array(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=n,o[4]=r,o[5]=s,o}function o(t,e){return new Float32Array(t,e,6)}function a(t,e,i,n){const r=e[n],s=e[n+1];t[n]=i[0]*r+i[2]*s+i[4],t[n+1]=i[1]*r+i[3]*s+i[5]}function c(t,e,i,n=0,r=0,s=2){const o=r||e.length/s;for(let c=n;c<o;c++)a(t,e,i,c*s)}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return c}));Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o,transform:a,transformMany:c})},"2c81":function(t,e,i){"use strict";let n;i.d(e,"a",(function(){return r}));const r={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(n=2e3;n<=2045;n++)r[n]=0;for(n=2056;n<=2065;n++)r[n]=0;for(n=2067;n<=2135;n++)r[n]=0;for(n=2137;n<=2154;n++)r[n]=0;for(n=2161;n<=2170;n++)r[n]=0;for(n=2172;n<=2193;n++)r[n]=0;for(n=2195;n<=2198;n++)r[n]=0;for(n=2200;n<=2203;n++)r[n]=0;for(n=2205;n<=2217;n++)r[n]=0;for(n=2222;n<=2224;n++)r[n]=1;for(n=2225;n<=2250;n++)r[n]=2;for(n=2251;n<=2253;n++)r[n]=1;for(n=2257;n<=2264;n++)r[n]=2;for(n=2274;n<=2279;n++)r[n]=2;for(n=2280;n<=2282;n++)r[n]=1;for(n=2283;n<=2289;n++)r[n]=2;for(n=2290;n<=2292;n++)r[n]=0;for(n=2308;n<=2313;n++)r[n]=0;for(n=2315;n<=2491;n++)r[n]=0;for(n=2494;n<=2866;n++)r[n]=0;for(n=2867;n<=2869;n++)r[n]=1;for(n=2870;n<=2888;n++)r[n]=2;for(n=2891;n<=2895;n++)r[n]=2;for(n=2896;n<=2898;n++)r[n]=1;for(n=2902;n<=2908;n++)r[n]=2;for(n=2915;n<=2920;n++)r[n]=2;for(n=2921;n<=2923;n++)r[n]=1;for(n=2924;n<=2930;n++)r[n]=2;for(n=2931;n<=2962;n++)r[n]=0;for(n=2964;n<=2968;n++)r[n]=2;for(n=2969;n<=2973;n++)r[n]=0;for(n=2975;n<=2991;n++)r[n]=0;for(n=2995;n<=3051;n++)r[n]=0;for(n=3054;n<=3079;n++)r[n]=0;for(n=3081;n<=3088;n++)r[n]=0;for(n=3092;n<=3101;n++)r[n]=0;for(n=3106;n<=3138;n++)r[n]=0;for(n=3146;n<=3151;n++)r[n]=0;for(n=3153;n<=3166;n++)r[n]=0;for(n=3168;n<=3172;n++)r[n]=0;for(n=3174;n<=3203;n++)r[n]=0;for(n=3294;n<=3358;n++)r[n]=0;for(n=3367;n<=3403;n++)r[n]=0;for(n=3408;n<=3416;n++)r[n]=0;for(n=3417;n<=3438;n++)r[n]=2;for(n=3441;n<=3446;n++)r[n]=2;for(n=3447;n<=3450;n++)r[n]=0;for(n=3451;n<=3459;n++)r[n]=2;for(n=3460;n<=3478;n++)r[n]=0;for(n=3554;n<=3559;n++)r[n]=0;for(n=3560;n<=3570;n++)r[n]=2;for(n=3571;n<=3581;n++)r[n]=0;for(n=3594;n<=3597;n++)r[n]=0;for(n=3601;n<=3604;n++)r[n]=0;for(n=3637;n<=3639;n++)r[n]=0;for(n=3665;n<=3667;n++)r[n]=0;for(n=3693;n<=3695;n++)r[n]=0;for(n=3701;n<=3727;n++)r[n]=0;for(n=3728;n<=3739;n++)r[n]=2;for(n=3740;n<=3751;n++)r[n]=0;for(n=3753;n<=3760;n++)r[n]=2;for(n=3761;n<=3773;n++)r[n]=0;for(n=3775;n<=3777;n++)r[n]=0;for(n=3779;n<=3781;n++)r[n]=0;for(n=3783;n<=3785;n++)r[n]=0;for(n=3788;n<=3791;n++)r[n]=0;for(n=3797;n<=3802;n++)r[n]=0;for(n=3814;n<=3816;n++)r[n]=0;for(n=3825;n<=3829;n++)r[n]=0;for(n=3832;n<=3841;n++)r[n]=0;for(n=3844;n<=3852;n++)r[n]=0;for(n=3873;n<=3885;n++)r[n]=0;for(n=3890;n<=3893;n++)r[n]=0;for(n=3907;n<=3912;n++)r[n]=0;for(n=3942;n<=3950;n++)r[n]=0;for(n=3968;n<=3970;n++)r[n]=0;for(n=3973;n<=3976;n++)r[n]=0;for(n=3986;n<=3989;n++)r[n]=0;for(n=3994;n<=3997;n++)r[n]=0;for(n=4048;n<=4051;n++)r[n]=0;for(n=4056;n<=4063;n++)r[n]=0;for(n=4093;n<=4096;n++)r[n]=0;for(n=4390;n<=4398;n++)r[n]=0;for(n=4399;n<=4413;n++)r[n]=2;for(n=4418;n<=4433;n++)r[n]=2;for(n=4455;n<=4457;n++)r[n]=2;for(n=4484;n<=4489;n++)r[n]=0;for(n=4491;n<=4554;n++)r[n]=0;for(n=4568;n<=4589;n++)r[n]=0;for(n=4652;n<=4656;n++)r[n]=0;for(n=4766;n<=4800;n++)r[n]=0;for(n=5014;n<=5016;n++)r[n]=0;for(n=5069;n<=5072;n++)r[n]=0;for(n=5105;n<=5130;n++)r[n]=0;for(n=5173;n<=5188;n++)r[n]=0;for(n=5253;n<=5259;n++)r[n]=0;for(n=5269;n<=5275;n++)r[n]=0;for(n=5292;n<=5311;n++)r[n]=0;for(n=5329;n<=5331;n++)r[n]=0;for(n=5343;n<=5349;n++)r[n]=0;for(n=5355;n<=5357;n++)r[n]=0;for(n=5387;n<=5389;n++)r[n]=0;for(n=5459;n<=5463;n++)r[n]=0;for(n=5479;n<=5482;n++)r[n]=0;for(n=5518;n<=5520;n++)r[n]=0;for(n=5530;n<=5539;n++)r[n]=0;for(n=5550;n<=5552;n++)r[n]=0;for(n=5562;n<=5583;n++)r[n]=0;for(n=5623;n<=5625;n++)r[n]=2;for(n=5631;n<=5639;n++)r[n]=0;for(n=5649;n<=5653;n++)r[n]=0;for(n=5663;n<=5680;n++)r[n]=0;for(n=5682;n<=5685;n++)r[n]=0;for(n=5875;n<=5877;n++)r[n]=0;for(n=5896;n<=5899;n++)r[n]=0;for(n=5921;n<=5940;n++)r[n]=0;for(n=6050;n<=6125;n++)r[n]=0;for(n=6244;n<=6275;n++)r[n]=0;for(n=6328;n<=6348;n++)r[n]=0;for(n=6350;n<=6356;n++)r[n]=0;for(n=6366;n<=6372;n++)r[n]=0;for(n=6381;n<=6387;n++)r[n]=0;for(n=6393;n<=6404;n++)r[n]=0;for(n=6480;n<=6483;n++)r[n]=0;for(n=6511;n<=6514;n++)r[n]=0;for(n=6579;n<=6581;n++)r[n]=0;for(n=6619;n<=6624;n++)r[n]=0;for(n=6625;n<=6627;n++)r[n]=2;for(n=6628;n<=6632;n++)r[n]=0;for(n=6634;n<=6637;n++)r[n]=0;for(n=6669;n<=6692;n++)r[n]=0;for(n=6707;n<=6709;n++)r[n]=0;for(n=6720;n<=6723;n++)r[n]=0;for(n=6732;n<=6738;n++)r[n]=0;for(n=6931;n<=6933;n++)r[n]=0;for(n=6956;n<=6959;n++)r[n]=0;for(n=7005;n<=7007;n++)r[n]=0;for(n=7057;n<=7070;n++)r[n]=2;for(n=7074;n<=7082;n++)r[n]=0;for(n=7109;n<=7118;n++)r[n]=0;for(n=7119;n<=7127;n++)r[n]=1;for(n=7374;n<=7376;n++)r[n]=0;for(n=7528;n<=7586;n++)r[n]=0;for(n=7587;n<=7645;n++)r[n]=2;for(n=7692;n<=7696;n++)r[n]=0;for(n=7755;n<=7787;n++)r[n]=0;for(n=7791;n<=7795;n++)r[n]=0;for(n=7799;n<=7801;n++)r[n]=0;for(n=7803;n<=7805;n++)r[n]=0;for(n=7825;n<=7831;n++)r[n]=0;for(n=7845;n<=7859;n++)r[n]=0;for(n=8013;n<=8032;n++)r[n]=0;for(n=8065;n<=8068;n++)r[n]=1;for(n=8518;n<=8529;n++)r[n]=2;for(n=8533;n<=8536;n++)r[n]=2;for(n=8538;n<=8540;n++)r[n]=2;for(n=8677;n<=8679;n++)r[n]=0;for(n=8836;n<=8840;n++)r[n]=0;for(n=8857;n<=8859;n++)r[n]=0;for(n=8908;n<=8910;n++)r[n]=0;for(n=9154;n<=9159;n++)r[n]=0;for(n=9205;n<=9218;n++)r[n]=0;for(n=9271;n<=9273;n++)r[n]=0;for(n=9295;n<=9297;n++)r[n]=0;for(n=9356;n<=9360;n++)r[n]=0;for(n=9404;n<=9407;n++)r[n]=0;for(n=9476;n<=9482;n++)r[n]=0;for(n=9487;n<=9494;n++)r[n]=0;for(n=9697;n<=9699;n++)r[n]=0;for(n=20002;n<=20032;n++)r[n]=0;for(n=20062;n<=20092;n++)r[n]=0;for(n=20135;n<=20138;n++)r[n]=0;for(n=20248;n<=20258;n++)r[n]=0;for(n=20348;n<=20358;n++)r[n]=0;for(n=20436;n<=20440;n++)r[n]=0;for(n=20822;n<=20824;n++)r[n]=0;for(n=20904;n<=20932;n++)r[n]=0;for(n=20934;n<=20936;n++)r[n]=0;for(n=21004;n<=21032;n++)r[n]=0;for(n=21035;n<=21037;n++)r[n]=0;for(n=21095;n<=21097;n++)r[n]=0;for(n=21148;n<=21150;n++)r[n]=0;for(n=21207;n<=21264;n++)r[n]=0;for(n=21307;n<=21364;n++)r[n]=0;for(n=21413;n<=21423;n++)r[n]=0;for(n=21453;n<=21463;n++)r[n]=0;for(n=21473;n<=21483;n++)r[n]=0;for(n=21780;n<=21782;n++)r[n]=0;for(n=21891;n<=21894;n++)r[n]=0;for(n=21896;n<=21899;n++)r[n]=0;for(n=22171;n<=22177;n++)r[n]=0;for(n=22181;n<=22187;n++)r[n]=0;for(n=22191;n<=22197;n++)r[n]=0;for(n=22234;n<=22236;n++)r[n]=0;for(n=22521;n<=22525;n++)r[n]=0;for(n=22991;n<=22994;n++)r[n]=0;for(n=23028;n<=23038;n++)r[n]=0;for(n=23830;n<=23853;n++)r[n]=0;for(n=23866;n<=23872;n++)r[n]=0;for(n=23877;n<=23884;n++)r[n]=0;for(n=23886;n<=23894;n++)r[n]=0;for(n=23946;n<=23948;n++)r[n]=0;for(n=24311;n<=24313;n++)r[n]=0;for(n=24342;n<=24347;n++)r[n]=0;for(n=24370;n<=24374;n++)r[n]=10;for(n=24375;n<=24381;n++)r[n]=0;for(n=24718;n<=24721;n++)r[n]=0;for(n=24817;n<=24821;n++)r[n]=0;for(n=24877;n<=24882;n++)r[n]=0;for(n=24891;n<=24893;n++)r[n]=0;for(n=25391;n<=25395;n++)r[n]=0;for(n=25828;n<=25838;n++)r[n]=0;for(n=26191;n<=26195;n++)r[n]=0;for(n=26391;n<=26393;n++)r[n]=0;for(n=26701;n<=26722;n++)r[n]=0;for(n=26729;n<=26799;n++)r[n]=2;for(n=26801;n<=26803;n++)r[n]=2;for(n=26811;n<=26813;n++)r[n]=2;for(n=26847;n<=26870;n++)r[n]=2;for(n=26891;n<=26899;n++)r[n]=0;for(n=26901;n<=26923;n++)r[n]=0;for(n=26929;n<=26946;n++)r[n]=0;for(n=26948;n<=26998;n++)r[n]=0;for(n=27037;n<=27040;n++)r[n]=0;for(n=27205;n<=27232;n++)r[n]=0;for(n=27258;n<=27260;n++)r[n]=0;for(n=27391;n<=27398;n++)r[n]=0;for(n=27561;n<=27564;n++)r[n]=0;for(n=27571;n<=27574;n++)r[n]=0;for(n=27581;n<=27584;n++)r[n]=0;for(n=27591;n<=27594;n++)r[n]=0;for(n=28191;n<=28193;n++)r[n]=0;for(n=28348;n<=28358;n++)r[n]=0;for(n=28402;n<=28432;n++)r[n]=0;for(n=28462;n<=28492;n++)r[n]=0;for(n=29118;n<=29122;n++)r[n]=0;for(n=29168;n<=29172;n++)r[n]=0;for(n=29177;n<=29185;n++)r[n]=0;for(n=29187;n<=29195;n++)r[n]=0;for(n=29900;n<=29903;n++)r[n]=0;for(n=30161;n<=30179;n++)r[n]=0;for(n=30491;n<=30494;n++)r[n]=0;for(n=30729;n<=30732;n++)r[n]=0;for(n=31251;n<=31259;n++)r[n]=0;for(n=31265;n<=31268;n++)r[n]=0;for(n=31275;n<=31279;n++)r[n]=0;for(n=31281;n<=31297;n++)r[n]=0;for(n=31461;n<=31469;n++)r[n]=0;for(n=31491;n<=31495;n++)r[n]=0;for(n=31917;n<=31922;n++)r[n]=0;for(n=31965;n<=32e3;n++)r[n]=0;for(n=32001;n<=32003;n++)r[n]=2;for(n=32005;n<=32031;n++)r[n]=2;for(n=32033;n<=32060;n++)r[n]=2;for(n=32064;n<=32067;n++)r[n]=2;for(n=32074;n<=32077;n++)r[n]=2;for(n=32081;n<=32086;n++)r[n]=0;for(n=32107;n<=32130;n++)r[n]=0;for(n=32133;n<=32158;n++)r[n]=0;for(n=32164;n<=32167;n++)r[n]=2;for(n=32180;n<=32199;n++)r[n]=0;for(n=32201;n<=32260;n++)r[n]=0;for(n=32301;n<=32360;n++)r[n]=0;for(n=32601;n<=32662;n++)r[n]=0;for(n=32664;n<=32667;n++)r[n]=2;for(n=32701;n<=32761;n++)r[n]=0;for(n=53001;n<=53004;n++)r[n]=0;for(n=53008;n<=53019;n++)r[n]=0;for(n=53021;n<=53032;n++)r[n]=0;for(n=53034;n<=53037;n++)r[n]=0;for(n=53042;n<=53046;n++)r[n]=0;for(n=53074;n<=53080;n++)r[n]=0;for(n=54001;n<=54004;n++)r[n]=0;for(n=54008;n<=54019;n++)r[n]=0;for(n=54021;n<=54032;n++)r[n]=0;for(n=54034;n<=54037;n++)r[n]=0;for(n=54042;n<=54046;n++)r[n]=0;for(n=54048;n<=54053;n++)r[n]=0;for(n=54074;n<=54080;n++)r[n]=0;for(n=54098;n<=54101;n++)r[n]=0;for(n=102001;n<=102040;n++)r[n]=0;for(n=102042;n<=102063;n++)r[n]=0;for(n=102065;n<=102067;n++)r[n]=0;for(n=102070;n<=102117;n++)r[n]=0;for(n=102122;n<=102216;n++)r[n]=0;for(n=102221;n<=102377;n++)r[n]=0;for(n=102382;n<=102388;n++)r[n]=0;for(n=102389;n<=102398;n++)r[n]=2;for(n=102399;n<=102444;n++)r[n]=0;for(n=102445;n<=102447;n++)r[n]=2;for(n=102448;n<=102458;n++)r[n]=0;for(n=102459;n<=102468;n++)r[n]=2;for(n=102469;n<=102499;n++)r[n]=0;for(n=102500;n<=102519;n++)r[n]=1;for(n=102520;n<=102524;n++)r[n]=0;for(n=102525;n<=102529;n++)r[n]=2;for(n=102530;n<=102588;n++)r[n]=0;for(n=102590;n<=102598;n++)r[n]=0;for(n=102601;n<=102603;n++)r[n]=0;for(n=102605;n<=102628;n++)r[n]=0;for(n=102629;n<=102646;n++)r[n]=2;for(n=102648;n<=102700;n++)r[n]=2;for(n=102701;n<=102703;n++)r[n]=0;for(n=102707;n<=102730;n++)r[n]=2;for(n=102733;n<=102758;n++)r[n]=2;for(n=102767;n<=102900;n++)r[n]=0;for(n=102901;n<=102933;n++)r[n]=2;for(n=102934;n<=102950;n++)r[n]=13;for(n=102951;n<=102960;n++)r[n]=0;for(n=102965;n<=102969;n++)r[n]=0;for(n=102971;n<=102973;n++)r[n]=0;for(n=102975;n<=102989;n++)r[n]=0;for(n=102990;n<=102992;n++)r[n]=1;for(n=102997;n<=103002;n++)r[n]=0;for(n=103003;n<=103008;n++)r[n]=2;for(n=103009;n<=103011;n++)r[n]=0;for(n=103012;n<=103014;n++)r[n]=2;for(n=103019;n<=103021;n++)r[n]=0;for(n=103022;n<=103024;n++)r[n]=2;for(n=103029;n<=103031;n++)r[n]=0;for(n=103032;n<=103034;n++)r[n]=2;for(n=103065;n<=103068;n++)r[n]=0;for(n=103074;n<=103076;n++)r[n]=0;for(n=103077;n<=103079;n++)r[n]=1;for(n=103080;n<=103082;n++)r[n]=0;for(n=103083;n<=103085;n++)r[n]=2;for(n=103090;n<=103093;n++)r[n]=0;for(n=103097;n<=103099;n++)r[n]=0;for(n=103100;n<=103102;n++)r[n]=2;for(n=103107;n<=103109;n++)r[n]=0;for(n=103110;n<=103112;n++)r[n]=2;for(n=103113;n<=103116;n++)r[n]=0;for(n=103117;n<=103120;n++)r[n]=2;for(n=103153;n<=103157;n++)r[n]=0;for(n=103158;n<=103162;n++)r[n]=2;for(n=103163;n<=103165;n++)r[n]=0;for(n=103166;n<=103168;n++)r[n]=1;for(n=103169;n<=103171;n++)r[n]=2;for(n=103186;n<=103188;n++)r[n]=0;for(n=103189;n<=103191;n++)r[n]=2;for(n=103192;n<=103195;n++)r[n]=0;for(n=103196;n<=103199;n++)r[n]=2;for(n=103200;n<=103224;n++)r[n]=0;for(n=103225;n<=103227;n++)r[n]=1;for(n=103232;n<=103237;n++)r[n]=0;for(n=103238;n<=103243;n++)r[n]=2;for(n=103244;n<=103246;n++)r[n]=0;for(n=103247;n<=103249;n++)r[n]=2;for(n=103254;n<=103256;n++)r[n]=0;for(n=103257;n<=103259;n++)r[n]=2;for(n=103264;n<=103266;n++)r[n]=0;for(n=103267;n<=103269;n++)r[n]=2;for(n=103300;n<=103375;n++)r[n]=0;for(n=103381;n<=103383;n++)r[n]=0;for(n=103384;n<=103386;n++)r[n]=1;for(n=103387;n<=103389;n++)r[n]=0;for(n=103390;n<=103392;n++)r[n]=2;for(n=103397;n<=103399;n++)r[n]=0;for(n=103400;n<=103471;n++)r[n]=2;for(n=103476;n<=103478;n++)r[n]=0;for(n=103479;n<=103481;n++)r[n]=2;for(n=103486;n<=103488;n++)r[n]=0;for(n=103489;n<=103491;n++)r[n]=2;for(n=103492;n<=103495;n++)r[n]=0;for(n=103496;n<=103499;n++)r[n]=2;for(n=103528;n<=103543;n++)r[n]=0;for(n=103544;n<=103548;n++)r[n]=2;for(n=103549;n<=103551;n++)r[n]=0;for(n=103552;n<=103554;n++)r[n]=1;for(n=103555;n<=103557;n++)r[n]=2;for(n=103558;n<=103560;n++)r[n]=0;for(n=103571;n<=103573;n++)r[n]=0;for(n=103574;n<=103576;n++)r[n]=2;for(n=103577;n<=103580;n++)r[n]=0;for(n=103581;n<=103583;n++)r[n]=2;for(n=103595;n<=103694;n++)r[n]=0;for(n=103696;n<=103699;n++)r[n]=0;for(n=103700;n<=103793;n++)r[n]=2;for(n=103794;n<=103872;n++)r[n]=0;for(n=103900;n<=103971;n++)r[n]=2},"2cd6":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0")),a=i("d386"),c=i("a9ab");let l=class extends r["a"]{constructor(t){super(t),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"deviationUnit",void 0),Object(n["a"])([Object(s["b"])({json:{read:{reader:t=>t?t.map(t=>Object(c["a"])(t)):null},write:{writer:(t,e)=>{e.geometries=t.map(t=>t.toJSON())}}}})],l.prototype,"geometries",void 0),Object(n["a"])([Object(s["b"])({type:Number,json:{write:!0}})],l.prototype,"maxDeviation",void 0),l=Object(n["a"])([Object(a["a"])("esri.rest.support.GeneralizeParameters")],l),l.from=Object(o["m"])(l);const u=l},"2cf4":function(t,e,i){var n,r,s,o,a=i("da84"),c=i("2ba4"),l=i("0366"),u=i("1626"),h=i("1a2d"),d=i("d039"),p=i("1be4"),f=i("f36a"),b=i("cc12"),y=i("1cdc"),m=i("605d"),g=a.setImmediate,v=a.clearImmediate,w=a.process,O=a.Dispatch,j=a.Function,_=a.MessageChannel,x=a.String,S=0,M={},k="onreadystatechange";try{n=a.location}catch(C){}var I=function(t){if(h(M,t)){var e=M[t];delete M[t],e()}},T=function(t){return function(){I(t)}},E=function(t){I(t.data)},A=function(t){a.postMessage(x(t),n.protocol+"//"+n.host)};g&&v||(g=function(t){var e=f(arguments,1);return M[++S]=function(){c(u(t)?t:j(t),void 0,e)},r(S),S},v=function(t){delete M[t]},m?r=function(t){w.nextTick(T(t))}:O&&O.now?r=function(t){O.now(T(t))}:_&&!y?(s=new _,o=s.port2,s.port1.onmessage=E,r=l(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!d(A)?(r=A,a.addEventListener("message",E,!1)):r=k in b("script")?function(t){p.appendChild(b("script"))[k]=function(){p.removeChild(this),I(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:g,clear:v}},"2d00":function(t,e,i){var n,r,s=i("da84"),o=i("342f"),a=s.process,c=s.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(n=u.split("."),r=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(r=+n[1]))),t.exports=r},"2dd4":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("c120");var n=i("e92d"),r=i("9d9d");function s(t,e,i){if(t&&e)if("object"==typeof e)for(const n of Object.getOwnPropertyNames(e))s(t,n,e[n]);else{if(-1!==e.indexOf(".")){const n=e.split("."),o=n.splice(n.length-1,1)[0];return void s(Object(r["b"])(t,n),o,i)}t[e]=i}}n["a"].getLogger("esri.core.accessorSupport.set")},"2e3f":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new n({title:this.title,expression:this.expression})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"title",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"expression",void 0),Object(r["a"])([Object(o["b"])({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.popup.ElementExpressionInfo")],c);const l=c},"2eab":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return p}));var n=i("1325"),r=i("f7be"),s=i("ce50"),o=i("c120"),a=i("7ffa"),c=i("b2b2"),l=i("f4cc"),u=i("e041"),h=i("8249"),d=i("228a");async function p(t,e){var i;const n=Object(u["u"])(t),r=Object(u["t"])(t);r||n||(t=Object(u["D"])(t));const s={url:t,requestOptions:{...Object(c["t"])(e)}};let a=Object(u["l"])(t);if(a){const t=await E(a,s);if(null!=t)return{data:t,getHeader:w,requestOptions:s.requestOptions,url:s.url};a.after||a.error||(a=null)}if(t=s.url,"image"===(e=s.requestOptions).responseType){if(Object(o["a"])("host-webworker")||Object(o["a"])("host-node"))throw x("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s)}else if(n)throw x("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+e.responseType),s);if("head"===e.method){if(e.body)throw x("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(n||r)throw x("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await S(),f)return f.execute(t,e);const h=new AbortController;Object(l["p"])(e,()=>h.abort());const d={controller:h,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:b.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=await P(d);return null==(i=a)||null==i.after||i.after(p),p}let f;const b=n["a"].request,y="FormData"in globalThis,m=[499,498,403,401],g=["COM_0056","COM_0057","SB_0008"],v=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],w=()=>null,O=Symbol();function j(t){const e=Object(u["m"])(t);e&&!p._corsServers.includes(e)&&p._corsServers.push(e)}function _(t){const e=Object(u["m"])(t);return!e||e.endsWith(".arcgis.com")||p._corsServers.includes(e)||Object(u["y"])(e)}function x(t,e,i,n){let r="Error";const o={url:i.url,requestOptions:i.requestOptions,getHeader:w,ssl:!1};if(e instanceof s["a"])return e.details?(e.details=Object(a["a"])(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=o,e;if(e){const t=n&&(t=>n.headers.get(t)),i=n&&n.status,s=e.message;s&&(r=s),t&&(o.getHeader=t),o.httpStatus=(null!=e.httpCode?e.httpCode:e.code)||i||0,o.subCode=e.subcode,o.messageCode=e.messageCode,"string"==typeof e.details?o.messages=[e.details]:o.messages=e.details,o.raw=O in e?e[O]:e}return Object(l["l"])(e)?Object(l["d"])():new s["a"](t,r,o)}async function S(){Object(o["a"])("host-webworker")?f||(f=await i.e("chunk-2d0d03e5").then(i.bind(null,"66c2"))):p._abortableFetch||(p._abortableFetch=globalThis.fetch.bind(globalThis))}async function M(){r["b"]||await i.e("chunk-86864ea4").then(i.bind(null,"d81c8"))}async function k(t){const e=t.params.url,i=t.params.requestOptions,s=t.controller.signal,o=i.body;let a=null,c=null,u=null;if(y&&"HTMLFormElement"in globalThis&&(o instanceof FormData?a=o:o instanceof HTMLFormElement&&(c=o,a=new FormData(c))),"string"==typeof o&&(u=o),t.fetchOptions={cache:i.cacheBust&&!p._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:"head"===i.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:s},(a||u)&&(t.fetchOptions.body=a||u),"anonymous"===i.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||i.query&&i.query.token||a&&a.get&&a.get("token")||c&&c.elements.token),!t.hasToken&&n["a"].apiKey&&Object(h["a"])(e)&&(i.query||(i.query={}),i.query.token=n["a"].apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!I(e)&&!Object(l["m"])(s)){let n;"immediate"===i.authMode?(await M(),n=await r["b"].getCredential(e,{signal:s}),t.credential=n):"no-prompt"===i.authMode?(await M(),n=await r["b"].getCredential(e,{prompt:!1,signal:s}).catch(()=>{}),t.credential=n):r["b"]&&(n=r["b"].findCredential(e)),n&&(t.credentialToken=n.token,t.useSSL=!!n.ssl)}}function I(t){return v.some(e=>e.test(t))}async function T(t){let e=t.params.url;const i=t.params.requestOptions,n=t.fetchOptions,s=Object(u["t"])(e)||Object(u["u"])(e),a=i.responseType||"json",c=s?0:null!=i.timeout?i.timeout:b.timeout;let h=!1;if(!s){t.useSSL&&(e=Object(u["J"])(e)),i.cacheBust&&"default"===n.cache&&(e=Object(u["d"])(e,"request.preventCache",Date.now()));let s={...i.query};t.credentialToken&&(s.token=t.credentialToken);let a=Object(u["E"])(s);Object(o["a"])("esri-url-encodes-apostrophe")&&(a=a.replace(/'/g,"%27"));const c=e.length+1+a.length;let l;h="delete"===i.method||"post"===i.method||"put"===i.method||!!i.body||c>b.maxUrlLength;const d=i.useProxy||!!Object(u["o"])(e);if(d){const t=Object(u["p"])(e);l=t.path,!h&&l.length+1+c>b.maxUrlLength&&(h=!0),t.query&&(s={...t.query,...s})}if("HEAD"===n.method&&(h||d)){if(h){if(c>b.maxUrlLength)throw x("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);throw x("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params)}if(d)throw x("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(h?(n.method="delete"===i.method?"DELETE":"put"===i.method?"PUT":"POST",i.body?e=Object(u["e"])(e,s):(n.body=Object(u["E"])(s),n.headers["Content-Type"]="application/x-www-form-urlencoded")):e=Object(u["e"])(e,s),d&&(t.useProxy=!0,e=`${l}?${e}`),s.token&&y&&n.body instanceof FormData){const t=n.body;t.set?t.set("token",s.token):t.append("token",s.token)}if(i.hasOwnProperty("withCredentials"))t.withCredentials=i.withCredentials;else if(!Object(u["q"])(e,u["g"]))if(Object(u["y"])(e))t.withCredentials=!0;else if(r["b"]){const i=r["b"].findServerInfo(e);i&&i.webTierAuth&&(t.withCredentials=!0)}t.withCredentials&&(n.credentials="include")}let d,f,g=0,v=!1;c>0&&(g=setTimeout(()=>{v=!0,t.controller.abort()},c));try{if("native-request-init"===i.responseType)f=n,f.url=e;else if("image"!==i.responseType||"default"!==n.cache||"GET"!==n.method||h||A(i.headers)||!s&&!t.useProxy&&b.proxyUrl&&!_(e)){if(d=await p._abortableFetch(e,n),t.useProxy||j(e),"native"===i.responseType)f=d;else if("HEAD"!==n.method)if(d.ok){switch(a){case"array-buffer":f=await d.arrayBuffer();break;case"blob":case"image":f=await d.blob();break;default:f=await d.text()}if(g&&(clearTimeout(g),g=0),"json"===a||"xml"===a||"document"===a)if(f)switch(a){case"json":f=JSON.parse(f);break;case"xml":f=C(f,"application/xml");break;case"document":f=C(f,"text/html")}else f=null;if(f){if("array-buffer"===a||"blob"===a){const t=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(t)&&f["blob"===a?"size":"byteLength"]<=750)try{const t=await new Response(f).json();t.error&&(f=t)}catch{}}"image"===a&&f instanceof Blob&&(f=await L(URL.createObjectURL(f),t,!0))}}else f=await d.text()}else f=await L(e,t)}catch(m){if("AbortError"===m.name){if(v)throw new Error("Timeout exceeded");throw Object(l["d"])("Request canceled")}if(!(!d&&m instanceof TypeError&&b.proxyUrl)||i.body||"delete"===i.method||"head"===i.method||"post"===i.method||"put"===i.method||t.useProxy||_(e))throw m;t.redoRequest=!0,Object(u["c"])({proxyUrl:b.proxyUrl,urlPrefix:Object(u["m"])(e)})}finally{g&&clearTimeout(g)}return[d,f]}async function E(t,e){if(null!=t.responseData)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,r;try{r=await t.before(e)}catch(i){n=x("request:interceptor",i,e)}if((r instanceof Error||r instanceof s["a"])&&(n=x("request:interceptor",r,e)),n)throw t.error&&t.error(n),n;return r}}function A(t){if(t)for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0;return!1}function C(t,e){let i;try{i=(new DOMParser).parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function P(t){var e,i;let n,s;await k(t);try{do{[n,s]=await T(t)}while(!await R(t,n,s))}catch(c){const e=x("request:server",c,t.params,n);throw e.details.ssl=t.useSSL,t.interceptor&&t.interceptor.error&&t.interceptor.error(e),e}const o=t.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)&&!t.hasToken&&!t.credentialToken&&null!=(e=s)&&null!=(i=e.user)&&i.username&&!Object(u["y"])(o)){const t=Object(u["m"])(o,!0);t&&b.trustedServers.push(t)}const a=t.credential;if(a&&r["b"]){const t=r["b"].findServerInfo(a.server);let e=t&&t.owningSystemUrl;if(e){e=e.replace(/\/?$/,"/sharing");const t=r["b"].findCredential(e,a.userId);t&&-1===r["b"]._getIdenticalSvcIdx(e,t)&&t.resources.unshift(e)}}return{data:s,getHeader:n?t=>n.headers.get(t):w,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function R(t,e,i){if(t.redoRequest)return t.redoRequest=!1,!1;const n=t.params.requestOptions;if(!e||"native"===n.responseType||"native-request-init"===n.responseType)return!0;let s,o,a,c;if(!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[O]=i,s;null!=i&&i.error&&(s=i.error),s&&(o=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,c=s.messageCode,c=c&&c.toUpperCase());const l=n.authMode;if(403===o&&(4===a||s.message&&s.message.toLowerCase().indexOf("ssl")>-1&&-1===s.message.toLowerCase().indexOf("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&("no-prompt"!==l||498===o)&&-1!==m.indexOf(o)&&!I(t.params.url)&&(403!==o||-1===g.indexOf(c)&&(null==a||2===a&&t.credentialToken))){await M();try{const e=await r["b"].getCredential(t.params.url,{error:x("request:server",s,t.params),prompt:"no-prompt"!==l,signal:t.controller.signal,token:t.credentialToken});return t.credential=e,t.credentialToken=e.token,t.useSSL=t.useSSL||e.ssl,!1}catch(u){if("no-prompt"===l)return t.credential=null,t.credentialToken=null,!1;s=u}}if(s)throw s;return!0}function L(t,e,i=!1){const n=e.controller.signal,r=new Image;return e.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.src=t,Object(d["a"])(r,t,i,n)}p._abortableFetch=null,p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},"2edc":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return g}));var n=i("a4ee"),r=i("e06a"),s=i("8d60"),o=i("fa8a"),a=i("6a0e"),c=i("b2b2"),l=i("59b2"),u=(i("b50f"),i("c120"),i("cea0"),i("afcf")),h=i("d386"),d=i("09db"),p=i("5996"),f=i("a9ab"),b=i("a1f3");const y=new o["a"]({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let m=class extends a["a"]{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){const i=p["a"].fromJSON(e.spatialReference),n=[];for(let r=0;r<t.length;r++){const e=t[r],o=s["a"].fromJSON(e),a=e.geometry&&e.geometry.spatialReference;Object(c["l"])(o.geometry)&&!a&&(o.geometry.spatialReference=i),n.push(o)}return n}writeGeometryType(t,e,i,n){if(t)return void y.write(t,e,i,n);const{features:r}=this;if(r)for(const s of r)if(s&&Object(c["l"])(s.geometry))return void y.write(s.geometry.type,e,i,n)}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,n=Object(f["a"])(t);return!i&&e.spatialReference&&(n.spatialReference=p["a"].fromJSON(e.spatialReference)),n}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i)for(const n of i)if(n&&Object(c["l"])(n.geometry)&&n.geometry.spatialReference)return void(e.spatialReference=n.geometry.spatialReference.toJSON())}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const n=e.features[i];if(n.geometry){const e=t&&t[i];n.geometry=e&&e.toJSON()||n.geometry}}return e}quantize(t){const{scale:[e,i],translate:[n,r]}=t,s=t=>Math.round((t-n)/e),o=t=>Math.round((r-t)/i),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let u=0,h=a.length;u<h;u++)l(Object(c["t"])(a[u].geometry))||(a.splice(u,1),u--,h--);return this.transform=t,this}unquantize(){const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[n,r],scale:[s,o]}=i,a=t=>t*s+n,l=t=>r-t*o,u=this._getHydrationFunction(t,a,l);for(const{geometry:h}of e)Object(c["l"])(h)&&u(h);return this.transform=null,this}_quantizePoints(t,e,i){let n,r;const s=[];for(let o=0,a=t.length;o<a;o++){const a=t[o];if(o>0){const t=e(a[0]),o=i(a[1]);t===n&&o===r||(s.push([t-n,o-r]),n=t,r=o)}else n=e(a[0]),r=i(a[1]),s.push([n,r])}return s.length>0?s:null}_getQuantizationFunction(t,e,i){return"point"===t?t=>(t.x=e(t.x),t.y=i(t.y),t):"polyline"===t||"polygon"===t?t=>{const n=Object(f["g"])(t)?t.rings:t.paths,r=[];for(let s=0,o=n.length;s<o;s++){const t=n[s],o=this._quantizePoints(t,e,i);o&&r.push(o)}return r.length>0?(Object(f["g"])(t)?t.rings=r:t.paths=r,t):null}:"multipoint"===t?t=>{const n=this._quantizePoints(t.points,e,i);return n.length>0?(t.points=n,t):null}:"extent"===t?t=>t:null}_getHydrationFunction(t,e,i){return"point"===t?t=>{t.x=e(t.x),t.y=i(t.y)}:"polyline"===t||"polygon"===t?t=>{const n=Object(f["g"])(t)?t.rings:t.paths;let r,s;for(let o=0,a=n.length;o<a;o++){const t=n[o];for(let n=0,o=t.length;n<o;n++){const o=t[n];n>0?(r+=o[0],s+=o[1]):(r=o[0],s=o[1]),o[0]=e(r),o[1]=i(s)}}}:"extent"===t?t=>{t.xmin=e(t.xmin),t.ymin=i(t.ymin),t.xmax=e(t.xmax),t.ymax=i(t.ymax)}:"multipoint"===t?t=>{const n=t.points;let r,s;for(let o=0,a=n.length;o<a;o++){const t=n[o];o>0?(r+=t[0],s+=t[1]):(r=t[0],s=t[1]),t[0]=e(r),t[1]=i(s)}}:void 0}};Object(n["a"])([Object(l["b"])({type:String,json:{write:!0}})],m.prototype,"displayFieldName",void 0),Object(n["a"])([Object(l["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"exceededTransferLimit",void 0),Object(n["a"])([Object(l["b"])({type:[s["a"]],json:{write:!0}})],m.prototype,"features",void 0),Object(n["a"])([Object(u["a"])("features")],m.prototype,"readFeatures",null),Object(n["a"])([Object(l["b"])({type:[b["a"]],json:{write:!0}})],m.prototype,"fields",void 0),Object(n["a"])([Object(l["b"])({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:y.read}}})],m.prototype,"geometryType",void 0),Object(n["a"])([Object(d["a"])("geometryType")],m.prototype,"writeGeometryType",null),Object(n["a"])([Object(l["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"hasM",void 0),Object(n["a"])([Object(l["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"hasZ",void 0),Object(n["a"])([Object(l["b"])({types:r["a"],json:{write:!0}})],m.prototype,"queryGeometry",void 0),Object(n["a"])([Object(u["a"])("queryGeometry")],m.prototype,"readQueryGeometry",null),Object(n["a"])([Object(l["b"])({type:p["a"],json:{write:!0}})],m.prototype,"spatialReference",void 0),Object(n["a"])([Object(d["a"])("spatialReference")],m.prototype,"writeSpatialReference",null),Object(n["a"])([Object(l["b"])({json:{write:!0}})],m.prototype,"transform",void 0),m=Object(n["a"])([Object(h["a"])("esri.rest.support.FeatureSet")],m),m.prototype.toJSON.isDefaultToJSON=!0;const g=m},"2f62":function(t,e,i){"use strict";(function(t){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function i(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:n});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,i.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var n="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},r=n.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){r.emit("vuex:action",t,e)}),{prepend:!0}))}function o(t,e){return t.filter(e)[0]}function a(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var i=o(e,(function(e){return e.original===t}));if(i)return i.copy;var n=Array.isArray(t)?[]:{};return e.push({original:t,copy:n}),Object.keys(t).forEach((function(i){n[i]=a(t[i],e)})),n}function c(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function l(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var d=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(t,e){this._children[t]=e},d.prototype.removeChild=function(t){delete this._children[t]},d.prototype.getChild=function(t){return this._children[t]},d.prototype.hasChild=function(t){return t in this._children},d.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},d.prototype.forEachChild=function(t){c(this._children,t)},d.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},d.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},d.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(d.prototype,p);var f=function(t){this.register([],t,!1)};function b(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;b(t.concat(n),e.getChild(n),i.modules[n])}}f.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},f.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},f.prototype.update=function(t){b([],this.root,t)},f.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new d(e,i);if(0===t.length)this.root=r;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],r)}e.modules&&c(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},f.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},f.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};var y;var m=function(t){var e=this;void 0===t&&(t={}),!y&&"undefined"!==typeof window&&window.Vue&&A(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new f(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new y,this._makeLocalGettersCache=Object.create(null);var r=this,o=this,a=o.dispatch,c=o.commit;this.dispatch=function(t,e){return a.call(r,t,e)},this.commit=function(t,e,i){return c.call(r,t,e,i)},this.strict=n;var l=this._modules.root.state;j(this,l,[],this._modules.root),O(this,l),i.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:y.config.devtools;u&&s(this)},g={state:{configurable:!0}};function v(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;j(t,i,[],t._modules.root,!0),O(t,i,e)}function O(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,s={};c(r,(function(e,i){s[i]=h(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var o=y.config.silent;y.config.silent=!0,t._vm=new y({data:{$$state:e},computed:s}),y.config.silent=o,t.strict&&I(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),y.nextTick((function(){return n.$destroy()})))}function j(t,e,i,n,r){var s=!i.length,o=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!s&&!r){var a=T(e,i.slice(0,-1)),c=i[i.length-1];t._withCommit((function(){y.set(a,c,n.state)}))}var l=n.context=_(t,o,i);n.forEachMutation((function(e,i){var n=o+i;S(t,n,e,l)})),n.forEachAction((function(e,i){var n=e.root?i:o+i,r=e.handler||e;M(t,n,r,l)})),n.forEachGetter((function(e,i){var n=o+i;k(t,n,e,l)})),n.forEachChild((function(n,s){j(t,e,i.concat(s),n,r)}))}function _(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var s=E(i,n,r),o=s.payload,a=s.options,c=s.type;return a&&a.root||(c=e+c),t.dispatch(c,o)},commit:n?t.commit:function(i,n,r){var s=E(i,n,r),o=s.payload,a=s.options,c=s.type;a&&a.root||(c=e+c),t.commit(c,o,a)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return x(t,e)}},state:{get:function(){return T(t.state,i)}}}),r}function x(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var s=r.slice(n);Object.defineProperty(i,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}function S(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))}function M(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return u(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function k(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function I(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function T(t,e){return e.reduce((function(t,e){return t[e]}),t)}function E(t,e,i){return l(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function A(t){y&&t===y||(y=t,i(y))}g.state.get=function(){return this._vm._data.$$state},g.state.set=function(t){0},m.prototype.commit=function(t,e,i){var n=this,r=E(t,e,i),s=r.type,o=r.payload,a=(r.options,{type:s,payload:o}),c=this._mutations[s];c&&(this._withCommit((function(){c.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,n.state)})))},m.prototype.dispatch=function(t,e){var i=this,n=E(t,e),r=n.type,s=n.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(l){0}var c=a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s);return new Promise((function(t,e){c.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(l){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,i.state,t)}))}catch(l){0}e(t)}))}))}},m.prototype.subscribe=function(t,e){return v(t,this._subscribers,e)},m.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return v(i,this._actionSubscribers,e)},m.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},m.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},m.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),j(this,this.state,t,this._modules.get(t),i.preserveState),O(this,this.state)},m.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=T(e.state,t.slice(0,-1));y.delete(i,t[t.length-1])})),w(this)},m.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},m.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},m.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(m.prototype,g);var C=z((function(t,e){var i={};return F(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=V(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),P=z((function(t,e){var i={};return F(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var s=V(this.$store,"mapMutations",t);if(!s)return;n=s.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),R=z((function(t,e){var i={};return F(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||V(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i})),L=z((function(t,e){var i={};return F(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var s=V(this.$store,"mapActions",t);if(!s)return;n=s.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),N=function(t){return{mapState:C.bind(null,t),mapGetters:R.bind(null,t),mapMutations:P.bind(null,t),mapActions:L.bind(null,t)}};function F(t){return D(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function D(t){return Array.isArray(t)||l(t)}function z(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function V(t,e,i){var n=t._modulesNamespaceMap[i];return n}function $(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var n=t.transformer;void 0===n&&(n=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var o=t.actionTransformer;void 0===o&&(o=function(t){return t});var c=t.logMutations;void 0===c&&(c=!0);var l=t.logActions;void 0===l&&(l=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=a(t.state);"undefined"!==typeof u&&(c&&t.subscribe((function(t,s){var o=a(s);if(i(t,h,o)){var c=q(),l=r(t),d="mutation "+t.type+c;G(u,d,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",n(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",l),u.log("%c next state","color: #4CAF50; font-weight: bold",n(o)),U(u)}h=o})),l&&t.subscribeAction((function(t,i){if(s(t,i)){var n=q(),r=o(t),a="action "+t.type+n;G(u,a,e),u.log("%c action","color: #03A9F4; font-weight: bold",r),U(u)}})))}}function G(t,e,i){var n=i?t.groupCollapsed:t.group;try{n.call(t,e)}catch(r){t.log(e)}}function U(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function q(){var t=new Date;return" @ "+H(t.getHours(),2)+":"+H(t.getMinutes(),2)+":"+H(t.getSeconds(),2)+"."+H(t.getMilliseconds(),3)}function B(t,e){return new Array(e+1).join(t)}function H(t,e){return B("0",e-t.toString().length)+t}var W={Store:m,install:A,version:"3.6.2",mapState:C,mapMutations:P,mapGetters:R,mapActions:L,createNamespacedHelpers:N,createLogger:$};e["a"]=W}).call(this,i("c8ba"))},"2feb":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("e92d"),r=i("a1f3"),s=i("80b7"),o=i("c1da");const a=n["a"].getLogger("esri.layers.support.fieldProperties");function c(){return{fields:{type:[r["a"]],value:null},fieldsIndex:{readOnly:!0,get(){return new s["a"](this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){const t=this._userOutFields;if(!t||!t.length)return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const e of t)this.fieldsIndex.has(e)||a.error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:t});return Object(o["j"])(this.fieldsIndex,t)}}}}},"2ff3":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));const n=29;class r{constructor(t,e=n){this.name=t,this._counter=0,this._items=new Array(e)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,e)=>t-e)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,e)=>t+e,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}},3105:function(t,e,i){"use strict";i.d(e,"a",(function(){return Oe})),i.d(e,"b",(function(){return Z})),i.d(e,"c",(function(){return St})),i.d(e,"d",(function(){return Xt})),i.d(e,"e",(function(){return K})),i.d(e,"f",(function(){return Zt})),i.d(e,"g",(function(){return Qt}));const n={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0},r="app";let s,o,a,c,l=0,u=!1,h=!1,d=!1,p=!1,f=null,b=0,y=!1;const m="undefined"!==typeof window?window:{},g=(n.cssVarShim&&m.CSS,m.document||{head:{}}),v=(m.HTMLElement,{$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,i,n)=>t.addEventListener(e,i,n),rel:(t,e,i,n)=>t.removeEventListener(e,i,n),ce:(t,e)=>new CustomEvent(t,e)}),w=!n.shadowDomShim||!n.shadowDom||(()=>(g.head.attachShadow+"").indexOf("[native")>-1)(),O=(()=>{let t=!1;try{g.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),j=t=>Promise.resolve(t),_=!!n.constructableCSS&&(()=>{try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replace}catch(t){}return!1})(),x=(t,e,i,r)=>{n.hostListener&&i&&(n.hostListenerTargetParent&&(i=r?i.filter(([t])=>32&t):i.filter(([t])=>!(32&t))),i.map(([i,r,s])=>{const o=n.hostListenerTarget?M(t,i):t,a=S(e,s),c=k(i);v.ael(o,r,a,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>v.rel(o,r,a,c))}))},S=(t,e)=>i=>{try{n.lazyLoad?256&t.$flags$?t.$lazyInstance$[e](i):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,i]):t.$hostElement$[e](i)}catch(r){re(r)}},M=(t,e)=>n.hostListenerTargetDocument&&4&e?g:n.hostListenerTargetWindow&&8&e?m:n.hostListenerTargetBody&&16&e?g.body:n.hostListenerTargetParent&&32&e?t.parentElement:t,k=t=>O?{passive:0!==(1&t),capture:0!==(2&t)}:0!==(2&t),I="r",T="o",E="s",A="t",C="s-id",P="sty-id",R="c-id",L="http://www.w3.org/1999/xlink",N=(t,e="")=>{if(n.profile&&performance.mark){const i=`st:${t}:${e}:${l++}`;return performance.mark(i),()=>performance.measure(`[Stencil] ${t}() <${e}>`,i)}return()=>{}},F=(t,e)=>n.profile&&performance.mark?(0===performance.getEntriesByName(t).length&&performance.mark(t),()=>{0===performance.getEntriesByName(e).length&&performance.measure(e,t)}):()=>{},D=new WeakMap,z=(t,e,i)=>{let n=ue.get(t);_&&i?(n=n||new CSSStyleSheet,n.replace(e)):n=e,ue.set(t,n)},V=(t,e,i,r)=>{let s=G(e,i),o=ue.get(s);if(!n.attachStyles)return s;if(t=11===t.nodeType?t:g,o)if("string"===typeof o){t=t.head||t;let i,a=D.get(t);if(a||D.set(t,a=new Set),!a.has(s)){if(n.hydrateClientSide&&t.host&&(i=t.querySelector(`[${P}="${s}"]`)))i.innerHTML=o;else{if(n.cssVarShim&&v.$cssShim$){i=v.$cssShim$.createHostStyle(r,s,o,!!(10&e.$flags$));const t=i["s-sc"];t&&(s=t,a=null)}else i=g.createElement("style"),i.innerHTML=o;(n.hydrateServerSide||n.hotModuleReplacement)&&i.setAttribute(P,s),t.insertBefore(i,t.querySelector("link"))}a&&a.add(s)}}else n.constructableCSS&&!t.adoptedStyleSheets.includes(o)&&(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return s},$=t=>{const e=t.$cmpMeta$,i=t.$hostElement$,r=e.$flags$,s=N("attachStyles",e.$tagName$),o=V(n.shadowDom&&w&&i.shadowRoot?i.shadowRoot:i.getRootNode(),e,t.$modeName$,i);(n.shadowDom||n.scoped)&&n.cssAnnotations&&10&r&&(i["s-sc"]=o,i.classList.add(o+"-h"),n.scoped&&2&r&&i.classList.add(o+"-s")),s()},G=(t,e)=>"sc-"+(n.mode&&e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$),U=t=>he.map(e=>e(t)).find(t=>!!t),q={},B="http://www.w3.org/2000/svg",H="http://www.w3.org/1999/xhtml",W=t=>null!=t,J=t=>(t=typeof t,"object"===t||"function"===t),K=(t,e,...i)=>{let r=null,s=null,o=null,a=!1,c=!1,l=[];const u=e=>{for(let i=0;i<e.length;i++)r=e[i],Array.isArray(r)?u(r):null!=r&&"boolean"!==typeof r&&((a="function"!==typeof t&&!J(r))?r=String(r):n.isDev&&"function"!==typeof t&&void 0===r.$flags$&&oe("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),a&&c?l[l.length-1].$text$+=r:l.push(a?Y(null,r):r),c=a)};if(u(i),e&&(n.isDev&&"input"===t&&it(e),n.vdomKey&&e.key&&(s=e.key),n.slotRelocation&&e.name&&(o=e.name),n.vdomClass)){const t=e.className||e.class;t&&(e.class="object"!==typeof t?t:Object.keys(t).filter(e=>t[e]).join(" "))}if(n.isDev&&l.some(X)&&oe("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),n.vdomFunctional&&"function"===typeof t)return t(null===e?{}:e,l,Q);const h=Y(t,null);return h.$attrs$=e,l.length>0&&(h.$children$=l),n.vdomKey&&(h.$key$=s),n.slotRelocation&&(h.$name$=o),h},Y=(t,e)=>{const i={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.vdomAttribute&&(i.$attrs$=null),n.vdomKey&&(i.$key$=null),n.slotRelocation&&(i.$name$=null),i},Z={},X=t=>t&&t.$tag$===Z,Q={forEach:(t,e)=>t.map(tt).forEach(e),map:(t,e)=>t.map(tt).map(e).map(et)},tt=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),et=t=>{if("function"===typeof t.vtag){const e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),K(t.vtag,e,...t.vchildren||[])}const e=Y(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},it=t=>{const e=Object.keys(t),i=e.indexOf("type"),n=e.indexOf("min"),r=e.indexOf("max"),s=e.indexOf("min"),o=e.indexOf("value");-1!==o&&(o<i||o<n||o<r||o<s)&&ae('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},nt=(t,e,i,r,s,o)=>{if(i!==r){let c=ne(t,e),l=e.toLowerCase();if(n.vdomClass&&"class"===e){const e=t.classList,n=st(i),s=st(r);e.remove(...n.filter(t=>t&&!s.includes(t))),e.add(...s.filter(t=>t&&!n.includes(t)))}else if(n.vdomStyle&&"style"===e){if(n.updatable)for(const e in i)r&&null!=r[e]||(!n.hydrateServerSide&&e.includes("-")?t.style.removeProperty(e):t.style[e]="");for(const e in r)i&&r[e]===i[e]||(!n.hydrateServerSide&&e.includes("-")?t.style.setProperty(e,r[e]):t.style[e]=r[e])}else if(n.vdomKey&&"key"===e);else if(n.vdomRef&&"ref"===e)r&&r(t);else if(!n.vdomListener||(n.lazyLoad?c:t.__lookupSetter__(e))||"o"!==e[0]||"n"!==e[1]){if(n.vdomPropOrAttr){const u=J(r);if((c||u&&null!==r)&&!s)try{if(t.tagName.includes("-"))t[e]=r;else{let n=null==r?"":r;"list"===e?c=!1:null!=i&&t[e]==n||(t[e]=n)}}catch(a){}let h=!1;n.vdomXlink&&l!==(l=l.replace(/^xlink\:?/,""))&&(e=l,h=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(n.vdomXlink&&h?t.removeAttributeNS(L,e):t.removeAttribute(e)):(!c||4&o||s)&&!u&&(r=!0===r?"":r,n.vdomXlink&&h?t.setAttributeNS(L,e,r):t.setAttribute(e,r))}}else e="-"===e[2]?e.slice(3):ne(m,l)?l.slice(2):l[2]+e.slice(3),i&&v.rel(t,e,i,!1),r&&v.ael(t,e,r,!1)}},rt=/\s/,st=t=>t?t.split(rt):[],ot=(t,e,i,r)=>{const s=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||q,a=e.$attrs$||q;if(n.updatable)for(r in o)r in a||nt(s,r,o[r],void 0,i,e.$flags$);for(r in a)nt(s,r,o[r],a[r],i,e.$flags$)},at=(t,e,i,r)=>{let c,l,h,f=e.$children$[i],b=0;if(n.slotRelocation&&!u&&(d=!0,"slot"===f.$tag$&&(s&&r.classList.add(s+"-s"),f.$flags$|=f.$children$?2:1)),n.isDev&&f.$elm$&&oe(`The JSX ${null!==f.$text$?`"${f.$text$}" text`:`"${f.$tag$}" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`),n.vdomText&&null!==f.$text$)c=f.$elm$=g.createTextNode(f.$text$);else if(n.slotRelocation&&1&f.$flags$)c=f.$elm$=n.isDebug||n.hydrateServerSide?jt(f):g.createTextNode("");else{if(n.svg&&!p&&(p="svg"===f.$tag$),c=f.$elm$=n.svg?g.createElementNS(p?B:H,n.slotRelocation&&2&f.$flags$?"slot-fb":f.$tag$):g.createElement(n.slotRelocation&&2&f.$flags$?"slot-fb":f.$tag$),n.svg&&p&&"foreignObject"===f.$tag$&&(p=!1),n.vdomAttribute&&ot(null,f,p),(n.shadowDom||n.scoped)&&W(s)&&c["s-si"]!==s&&c.classList.add(c["s-si"]=s),f.$children$)for(b=0;b<f.$children$.length;++b)l=at(t,f,b,c),l&&c.appendChild(l);n.svg&&("svg"===f.$tag$?p=!1:"foreignObject"===c.tagName&&(p=!0))}return n.slotRelocation&&(c["s-hn"]=a,3&f.$flags$&&(c["s-sr"]=!0,c["s-cr"]=o,c["s-sn"]=f.$name$||"",h=t&&t.$children$&&t.$children$[i],h&&h.$tag$===f.$tag$&&t.$elm$&&ct(t.$elm$,!1))),c},ct=(t,e)=>{v.$flags$|=1;const i=t.childNodes;for(let n=i.length-1;n>=0;n--){const t=i[n];t["s-hn"]!==a&&t["s-ol"]&&(ft(t).insertBefore(t,pt(t)),t["s-ol"].remove(),t["s-ol"]=void 0,d=!0),e&&ct(t,e)}v.$flags$&=-2},lt=(t,e,i,r,s,o)=>{let c,l=n.slotRelocation&&t["s-cr"]&&t["s-cr"].parentNode||t;for(n.shadowDom&&l.shadowRoot&&l.tagName===a&&(l=l.shadowRoot);s<=o;++s)r[s]&&(c=at(null,i,s,t),c&&(r[s].$elm$=c,l.insertBefore(c,n.slotRelocation?pt(e):e)))},ut=(t,e,i,r,s)=>{for(;e<=i;++e)(r=t[e])&&(s=r.$elm$,wt(r),n.slotRelocation&&(h=!0,s["s-ol"]?s["s-ol"].remove():ct(s,!0)),s.remove())},ht=(t,e,i,r)=>{let s,o,a=0,c=0,l=0,u=0,h=e.length-1,d=e[0],p=e[h],f=r.length-1,b=r[0],y=r[f];while(a<=h&&c<=f)if(null==d)d=e[++a];else if(null==p)p=e[--h];else if(null==b)b=r[++c];else if(null==y)y=r[--f];else if(dt(d,b))bt(d,b),d=e[++a],b=r[++c];else if(dt(p,y))bt(p,y),p=e[--h],y=r[--f];else if(dt(d,y))!n.slotRelocation||"slot"!==d.$tag$&&"slot"!==y.$tag$||ct(d.$elm$.parentNode,!1),bt(d,y),t.insertBefore(d.$elm$,p.$elm$.nextSibling),d=e[++a],y=r[--f];else if(dt(p,b))!n.slotRelocation||"slot"!==d.$tag$&&"slot"!==y.$tag$||ct(p.$elm$.parentNode,!1),bt(p,b),t.insertBefore(p.$elm$,d.$elm$),p=e[--h],b=r[++c];else{if(l=-1,n.vdomKey)for(u=a;u<=h;++u)if(e[u]&&null!==e[u].$key$&&e[u].$key$===b.$key$){l=u;break}n.vdomKey&&l>=0?(o=e[l],o.$tag$!==b.$tag$?s=at(e&&e[c],i,l,t):(bt(o,b),e[l]=void 0,s=o.$elm$),b=r[++c]):(s=at(e&&e[c],i,c,t),b=r[++c]),s&&(n.slotRelocation?ft(d.$elm$).insertBefore(s,pt(d.$elm$)):d.$elm$.parentNode.insertBefore(s,d.$elm$))}a>h?lt(t,null==r[f+1]?null:r[f+1].$elm$,i,r,c,f):n.updatable&&c>f&&ut(e,a,h)},dt=(t,e)=>t.$tag$===e.$tag$&&(n.slotRelocation&&"slot"===t.$tag$?t.$name$===e.$name$:!n.vdomKey||t.$key$===e.$key$),pt=t=>t&&t["s-ol"]||t,ft=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,bt=(t,e)=>{const i=e.$elm$=t.$elm$,r=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let c;n.vdomText&&null!==a?n.vdomText&&n.slotRelocation&&(c=i["s-cr"])?c.parentNode.textContent=a:n.vdomText&&t.$text$!==a&&(i.data=a):(n.svg&&(p="svg"===o||"foreignObject"!==o&&p),(n.vdomAttribute||n.reflect)&&(n.slot&&"slot"===o||ot(t,e,p)),n.updatable&&null!==r&&null!==s?ht(i,r,e,s):null!==s?(n.updatable&&n.vdomText&&null!==t.$text$&&(i.textContent=""),lt(i,null,e,s,0,s.length-1)):n.updatable&&null!==r&&ut(r,0,r.length-1),n.svg&&p&&"svg"===o&&(p=!1))},yt=t=>{let e,i,n,r,s,o,a=t.childNodes;for(i=0,n=a.length;i<n;i++)if(e=a[i],1===e.nodeType){if(e["s-sr"])for(s=e["s-sn"],e.hidden=!1,r=0;r<n;r++)if(o=a[r].nodeType,a[r]["s-hn"]!==e["s-hn"]||""!==s){if(1===o&&s===a[r].getAttribute("slot")){e.hidden=!0;break}}else if(1===o||3===o&&""!==a[r].textContent.trim()){e.hidden=!0;break}yt(e)}},mt=[],gt=t=>{let e,i,n,r,s,o,a=0,c=t.childNodes,l=c.length;for(;a<l;a++){if(e=c[a],e["s-sr"]&&(i=e["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=e["s-sn"],o=n.length-1;o>=0;o--)i=n[o],i["s-cn"]||i["s-nr"]||i["s-hn"]===e["s-hn"]||(vt(i,r)?(s=mt.find(t=>t.$nodeToRelocate$===i),h=!0,i["s-sn"]=i["s-sn"]||r,s?s.$slotRefNode$=e:mt.push({$slotRefNode$:e,$nodeToRelocate$:i}),i["s-sr"]&&mt.map(t=>{vt(t.$nodeToRelocate$,i["s-sn"])&&(s=mt.find(t=>t.$nodeToRelocate$===i),s&&!t.$slotRefNode$&&(t.$slotRefNode$=s.$slotRefNode$))})):mt.some(t=>t.$nodeToRelocate$===i)||mt.push({$nodeToRelocate$:i}));1===e.nodeType&&gt(e)}},vt=(t,e)=>1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e,wt=t=>{n.vdomRef&&(t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(wt))},Ot=(t,e)=>{const i=t.$hostElement$,r=t.$cmpMeta$,c=t.$vnode$||Y(null,null),l=X(e)?e:K(null,null,e);if(a=i.tagName,n.isDev&&Array.isArray(e)&&e.some(X))throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of "${a.toLowerCase()}" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);if(n.reflect&&r.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},r.$attrsToReflect$.map(([t,e])=>l.$attrs$[e]=i[t])),l.$tag$=null,l.$flags$|=4,t.$vnode$=l,l.$elm$=c.$elm$=n.shadowDom&&i.shadowRoot||i,(n.scoped||n.shadowDom)&&(s=i["s-sc"]),n.slotRelocation&&(o=i["s-cr"],u=w&&0!==(1&r.$flags$),h=!1),bt(c,l),n.slotRelocation){if(v.$flags$|=1,d){let t,e,i,r,s,o;gt(l.$elm$);let a=0;for(;a<mt.length;a++)t=mt[a],e=t.$nodeToRelocate$,e["s-ol"]||(i=n.isDebug||n.hydrateServerSide?_t(e):g.createTextNode(""),i["s-nr"]=e,e.parentNode.insertBefore(e["s-ol"]=i,e));for(a=0;a<mt.length;a++)if(t=mt[a],e=t.$nodeToRelocate$,t.$slotRefNode$){r=t.$slotRefNode$.parentNode,s=t.$slotRefNode$.nextSibling,i=e["s-ol"];while(i=i.previousSibling)if(o=i["s-nr"],o&&o["s-sn"]===e["s-sn"]&&r===o.parentNode&&(o=o.nextSibling,!o||!o["s-nr"])){s=o;break}(!s&&r!==e.parentNode||e.nextSibling!==s)&&e!==s&&(!e["s-hn"]&&e["s-ol"]&&(e["s-hn"]=e["s-ol"].parentNode.nodeName),r.insertBefore(e,s))}else 1===e.nodeType&&(e.hidden=!0)}h&&yt(l.$elm$),v.$flags$&=-2,mt.length=0}},jt=t=>g.createComment(`<slot${t.$name$?' name="'+t.$name$+'"':""}> (host=${a.toLowerCase()})`),_t=t=>g.createComment("org-location for "+(t.localName?`<${t.localName}> (host=${t["s-hn"]})`:`[${t.textContent}]`)),xt=t=>n.lazyLoad?ee(t).$hostElement$:t,St=(t,e,i)=>{const r=xt(t);return{emit:t=>(n.isDev&&!r.isConnected&&ae(`The "${e}" event was emitted, but the dispatcher node is no longer connected to the dom.`),Mt(r,e,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:t}))}},Mt=(t,e,i)=>{const n=v.ce(e,i);return t.dispatchEvent(n),n},kt=(t,e)=>{n.asyncLoading&&e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(e=>t.$onRenderResolve$=e))},It=(t,e)=>{if(n.taskQueue&&n.updatable&&(t.$flags$|=16),n.asyncLoading&&4&t.$flags$)return void(t.$flags$|=512);kt(t,t.$ancestorComponent$);const i=()=>Tt(t,e);return n.taskQueue?we(i):i()},Tt=(t,e)=>{const i=t.$hostElement$,r=N("scheduleUpdate",t.$cmpMeta$.$tagName$),s=n.lazyLoad?t.$lazyInstance$:i;let o;return e?(n.lazyLoad&&n.hostListener&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map(([t,e])=>Rt(s,t,e)),t.$queuedListeners$=null)),Nt(i,"componentWillLoad"),n.cmpWillLoad&&(o=Rt(s,"componentWillLoad"))):(Nt(i,"componentWillUpdate"),n.cmpWillUpdate&&(o=Rt(s,"componentWillUpdate"))),Nt(i,"componentWillRender"),n.cmpWillRender&&(o=Lt(o,()=>Rt(s,"componentWillRender"))),r(),Lt(o,()=>Et(t,s,e))},Et=async(t,e,i)=>{const r=t.$hostElement$,s=N("update",t.$cmpMeta$.$tagName$),o=r["s-rc"];n.style&&i&&$(t);const a=N("render",t.$cmpMeta$.$tagName$);if(n.isDev&&(t.$flags$|=1024),n.hydrateServerSide?await At(t,e,r):At(t,e,r),n.cssVarShim&&v.$cssShim$&&v.$cssShim$.updateHost(r),n.isDev&&(t.$renderCount$++,t.$flags$&=-1025),n.hydrateServerSide)try{Dt(r),i&&(1&t.$cmpMeta$.$flags$?r["s-en"]="":2&t.$cmpMeta$.$flags$&&(r["s-en"]="c"))}catch(c){re(c,r)}if(n.asyncLoading&&o&&(o.map(t=>t()),r["s-rc"]=void 0),a(),s(),n.asyncLoading){const e=r["s-p"],i=()=>Ct(t);0===e.length?i():(Promise.all(e).then(i),t.$flags$|=4,e.length=0)}else Ct(t)},At=(t,e,i)=>{const r=!!n.allRenderFn,s=!!n.lazyLoad,o=!!n.taskQueue,a=!!n.updatable;try{if(f=e,e=(r||e.render)&&e.render(),a&&o&&(t.$flags$&=-17),(a||s)&&(t.$flags$|=2),n.hasRenderFn||n.reflect)if(n.vdomRender||n.reflect){if(n.hydrateServerSide)return Promise.resolve(e).then(e=>Ot(t,e));Ot(t,e)}else i.textContent=e}catch(c){re(c,t.$hostElement$)}return f=null,null},Ct=t=>{const e=t.$cmpMeta$.$tagName$,i=t.$hostElement$,r=N("postUpdate",e),s=n.lazyLoad?t.$lazyInstance$:i,o=t.$ancestorComponent$;n.cmpDidRender&&(n.isDev&&(t.$flags$|=1024),Rt(s,"componentDidRender"),n.isDev&&(t.$flags$&=-1025)),Nt(i,"componentDidRender"),64&t.$flags$?(n.cmpDidUpdate&&(n.isDev&&(t.$flags$|=1024),Rt(s,"componentDidUpdate"),n.isDev&&(t.$flags$&=-1025)),Nt(i,"componentDidUpdate"),r()):(t.$flags$|=64,n.asyncLoading&&n.cssAnnotations&&Ft(i),n.cmpDidLoad&&(n.isDev&&(t.$flags$|=2048),Rt(s,"componentDidLoad"),n.isDev&&(t.$flags$&=-2049)),Nt(i,"componentDidLoad"),r(),n.asyncLoading&&(t.$onReadyResolve$(i),o||Pt(e))),n.hotModuleReplacement&&i["s-hmr-load"]&&i["s-hmr-load"](),n.method&&n.lazyLoad&&t.$onInstanceResolve$(i),n.asyncLoading&&(t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&ve(()=>It(t,!1)),t.$flags$&=-517)},Pt=t=>{n.cssAnnotations&&Ft(g.documentElement),n.asyncQueue&&(v.$flags$|=2),ve(()=>Mt(m,"appload",{detail:{namespace:r}})),n.profile&&performance.measure&&performance.measure(`[Stencil] ${r} initial load (by ${t})`,"st:app:start")},Rt=(t,e,i)=>{if(t&&t[e])try{return t[e](i)}catch(n){re(n)}},Lt=(t,e)=>t&&t.then?t.then(e):e(),Nt=(t,e)=>{n.lifecycleDOMEvents&&Mt(t,"stencil_"+e,{bubbles:!0,composed:!0,detail:{namespace:r}})},Ft=t=>n.hydratedClass?t.classList.add("hydrated"):n.hydratedAttribute?t.setAttribute("hydrated",""):void 0,Dt=t=>{const e=t.children;if(null!=e)for(let i=0,n=e.length;i<n;i++){const t=e[i];"function"===typeof t.connectedCallback&&t.connectedCallback(),Dt(t)}},zt=(t,e,i,r)=>{const s=N("hydrateClient",e),o=t.shadowRoot,a=[],c=[],l=n.shadowDom&&o?[]:null,u=r.$vnode$=Y(e,null);v.$orgLocNodes$||$t(g.body,v.$orgLocNodes$=new Map),t[C]=i,t.removeAttribute(C),Vt(u,a,c,l,t,t,i),a.map(t=>{const i=t.$hostId$+"."+t.$nodeId$,n=v.$orgLocNodes$.get(i),r=t.$elm$;n&&w&&""===n["s-en"]&&n.parentNode.insertBefore(r,n.nextSibling),o||(r["s-hn"]=e,n&&(r["s-ol"]=n,r["s-ol"]["s-nr"]=r)),v.$orgLocNodes$.delete(i)}),n.shadowDom&&o&&l.map(t=>{t&&o.appendChild(t)}),s()},Vt=(t,e,i,r,s,o,a)=>{let c,l,u,h;if(1===o.nodeType){for(c=o.getAttribute(R),c&&(l=c.split("."),l[0]!==a&&"0"!==l[0]||(u={$flags$:0,$hostId$:l[0],$nodeId$:l[1],$depth$:l[2],$index$:l[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},e.push(u),o.removeAttribute(R),t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u,t=u,r&&"0"===u.$depth$&&(r[u.$index$]=u.$elm$))),h=o.childNodes.length-1;h>=0;h--)Vt(t,e,i,r,s,o.childNodes[h],a);if(o.shadowRoot)for(h=o.shadowRoot.childNodes.length-1;h>=0;h--)Vt(t,e,i,r,s,o.shadowRoot.childNodes[h],a)}else if(8===o.nodeType)l=o.nodeValue.split("."),l[1]!==a&&"0"!==l[1]||(c=l[0],u={$flags$:0,$hostId$:l[1],$nodeId$:l[2],$depth$:l[3],$index$:l[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},c===A?(u.$elm$=o.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,e.push(u),o.remove(),t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u,r&&"0"===u.$depth$&&(r[u.$index$]=u.$elm$))):u.$hostId$===a&&(c===E?(u.$tag$="slot",l[5]?o["s-sn"]=u.$name$=l[5]:o["s-sn"]="",o["s-sr"]=!0,n.shadowDom&&r&&(u.$elm$=g.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),o.parentNode.insertBefore(u.$elm$,o),o.remove(),"0"===u.$depth$&&(r[u.$index$]=u.$elm$)),i.push(u),t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u):c===I&&(n.shadowDom&&r?o.remove():n.slotRelocation&&(s["s-cr"]=o,o["s-cn"]=!0))));else if(t&&"style"===t.$tag$){const e=Y(null,o.textContent);e.$elm$=o,e.$index$="0",t.$children$=[e]}},$t=(t,e)=>{if(1===t.nodeType){let i=0;for(;i<t.childNodes.length;i++)$t(t.childNodes[i],e);if(t.shadowRoot)for(i=0;i<t.shadowRoot.childNodes.length;i++)$t(t.shadowRoot.childNodes[i],e)}else if(8===t.nodeType){const i=t.nodeValue.split(".");i[0]===T&&(e.set(i[1]+"."+i[2],t),t.nodeValue="",t["s-en"]=i[3])}},Gt=(t,e)=>null==t||J(t)?t:n.propBoolean&&4&e?"false"!==t&&(""===t||!!t):n.propNumber&&2&e?parseFloat(t):n.propString&&1&e?String(t):t,Ut=(t,e)=>ee(t).$instanceValues$.get(e),qt=(t,e,i,r)=>{const s=ee(t),o=n.lazyLoad?s.$hostElement$:t,a=s.$instanceValues$.get(e),c=s.$flags$,l=n.lazyLoad?s.$lazyInstance$:o;if(i=Gt(i,r.$members$[e][0]),(!n.lazyLoad||!(8&c)||void 0===a)&&i!==a&&(s.$instanceValues$.set(e,i),n.isDev&&(1024&s.$flags$?ae(`The state/prop "${e}" changed during rendering. This can potentially lead to infinite-loops and other bugs.`,"\nElement",o,"\nNew value",i,"\nOld value",a):2048&s.$flags$&&ae(`The state/prop "${e}" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"`,"\nElement",o,"\nNew value",i,"\nOld value",a)),!n.lazyLoad||l)){if(n.watchCallback&&r.$watchers$&&128&c){const t=r.$watchers$[e];t&&t.map(t=>{try{l[t](i,a,e)}catch(n){re(n,o)}})}if(n.updatable&&2===(18&c)){if(n.cmpShouldUpdate&&l.componentShouldUpdate&&!1===l.componentShouldUpdate(i,a,e))return;It(s,!1)}}},Bt=(t,e,i)=>{if(n.member&&e.$members$){n.watchCallback&&t.watchers&&(e.$watchers$=t.watchers);const r=Object.entries(e.$members$),s=t.prototype;if(r.map(([t,[r]])=>{(n.prop||n.state)&&(31&r||(!n.lazyLoad||2&i)&&32&r)?Object.defineProperty(s,t,{get(){return Ut(this,t)},set(s){if(n.isDev){const n=ee(this);0===(1&i)&&0===(8&n.$flags$)&&0!==(31&r)&&0===(1024&r)&&ae(`@Prop() "${t}" on <${e.$tagName$}> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability`)}qt(this,t,s,e)},configurable:!0,enumerable:!0}):n.lazyLoad&&n.method&&1&i&&64&r&&Object.defineProperty(s,t,{value(...e){const i=ee(this);return i.$onInstancePromise$.then(()=>i.$lazyInstance$[t](...e))}})}),n.observeAttribute&&(!n.lazyLoad||1&i)){const i=new Map;s.attributeChangedCallback=function(t,e,n){v.jmp(()=>{const e=i.get(t);if(this.hasOwnProperty(e))n=this[e],delete this[e];else if(s.hasOwnProperty(e)&&"number"===typeof this[e]&&this[e]==n)return;this[e]=(null!==n||"boolean"!==typeof this[e])&&n})},t.observedAttributes=r.filter(([t,e])=>15&e[0]).map(([t,r])=>{const s=r[1]||t;return i.set(s,t),n.reflect&&512&r[0]&&e.$attrsToReflect$.push([t,s]),s})}}return t},Ht=async(t,e,r,s,o)=>{if((n.lazyLoad||n.hydrateServerSide||n.style)&&0===(32&e.$flags$)){if(n.lazyLoad||n.hydrateClientSide){if(e.$flags$|=32,o=le(r,e,s),o.then){const t=F(`st:load:${r.$tagName$}:${e.$modeName$}`,`[Stencil] Load module for <${r.$tagName$}>`);o=await o,t()}if((n.isDev||n.isDebug)&&!o)throw new Error(`Constructor for "${r.$tagName$}#${e.$modeName$}" was not found`);n.member&&!o.isProxied&&(n.watchCallback&&(r.$watchers$=o.watchers),Bt(o,r,2),o.isProxied=!0);const t=N("createInstance",r.$tagName$);n.member&&(e.$flags$|=8);try{new o(e)}catch(l){re(l)}n.member&&(e.$flags$&=-9),n.watchCallback&&(e.$flags$|=128),t(),Wt(e.$lazyInstance$)}else o=t.constructor,e.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>e.$flags$|=128);if(n.style&&o.style){let s=o.style;n.mode&&"string"!==typeof s&&(s=s[e.$modeName$=U(t)],n.hydrateServerSide&&e.$modeName$&&t.setAttribute("s-mode",e.$modeName$));const a=G(r,e.$modeName$);if(!ue.has(a)){const t=N("registerStyles",r.$tagName$);!n.hydrateServerSide&&n.shadowDom&&n.shadowDomShim&&8&r.$flags$&&(s=await i.e("chunk-2d2080c7").then(i.bind(null,"a2aa")).then(t=>t.scopeCss(s,a,!1))),z(a,s,!!(1&r.$flags$)),t()}}}const a=e.$ancestorComponent$,c=()=>It(e,!0);n.asyncLoading&&a&&a["s-rc"]?a["s-rc"].push(c):c()},Wt=t=>{n.lazyLoad&&n.connectedCallback&&Rt(t,"connectedCallback")},Jt=t=>{if(0===(1&v.$flags$)){const e=ee(t),i=e.$cmpMeta$,r=N("connectedCallback",i.$tagName$);if(n.hostListenerTargetParent&&x(t,e,i.$listeners$,!0),1&e.$flags$)x(t,e,i.$listeners$,!1),Wt(e.$lazyInstance$);else{let r;if(e.$flags$|=1,n.hydrateClientSide&&(r=t.getAttribute(C),r)){if(n.shadowDom&&w&&1&i.$flags$){const e=n.mode?V(t.shadowRoot,i,t.getAttribute("s-mode")):V(t.shadowRoot,i);t.classList.remove(e+"-h",e+"-s")}zt(t,i.$tagName$,r,e)}if(n.slotRelocation&&!r&&(n.hydrateServerSide||(n.slot||n.shadowDom)&&12&i.$flags$)&&Kt(t),n.asyncLoading){let i=t;while(i=i.parentNode||i.host)if(n.hydrateClientSide&&1===i.nodeType&&i.hasAttribute("s-id")&&i["s-p"]||i["s-p"]){kt(e,e.$ancestorComponent$=i);break}}n.prop&&!n.hydrateServerSide&&i.$members$&&Object.entries(i.$members$).map(([e,[i]])=>{if(31&i&&t.hasOwnProperty(e)){const i=t[e];delete t[e],t[e]=i}}),n.initializeNextTick?ve(()=>Ht(t,e,i)):Ht(t,e,i)}r()}},Kt=t=>{const e=t["s-cr"]=g.createComment(n.isDebug?`content-ref (host=${t.localName})`:"");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},Yt=t=>{if(0===(1&v.$flags$)){const e=ee(t),i=n.lazyLoad?e.$lazyInstance$:t;n.hostListener&&e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0),n.cssVarShim&&v.$cssShim$&&v.$cssShim$.removeHost(t),n.lazyLoad&&n.disconnectedCallback&&Rt(i,"disconnectedCallback"),n.cmpDidUnload&&Rt(i,"componentDidUnload")}},Zt=(t,e)=>{const i={$flags$:e[0],$tagName$:e[1]};n.member&&(i.$members$=e[2]),n.hostListener&&(i.$listeners$=e[3]),n.watchCallback&&(i.$watchers$=t.$watchers$),n.reflect&&(i.$attrsToReflect$=[]),n.shadowDom&&!w&&1&i.$flags$&&(i.$flags$|=8);const r=t.prototype.connectedCallback,s=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){ie(this,i)},connectedCallback(){Jt(this),n.connectedCallback&&r&&r.call(this)},disconnectedCallback(){Yt(this),n.disconnectedCallback&&s&&s.call(this)},__attachShadow(){w?n.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),t.is=i.$tagName$,Bt(t,i,3)},Xt=t=>{const e=new URL(t,v.$resourcesUrl$);return e.origin!==m.location.origin?e.href:e.pathname},Qt=t=>v.$resourcesUrl$=t,te=new WeakMap,ee=t=>te.get(t),ie=(t,e)=>{const i={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.isDev&&(i.$renderCount$=0),n.method&&n.lazyLoad&&(i.$onInstancePromise$=new Promise(t=>i.$onInstanceResolve$=t)),n.asyncLoading&&(i.$onReadyPromise$=new Promise(t=>i.$onReadyResolve$=t),t["s-p"]=[],t["s-rc"]=[]),x(t,i,e.$listeners$,!1),te.set(t,i)},ne=(t,e)=>e in t,re=(t,e)=>(c||console.error)(t,e),se=n.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],oe=(...t)=>console.error(...se,...t),ae=(...t)=>console.warn(...se,...t),ce=new Map,le=(t,e,r)=>{const s=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$;if(n.isDev&&"string"!==typeof o)return void oe(`Trying to lazily load component <${t.$tagName$}> with style mode "${e.$modeName$}", but it does not exist.`);const a=!n.hotModuleReplacement&&ce.get(o);return a?a[s]:i("bc66")(`./${o}.entry.js${n.hotModuleReplacement&&r?"?s-hmr="+r:""}`).then(t=>(n.hotModuleReplacement||ce.set(o,t),t[s]),re)},ue=new Map,he=[],de=[],pe=[],fe=[],be=(t,e)=>i=>{t.push(i),y||(y=!0,e&&4&v.$flags$?ve(ge):v.raf(ge))},ye=t=>{for(let i=0;i<t.length;i++)try{t[i](performance.now())}catch(e){re(e)}t.length=0},me=(t,e)=>{let i=0,n=0;while(i<t.length&&(n=performance.now())<e)try{t[i++](n)}catch(r){re(r)}i===t.length?t.length=0:0!==i&&t.splice(0,i)},ge=()=>{if(n.asyncQueue&&b++,ye(de),n.asyncQueue){const t=2===(6&v.$flags$)?performance.now()+14*Math.ceil(.1*b):1/0;me(pe,t),me(fe,t),pe.length>0&&(fe.push(...pe),pe.length=0),(y=de.length+pe.length+fe.length>0)?v.raf(ge):b=0}else ye(pe),(y=de.length>0)&&v.raf(ge)},ve=t=>j().then(t),we=be(pe,!0),Oe={isDev:!!n.isDev,isBrowser:!0,isServer:!1,isTesting:!!n.isTesting}},"32ed":function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return h})),i.d(e,"h",(function(){return a})),i.d(e,"i",(function(){return p})),i.d(e,"j",(function(){return f}));var n=i("7f83");function r(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if("point"===t.type)return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if("polygon"===t.type)return t.rings.slice(0);if("polyline"===t.type)return t.paths.slice(0);if("multipoint"===t.type)return t.points.slice(0);if("extent"===t.type){const e=t.clone().normalize();if(!e)return null;let i=!1,n=!1;return e.forEach(t=>{t.hasZ&&(i=!0),t.hasM&&(n=!0)}),e.map(t=>{const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(i&&t.hasZ){const i=.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(i)}if(n&&t.hasM){const i=.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(i)}return e})}return null}function s(t,e){const i=e[0]-t[0],n=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(i*i+n*n+r*r)}return Math.sqrt(i*i+n*n)}function o(t,e,i){const n=t[0]+i*(e[0]-t[0]),r=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[n,r,t[2]+i*(e[2]-t[2])]:[n,r]}function a(t,e,i,n){const[r,s]=e,[o,a]=i[n],[c,l]=i[n+1],u=c-o,h=l-a,d=u*u+h*h,p=(r-o)*u+(s-a)*h,f=Math.min(1,Math.max(0,p/d));return t[0]=o+u*f,t[1]=a+h*f,t}function c(t,e){return o(t,e,.5)}function l(t){const e=t.length;let i=0;for(let n=0;n<e-1;++n)i+=s(t[n],t[n+1]);return i}function u(t,e){if(e<=0)return t[0];const i=t.length;let n=0;for(let r=0;r<i-1;++r){const i=s(t[r],t[r+1]);if(e-n<i){const s=(e-n)/i;return o(t[r],t[r+1],s)}n+=i}return t[i-1]}function h(t,e,i){const n=t.length;let r=0,s=0,o=0;for(let a=0;a<n;a++){const c=t[a],l=t[(a+1)%n];let u=2;r+=c[0]*l[1]-l[0]*c[1],c.length>2&&l.length>2&&i&&(s+=c[0]*l[2]-l[0]*c[2],u=3),c.length>u&&l.length>u&&e&&(o+=c[0]*l[u]-l[0]*c[u])}return r<=0&&s<=0&&o<=0}function d(t){if("rings"in t){for(const e of t.rings)e.length<3||e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]]);if(t.rings.length>0&&!h(t.rings[0],t.hasM,t.hasZ))for(let e=0;e<t.rings.length;++e)t.rings[e]=t.rings[e].reverse()}}function p(t){return"polygon"!==t.type&&"polyline"!==t.type||f("polygon"===t.type?t.rings:t.paths,t.spatialReference),t}function f(t,e){const i=Object(n["e"])(e);if(!i)return;const r=i.valid[0],s=i.valid[1],o=s-r;for(const n of t){let t=1/0,e=-1/0;n.forEach(i=>{let n=i[0];for(;n<r;)n+=o;for(;n>s;)n-=o;t=Math.min(t,n),e=Math.max(e,n),i[0]=n});const i=e-t;o-i<i&&n.forEach(t=>{t[0]<0&&(t[0]+=o)})}}},"333a":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("5c00");let l=n=class extends s["a"]{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new n({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};Object(r["a"])([Object(o["b"])(c["b"])],l.prototype,"screenLength",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0,default:0}})],l.prototype,"minWorldLength",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],l.prototype,"maxWorldLength",void 0),l=n=Object(r["a"])([Object(a["a"])("esri.symbols.support.Symbol3DVerticalOffset")],l);const u=l},3349:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return G})),i.d(e,"e",(function(){return L})),i.d(e,"f",(function(){return a})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return z})),i.d(e,"i",(function(){return _})),i.d(e,"j",(function(){return S})),i.d(e,"k",(function(){return x})),i.d(e,"l",(function(){return v})),i.d(e,"m",(function(){return o})),i.d(e,"n",(function(){return O})),i.d(e,"o",(function(){return M})),i.d(e,"p",(function(){return I})),i.d(e,"q",(function(){return F})),i.d(e,"r",(function(){return C})),i.d(e,"s",(function(){return s})),i.d(e,"t",(function(){return T})),i.d(e,"u",(function(){return w})),i.d(e,"v",(function(){return y})),i.d(e,"w",(function(){return d})),i.d(e,"x",(function(){return p}));var n=i("4212");function r(t,e){return t[0]=e[0],t[1]=e[1],t}function s(t,e,i){return t[0]=e,t[1]=i,t}function o(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function a(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function c(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function l(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function u(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function h(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function d(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function p(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function f(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function b(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function y(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function m(t,e){const i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function g(t,e){const i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function v(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function w(t){const e=t[0],i=t[1];return e*e+i*i}function O(t,e){return t[0]=-e[0],t[1]=-e[1],t}function j(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function _(t,e){const i=e[0],n=e[1];let r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}function x(t,e){return t[0]*e[0]+t[1]*e[1]}function S(t,e,i){const n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t}function M(t,e,i,n){const r=e[0],s=e[1];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t}function k(t,e){e=e||1;const i=2*Object(n["b"])()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function I(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t}function T(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function E(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t}function A(t,e,i){const n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t}function C(t,e,i,n){const r=e[0]-i[0],s=e[1]-i[1],o=Math.sin(n),a=Math.cos(n);return t[0]=r*a-s*o+i[0],t[1]=r*o+s*a+i[1],t}function P(t,e){const i=t[0],n=t[1],r=e[0],s=e[1];let o=i*i+n*n;o>0&&(o=1/Math.sqrt(o));let a=r*r+s*s;a>0&&(a=1/Math.sqrt(a));const c=(i*r+n*s)*o*a;return c>1?0:c<-1?Math.PI:Math.acos(c)}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function L(t,e){return t[0]===e[0]&&t[1]===e[1]}function N(t,e){const i=t[0],r=t[1],s=e[0],o=e[1];return Math.abs(i-s)<=n["a"]*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-o)<=n["a"]*Math.max(1,Math.abs(r),Math.abs(o))}function F(t,e,i,n,r){let s=e[0]-i[0],o=e[1]-i[1];const a=(n[0]*s+n[1]*o)*(r-1);return s=n[0]*a,o=n[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const D=v,z=a,V=c,$=l,G=m,U=g,q=w;Object.freeze({__proto__:null,copy:r,set:s,add:o,subtract:a,multiply:c,divide:l,ceil:u,floor:h,min:d,max:p,round:f,scale:b,scaleAndAdd:y,distance:m,squaredDistance:g,length:v,squaredLength:w,negate:O,inverse:j,normalize:_,dot:x,cross:S,lerp:M,random:k,transformMat2:I,transformMat2d:T,transformMat3:E,transformMat4:A,rotate:C,angle:P,str:R,exactEquals:L,equals:N,projectAndScale:F,len:D,sub:z,mul:V,div:$,dist:G,sqrDist:U,sqrLen:q})},"33d1":function(t,e,i){"use strict";var n=i("23e7"),r=i("7b0b"),s=i("07fa"),o=i("5926"),a=i("44d2");n({target:"Array",proto:!0},{at:function(t){var e=r(this),i=s(e),n=o(t),a=n>=0?n:i+n;return a<0||a>=i?void 0:e[a]}}),a("at")},3423:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("9d1d");function r(t,e){return t.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(t,i){if(""===i)return"$";const r=Object(n["b"])(i,e),s=null==r?"":r;if(void 0===s)throw new Error(`could not find key "${i}" in template`);return s.toString()}))}class s{constructor(t,e,i){this.name=t,this.details=i,this.message=void 0,this instanceof s&&(this.message=e&&r(e,i)||"")}toString(){return"["+this.name+"]: "+this.message}}},"342f":function(t,e,i){var n=i("d066");t.exports=n("navigator","userAgent")||""},"343a":function(t,e,i){"use strict";i.d(e,"a",(function(){return O})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return g})),i.d(e,"e",(function(){return m}));var n=i("2eab"),r=i("ce50"),s=i("f4cc"),o=i("e041"),a=i("0224"),c=i("e9a4"),l=i("c120");const u=()=>!!Object(l["a"])("enable-feature:force-wosr"),h={};async function d(t,e){try{return{data:(await g(t,e)).data,baseUrl:Object(o["G"])(t),styleUrl:t}}catch(i){return Object(s["t"])(i),null}}function p(t,e,i){const n=e&&e.portal||a["a"].getDefault();let r;const s=`${n.url} - ${n.user&&n.user.username} - ${t}`;return h[s]||(h[s]=f(t,n,i).then(t=>(r=t,t.fetchData())).then(e=>({data:e,baseUrl:r.itemUrl,styleName:t}))),h[s]}function f(t,e,i){return e.load(i).then(()=>{const n=new c["a"]({disableExtraQuery:!0,query:`owner:${v} AND type:${w} AND typekeywords:"${t}"`});return e.queryItems(n,i)}).then(({results:e})=>{let n=null;const s=t.toLowerCase();if(e&&Array.isArray(e))for(const t of e)if(t.typeKeywords.some(t=>t.toLowerCase()===s)&&t.type===w&&t.owner===v){n=t;break}if(!n)throw new r["a"]("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return n.load(i)})}function b(t,e,i){return t.styleUrl?d(t.styleUrl,i):t.styleName?p(t.styleName,e,i):Promise.reject(new r["a"]("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function y(t){return null===t||"CIMSymbolReference"===t.type?t:{type:"CIMSymbolReference",symbol:t}}function m(t,e){if("cimRef"===e)return t.cimRef;if(t.formatInfos&&!u())for(const i of t.formatInfos)if("gltf"===i.type)return i.href;return t.webRef}function g(t,e){const i={responseType:"json",query:{f:"json"},...e};return Object(n["default"])(Object(o["D"])(t),i)}const v="esri_en",w="Style",O="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},"35a1":function(t,e,i){var n=i("f5df"),r=i("dc4a"),s=i("3f8c"),o=i("b622"),a=o("iterator");t.exports=function(t){if(void 0!=t)return r(t,a)||r(t,"@@iterator")||s[n(t)]}},"35c9":function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n,r=i("a4ee"),s=i("2c4f"),o=i("ce50"),a=i("7ffa"),c=i("b2b2"),l=i("59b2"),u=(i("cea0"),i("448d")),h=i("d386"),d=i("09db"),p=i("05c5"),f=i("c128"),b=i("6005"),y=i("8d66"),m=i("e1bb"),g=i("c528"),v=i("a957"),w=i("16e0");const O=s["a"].ofType({base:null,key:"type",typeMap:{extrude:p["a"],fill:f["a"],icon:b["a"],line:y["a"],object:m["a"],text:v["a"],water:w["a"]}}),j=s["a"].ofType({base:null,key:"type",typeMap:{extrude:p["a"],fill:f["a"],icon:b["a"],line:y["a"],object:m["a"],water:w["a"]}});let _=n=class extends g["a"]{constructor(t){super(t),this.symbolLayers=new O,this.type="polygon-3d"}writeSymbolLayers(t,e,i,n){const r=t.filter(t=>"text"!==t.type);if(n&&n.messages&&r.length<t.length){const e=t.find(t=>"text"===t.type);n.messages.push(new o["a"]("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:e}))}e[i]=r.map(t=>t.write({},n)).toArray()}clone(){return new n({styleOrigin:Object(a["a"])(this.styleOrigin),symbolLayers:Object(a["a"])(this.symbolLayers),thumbnail:Object(a["a"])(this.thumbnail)})}static fromJSON(t){const e=new n;if(e.read(t),2===e.symbolLayers.length&&"fill"===e.symbolLayers.getItemAt(0).type&&"line"===e.symbolLayers.getItemAt(1).type){const i=e.symbolLayers.getItemAt(0),n=e.symbolLayers.getItemAt(1);!n.enabled||t.symbolLayers&&t.symbolLayers[1]&&!1===t.symbolLayers[1].enable||(i.outline={size:n.size,color:Object(c["l"])(n.material)?n.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new n({symbolLayers:[f["a"].fromSimpleFillSymbol(t)]})}};Object(r["a"])([Object(l["b"])({type:O,json:{type:j}})],_.prototype,"symbolLayers",void 0),Object(r["a"])([Object(d["a"])("web-scene","symbolLayers")],_.prototype,"writeSymbolLayers",null),Object(r["a"])([Object(u["a"])({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],_.prototype,"type",void 0),_=n=Object(r["a"])([Object(h["a"])("esri.symbols.PolygonSymbol3D")],_);const x=_},"36b8":function(t,e,i){"use strict";function n(t){return"function"==typeof t}function r(t,e,i,r){return n(t)?t(e,i,r):t}function s(t){return[t.r,t.g,t.b,t.a]}function o(t,e,i){const n=" /-,\n",r=t=>{let e=t.length;for(;e--;)if(-1===n.indexOf(t.charAt(e)))return!1;return!0},s=[];let o=0,c=-1;do{if(c=e.indexOf("[",o),c>=o){if(c>o){const t=e.substr(o,c-o);s.push([t,null,r(t)])}if(o=c+1,c=e.indexOf("]",o),c>=o){if(c>o){const i=t[e.substr(o,c-o)];i&&s.push([null,i,!1])}o=c+1}}}while(-1!==c);if(o<e.length-1){const t=e.substr(o);s.push([t,null,r(t)])}return t=>{let e="",n=null;for(const i of s){const[r,s,o]=i;if(r)o?n=r:(n&&(e+=n,n=null),e+=r);else{const i=t.attributes[s];i&&(n&&(e+=n,n=null),e+=i)}}return a(e,i)}}function a(t,e){switch("string"!=typeof t&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function c(t,e,i,n,r,s,o=!0){const a=e/r,c=i/s,l=Math.ceil(a/2),u=Math.ceil(c/2);for(let h=0;h<s;h++)for(let i=0;i<r;i++){const d=4*(i+(o?s-h-1:h)*r);let p=0,f=0,b=0,y=0,m=0,g=0,v=0;const w=(h+.5)*c;for(let n=Math.floor(h*c);n<(h+1)*c;n++){const r=Math.abs(w-(n+.5))/u,s=(i+.5)*a,o=r*r;for(let c=Math.floor(i*a);c<(i+1)*a;c++){let i=Math.abs(s-(c+.5))/l;const r=Math.sqrt(o+i*i);r>=-1&&r<=1&&(p=2*r*r*r-3*r*r+1,p>0&&(i=4*(c+n*e),v+=p*t[i+3],b+=p,t[i+3]<255&&(p=p*t[i+3]/250),y+=p*t[i],m+=p*t[i+1],g+=p*t[i+2],f+=p))}}n[d]=y/f,n[d+1]=m/f,n[d+2]=g/f,n[d+3]=v/b}}function l(t){return t?{r:t[0],g:t[1],b:t[2],a:t[3]/255}:{r:0,g:0,b:0,a:0}}function u(t){var e;return null==(e=t.data)?void 0:e.symbol}function h(t){return"CIMVectorMarker"===t.type||"CIMPictureMarker"===t.type||"CIMBarChartMarker"===t.type||"CIMCharacterMarker"===t.type||"CIMPieChartMarker"===t.type||"CIMStackedBarChartMarker"===t.type}function d(t){return"CIMGradientStroke"===t.type||"CIMPictureStroke"===t.type||"CIMSolidStroke"===t.type}function p(t){return"CIMGradientFill"===t.type||"CIMHatchFill"===t.type||"CIMPictureFill"===t.type||"CIMSolidFill"===t.type||"CIMWaterFill"===t.type}function f(t){return"CIMMarkerPlacementAlongLineRandomSize"===t.type||"CIMMarkerPlacementAlongLineSameSize"===t.type||"CIMMarkerPlacementAlongLineVariableSize"===t.type||"CIMMarkerPlacementAtExtremities"===t.type||"CIMMarkerPlacementAtMeasuredUnits"===t.type||"CIMMarkerPlacementAtRatioPositions"===t.type||"CIMMarkerPlacementOnLine"===t.type||"CIMMarkerPlacementOnVertices"===t.type}i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return y})),i.d(e,"g",(function(){return p})),i.d(e,"h",(function(){return h})),i.d(e,"i",(function(){return f})),i.d(e,"j",(function(){return d})),i.d(e,"k",(function(){return c})),i.d(e,"l",(function(){return u})),i.d(e,"m",(function(){return b}));const b=t=>t&&t.toLowerCase().replace(/\s+/g,"-"),y=t=>isNaN(t)||!t?0:t},3723:function(t,e,i){"use strict";function n(t,e,i=!1){let{hasM:n,hasZ:r}=t;Array.isArray(e)?4!==e.length||n||r?3===e.length&&i&&!n?(r=!0,n=!1):3===e.length&&n&&r&&(n=!1,r=!1):(n=!0,r=!0):(r=!r&&e.hasZ&&(!n||e.hasM),n=!n&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=n}i.d(e,"a",(function(){return n}))},3760:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("afcf")),a=i("d386"),c=i("5996");let l=class extends r["a"]{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=c["a"].WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof c["a"])return t;if(null!=t){const i=new c["a"];return i.read(t,e),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};Object(n["a"])([Object(s["b"])()],l.prototype,"type",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],l.prototype,"cache",null),Object(n["a"])([Object(s["b"])({readOnly:!0})],l.prototype,"extent",null),Object(n["a"])([Object(s["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],l.prototype,"hasM",void 0),Object(n["a"])([Object(s["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],l.prototype,"hasZ",void 0),Object(n["a"])([Object(s["b"])({type:c["a"],json:{write:!0}})],l.prototype,"spatialReference",void 0),Object(n["a"])([Object(o["a"])("spatialReference")],l.prototype,"readSpatialReference",null),l=Object(n["a"])([Object(a["a"])("esri.geometry.Geometry")],l);const u=l},3765:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("ce50"),r=i("7ffa"),s=i("b2b2"),o=i("9d1d"),a=i("2524");const c=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),l=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function u(t){return"basemap"===t.layerContainerType?c:"operational-layers"===t.layerContainerType?l:null}function h(t){return!("feature"!==t.type||t.url||!t.source||"memory"!==t.source.type)}function d(t,e){if(e.restrictedWebMapWriting){const i=u(e);return!Object(s["l"])(i)||i.has(t.type)&&!h(t)}return!0}function p(t,e){if(h(t)){const i=Object(o["b"])("featureCollection.layers",e),n=i&&i[0]&&i[0].layerDefinition;n&&f(t,n)}else"stream"===t.type?f(t,e.layerDefinition=e.layerDefinition||{}):"group"!==t.type&&f(t,e)}function f(t,e){"maxScale"in t&&(e.maxScale=Object(a["b"])(t.maxScale)),"minScale"in t&&(e.minScale=Object(a["b"])(t.minScale))}function b(t,e){if(p(t,e),"blendMode"in t&&(e.blendMode=t.blendMode,"normal"===e.blendMode&&delete e.blendMode),e.opacity=Object(a["b"])(t.opacity),e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&"wmts"!==t.type)if(h(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function y(t,e,i){if(!("write"in t)||!t.write)return i&&i.messages&&i.messages.push(new n["a"]("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(d(t,i)){const e={};return t.write(e,i)?e:null}return Object(s["l"])(e)&&b(t,e=Object(r["a"])(e)),e}},3795:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return u})),i.d(e,"i",(function(){return h})),i.d(e,"j",(function(){return l})),i.d(e,"k",(function(){return d})),i.d(e,"l",(function(){return p})),i.d(e,"m",(function(){return v}));var n=i("9d83"),r=(i("7ffa"),i("f4cc"));const s=/\?(\.|$)/g;function o(t,e,i,n){const r=Array.isArray(e)?e:e.indexOf(",")>-1?e.split(","):[e],o=a(t,e,i,n);for(const a of r){const e=a.trim().replace(s,"$1"),n=t.get(e);i.call(t,n,n,e,t)}return o}function a(t,e,i,n){return t.watch(e,i,n)}function c(t,e,i,n){return g(t,e,w,i,n)}function l(t,e,i,n){return v(t,e,w,i,n)}function u(t,e,i,n){return g(t,e,O,i,n)}function h(t,e,i,n){return v(t,e,O,i,n)}function d(t,e,i,n){return g(t,e,j,i,n)}function p(t,e,i,n){return v(t,e,j,i,n)}function f(t,e,i,n){return g(t,e,_,i,n)}function b(t,e,i,n){return v(t,e,_,i,n)}function y(t,e,i,n){let r=!1;const s=t.watch(e,(e,n,s,o)=>{r||i.call(t,e,n,s,o)},n);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function m(t,e,i,r,s,a,c){const l={};function u(e){const n=l[e];n&&(a&&a(n.target,e,t,i),n.handle.remove(),delete l[e])}const h=o(t,e,(e,o,a)=>{u(a),Object(n["b"])(e)&&(l[a]={handle:Object(n["c"])(e,i,r),target:e},s&&s(e,a,t,i))},c);return{remove(){h.remove();for(const t in l)u(t)}}}function g(t,e,i,n,r){const s=t.watch(e,(e,r,s,o)=>{i&&!i(e)||null==n||n.call(t,e,r,s,o)},r);if(Array.isArray(e))for(const o of e){const r=t.get(o);i&&i(r)&&(null==n||n.call(t,r,r,e,t))}else{const r=t.get(e);i&&i(r)&&(null==n||n.call(t,r,r,e,t))}return s}function v(t,e,i,n,s){const o="function"==typeof n?n:null,a="object"==typeof n?n:null;"boolean"==typeof n&&(s=n);let c,l=!1;function u(){c&&(c.remove(),c=null)}const h=Object(r["e"])();Object(r["p"])(a,()=>{u(),h.reject(Object(r["d"])())});const d={then:h.promise.then.bind(h.promise),catch:h.promise.catch.bind(h.promise),remove:u};return Object.freeze(d),c=g(t,e,i,(e,i,n,r)=>{l=!0,u(),o&&o.call(t,e,i,n,r),h.resolve({value:e,oldValue:i,propertyName:n,target:r})},s),l&&u(),d}function w(t){return!!t}function O(t){return!t}function j(t){return!0===t}function _(t){return!1===t}},"37e7":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=i("7ffa"),o=i("a915"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("afcf"),u=i("d386"),h=i("6e4d"),d=i("b0e3");let p=n=class extends h["a"]{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&"string"!=typeof t&&null==t.imageData)return t;const n={};return t&&(n.url=t),null!=e&&(n.width=Object(o["j"])(e)),null!=i&&(n.height=Object(o["j"])(i)),n}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new n({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",Object(s["a"])(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};Object(r["a"])([Object(a["b"])({json:{write:!1}})],p.prototype,"color",void 0),Object(r["a"])([Object(c["a"])({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0),Object(r["a"])([Object(a["b"])(d["b"])],p.prototype,"url",void 0),Object(r["a"])([Object(a["b"])(d["a"])],p.prototype,"source",void 0),Object(r["a"])([Object(a["b"])({type:Number,cast:o["j"],json:{write:!0}})],p.prototype,"height",void 0),Object(r["a"])([Object(l["a"])("height",["height","size"])],p.prototype,"readHeight",null),Object(r["a"])([Object(a["b"])({type:Number,cast:o["j"],json:{write:!0}})],p.prototype,"width",void 0),Object(r["a"])([Object(a["b"])({json:{write:!1}})],p.prototype,"size",void 0),p=n=Object(r["a"])([Object(u["a"])("esri.symbols.PictureMarkerSymbol")],p);const f=p},"37e8":function(t,e,i){var n=i("83ab"),r=i("9bf2"),s=i("825a"),o=i("fc6a"),a=i("df75");t.exports=n?Object.defineProperties:function(t,e){s(t);var i,n=o(e),c=a(e),l=c.length,u=0;while(l>u)r.f(t,i=c[u++],n[i]);return t}},"38a4":function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return f})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return y})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return a})),i.d(e,"i",(function(){return l})),i.d(e,"j",(function(){return s})),i.d(e,"k",(function(){return c})),i.d(e,"l",(function(){return h})),i.d(e,"m",(function(){return d}));var n=i("e431");i("7577");const r=new Float32Array(1);function s(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function o(t,e,i){return Math.min(Math.max(t,e),i)}function a(t){return 0==(t&t-1)}function c(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function l(t,e,i){return t+(e-t)*i}function u(t){return t*Math.PI/180}function h(t){return 180*t/Math.PI}function d(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function p(t){return Math.acos(o(t,-1,1))}function f(t){return Math.asin(o(t,-1,1))}function b(t,e,i=1e-6){return!isNaN(t)&&!isNaN(e)&&(t>e?t-e:e-t)<=i}function y(t){return m(Math.max(-v,Math.min(t,v)))}function m(t){return r[0]=t,r[0]}function g(t,e){const i=Object(n["p"])(t),r=f(t[2]/i),s=Math.atan2(t[1]/i,t[0]/i);return Object(n["w"])(e,i,r,s),e}const v=m(34028234663852886e22)},"38bf":function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return a}));var n=i("70f6"),r=i("d288");function s(t){if(!t)return!1;const e=t.verticalOffset;return!!e&&!(e.screenLength<=0||e.maxWorldLength<=0)}function o(t){if(!t)return!1;if(!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!e&&!!e.visible&&!!s(t)}function a(t){return"point-3d"===t.type||"label-3d"===t.type}const c={types:{key:"type",base:n["a"],typeMap:{line:r["a"]}},json:{write:!0}}},3981:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("7ffa"),a=i("59b2"),c=(i("cea0"),i("d386"));let l=n=class extends s["a"]{constructor(t){super(t)}clone(){return new n({customLayerParameters:Object(o["a"])(this.customLayerParameters),customParameters:Object(o["a"])(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};Object(r["a"])([Object(a["b"])({json:{type:Object,write:!0}})],l.prototype,"customLayerParameters",void 0),Object(r["a"])([Object(a["b"])({json:{type:Object,write:!0}})],l.prototype,"customParameters",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],l.prototype,"layerIdentifier",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],l.prototype,"tileMatrixSet",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],l.prototype,"url",void 0),l=n=Object(r["a"])([Object(c["a"])("esri.layer.support.WMTSLayerInfo")],l);const u=l},"3a9b":function(t,e,i){var n=i("e330");t.exports=n({}.isPrototypeOf)},"3ad7":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=i("b2b2"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("448d")),c=i("afcf"),l=i("d386"),u=i("961d"),h=i("a3af"),d=i("af3d");let p=n=class extends u["a"]{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return null!=t?t:null==e.height&&null!=e.size?e.size:void 0}readHeight(t,e){return null!=t?t:null==e.width&&null!=e.size?e.size:void 0}clone(){return new n({enabled:this.enabled,material:Object(s["l"])(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};Object(r["a"])([Object(o["b"])({type:h["b"],json:{write:!0}})],p.prototype,"material",void 0),Object(r["a"])([Object(o["b"])({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],p.prototype,"castShadows",void 0),Object(r["a"])([Object(a["a"])({Path:"path"},{readOnly:!0})],p.prototype,"type",void 0),Object(r["a"])([Object(o["b"])({type:["circle","quad"],json:{write:!0,default:"circle"}})],p.prototype,"profile",void 0),Object(r["a"])([Object(o["b"])({type:d["b"],json:{write:!0,default:"miter"}})],p.prototype,"join",void 0),Object(r["a"])([Object(o["b"])({type:d["e"],json:{write:!0,default:"butt"}})],p.prototype,"cap",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],p.prototype,"width",void 0),Object(r["a"])([Object(c["a"])("width",["width","size","height"])],p.prototype,"readWidth",null),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],p.prototype,"height",void 0),Object(r["a"])([Object(c["a"])("height",["height","size","width"])],p.prototype,"readHeight",null),Object(r["a"])([Object(o["b"])({type:["center","bottom","top"],json:{write:!0,default:"center"}})],p.prototype,"anchor",void 0),Object(r["a"])([Object(o["b"])({type:["heading","all"],json:{write:!0,default:"all"}})],p.prototype,"profileRotation",void 0),p=n=Object(r["a"])([Object(l["a"])("esri.symbols.PathSymbol3DLayer")],p);const f=p},"3af1":function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n,r=i("a4ee"),s=i("b2b2"),o=i("b3b6"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386")),l=i("3760"),u=i("4ae5"),h=i("5996"),d=i("2172"),p=i("f547"),f=i("7f83"),b=i("9786");function y(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}function m(t,e,i){return null==e?i:null==i?e:t(e,i)}let g=n=class extends l["a"]{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,n,r){return y(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?h["a"].WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:n,spatialReference:null==r?h["a"].WGS84:r}}static fromBounds(t,e){return new n({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}static fromPoint(t){return new n({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new u["a"]({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new n;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Object(b["a"])(e,i)&&(t=e.isWebMercator?Object(b["b"])(t):Object(b["e"])(t,!0)),"point"===t.type?Object(d["e"])(this,t):"extent"===t.type&&Object(d["c"])(this,t)}equals(t){if(this===t)return!0;if(Object(s["k"])(t))return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Object(b["a"])(e,i)&&(t=e.isWebMercator?Object(b["b"])(t):Object(b["e"])(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,n=this.height*e;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const t=(this.zmax-this.zmin)*e;this.zmin+=t,this.zmax-=t}if(this.hasM){const t=(this.mmax-this.mmin)*e;this.mmin+=t,this.mmax-=t}return this}intersects(t){if(Object(s["k"])(t))return!1;"mesh"===t.type&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Object(b["a"])(e,i)&&(t=e.isWebMercator?Object(b["b"])(t):Object(b["e"])(t,!0)),Object(p["c"])(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,null!=i&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=m(Math.min,this.zmin,t.zmin),this.zmax=m(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=m(Math.min,this.mmin,t.mmin),this.mmax=m(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:Object(s["k"])(t)||!this.intersects(t)?null:(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=m(Math.max,this.zmin,t.zmin),this.zmax=m(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=m(Math.max,this.mmin,t.mmin),this.mmax=m(Math.min,this.mmax,t.mmax)),this)}toJSON(t){return this.write({},t)}_shiftCM(t=Object(f["e"])(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const n=e.isWebMercator?Object(b["e"])(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(n.x=this._normalizeX(n.x,t).x),this.spatialReference=new h["a"](Object(o["c"])(e.isWGS84?t.altTemplate:t.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(t){let e=null;const[i,n]=t.valid,r=this.xmin,s=this.xmax;return r>=i&&r<=n&&s>=i&&s<=n||(e=this.center),e}_normalize(t,e,i){const n=this.spatialReference;if(!n)return this;if(!(i=i||Object(f["e"])(n)))return this;const r=this._getParts(i).map(t=>t.extent);if(r.length<2)return r[0]||this;if(r.length>2)return t?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(t)return this._shiftCM(i);if(e)return r;let s=!0,o=!0;return r.forEach(t=>{t.hasZ||(s=!1),t.hasM||(o=!1)}),{rings:r.map(t=>{const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(s){const i=(t.zmax-t.zmin)/2;for(let t=0;t<e.length;t++)e[t].push(i)}if(o){const i=(t.mmax-t.mmin)/2;for(let t=0;t<e.length;t++)e[t].push(i)}return e}),hasZ:s,hasM:o,spatialReference:n}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:i,ymax:r,spatialReference:s}=this,o=this.width,a=this.xmin,c=this.xmax;let l;t=t||Object(f["e"])(s);const[u,h]=t.valid;l=this._normalizeX(this.xmin,t);const d=l.x,p=l.frameId;l=this._normalizeX(this.xmax,t);const b=l.x,y=l.frameId,m=d===b&&o>0;if(o>2*h){const t=new n(a<c?d:b,i,h,r,s),o=new n(u,i,a<c?b:d,r,s),l=new n(0,i,h,r,s),f=new n(u,i,0,r,s),m=[],g=[];t.contains(l)&&m.push(p),t.contains(f)&&g.push(p),o.contains(l)&&m.push(y),o.contains(f)&&g.push(y);for(let e=p+1;e<y;e++)m.push(e),g.push(e);e.push({extent:t,frameIds:[p]},{extent:o,frameIds:[y]},{extent:l,frameIds:m},{extent:f,frameIds:g})}else d>b||m?e.push({extent:new n(d,i,h,r,s),frameIds:[p]},{extent:new n(u,i,b,r,s),frameIds:[y]}):e.push({extent:new n(d,i,b,r,s),frameIds:[p]});this.cache._parts=e}const i=this.hasZ,r=this.hasM;if(i||r){const t={};i&&(t.zmin=this.zmin,t.zmax=this.zmax),r&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let i=0;i<e.length;i++)e[i].extent.set(t)}return e}_normalizeX(t,e){const[i,n]=e.valid,r=2*n;let s,o=0;return t>n?(s=Math.ceil(Math.abs(t-n)/r),t-=s*r,o=s):t<i&&(s=Math.ceil(Math.abs(t-i)/r),t+=s*r,o=-s),{x:t,frameId:o}}};Object(r["a"])([Object(a["b"])({readOnly:!0})],g.prototype,"cache",null),Object(r["a"])([Object(a["b"])({readOnly:!0})],g.prototype,"center",null),Object(r["a"])([Object(a["b"])({readOnly:!0})],g.prototype,"extent",null),Object(r["a"])([Object(a["b"])({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasM",null),Object(r["a"])([Object(a["b"])({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],g.prototype,"hasZ",null),Object(r["a"])([Object(a["b"])({readOnly:!0})],g.prototype,"height",null),Object(r["a"])([Object(a["b"])({readOnly:!0})],g.prototype,"width",null),Object(r["a"])([Object(a["b"])({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],g.prototype,"xmin",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],g.prototype,"ymin",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],g.prototype,"mmin",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],g.prototype,"zmin",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],g.prototype,"xmax",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],g.prototype,"ymax",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],g.prototype,"mmax",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],g.prototype,"zmax",void 0),g=n=Object(r["a"])([Object(c["a"])("esri.geometry.Extent")],g),g.prototype.toJSON.isDefaultToJSON=!0;const v=g},"3b19":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return d})),i.d(e,"f",(function(){return h})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return u}));const n=Number.POSITIVE_INFINITY,r=Math.PI,s=2*r,o=128/r,a=r/180,c=1/Math.LN2;function l(t,e){return(t%=e)>=0?t:t+e}function u(t){return l(t*o,256)}function h(t){return Math.log(t)*c}function d(t,e,i){return t*(1-i)+e*i}},"3bbe":function(t,e,i){var n=i("da84"),r=i("1626"),s=n.String,o=n.TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+s(t)+" as a prototype")}},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,r=i("577e"),s=i("69f3"),o=i("7dd0"),a="String Iterator",c=s.set,l=s.getterFor(a);o(String,"String",(function(t){c(this,{type:a,string:r(t),index:0})}),(function(){var t,e=l(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},"3cac":function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("afcf")),c=i("d386"),l=i("09db"),u=i("e1fa"),h=i("787a"),d=i("a7a7"),p=i("fa90"),f=i("4995"),b=i("ed91"),y=i("6759");let m=n=class extends d["a"]{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(t=>"image"===t.type?p["a"].fromJSON(t):"barchart"===t.type?u["a"].fromJSON(t):"columnchart"===t.type?h["a"].fromJSON(t):"linechart"===t.type?f["a"].fromJSON(t):"piechart"===t.type?b["a"].fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(t=>t.toJSON())}clone(){return new n(Object(s["a"])({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};Object(r["a"])([Object(o["b"])()],m.prototype,"activeMediaInfoIndex",void 0),Object(r["a"])([Object(o["b"])({type:Object,json:{write:!0}})],m.prototype,"attributes",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],m.prototype,"description",void 0),Object(r["a"])([Object(o["b"])({types:[y["a"]]})],m.prototype,"mediaInfos",void 0),Object(r["a"])([Object(a["a"])("mediaInfos")],m.prototype,"readMediaInfos",null),Object(r["a"])([Object(l["a"])("mediaInfos")],m.prototype,"writeMediaInfos",null),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],m.prototype,"title",void 0),Object(r["a"])([Object(o["b"])({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],m.prototype,"type",void 0),m=n=Object(r["a"])([Object(c["a"])("esri.popup.content.MediaContent")],m);const g=m},"3d59":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("e92d"),s=i("b2b2"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("54b4");const l=t=>{let e=class extends t{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=Object(c["e"])(this.url);if(Object(s["l"])(t)&&t.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",Object(c["g"])(t,r["a"].getLogger(this.declaredClass)))}};return Object(n["a"])([Object(o["b"])()],e.prototype,"title",null),Object(n["a"])([Object(o["b"])({type:String})],e.prototype,"url",null),e=Object(n["a"])([Object(a["a"])("esri.layers.mixins.ArcGISService")],e),e}},"3dc2":function(t,e,i){"use strict";i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return y}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("e041"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("448d")),u=i("afcf"),h=i("d386"),d=i("09db"),p=i("fcf2");const f=Object(s["b"])()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let b=n=class extends o["a"]{constructor(t){super(t)}readHref(t,e,i){return t?Object(p["a"])(t,i):e.dataURI}writeHref(t,e,i,n){t&&(Object(a["u"])(t)?e.dataURI=t:(e.href=Object(p["e"])(t,n),Object(a["s"])(e.href)&&(e.href=Object(a["D"])(e.href))))}clone(){return new n({href:this.href,primitive:this.primitive})}};Object(r["a"])([Object(c["b"])({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0),Object(r["a"])([Object(u["a"])("href")],b.prototype,"readHref",null),Object(r["a"])([Object(d["a"])("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null),Object(r["a"])([Object(l["a"])(f)],b.prototype,"primitive",void 0),b=n=Object(r["a"])([Object(h["a"])("esri.symbols.support.IconSymbol3DLayerResource")],b);const y="circle",m=b},"3e7b":function(t,e,i){"use strict";var n=i("a4ee"),r=i("fc29"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("3349"),c=i("b541");function l(t,e){return t.length=0,e.forEach(e=>t.push(e)),t}const u=new Set,h=[],d=new Map,p=[0,0];let f=class extends r["a"]{constructor(t){super(t),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:t,process:e}=this;this._queue=new c["a"]({concurrency:t,process:(t,i)=>{const n=this._keyToItem.get(t);return e(n,{signal:i})},peeker:t=>t.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(t){const e="string"==typeof t?t:t.id;this._queue.abort(e)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(t){return"string"==typeof t?this._keyToItem.has(t):this._keyToItem.has(t.id)}isOngoing(t){const e="string"==typeof t?t:t.id;return this.has(e)&&this._queue.isOngoing(e)}pause(){this._queue.pause()}push(t,e){const i=t.key.id+"-"+e;if(this.has(i))return this.get(i);const n=this._queue.push(i),r=()=>{this._keyToItem.delete(i),this.notifyChange("updating")};return this._keyToItem.set(i,t),n.then(r,r),this.notifyChange("updating"),n}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(t){if(!this.state)return t.values().next().value;const e=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;t.forEach(t=>{const e=this._keyToItem.get(t),r=this.tileInfoView.getTileScale(e.key);d.has(r)||(d.set(r,[]),i=Math.max(r,i),n=Math.min(r,n)),d.get(r).push(e.key),u.add(r)});let r=this.state.scale;d.has(r)||(l(h,u),h.sort((t,e)=>t-e),r=h.reduce((t,e)=>Math.abs(e-r)<Math.abs(t-r)?e:t,h[0])),r=Math.min(r,i),r=Math.max(r,n);const s=d.get(r),o=e.getClosestInfoForScale(r),a=o.getColumnForX(this.state.center[0]),c=o.getRowForY(this.state.center[1]);return s.sort((t,e)=>{const i=o.denormalizeCol(t.col,t.world),n=o.denormalizeCol(e.col,e.world);return Math.sqrt((a-i)*(a-i)+(c-t.row)*(c-t.row))-Math.sqrt((a-n)*(a-n)+(c-e.row)*(c-e.row))}),u.clear(),d.clear(),s[0].id}_peekByCenterFirst(t){if(!this.state)return t.values().next().value;const e=this.tileInfoView,i=this.state.center;let n=Number.POSITIVE_INFINITY,r=null;return t.forEach(t=>{const s=this._keyToItem.get(t);e.getTileCoords(p,s.key);const o=Object(a["b"])(p,i);o<n&&(n=o,r=s.key)}),r.id}};Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"concurrency",void 0),Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"process",void 0),Object(n["a"])([Object(s["b"])()],f.prototype,"state",void 0),Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"strategy",void 0),Object(n["a"])([Object(s["b"])({constructOnly:!0})],f.prototype,"tileInfoView",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],f.prototype,"updating",null),f=Object(n["a"])([Object(o["a"])("esri.views.2d.tiling.PagedTileQueue")],f)},"3f60":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n,r=i("a4ee"),s=i("9ef0"),o=i("6a0e"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0")),l=i("d386"),u=i("09db");let h=n=class extends o["a"]{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,i){e[i]=null==t?0:t}clone(){return new n({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};Object(r["a"])([Object(a["b"])({type:s["a"],json:{type:[c["a"]],write:!0}})],h.prototype,"color",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],h.prototype,"label",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],h.prototype,"value",void 0),Object(r["a"])([Object(u["a"])("value")],h.prototype,"writeValue",null),h=n=Object(r["a"])([Object(l["a"])("esri.renderers.visualVariables.support.ColorStop")],h);const d=h},"3f8c":function(t,e){t.exports={}},"408a":function(t,e,i){var n=i("e330");t.exports=n(1..valueOf)},"40b6":function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return p})),i.d(e,"e",(function(){return g}));i("e06a");var n=i("ce50"),r=i("8048"),s=i("d636"),o=(i("521c"),i("1219"),i("4ae5")),a=i("5996");function c(t){if(!t)return null;if(t.isGeographic&&t.wkid){const e=s["c"][t.wkid];if(e)return e}if(t.wkt){const e=l(t.wkt);if(e)return e}return null}function l(t){const e=s["a"].exec(t);if(!e||2!==e.length)return null;const i=e[1].split(",");if(!i||i.length<3)return null;const n=parseFloat(i[1]),r=parseFloat(i[2]);return isNaN(n)||isNaN(r)?null:{a:n,f:0===r?0:1/r}}function u(t){const e=c(t||a["a"].WGS84);if(h(e))return e;const i=e.a*(1-e.f);return Object.assign(e,{b:i,eSq:1-(i/e.a)**2,radius:(2*e.a+i)/3,densificationRatio:1e4/((2*e.a+i)/3)})}function h(t){return"b"in t&&"eSq"in t&&"radius"in t}function d(t){return t<0?t+360:t}function p(t){return null!==c(t)}function f(t,e="meters"){if(!t)throw new n["a"]("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(t.some(t=>!p(t.spatialReference)))throw new n["a"]("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const i=[];for(let n=0;n<t.length;n++){const s=t[n],{spatialReference:o}=s,a="polyline"===s.type?s.paths:s.rings;let c=0;for(let t=0;t<a.length;t++){const e=a[t];let i=0;for(let t=1;t<e.length;t++){const n=e[t-1][0],r=e[t][0],s=e[t-1][1],a=e[t][1];if(s!==a||n!==r){const t={distance:null};y(t,[n,s],[r,a],o),i+=t.distance}}c+=i}c=Object(r["b"])(c,"meters",e),i.push(c)}return i}function b(t,e,i,n,r){const o=e[0],a=e[1],c=o*s["d"],l=a*s["d"],h=i*s["d"],{a:d,b:p,f:f}=u(r),b=Math.sin(h),y=Math.cos(h),m=(1-f)*Math.tan(l),g=1/Math.sqrt(1+m*m),v=m*g,w=Math.atan2(m,y),O=g*b,j=O*O,_=1-j,x=_*(d*d-p*p)/(p*p),S=1+x/16384*(4096+x*(x*(320-175*x)-768)),M=x/1024*(256+x*(x*(74-47*x)-128));let k,I,T,E,A=n/(p*S),C=2*Math.PI;for(;Math.abs(A-C)>1e-12;)T=Math.cos(2*w+A),k=Math.sin(A),I=Math.cos(A),E=M*k*(T+M/4*(I*(2*T*T-1)-M/6*T*(4*k*k-3)*(4*T*T-3))),C=A,A=n/(p*S)+E;const P=v*k-g*I*y,R=Math.atan2(v*I+g*k*y,(1-f)*Math.sqrt(j+P*P)),L=Math.atan2(k*b,g*I-v*k*y),N=f/16*_*(4+f*(4-3*_)),F=R/s["d"],D=(c+(L-(1-N)*f*O*(A+N*k*(T+N*I*(2*T*T-1)))))/s["d"];return t[0]=D,t[1]=F,t}function y(t,e,i,n){const r=e[0]*s["d"],o=e[1]*s["d"],a=i[0]*s["d"],c=i[1]*s["d"],{a:l,b:h,f:d,radius:p}=u(n),f=a-r,b=Math.atan((1-d)*Math.tan(o)),y=Math.atan((1-d)*Math.tan(c)),m=Math.sin(b),g=Math.cos(b),v=Math.sin(y),w=Math.cos(y);let O,j,_,x,S,M,k,I,T,E,A=1e3,C=f;do{if(k=Math.sin(C),I=Math.cos(C),_=Math.sqrt(w*k*(w*k)+(g*v-m*w*I)*(g*v-m*w*I)),0===_)return t.distance=0,t.azimuth=void 0,t.reverseAzimuth=void 0,t;S=m*v+g*w*I,M=Math.atan2(_,S),T=g*w*k/_,j=1-T*T,x=S-2*m*v/j,isNaN(x)&&(x=0),E=d/16*j*(4+d*(4-3*j)),O=C,C=f+(1-E)*d*T*(M+E*_*(x+E*S*(2*x*x-1)))}while(Math.abs(C-O)>1e-12&&--A>0);if(0===A){const e=p,i=Math.acos(Math.sin(o)*Math.sin(c)+Math.cos(o)*Math.cos(c)*Math.cos(a-r))*e,n=a-r,l=Math.sin(n)*Math.cos(c),u=Math.cos(o)*Math.sin(c)-Math.sin(o)*Math.cos(c)*Math.cos(n),h=Math.atan2(l,u);return t.azimuth=h/s["d"],t.distance=i,t.reverseAzimuth=void 0,t}const P=j*(l*l-h*h)/(h*h),R=P/1024*(256+P*(P*(74-47*P)-128)),L=h*(1+P/16384*(4096+P*(P*(320-175*P)-768)))*(M-R*_*(x+R/4*(S*(2*x*x-1)-R/6*x*(4*_*_-3)*(4*x*x-3)))),N=Math.atan2(w*Math.sin(C),g*v-m*w*Math.cos(C)),F=Math.atan2(g*Math.sin(C),g*v*Math.cos(C)-m*w);return t.azimuth=N/s["d"],t.distance=L,t.reverseAzimuth=F/s["d"],t}function m(t,e,i="meters"){if(!t||!e)throw new n["a"]("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!t.spatialReference||!e.spatialReference)throw new n["a"]("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!t.spatialReference.equals(e.spatialReference))throw new n["a"]("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const{spatialReference:s}=t;if(!p(s))throw new n["a"]("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(t.equals(e))return{distance:0,azimuth:0,reverseAzimuth:0};const o={distance:null};return y(o,[t.x,t.y],[e.x,e.y],s),o.distance=Object(r["b"])(o.distance,"meters",i),o.azimuth=d(o.azimuth),o.reverseAzimuth=d(o.reverseAzimuth),o}function g(t,e,i){if(!t||null==e||null==i)throw new n["a"]("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(i<0||i>360)throw new n["a"]("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0° to 360° degrees");if(!t.spatialReference)throw new n["a"]("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const{spatialReference:r}=t;if(!p(r))throw new n["a"]("geodesic-distance:not-supported","input geometry spatial reference is not supported");const s=[0,0];return b(s,[t.x,t.y],i,e,r),new o["a"]({x:s[0],y:s[1],spatialReference:r})}},"412f":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a}));i("c120");var n=i("a915");function r(t){return Object(n["e"])(t.x,t.y)}function s(t,e){const i=(t instanceof HTMLElement?t:t.surface).getBoundingClientRect();return Object(n["e"])(e.clientX-i.left,e.clientY-i.top)}function o(t,e){return e instanceof Event?s(t,e):r(e)}function a(t){if(t instanceof Event)return!0;if("object"==typeof t&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},4212:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return a}));const n=1e-6,r=Math.random,s=Math.PI/180,o=180/Math.PI;function a(t){return t*s}function c(t){return t*o}function l(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze({__proto__:null,EPSILON:n,RANDOM:r,toRadian:a,toDegree:c,equals:l})},4261:function(t,e,i){"use strict";i.d(e,"a",(function(){return N})),i.d(e,"b",(function(){return F})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return g})),i.d(e,"e",(function(){return O})),i.d(e,"f",(function(){return o})),i.d(e,"g",(function(){return m})),i.d(e,"h",(function(){return E})),i.d(e,"i",(function(){return L})),i.d(e,"j",(function(){return c})),i.d(e,"k",(function(){return h})),i.d(e,"l",(function(){return d})),i.d(e,"m",(function(){return l})),i.d(e,"n",(function(){return u})),i.d(e,"o",(function(){return C})),i.d(e,"p",(function(){return a})),i.d(e,"q",(function(){return M})),i.d(e,"r",(function(){return _})),i.d(e,"s",(function(){return R})),i.d(e,"t",(function(){return w})),i.d(e,"u",(function(){return x})),i.d(e,"v",(function(){return S})),i.d(e,"w",(function(){return T})),i.d(e,"x",(function(){return I})),i.d(e,"y",(function(){return k})),i.d(e,"z",(function(){return v})),i.d(e,"A",(function(){return A}));var n=i("b2b2"),r=(i("3af1"),i("9180"));function s(t){return t}function o(t=F){return s([t[0],t[1],t[2],t[3],t[4],t[5]])}function a(t,e,i,n,r,s,a=o()){return a[0]=t,a[1]=e,a[2]=i,a[3]=n,a[4]=r,a[5]=s,a}function c(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function l(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function u(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function h(t,e,i=0,n=e.length/3){let r=t[0],s=t[1],o=t[2],a=t[3],c=t[4],l=t[5];for(let u=0;u<n;u++)r=Math.min(r,e[i+3*u]),s=Math.min(s,e[i+3*u+1]),o=Math.min(o,e[i+3*u+2]),a=Math.max(a,e[i+3*u]),c=Math.max(c,e[i+3*u+1]),l=Math.max(l,e[i+3*u+2]);t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=c,t[5]=l}function d(t,e,i){const n=e.length;let r=t[0],s=t[1],o=t[2],a=t[3],c=t[4],l=t[5];if(i)for(let u=0;u<n;u++){const t=e[u];r=Math.min(r,t[0]),s=Math.min(s,t[1]),o=Math.min(o,t[2]),a=Math.max(a,t[0]),c=Math.max(c,t[1]),l=Math.max(l,t[2])}else for(let u=0;u<n;u++){const t=e[u];r=Math.min(r,t[0]),s=Math.min(s,t[1]),a=Math.max(a,t[0]),c=Math.max(c,t[1])}t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=c,t[5]=l}function p(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function f(t){return t[0]>=t[3]?0:t[3]-t[0]}function b(t){return t[1]>=t[4]?0:t[4]-t[1]}function y(t){return t[2]>=t[5]?0:t[5]-t[2]}function m(t){const e=f(t),i=y(t),n=b(t);return Math.sqrt(e*e+i*i+n*n)}function g(t,e=[0,0,0]){return e[0]=t[0]+f(t)/2,e[1]=t[1]+b(t)/2,e[2]=t[2]+y(t)/2,e}function v(t,e=[0,0,0]){return e[0]=f(t),e[1]=b(t),e[2]=y(t),e}function w(t){return Math.max(f(t),y(t),b(t))}function O(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function j(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function _(t,e){return!!Object(n["k"])(e)||j(t,e)}function x(t,e,i,n,r=t){return r[0]=t[0]+e,r[1]=t[1]+i,r[2]=t[2]+n,r[3]=t[3]+e,r[4]=t[4]+i,r[5]=t[5]+n,r}function S(t,e,i=t){const n=t[0]+f(t)/2,r=t[1]+b(t)/2,s=t[2]+y(t)/2;return i[0]=n+(t[0]-n)*e,i[1]=r+(t[1]-r)*e,i[2]=s+(t[2]-s)*e,i[3]=n+(t[3]-n)*e,i[4]=r+(t[4]-r)*e,i[5]=s+(t[5]-s)*e,i}function M(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function k(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function I(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function T(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function E(t){return t?T(t,N):o(N)}function A(t,e){return e||(e=Object(r["l"])()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function C(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function P(t){return 6===t.length}function R(t){return 0===f(t)&&0===b(t)&&0===y(t)}function L(t,e,i){if(Object(n["k"])(t)||Object(n["k"])(e))return t===e;if(!P(t)||!P(e))return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}s([-1/0,-1/0,-1/0,1/0,1/0,1/0]);const N=s([1/0,1/0,1/0,-1/0,-1/0,-1/0]),F=s([0,0,0,0,0,0]);o()},"428f":function(t,e,i){var n=i("da84");t.exports=n},"42be":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("cea0");function r(t){const e=Object(n["e"])(100*(1-t));return Math.max(0,Math.min(e,100))}function s(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}},"436b":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("a9e6"),r=i("4ae5");class s extends n["a"]{constructor(t,e,i,n,r,s){super(t),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=e,this._hasZ=i,this._hasM=n,this._cacheId=r,this._partId=s}get(t){if(void 0===this._lazyPt[t]){const e=this._elements[t];if(void 0===e)return;const i=this._hasZ,n=this._hasM;let s=null;s=i&&!n?new r["a"](e[0],e[1],e[2],void 0,this._spRef):n&&!i?new r["a"](e[0],e[1],void 0,e[2],this._spRef):i&&n?new r["a"](e[0],e[1],e[2],e[3],this._spRef):new r["a"](e[0],e[1],this._spRef),s.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+t.toString(),this._lazyPt[t]=s}return this._lazyPt[t]}equalityTest(t){return t===this||null!==t&&t instanceof s!=0&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},"43e0":function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return h}));var n=i("3349"),r=i("02f1"),s=i("c9fb"),o=i("6706"),a=i("0f94");class c{constructor(t){this.coordinateHelper=t}}class l extends c{constructor(t,e){super(t),this.point=e}objectEqual(t){return t instanceof l&&Object(o["d"])(this.point,t.point)}check(t){return Object(n["a"])(t,this.point)<s["a"].pointThreshold}closestTo(){return this.coordinateHelper.clone(this.point)}intersect(t){const e=[];return t instanceof u?e.push(...Object(a["b"])({start:t.start,end:t.end,type:t instanceof d?1:0},this.point)):t instanceof f&&e.push(...Object(a["a"])(t.center,t.radius,this.point)),e.map(e=>new p(this.coordinateHelper,e,this,t))}}class u extends c{constructor(t,e,i){super(t),this.start=e,this.end=i}objectEqual(t){return t instanceof u&&Object(o["d"])(this.start,t.start)&&Object(o["d"])(this.end,t.end)}intersect(t){const e=[];return t instanceof l?e.push(...Object(a["b"])({start:this.start,end:this.end,type:this instanceof d?1:0},t.point)):t instanceof u?e.push(...Object(a["c"])({start:this.start,end:this.end,type:this instanceof d?1:0},{start:t.start,end:t.end,type:t instanceof d?1:0})):t instanceof f&&e.push(...Object(a["d"])({start:this.start,end:this.end,type:this instanceof d?1:0},t.center,t.radius)),e.map(e=>new p(this.coordinateHelper,e,this,t))}}class h extends u{constructor(t,e,i){super(t,e,i),this.dir=Object(r["a"])(),this.p=Object(r["a"])()}objectEqual(t){return t instanceof h&&super.objectEqual(t)}check(t){return Object(n["f"])(this.dir,this.end,this.start),Object(n["f"])(this.p,t,this.start),Object(n["k"])(this.dir,this.p)>=0&&Object(a["e"])(t,this.start,this.end)<s["a"].pointOnLineThreshold}closestTo(t){const e=this.coordinateHelper.clone(t);return Object(a["h"])(e,t,this.start,this.end),e}}class d extends u{constructor(t,e,i){super(t,e,i)}objectEqual(t){return t instanceof d&&super.objectEqual(t)}check(t){return Object(a["e"])(t,this.start,this.end)<s["a"].pointOnLineThreshold}closestTo(t){const e=this.coordinateHelper.clone(t);return Object(a["g"])(e,t,this.start,this.end),e}}class p extends c{constructor(t,e,i,n){super(t),this.intersection=e,this.first=i,this.second=n}objectEqual(t){return t instanceof p&&this.first.objectEqual(t.first)&&this.second.objectEqual(t.second)}check(){return!1}closestTo(t){const e=this.coordinateHelper.clone(t);return Object(n["c"])(e,this.intersection),e}intersect(){return[]}}class f extends c{constructor(t,e,i){super(t),this.center=e,this.radius=i}objectEqual(t){return t instanceof f&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}check(){return!1}closestTo(t){const e=this.coordinateHelper.clone(t);return Object(a["f"])(e,t,this.center,this.radius),e}intersect(t){const e=[];return t instanceof u?e.push(...Object(a["d"])({start:t.start,end:t.end,type:t instanceof d?1:0},this.center,this.radius)):t instanceof l&&e.push(...Object(a["a"])(this.center,this.radius,t.point)),e.map(e=>new p(this.coordinateHelper,e,this,t))}}},"448d":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("fa8a"),r=i("59b2");function s(t,e={}){var i;const s=t instanceof n["a"]?t:new n["a"](t,e),o={type:null==(i=null==e?void 0:e.ignoreUnknown)||i?s.apiValues:String,readOnly:null==e?void 0:e.readOnly,json:{type:s.jsonValues,read:(null==e||!e.readOnly)&&{reader:s.read},write:{writer:s.write}}};return void 0!==(null==e?void 0:e.default)&&(o.json.default=e.default),void 0!==(null==e?void 0:e.name)&&(o.json.name=e.name),Object(r["b"])(o)}},"44ad":function(t,e,i){var n=i("da84"),r=i("e330"),s=i("d039"),o=i("c6b6"),a=n.Object,c=r("".split);t.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?c(t,""):a(t)}:a},"44d2":function(t,e,i){var n=i("b622"),r=i("7c73"),s=i("9bf2"),o=n("unscopables"),a=Array.prototype;void 0==a[o]&&s.f(a,o,{configurable:!0,value:r(null)}),t.exports=function(t){a[o][t]=!0}},"44de":function(t,e,i){var n=i("da84");t.exports=function(t,e){var i=n.console;i&&i.error&&(1==arguments.length?i.error(t):i.error(t,e))}},"44e6":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return d}));var n=i("a4ee"),r=i("2c4f"),s=i("7d7d"),o=i("9096"),a=(i("c120"),i("e92d")),c=i("b2b2"),l=i("59b2"),u=(i("b50f"),i("cea0"),i("d386"));a["a"].getLogger("esri.core.support.OwningCollection");let h=class extends(Object(o["b"])(r["a"])){constructor(t){super(t),this.handles.add([this.on("before-add",t=>{Object(c["k"])(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(r["a"].ofType(this.itemType.Type))(t):new r["a"](t)}};function d(t,e){return{type:t,cast:s["a"],set(i){const n=Object(s["b"])(i,this._get(e),t);n.owner=this,this._set(e,n)}}}Object(n["a"])([Object(l["b"])()],h.prototype,"owner",null),h=Object(n["a"])([Object(u["a"])("esri.core.support.OwningCollection")],h)},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),s=i("b622"),o=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},4637:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n,r,s,o={exports:{}};n=o,r=function(){function t(t,i,r,s,o){e(t,i,r||0,s||t.length-1,o||n)}function e(t,n,r,s,o){for(;s>r;){if(s-r>600){var a=s-r+1,c=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(a-u)/a)*(c-a/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-c*u/a+h)),Math.min(s,Math.floor(n+(a-c)*u/a+h)),o)}var d=t[n],p=r,f=s;for(i(t,r,n),o(t[s],d)>0&&i(t,r,s);p<f;){for(i(t,p,f),p++,f--;o(t[p],d)<0;)p++;for(;o(t[f],d)>0;)f--}0===o(t[r],d)?i(t,r,f):i(t,++f,s),f<=n&&(r=f+1),n<=f&&(s=f-1)}}function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}return t},void 0!==(s=r())&&(n.exports=s);const a=o.exports},4653:function(t,e,i){"use strict";i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return g}));var n=i("fa8a"),r=i("2035");const s={year:"numeric",month:"numeric",day:"numeric"},o={year:"numeric",month:"long",day:"numeric"},a={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},l={hour:"numeric",minute:"numeric"},u={...l,second:"numeric"},h={"short-date":s,"short-date-short-time":{...s,...l},"short-date-short-time-24":{...s,...l,hour12:!1},"short-date-long-time":{...s,...u},"short-date-long-time-24":{...s,...u,hour12:!1},"short-date-le":s,"short-date-le-short-time":{...s,...l},"short-date-le-short-time-24":{...s,...l,hour12:!1},"short-date-le-long-time":{...s,...u},"short-date-le-long-time-24":{...s,...u,hour12:!1},"long-month-day-year":o,"long-month-day-year-short-time":{...o,...l},"long-month-day-year-short-time-24":{...o,...l,hour12:!1},"long-month-day-year-long-time":{...o,...u},"long-month-day-year-long-time-24":{...o,...u,hour12:!1},"day-short-month-year":a,"day-short-month-year-short-time":{...a,...l},"day-short-month-year-short-time-24":{...a,...l,hour12:!1},"day-short-month-year-long-time":{...a,...u},"day-short-month-year-long-time-24":{...a,...u,hour12:!1},"long-date":c,"long-date-short-time":{...c,...l},"long-date-short-time-24":{...c,...l,hour12:!1},"long-date-long-time":{...c,...u},"long-date-long-time-24":{...c,...u,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":l,"long-time":u},d=Object(n["b"])()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),p=(d.apiValues,d.toJSON.bind(d),d.fromJSON.bind(d),{ar:"ar-u-nu-latn-ca-gregory"});let f=new WeakMap,b=h["short-date-short-time"];function y(t){const e=t||b;if(!f.has(e)){const t=Object(r["b"])(),i=p[Object(r["b"])()]||t;f.set(e,new Intl.DateTimeFormat(i,e))}return f.get(e)}function m(t){return h[t]||null}function g(t,e){return y(e).format(t)}Object(r["a"])(()=>{f=new WeakMap,b=h["short-date-short-time"]})},"466d":function(t,e,i){"use strict";var n=i("c65b"),r=i("d784"),s=i("825a"),o=i("50c4"),a=i("577e"),c=i("1d80"),l=i("dc4a"),u=i("8aa5"),h=i("14c3");r("match",(function(t,e,i){return[function(e){var i=c(this),r=void 0==e?void 0:l(e,t);return r?n(r,e,i):new RegExp(e)[t](a(i))},function(t){var n=s(this),r=a(t),c=i(e,n,r);if(c.done)return c.value;if(!n.global)return h(n,r);var l=n.unicode;n.lastIndex=0;var d,p=[],f=0;while(null!==(d=h(n,r))){var b=a(d[0]);p[f]=b,""===b&&(n.lastIndex=u(r,o(n.lastIndex),l)),f++}return 0===f?null:p}]}))},"46e8":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(t){super(t)}clone(){}};Object(n["a"])([Object(s["b"])({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=Object(n["a"])([Object(o["a"])("esri.symbols.patterns.Pattern3D")],a);const c=a},"477c":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return d}));i("9d83"),i("c649");var n=i("b2b2"),r=i("0646");i("9efb");function s(t,e,i={}){return a(t,e,i,c)}function o(t,e,i={}){return a(t,e,i,l)}function a(t,e,i={},s){let o=null;const a=i.once?(t,i)=>{s(t)&&(Object(n["s"])(o),e(t,i))}:(t,i)=>{s(t)&&e(t,i)};if(o=Object(r["e"])(t,a,i.sync,i.equals),i.initial){const e=t();a(e,e)}return o}function c(t){return!0}function l(t){return!!t}const u={sync:!0},h={initial:!0},d={sync:!0,initial:!0}},"478c":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n,r=i("a4ee"),s=i("9ef0"),o=i("7ffa"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("d386"),u=i("c1da"),h=i("667b"),d=i("6a0e");i("b50f"),i("c120");let p=n=class extends d["a"]{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new n({color:this.color,ratio:this.ratio})}};Object(r["a"])([Object(a["b"])({type:s["a"],json:{write:!0}})],p.prototype,"color",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],p.prototype,"ratio",void 0),p=n=Object(r["a"])([Object(l["a"])("esri.renderers.support.HeatmapColorStop")],p);const f=p;var b;let y=b=class extends h["a"]{constructor(t){super(t),this.blurRadius=10,this.colorStops=[new f({ratio:0,color:new s["a"]("rgba(255, 140, 0, 0)")}),new f({ratio:.75,color:new s["a"]("rgba(255, 140, 0, 1)")}),new f({ratio:.9,color:new s["a"]("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(t,e){const i=this.field;i&&"string"==typeof i&&Object(u["d"])(t,e,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new b({blurRadius:this.blurRadius,colorStops:Object(o["a"])(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],y.prototype,"blurRadius",void 0),Object(r["a"])([Object(a["b"])({type:[f],json:{write:!0}})],y.prototype,"colorStops",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],y.prototype,"field",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:null==i})}}})],y.prototype,"fieldOffset",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],y.prototype,"maxPixelIntensity",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],y.prototype,"minPixelIntensity",void 0),Object(r["a"])([Object(c["a"])({heatmap:"heatmap"})],y.prototype,"type",void 0),y=b=Object(r["a"])([Object(l["a"])("esri.renderers.HeatmapRenderer")],y);const m=y},4840:function(t,e,i){var n=i("825a"),r=i("5087"),s=i("b622"),o=s("species");t.exports=function(t,e){var i,s=n(t).constructor;return void 0===s||void 0==(i=n(s)[o])?e:r(i)}},4856:function(t,e,i){"use strict";i.d(e,"a",(function(){return q}));var n=i("a4ee"),r=i("2c4f"),s=i("6a0e"),o=i("7ffa"),a=i("e92d"),c=i("f4cc"),l=i("59b2"),u=i("1a3e"),h=i("afcf"),d=i("d386"),p=i("09db"),f=i("cea0"),b=i("c1da"),y=i("1289"),m=i("a7a7"),g=i("69c9"),v=i("d099"),w=i("18bf"),O=i("3cac"),j=i("d0e9");const _={base:null,key:"type",typeMap:{attachment:y["a"],media:O["a"],text:j["a"],expression:v["a"],field:w["a"]}};var x,S=i("1637"),M=i("9f91");i("b50f"),i("c120");let k=x=class extends s["a"]{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new x({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};Object(n["a"])([Object(l["b"])({type:Boolean,json:{write:!0}})],k.prototype,"returnTopmostRaster",void 0),Object(n["a"])([Object(l["b"])({type:Boolean,json:{write:!0}})],k.prototype,"showNoDataRecords",void 0),k=x=Object(n["a"])([Object(d["a"])("esri.popup.LayerOptions")],k);const I=k;var T,E=i("a2e5");let A=T=class extends s["a"]{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new T({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?Object(o["a"])(this.orderByFields):null})}};Object(n["a"])([Object(l["b"])({type:Boolean,json:{write:!0}})],A.prototype,"showRelatedRecords",void 0),Object(n["a"])([Object(l["b"])({type:[E["a"]],json:{write:!0}})],A.prototype,"orderByFields",void 0),A=T=Object(n["a"])([Object(d["a"])("esri.popup.RelatedRecordsInfo")],A);const C=A;var P,R=i("6759"),L=i("5986"),N=i("77eb"),F=i("ceaf");const D=r["a"].ofType({key:"type",defaultKeyValue:"button",base:L["a"],typeMap:{button:N["a"],toggle:F["a"]}}),z={base:m["a"],key:"type",typeMap:{media:O["a"],custom:g["a"],text:j["a"],attachments:y["a"],fields:w["a"],expression:v["a"]}},V="esri.PopupTemplate",$=a["a"].getLogger(V),G=["attachments","fields","media","text","expression"];let U=P=class extends s["a"]{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(t){return Array.isArray(t)?t.map(t=>Object(f["k"])(z,t)):"string"==typeof t||"function"==typeof t||t instanceof HTMLElement||Object(c["o"])(t)?t:($.error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:i}=e;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(e):this._readPopupInfo(e)}writeContent(t,e,i,n){"string"!=typeof t?Array.isArray(t)&&(e.popupElements=t.filter(t=>-1!==G.indexOf(t.type)).map(t=>t&&t.toJSON(n)),e.popupElements.forEach(t=>{"attachments"===t.type?this._writeAttachmentContent(e):"media"===t.type?this._writeMediaContent(t,e):"text"===t.type&&this._writeTextContent(t,e)})):e.description=t}writeFieldInfos(t,e,i,n){const{content:r}=this,s=Array.isArray(r)?r:null;if(t){const i=s?s.filter(t=>"fields"===t.type):[],r=i.length&&i.every(t=>{var e;return null==(e=t.fieldInfos)?void 0:e.length});e.fieldInfos=t.filter(Boolean).map(t=>{const e=t.toJSON(n);return r&&(e.visible=!1),e})}if(s)for(const o of s)"fields"===o.type&&this._writeFieldsContent(o,e)}writeLayerOptions(t,e,i,n){e[i]=!t||null===t.showNoDataRecords&&null===t.returnTopmostRaster?null:t.toJSON(n)}writeTitle(t,e){e.title=t||""}clone(){const{actions:t}=this,e=t?Object(o["a"])(t.toArray()):[];return new P({actions:e,content:Array.isArray(this.content)?Object(o["a"])(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?Object(o["a"])(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?Object(o["a"])(this.fieldInfos):null,layerOptions:this.layerOptions?Object(o["a"])(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?Object(o["a"])(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?Object(o["a"])(this.relatedRecordsInfo):null})}async collectRequiredFields(t,e){await this._collectExpressionInfoFields(t,e,this._getContentExpressionInfos(this.content,this.expressionInfos)),Object(b["e"])(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const e=new Set;return await this.collectRequiredFields(e,t),[...e].sort()}_writeFieldsContent(t,e){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const i=Object(o["a"])(t.fieldInfos);Array.isArray(e.fieldInfos)?i.forEach(t=>{const i=e.fieldInfos.find(e=>e.fieldName.toLowerCase()===t.fieldName.toLowerCase());i?i.visible=!0:e.fieldInfos.push(t)}):e.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=Object(o["a"])(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...i]:e.mediaInfos=i}_readPopupInfoElements({description:t,mediaInfos:e,popupElements:i}){const n={description:!1,mediaInfos:!1};return i.map(i=>"media"===i.type?(i.mediaInfos||!e||n.mediaInfos||(i.mediaInfos=e,n.mediaInfos=!0),O["a"].fromJSON(i)):"text"===i.type?(i.text||!t||n.description||(i.text=t,n.description=!0),j["a"].fromJSON(i)):"attachments"===i.type?y["a"].fromJSON(i):"fields"===i.type?w["a"].fromJSON(i):"expression"===i.type?v["a"].fromJSON(i):void 0).filter(Boolean)}_readPopupInfo({description:t,mediaInfos:e,showAttachments:i}){const n=[];return t?n.push(new j["a"]({text:t})):n.push(new w["a"]),Array.isArray(e)&&e.length&&n.push(O["a"].fromJSON({mediaInfos:e})),i&&n.push(y["a"].fromJSON({displayType:"auto"})),n.length?n:t}_getContentElementFields(t){const e=null==t?void 0:t.type;if("attachments"===e)return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if("custom"===e)return t.outFields||[];if("fields"===e)return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos||this.fieldInfos)];if("media"===e){const e=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...e.reduce((t,e)=>[...t,...this._getMediaInfoFields(e)],[])]}return"text"===e?this._extractFieldNames(t.text):[]}_getMediaInfoFields(t){const{caption:e,title:i,value:n}=t,r=n||{},{fields:s=[],normalizeField:o,tooltipField:a,sourceURL:c,linkURL:l}=r,u=[...this._extractFieldNames(i),...this._extractFieldNames(e),...this._extractFieldNames(c),...this._extractFieldNames(l),...s];return o&&u.push(o),a&&u.push(a),u}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce((t,e)=>[...t,..."expression"===e.type&&e.expressionInfo?[e.expressionInfo]:[]],e||[]):[]}_getContentFields(t){return"string"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce((t,e)=>[...t,...this._getContentElementFields(e)],[]):[]}async _collectExpressionInfoFields(t,e,i){i&&await Promise.all(i.map(i=>Object(b["a"])(t,e,i.expression)))}_getFieldInfoFields(t){return t?t.filter(t=>void 0===t.visible||!!t.visible).map(t=>t.fieldName).filter(t=>-1===t.indexOf("relationships/")&&-1===t.indexOf("expression/")):[]}_getActionsFields(t){return t?t.toArray().reduce((t,e)=>[...t,...this._getActionFields(e)],[]):[]}_getActionFields(t){const{className:e,title:i,type:n}=t,r="button"===n||"toggle"===n?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(e),...this._extractFieldNames(r)]}_getTitleFields(t){return"string"==typeof t?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||"string"!=typeof t)return[];const e=/{[^}]*}/g,i=t.match(e);if(!i)return[];const n=/\{(\w+):.+\}/,r=i.filter(t=>!(0===t.indexOf("{relationships/")||0===t.indexOf("{expression/"))).map(t=>t.replace(n,"{$1}"));return r?r.map(t=>t.slice(1,-1)):[]}};Object(n["a"])([Object(l["b"])({type:D})],U.prototype,"actions",void 0),Object(n["a"])([Object(l["b"])()],U.prototype,"content",void 0),Object(n["a"])([Object(u["a"])("content")],U.prototype,"castContent",null),Object(n["a"])([Object(h["a"])("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],U.prototype,"readContent",null),Object(n["a"])([Object(p["a"])("content",{popupElements:{type:r["a"].ofType(_)},showAttachments:{type:Boolean},mediaInfos:{type:r["a"].ofType(R["a"])},description:{type:String}})],U.prototype,"writeContent",null),Object(n["a"])([Object(l["b"])({type:[S["a"]],json:{write:!0}})],U.prototype,"expressionInfos",void 0),Object(n["a"])([Object(l["b"])({type:[M["a"]]})],U.prototype,"fieldInfos",void 0),Object(n["a"])([Object(p["a"])("fieldInfos")],U.prototype,"writeFieldInfos",null),Object(n["a"])([Object(l["b"])({type:I})],U.prototype,"layerOptions",void 0),Object(n["a"])([Object(p["a"])("layerOptions")],U.prototype,"writeLayerOptions",null),Object(n["a"])([Object(l["b"])({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],U.prototype,"lastEditInfoEnabled",void 0),Object(n["a"])([Object(l["b"])()],U.prototype,"outFields",void 0),Object(n["a"])([Object(l["b"])()],U.prototype,"overwriteActions",void 0),Object(n["a"])([Object(l["b"])()],U.prototype,"returnGeometry",void 0),Object(n["a"])([Object(l["b"])({json:{type:String}})],U.prototype,"title",void 0),Object(n["a"])([Object(p["a"])("title")],U.prototype,"writeTitle",null),Object(n["a"])([Object(l["b"])({type:C,json:{write:!0}})],U.prototype,"relatedRecordsInfo",void 0),U=P=Object(n["a"])([Object(d["a"])(V)],U);const q=U},"485a":function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l}));var n,r=i("a4ee"),s=i("fc29"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new n({x:this.x,y:this.y})}};Object(r["a"])([Object(o["b"])({type:Number})],c.prototype,"x",void 0),Object(r["a"])([Object(o["b"])({type:Number})],c.prototype,"y",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.symbols.support.Symbol3DAnchorPosition2D")],c);const l=c},"485ad":function(t,e,i){var n=i("da84"),r=i("c65b"),s=i("1626"),o=i("861d"),a=n.TypeError;t.exports=function(t,e){var i,n;if("string"===e&&s(i=t.toString)&&!o(n=r(i,t)))return n;if(s(i=t.valueOf)&&!o(n=r(i,t)))return n;if("string"!==e&&s(i=t.toString)&&!o(n=r(i,t)))return n;throw a("Can't convert object to primitive value")}},4930:function(t,e,i){var n=i("2d00"),r=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4995:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("1b19"),c=i("b08e");let l=n=class extends a["a"]{constructor(t){super(t),this.type="line-chart"}clone(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};Object(r["a"])([Object(s["b"])({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:c["a"].write}})],l.prototype,"type",void 0),l=n=Object(r["a"])([Object(o["a"])("esri.popup.content.LineChartMediaInfo")],l);const u=l},"49a0":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s}));var n=i("8048");const r=96;function s(t,e){const i=e||t.extent,s=t.width,o=Object(n["d"])(i&&i.spatialReference);return i&&s?i.width/s*o*n["h"]*r:0}function o(t,e){return t/(Object(n["d"])(e)*n["h"]*r)}function a(t,e){const i=t.extent,n=t.width,r=o(e,i.spatialReference);return i.clone().expand(r*n/i.width)}},"49fa":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));const n="20211215",r="ad43611b413b1d0a625293a3ce87543dde5c1fa2"},"4a7a":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));const n=t=>-1!==t.indexOf("Brush");class r{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),n(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark("Esri."+t))}}},"4adc":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("59b2");function r(t,e){const i=e?{...e,source:t}:t;return Object(n["b"])({aliasOf:i})}},"4ae5":function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var n=i("a4ee"),r=i("e92d"),s=i("b2b2"),o=i("59b2"),a=(i("b50f"),i("c120"),i("1a3e")),c=i("afcf"),l=i("d386"),u=i("09db"),h=i("cea0"),d=i("3760"),p=i("5996");function f(t,e,i,n){var r;return t.x=t.x+e,t.y=t.y+i,null!=n&&(t.z=(null!=(r=t.z)?r:0)+n),t}function b(t,e){const i=t.x-e.x,n=t.y-e.y,r=t.hasZ&&e.hasZ?t.z-e.z:0;return Math.sqrt(i*i+n*n+r*r)}var y,m=i("7f83"),g=i("9786");const v=[0,0];function w(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}const O=r["a"].getLogger("esri.geometry.Point");let j=y=class extends d["a"]{constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",Object.isFrozen(i)?i:i.clone())}normalizeCtorArgs(t,e,i,n,r){let s;if(Array.isArray(t))s=t,r=e,t=s[0],e=s[1],i=s[2],n=s[3];else if(t&&"object"==typeof t){if(s=t,t=null!=s.x?s.x:s.longitude,e=null!=s.y?s.y:s.latitude,i=s.z,n=s.m,(r=s.spatialReference)&&"esri.geometry.SpatialReference"!==r.declaredClass&&(r=new p["a"](r)),null!=s.longitude||null!=s.latitude)if(null==s.longitude)O.warn(".longitude=","Latitude was defined without longitude");else if(null==s.latitude)O.warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r&&r.isWebMercator){const i=Object(g["c"])(s.longitude,s.latitude,v);t=i[0],e=i[1]}}else w(i)?(r=i,i=null):w(n)&&(r=n,n=null);const o={x:t,y:e};return null==o.x&&null!=o.y?O.warn(".y=","Y coordinate was defined without an X coordinate"):null==o.y&&null!=o.x&&O.warn(".x=","X coordinate was defined without a Y coordinate"),null!=r&&(o.spatialReference=r),null!=i&&(o.z=i),null!=n&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(t){t!==(void 0!==this._get("m"))&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return void 0!==this.z}set hasZ(t){t!==(void 0!==this._get("z"))&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){const{spatialReference:t,x:e,y:i}=this;if(t){if(t.isWebMercator)return Object(g["f"])(e,i,v)[1];if(t.isGeographic)return i}return null}set latitude(t){const{spatialReference:e,x:i}=this;e&&(e.isWebMercator?this._set("y",Object(g["c"])(i,t,v)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){const{x:t,y:e,spatialReference:i}=this;if(i){if(i.isWebMercator)return Object(g["f"])(t,e,v)[0];if(i.isGeographic)return t}return null}set longitude(t){const{y:e,spatialReference:i}=this;i&&(i.isWebMercator?this._set("x",Object(g["c"])(t,e,v)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return"string"==typeof t?NaN:t}clone(){const t=new y;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return y.copy(t,this),this}equals(t){if(Object(s["k"])(t))return!1;const{x:e,y:i,z:n,m:r,spatialReference:o}=this,{z:a,m:c}=t;let{x:l,y:u,spatialReference:h}=t;if(!o.equals(h))if(o.isWebMercator&&h.isWGS84)[l,u]=Object(g["c"])(l,u),h=o;else{if(!o.isWGS84||!h.isWebMercator)return!1;[l,u]=Object(g["f"])(l,u),h=o}return e===l&&i===u&&n===a&&r===c&&o.wkid===h.wkid}offset(t,e,i){return f(this,t,e,i)}normalize(){if(!this.spatialReference)return this;const t=Object(m["e"])(this.spatialReference);if(!t)return this;let e=this.x;const[i,n]=t.valid,r=2*n;let s;return e>n?(s=Math.ceil(Math.abs(e-n)/r),e-=s*r):e<i&&(s=Math.ceil(Math.abs(e-i)/r),e+=s*r),this._set("x",e),this}distance(t){return b(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};Object(n["a"])([Object(o["b"])({readOnly:!0})],j.prototype,"cache",null),Object(n["a"])([Object(o["b"])({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],j.prototype,"hasM",null),Object(n["a"])([Object(o["b"])({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],j.prototype,"hasZ",null),Object(n["a"])([Object(o["b"])({type:Number})],j.prototype,"latitude",null),Object(n["a"])([Object(o["b"])({type:Number})],j.prototype,"longitude",null),Object(n["a"])([Object(o["b"])({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Object(a["a"])(t=>isNaN(t)?t:Object(h["i"])(t))],j.prototype,"x",void 0),Object(n["a"])([Object(u["a"])("x")],j.prototype,"writeX",null),Object(n["a"])([Object(c["a"])("x")],j.prototype,"readX",null),Object(n["a"])([Object(o["b"])({type:Number,json:{write:!0}})],j.prototype,"y",void 0),Object(n["a"])([Object(o["b"])({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],j.prototype,"z",void 0),Object(n["a"])([Object(o["b"])({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],j.prototype,"m",void 0),j=y=Object(n["a"])([Object(l["a"])("esri.geometry.Point")],j),j.prototype.toJSON.isDefaultToJSON=!0;const _=j},"4c37":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return u}));var n=i("c649"),r=i("7ffa"),s=i("b2b2");function o(t){return t?t.__accessor__?t.__accessor__:t.propertyInvalidated?t:null:null}function a(t,e){return null!=t&&t.metadatas&&null!=t.metadatas[e]}function c(t,e,i){return l(t,e,i?{policy:i,path:""}:null)}function l(t,e,i){return e?Object.keys(e).reduce((function(t,n){let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${n}`:n,a=i.policy(o)),"replace"===a)return t[n]=e[n],t;if(void 0===t[n])return t[n]=Object(r["a"])(e[n]),t;let c=t[n],u=e[n];if(c===u)return t;if(Array.isArray(u)||Array.isArray(t))c=c?Array.isArray(c)?t[n]=c.concat():t[n]=[c]:t[n]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(t=>{-1===c.indexOf(t)&&c.push(t)}));else if(u&&"object"==typeof u)if(i){const e=i.path;i.path=Object(s["d"])(o),t[n]=l(c,u,i),i.path=e}else t[n]=l(c,u,null);else t.hasOwnProperty(n)&&!e.hasOwnProperty(n)||(t[n]=u);return t}),t||{}):t}function u(t){return Array.isArray(t)?t:t.split(".")}function h(t){return t.indexOf(",")>-1?t.split(",").map(t=>t.trim()):[t.trim()]}function d(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...h(i));return e}return h(t)}function p(t,e,i,r){const s=d(e);if(1!==s.length){const e=s.map(e=>r(t,e,i));return Object(n["b"])(e)}return r(t,s[0],i)}function f(t){let e=!1;return()=>{e||(e=!0,t())}}},"4cac":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n,r=i("a4ee"),s=i("7ffa"),o=i("b3b6"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("afcf"),u=i("d386"),h=i("09db"),d=i("c1da"),p=i("0d93");let f=n=class extends p["a"]{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){if(t)for(const i in t)e[i]=t[i]}async collectRequiredFields(t,e){if("CIMSymbolReference"===this.data.type){const i=this.data.primitiveOverrides;if(i){const n=i.map(i=>{const n=i.valueExpressionInfo;return Object(d["a"])(t,e,n.expression)});await Promise.all(n)}}}clone(){return new n({data:Object(s["a"])(this.data)})}hash(){return Object(o["b"])(JSON.stringify(this.data)).toString()}};Object(r["a"])([Object(a["b"])({json:{write:!1}})],f.prototype,"color",void 0),Object(r["a"])([Object(a["b"])({json:{write:!0}})],f.prototype,"data",void 0),Object(r["a"])([Object(l["a"])("data",["symbol"])],f.prototype,"readData",null),Object(r["a"])([Object(h["a"])("data",{})],f.prototype,"writeData",null),Object(r["a"])([Object(c["a"])({CIMSymbolReference:"cim"},{readOnly:!0})],f.prototype,"type",void 0),f=n=Object(r["a"])([Object(u["a"])("esri.symbols.CIMSymbol")],f);const b=f},"4d10":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("a4ee"),r=i("2c4f"),s=i("9096"),o=i("b2b2"),a=(i("0646"),i("9efb")),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("d386"));let u=class extends(Object(s["b"])(r["a"])){constructor(t){super(t),this.getCollections=null}initialize(){this.handles.add(Object(a["a"])(()=>this.refresh()))}destroy(){this.getCollections=null}refresh(){const t=Object(o["l"])(this.getCollections)?this.getCollections():null;if(Object(o["k"])(t))return void this.removeAll();let e=0;for(const i of t)Object(o["l"])(i)&&(e=this._processCollection(e,i));this.splice(e,this.length)}_createNewInstance(t){return new r["a"](t)}_processCollection(t,e){if(!e)return t;const i=this.itemFilterFunction?this.itemFilterFunction:t=>!!t;for(const n of e)if(n){if(i(n)){const e=this.indexOf(n,t);e>=0?e!==t&&this.reorder(n,t):this.add(n,t),++t}if(this.getChildrenFunction){const e=this.getChildrenFunction(n);if(Array.isArray(e))for(const i of e)t=this._processCollection(t,i);else t=this._processCollection(t,e)}}return t}};Object(n["a"])([Object(c["b"])()],u.prototype,"getCollections",void 0),Object(n["a"])([Object(c["b"])()],u.prototype,"getChildrenFunction",void 0),Object(n["a"])([Object(c["b"])()],u.prototype,"itemFilterFunction",void 0),u=Object(n["a"])([Object(l["a"])("esri.core.CollectionFlattener")],u);const h=u},"4d64":function(t,e,i){var n=i("fc6a"),r=i("23cb"),s=i("07fa"),o=function(t){return function(e,i,o){var a,c=n(e),l=s(c),u=r(o,l);if(t&&i!=i){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"4d68":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386")),o=i("46e8");const a=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var c;let l=c=class extends o["a"]{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new c(t)}};Object(n["a"])([Object(r["b"])({type:["style"]})],l.prototype,"type",void 0),Object(n["a"])([Object(r["b"])({type:a,json:{read:!0,write:!0}})],l.prototype,"style",void 0),l=c=Object(n["a"])([Object(s["a"])("esri.symbols.patterns.StylePattern3D")],l);const u=l},"4dae":function(t,e,i){var n=i("da84"),r=i("23cb"),s=i("07fa"),o=i("8418"),a=n.Array,c=Math.max;t.exports=function(t,e,i){for(var n=s(t),l=r(e,n),u=r(void 0===i?n:i,n),h=a(c(u-l,0)),d=0;l<u;l++,d++)o(h,d,t[l]);return h.length=d,h}},"4dc1":function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return l}));i("c120");var n=i("38a4");function r(t,e,i,n){n.premultipliedAlpha&&m(t),i.width=t.width,i.height=t.height;const r=i.getContext("2d");r.putImageData(t,0,0),n.flipY&&y(r);const o=r.getImageData(0,0,t.width,t.height),a=s(i,e);return i.width=0,i.height=0,{dataUrl:a,data:o}}function s(t,e){const i=g[e.format],n=e.quality/100;return t.toDataURL(i,n)}function o(t,e){const i=b(t),r=O[i];return{format:i,quality:Object(n["d"])(null!=e?e:r,0,100)}}function a(t,e){return e/Math.max(t[0],t[1])}function c(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(p)try{return new ImageData(t,e)}catch(n){p=!1}return h(t,e,i)}function l(t,e,i,n){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(p)try{return new ImageData(t,e,i)}catch(s){p=!1}const r=h(e,i,n);return r.data.set(t,0),r}function u(t,e,i,n=0,r=0,s=t.width-n,o=t.height-r,a=!1){const{data:c}=t,{width:l,height:u,data:h}=e,d=s/l,p=o/u,f=Math.ceil(d/2),b=Math.ceil(p/2),y=t.width;for(let m=0;m<u;m++)for(let t=0;t<l;t++){const e=4*(t+(a?u-m-1:m)*l);let s=0,o=0,g=0,v=0,w=0,O=0;const j=(m+.5)*p;for(let a=Math.floor(m*p);a<(m+1)*p;a++){const e=Math.abs(j-(a+.5))/b,l=(t+.5)*d,u=e*e;for(let h=Math.floor(t*d);h<(t+1)*d;h++){const t=Math.abs(l-(h+.5))/f,e=Math.sqrt(u+t*t);if(e>=1)continue;let d=2*e*e*e-3*e*e+1;const p=4*(n+h+(r+a)*y);O+=d*c[p+3],o+=d,!i&&c[p+3]<255&&(d=d*c[p+3]/255),g+=d*c[p],v+=d*c[p+1],w+=d*c[p+2],s+=d}}h[e]=g/s,h[e+1]=v/s,h[e+2]=w/s,h[e+3]=O/o}return e}function h(t,e,i){return i||(i=f()),i.getContext("2d").createImageData(t,e)}let d=null,p=!0;function f(){return d||(d=document.createElement("canvas"),d.width=1,d.height=1),d}function b(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return w}}function y(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function m(t){const e=t.data,i=e.length;for(let n=0;n<i;n+=4){const t=e[n+3];if(t>0){const i=t/255;e[n+0]=e[n+0]/i,e[n+1]=e[n+1]/i,e[n+2]=e[n+2]/i}}}const g={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},v=98,w="png",O={png:100,jpg:v,jpeg:v}},"4dc9":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n,r=i("a4ee"),s=i("9ef0"),o=i("fa8a"),a=i("7ffa"),c=i("a915"),l=i("59b2"),u=(i("cea0"),i("448d")),h=i("d386"),d=i("09db"),p=i("6e4d"),f=i("db52");const b=new o["a"]({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let y=n=class extends p["a"]{constructor(...t){super(...t),this.color=new s["a"]([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new f["a"]}normalizeCtorArgs(t,e,i,n){if(t&&"string"!=typeof t)return t;const r={};return t&&(r.style=t),null!=e&&(r.size=Object(c["j"])(e)),i&&(r.outline=i),n&&(r.color=n),r}writeColor(t,e){t&&"x"!==this.style&&"cross"!==this.style&&(e.color=t.toJSON()),null===t&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new n({angle:this.angle,color:Object(a["a"])(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(t=this.outline)?void 0:t.hash()}`}};Object(r["a"])([Object(l["b"])()],y.prototype,"color",void 0),Object(r["a"])([Object(d["a"])("color")],y.prototype,"writeColor",null),Object(r["a"])([Object(u["a"])({esriSMS:"simple-marker"},{readOnly:!0})],y.prototype,"type",void 0),Object(r["a"])([Object(l["b"])()],y.prototype,"size",void 0),Object(r["a"])([Object(l["b"])({type:b.apiValues,json:{read:b.read,write:b.write}})],y.prototype,"style",void 0),Object(r["a"])([Object(l["b"])({type:String,json:{write:!0}})],y.prototype,"path",null),Object(r["a"])([Object(l["b"])({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":f["a"]}},json:{default:null,write:!0}})],y.prototype,"outline",void 0),y=n=Object(r["a"])([Object(h["a"])("esri.symbols.SimpleMarkerSymbol")],y);const m=y},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,s=i("1dde"),o=s("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(t,e,i){"use strict";var n=i("23e7"),r=i("e330"),s=i("59ed"),o=i("7b0b"),a=i("07fa"),c=i("577e"),l=i("d039"),u=i("addb"),h=i("a640"),d=i("04d1"),p=i("d998"),f=i("2d00"),b=i("512c"),y=[],m=r(y.sort),g=r(y.push),v=l((function(){y.sort(void 0)})),w=l((function(){y.sort(null)})),O=h("sort"),j=!l((function(){if(f)return f<70;if(!(d&&d>3)){if(p)return!0;if(b)return b<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)y.push({k:e+n,v:i})}for(y.sort((function(t,e){return e.v-t.v})),n=0;n<y.length;n++)e=y[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),_=v||!w||!O||!j,x=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:c(e)>c(i)?1:-1}};n({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&s(t);var e=o(this);if(j)return void 0===t?m(e):m(e,t);var i,n,r=[],c=a(e);for(n=0;n<c;n++)n in e&&g(r,e[n]);u(r,x(t)),i=r.length,n=0;while(n<i)e[n]=r[n++];while(n<c)delete e[n++];return e}})},"4f37":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n,r=i("a4ee"),s=i("ce50"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("09db"),l=i("5dd5");let u=n=class extends l["a"]{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(t,e,i,n){if(n&&n.messages){const t=`visualVariables[${this.index}]`;n.messages.push(new s["a"]("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpressionTitle",context:n}))}}clone(){return new n({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};Object(r["a"])([Object(o["b"])({readOnly:!0})],u.prototype,"cache",null),Object(r["a"])([Object(o["b"])({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],u.prototype,"axis",void 0),Object(r["a"])([Object(o["b"])({type:["rotation"],json:{type:["rotationInfo"]}})],u.prototype,"type",void 0),Object(r["a"])([Object(o["b"])({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],u.prototype,"rotationType",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0),Object(r["a"])([Object(c["a"])("web-scene","valueExpressionTitle")],u.prototype,"writeValueExpressionTitleWebScene",null),u=n=Object(r["a"])([Object(a["a"])("esri.renderers.visualVariables.RotationVariable")],u);const h=u},"505a":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("fc29"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{clone(){return new n({url:this.url})}};Object(r["a"])([Object(o["b"])({type:String})],c.prototype,"url",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.symbols.support.Thumbnail")],c);const l=c},5087:function(t,e,i){var n=i("da84"),r=i("68ee"),s=i("0d51"),o=n.TypeError;t.exports=function(t){if(r(t))return t;throw o(s(t)+" is not a constructor")}},"50c4":function(t,e,i){var n=i("5926"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},"50e6":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0")),c=i("d386");let l=n=class extends s["a"]{constructor(t){super(t),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new n({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};Object(r["a"])([Object(o["b"])({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"cols",void 0),Object(r["a"])([Object(o["b"])({type:a["a"],json:{write:!0}})],l.prototype,"level",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],l.prototype,"levelValue",void 0),Object(r["a"])([Object(o["b"])({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"origin",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],l.prototype,"resolution",void 0),Object(r["a"])([Object(o["b"])({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"rows",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],l.prototype,"scale",void 0),l=n=Object(r["a"])([Object(c["a"])("esri.layers.support.LOD")],l);const u=l},"512c":function(t,e,i){var n=i("342f"),r=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},"51d7":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return f}));var n=i("619d"),r=i("1325"),s=i("2c4f"),o=i("e92d"),a=i("e041"),c=i("cea0"),l=i("c047");const u=o["a"].getLogger("esri.support.basemapUtils");function h(){return{}}function d(t){for(const e in t){const i=t[e];!1===(null==i?void 0:i.destroyed)&&i.destroy(),delete t[e]}}function p(t,e){var i;let s;if("string"==typeof t){if(!(t in l["a"])){const e=Object.entries(l["a"]).filter(([t,e])=>r["a"].apiKey&&!e.classic||!r["a"].apiKey&&e.classic&&!e.deprecated).map(([t])=>`"${t}"`).join(", ");return u.warn(`Unable to find basemap definition for: ${t}. Try one of these: ${e}`),null}e&&(s=e[t]),s||(s=n["default"].fromId(t),e&&(e[t]=s))}else s=Object(c["m"])(n["default"],t);return null!=(i=s)&&i.destroyed&&(u.warn("The provided basemap is already destroyed",{basemap:s}),s=null),s}function f(t){let e=null;const i=b(t),n=!i.baseLayers.length;for(const r in l["a"]){const t=O(i,g(l["a"][r]),{mustMatchReferences:n});if("equal"===t){e=r;break}"base-layers-equal"===t&&(e=r)}return e}function b(t){return t?!t.loaded&&t.resourceInfo?g(t.resourceInfo.data):{baseLayers:y(t.baseLayers),referenceLayers:y(t.referenceLayers)}:null}function y(t){return(s["a"].isCollection(t)?t.toArray():t).map(m)}function m(t){return{type:t.type,url:x("urlTemplate"in t&&t.urlTemplate||t.url||"styleUrl"in t&&t.styleUrl),minScale:"minScale"in t&&null!=t.minScale?t.minScale:0,maxScale:"maxScale"in t&&null!=t.maxScale?t.maxScale:0,opacity:null!=t.opacity?t.opacity:1,visible:null==t.visible||!!t.visible}}function g(t){return t?{baseLayers:v(t.baseMapLayers.filter(t=>!t.isReference)),referenceLayers:v(t.baseMapLayers.filter(t=>t.isReference))}:null}function v(t){return t.map(t=>w(t))}function w(t){let e;switch(t.layerType){case"VectorTileLayer":e="vector-tile";break;case"ArcGISTiledMapServiceLayer":e="tile";break;default:e="unknown"}return{type:e,url:x(t.templateUrl||t.urlTemplate||t.styleUrl||t.url),minScale:null!=t.minScale?t.minScale:0,maxScale:null!=t.maxScale?t.maxScale:0,opacity:null!=t.opacity?t.opacity:1,visible:null==t.visibility||!!t.visibility}}function O(t,e,i){return null!=t!=(null!=e)?"not-equal":t?j(t.baseLayers,e.baseLayers)?j(t.referenceLayers,e.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function j(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!_(t[i],e[i]))return!1;return!0}function _(t,e){return t.type===e.type&&t.url===e.url&&t.minScale===e.minScale&&t.maxScale===e.maxScale&&t.visible===e.visible&&t.opacity===e.opacity}function x(t){return t?Object(a["D"])(t).replace(/^\s*https?:/i,"").toLowerCase():""}},"521c":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("d386")),c=i("09db"),l=i("3af1"),u=i("3760"),h=i("4ae5"),d=i("5996"),p=i("f8d4"),f=i("3723");function b(t){return!Array.isArray(t[0])}let y=n=class extends u["a"]{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){let i,n,r=null,s=null;return t&&!Array.isArray(t)?(r=t.paths?t.paths:null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),i=t.hasZ,n=t.hasM):r=t,r=r||[],e=e||d["a"].WGS84,r.length&&r[0]&&null!=r[0][0]&&"number"==typeof r[0][0]&&(r=[r]),s=r[0]&&r[0][0],s&&(void 0===i&&void 0===n?(i=s.length>2,n=!1):void 0===i?i=!n&&s.length>3:void 0===n&&(n=!i&&s.length>3)),{paths:r,spatialReference:e,hasZ:i,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=Object(p["c"])(this);if(!e)return null;const i=new l["a"](e);return i.spatialReference=t,i}writePaths(t,e){e.paths=Object(s["a"])(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(b(t)){const n=[];for(let e=0,i=t.length;e<i;e++)n[e]=t[e].toArray();e[i]=n}else e[i]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new n;return t.spatialReference=this.spatialReference,t.paths=Object(s["a"])(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],n=this.hasZ,r=this.hasM;return n&&!r?new h["a"](i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new h["a"](i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new h["a"](i[0],i[1],i[2],i[3],this.spatialReference):new h["a"](i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(Object(f["a"])(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,n=e.map(t=>new h["a"](t,i));return this.notifyChange("paths"),n}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new h["a"](this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(Object(f["a"])(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(null==t||t<0||t>=this.paths.length)return!1;if(null!=e){const n=this.paths[t];if(i&&(e<0||e>n.length))return!1;if(!i&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write({},t)}};Object(r["a"])([Object(o["b"])({readOnly:!0})],y.prototype,"cache",null),Object(r["a"])([Object(o["b"])({readOnly:!0})],y.prototype,"extent",null),Object(r["a"])([Object(o["b"])({type:[[[Number]]],json:{write:{isRequired:!0}}})],y.prototype,"paths",void 0),Object(r["a"])([Object(c["a"])("paths")],y.prototype,"writePaths",null),y=n=Object(r["a"])([Object(a["a"])("esri.geometry.Polyline")],y),y.prototype.toJSON.isDefaultToJSON=!0;const m=y},"53ca":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0");function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}},"549b":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("a4ee"),r=(i("e06a"),i("6a0e")),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0")),a=i("d386"),c=i("a9ab"),l=i("521c");let u=class extends r["a"]{constructor(t){super(t),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],u.prototype,"extendHow",void 0),Object(n["a"])([Object(s["b"])({type:[l["a"]],json:{read:{reader:t=>t?t.map(t=>Object(c["a"])(t)):null},write:{writer:(t,e)=>{e.polylines=t.map(t=>t.toJSON())}}}})],u.prototype,"polylines",void 0),Object(n["a"])([Object(s["b"])({json:{read:{reader:t=>t?Object(c["a"])(t):null},write:{writer:(t,e)=>{e.trimExtendTo=t.toJSON()}}}})],u.prototype,"trimExtendTo",void 0),u=Object(n["a"])([Object(a["a"])("esri.rest.support.TrimExtendParameters")],u),u.from=Object(o["m"])(u);const h=u},"54b4":function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return w})),i.d(e,"e",(function(){return d})),i.d(e,"f",(function(){return p})),i.d(e,"g",(function(){return m})),i.d(e,"h",(function(){return g})),i.d(e,"i",(function(){return b})),i.d(e,"j",(function(){return v}));var n=i("b2b2"),r=i("e041"),s=i("fcf2");const o={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},a=Object.values(o),c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${a.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function h(t){return!!c.test(t)}function d(t){const e=Object(r["K"])(t),i=e.path.match(c)||e.path.match(l);if(!i)return null;const[,n,s,a,u]=i,h=s.indexOf("/");return{title:f(-1!==h?s.slice(h+1):s),serverType:o[a.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:n}}}function p(t){const e=Object(r["K"])(t).path.match(u);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function f(t){return(t=t.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function b(t,e){const i=[];if(t){const e=d(t);Object(n["l"])(e)&&e.title&&i.push(e.title)}if(e){const t=f(e);i.push(t)}if(2===i.length){if(-1!==i[0].toLowerCase().indexOf(i[1].toLowerCase()))return i[0];if(-1!==i[1].toLowerCase().indexOf(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function y(t){if(!t)return!1;const e=".arcgis.com/",i="//services",n="//tiles",r="//features",s=-1!==(t=t.toLowerCase()).indexOf(e),o=-1!==t.indexOf(i)||-1!==t.indexOf(n)||-1!==t.indexOf(r);return s&&o}function m(t,e){return t?Object(r["I"])(Object(r["H"])(t,e)):t}function g(t){let{url:e}=t;if(!e)return{url:e};e=Object(r["H"])(e,t.logger);const i=Object(r["K"])(e),s=d(i.path);let o;if(Object(n["l"])(s))null!=s.sublayer&&null==t.layer.layerId&&(o=s.sublayer),e=s.url.path;else if(t.nonStandardUrlAllowed){const t=p(i.path);Object(n["l"])(t)&&(e=t.serviceUrl,o=t.sublayerId)}return{url:Object(r["I"])(e),layerId:o}}function v(t,e,i,n,o){Object(s["f"])(e,n,"url",o),n.url&&null!=t.layerId&&(n.url=Object(r["z"])(n.url,i,t.layerId.toString()))}function w(t){if(!t)return!1;const e=t.toLowerCase(),i=-1!==e.indexOf("/services/"),n=-1!==e.indexOf("/mapserver/wmsserver"),r=-1!==e.indexOf("/imageserver/wmsserver"),s=-1!==e.indexOf("/wmsserver");return i&&(n||r||s)}},"556f":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("ecd7");function r(t){t.length=0}class s{constructor(t=50,e=50){this._pool=new n["a"](Array,void 0,r,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return o.acquire()}static release(t){return o.release(t)}static prune(){o.prune()}}const o=new s(100)},5692:function(t,e,i){var n=i("c430"),r=i("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.0",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,i){var n=i("d066"),r=i("e330"),s=i("241c"),o=i("7418"),a=i("825a"),c=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(a(t)),i=o.f;return i?c(e,i(t)):e}},5715:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("c120");var n=i("e92d"),r=i("6706"),s=i("7dcb");n["a"].getLogger("esri.views.interactive.snapping.hints.RightAngleSnappingHint");class o extends s["a"]{constructor(t,e,i){super(),this.previousVertex=t,this.centerVertex=e,this.nextVertex=i}equals(t){return t instanceof o&&Object(r["d"])(this.previousVertex,t.previousVertex)&&Object(r["d"])(this.centerVertex,t.centerVertex)&&Object(r["d"])(this.nextVertex,t.nextVertex)}}},"577e":function(t,e,i){var n=i("da84"),r=i("f5df"),s=n.String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return s(t)}},"57dc":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("d386")),c=i("09db"),l=i("3af1"),u=i("3760"),h=i("4ae5"),d=i("3723");function p(t){return(e,i)=>null==e?i:null==i?e:t(e,i)}function f(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}let b=n=class extends u["a"]{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return null;const i={};Array.isArray(t)?(i.points=t,i.spatialReference=e):f(t)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));const n=i.points&&i.points[0];return n&&(void 0===i.hasZ&&void 0===i.hasM?(i.hasZ=n.length>2,i.hasM=!1):void 0===i.hasZ?i.hasZ=n.length>3:void 0===i.hasM&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new l["a"],i=this.hasZ,n=this.hasM,r=i?3:2,s=t[0],o=p(Math.min),a=p(Math.max);let c,u,h,d,[f,b]=s,[y,m]=s;for(let l=0,p=t.length;l<p;l++){const e=t[l],[s,p]=e;if(f=o(f,s),b=o(b,p),y=a(y,s),m=a(m,p),i&&e.length>2){const t=e[2];c=o(c,t),h=a(h,t)}if(n&&e.length>r){const t=e[r];u=o(u,t),d=a(d,t)}}return e.xmin=f,e.ymin=b,e.xmax=y,e.ymax=m,e.spatialReference=this.spatialReference,i?(e.zmin=c,e.zmax=h):(e.zmin=null,e.zmax=null),n?(e.mmin=u,e.mmax=d):(e.mmin=null,e.mmax=null),e}writePoints(t,e){e.points=Object(s["a"])(this.points)}addPoint(t){return Object(d["a"])(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:Object(s["a"])(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new n(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=e[2],n=3),this.hasM&&(i.m=e[n]),new h["a"](i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new h["a"](this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(Object(d["a"])(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};Object(r["a"])([Object(o["b"])({readOnly:!0})],b.prototype,"cache",null),Object(r["a"])([Object(o["b"])()],b.prototype,"extent",null),Object(r["a"])([Object(o["b"])({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0),Object(r["a"])([Object(c["a"])("points")],b.prototype,"writePoints",null),b=n=Object(r["a"])([Object(a["a"])("esri.geometry.Multipoint")],b),b.prototype.toJSON.isDefaultToJSON=!0;const y=b},"57e5":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("32ed");function r(t){return t?s(t.rings,t.hasZ):null}function s(t,e){if(!t||!t.length)return null;const i=[],n=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,a=t.length;s<a;s++){const i=o(t[s],e,r);i&&n.push(i)}if(n.sort((t,i)=>{let n=t[2]-i[2];return 0===n&&e&&(n=t[4]-i[4]),n}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],e&&(i[2]=n[0][3]),(i[0]<r[0]||i[0]>r[1]||i[1]<r[2]||i[1]>r[3]||e&&(i[2]<r[4]||i[2]>r[5]))&&(i.length=0)),!i.length){const n=t[0]&&t[0].length?a(t[0],e):null;if(!n)return null;i[0]=n[0],i[1]=n[1],e&&n.length>2&&(i[2]=n[2])}return i}function o(t,e,i){let n=0,r=0,s=0,o=0,a=0;const c=t.length?t[0][0]:0,l=t.length?t[0][1]:0,u=t.length&&e?t[0][2]:0;for(let d=0;d<t.length;d++){const h=t[d],p=t[(d+1)%t.length],[f,b,y]=h,m=f-c,g=b-l,v=e?y-u:void 0,[w,O,j]=p,_=w-c,x=O-l,S=e?j-u:void 0,M=m*x-_*g;if(o+=M,n+=(m+_)*M,r+=(g+x)*M,e&&h.length>2&&p.length>2){const t=m*S-_*v;s+=(v+S)*t,a+=t}f<i[0]&&(i[0]=f),f>i[1]&&(i[1]=f),b<i[2]&&(i[2]=b),b>i[3]&&(i[3]=b),e&&(y<i[4]&&(i[4]=y),y>i[5]&&(i[5]=y))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const h=[n/(6*o)+c,r/(6*o)+l,o];return e&&(i[4]===i[5]||0===a?(h[3]=(i[4]+i[5])/2,h[4]=0):(h[3]=s/(6*a)+u,h[4]=a)),h}function a(t,e){const i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,o=0,a=0,c=0;for(let l=0,u=t.length;l<u-1;l++){const u=t[l],h=t[l+1];if(u&&h){i[0]=u[0],i[1]=u[1],r[0]=h[0],r[1]=h[1],e&&u.length>2&&h.length>2&&(i[2]=u[2],r[2]=h[2]);const t=Object(n["c"])(i,r);if(t){s+=t;const i=Object(n["d"])(u,h);o+=t*i[0],a+=t*i[1],e&&i.length>2&&(c+=t*i[2])}}}return s>0?e?[o/s,a/s,c/s]:[o/s,a/s]:t.length?t[0]:null}},5815:function(t,e,i){"use strict";i.d(e,"a",(function(){return w})),i.d(e,"b",(function(){return v})),i.d(e,"c",(function(){return I}));var n=i("b2b2"),r=i("2ab7"),s=i("2ff3"),o=i("8a44"),a=i("f4cc"),c=i("b0ea");class l{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class u{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let h=0,d=0;const p={time:Object(c["a"])(0),deltaTime:Object(c["a"])(0),elapsedFrameTime:Object(c["a"])(0),frameDuration:Object(c["a"])(0)},f=["prepare","preRender","render","postRender","update"],b=[],y=new o["a"];class m{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const g={frameTasks:y,willDispatch:!1,clearFrameTasks:j,dispatch:k,executeFrameTasks:x};function v(t){const e=new u(t);return b.push(e),g.willDispatch||(g.willDispatch=!0,Object(r["a"])(k)),e}function w(t){const e=new l(t);return y.push(e),null==O&&(h=performance.now(),O=requestAnimationFrame(_)),new m(e)}let O=null;function j(t=!1){y.forAll(t=>{t.removed=!0}),t&&M()}function _(){const t=performance.now();O=null,O=y.length>0?requestAnimationFrame(_):null,g.executeFrameTasks(t)}function x(t){const e=Object(c["a"])(t-h);h=t;const i=d>0?d:1e3/60,n=Math.max(0,e-i);for(let r=0;r<f.length;r++){const s=performance.now(),o=f[r];y.forAll(s=>{var a;s.paused||s.removed||(0===r&&s.ticks++,s.phases[o]&&(p.time=t,p.deltaTime=0===s.ticks?Object(c["a"])(0):e,p.elapsedFrameTime=Object(c["a"])(performance.now()-t),p.frameDuration=Object(c["a"])(i-n),null==(a=s.phases[o])||a.call(s,p)))}),T[r].record(performance.now()-s)}M(),E.record(performance.now()-t)}const S=new o["a"];function M(){y.forAll(t=>{t.removed&&S.push(t)}),y.removeUnorderedMany(S.data,S.length),S.clear()}function k(){for(;b.length;){const t=Object(n["d"])(b.shift());t.isActive&&t.callback()}g.willDispatch=!1}function I(t=1,e){const i=Object(a["f"])(),n=()=>{Object(a["m"])(e)?i.reject(Object(a["d"])()):0===t?i():(--t,Object(r["a"])(()=>n()))};return n(),i.promise}const T=f.map(t=>new s["a"](t)),E=new s["a"]("total")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("e330"),r=i("1d80"),s=i("577e"),o=i("5899"),a=n("".replace),c="["+o+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),h=function(t){return function(e){var i=s(r(e));return 1&t&&(i=a(i,l,"")),2&t&&(i=a(i,u,"")),i}};t.exports={start:h(1),end:h(2),trim:h(3)}},5926:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){var e=+t;return e!==e||0===e?0:(e>0?n:i)(e)}},5970:function(t,e,i){"use strict";i.d(e,"a",(function(){return M})),i.d(e,"b",(function(){return S}));i("c120");var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("448d")),c=i("d386"),l=i("6a0e");i("b50f");let u=n=class extends l["a"]{constructor(t){super(t),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(r["a"])([Object(o["b"])({type:[String,Number],json:{write:!0}})],u.prototype,"code",void 0),u=n=Object(r["a"])([Object(c["a"])("esri.layers.support.CodedValue")],u);const h=u;var d=i("fa8a");const p=new d["a"]({inherited:"inherited",codedValue:"coded-value",range:"range"});let f=class extends l["a"]{constructor(t){super(t),this.name=null,this.type=null}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],f.prototype,"name",void 0),Object(r["a"])([Object(a["a"])(p)],f.prototype,"type",void 0),f=Object(r["a"])([Object(c["a"])("esri.layers.support.Domain")],f);const b=f;var y;let m=y=class extends b{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let e=null;if(this.codedValues){const i=String(t);this.codedValues.some(t=>(String(t.code)===i&&(e=t.name),!!e))}return e}clone(){return new y({codedValues:Object(s["a"])(this.codedValues),name:this.name})}};Object(r["a"])([Object(o["b"])({type:[h],json:{write:!0}})],m.prototype,"codedValues",void 0),Object(r["a"])([Object(a["a"])({codedValue:"coded-value"})],m.prototype,"type",void 0),m=y=Object(r["a"])([Object(c["a"])("esri.layers.support.CodedValueDomain")],m);const g=m;var v;i("e92d"),i("2dd4");let w=v=class extends b{constructor(t){super(t),this.type="inherited"}clone(){return new v}};Object(r["a"])([Object(a["a"])({inherited:"inherited"})],w.prototype,"type",void 0),w=v=Object(r["a"])([Object(c["a"])("esri.layers.support.InheritedDomain")],w);const O=w;var j;let _=j=class extends b{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new j({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};Object(r["a"])([Object(o["b"])({type:Number,json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range&&e.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]}}}})],_.prototype,"maxValue",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range&&e.range[0]},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]}}}})],_.prototype,"minValue",void 0),Object(r["a"])([Object(a["a"])({range:"range"})],_.prototype,"type",void 0),_=j=Object(r["a"])([Object(c["a"])("esri.layers.support.RangeDomain")],_);const x=_,S={key:"type",base:b,typeMap:{range:x,"coded-value":g,inherited:O}};function M(t){if(!t||!t.type)return null;switch(t.type){case"range":return x.fromJSON(t);case"codedValue":return g.fromJSON(t);case"inherited":return O.fromJSON(t)}return null}},5986:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("fc29"),o=i("a5d8"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386"));let l=n=class extends(Object(o["a"])(s["a"])){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};Object(r["a"])([Object(a["b"])()],l.prototype,"active",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"className",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"disabled",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"id",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"indicator",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"title",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"type",void 0),Object(r["a"])([Object(a["b"])()],l.prototype,"visible",void 0),l=n=Object(r["a"])([Object(c["a"])("esri.support.actions.ActionBase")],l);const u=l},5996:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("6a0e"),o=i("7ffa"),a=i("cea0"),c=i("59b2"),l=i("d386"),u=i("09db"),h=i("7f83");let d=n=class extends s["a"]{constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(t){if(!t)return null;if(t.wkid){if(102100===t.wkid)return n.WebMercator;if(4326===t.wkid)return n.WGS84}const e=new n;return e.read(t),e}normalizeCtorArgs(t){return t&&"object"==typeof t?t:{["string"==typeof t?"wkt":"wkid"]:t}}get isWGS84(){return Object(h["m"])(this)}get isWebMercator(){return Object(h["p"])(this)}get isGeographic(){return Object(h["h"])(this)}get isWrappable(){return Object(h["q"])(this)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===n.WGS84)return n.WGS84;if(this===n.WebMercator)return n.WebMercator;const t=new n;return null!=this.wkid?(t.wkid=this.wkid,null!=this.latestWkid&&(t.latestWkid=this.latestWkid),null!=this.vcsWkid&&(t.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(t.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(t.wkt=this.wkt),this.imageCoordinateSystem&&(t.imageCoordinateSystem=Object(o["a"])(this.imageCoordinateSystem)),t}equals(t){if(null==t)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==t.imageCoordinateSystem)return!1;const{id:e,referenceServiceName:i}=t.imageCoordinateSystem,{geodataXform:n}=t.imageCoordinateSystem,r=this.imageCoordinateSystem;return null==e||n?JSON.stringify(r)===JSON.stringify(t.imageCoordinateSystem):i?r.id===e&&r.referenceServiceName===i:r.id===e}return Object(h["d"])(this,t)}toJSON(t){return this.write(void 0,t)}};d.GCS_NAD_1927=null,d.WGS84=null,d.WebMercator=null,d.PlateCarree=null,Object(r["a"])([Object(c["b"])({readOnly:!0})],d.prototype,"isWGS84",null),Object(r["a"])([Object(c["b"])({readOnly:!0})],d.prototype,"isWebMercator",null),Object(r["a"])([Object(c["b"])({readOnly:!0})],d.prototype,"isGeographic",null),Object(r["a"])([Object(c["b"])({readOnly:!0})],d.prototype,"isWrappable",null),Object(r["a"])([Object(c["b"])({type:a["a"],json:{write:!0}})],d.prototype,"latestWkid",void 0),Object(r["a"])([Object(c["b"])({type:a["a"],json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],d.prototype,"wkid",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],d.prototype,"wkt",void 0),Object(r["a"])([Object(u["a"])("wkt"),Object(u["a"])("web-scene","wkt")],d.prototype,"writeWkt",null),Object(r["a"])([Object(c["b"])({type:a["a"],json:{write:!0}})],d.prototype,"vcsWkid",void 0),Object(r["a"])([Object(c["b"])({type:a["a"],json:{write:!0}})],d.prototype,"latestVcsWkid",void 0),Object(r["a"])([Object(c["b"])()],d.prototype,"imageCoordinateSystem",void 0),d=n=Object(r["a"])([Object(l["a"])("esri.geometry.SpatialReference")],d),d.prototype.toJSON.isDefaultToJSON=!0,d.GCS_NAD_1927=new d({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),d.WGS84=new d(h["b"]),d.WebMercator=new d(h["c"]),d.PlateCarree=new d(h["a"]),Object.freeze&&(Object.freeze(d.GCS_NAD_1927),Object.freeze(d.WGS84),Object.freeze(d.WebMercator));const p=d},"59b2":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return l}));var n=i("e92d"),r=i("cea0"),s=i("9d9d"),o=i("7af8"),a=i("2dd4");function c(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const c=Object.getOwnPropertyDescriptor(e,i),l=Object(o["b"])(e,i);c&&(c.get||c.set?(l.get=c.get||l.get,l.set=c.set||l.set):"value"in c&&("value"in t&&n["a"].getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),l.value=t.value=c.value)),null!=t.readOnly&&(l.readOnly=t.readOnly);const d=t.aliasOf;if(d){const t="string"==typeof d?d:d.source,e="string"==typeof d?null:!0===d.overridable;let n;l.dependsOn=[t],l.get=function(){let e=Object(s["b"])(this,t);if("function"==typeof e){n||(n=t.split(".").slice(0,-1).join("."));const i=Object(s["b"])(this,n);i&&(e=e.bind(i))}return e},l.readOnly||(l.set=e?function(t){void 0!==t?this._override(i,t):this._clearOverride(i)}:function(e){Object(a["a"])(this,t,e)})}const p=t.type,f=t.types;l.cast||(p?l.cast=u(p):f&&(Array.isArray(f)?l.cast=Object(r["c"])(Object(r["k"])(f[0])):l.cast=Object(r["k"])(f))),t.range&&(l.cast=h(l.cast,t.range)),Object(o["c"])(l,t)}}function l(t,e,i){const n=Object(o["b"])(t,i);n.json||(n.json={});let r=n.json;return void 0!==e&&(r.origins||(r.origins={}),r.origins[e]||(r.origins[e]={}),r=r.origins[e]),r}function u(t){let e=0,i=t;if(Object(r["n"])(t))return Object(r["f"])(t);for(;Array.isArray(i)&&1===i.length&&"string"!=typeof i[0]&&"number"!=typeof i[0];)i=i[0],e++;const n=i;if(Object(r["o"])(n))return 0===e?Object(r["j"])(n):Object(r["h"])(Object(r["j"])(n),e);if(1===e)return Object(r["b"])(n);if(e>1)return Object(r["g"])(n,e);const s=t;return s.from?s.from:Object(r["m"])(s)}function h(t,e){return i=>{let n=+t(i);return null!=e.step&&(n=Math.round(n/e.step)*e.step),null!=e.min&&(n=Math.max(e.min,n)),null!=e.max&&(n=Math.min(e.max,n)),n}}},"59ed":function(t,e,i){var n=i("da84"),r=i("1626"),s=i("0d51"),o=n.TypeError;t.exports=function(t){if(r(t))return t;throw o(s(t)+" is not a function")}},"5a61":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0")),c=i("448d"),l=i("d386");let u=n=class extends s["a"]{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new n({mapLayerId:t,gdbVersion:e})}};Object(r["a"])([Object(c["a"])({mapLayer:"map-layer"})],u.prototype,"type",void 0),Object(r["a"])([Object(o["b"])({type:a["a"],json:{write:!0}})],u.prototype,"mapLayerId",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=n=Object(r["a"])([Object(l["a"])("esri.layers.support.source.MapLayerSource")],u)},"5a62":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386"));const o=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return Object(n["a"])([Object(r["b"])({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),Object(n["a"])([Object(r["b"])({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),Object(n["a"])([Object(r["b"])({readOnly:!0})],e.prototype,"scaleRangeId",null),e=Object(n["a"])([Object(s["a"])("esri.layers.mixins.ScaleRangeLayer")],e),e}},"5ab2":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var n=i("e6c2");const r={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{"-"===e.charAt(0)?t.style.setProperty(e,i):t.style[e]=i}};let s=t=>Object(n["c"])(r,t),o={create:(t,e)=>(e=s(e),Object(n["a"])(t,document.createElement("div"),void 0,e),Object(n["b"])(t,e)),append:(t,e,i)=>(i=s(i),Object(n["a"])(e,t,void 0,i),Object(n["b"])(e,i)),insertBefore:(t,e,i)=>(i=s(i),Object(n["a"])(e,t.parentNode,t,i),Object(n["b"])(e,i)),merge:(t,e,i)=>(i=s(i),e.domNode=t,Object(n["d"])(t,e,i),Object(n["b"])(e,i)),replace:(t,e,i)=>(i=s(i),Object(n["a"])(e,t.parentNode,t,i),t.parentNode.removeChild(t),Object(n["b"])(e,i))}},"5b83":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("d611");let c=n=class extends a["a"]{constructor(){super(...arguments),this.showLegend=null}clone(){return new n({title:this.title,showLegend:this.showLegend})}};Object(r["a"])([Object(s["b"])({type:Boolean,json:{write:!0}})],c.prototype,"showLegend",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],c);const l=c},"5bd5":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return Ze}));var n=i("a4ee"),r=i("4856"),s=(i("b423"),i("261a"),i("b48d"),i("478c"),i("667b"),i("ff57")),o=i("da00"),a=i("f976"),c=i("5cdb"),l=i("2eab"),u=i("1fd7"),h=i("2c4f"),d=i("ce50"),p=i("af40"),f=i("c120"),b=i("fa8a"),y=i("e92d"),m=i("b2b2"),g=i("e694"),v=i("9d1d"),w=i("f4cc");async function O(t,e){const{WhereClause:n}=await i.e("chunk-2d0d03a7").then(i.bind(null,"66a2"));return n.create(t,e)}var j,_=i("e041"),x=i("59b2"),S=(i("b50f"),i("1a3e")),M=i("afcf"),k=i("d386"),I=i("09db"),T=i("0b86"),E=i("6a0e"),A=i("7ffa"),C=i("cea0");let P=j=class extends E["a"]{constructor(t){super(t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new j({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],P.prototype,"expression",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],P.prototype,"name",void 0),Object(n["a"])([Object(x["b"])({type:["boolean"],json:{write:!0}})],P.prototype,"returnType",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],P.prototype,"title",void 0),P=j=Object(n["a"])([Object(k["a"])("esri.form.ExpressionInfo")],P);const R=P;let L=class extends E["a"]{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],L.prototype,"description",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],L.prototype,"label",void 0),Object(n["a"])([Object(x["b"])()],L.prototype,"type",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],L.prototype,"visibilityExpression",void 0),L=Object(n["a"])([Object(k["a"])("esri.form.elements.Element")],L);const N=L;var F;let D=F=class extends E["a"]{constructor(t){super(t),this.type=null}clone(){return new F({type:this.type})}};Object(n["a"])([Object(x["b"])({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],D.prototype,"type",void 0),D=F=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.AttachmentInput")],D);const z=D;var V;let $=V=class extends N{constructor(t){super(t),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new V({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],$.prototype,"attachmentKeyword",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{write:!0}})],$.prototype,"editable",void 0),Object(n["a"])([Object(x["b"])({type:z,json:{read:{source:"inputType"},write:{target:"inputType"}}})],$.prototype,"input",void 0),Object(n["a"])([Object(x["b"])({type:["attachment"],json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=V=Object(n["a"])([Object(k["a"])("esri.form.elements.AttachmentElement")],$);const G=$;let U=class extends E["a"]{constructor(t){super(t),this.type=null}};Object(n["a"])([Object(x["b"])()],U.prototype,"type",void 0),U=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.Input")],U);const q=U;let B=class extends q{constructor(t){super(t),this.maxLength=null,this.minLength=0}};Object(n["a"])([Object(x["b"])({type:Number,json:{write:!0}})],B.prototype,"maxLength",void 0),Object(n["a"])([Object(x["b"])({type:Number,json:{write:!0}})],B.prototype,"minLength",void 0),B=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.TextInput")],B);const H=B;var W;let J=W=class extends H{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new W({maxLength:this.maxLength,minLength:this.minLength})}};Object(n["a"])([Object(x["b"])({type:["barcode-scanner"],json:{read:!1,write:!0}})],J.prototype,"type",void 0),J=W=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.BarcodeScannerInput")],J);const K=J;var Y;let Z=Y=class extends q{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new Y({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],Z.prototype,"noValueOptionLabel",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{write:!0}})],Z.prototype,"showNoValueOption",void 0),Object(n["a"])([Object(x["b"])({type:["combo-box"],json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=Y=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.ComboBoxInput")],Z);const X=Z;var Q;function tt(t){return null!=t?new Date(t):null}function et(t){return t?t.getTime():null}let it=Q=class extends q{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,e){return tt(e.max)}writeMax(t,e){e.max=et(t)}readMin(t,e){return tt(e.min)}writeMin(t,e){e.min=et(t)}clone(){return new Q({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};Object(n["a"])([Object(x["b"])({type:Boolean,json:{write:!0}})],it.prototype,"includeTime",void 0),Object(n["a"])([Object(x["b"])({type:Date,json:{type:Number,write:!0}})],it.prototype,"max",void 0),Object(n["a"])([Object(M["a"])("max")],it.prototype,"readMax",null),Object(n["a"])([Object(I["a"])("max")],it.prototype,"writeMax",null),Object(n["a"])([Object(x["b"])({type:Date,json:{type:Number,write:!0}})],it.prototype,"min",void 0),Object(n["a"])([Object(M["a"])("min")],it.prototype,"readMin",null),Object(n["a"])([Object(I["a"])("min")],it.prototype,"writeMin",null),Object(n["a"])([Object(x["b"])({type:["datetime-picker"],json:{read:!1,write:!0}})],it.prototype,"type",void 0),it=Q=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.DateTimePickerInput")],it);const nt=it;var rt;let st=rt=class extends q{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new rt({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],st.prototype,"noValueOptionLabel",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{write:!0}})],st.prototype,"showNoValueOption",void 0),Object(n["a"])([Object(x["b"])({type:["radio-buttons"],json:{read:!1,write:!0}})],st.prototype,"type",void 0),st=rt=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.RadioButtonsInput")],st);const ot=st;var at;let ct=at=class extends q{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new at({offValue:this.offValue,onValue:this.onValue})}};Object(n["a"])([Object(x["b"])({type:[String,Number],json:{write:!0}})],ct.prototype,"offValue",void 0),Object(n["a"])([Object(x["b"])({type:[String,Number],json:{write:!0}})],ct.prototype,"onValue",void 0),Object(n["a"])([Object(x["b"])({type:["switch"],json:{read:!1,write:!0}})],ct.prototype,"type",void 0),ct=at=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.SwitchInput")],ct);const lt=ct;var ut;let ht=ut=class extends H{constructor(t){super(t),this.type="text-area"}clone(){return new ut({maxLength:this.maxLength,minLength:this.minLength})}};Object(n["a"])([Object(x["b"])({type:["text-area"],json:{read:!1,write:!0}})],ht.prototype,"type",void 0),ht=ut=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.TextAreaInput")],ht);const dt=ht;var pt;let ft=pt=class extends H{constructor(t){super(t),this.type="text-box"}clone(){return new pt({maxLength:this.maxLength,minLength:this.minLength})}};Object(n["a"])([Object(x["b"])({type:["text-box"],json:{read:!1,write:!0}})],ft.prototype,"type",void 0),ft=pt=Object(n["a"])([Object(k["a"])("esri.form.elements.inputs.TextBoxInput")],ft);const bt=ft,yt={base:q,key:"type",typeMap:{"barcode-scanner":K,"combo-box":X,"datetime-picker":nt,"radio-buttons":ot,switch:lt,"text-area":dt,"text-box":bt}};var mt,gt=i("5970");let vt=mt=class extends N{constructor(t){super(t),this.domain=null,this.editable=!0,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field"}clone(){return new mt({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})}};Object(n["a"])([Object(x["b"])({types:gt["b"],json:{read:{reader:gt["a"]},write:!0}})],vt.prototype,"domain",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{write:!0}})],vt.prototype,"editable",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],vt.prototype,"fieldName",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],vt.prototype,"hint",void 0),Object(n["a"])([Object(x["b"])({types:yt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],vt.prototype,"input",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],vt.prototype,"requiredExpression",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{read:!1,write:!0}})],vt.prototype,"type",void 0),vt=mt=Object(n["a"])([Object(k["a"])("esri.form.elements.FieldElement")],vt);const wt=vt;var Ot,jt=i("a2e5");let _t=Ot=class extends N{constructor(t){super(t),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Ot({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:Object(A["a"])(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};Object(n["a"])([Object(x["b"])({type:Number,json:{write:!0}})],_t.prototype,"displayCount",void 0),Object(n["a"])([Object(x["b"])({type:["list"],json:{write:!0}})],_t.prototype,"displayType",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{write:!0}})],_t.prototype,"editable",void 0),Object(n["a"])([Object(x["b"])({type:[jt["a"]],json:{write:!0}})],_t.prototype,"orderByFields",void 0),Object(n["a"])([Object(x["b"])({type:Number,json:{write:!0}})],_t.prototype,"relationshipId",void 0),Object(n["a"])([Object(x["b"])({type:["relationship"],json:{read:!1,write:!0}})],_t.prototype,"type",void 0),_t=Ot=Object(n["a"])([Object(k["a"])("esri.form.elements.RelationshipElement")],_t);const xt=_t;function St(t){return{typesWithGroup:{base:N,key:"type",typeMap:{attachment:G,field:wt,group:t,relationship:xt}},typesWithoutGroup:{base:N,key:"type",typeMap:{attachment:G,field:wt,relationship:xt}}}}function Mt(t,e,i=!0){if(!t)return null;const n=i?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter(t=>n[t.type]).map(t=>n[t.type].fromJSON(t))}function kt(t,e,i=!0){if(!t)return null;const n=i?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter(t=>n[t.type]).map(t=>t.toJSON())}function It(t,e,i=!0){return t?t.map(t=>Object(C["k"])(i?e.typesWithGroup:e.typesWithoutGroup,t)):null}var Tt;let Et=Tt=class extends N{constructor(t){super(t),this.elements=null,this.initialState="expanded",this.type="group"}castElements(t){return It(t,At,!1)}readElements(t,e){return Mt(e.formElements,At,!1)}writeElements(t,e){e.formElements=kt(t,At,!1)}clone(){return new Tt({description:this.description,elements:Object(A["a"])(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};Object(n["a"])([Object(x["b"])({json:{write:!0}})],Et.prototype,"elements",void 0),Object(n["a"])([Object(S["a"])("elements")],Et.prototype,"castElements",null),Object(n["a"])([Object(M["a"])("elements",["formElements"])],Et.prototype,"readElements",null),Object(n["a"])([Object(I["a"])("elements")],Et.prototype,"writeElements",null),Object(n["a"])([Object(x["b"])({type:["collapsed","expanded"],json:{write:!0}})],Et.prototype,"initialState",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{read:!1,write:!0}})],Et.prototype,"type",void 0),Et=Tt=Object(n["a"])([Object(k["a"])("esri.form.elements.GroupElement")],Et);const At=St(Et),Ct=Et;var Pt;const Rt=St(Ct);let Lt=Pt=class extends E["a"]{constructor(t){super(t),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(t){return It(t,Rt)}readElements(t,e){return Mt(e.formElements,Rt)}writeElements(t,e){e.formElements=kt(t,Rt)}clone(){return new Pt({description:this.description,expressionInfos:Object(A["a"])(this.expressionInfos),elements:Object(A["a"])(this.elements),title:this.title})}};Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],Lt.prototype,"description",void 0),Object(n["a"])([Object(x["b"])({json:{write:!0}})],Lt.prototype,"elements",void 0),Object(n["a"])([Object(S["a"])("elements")],Lt.prototype,"castElements",null),Object(n["a"])([Object(M["a"])("elements",["formElements"])],Lt.prototype,"readElements",null),Object(n["a"])([Object(I["a"])("elements")],Lt.prototype,"writeElements",null),Object(n["a"])([Object(x["b"])({type:[R],json:{write:!0}})],Lt.prototype,"expressionInfos",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{write:!0}})],Lt.prototype,"title",void 0),Lt=Pt=Object(n["a"])([Object(k["a"])("esri.form.FormTemplate")],Lt);const Nt=Lt;var Ft=i("3af1"),Dt=i("e64d"),zt=i("5996"),Vt=i("a6a3"),$t=(i("e06a"),i("8d60")),Gt=i("9096"),Ut=i("6d5f"),qt=i("fab3"),Bt=i("dfa0"),Ht=i("cbf3"),Wt=i("003a"),Jt=i("e87c"),Kt=i("2edc"),Yt=i("1219"),Zt=i("74e2");let Xt=0;const Qt=y["a"].getLogger("esri.layers.graphics.sources.MemorySource");let te=class extends(Ut["a"].LoadableMixin(Object(qt["b"])(Object(Gt["b"])(h["a"])))){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const e=Object(m["l"])(t)?t.signal:null;return this.addResolvingPromise(this._startWorker(e)),Promise.resolve(this)}destroy(){var t;null==(t=this._connection)||t.close(),this._connection=null}get workerGeometryType(){var t;const e=null==(t=this.layer)?void 0:t.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,e={}){await this.load(e);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,e);Object(Jt["a"])(t,this.layer.spatialReference,i);const n=Kt["default"].fromJSON(i);if(!this._requiresClientGraphicMapping())return n;const r=this.layer.objectIdField;for(const s of n.features){const t=s.attributes[r],e=this._idToClientGraphic.get(t);e&&(s.geometry=e.geometry)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(t,e={}){if(this._requiresClientGraphicMapping())throw new d["a"]("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(e);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,e);return Object(Jt["a"])(t,this.layer.spatialReference,i),i}queryFeatureCount(t,e={}){return this.load(e).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,e))}queryObjectIds(t,e={}){return this.load(e).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,e))}queryExtent(t,e={}){return this.load(e).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,e)).then(t=>({count:t.count,extent:Ft["a"].fromJSON(t.extent)}))}querySnapping(t,e={}){return this.load(e).then(()=>this._connection.invoke("querySnapping",t,e))}async _applyEdits(t){if(!this._connection)throw new d["a"]("feature-layer-source:edit-failure","Memory source not loaded");const e=this.layer.objectIdField;let i=null;const n=[],r=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const s=t=>"objectId"in t&&null!=t.objectId?t.objectId:"attributes"in t&&null!=t.attributes[e]?t.attributes[e]:null;if(t.addFeatures&&(i=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const l of t.deleteFeatures){const t=s(l);null!=t&&n.push(t)}const o=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures)for(const l of t.updateFeatures)if(r.push(this._serializeFeature(l)),o){const t=s(l);null!=t&&o.set(t,l)}Object(Wt["a"])(i?i.features:null,r,this.layer.spatialReference);const{fullExtent:a,featureEditResults:c}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:r,deletes:n});return this.fullExtent=a,i&&i.finish(c.uidToObjectId),this._updateClientGraphicIds(o,c),this._createEditsResult(c)}async _prepareClientMapping(t,e){if("mesh"!==this.layerOrSourceGeometryType||Object(m["k"])(t))return;const i=[];for(const{geometry:n}of t)!Object(m["l"])(n)||"mesh"!==n.type||n.hasExtent||n.loaded||i.push(n.load({signal:e}));i.length&&await Promise.all(i)}_updateClientGraphicIds(t,e){if(this._idToClientGraphic){if(t)for(const i of e.updateResults){if(!i.success)continue;const e=t.get(i.objectId);null!=e&&this._addIdToClientGraphic(e)}for(const t of e.deleteResults)t.success&&this._idToClientGraphic.delete(t.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const e=!0===t.success?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:e?new d["a"]("feature-layer-source:edit-failure",e.description,{code:e.code}):null}}_prepareAddFeatures(t){const e=new Map,i=new Array(t.length);let n=null;for(let s=0;s<t.length;s++){const r=t[s],o=this._serializeFeature(r);!n&&Object(m["l"])(r.geometry)&&(n=r.geometry.type),i[s]=o,e.set(""+o.uid,r)}const r=this;return{features:i,inferredGeometryType:n,finish(t){const i=r.sourceJSON.objectIdField;for(const n in t){const s=t[n],o=e.get(n);o&&(o.attributes||(o.attributes={}),-1===s?delete o.attributes[i]:o.attributes[i]=s,r._addIdToClientGraphic(o))}}}}_addIdToClientGraphic(t){if(!this._idToClientGraphic)return;const e=this.sourceJSON.objectIdField,i=t.attributes&&t.attributes[e];null!=i&&this._idToClientGraphic.set(i,t)}get layerOrSourceGeometryType(){var t,e,i;return null!=(t=null==(e=this.layer)?void 0:e.geometryType)?t:null==(i=this.sourceJSON)?void 0:i.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return"mesh"===t||"multipatch"===t||"extent"===t}_serializeFeature(t){const{attributes:e}=t,i=this._geometryForSerialization(t),n=(Xt++).toString();return i?{uid:n,geometry:i.toJSON(),attributes:e}:{uid:n,attributes:e}}_geometryForSerialization(t){const{geometry:e}=t;return Object(m["k"])(e)?null:this._geometryRequiresClientGraphicMapping(e)?e.extent?Yt["a"].fromExtent(e.extent):null:e}async _startWorker(t){this._connection=await Object(Bt["b"])("MemorySourceWorker",{strategy:Object(f["a"])("feature-layers-workers")?"dedicated":"local",signal:t});const{fields:e,spatialReference:i,objectIdField:n,hasM:r,hasZ:s,timeInfo:o}=this.layer,a="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,t);const c=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",t=>{Qt.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),t.preventDefault()}));const l={features:c.features,fields:e&&e.map(t=>t.toJSON()),geometryType:Zt["c"].toJSON(this.workerGeometryType),hasM:"mesh"!==this.layerOrSourceGeometryType&&r,hasZ:"mesh"===this.layerOrSourceGeometryType||s,objectIdField:n,spatialReference:a?null:i&&i.toJSON(),timeInfo:o?o.toJSON():null},u=await this._connection.invoke("load",l,{signal:t});for(const d of u.warnings)Qt.warn(d.message,{layer:this.layer,warning:d});u.featureErrors.length&&Qt.warn(`Encountered ${u.featureErrors.length} validation errors while loading features`,u.featureErrors);const h=u.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(c.inferredGeometryType)&&(h.geometryType=Zt["c"].toJSON(c.inferredGeometryType)),this.sourceJSON=h,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),c.finish(u.assignedObjectIds)}};Object(n["a"])([Object(Ht["a"])({Type:$t["a"],ensureType:Object(C["m"])($t["a"])})],te.prototype,"itemType",void 0),Object(n["a"])([Object(x["b"])()],te.prototype,"type",void 0),Object(n["a"])([Object(x["b"])({constructOnly:!0})],te.prototype,"layer",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0})],te.prototype,"workerGeometryType",null),Object(n["a"])([Object(x["b"])()],te.prototype,"sourceJSON",void 0),te=Object(n["a"])([Object(k["a"])("esri.layers.graphics.sources.MemorySource")],te);const ee=te;var ie,ne=i("f46e"),re=i("3d59"),se=i("997b"),oe=i("8b28"),ae=i("662d"),ce=i("b911"),le=i("d9fd"),ue=i("0db5"),he=i("8e17"),de=i("5a62"),pe=i("601a"),fe=i("54b4"),be=i("22f4");let ye=ie=class extends E["a"]{constructor(t){super(t)}clone(){const{name:t,fields:e,isAscending:i,isUnique:n,description:r}=this;return new ie({name:t,fields:e,isAscending:i,isUnique:n,description:r})}};Object(n["a"])([Object(x["b"])({constructOnly:!0})],ye.prototype,"name",void 0),Object(n["a"])([Object(x["b"])({constructOnly:!0})],ye.prototype,"fields",void 0),Object(n["a"])([Object(x["b"])({constructOnly:!0})],ye.prototype,"isAscending",void 0),Object(n["a"])([Object(x["b"])({constructOnly:!0})],ye.prototype,"isUnique",void 0),Object(n["a"])([Object(x["b"])({constructOnly:!0})],ye.prototype,"description",void 0),ye=ie=Object(n["a"])([Object(k["a"])("esri.layers.support.FeatureIndex")],ye);var me=i("05b7"),ge=i("ace4"),ve=i("a2b1"),we=i("2feb"),Oe=i("c1da"),je=i("8048");let _e=class extends E["a"]{constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};Object(n["a"])([Object(x["b"])({type:String,json:{read:{source:"shapeAreaFieldName"}}})],_e.prototype,"shapeAreaField",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{read:{source:"shapeLengthFieldName"}}})],_e.prototype,"shapeLengthField",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{read:t=>je["a"].read(t)||je["j"].read(t)}})],_e.prototype,"units",void 0),_e=Object(n["a"])([Object(k["a"])("esri.layers.support.GeometryFieldsInfo")],_e);const xe=_e;var Se=i("c246"),Me=i("10eb"),ke=i("00c5");const Ie=new b["a"]({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),Te=new b["a"]({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Ee=class extends E["a"]{constructor(t){super(t),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};Object(n["a"])([Object(x["b"])({json:{read:Ie.read,write:Ie.write}})],Ee.prototype,"cardinality",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"composite",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"id",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"keyField",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"keyFieldInRelationshipTable",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"name",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"relatedTableId",void 0),Object(n["a"])([Object(x["b"])({json:{read:!0,write:!0}})],Ee.prototype,"relationshipTableId",void 0),Object(n["a"])([Object(x["b"])({json:{read:Te.read,write:Te.write}})],Ee.prototype,"role",void 0),Ee=Object(n["a"])([Object(k["a"])("esri.layers.support.Relationship")],Ee);const Ae=Ee;var Ce=i("f806"),Pe=i("624c"),Re=i("60ec"),Le=i("ebb2"),Ne=i("69dd"),Fe=i("b742"),De=i("7949"),ze=i("f51b");const Ve=new b["a"]({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),$e={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Ge="FeatureLayer",Ue=y["a"].getLogger("esri.layers.FeatureLayer");function qe(t){return t&&t instanceof h["a"]}function Be(t,e,i){return!!(t&&t.hasOwnProperty(e)?t[e]:i)}function He(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}const We=Object(we["a"])();function Je(t,e,i){const n=!(null==i||!i.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let Ke=class extends(Object(ae["a"])(Object(se["a"])(Object(le["a"])(Object(pe["a"])(Object(de["a"])(Object(he["a"])(Object(re["a"])(Object(ce["a"])(Object(ue["a"])(Object(g["a"])(Object(oe["a"])(Object(ne["a"])(Vt["a"]))))))))))))){constructor(...t){super(...t),this._handles=new p["a"],this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=zt["a"].WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(h["a"].ofType(ye)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var t;null==(t=this.source)||t.destroy(),this._handles=Object(m["e"])(this._handles)}normalizeCtorArgs(t,e){return"string"==typeof t?{url:t,...e}:t}load(t){const e=Object(m["l"])(t)?t.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(e).then(t=>this._initLayerProperties(t)));const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},t).catch(w["t"]).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}if(!this.url&&!this._hasMemorySource())throw new d["a"]("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(e))}).then(()=>this.finishLoadEditablePortalLayer(t));return this.addResolvingPromise(i),Promise.resolve(this)}readCapabilities(t,e){return e=e.layerDefinition||e,{attachment:this._readAttachmentCapabilities(e.attachmentProperties),data:this._readDataCapabilities(e),metadata:this._readMetadataCapabilities(e),operations:this._readOperationsCapabilities(e.capabilities||t,e),query:this._readQueryCapabilities(e),queryRelated:this._readQueryRelatedCapabilities(e),editing:this._readEditingCapabilities(e)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){null!=t?this._override("editingEnabled",t):this._clearOverride("editingEnabled")}readEditingEnabled(t,e){return this._readEditingEnabled(e,!1)}readEditingEnabledFromWebMap(t,e,i){return this._readEditingEnabled(e,!0,i)}writeEditingEnabled(t,e){this._writeEditingEnabled(t,e,!1)}writeEditingEnabledToWebMap(t,e,i,n){this._writeEditingEnabled(t,e,!0,n)}readEditingInfo(t,e){const{editingInfo:i}=e;return i?{lastEditDate:null!=i.lastEditDate?new Date(i.lastEditDate):null}:null}readIsTable(t,e){return"Table"===(e=e&&e.layerDefinition||e).type||!e.geometryType}writeIsTable(t,e,i,n){null!=n&&n.writeLayerSchema&&Object(v["c"])(i,t?"Table":"Feature Layer",e)}readMinScale(t,e){return e.effectiveMinScale||t||0}readMaxScale(t,e){return e.effectiveMaxScale||t||0}readGlobalIdFieldFromService(t,e){if((e=e.layerDefinition||e).globalIdField)return e.globalIdField;if(e.fields)for(const i of e.fields)if("esriFieldTypeGlobalID"===i.type)return i.name}readObjectIdFieldFromService(t,e){if((e=e.layerDefinition||e).objectIdField)return e.objectIdField;if(e.fields)for(const i of e.fields)if("esriFieldTypeOID"===i.type)return i.name}get parsedUrl(){const t=this.url?Object(_["K"])(this.url):null;return null!=t&&(null!=this.dynamicDataSource?t.path=Object(_["z"])(t.path,"dynamicLayer"):null!=this.layerId&&(t.path=Object(_["z"])(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){Object(Oe["k"])(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,e,i){const n=(e=e.layerDefinition||e).drawingInfo&&e.drawingInfo.renderer||void 0;if(n){const t=Object(a["b"])(n,e,i)||void 0;return t||Ue.error("Failed to create renderer",{rendererDefinition:e.drawingInfo.renderer,layer:this,context:i}),t}if(e.defaultSymbol)return e.types&&e.types.length?new o["a"]({defaultSymbol:Ye(e.defaultSymbol,e,i),field:e.typeIdField,uniqueValueInfos:e.types.map(t=>({id:t.id,symbol:Ye(t.symbol,t,i)}))}):new s["a"]({symbol:Ye(e.defaultSymbol,e,i)})}set source(t){const e=this._get("source");e!==t&&(qe(e)&&this._resetMemorySource(e),qe(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof h["a"]?new ee({layer:this,items:t}):t:null}readSource(t,e){const i=Kt["default"].fromJSON(e.featureSet);return new ee({layer:this,items:i&&i.features||[]})}readServiceDefinitionExpression(t,e){return e.definitionQuery||e.definitionExpression}readTemplates(t,e){const i=e.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return t=t&&t.map(t=>ge["a"].fromJSON(t)),this._fixTemplates(t,n),this._fixTemplates(t,r),t}readTitle(t,e){const i=e.layerDefinition&&e.layerDefinition.name||e.name,n=e.title||e.layerDefinition&&e.layerDefinition.title;if(i){const t=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?Object(fe["i"])(this.url,i):i;let e=i;if(!e&&this.url){const t=Object(fe["e"])(this.url);Object(m["l"])(t)&&(e=t.title)}if(!e)return;return"item-title-and-service-name"===this.sublayerTitleMode&&t&&t!==e&&(e=t+" - "+e),Object(fe["a"])(e)}if("item-title"===this.sublayerTitleMode&&n)return n}readTitleFromWebMap(t,e){return e.title||e.layerDefinition&&e.layerDefinition.name}readTypeIdField(t,e){let i=(e=e.layerDefinition||e).typeIdField;if(i&&e.fields){i=i.toLowerCase();const t=e.fields.find(t=>t.name.toLowerCase()===i);t&&(i=t.name)}return i}readTypes(t,e){t=(e=e.layerDefinition||e).types;const i=e.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return t&&t.map(t=>(t=ve["a"].fromJSON(t),this._fixTemplates(t.templates,n),this._fixTemplates(t.templates,r),t))}set url(t){const e=Object(fe["h"])({layer:this,url:t,nonStandardUrlAllowed:!0,logger:Ue});this._set("url",e.url),null!=e.layerId&&this._set("layerId",e.layerId)}writeUrl(t,e,i,n){Object(fe["j"])(this,t,null,e,n)}readVersion(t,e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}readVisible(t,e){return e.layerDefinition&&null!=e.layerDefinition.defaultVisibility?!!e.layerDefinition.defaultVisibility:null!=e.visibility?!!e.visibility:void 0}addAttachment(t,e){return this.load().then(()=>this._checkAttachmentSupport(t)).then(()=>{if(!("addAttachment"in this.source))throw new d["a"](Ge,"Layer source does not support addAttachment capability");return this.source.addAttachment(t,e)})}updateAttachment(t,e,i){return this.load().then(()=>this._checkAttachmentSupport(t)).then(()=>{if(!("updateAttachment"in this.source))throw new d["a"](Ge,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(t,e,i)})}async applyEdits(t,e){const n=await i.e("chunk-2d0a4c1e").then(i.bind(null,"0899"));return await this.load(),n.applyEdits(this,this.source,t,e)}on(t,e){return super.on(t,e)}createPopupTemplate(t){return Object(ze["a"])(this,t)}async createGraphicsSource(t){if(this._hasMemorySource())return this.source.load({signal:t});const{default:e}=await Object(w["y"])(i.e("chunk-6c40627a").then(i.bind(null,"0e50")),t);return new e({layer:this}).load({signal:t})}createQuery(){const t=new Ne["a"],e=this.get("capabilities.data");t.dynamicDataSource=this.dynamicDataSource,t.gdbVersion=this.gdbVersion,t.historicMoment=this.historicMoment,t.returnGeometry=!0,e&&(e.supportsZ&&null!=this.returnZ&&(t.returnZ=this.returnZ),e.supportsM&&null!=this.returnM&&(t.returnM=this.returnM)),t.outFields=["*"],t.where=this.definitionExpression||"1=1";const{timeOffset:i,timeExtent:n}=this;return t.timeExtent=null!=i&&null!=n?n.offset(-i.value,i.unit):n||null,t.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,t}deleteAttachments(t,e){return this.load().then(()=>this._checkAttachmentSupport(t)).then(()=>{if(!("deleteAttachments"in this.source))throw new d["a"](Ge,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(t,e)})}fetchRecomputedExtents(t){return this.load({signal:null==t?void 0:t.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(t);throw new d["a"](Ge,"Layer source does not support fetchUpdates capability")})}getFeatureType(t){const{typeIdField:e,types:i}=this;if(!e||!t)return null;const n=t.attributes?t.attributes[e]:void 0;if(null==n)return null;let r=null;return i.some(t=>{const{id:e}=t;return null!=e&&(e.toString()===n.toString()&&(r=t),!!r)}),r}getFieldDomain(t,e){const i=e&&e.feature,n=this.getFeatureType(i);if(n){const e=n.domains&&n.domains[t];if(e&&"inherited"!==e.type)return e}return this._getLayerDomain(t)}getField(t){return this.fieldsIndex.get(t)}queryAttachments(t,e){return t=Le["a"].from(t),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new d["a"](Ge,"this layer doesn't support attachments");const{attachmentTypes:e,objectIds:i,globalIds:n,num:r,size:s,start:o,where:a}=t;if(!this.get("capabilities.operations.supportsQueryAttachments")){const c=i&&i.length>1,l=e&&e.length,u=n&&n.length,h=s&&s.length;if(c||l||u||h||r||o||a)throw new d["a"](Ge,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",t)}if(!(i&&i.length||a))throw new d["a"](Ge,"'objectIds' or 'where' are required to perform attachment query",t);if(!("queryAttachments"in this.source))throw new d["a"](Ge,"Layer source does not support queryAttachments capability",t);return this.source.queryAttachments(t)})}queryFeatures(t,e){return this.load().then(()=>this.source.queryFeatures(Ne["a"].from(t)||this.createQuery(),e)).then(t=>{if(null!=t&&t.features)for(const e of t.features)e.layer=e.sourceLayer=this;return t})}queryObjectIds(t,e){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Ne["a"].from(t)||this.createQuery(),e);throw new d["a"](Ge,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(t,e){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Ne["a"].from(t)||this.createQuery(),e);throw new d["a"](Ge,"Layer source does not support queryFeatureCount capability")})}queryExtent(t,e){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Ne["a"].from(t)||this.createQuery(),e);throw new d["a"](Ge,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(t,e){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(Fe["a"].from(t),e);throw new d["a"](Ge,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(t,e){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(Fe["a"].from(t),e);throw new d["a"](Ge,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(t,e){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(De["a"].from(t),e).then(t=>{if(null!=t&&t.features)for(const e of t.features)e.layer=e.sourceLayer=this;return t});throw new d["a"](Ge,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(t,e){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(De["a"].from(t),e);throw new d["a"](Ge,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(t,e){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(De["a"].from(t),e);throw new d["a"](Ge,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(t,e){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(De["a"].from(t),e);throw new d["a"](Ge,"Layer source does not support queryFeatureCount capability")})}read(t,e){const i=t.featureCollection;if(i){const t=i.layers;t&&1===t.length&&(super.read(t[0],e),null!=i.showLegend&&super.read({showLegend:i.showLegend},e))}super.read(t,e),e&&"service"===e.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(t,e){var i,n;const r=(e={...e,writeLayerSchema:null!=(i=null==(n=e)?void 0:n.writeLayerSchema)?i:this._hasMemorySource()}).origin,s=e.layerContainerType,o=e.messages;if(this.isTable){if("web-scene"===r||"web-map"===r&&"tables"!==s)return o&&o.push(new d["a"]("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return o&&o.push(new d["a"]("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===r&&"tables"===s)return o&&o.push(new d["a"]("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(t,e)}_readEditingEnabled(t,e,i){var n;let r=null==(n=t.layerDefinition)?void 0:n.capabilities;return r?this._hasEditingCapability(r):(r=t.capabilities,e&&"web-map"===(null==i?void 0:i.origin)&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(t,e,i,n){if(!t){var r,s;const t=null!=(r=this.capabilities)&&null!=(s=r.operations)&&s.supportsSync?"Query,Sync":"Query";Object(v["c"])("layerDefinition.capabilities",t,e),!i||null!=n&&n.writeLayerSchema||(e.capabilities=t)}}_checkAttachmentSupport(t){const{attributes:e}=t,{objectIdField:i}=this;return this.get("capabilities.data.supportsAttachment")?t?e?e[i]?void 0:Promise.reject(new d["a"](Ge,"feature is missing the identifying attribute "+i)):Promise.reject(new d["a"](Ge,"'attributes' are required on a feature to query attachments")):Promise.reject(new d["a"](Ge,"A feature is required to add/delete/update attachments")):Promise.reject(new d["a"](Ge,"this layer doesn't support attachments"))}_getLayerDomain(t){const e=this.fieldsIndex.get(t);return e?e.domain:null}_fetchFirstLayerId(t){return Object(l["default"])(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(t=>{const e=t.data;if(e)return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0})}async _initLayerProperties(t){return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Object(Oe["k"])(this.renderer,this.fieldsIndex),Object(Oe["l"])(this.timeInfo,this.fieldsIndex),Object(Re["a"])(this,{origin:"service"})}async hasDataChanged(){var t;if(null!=(t=this.source)&&t.refresh)try{var e;const{dataChanged:t,updates:i}=await(null==(e=this.source)?void 0:e.refresh());if(Object(m["l"])(i)&&(this.sourceJSON={...this.sourceJSON,...i},this.read(i,{origin:"service",url:this.parsedUrl})),t)return!0}catch{}if(this.definitionExpression)try{return(await O(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){const t=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||-1!==t.search(/\/FeatureServer\//i)||this.fields&&this.fields.some((function(t){return"geometry"===t.type}))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,e){t&&t.forEach(t=>{const i=t.prototype&&t.prototype.attributes;i&&e&&delete i[e]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new d["a"]("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new d["a"]("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([t.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),t.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(t){const e={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return t&&Array.isArray(t)&&t.forEach(t=>{const i=$e[t.name];i&&(e[i]=!!t.isEnabled)}),e}_readDataCapabilities(t){return{isVersioned:Be(t,"isDataVersioned",!1),supportsAttachment:Be(t,"hasAttachments",!1),supportsM:Be(t,"hasM",!1),supportsZ:Be(t,"hasZ",!1)}}_readMetadataCapabilities(t){return{supportsAdvancedFieldProperties:Be(t,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(t,e){const i=t?t.toLowerCase().split(",").map(t=>t.trim()):[],n=i.includes("editing")&&!e.datesInUnknownTimezone;let r=n&&i.includes("create"),s=n&&i.includes("delete"),o=n&&i.includes("update");const a=i.includes("changetracking");return n&&!(r||s||o)&&(r=s=o=!0),{supportsCalculate:Be(e,"supportsCalculate",!1),supportsTruncate:Be(e,"supportsTruncate",!1),supportsValidateSql:Be(e,"supportsValidateSql",!1),supportsAdd:r,supportsDelete:s,supportsEditing:n,supportsChangeTracking:a,supportsQuery:i.includes("query"),supportsQueryAttachments:Be(e.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Be(e,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:o,supportsExceedsLimitStatistics:Be(e,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(t){var e;const i=t.advancedQueryCapabilities,n=t.ownershipBasedAccessControlForFeatures,r=t.archivingInfo,s=null==(e=this.url)?void 0:e.includes("MapServer"),o=!Object(f["a"])("mapserver-pbf-enabled")&&s&&this.version<10.81,a=(t.supportedQueryFormats||"").split(",").reduce((t,e)=>{const i=e.toLowerCase().trim();return i&&t.add(i),t},new Set);return{supportsStatistics:Be(i,"supportsStatistics",t.supportsStatistics),supportsPercentileStatistics:Be(i,"supportsPercentileStatistics",!1),supportsCentroid:Be(i,"supportsReturningGeometryCentroid",!1),supportsDistance:Be(i,"supportsQueryWithDistance",!1),supportsDistinct:Be(i,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:Be(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Be(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:Be(i,"supportsHavingClause",!1),supportsOrderBy:Be(i,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:Be(i,"supportsPagination",!1),supportsQuantization:Be(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Be(t,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Be(t,"supportsReturningQueryGeometry",!1),supportsResultType:Be(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Be(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Be(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Be(t,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Be(i,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Be(n,"allowOthersToQuery",!0),supportsHistoricMoment:Be(r,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&a.has("pbf"),supportsDisjointSpatialRelationship:Be(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:Be(i,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:He(t,"maxRecordCountFactor",void 0),maxRecordCount:He(t,"maxRecordCount",void 0),standardMaxRecordCount:He(t,"standardMaxRecordCount",void 0),tileMaxRecordCount:He(t,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(t){const e=t.advancedQueryCapabilities,i=Be(e,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Be(e,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i}}_readEditingCapabilities(t){const e=t.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Be(t,"allowGeometryUpdates",!0),supportsGlobalId:Be(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Be(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Be(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Be(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Be(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Be(e,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Be(e,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Be(e,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Be(e,"allowOthersToUpdate",!0)}}};Object(n["a"])([Object(x["b"])({readOnly:!0,json:{read:!1}})],Ke.prototype,"capabilities",void 0),Object(n["a"])([Object(M["a"])("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],Ke.prototype,"readCapabilities",null),Object(n["a"])([Object(x["b"])({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ke.prototype,"charts",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"createQueryVersion",null),Object(n["a"])([Object(x["b"])({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],Ke.prototype,"copyright",void 0),Object(n["a"])([Object(x["b"])({type:Boolean})],Ke.prototype,"datesInUnknownTimezone",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],Ke.prototype,"displayField",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Ke.prototype,"definitionExpression",void 0),Object(n["a"])([Object(x["b"])({types:u["e"],readOnly:!0})],Ke.prototype,"defaultSymbol",void 0),Object(n["a"])([Object(x["b"])({type:Pe["a"]})],Ke.prototype,"dynamicDataSource",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"editFieldsInfo",void 0),Object(n["a"])([Object(x["b"])({type:Boolean})],Ke.prototype,"editingEnabled",null),Object(n["a"])([Object(M["a"])(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Ke.prototype,"readEditingEnabled",null),Object(n["a"])([Object(M["a"])("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Ke.prototype,"readEditingEnabledFromWebMap",null),Object(n["a"])([Object(I["a"])(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Ke.prototype,"writeEditingEnabled",null),Object(n["a"])([Object(I["a"])("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Ke.prototype,"writeEditingEnabledToWebMap",null),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"editingInfo",void 0),Object(n["a"])([Object(M["a"])("editingInfo")],Ke.prototype,"readEditingInfo",null),Object(n["a"])([Object(x["b"])(be["b"])],Ke.prototype,"elevationInfo",void 0),Object(n["a"])([Object(x["b"])(me["a"])],Ke.prototype,"featureReduction",void 0),Object(n["a"])([Object(x["b"])({...We.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Je}}}}})],Ke.prototype,"fields",void 0),Object(n["a"])([Object(x["b"])(We.fieldsIndex)],Ke.prototype,"fieldsIndex",void 0),Object(n["a"])([Object(x["b"])({type:ke["a"],json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],Ke.prototype,"floorInfo",void 0),Object(n["a"])([Object(x["b"])({type:Nt,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Ke.prototype,"formTemplate",void 0),Object(n["a"])([Object(x["b"])({type:Ft["a"],json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],Ke.prototype,"fullExtent",void 0),Object(n["a"])([Object(x["b"])()],Ke.prototype,"gdbVersion",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0,type:xe,json:{read:{source:"geometryProperties"}}})],Ke.prototype,"geometryFieldsInfo",void 0),Object(n["a"])([Object(x["b"])({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Ve.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Je,writer(t,e,i){const n=t?Ve.toJSON(t):null;n&&Object(v["c"])(i,n,e)}}}},read:{source:"layerDefinition.geometryType",reader:Ve.read}}})],Ke.prototype,"geometryType",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],Ke.prototype,"hasM",void 0),Object(n["a"])([Object(x["b"])({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],Ke.prototype,"hasZ",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0,type:Dt["a"]})],Ke.prototype,"heightModelInfo",void 0),Object(n["a"])([Object(x["b"])({type:Date})],Ke.prototype,"historicMoment",void 0),Object(n["a"])([Object(x["b"])(be["c"])],Ke.prototype,"id",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Ke.prototype,"infoFor3D",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Ke.prototype,"isTable",void 0),Object(n["a"])([Object(M["a"])("service","isTable",["type","geometryType"]),Object(M["a"])("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Ke.prototype,"readIsTable",null),Object(n["a"])([Object(I["a"])("web-map","isTable")],Ke.prototype,"writeIsTable",null),Object(n["a"])([Object(x["b"])(be["d"])],Ke.prototype,"labelsVisible",void 0),Object(n["a"])([Object(x["b"])({type:[Se["a"]],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Me["a"]},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Me["a"]},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Ke.prototype,"labelingInfo",void 0),Object(n["a"])([Object(x["b"])(be["i"])],Ke.prototype,"opacity",void 0),Object(n["a"])([Object(x["b"])({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],Ke.prototype,"layerId",void 0),Object(n["a"])([Object(x["b"])(be["e"])],Ke.prototype,"legendEnabled",void 0),Object(n["a"])([Object(x["b"])({type:["show","hide"]})],Ke.prototype,"listMode",void 0),Object(n["a"])([Object(x["b"])(be["g"])],Ke.prototype,"minScale",void 0),Object(n["a"])([Object(M["a"])("service","minScale",["minScale","effectiveMinScale"])],Ke.prototype,"readMinScale",null),Object(n["a"])([Object(x["b"])(be["f"])],Ke.prototype,"maxScale",void 0),Object(n["a"])([Object(M["a"])("service","maxScale",["maxScale","effectiveMaxScale"])],Ke.prototype,"readMaxScale",null),Object(n["a"])([Object(x["b"])({type:String})],Ke.prototype,"globalIdField",void 0),Object(n["a"])([Object(M["a"])("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),Object(M["a"])("service","globalIdField",["globalIdField","fields"])],Ke.prototype,"readGlobalIdFieldFromService",null),Object(n["a"])([Object(x["b"])({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Je}}}}})],Ke.prototype,"objectIdField",void 0),Object(n["a"])([Object(M["a"])("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),Object(M["a"])("service","objectIdField",["objectIdField","fields"])],Ke.prototype,"readObjectIdFieldFromService",null),Object(n["a"])([Object(x["b"])({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Ke.prototype,"operationalLayerType",void 0),Object(n["a"])([Object(x["b"])(We.outFields)],Ke.prototype,"outFields",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"parsedUrl",null),Object(n["a"])([Object(x["b"])({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Ke.prototype,"path",void 0),Object(n["a"])([Object(x["b"])(be["j"])],Ke.prototype,"popupEnabled",void 0),Object(n["a"])([Object(x["b"])({type:r["a"],json:{name:"popupInfo",write:!0}})],Ke.prototype,"popupTemplate",void 0),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"defaultPopupTemplate",null),Object(n["a"])([Object(x["b"])({type:[Ae],readOnly:!0})],Ke.prototype,"relationships",void 0),Object(n["a"])([Object(x["b"])({types:c["a"],json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:c["b"],name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(t,e,i)=>({ignoreOrigin:null==i?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(t,e,i)=>({ignoreOrigin:null==i?void 0:i.writeLayerSchema})}}})],Ke.prototype,"renderer",null),Object(n["a"])([Object(M["a"])("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Object(M["a"])("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Ke.prototype,"readRenderer",null),Object(n["a"])([Object(x["b"])()],Ke.prototype,"sourceJSON",void 0),Object(n["a"])([Object(x["b"])({type:Boolean})],Ke.prototype,"returnM",void 0),Object(n["a"])([Object(x["b"])({type:Boolean})],Ke.prototype,"returnZ",void 0),Object(n["a"])([Object(x["b"])(be["m"])],Ke.prototype,"screenSizePerspectiveEnabled",void 0),Object(n["a"])([Object(x["b"])()],Ke.prototype,"source",null),Object(n["a"])([Object(S["a"])("source")],Ke.prototype,"castSource",null),Object(n["a"])([Object(M["a"])("portal-item","source",["featureSet"]),Object(M["a"])("web-map","source",["featureSet"])],Ke.prototype,"readSource",null),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"serviceDefinitionExpression",void 0),Object(n["a"])([Object(M["a"])("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],Ke.prototype,"readServiceDefinitionExpression",null),Object(n["a"])([Object(x["b"])({type:zt["a"],json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],Ke.prototype,"spatialReference",void 0),Object(n["a"])([Object(x["b"])({type:Number})],Ke.prototype,"subtypeCode",void 0),Object(n["a"])([Object(x["b"])({type:[ge["a"]]})],Ke.prototype,"templates",void 0),Object(n["a"])([Object(M["a"])("templates",["editFieldsInfo","creatorField","editorField","templates"])],Ke.prototype,"readTemplates",null),Object(n["a"])([Object(x["b"])({type:Ce["a"]})],Ke.prototype,"timeInfo",void 0),Object(n["a"])([Object(x["b"])()],Ke.prototype,"title",void 0),Object(n["a"])([Object(M["a"])("service","title",["name"]),Object(M["a"])("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Ke.prototype,"readTitle",null),Object(n["a"])([Object(M["a"])("web-map","title",["layerDefinition.name","title"])],Ke.prototype,"readTitleFromWebMap",null),Object(n["a"])([Object(x["b"])({type:String})],Ke.prototype,"sublayerTitleMode",void 0),Object(n["a"])([Object(x["b"])({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],Ke.prototype,"trackIdField",void 0),Object(n["a"])([Object(x["b"])({json:{read:!1}})],Ke.prototype,"type",void 0),Object(n["a"])([Object(x["b"])({type:String})],Ke.prototype,"typeIdField",void 0),Object(n["a"])([Object(M["a"])("service","typeIdField"),Object(M["a"])("typeIdField",["layerDefinition.typeIdField"])],Ke.prototype,"readTypeIdField",null),Object(n["a"])([Object(x["b"])({type:[ve["a"]]})],Ke.prototype,"types",void 0),Object(n["a"])([Object(M["a"])("service","types",["types"]),Object(M["a"])("types",["layerDefinition.types"])],Ke.prototype,"readTypes",null),Object(n["a"])([Object(x["b"])({readOnly:!0,json:{write:!1}})],Ke.prototype,"serverGens",void 0),Object(n["a"])([Object(x["b"])({type:h["a"].ofType(ye),readOnly:!0})],Ke.prototype,"indexes",void 0),Object(n["a"])([Object(x["b"])(be["n"])],Ke.prototype,"url",null),Object(n["a"])([Object(I["a"])("url")],Ke.prototype,"writeUrl",null),Object(n["a"])([Object(x["b"])({readOnly:!0})],Ke.prototype,"userIsAdmin",void 0),Object(n["a"])([Object(x["b"])({json:{origins:{service:{read:!0}},read:!1}})],Ke.prototype,"version",void 0),Object(n["a"])([Object(M["a"])("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],Ke.prototype,"readVersion",null),Object(n["a"])([Object(x["b"])({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Ke.prototype,"visible",void 0),Object(n["a"])([Object(M["a"])("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Ke.prototype,"readVisible",null),Ke=Object(n["a"])([Object(k["a"])("esri.layers.FeatureLayer")],Ke);const Ye=Object(T["b"])({types:u["i"]}),Ze=Ke},"5c00":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return u}));var n=i("9ef0"),r=i("a915"),s=i("cea0"),o=i("42be");function a(t,e){const i=null!=e.transparency?Object(o["b"])(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new n["a"]([r[0]||0,r[1]||0,r[2]||0,i]):null}function c(t,e){e.color=t.toJSON().slice(0,3);const i=Object(o["a"])(t.a);0!==i&&(e.transparency=i)}const l={type:n["a"],json:{type:[s["a"]],default:null,read:{source:["color","transparency"],reader:a},write:{target:{color:{type:[s["a"]]},transparency:{type:s["a"]}},writer:c}}},u={type:Number,cast:r["j"],json:{write:!0}}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5cdb":function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return h}));var n=i("b423"),r=i("261a"),s=i("b48d"),o=i("478c"),a=i("667b"),c=i("ff57"),l=i("da00");const u={key:"type",base:a["a"],typeMap:{heatmap:o["a"],simple:c["a"],"unique-value":l["a"],"class-breaks":n["a"],"dot-density":s["a"],dictionary:r["default"]},errorContext:"renderer"},h={key:"type",base:a["a"],typeMap:{simple:c["a"],"unique-value":l["a"],"class-breaks":n["a"]},errorContext:"renderer"}},"5dd5":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("a4ee"),r=i("fa8a"),s=i("6a0e"),o=i("e92d"),a=i("59b2"),c=(i("b50f"),i("c120"),i("1a3e")),l=i("d386"),u=i("cea0"),h=i("5b83");const d=o["a"].getLogger("esri.renderers.visualVariables.VisualVariable"),p=new r["a"]({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let f=class extends s["a"]{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return null==t?t:"function"==typeof t?(d.error(".field: field must be a string value"),null):Object(u["l"])(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};Object(n["a"])([Object(a["b"])()],f.prototype,"index",void 0),Object(n["a"])([Object(a["b"])({type:p.apiValues,readOnly:!0,json:{read:p.read,write:p.write}})],f.prototype,"type",void 0),Object(n["a"])([Object(a["b"])({type:String,json:{write:!0}})],f.prototype,"field",void 0),Object(n["a"])([Object(c["a"])("field")],f.prototype,"castField",null),Object(n["a"])([Object(a["b"])({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0),Object(n["a"])([Object(a["b"])({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],f.prototype,"arcadeRequired",null),Object(n["a"])([Object(a["b"])({type:h["a"],json:{write:!0}})],f.prototype,"legendOptions",void 0),f=Object(n["a"])([Object(l["a"])("esri.renderers.visualVariables.VisualVariable")],f);const b=f},"5e70":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("b2b2");function r(t){return t&&"function"==typeof t.highlight}function s(t,e,i){return Object(n["k"])(t)||t>i&&(0===e||t<e)}},"5e77":function(t,e,i){var n=i("83ab"),r=i("1a2d"),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=r(s,"name"),c=a&&"something"===function(){}.name,l=a&&(!n||n&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},"5f6c":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r}));var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}}).call(this,i("c8ba"))},6005:function(t,e,i){"use strict";i.d(e,"a",(function(){return T}));var n,r=i("a4ee"),s=i("e92d"),o=i("b2b2"),a=i("e041"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("448d")),u=i("d386"),h=i("961d"),d=i("08f6"),p=i("3dc2"),f=i("5c00"),b=i("485a"),y=i("9ef0"),m=i("6a0e"),g=i("a915");let v=n=class extends m["a"]{constructor(t){super(t),this.color=new y["a"]([0,0,0,1]),this.size=Object(g["h"])(1)}clone(){const t={color:Object(o["l"])(this.color)?this.color.clone():null,size:this.size};return new n(t)}};Object(r["a"])([Object(c["b"])(f["a"])],v.prototype,"color",void 0),Object(r["a"])([Object(c["b"])(f["b"])],v.prototype,"size",void 0),v=n=Object(r["a"])([Object(u["a"])("esri.symbols.support.Symbol3DIconOutline")],v);const w=v;var O,j=i("a3af");const _=s["a"].getLogger("esri.symbols.IconSymbol3DLayer");let x=O=class extends h["a"]{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new O({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:Object(o["l"])(this.material)?this.material.clone():null,outline:Object(o["l"])(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){const e=t.color||d["c"],i=S(t),n=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||d["c"]).clone()}:null;return new O({size:t.size,resource:{primitive:I(t.style)},material:{color:e},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(t){const e=!t.color||Object(d["a"])(t.color)?d["c"]:t.color,i=S(t);return new O({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:e.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new O({resource:{href:Object(a["B"])({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function S(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,n=M(t.xoffset),r=M(t.yoffset);return(n||r)&&e&&i?{x:-n/e,y:r/i}:null}function M(t){return isFinite(t)?t:0}Object(r["a"])([Object(c["b"])({type:j["b"],json:{write:!0}})],x.prototype,"material",void 0),Object(r["a"])([Object(c["b"])({type:p["a"],json:{write:!0}})],x.prototype,"resource",void 0),Object(r["a"])([Object(l["a"])({Icon:"icon"},{readOnly:!0})],x.prototype,"type",void 0),Object(r["a"])([Object(c["b"])(f["b"])],x.prototype,"size",void 0),Object(r["a"])([Object(l["a"])({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),Object(c["b"])({json:{default:"center"}})],x.prototype,"anchor",void 0),Object(r["a"])([Object(c["b"])({type:b["a"],json:{type:[Number],read:{reader:t=>new b["a"]({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],x.prototype,"anchorPosition",void 0),Object(r["a"])([Object(c["b"])({type:w,json:{write:!0}})],x.prototype,"outline",void 0),x=O=Object(r["a"])([Object(u["a"])("esri.symbols.IconSymbol3DLayer")],x);const k={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function I(t){const e=k[t];return e||(_.warn(t+' cannot be mapped to Icon symbol. Fallback to "circle"'),"circle")}const T=x},"601a":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("a4ee"),r=i("658b"),s=i("2b92"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("afcf")),c=i("d386"),l=i("f806"),u=i("c1da"),h=i("d81c");const d=t=>{let e=class extends t{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(t,e){const i=e.timeInfo.exportOptions;if(!i)return null;const n=i.timeOffset,r=h["a"].fromJSON(i.timeOffsetUnits);return n&&r?new s["a"]({value:n,unit:r}):null}set timeInfo(t){Object(u["l"])(t,this.fieldsIndex),this._set("timeInfo",t)}};return Object(n["a"])([Object(o["b"])({type:r["a"],json:{write:!1}})],e.prototype,"timeExtent",void 0),Object(n["a"])([Object(o["b"])({type:s["a"]})],e.prototype,"timeOffset",void 0),Object(n["a"])([Object(a["a"])("service","timeOffset",["timeInfo.exportOptions"])],e.prototype,"readOffset",null),Object(n["a"])([Object(o["b"])({value:null,type:l["a"],json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],e.prototype,"timeInfo",null),Object(n["a"])([Object(o["b"])({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],e.prototype,"useViewTime",void 0),e=Object(n["a"])([Object(c["a"])("esri.layers.mixins.TemporalLayer")],e),e}},"605d":function(t,e,i){var n=i("c6b6"),r=i("da84");t.exports="process"==n(r.process)},6069:function(t,e){t.exports="object"==typeof window},"60da":function(t,e,i){"use strict";var n=i("83ab"),r=i("e330"),s=i("c65b"),o=i("d039"),a=i("df75"),c=i("7418"),l=i("d1e7"),u=i("7b0b"),h=i("44ad"),d=Object.assign,p=Object.defineProperty,f=r([].concat);t.exports=!d||o((function(){if(n&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach((function(t){e[t]=t})),7!=d({},t)[i]||a(d({},e)).join("")!=r}))?function(t,e){var i=u(t),r=arguments.length,o=1,d=c.f,p=l.f;while(r>o){var b,y=h(arguments[o++]),m=d?f(a(y),d(y)):a(y),g=m.length,v=0;while(g>v)b=m[v++],n&&!s(p,y,b)||(i[b]=y[b])}return i}:d},"60ec":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("792b"),r=i("f4cc"),s=i("0028");async function o(t,e,i){const o=t&&t.getAtOrigin&&t.getAtOrigin("renderer",e.origin);if(o&&"unique-value"===o.type&&o.styleOrigin){const a=await Object(n["c"])(o.populateFromStyle());if(Object(r["u"])(i),!1===a.ok){const i=a.error;e&&e.messages&&e.messages.push(new s["a"]("renderer:style-reference","Failed to create unique value renderer from style reference: "+i.message,{error:i,context:e})),t.clear("renderer",e.origin)}}}},6174:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return l}));var n=i("1fd7"),r=i("ce50"),s=i("b2b2"),o=i("c528"),a=i("cf49"),c=i("ddc2");function l(t,e,i,n){const r=u(t,{},n);r&&(e[i]=r)}function u(t,e,i){if(!t)return null;if(i&&"web-scene"===i.origin&&!(t instanceof o["a"])&&!(t instanceof c["a"])){const n=Object(a["a"])(t,{retainCIM:!0});return Object(s["l"])(n.symbol)?n.symbol.write(e,i):(i.messages&&i.messages.push(new r["a"]("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:n.error})),null)}return i&&"web-map"===i.origin&&"web-style"===t.type?(i.messages&&i.messages.push(new r["a"]("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:t,context:i})),null):t.write(e,i)}function h(t,e){return Object(n["d"])(t,null,e)}},"619d":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return k}));var n,r=i("a4ee"),s=i("2c4f"),o=i("7d7d"),a=i("e20b"),c=i("6a0e"),l=i("7ffa"),u=i("6d5f"),h=i("1853"),d=i("e92d"),p=i("b2b2"),f=i("f4cc"),b=i("e041"),y=i("59b2"),m=(i("cea0"),i("d386")),g=i("09db"),v=i("5996"),w=i("0224"),O=i("a7e1"),j=i("c047"),_=i("3765");let x=0;const S=d["a"].getLogger("esri.Basemap");let M=n=class extends(Object(c["b"])(u["a"])){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+x++,this.baseLayers=new s["a"],this.referenceLayers=new s["a"];const e=t=>{t.parent&&t.parent!==this&&"remove"in t.parent&&t.parent.remove(t),t.parent=this,"elevation"===t.type&&S.error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=t=>{t.parent=null};this.baseLayers.on("after-add",t=>e(t.item)),this.referenceLayers.on("after-add",t=>e(t.item)),this.baseLayers.on("after-remove",t=>i(t.item)),this.referenceLayers.on("after-remove",t=>i(t.item))}initialize(){this.when().catch(t=>{S.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var t;const e=this.baseLayers.removeAll();for(const n of e)n.destroy();const i=this.referenceLayers.removeAll();for(const n of i)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(t=this.portalItem)||t.destroy(),this.portalItem=null}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",Object(o["b"])(t,this._get("baseLayers")))}_writeBaseLayers(t,e,i){const n=[];t?(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(t=>{const e=Object(_["a"])(t,i.webmap?i.webmap.getLayerJSONFromResourceInfo(t):null,i);Object(p["l"])(e)&&n.push(e)}),this.referenceLayers.forEach(t=>{const e=Object(_["a"])(t,i.webmap?i.webmap.getLayerJSONFromResourceInfo(t):null,i);Object(p["l"])(e)&&(e.isReference=!0,n.push(e))}),e.baseMapLayers=n):e.baseMapLayers=n}set referenceLayers(t){this._set("referenceLayers",Object(o["b"])(t,this._get("referenceLayers")))}writeTitle(t,e){e.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return Object(h["a"])(this,t=>{t(this.baseLayers,this.referenceLayers)})}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(t.loadStatus="loaded"),new n({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}write(t,e){return t=t||{},e&&e.origin||(e={origin:"web-map",...e}),super.write(t,e),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(t=>{const e=Object(l["a"])(t);return e.url&&Object(b["w"])(e.url)&&(e.url="https:"+e.url),e.templateUrl&&Object(b["w"])(e.templateUrl)&&(e.templateUrl="https:"+e.templateUrl),e})),t}async _loadFromSource(t){const{resourceInfo:e,portalItem:i}=this;Object(f["u"])(t);const n=[];if(e){const i=e.context?e.context.url:null;if(n.push(this._loadLayersFromJSON(e.data,i,t)),e.data.id&&!e.data.title){const t=e.data.id;n.push(Object(j["b"])(t).then(t=>{t&&this.read({title:t},e.context)}))}}else i&&n.push(this._loadFromItem(i,t));await Promise.all(n)}async _loadLayersFromJSON(t,e,n){const r=this.resourceInfo&&this.resourceInfo.context,s=this.portalItem&&this.portalItem.portal||r&&r.portal||null,o=r&&"web-scene"===r.origin?"web-scene":"web-map",{populateOperationalLayers:a}=await i.e("chunk-2d261253").then(i.bind(null,"e50f")),c=[];if(Object(f["u"])(n),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const i={context:{origin:o,url:e,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},n=a(this.baseLayers,t.baseMapLayers.filter(t=>!t.isReference),i);c.push(n);const r=a(this.referenceLayers,t.baseMapLayers.filter(t=>t.isReference),i);c.push(r)}await Object(f["i"])(c)}async _loadFromItem(t,e){const i=await t.load(e),n=await i.fetchData("json",e),r=Object(b["K"])(t.itemUrl);return this._set("resourceInfo",{data:n.baseMap,context:{origin:"web-map",portal:t.portal||w["a"].getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||w["a"].getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,e)}static fromId(t){const e=j["a"][t];if(e){if(e.deprecated){let e=null;"dark-gray"===t?e="dark-gray-vector":"gray"===t?e="gray-vector":"streets"===t?e="streets-vector":"topo"===t&&(e="topo-vector"),Object(a["a"])(S,`The ${t} basemap has entered mature support and is no longer being updated.`,{replacement:e,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return n.fromJSON(e)}return null}};Object(r["a"])([Object(y["b"])({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,n){this._writeBaseLayers(t,e,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s["a"]}},writer(t,e,i,n){this._writeBaseLayers(t,e,n)}}}}}})],M.prototype,"baseLayers",null),Object(r["a"])([Object(y["b"])({type:String,json:{origins:{"web-scene":{write:!0}}}})],M.prototype,"id",void 0),Object(r["a"])([Object(y["b"])({type:O["default"]})],M.prototype,"portalItem",void 0),Object(r["a"])([Object(y["b"])()],M.prototype,"referenceLayers",null),Object(r["a"])([Object(y["b"])({readOnly:!0})],M.prototype,"resourceInfo",void 0),Object(r["a"])([Object(y["b"])({type:v["a"]})],M.prototype,"spatialReference",void 0),Object(r["a"])([Object(y["b"])()],M.prototype,"thumbnailUrl",void 0),Object(r["a"])([Object(y["b"])({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],M.prototype,"title",void 0),Object(r["a"])([Object(g["a"])("title")],M.prototype,"writeTitle",null),M=n=Object(r["a"])([Object(m["a"])("esri.Basemap")],M);const k=M},"624c":function(t,e,i){"use strict";i.d(e,"a",(function(){return C}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("59b2"),c=(i("b50f"),i("c120"),i("1a3e")),l=i("448d"),u=i("afcf"),h=i("d386"),d=i("cea0"),p=i("0b86"),f=i("a1f3"),b=i("5a61"),y=(i("e06a"),i("5996")),m=i("74e2");let g=n=class extends o["a"]{constructor(t){super(t),this.type="query-table"}clone(){var t;const{workspaceId:e,query:i,oidFields:r,spatialReference:s,geometryType:o}=this,a={workspaceId:e,query:i,oidFields:r,spatialReference:null!=(t=null==s?void 0:s.clone())?t:void 0,geometryType:o};return new n(a)}};var v;Object(r["a"])([Object(l["a"])({queryTable:"query-table"})],g.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],g.prototype,"query",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],g.prototype,"oidFields",void 0),Object(r["a"])([Object(a["b"])({type:y["a"],json:{write:!0}})],g.prototype,"spatialReference",void 0),Object(r["a"])([Object(l["a"])(m["a"])],g.prototype,"geometryType",void 0),g=n=Object(r["a"])([Object(h["a"])("esri.layers.support.source.QueryTableDataSource")],g);let w=v=class extends o["a"]{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new v({workspaceId:t,dataSourceName:e})}};var O;Object(r["a"])([Object(l["a"])({raster:"raster"})],w.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),w=v=Object(r["a"])([Object(h["a"])("esri.layers.support.source.RasterDataSource")],w);let j=O=class extends o["a"]{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new O({workspaceId:t,gdbVersion:e,dataSourceName:i})}};var _,x;Object(r["a"])([Object(l["a"])({table:"table"})],j.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],j.prototype,"workspaceId",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],j.prototype,"gdbVersion",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],j.prototype,"dataSourceName",void 0),j=O=Object(r["a"])([Object(h["a"])("esri.layers.support.source.TableDataSource")],j);const S=Object(s["b"])()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let M=_=class extends o["a"]{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return I()(t,e,i)}castLeftTableSource(t){return Object(d["k"])(E(),t)}readRightTableSource(t,e,i){return I()(t,e,i)}castRightTableSource(t){return Object(d["k"])(E(),t)}clone(){var t,e;const{leftTableKey:i,rightTableKey:n,leftTableSource:r,rightTableSource:s,joinType:o}=this,a={leftTableKey:i,rightTableKey:n,leftTableSource:null!=(t=null==r?void 0:r.clone())?t:void 0,rightTableSource:null!=(e=null==s?void 0:s.clone())?e:void 0,joinType:o};return new _(a)}};Object(r["a"])([Object(l["a"])({joinTable:"join-table"})],M.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],M.prototype,"leftTableKey",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],M.prototype,"rightTableKey",void 0),Object(r["a"])([Object(a["b"])({json:{write:!0}})],M.prototype,"leftTableSource",void 0),Object(r["a"])([Object(u["a"])("leftTableSource")],M.prototype,"readLeftTableSource",null),Object(r["a"])([Object(c["a"])("leftTableSource")],M.prototype,"castLeftTableSource",null),Object(r["a"])([Object(a["b"])({json:{write:!0}})],M.prototype,"rightTableSource",void 0),Object(r["a"])([Object(u["a"])("rightTableSource")],M.prototype,"readRightTableSource",null),Object(r["a"])([Object(c["a"])("rightTableSource")],M.prototype,"castRightTableSource",null),Object(r["a"])([Object(l["a"])(S)],M.prototype,"joinType",void 0),M=_=Object(r["a"])([Object(h["a"])("esri.layers.support.source.JoinTableDataSource")],M);let k=null;function I(){return k||(k=Object(p["b"])({types:E()})),k}let T=null;function E(){return T||(T={key:"type",base:null,typeMap:{"data-layer":C,"map-layer":b["a"]}}),T}const A={key:"type",base:null,typeMap:{"join-table":M,"query-table":g,raster:w,table:j}};let C=x=class extends o["a"]{constructor(t){super(t),this.type="data-layer"}clone(){const{fields:t,dataSource:e}=this;return new x({fields:t,dataSource:e})}};Object(r["a"])([Object(l["a"])({dataLayer:"data-layer"})],C.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:[f["a"]],json:{write:!0}})],C.prototype,"fields",void 0),Object(r["a"])([Object(a["b"])({types:A,json:{write:!0}})],C.prototype,"dataSource",void 0),C=x=Object(r["a"])([Object(h["a"])("esri.layers.support.source.DataLayerSource")],C),C.from=Object(d["m"])(C)},6323:function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return f})),i.d(e,"c",(function(){return d}));var n=i("ce50"),r=i("f4cc"),s=i("2035");const o=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,a={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function c(t){var e;return null!=(e=a[t])&&e}const l=[],u=new Map;function h(t){for(const e of u.keys())y(t.pattern,e)&&u.delete(e)}function d(t){return l.includes(t)||(h(t),l.unshift(t)),{remove(){const e=l.indexOf(t);e>-1&&(l.splice(e,1),h(t))}}}async function p(t){const e=Object(s["b"])();u.has(t)||u.set(t,b(t,e));const i=u.get(t);return await m.add(i),i}function f(t){if(!o.test(t))return null;const[,e,i]=o.exec(t),n=e+(i?"-"+i.toUpperCase():"");return c(n)?n:c(e)?e:null}async function b(t,e){const i=[];for(const n of l)if(y(n.pattern,t))try{return await n.fetchMessageBundle(t,e)}catch(o){i.push(o)}if(i.length)throw new n["a"]("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i});throw new n["a"]("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function y(t,e){return"string"==typeof t?e.startsWith(t):t.test(e)}Object(s["a"])(()=>{u.clear()});const m=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Object(r["e"])())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},6547:function(t,e,i){var n=i("e330"),r=i("5926"),s=i("577e"),o=i("1d80"),a=n("".charAt),c=n("".charCodeAt),l=n("".slice),u=function(t){return function(e,i){var n,u,h=s(o(e)),d=r(i),p=h.length;return d<0||d>=p?t?"":void 0:(n=c(h,d),n<55296||n>56319||d+1===p||(u=c(h,d+1))<56320||u>57343?t?a(h,d):n:t?l(h,d,d+2):u-56320+(n-55296<<10)+65536)}};t.exports={codeAt:u(!1),charAt:u(!0)}},"658b":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n,r=i("a4ee"),s=i("6a0e"),o=i("b2b2"),a=i("1233"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("afcf")),u=i("d386"),h=i("09db");let d=n=class extends s["a"]{constructor(t){super(t),this.end=null,this.start=null}static get allTime(){return p}static get empty(){return f}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?t.getTime():null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?t.getTime():null}clone(){return new n({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=Object(o["l"])(this.start)?this.start.getTime():this.start,i=Object(o["l"])(this.end)?this.end.getTime():this.end,n=Object(o["l"])(t.start)?t.start.getTime():t.start,r=Object(o["l"])(t.end)?t.end.getTime():t.end;return e===n&&i===r}expandTo(t){if(this.isEmpty||this.isAllTime)return this.clone();const e=Object(o["b"])(this.start,e=>Object(a["c"])(e,t)),i=Object(o["b"])(this.end,e=>Object(a["b"])(Object(a["c"])(e,t),1,t));return new n({start:e,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return n.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=Object(o["o"])(this.start,-1/0,t=>t.getTime()),i=Object(o["o"])(this.end,1/0,t=>t.getTime()),r=Object(o["o"])(t.start,-1/0,t=>t.getTime()),s=Object(o["o"])(t.end,1/0,t=>t.getTime());let a,c;if(r>=e&&r<=i?a=r:e>=r&&e<=s&&(a=e),i>=r&&i<=s?c=i:s>=e&&s<=i&&(c=s),!isNaN(a)&&!isNaN(c)){const t=new n;return t.start=a===-1/0?null:new Date(a),t.end=c===1/0?null:new Date(c),t}return n.empty}offset(t,e){if(this.isEmpty||this.isAllTime)return this.clone();const i=new n,{start:r,end:s}=this;return Object(o["l"])(r)&&(i.start=Object(a["b"])(r,t,e)),Object(o["l"])(s)&&(i.end=Object(a["b"])(s,t,e)),i}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return p.clone();const e=Object(o["l"])(this.start)&&Object(o["l"])(t.start)?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,i=Object(o["l"])(this.end)&&Object(o["l"])(t.end)?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new n({start:e,end:i})}};Object(r["a"])([Object(c["b"])({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),Object(r["a"])([Object(l["a"])("end")],d.prototype,"readEnd",null),Object(r["a"])([Object(h["a"])("end")],d.prototype,"writeEnd",null),Object(r["a"])([Object(c["b"])({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),Object(r["a"])([Object(c["b"])({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),Object(r["a"])([Object(c["b"])({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),Object(r["a"])([Object(l["a"])("start")],d.prototype,"readStart",null),Object(r["a"])([Object(h["a"])("start")],d.prototype,"writeStart",null),d=n=Object(r["a"])([Object(u["a"])("esri.TimeExtent")],d);const p=new d,f=new d({start:void 0,end:void 0}),b=d},"65f0":function(t,e,i){var n=i("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},"662d":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386")),o=i("1f3b");const a=t=>{let e=class extends t{constructor(){super(...arguments),this.featureEffect=null}};return Object(n["a"])([Object(r["b"])({type:o["a"],json:{origins:{"web-map":{write:{allowNull:!0}}}}})],e.prototype,"featureEffect",void 0),e=Object(n["a"])([Object(s["a"])("esri.layers.mixins.FeatureEffectLayer")],e),e}},6655:function(t,e,i){"use strict";i.d(e,"a",(function(){return K})),i.d(e,"b",(function(){return rt})),i.d(e,"c",(function(){return Y})),i.d(e,"d",(function(){return Q})),i.d(e,"e",(function(){return Z})),i.d(e,"f",(function(){return H})),i.d(e,"g",(function(){return B})),i.d(e,"h",(function(){return $})),i.d(e,"i",(function(){return X})),i.d(e,"j",(function(){return nt})),i.d(e,"k",(function(){return tt})),i.d(e,"l",(function(){return L})),i.d(e,"m",(function(){return j})),i.d(e,"n",(function(){return U})),i.d(e,"o",(function(){return z})),i.d(e,"p",(function(){return yt})),i.d(e,"q",(function(){return ct})),i.d(e,"r",(function(){return ht})),i.d(e,"s",(function(){return bt})),i.d(e,"t",(function(){return ot})),i.d(e,"u",(function(){return at})),i.d(e,"v",(function(){return g})),i.d(e,"w",(function(){return v})),i.d(e,"x",(function(){return pt})),i.d(e,"y",(function(){return st})),i.d(e,"z",(function(){return dt}));var n=i("ce50"),r=i("e92d"),s=i("b2b2"),o=i("a9ab"),a=i("9392"),c=i("eed5"),l=i("8152");function u(t,e){return t?e?4:3:e?3:2}const h=r["a"].getLogger("esri.tasks.support.optimizedFeatureSet"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},p=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s},f=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s,t[i+2]=e[n+2]},b=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s,t[i+2]=e[n+3]},y=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s,t[i+2]=e[n+2],t[i+3]=e[n+3]};function m(t,e,i,n){if(t){if(i)return e&&n?y:f;if(e&&n)return b}else if(e&&n)return f;return p}function g({scale:t,translate:e},i){return Math.round((i-e[0])/t[0])}function v({scale:t,translate:e},i){return Math.round((e[1]-i)/t[1])}function w({scale:t,translate:e},i){return i*t[0]+e[0]}function O({scale:t,translate:e},i){return e[1]-i*t[1]}function j(t,e,i){return t?e?i?T(t):S(t):i?k(t):_(t):null}function _(t){const e=t.coords;return{x:e[0],y:e[1]}}function x(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t}function S(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2]}}function M(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t}function k(t){const e=t.coords;return{x:e[0],y:e[1],m:e[2]}}function I(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.m,t}function T(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2],m:e[3]}}function E(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t.coords[3]=e.m,t}function A(t,e,i,n){let r=_;i&&n?r=T:i?r=S:n&&(r=k);for(const o of e){const{geometry:e,attributes:i}=o,n=Object(s["l"])(e)?r(e):null;t.push({attributes:i,geometry:n})}return t}function C(t,e){return t&&e?E:t?M:e?I:x}function P(t,e,i,n,r){const s=C(i,n);for(const o of e){const{geometry:e,attributes:i}=o;let n;e&&(n=s(new l["a"],e)),t.push(new a["b"](n,i,null,i[r]))}return t}function R(t,e,i,n){for(const r of e){const{geometry:e,attributes:s}=r;let o;e&&(o=L(e,i,n)),t.push({attributes:s,geometry:o})}return t}function L(t,e,i){if(Object(s["k"])(t))return null;const n=u(e,i),r=[];for(let s=0;s<t.coords.length;s+=n){const e=[];for(let i=0;i<n;i++)e.push(t.coords[s+i]);r.push(e)}return e?i?{points:r,hasZ:e,hasM:i}:{points:r,hasZ:e}:i?{points:r,hasM:i}:{points:r}}function N(t,e,i,n,r){const s=u(i,n);for(const o of e){const e=o.geometry,i=o.attributes;let n;e&&(n=F(new l["a"],e,s)),t.push(new a["b"](n,i,null,i[r]))}return t}function F(t,e,i=u(e.hasZ,e.hasM)){t.lengths[0]=e.points.length;const n=t.coords;let r=0;for(const s of e.points)for(let t=0;t<i;t++)n[r++]=s[t];return t}function D(t,e,i,n){for(const r of e){const{geometry:e,attributes:o}=r;let a;Object(s["l"])(e)&&(a=z(e,i,n)),t.push({attributes:o,geometry:a})}return t}function z(t,e,i){if(!t)return null;const n=u(e,i),{coords:r,lengths:s}=t,o=[];let a=0;for(const c of s){const t=[];for(let e=0;e<c;e++){const e=[];for(let t=0;t<n;t++)e.push(r[a++]);t.push(e)}o.push(t)}return e?i?{paths:o,hasZ:e,hasM:i}:{paths:o,hasZ:e}:i?{paths:o,hasM:i}:{paths:o}}function V(t,e,i,n,r){const s=u(i,n);for(const o of e){const e=o.geometry,i=o.attributes;let n;e&&(n=$(new l["a"],e,s)),t.push(new a["b"](n,i,null,i[r]))}return t}function $(t,e,i=u(e.hasZ,e.hasM)){const{lengths:n,coords:r}=t;let s=0;for(const o of e.paths){for(const t of o)for(let e=0;e<i;e++)r[s++]=t[e];n.push(o.length)}return t}function G(t,e,i,n){for(const r of e){const{geometry:e,attributes:o,centroid:a}=r;let c;if(Object(s["l"])(e)&&(c=U(e,i,n)),a){const e=_(a);t.push({attributes:o,centroid:e,geometry:c})}else t.push({attributes:o,geometry:c})}return t}function U(t,e,i){if(!t)return null;const n=u(e,i),{coords:r,lengths:s}=t,o=[];let a=0;for(const c of s){const t=[];for(let e=0;e<c;e++){const e=[];for(let t=0;t<n;t++)e.push(r[a++]);t.push(e)}o.push(t)}return e?i?{rings:o,hasZ:e,hasM:i}:{rings:o,hasZ:e}:i?{rings:o,hasM:i}:{rings:o}}function q(t,e,i,n,r){for(const o of e){const e=o.geometry,c=o.centroid,u=o.attributes;let h;e&&(h=B(new l["a"],e,i,n)),Object(s["l"])(c)?t.push(new a["b"](h,u,x(new l["a"],c),u[r])):t.push(new a["b"](h,u,null,u[r]))}return t}function B(t,e,i=e.hasZ,n=e.hasM){return H(t,e.rings,i,n),t}function H(t,e,i,n){const r=u(i,n),{lengths:s,coords:o}=t;let a=0;s.length=o.length=0;for(const c of e){for(const t of c)for(let e=0;e<r;e++)o[a++]=t[e];s.push(c.length)}return t}const W=[],J=[];function K(t,e,i,n,r){W[0]=t;const[s]=Y(J,W,e,i,n,r);return W.length=J.length=0,s}function Y(t,e,i,r,s,o){if(t.length=0,!i){for(const i of e){const e=i.attributes[o];t.push(new a["b"](null,i.attributes,null,e))}return t}switch(i){case"esriGeometryPoint":return P(t,e,r,s,o);case"esriGeometryMultipoint":return N(t,e,r,s,o);case"esriGeometryPolyline":return V(t,e,r,s,o);case"esriGeometryPolygon":return q(t,e,r,s,o);default:h.error("convertToFeatureSet:unknown-geometry",new n["a"](`Unable to parse unknown geometry type '${i}'`)),t.length=0}return t}function Z(t,e,i,r,s,o){const a=t.length;switch(i){case"esriGeometryPoint":P(t,e,r,s,o);break;case"esriGeometryMultipoint":N(t,e,r,s,o);break;case"esriGeometryPolyline":V(t,e,r,s,o);break;case"esriGeometryPolygon":q(t,e,r,s,o);break;default:h.error("convertToFeatureSet:unknown-geometry",new n["a"](`Unable to parse unknown geometry type '${i}'`))}for(let n=0;n<e.length;n++)t[n+a].geometryType=i,t[n+a].insertAfter=e[n].insertAfter,t[n+a].groupId=e[n].groupId;return t}function X(t,e,i,n){J[0]=t,it(W,J,e,i,n);const r=W[0];return W.length=J.length=0,r}function Q(t,e,i){if(Object(s["k"])(t))return null;const r=new l["a"];return"hasZ"in t&&null==e&&(e=t.hasZ),"hasM"in t&&null==i&&(i=t.hasM),Object(o["f"])(t)?C(null!=e?e:null!=t.z,null!=i?i:null!=t.m)(r,t):Object(o["g"])(t)?B(r,t,e,i):Object(o["h"])(t)?$(r,t,u(e,i)):Object(o["e"])(t)?F(r,t,u(e,i)):void h.error("convertFromGeometry:unknown-geometry",new n["a"](`Unable to parse unknown geometry type '${t}'`))}function tt(t,e,i,r){const o=t&&("coords"in t?t:t.geometry);if(Object(s["k"])(o))return null;switch(e){case"esriGeometryPoint":{let t=_;return i&&r?t=T:i?t=S:r&&(t=k),t(o)}case"esriGeometryMultipoint":return L(o,i,r);case"esriGeometryPolyline":return z(o,i,r);case"esriGeometryPolygon":return U(o,i,r);default:return void h.error("convertToGeometry:unknown-geometry",new n["a"](`Unable to parse unknown geometry type '${e}'`))}}function et(t,e){for(const i of e)t.push({attributes:i.attributes});return t}function it(t,e,i,r,o){if(t.length=0,Object(s["k"])(i))return et(t,e);switch(i){case"esriGeometryPoint":return A(t,e,r,o);case"esriGeometryMultipoint":return R(t,e,r,o);case"esriGeometryPolyline":return D(t,e,r,o);case"esriGeometryPolygon":return G(t,e,r,o);default:h.error("convertToFeatureSet:unknown-geometry",new n["a"](`Unable to parse unknown geometry type '${i}'`))}return t}function nt(t){const{objectIdFieldName:e,spatialReference:i,transform:n,fields:r,hasM:s,hasZ:o,features:a,geometryType:c,exceededTransferLimit:l,uniqueIdField:u,queryGeometry:h,queryGeometryType:d}=t,p={features:it([],a,c,o,s),fields:r,geometryType:c,objectIdFieldName:e,spatialReference:i,uniqueIdField:u,queryGeometry:tt(h,d,!1,!1)};return n&&(p.transform=n),l&&(p.exceededTransferLimit=l),s&&(p.hasM=s),o&&(p.hasZ=o),p}function rt(t,e){const i=new c["a"],{hasM:r,hasZ:s,features:o,objectIdFieldName:a,spatialReference:l,geometryType:u,exceededTransferLimit:d,transform:p,fields:f}=t;return f&&(i.fields=f),i.geometryType=u,i.objectIdFieldName=a||e,i.spatialReference=l,i.objectIdFieldName?(o&&Y(i.features,o,u,s,r,i.objectIdFieldName),d&&(i.exceededTransferLimit=d),r&&(i.hasM=r),s&&(i.hasZ=s),p&&(i.transform=p),i):(h.error(new n["a"]("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),i)}function st(t){const{transform:e,features:i,hasM:n,hasZ:r}=t;if(!e)return t;for(const o of i)Object(s["l"])(o.geometry)&&dt(o.geometry,o.geometry,n,r,e),o.centroid&&dt(o.centroid,o.centroid,n,r,e);return t.transform=null,t}function ot(t,e){const{geometryType:i,features:n,hasM:r,hasZ:s}=e;if(!t)return e;for(let o=0;o<n.length;o++){const e=n[o],a=e.weakClone();a.geometry=new l["a"],at(a.geometry,e.geometry,r,s,i,t),e.centroid&&(a.centroid=new l["a"],at(a.centroid,e.centroid,r,s,"esriGeometryPoint",t)),n[o]=a}return e.transform=t,e}function at(t,e,i,n,r,o,a=i,c=n){if(t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0),Object(s["k"])(e)||!e.coords.length)return null;const l=d[r],{coords:h,lengths:p}=e,f=u(i,n),b=u(i&&a,n&&c),y=m(i,n,a,c);if(!p.length)return y(t.coords,h,0,0,g(o,h[0]),v(o,h[1])),t.lengths.length&&(t.lengths.length=0),t.coords.length=f,t;let w,O,j,_,x=0,S=0,M=S;for(const s of p){if(s<l)continue;let e=0;S=M,j=w=g(o,h[x]),_=O=v(o,h[x+1]),y(t.coords,h,S,x,j,_),e++,x+=f,S+=b;for(let i=1;i<s;i++,x+=f)j=g(o,h[x]),_=v(o,h[x+1]),j===w&&_===O||(y(t.coords,h,S,x,j-w,_-O),S+=b,e++,w=j,O=_);e>=l&&(t.lengths.push(e),M=S)}return t.coords.length=M,t.coords.length?t:null}function ct(t,e,i,n,r,s,o=i,a=n){if(t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0),!e||!e.coords.length)return null;const c=d[r],{coords:l,lengths:h}=e,p=u(i,n),f=u(i&&o,n&&a),b=m(i,n,o,a);if(!h.length)return b(t.coords,l,0,0,l[0],l[1]),t.lengths.length&&(t.lengths.length=0),t.coords.length=p,t;let y=0;const g=s*s;for(const u of h){if(u<c){y+=u*p;continue}const e=t.coords.length/f,i=y,n=y+(u-1)*p;b(t.coords,l,t.coords.length,i,l[i],l[i+1]),ut(t.coords,l,p,g,b,i,n),b(t.coords,l,t.coords.length,n,l[n],l[n+1]);const r=t.coords.length/f-e;r>=c?t.lengths.push(r):t.coords.length=e*f,y+=u*p}return t.coords.length?t:null}function lt(t,e,i,n){const r=t[e],s=t[e+1],o=t[i],a=t[i+1],c=t[n],l=t[n+1];let u=o,h=a,d=c-u,p=l-h;if(0!==d||0!==p){const t=((r-u)*d+(s-h)*p)/(d*d+p*p);t>1?(u=c,h=l):t>0&&(u+=d*t,h+=p*t)}return d=r-u,p=s-h,d*d+p*p}function ut(t,e,i,n,r,s,o){let a,c=n,l=0;for(let u=s+i;u<o;u+=i)a=lt(e,u,s,o),a>c&&(l=u,c=a);c>n&&(l-s>i&&ut(t,e,i,n,r,s,l),r(t,e,t.length,l,e[l],e[l+1]),o-l>i&&ut(t,e,i,n,r,l,o))}function ht(t,e,i,n){if(Object(s["k"])(e)||!e.coords||!e.coords.length)return null;const r=u(i,n);let o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(e&&e.coords){const t=e.coords;for(let e=0;e<t.length;e+=r){const i=t[e],n=t[e+1];o=Math.min(o,i),c=Math.max(c,i),a=Math.min(a,n),l=Math.max(l,n)}}return t[0]=o,t[1]=a,t[2]=c,t[3]=l,t}function dt(t,e,i,n,r){const{coords:s,lengths:o}=e,a=i?n?y:f:n?f:p,c=u(i,n);if(!s.length)return t!==e&&(t.lengths.length=0,t.coords.length=0),t;if(!o.length)return a(t.coords,s,0,0,w(r,s[0]),O(r,s[1])),t!==e&&(t.lengths.length=0,t.coords.length=c),t;const[l,h]=r.scale;let d=0;for(let u=0;u<o.length;u++){const e=o[u];t.lengths[u]=e;let i=w(r,s[d]),n=O(r,s[d+1]);a(t.coords,s,d,d,i,n),d+=c;for(let r=1;r<e;r++,d+=c)i+=s[d]*l,n-=s[d+1]*h,a(t.coords,s,d,d,i,n)}return t!==e&&(t.lengths.length=o.length,t.coords.length=s.length),t}function pt(t,e,i,n,r,s){const o=u(i,n),a=m(i,n,r,s),c=e.coords;t.coords.length=0,t.lengths.length=0,t.lengths.push(...e.lengths);for(let l=0;l<c.length;l+=o)a(t.coords,c,t.coords.length,l,c[l],c[l+1]);return t}function ft(t,e,i,n){let r=0,s=t[n*e],o=t[n*(e+1)];for(let a=1;a<i;a++){const i=s+t[n*(e+a)],c=o+t[n*(e+a)+1],l=(i-s)*(c+o);s=i,o=c,r+=l}return.5*r}function bt(t,e){const{coords:i,lengths:n}=t;let r=0,s=0;for(let o=0;o<n.length;o++)s+=ft(i,r,n[o],e),r+=o;return Math.abs(s)}function yt(t,e){if(Object(s["k"])(t))return null;const i=t.clone(),n=t.coords,r=t.lengths;let o=0;for(let s=0;s<r.length;s++){const t=r[s];let a=n[e*o],c=n[e*o+1];for(let r=1;r<t;r++){const t=a+n[e*(o+r)],s=c+n[e*(o+r)+1];i.coords[e*(o+r)]=t,i.coords[e*(o+r)+1]=s,a=t,c=s}o+=t}return i}},"667b":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("a4ee"),r=i("fa8a"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("73cb");const l=new r["a"]({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let u=class extends s["a"]{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const e=new Set;return await this.collectRequiredFields(e,t),Array.from(e).sort()}getSymbol(t,e){}async getSymbolAsync(t,e){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};Object(n["a"])([Object(o["b"])({type:c["a"],json:{write:!0}})],u.prototype,"authoringInfo",void 0),Object(n["a"])([Object(o["b"])({type:l.apiValues,readOnly:!0,json:{type:l.jsonValues,read:!1,write:{writer:l.write,ignoreOrigin:!0}}})],u.prototype,"type",void 0),u=Object(n["a"])([Object(a["a"])("esri.renderers.Renderer")],u);const h=u},6706:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return c}));var n=i("a915"),r=i("3349"),s=i("0b2d"),o=i("4ae5"),a=i("f408");function c(t,e){const i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function l(t,e){const i=t.length===e.length&&t[0]===e[0]&&t[1]===e[1];switch(t.length){case 2:return i;case 3:return i&&t[2]===e[2];case 4:return i&&t[3]===e[3]}return!1}function u(t,e,i,r){return"2d"===r.type?r.toScreen(e.vectorToPoint(t,y)):(h(t,e,i,r,f),r.state.camera.projectToScreen(f,b),Object(n["e"])(b[0],b[1]))}function h(t,e,i,n,r=Object(s["f"])()){const o=e.toXYZ(t);return o[2]=Object(a["b"])(n,o,e.spatialReference,i)||0,n.renderCoordsHelper.toRenderCoords(o,e.spatialReference,r),r}function d(t,e,i,n,r,s,o){const c=i.toXYZ(t),l=i.toXYZ(e),u=Object(a["b"])(r,c,i.spatialReference,n),h=Object(a["b"])(r,l,i.spatialReference,n),d=(null==u?h:null==h?u:Math.min(u,h))||0;c[2]=d,l[2]=d,r.renderCoordsHelper.toRenderCoords(c,i.spatialReference,s),r.renderCoordsHelper.toRenderCoords(l,i.spatialReference,o)}function p(t,e){e.sort((e,i)=>Object(r["a"])(e.targetPoint,t)-Object(r["a"])(i.targetPoint,t))}const f=Object(s["f"])(),b=Object(n["f"])(),y=new o["a"]},6759:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("e1fa"),r=i("787a"),s=i("fa90"),o=i("4995"),a=i("ed91"),c=i("9b9d");const l={base:c["a"],key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n["a"],"column-chart":r["a"],"line-chart":o["a"],"pie-chart":a["a"],image:s["a"]}}},6781:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fa8a");const r=new n["a"]({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},"67c2":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("c649"),r=i("e92d"),s=i("f4cc"),o=i("dbbf");const a=r["a"].getLogger("esri.core.workers.Connection");class c{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,e){return new Promise((i,n)=>{let r=!0;const a=t=>{Object(s["u"])(e.signal),r&&(r=!1,t())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let c=0;c<t.length;++c){const r=t[c];Object(s["o"])(r)?this._clientPromises[c]=r.then(t=>(this._clients[c]=new o["a"](t,e),a(i),this._clients[c]),()=>(a(n),null)):(this._clients[c]=new o["a"](r,e),this._clientPromises[c]=Promise.resolve(this._clients[c]),a(i))}})}broadcast(t,e,i){const n=new Array(this._clientPromises.length);for(let r=0;r<this._clientPromises.length;++r){const s=this._clientPromises[r];n[r]=s.then(n=>n.invoke(t,e,i))}return n}close(){for(const t of this._clientPromises)t.then(t=>t.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let e=0;e<this._clients.length;++e){const i=this._clients[e];if(i){if(!i.isBusy())return Promise.resolve(i)}else t=t||[],t.push(this._clientPromises[e])}return t?Promise.race(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(t,e,i){let n=null;return Array.isArray(i)?(a.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:i}):n=i,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(i=>i.invoke(t,e,n))}on(t,e){return Promise.all(this._clientPromises).then(()=>Object(n["b"])(this._clients.map(i=>i.on(t,e))))}openPorts(){return new Promise(t=>{const e=new Array(this._clientPromises.length);let i=e.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(r=>{e[n]=r.openPort(),0==--i&&t(e)})})}get test(){return{numClients:this._clients.length}}}},"680b":function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a}));var n=i("38a4"),r=i("e431"),s=i("0b2d");function o(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],i=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],n=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}function a(t,e){const i=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),n=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),s=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return Object(r["w"])(t,i,n,s),t}class c{constructor(t,e){this.min=t,this.max=e,this.range=e-t}ndiff(t,e=0){return Math.ceil((t-e)/this.range)*this.range+e}_normalize(t,e,i,n=0,r=!1){return(i-=n)<t?i+=this.ndiff(t-i):i>e&&(i-=this.ndiff(i-e)),r&&i===e&&(i=t),i+n}normalize(t,e=0,i=!1){return this._normalize(this.min,this.max,t,e,i)}clamp(t,e=0){return Object(n["d"])(t-e,this.min,this.max)+e}monotonic(t,e,i){return t<e?e:e+this.ndiff(t-e,i)}minimalMonotonic(t,e,i){return this._normalize(t,t+this.range,e,i)}center(t,e,i){return e=this.monotonic(t,e,i),this.normalize((t+e)/2,i)}diff(t,e,i){return this.monotonic(t,e,i)-t}shortestSignedDiff(t,e){t=this.normalize(t);const i=(e=this.normalize(e))-t,n=e<t?this.minimalMonotonic(t,e)-t:e-this.minimalMonotonic(e,t);return Math.abs(i)<Math.abs(n)?i:n}contains(t,e,i){return e=this.minimalMonotonic(t,e),(i=this.minimalMonotonic(t,i))>t&&i<e}}Object(s["f"])(),Object(s["f"])();function l(t){for(const e in t){const i=t[e];i instanceof Function&&(t[e]=i.bind(t))}return t}l(new c(0,2*Math.PI));const u=l(new c(-Math.PI,Math.PI)),h=l(new c(0,360));Object(s["f"])(),Object(s["f"])(),Object(s["f"])()},"68dc":function(t,e,i){"use strict";function n(t,e){for(const i of t.children)if(i.localName in e){const t=e[i.localName];if("function"==typeof t){const e=t(i);e&&n(i,e)}else n(i,t)}}function*r(t,e){for(const i of t.children)if(i.localName in e){const t=e[i.localName];"function"==typeof t?yield t(i):yield*r(i,t)}}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}))},"68ee":function(t,e,i){var n=i("e330"),r=i("d039"),s=i("1626"),o=i("f5df"),a=i("d066"),c=i("8925"),l=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=n(d.exec),f=!d.exec(l),b=function(t){if(!s(t))return!1;try{return h(l,u,t),!0}catch(e){return!1}},y=function(t){if(!s(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,c(t))}catch(e){return!0}};y.sham=!0,t.exports=!h||r((function(){var t;return b(b.call)||!b(Object)||!b((function(){t=!0}))||t}))?y:b},"69c9":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("d386")),c=i("a7a7");let l=n=class extends c["a"]{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new n({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?Object(s["a"])(this.outFields):null})}};Object(r["a"])([Object(o["b"])()],l.prototype,"creator",void 0),Object(r["a"])([Object(o["b"])()],l.prototype,"destroyer",void 0),Object(r["a"])([Object(o["b"])()],l.prototype,"outFields",void 0),Object(r["a"])([Object(o["b"])({type:["custom"],readOnly:!0})],l.prototype,"type",void 0),l=n=Object(r["a"])([Object(a["a"])("esri.popup.content.CustomContent")],l);const u=l},"69dd":function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var n,r=i("a4ee"),s=i("e06a"),o=i("658b"),a=i("fa8a"),c=i("6a0e"),l=i("7ffa"),u=i("b2b2"),h=i("59b2"),d=i("1a3e"),p=i("448d"),f=i("d386"),b=i("09db"),y=i("cea0"),m=i("a9ab"),g=i("624c"),v=i("79e4"),w=i("a796"),O=i("5996"),j=i("4ae5");const _=new a["a"]({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),x=new a["a"]({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let S=n=class extends c["a"]{constructor(t){super(t),this.aggregateIds=null,this.cacheHint=void 0,this.datumTransformation=null,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(t){return Object(y["d"])(n,t)}castDatumTransformation(t){return"number"==typeof t||"object"==typeof t?t:null}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}writeParameterValues(t,e){if(t){const i={};for(const e in t){const n=t[e];Array.isArray(n)?i[e]=n.map(t=>t instanceof Date?t.getTime():t):n instanceof Date?i[e]=n.getTime():i[e]=n}e.parameterValues=i}}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,e.where="1=1"}writeWhere(t,e){e.where=t||"1=1"}clone(){return new n(Object(l["a"])({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(u["l"])(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};S.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(r["a"])([Object(h["b"])({json:{write:!0}})],S.prototype,"aggregateIds",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{write:!0}})],S.prototype,"cacheHint",void 0),Object(r["a"])([Object(h["b"])({json:{write:!0}})],S.prototype,"datumTransformation",void 0),Object(r["a"])([Object(d["a"])("datumTransformation")],S.prototype,"castDatumTransformation",null),Object(r["a"])([Object(h["b"])({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],S.prototype,"distance",void 0),Object(r["a"])([Object(h["b"])({type:g["a"],json:{write:!0}})],S.prototype,"dynamicDataSource",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],S.prototype,"formatOf3DObjects",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],S.prototype,"gdbVersion",void 0),Object(r["a"])([Object(h["b"])({types:s["a"],json:{read:m["a"],write:!0}})],S.prototype,"geometry",void 0),Object(r["a"])([Object(h["b"])({type:Number,json:{write:!0}})],S.prototype,"geometryPrecision",void 0),Object(r["a"])([Object(h["b"])({type:[String],json:{write:!0}})],S.prototype,"groupByFieldsForStatistics",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],S.prototype,"having",void 0),Object(r["a"])([Object(h["b"])({type:Date})],S.prototype,"historicMoment",void 0),Object(r["a"])([Object(b["a"])("historicMoment")],S.prototype,"writeHistoricMoment",null),Object(r["a"])([Object(h["b"])({type:Number,json:{write:!0}})],S.prototype,"maxAllowableOffset",void 0),Object(r["a"])([Object(h["b"])({type:Number,cast:t=>t<1?1:t>n.MAX_MAX_RECORD_COUNT_FACTOR?n.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],S.prototype,"maxRecordCountFactor",void 0),Object(r["a"])([Object(h["b"])({type:["xyFootprint"],json:{write:!0}})],S.prototype,"multipatchOption",void 0),Object(r["a"])([Object(h["b"])({type:Number,json:{read:{source:"resultRecordCount"}}})],S.prototype,"num",void 0),Object(r["a"])([Object(h["b"])({json:{write:!0}})],S.prototype,"objectIds",void 0),Object(r["a"])([Object(h["b"])({type:[String],json:{write:!0}})],S.prototype,"orderByFields",void 0),Object(r["a"])([Object(h["b"])({type:[String],json:{write:!0}})],S.prototype,"outFields",void 0),Object(r["a"])([Object(h["b"])({type:O["a"],json:{name:"outSR",write:!0}})],S.prototype,"outSpatialReference",void 0),Object(r["a"])([Object(h["b"])({type:[w["a"]],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(u["l"])(this.outStatistics)&&this.outStatistics.length>0}}}}})],S.prototype,"outStatistics",void 0),Object(r["a"])([Object(h["b"])({json:{write:!0}})],S.prototype,"parameterValues",void 0),Object(r["a"])([Object(b["a"])("parameterValues")],S.prototype,"writeParameterValues",null),Object(r["a"])([Object(h["b"])({type:j["a"],json:{write:!0}})],S.prototype,"pixelSize",void 0),Object(r["a"])([Object(h["b"])({type:v["a"],json:{write:!0}})],S.prototype,"quantizationParameters",void 0),Object(r["a"])([Object(h["b"])({type:[Object],json:{write:!0}})],S.prototype,"rangeValues",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],S.prototype,"relationParameter",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],S.prototype,"resultType",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{default:!1,write:!0}})],S.prototype,"returnCentroid",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{default:!1,write:!0}})],S.prototype,"returnDistinctValues",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{default:!0,write:!0}})],S.prototype,"returnExceededLimitFeatures",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{write:!0}})],S.prototype,"returnGeometry",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{default:!1,write:!0}})],S.prototype,"returnQueryGeometry",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{default:!1,write:!0}})],S.prototype,"returnM",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],S.prototype,"returnZ",void 0),Object(r["a"])([Object(h["b"])({type:O["a"],json:{write:!0}})],S.prototype,"sourceSpatialReference",void 0),Object(r["a"])([Object(p["a"])(_,{ignoreUnknown:!1,name:"spatialRel"})],S.prototype,"spatialRelationship",void 0),Object(r["a"])([Object(h["b"])({type:Number,json:{read:{source:"resultOffset"}}})],S.prototype,"start",void 0),Object(r["a"])([Object(b["a"])("start"),Object(b["a"])("num")],S.prototype,"writeStart",null),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],S.prototype,"sqlFormat",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],S.prototype,"text",void 0),Object(r["a"])([Object(h["b"])({type:o["a"],json:{write:!0}})],S.prototype,"timeExtent",void 0),Object(r["a"])([Object(h["b"])({type:Boolean,json:{default:!1,write:!0}})],S.prototype,"timeReferenceUnknownClient",void 0),Object(r["a"])([Object(p["a"])(x,{ignoreUnknown:!1}),Object(h["b"])({json:{write:{overridePolicy(t){return{enabled:t&&this.distance>0}}}}})],S.prototype,"units",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:{overridePolicy(t){return{enabled:null!=t||this.start>0}}}}})],S.prototype,"where",void 0),Object(r["a"])([Object(b["a"])("where")],S.prototype,"writeWhere",null),S=n=Object(r["a"])([Object(f["a"])("esri.rest.support.Query")],S);const M=S},"69e9":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("5ab2");let r,s=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};r=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let o=(t,e)=>{let i=t;return e.forEach(t=>{i=i&&i.children?r(i.children,e=>e.domNode===t):void 0}),i},a=(t,e,i)=>{let n=function(n){i("domEvent",n);let r=e(),a=s(n.currentTarget,r.domNode);a.reverse();let c,l=o(r.getLastRender(),a);return t.scheduleRender(),l&&(c=l.properties["on"+n.type].apply(l.properties.bind||this,arguments)),i("domEventProcessed",n),c};return(t,e,i,r)=>n},c=t=>{let e,i,r=Object(n["a"])(t),s=r.performanceLogger,o=!0,c=!1,l=[],u=[],h=(t,i,n)=>{let o,c=()=>o;r.eventHandlerInterceptor=a(e,c,s),o=t(i,n(),r),l.push(o),u.push(n)},d=()=>{if(i=void 0,o){o=!1,s("renderStart",void 0);for(let t=0;t<l.length;t++){let e=u[t]();s("rendered",void 0),l[t].update(e),s("patched",void 0)}s("renderDone",void 0),o=!0}};return e={renderNow:d,scheduleRender:()=>{i||c||(i=requestAnimationFrame(d))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),c=!0},resume:()=>{c=!1,o=!0,e.scheduleRender()},append:(t,e)=>{h(n["b"].append,t,e)},insertBefore:(t,e)=>{h(n["b"].insertBefore,t,e)},merge:(t,e)=>{h(n["b"].merge,t,e)},replace:(t,e)=>{h(n["b"].replace,t,e)},detach:t=>{for(let e=0;e<u.length;e++)if(u[e]===t)return u.splice(e,1),l.splice(e,1)[0];throw new Error("renderFunction was not found")}},e}},"69f3":function(t,e,i){var n,r,s,o=i("7f9a"),a=i("da84"),c=i("e330"),l=i("861d"),u=i("9112"),h=i("1a2d"),d=i("c6cd"),p=i("f772"),f=i("d012"),b="Object already initialized",y=a.TypeError,m=a.WeakMap,g=function(t){return s(t)?r(t):n(t,{})},v=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw y("Incompatible receiver, "+t+" required");return i}};if(o||d.state){var w=d.state||(d.state=new m),O=c(w.get),j=c(w.has),_=c(w.set);n=function(t,e){if(j(w,t))throw new y(b);return e.facade=t,_(w,t,e),e},r=function(t){return O(w,t)||{}},s=function(t){return j(w,t)}}else{var x=p("state");f[x]=!0,n=function(t,e){if(h(t,x))throw new y(b);return e.facade=t,u(t,x,e),e},r=function(t){return h(t,x)?t[x]:{}},s=function(t){return h(t,x)}}t.exports={set:n,get:r,has:s,enforce:g,getterFor:v}},"6a0e":function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return c}));var n=i("a4ee"),r=i("fc29"),s=i("0964"),o=i("c478"),a=i("d386");const c=t=>{let e=class extends t{constructor(...t){super(...t)}read(t,e){Object(s["a"])(this,t,e)}write(t={},e){return Object(o["b"])(this,t,e)}toJSON(t){return this.write({},t)}static fromJSON(t,e){return l.call(this,t,e)}};return e=Object(n["a"])([Object(a["a"])("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function l(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}let u=class extends(c(r["a"])){};u=Object(n["a"])([Object(a["a"])("esri.core.JSONSupport")],u)},"6c97":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));i("c120");function n(t){}function r(t){return()=>t}},"6d1b":function(t,e,i){"use strict";i.d(e,"a",(function(){return U}));var n,r=i("a4ee"),s=i("619d"),o=i("9ef0"),a=i("2c4f"),c=i("7d7d"),l=i("6c97"),u=i("ce50"),h=i("6a0e"),d=i("7ffa"),p=i("6d5f"),f=i("1853"),b=i("e92d"),y=i("f4cc"),m=i("59b2"),g=i("cea0"),v=i("d386"),w=i("09db"),O=(i("b50f"),i("c120"),i("2dd4"),i("448d"));let j=n=class extends h["a"]{constructor(t){super(t),this.type="none"}clone(){return new n({type:this.type})}};Object(r["a"])([Object(O["a"])({none:"none",stayAbove:"stay-above"})],j.prototype,"type",void 0),j=n=Object(r["a"])([Object(v["a"])("esri.ground.NavigationConstraint")],j);var _,x=i("42be");const S=b["a"].getLogger("esri.Ground");let M=_=class extends(Object(h["b"])(p["a"])){constructor(t){super(t),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new a["a"];const e=t=>{t.parent&&t.parent!==this&&"remove"in t.parent&&t.parent.remove(t),t.parent=this,"elevation"!==t.type&&"base-elevation"!==t.type&&S.error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=t=>{t.parent=null};this.layers.on("after-add",t=>e(t.item)),this.layers.on("after-remove",t=>i(t.item))}initialize(){this.when().catch(t=>{S.error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.layers.removeAll();for(const e of t)e.destroy();this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set layers(t){this._set("layers",Object(c["b"])(t,this._get("layers")))}writeLayers(t,e,i,n){const r=[];t?(n={...n,layerContainerType:"ground"},t.forEach(t=>{if("write"in t){const e={};Object(l["b"])(t)().write(e,n)&&r.push(e)}else n&&n.messages&&n.messages.push(new u["a"]("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted in the ground`,{layer:t}))}),e.layers=r):e.layers=r}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return Object(f["a"])(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:null==e?void 0:e.signal});const{ElevationQuery:n}=await i.e("chunk-2d0bdf78").then(i.bind(null,"2df6"));Object(y["u"])(e);const r=new n,s=this.layers.filter(I).toArray();return r.queryAll(s,t,e)}async createElevationSampler(t,e){await this.load({signal:null==e?void 0:e.signal});const{ElevationQuery:n}=await i.e("chunk-2d0bdf78").then(i.bind(null,"2df6"));Object(y["u"])(e);const r=new n,s=this.layers.filter(I).toArray();return r.createSamplerAll(s,t,e)}clone(){const t={opacity:this.opacity,surfaceColor:Object(d["a"])(this.surfaceColor),navigationConstraint:Object(d["a"])(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new _({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve(null)}_loadLayersFromJSON(t,e,n){const r=e&&e.origin||"web-scene",s=e&&e.portal||null,o=e&&e.url||null;return i.e("chunk-2d261253").then(i.bind(null,"e50f")).then(({populateOperationalLayers:e})=>{Object(y["u"])(n);const i=[];if(t.layers&&Array.isArray(t.layers)){const n={context:{origin:r,url:o,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};i.push(e(this.layers,t.layers,n))}return Object(y["i"])(i)}).then(()=>{})}};function k(t){return t&&"createElevationSampler"in t}function I(t){return"elevation"===t.type||k(t)}Object(r["a"])([Object(m["b"])({json:{read:!1}})],M.prototype,"layers",null),Object(r["a"])([Object(w["a"])("layers")],M.prototype,"writeLayers",null),Object(r["a"])([Object(m["b"])({readOnly:!0})],M.prototype,"resourceInfo",void 0),Object(r["a"])([Object(m["b"])({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:g["a"],read:{reader:x["b"],source:"transparency"},write:{writer:(t,e)=>{e.transparency=Object(x["a"])(t)},target:"transparency"}}})],M.prototype,"opacity",void 0),Object(r["a"])([Object(m["b"])({type:o["a"],json:{type:[g["a"]],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],M.prototype,"surfaceColor",void 0),Object(r["a"])([Object(m["b"])({type:j,json:{write:!0}})],M.prototype,"navigationConstraint",void 0),M=_=Object(r["a"])([Object(v["a"])("esri.Ground")],M);const T=M;var E=i("fc29"),A=i("4d10"),C=i("ce6d"),P=i("b2b2"),R=i("1a3e");function L(t){var e;return!!(t&&t.loaded&&"capabilities"in t&&null!=t&&null!=(e=t.capabilities)&&e.operations&&"supportsEditing"in t.capabilities.operations&&!0===t.capabilities.operations.supportsEditing)&&!("editingEnabled"in t&&!t.editingEnabled)}var N=i("51d7");const F=b["a"].getLogger("esri.support.groundUtils"),D={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function z(t){let e=null;if("string"==typeof t)if(t in D){const i=D[t];e=new T({resourceInfo:{data:{layers:[i]}}})}else F.warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=Object(g["m"])(T,t);return e}var V=i("a4f1"),$=i("e658");let G=class extends(Object($["a"])(Object(V["a"])(C["a"].EventedMixin(E["a"])))){constructor(t){super(t),this.allLayers=new A["a"]({getCollections:()=>{var t,e,i;return[null==(t=this.basemap)?void 0:t.baseLayers,null==(e=this.ground)?void 0:e.layers,this.layers,null==(i=this.basemap)?void 0:i.referenceLayers]},getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=new A["a"]({getCollections:()=>[this.tables,this.layers],getChildrenFunction:t=>{const e=[];return"tables"in t&&e.push(t.tables),"layers"in t&&e.push(t.layers),e},itemFilterFunction:t=>{const e=t.parent;return e&&"tables"in e&&e.tables.includes(t)}}),this.basemap=null,this.editableLayers=new A["a"]({getCollections:()=>[this.allLayers],itemFilterFunction:L}),this.ground=new T,this._basemapCache=Object(N["a"])()}destroy(){var t,e;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(t=this.ground)||t.destroy(),null==(e=this.basemap)||e.destroy(),Object(N["b"])(this._basemapCache),this._basemapCache=null}castBasemap(t){return Object(N["c"])(t,this._basemapCache)}castGround(t){const e=z(t);return Object(P["k"])(e)?this._get("ground"):e}findLayerById(t){return this.allLayers.find(e=>e.id===t)}findTableById(t){return this.allTables.find(e=>e.id===t)}};Object(r["a"])([Object(m["b"])({readOnly:!0,dependsOn:[]})],G.prototype,"allLayers",void 0),Object(r["a"])([Object(m["b"])({readOnly:!0})],G.prototype,"allTables",void 0),Object(r["a"])([Object(m["b"])({type:s["default"]})],G.prototype,"basemap",void 0),Object(r["a"])([Object(R["a"])("basemap")],G.prototype,"castBasemap",null),Object(r["a"])([Object(m["b"])({readOnly:!0})],G.prototype,"editableLayers",void 0),Object(r["a"])([Object(m["b"])({type:T,nonNullable:!0})],G.prototype,"ground",void 0),Object(r["a"])([Object(R["a"])("ground")],G.prototype,"castGround",null),G=Object(r["a"])([Object(v["a"])("esri.Map")],G);const U=G},"6d5f":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("a4ee"),r=i("ce50"),s=i("fab3"),o=i("f4cc"),a=i("0028"),c=i("59b2"),l=i("d386");const u="not-loaded",h="loading",d="failed",p="loaded",f=t=>{let e=class extends t{constructor(...t){super(...t),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(t=>{const e=this.load.bind(this);this.load=i=>{const n=new Promise((t,e)=>{const n=Object(o["q"])(i,e);this.destroyed&&e(new r["a"]("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(t,e).finally(()=>{n&&n.remove()})});if(this.loadStatus===u){this._set("loadStatus",h);const t=this._loadController=new AbortController;e({signal:t.signal}),Object(o["p"])(t.signal,()=>{this._promiseProps.abort()})}return t(),n}})),this.when(()=>{this._set("loadStatus",p),this._loadController=null},t=>{this._set("loadStatus",d),this._set("loadError",t),this._loadController=null})}get loaded(){return this.loadStatus===p}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var t;return this.isFulfilled()||(this._set("loadError",new r["a"]("load:cancelled","Cancelled")),null==(t=this._loadController)||t.abort()),this}};return Object(n["a"])([Object(c["b"])({readOnly:!0})],e.prototype,"loaded",null),Object(n["a"])([Object(c["b"])({readOnly:!0})],e.prototype,"loadError",void 0),Object(n["a"])([Object(c["b"])()],e.prototype,"loadStatus",void 0),Object(n["a"])([Object(c["b"])({type:[a["a"]],readOnly:!0})],e.prototype,"loadWarnings",null),e=Object(n["a"])([Object(l["a"])("esri.core.Loadable")],e),e};let b=class extends(f(s["a"])){};b=Object(n["a"])([Object(l["a"])("esri.core.Loadable")],b),function(t){function e(t){return!(!t||!t.load)}t.LoadableMixin=f,t.isLoadable=e}(b||(b={}));const y=b},"6e07":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("2c4f"),o=i("7ffa"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("d386"),u=i("8d66"),h=i("3ad7"),d=i("c528");const p=s["a"].ofType({base:null,key:"type",typeMap:{line:u["a"],path:h["a"]}}),f=s["a"].ofType({base:null,key:"type",typeMap:{line:u["a"],path:h["a"]}});let b=n=class extends d["a"]{constructor(t){super(t),this.symbolLayers=new p,this.type="line-3d"}clone(){return new n({styleOrigin:Object(o["a"])(this.styleOrigin),symbolLayers:Object(o["a"])(this.symbolLayers),thumbnail:Object(o["a"])(this.thumbnail)})}static fromSimpleLineSymbol(t){return new n({symbolLayers:[u["a"].fromSimpleLineSymbol(t)]})}};Object(r["a"])([Object(a["b"])({type:p,json:{type:f}})],b.prototype,"symbolLayers",void 0),Object(r["a"])([Object(c["a"])({LineSymbol3D:"line-3d"},{readOnly:!0})],b.prototype,"type",void 0),b=n=Object(r["a"])([Object(l["a"])("esri.symbols.LineSymbol3D")],b);const y=b},"6e4d":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("a915"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("0d93");let c=class extends a["a"]{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};Object(n["a"])([Object(s["b"])({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],c.prototype,"angle",void 0),Object(n["a"])([Object(s["b"])({type:["simple-marker","picture-marker"],readOnly:!0})],c.prototype,"type",void 0),Object(n["a"])([Object(s["b"])({type:Number,cast:r["j"],json:{write:!0}})],c.prototype,"xoffset",void 0),Object(n["a"])([Object(s["b"])({type:Number,cast:r["j"],json:{write:!0}})],c.prototype,"yoffset",void 0),Object(n["a"])([Object(s["b"])({type:Number,cast:t=>"auto"===t?t:Object(r["j"])(t),json:{write:!0}})],c.prototype,"size",void 0),c=Object(n["a"])([Object(o["a"])("esri.symbols.MarkerSymbol")],c);const l=c},"6eeb":function(t,e,i){var n=i("da84"),r=i("1626"),s=i("1a2d"),o=i("9112"),a=i("ce4e"),c=i("8925"),l=i("69f3"),u=i("5e77").CONFIGURABLE,h=l.get,d=l.enforce,p=String(String).split("String");(t.exports=function(t,e,i,c){var l,h=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,b=!!c&&!!c.noTargetGet,y=c&&void 0!==c.name?c.name:e;r(i)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(i,"name")||u&&i.name!==y)&&o(i,"name",y),l=d(i),l.source||(l.source=p.join("string"==typeof y?y:""))),t!==n?(h?!b&&t[e]&&(f=!0):delete t[e],f?t[e]=i:o(t,e,i)):f?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return r(this)&&h(this).source||c(this)}))},7015:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return d}));var n=i("b3b6"),r=i("2035");const s={ar:[".",","],bg:[","," "],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function o(t){t||(t=Object(r["b"])());let e=t in s;if(!e){const i=t.split("-");i.length>1&&i[0]in s&&(t=i[0],e=!0),e||(t="en")}const[i,n,o="#,##0.###"]=s[t];return{decimal:i,group:n,pattern:o}}function a(t,e){const i=o((e={...e}).locale);e.customs=i;const n=e.pattern||i.pattern;return isNaN(t)||Math.abs(t)===1/0?null:l(t,n,e)}const c=/[#0,]*[#0](?:\.0*#*)?/;function l(t,e,i){const n=(i=i||{}).customs.group,r=i.customs.decimal,s=e.split(";"),o=s[0];if(-1!==(e=s[t<0?1:0]||"-"+o).indexOf("%"))t*=100;else if(-1!==e.indexOf("‰"))t*=1e3;else{if(-1!==e.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==e.indexOf("E"))throw new Error("exponential notation not supported")}const a=c,l=o.match(a);if(!l)throw new Error("unable to find a number expression in pattern: "+e);return!1===i.fractional&&(i.places=0),e.replace(a,u(t,l[0],{decimal:r,group:n,places:i.places,round:i.round}))}function u(t,e,i){!0===(i=i||{}).places&&(i.places=0),i.places===1/0&&(i.places=6);const n=e.split("."),r="string"==typeof i.places&&i.places.indexOf(",");let s=i.places;r?s=i.places.substring(r+1):s>=0||(s=(n[1]||[]).length),i.round<0||(t=Number(t.toFixed(Number(s))));const o=String(Math.abs(t)).split("."),a=o[1]||"";if(n[1]||i.places){r&&(i.places=i.places.substring(0,r));const t=void 0!==i.places?i.places:n[1]&&n[1].lastIndexOf("0")+1;t>a.length&&(o[1]=a.padEnd(Number(t),"0")),s<a.length&&(o[1]=a.substr(0,Number(s)))}else o[1]&&o.pop();const c=n[0].replace(",","");let l=c.indexOf("0");-1!==l&&(l=c.length-l,l>o[0].length&&(o[0]=o[0].padStart(l,"0")),-1===c.indexOf("#")&&(o[0]=o[0].substr(o[0].length-l)));let u,h,d=n[0].lastIndexOf(",");if(-1!==d){u=n[0].length-d-1;const t=n[0].substr(0,d);d=t.lastIndexOf(","),-1!==d&&(h=t.length-d-1)}const p=[];for(let f=o[0];f;){const t=f.length-u;p.push(t>0?f.substr(t):f),f=t>0?f.slice(0,t):"",h&&(u=h,h=void 0)}return o[0]=p.reverse().join(i.group||","),o.join(i.decimal||".")}function h(t){const e=o((t=t||{}).locale),i=t.pattern||e.pattern,r=e.group,s=e.decimal;let a=1;if(-1!==i.indexOf("%"))a/=100;else if(-1!==i.indexOf("‰"))a/=1e3;else if(-1!==i.indexOf("¤"))throw new Error("currency notation not supported");const l=i.split(";");1===l.length&&l.push("-"+l[0]);const u=b(l,(function(e){return(e="(?:"+Object(n["a"])(e,".")+")").replace(c,(function(e){const i={signed:!1,separator:t.strict?r:[r,""],fractional:t.fractional,decimal:s,exponent:!1},n=e.split(".");let o=t.places;1===n.length&&1!==a&&(n[1]="###"),1===n.length||0===o?i.fractional=!1:(void 0===o&&(o=t.pattern?n[1].lastIndexOf("0")+1:1/0),o&&null==t.fractional&&(i.fractional=!0),!t.places&&o<n[1].length&&(o+=","+n[1].length),i.places=o);const c=n[0].split(",");return c.length>1&&(i.groupSize=c.pop().length,c.length>1&&(i.groupSize2=c.pop().length)),"("+p(i)+")"}))}),!0);return{regexp:u.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:s,factor:a}}function d(t,e){const i=h(e),n=new RegExp("^"+i.regexp+"$").exec(t);if(!n)return NaN;let r=n[1];if(!n[1]){if(!n[2])return NaN;r=n[2],i.factor*=-1}return r=r.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(r)*i.factor}function p(t){"places"in(t=t||{})||(t.places=1/0),"string"!=typeof t.decimal&&(t.decimal="."),"fractional"in t&&!/^0/.test(String(t.places))||(t.fractional=[!0,!1]),"exponent"in t||(t.exponent=[!0,!1]),"eSigned"in t||(t.eSigned=[!0,!1]);const e=f(t),i=b(t.fractional,(function(e){let i="";return e&&0!==t.places&&(i="\\"+t.decimal,t.places===1/0?i="(?:"+i+"\\d+)?":i+="\\d{"+t.places+"}"),i}),!0);let n=e+i;return i&&(n="(?:(?:"+n+")|(?:"+i+"))"),n+b(t.exponent,(function(e){return e?"([eE]"+f({signed:t.eSigned})+")":""}))}function f(t){return"signed"in(t=t||{})||(t.signed=[!0,!1]),"separator"in t?"groupSize"in t||(t.groupSize=3):t.separator="",b(t.signed,(function(t){return t?"[-+]":""}),!0)+b(t.separator,(function(e){if(!e)return"(?:\\d+)";" "===(e=Object(n["a"])(e))?e="\\s":" "===e&&(e="\\s\\xa0");const i=t.groupSize,r=t.groupSize2;if(r){const t="(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+e+"]\\d{"+r+"})*["+e+"]\\d{"+i+"})";return i-r>0?"(?:"+t+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":t}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+e+"]\\d{"+i+"})*)"}),!0)}const b=function(t,e,i){if(!(t instanceof Array))return e(t);const n=[];for(let r=0;r<t.length;r++)n.push(e(t[r]));return y(n.join("|"),i)},y=function(t,e){return"("+(e?"?:":"")+t+")"}},"702a":function(t,e,i){"use strict";i.d(e,"a",(function(){return Bt})),i.d(e,"b",(function(){return Kt})),i.d(e,"c",(function(){return Wt})),i.d(e,"d",(function(){return re})),i.d(e,"e",(function(){return ie})),i.d(e,"f",(function(){return ee})),i.d(e,"g",(function(){return ne})),i.d(e,"h",(function(){return Ht})),i.d(e,"i",(function(){return te})),i.d(e,"j",(function(){return Qt})),i.d(e,"k",(function(){return Jt}));
/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */
var n="[object Object]";function r(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(i){}return e}function s(t,e){return function(i){return t(e(i))}}var o=Function.prototype,a=Object.prototype,c=o.toString,l=a.hasOwnProperty,u=c.call(Object),h=a.toString,d=s(Object.getPrototypeOf,Object);function p(t){return!!t&&"object"==typeof t}function f(t){if(!p(t)||h.call(t)!=n||r(t))return!1;var e=d(t);if(null===e)return!0;var i=l.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&c.call(i)==u}var b=f,y={exports:{}},m={},g={exports:{}},v={};function w(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}function O(t,e,i){}function j(t,e,i){}var _=/javascript\s*\:/gim;function x(t,e){return _.test(e)?"":e}v.whiteList=w(),v.getDefaultWhiteList=w,v.onAttr=O,v.onIgnoreAttr=j,v.safeAttrValue=x;var S={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,r;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},M=S;function k(t,e){t=M.trimRight(t),";"!==t[t.length-1]&&(t+=";");var i=t.length,n=!1,r=0,s=0,o="";function a(){if(!n){var i=M.trim(t.slice(r,s)),a=i.indexOf(":");if(-1!==a){var c=M.trim(i.slice(0,a)),l=M.trim(i.slice(a+1));if(c){var u=e(r,o.length,c,l,i);u&&(o+=u+"; ")}}}r=s+1}for(;s<i;s++){var c=t[s];if("/"===c&&"*"===t[s+1]){var l=t.indexOf("*/",s+2);if(-1===l)break;s=l+1,r=s+1,n=!1}else"("===c?n=!0:")"===c?n=!1:";"===c?n||a():"\n"===c&&a()}return M.trim(o)}var I=k,T=v,E=I;function A(t){return void 0===t||null===t}function C(t){var e={};for(var i in t)e[i]=t[i];return e}function P(t){t=C(t||{}),t.whiteList=t.whiteList||T.whiteList,t.onAttr=t.onAttr||T.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||T.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||T.safeAttrValue,this.options=t}P.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,n=i.whiteList,r=i.onAttr,s=i.onIgnoreAttr,o=i.safeAttrValue,a=E(t,(function(t,e,i,a,c){var l=n[i],u=!1;if(!0===l?u=l:"function"===typeof l?u=l(a):l instanceof RegExp&&(u=l.test(a)),!0!==u&&(u=!1),a=o(i,a),a){var h={position:e,sourcePosition:t,source:c,isWhite:u};if(u){var d=r(i,a,h);return A(d)?i+":"+a:d}d=s(i,a,h);return A(d)?void 0:d}}));return a};var R=P;(function(t,e){var i=v,n=R;function r(t,e){var i=new n(e);return i.process(t)}for(var s in e=t.exports=r,e.FilterCSS=n,i)e[s]=i[s]})(g,g.exports);var L={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,r;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},N=g.exports.FilterCSS,F=g.exports.getDefaultWhiteList,D=L;function z(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var V=new N;function $(t,e,i){}function G(t,e,i){}function U(t,e,i){}function q(t,e,i){}function B(t){return t.replace(W,"&lt;").replace(J,"&gt;")}function H(t,e,i,n){if(i=ct(i),"href"===e||"src"===e){if(i=D.trim(i),"#"===i)return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===e){if(tt.lastIndex=0,tt.test(i))return""}else if("style"===e){if(et.lastIndex=0,et.test(i))return"";if(it.lastIndex=0,it.test(i)&&(tt.lastIndex=0,tt.test(i)))return"";!1!==n&&(n=n||V,i=n.process(i))}return i=lt(i),i}var W=/</g,J=/>/g,K=/"/g,Y=/&quot;/g,Z=/&#([a-zA-Z0-9]*);?/gim,X=/&colon;?/gim,Q=/&newline;?/gim,tt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,et=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,it=/u\s*r\s*l\s*\(.*/gi;function nt(t){return t.replace(K,"&quot;")}function rt(t){return t.replace(Y,'"')}function st(t){return t.replace(Z,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function ot(t){return t.replace(X,":").replace(Q," ")}function at(t){for(var e="",i=0,n=t.length;i<n;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return D.trim(e)}function ct(t){return t=rt(t),t=st(t),t=ot(t),t=at(t),t}function lt(t){return t=nt(t),t=B(t),t}function ut(){return""}function ht(t,e){"function"!==typeof e&&(e=function(){});var i=!Array.isArray(t);function n(e){return!!i||-1!==D.indexOf(t,e)}var r=[],s=!1;return{onIgnoreTag:function(t,i,o){if(n(t)){if(o.isClosing){var a="[/removed]",c=o.position+a.length;return r.push([!1!==s?s:o.position,c]),s=!1,a}return s||(s=o.position),"[removed]"}return e(t,i,o)},remove:function(t){var e="",i=0;return D.forEach(r,(function(n){e+=t.slice(i,n[0]),i=n[1]})),e+=t.slice(i),e}}}function dt(t){var e="",i=0;while(i<t.length){var n=t.indexOf("\x3c!--",i);if(-1===n){e+=t.slice(i);break}e+=t.slice(i,n);var r=t.indexOf("--\x3e",n);if(-1===r)break;i=r+3}return e}function pt(t){var e=t.split("");return e=e.filter((function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))})),e.join("")}m.whiteList=z(),m.getDefaultWhiteList=z,m.onTag=$,m.onIgnoreTag=G,m.onTagAttr=U,m.onIgnoreTagAttr=q,m.safeAttrValue=H,m.escapeHtml=B,m.escapeQuote=nt,m.unescapeQuote=rt,m.escapeHtmlEntities=st,m.escapeDangerHtml5Entities=ot,m.clearNonPrintableCharacter=at,m.friendlyAttrValue=ct,m.escapeAttrValue=lt,m.onIgnoreTagStripAll=ut,m.StripTagBody=ht,m.stripCommentTag=dt,m.stripBlankChar=pt,m.cssFilter=V,m.getDefaultCSSWhiteList=F;var ft={},bt=L;function yt(t){var e=bt.spaceIndex(t);if(-1===e)var i=t.slice(1,-1);else i=t.slice(1,e+1);return i=bt.trim(i).toLowerCase(),"/"===i.slice(0,1)&&(i=i.slice(1)),"/"===i.slice(-1)&&(i=i.slice(0,-1)),i}function mt(t){return"</"===t.slice(0,2)}function gt(t,e,i){var n="",r=0,s=!1,o=!1,a=0,c=t.length,l="",u="";t:for(a=0;a<c;a++){var h=t.charAt(a);if(!1===s){if("<"===h){s=a;continue}}else if(!1===o){if("<"===h){n+=i(t.slice(r,a)),s=a,r=a;continue}if(">"===h){n+=i(t.slice(r,s)),u=t.slice(s,a+1),l=yt(u),n+=e(s,n.length,l,u,mt(u)),r=a+1,s=!1;continue}if('"'===h||"'"===h){var d=1,p=t.charAt(a-d);while(""===p.trim()||"="===p){if("="===p){o=h;continue t}p=t.charAt(a-++d)}}}else if(h===o){o=!1;continue}}return r<t.length&&(n+=i(t.substr(r))),n}var vt=/[^a-zA-Z0-9_:\.\-]/gim;function wt(t,e){var i=0,n=[],r=!1,s=t.length;function o(t,i){if(t=bt.trim(t),t=t.replace(vt,"").toLowerCase(),!(t.length<1)){var r=e(t,i||"");r&&n.push(r)}}for(var a=0;a<s;a++){var c,l,u=t.charAt(a);if(!1!==r||"="!==u)if(!1===r||a!==i||'"'!==u&&"'"!==u||"="!==t.charAt(a-1))if(/\s|\n|\t/.test(u)){if(t=t.replace(/\s|\n|\t/g," "),!1===r){if(l=Ot(t,a),-1===l){c=bt.trim(t.slice(i,a)),o(c),r=!1,i=a+1;continue}a=l-1;continue}if(l=jt(t,a-1),-1===l){c=bt.trim(t.slice(i,a)),c=xt(c),o(r,c),r=!1,i=a+1;continue}}else;else{if(l=t.indexOf(u,a+1),-1===l)break;c=bt.trim(t.slice(i+1,l)),o(r,c),r=!1,a=l,i=a+1}else r=t.slice(i,a),i=a+1}return i<t.length&&(!1===r?o(t.slice(i)):o(r,xt(bt.trim(t.slice(i))))),bt.trim(n.join(" "))}function Ot(t,e){for(;e<t.length;e++){var i=t[e];if(" "!==i)return"="===i?e:-1}}function jt(t,e){for(;e>0;e--){var i=t[e];if(" "!==i)return"="===i?e:-1}}function _t(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}function xt(t){return _t(t)?t.substr(1,t.length-2):t}ft.parseTag=gt,ft.parseAttr=wt;var St=g.exports.FilterCSS,Mt=m,kt=ft,It=kt.parseTag,Tt=kt.parseAttr,Et=L;function At(t){return void 0===t||null===t}function Ct(t){var e=Et.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};t=Et.trim(t.slice(e+1,-1));var i="/"===t[t.length-1];return i&&(t=Et.trim(t.slice(0,-1))),{html:t,closing:i}}function Pt(t){var e={};for(var i in t)e[i]=t[i];return e}function Rt(t){t=Pt(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Mt.onIgnoreTagStripAll),t.whiteList=t.whiteList||Mt.whiteList,t.onTag=t.onTag||Mt.onTag,t.onTagAttr=t.onTagAttr||Mt.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Mt.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Mt.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Mt.safeAttrValue,t.escapeHtml=t.escapeHtml||Mt.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new St(t.css))}Rt.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,n=i.whiteList,r=i.onTag,s=i.onIgnoreTag,o=i.onTagAttr,a=i.onIgnoreTagAttr,c=i.safeAttrValue,l=i.escapeHtml,u=e.cssFilter;i.stripBlankChar&&(t=Mt.stripBlankChar(t)),i.allowCommentTag||(t=Mt.stripCommentTag(t));var h=!1;if(i.stripIgnoreTagBody){h=Mt.StripTagBody(i.stripIgnoreTagBody,s);s=h.onIgnoreTag}var d=It(t,(function(t,e,i,h,d){var p={sourcePosition:t,position:e,isClosing:d,isWhite:n.hasOwnProperty(i)},f=r(i,h,p);if(!At(f))return f;if(p.isWhite){if(p.isClosing)return"</"+i+">";var b=Ct(h),y=n[i],m=Tt(b.html,(function(t,e){var n=-1!==Et.indexOf(y,t),r=o(i,t,e,n);if(!At(r))return r;if(n)return e=c(i,t,e,u),e?t+'="'+e+'"':t;r=a(i,t,e,n);return At(r)?void 0:r}));h="<"+i;return m&&(h+=" "+m),b.closing&&(h+=" /"),h+=">",h}f=s(i,h,p);return At(f)?l(h):f}),l);return h&&(d=h.remove(d)),d};var Lt=Rt;(function(t,e){var i=m,n=ft,r=Lt;function s(t,e){var i=new r(e);return i.process(t)}for(var o in e=t.exports=s,e.filterXSS=s,e.FilterXSS=r,i)e[o]=i[o];for(var o in n)e[o]=n[o];function a(){return"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=t.exports)})(y,y.exports);var Nt,Ft,Dt=function(){function t(t,e){var i,n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(t,e,i,r){return"a"===t&&"href"===e||("img"===t||"source"===t)&&"src"===e?n.sanitizeUrl(i):y.exports.safeAttrValue(t,e,i,r)}},t&&!e?i=t:t&&e?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach((function(e){"whiteList"===e?i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):i[e]=t[e]}))):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new y.exports.FilterXSS(i)}return t.prototype.sanitize=function(t,e){switch(void 0===e&&(e={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,e);default:if(e.allowUndefined&&"undefined"===typeof t)return;return null}},t.prototype.sanitizeUrl=function(t){var e=this._trim(t.substring(0,t.indexOf(":")));return"/"===t||"#"===t||"#"===t[0]||this.allowedProtocols.indexOf(e.toLowerCase())>-1?y.exports.escapeAttrValue(t):""},t.prototype.sanitizeHTMLAttribute=function(t,e,i,n){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(t,e,i,n):y.exports.safeAttrValue(t,e,i,n)},t.prototype.validate=function(t,e){void 0===e&&(e={});var i=this.sanitize(t,e);return{isValid:t===i,sanitized:i}},t.prototype._extendObjectOfArrays=function(t){var e={};return t.forEach((function(t){Object.keys(t).forEach((function(i){Array.isArray(t[i])&&Array.isArray(e[i])?e[i]=e[i].concat(t[i]):e[i]=t[i]}))})),e},t.prototype._iterateOverObject=function(t,e){var i=this;void 0===e&&(e={});try{var n=!1,r=void 0;if(Array.isArray(t))r=t.reduce((function(t,r){var s=i.validate(r,e);return s.isValid?t.concat([r]):(n=!0,t.concat([s.sanitized]))}),[]);else{if(!b(t)){if(e.allowUndefined&&"undefined"===typeof t)return;return null}var s=Object.keys(t);r=s.reduce((function(r,s){var o=t[s],a=i.validate(o,e);return a.isValid?r[s]=o:(n=!0,r[s]=a.sanitized),r}),{})}return n?r:t}catch(o){return null}},t.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},t}(),zt=i("556f"),Vt=(i("c120"),i("e92d")),$t=function(t){if("WebkitTransition"in t.style)Nt="webkitTransitionEnd",Ft="webkitAnimationEnd";else{if(!("transition"in t.style))throw new Error("Your browser is not supported!");Nt="transitionend",Ft="animationend"}},Gt=function(t){Nt||$t(t)},Ut=function(t,e){return void 0===e&&(e=t+"-active"),function(i){Gt(i);var n=!1,r=function(s){n||(n=!0,i.removeEventListener(Nt,r),i.removeEventListener(Ft,r),i.classList.remove(t),i.classList.remove(e))};i.classList.add(t),i.addEventListener(Nt,r),i.addEventListener(Ft,r),requestAnimationFrame((function(){i.classList.add(e)}))}},qt=function(t,e){return void 0===e&&(e=t+"-active"),function(i,n){Gt(i);var r=!1,s=function(t){r||(r=!0,i.removeEventListener(Nt,s),i.removeEventListener(Ft,s),n())};i.classList.add(t),i.addEventListener(Nt,s),i.addEventListener(Ft,s),requestAnimationFrame((function(){i.classList.add(e)}))}};function Bt(t){const e=zt["a"].acquire();for(let n=0;n<arguments.length;n++){const t=arguments[n],i=typeof t;if("string"===i)e.push(t);else if(Array.isArray(t))e.push.apply(e,t);else if("object"===i)for(const n in t)t[n]&&e.push(n)}const i=e.join(" ");return zt["a"].release(e),i}function Ht(t){const e=null==t?void 0:t.closest("[dir]");return null!==e&&e instanceof HTMLElement&&"rtl"===e.dir||"rtl"===document.dir}function Wt(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function Jt(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function Kt(t,e){return("enter"===t?Ut:qt)(e)}Vt["a"].getLogger("esri.widgets.support.widgetUtils");const Yt=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Zt=Yt.reduce((t,e)=>(t[e]=[],t),{}),Xt=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Qt=new Dt({whiteList:Zt,onTagAttr:(t,e,i)=>{const n=`${e}="${i}"`;if(Xt.includes(e))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function te(t,e){const i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=i.top+i.height,s=n.top+n.height,o=i.top,a=n.top;(r>s||o<a)&&t.scrollIntoView({block:"end"})}function ee(t){return"Enter"===t||" "===t}function ie(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function ne(){return ie().startsWith("dark")}function re(){return"calcite-theme-"+(ne()?"dark":"light")}},"70f6":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(t){super(t),this.visible=!0}clone(){}};Object(n["a"])([Object(s["b"])({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],a.prototype,"visible",void 0),a=Object(n["a"])([Object(o["a"])("esri.symbols.callouts.Callout3D")],a);const c=a},7156:function(t,e,i){var n=i("1626"),r=i("861d"),s=i("d2bb");t.exports=function(t,e,i){var o,a;return s&&n(o=e.constructor)&&o!==i&&r(a=o.prototype)&&a!==i.prototype&&s(t,a),t}},7164:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("e92d");class r{constructor(t,e=[]){this.eventType=t,this.keyModifiers=e}matches(t){if(t.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const e=t.modifiers;for(const i of this.keyModifiers)if(!e.has(i))return!1;return!0}}const s=n["a"].getLogger("esri.views.input.InputHandler");class o{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const e=this._incoming[t];for(const t of e)this._incomingEventMatches.push(t.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?s.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(t=>this._handleEvent(t)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,e,i){let n;"function"==typeof e?(i=e,n=[]):n=e||[];const s="string"==typeof t?new r(t,n):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},c=t=>{const e=this._incoming[t.match.eventType];if(e){const i=e.indexOf(t);e.splice(i,1),o(),this._manager&&this._manager.updateDependencies()}},l=new a(s,i,{onPause:c,onRemove:c,onResume:t=>{const e=this._incoming[t.match.eventType];e&&-1===e.indexOf(t)&&(e.push(t),o(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[s.eventType];return u||(u=[],this._incoming[s.eventType]=u),u.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const e=new c(t,{onEmit:(t,e,i,n)=>{this._manager.emit(t.eventType,e,i,n)},onRemove:t=>{delete this._outgoing[t.eventType],this._manager.updateDependencies()}});return this._outgoing[t]=e,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),e}startCapturingPointer(t){this._manager.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):s.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){const e=this._incoming[t.type];if(e)for(const i of e)if(i.match.matches(t)&&(i.callback(t),t.shouldStopPropagation()))break}}class a{constructor(t,e,i){this.match=t,this._callback=e,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class c{constructor(t,e){this.eventType=t,this._removed=!1,this._handler=e}emit(t,e,i){this._removed||this._handler.onEmit(this,t,e,i)}remove(){this._removed=!0,this._handler.onRemove(this)}}},"738e":function(t,e,i){"use strict";function n(){return new Float32Array(2)}function r(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function s(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function o(t,e){return new Float32Array(t,e,2)}function a(){return n()}function c(){return s(1,1)}function l(){return s(1,0)}function u(){return s(0,1)}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));const h=a(),d=c(),p=l(),f=u();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o,zeros:a,ones:c,unitX:l,unitY:u,ZEROS:h,ONES:d,UNIT_X:p,UNIT_Y:f})},"73cb":function(t,e,i){"use strict";i.d(e,"a",(function(){return L}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("7ffa"),c=i("59b2"),l=i("cea0"),u=i("afcf"),h=i("d386");i("b50f"),i("c120");let d=n=class extends o["a"]{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new n({minValue:this.minValue,maxValue:this.maxValue})}};Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],d.prototype,"minValue",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],d.prototype,"maxValue",void 0),d=n=Object(r["a"])([Object(h["a"])("esri.renderer.support.AuthoringInfoClassBreakInfo")],d);const p=d;var f;let b=f=class extends o["a"]{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new f({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:Object(a["a"])(this.classBreakInfos)})}};Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],b.prototype,"field",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],b.prototype,"label",void 0),Object(r["a"])([Object(c["b"])({type:[p],json:{write:!0}})],b.prototype,"classBreakInfos",void 0),b=f=Object(r["a"])([Object(h["a"])("esri.renderers.support.AuthoringInfoFieldInfo")],b);const y=b;var m,g=i("1a3e");const v=new s["a"]({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),w=new s["a"]({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),O={key:t=>"number"==typeof t?"number":"string",typeMap:{number:Number,string:String},base:null},j=["high-to-low","above-and-below","centered-on","extremes"],_=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],x=["seconds","minutes","hours","days","months","years"];let S=m=class extends o["a"]{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return"string"==typeof t||"number"==typeof t?t:null}castStartTime(t){return"string"==typeof t||"number"==typeof t?t:null}get style(){return"color"===this.type?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new m({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};Object(r["a"])([Object(c["b"])({types:O,json:{write:!0}})],S.prototype,"endTime",void 0),Object(r["a"])([Object(g["a"])("endTime")],S.prototype,"castEndTime",null),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],S.prototype,"field",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],S.prototype,"maxSliderValue",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],S.prototype,"minSliderValue",void 0),Object(r["a"])([Object(c["b"])({types:O,json:{write:!0}})],S.prototype,"startTime",void 0),Object(r["a"])([Object(g["a"])("startTime")],S.prototype,"castStartTime",null),Object(r["a"])([Object(c["b"])({type:v.apiValues,value:null,json:{type:v.jsonValues,read:v.read,write:v.write}})],S.prototype,"style",null),Object(r["a"])([Object(c["b"])({type:_,value:null,json:{type:_,origins:{"web-scene":{type:j,write:{writer:(t,e)=>{j.indexOf(t)>-1&&(e.theme=t)}}}},write:!0}})],S.prototype,"theme",null),Object(r["a"])([Object(c["b"])({type:w.apiValues,json:{type:w.jsonValues,read:w.read,write:w.write}})],S.prototype,"type",void 0),Object(r["a"])([Object(c["b"])({type:x,json:{type:x,write:!0}})],S.prototype,"units",void 0),S=m=Object(r["a"])([Object(h["a"])("esri.renderers.support.AuthoringInfoVisualVariable")],S);const M=S;var k,I=i("f830");const T=new s["a"]({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),E=new s["a"]({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),A=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],C=["high-to-low","above-and-below","above","below","90-10"],P=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let R=k=class extends o["a"]{constructor(t){super(t),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const t=this._get("classificationMethod"),e=this.type;return e&&"relationship"!==e?"class-breaks-size"===e||"class-breaks-color"===e?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){if(t)return Object(I["a"])(t)}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(t){this._set("field2",t)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&"relationship"!==t&&"class-breaks-size"!==t&&"class-breaks-color"!==t||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let e=t;"classed-size"===t?e="class-breaks-size":"classed-color"===t&&(e="class-breaks-color"),this._set("type",e)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){return new k({classificationMethod:this.classificationMethod,colorRamp:Object(a["a"])(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:Object(a["a"])(this.field1),field2:Object(a["a"])(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})}};Object(r["a"])([Object(c["b"])({type:T.apiValues,value:null,json:{type:T.jsonValues,read:T.read,write:T.write,origins:{"web-document":{default:"manual",type:T.jsonValues,read:T.read,write:T.write}}}})],R.prototype,"classificationMethod",null),Object(r["a"])([Object(c["b"])({types:I["b"],json:{write:!0}})],R.prototype,"colorRamp",void 0),Object(r["a"])([Object(u["a"])("colorRamp")],R.prototype,"readColorRamp",null),Object(r["a"])([Object(c["b"])({type:[String],value:null,json:{write:!0}})],R.prototype,"fields",null),Object(r["a"])([Object(c["b"])({type:y,value:null,json:{write:!0}})],R.prototype,"field1",null),Object(r["a"])([Object(c["b"])({type:y,value:null,json:{write:!0}})],R.prototype,"field2",null),Object(r["a"])([Object(c["b"])({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],R.prototype,"focus",null),Object(r["a"])([Object(c["b"])({type:Number,value:null,json:{type:l["a"],write:!0}})],R.prototype,"numClasses",null),Object(r["a"])([Object(c["b"])({type:A,json:{type:A,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],R.prototype,"lengthUnit",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],R.prototype,"maxSliderValue",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],R.prototype,"minSliderValue",void 0),Object(r["a"])([Object(c["b"])({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],R.prototype,"statistics",null),Object(r["a"])([Object(c["b"])({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],R.prototype,"standardDeviationInterval",null),Object(r["a"])([Object(c["b"])({type:E.apiValues,value:null,json:{type:E.jsonValues,read:E.read,write:E.write}})],R.prototype,"type",null),Object(r["a"])([Object(c["b"])({type:[M],json:{write:!0}})],R.prototype,"visualVariables",void 0),Object(r["a"])([Object(c["b"])({type:P,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"univariateSymbolStyle",null),Object(r["a"])([Object(c["b"])({type:C,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],R.prototype,"univariateTheme",null),R=k=Object(r["a"])([Object(h["a"])("esri.renderers.support.AuthoringInfo")],R);const L=R},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,i){var n=i("428f"),r=i("1a2d"),s=i("e538"),o=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||o(e,t,{value:s.f(t)})}},"74bd":function(t,e,i){"use strict";function n(t){return!!t&&t.prototype&&t.prototype.declaredClass&&0===t.prototype.declaredClass.indexOf("esri.core.Collection")}i.d(e,"a",(function(){return n}))},"74e2":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o}));var n=i("fa8a");function r(t){return"point"===t||"multipoint"===t||"polyline"===t||"polygon"===t}const s=Object(n["b"])()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),o=Object(n["b"])()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},7533:function(t,e,i){"use strict";i.d(e,"a",(function(){return O}));var n,r=i("a4ee"),s=i("2c4f"),o=i("ce50"),a=i("7ffa"),c=i("59b2"),l=(i("cea0"),i("448d")),u=i("d386"),h=i("09db"),d=i("6005"),p=i("e1bb"),f=i("c528"),b=i("a957"),y=i("38bf"),m=i("333a");const g=s["a"].ofType({base:null,key:"type",typeMap:{icon:d["a"],object:p["a"],text:b["a"]}}),v=s["a"].ofType({base:null,key:"type",typeMap:{icon:d["a"],object:p["a"]}});let w=n=class extends f["a"]{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new g,this.type="point-3d"}writeSymbolLayers(t,e,i,n){const r=t.filter(t=>"text"!==t.type);if(n&&n.messages&&r.length<t.length){const e=t.find(t=>"text"===t.type);n.messages.push(new o["a"]("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:e}))}e[i]=r.map(t=>t.write({},n)).toArray()}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Object(y["b"])(this)}hasVisibleVerticalOffset(){return Object(y["c"])(this)}clone(){return new n({verticalOffset:Object(a["a"])(this.verticalOffset),callout:Object(a["a"])(this.callout),styleOrigin:Object(a["a"])(this.styleOrigin),symbolLayers:Object(a["a"])(this.symbolLayers),thumbnail:Object(a["a"])(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new n({symbolLayers:[d["a"].fromSimpleMarkerSymbol(t)]})}static fromPictureMarkerSymbol(t){return new n({symbolLayers:[d["a"].fromPictureMarkerSymbol(t)]})}static fromCIMSymbol(t){var e,i;return"CIMPointSymbol"!==(null==(e=t.data)||null==(i=e.symbol)?void 0:i.type)?null:t.data.symbol.callout?new n({symbolLayers:[d["a"].fromCIMSymbol(t)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new n({symbolLayers:[d["a"].fromCIMSymbol(t)]})}static fromTextSymbol(t){return new n({symbolLayers:[b["a"].fromTextSymbol(t)]})}};Object(r["a"])([Object(c["b"])({type:m["a"],json:{write:!0}})],w.prototype,"verticalOffset",void 0),Object(r["a"])([Object(c["b"])(y["a"])],w.prototype,"callout",void 0),Object(r["a"])([Object(c["b"])({type:g,json:{type:v,origins:{"web-scene":{type:v}}}})],w.prototype,"symbolLayers",void 0),Object(r["a"])([Object(h["a"])("web-scene","symbolLayers")],w.prototype,"writeSymbolLayers",null),Object(r["a"])([Object(l["a"])({PointSymbol3D:"point-3d"},{readOnly:!0})],w.prototype,"type",void 0),w=n=Object(r["a"])([Object(u["a"])("esri.symbols.PointSymbol3D")],w);const O=w},"755e":function(t,e,i){"use strict";function n(t){return function(e,i){e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}i.d(e,"a",(function(){return n}))},7577:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return x})),i.d(e,"e",(function(){return v})),i.d(e,"f",(function(){return w})),i.d(e,"g",(function(){return E})),i.d(e,"h",(function(){return A})),i.d(e,"i",(function(){return g})),i.d(e,"j",(function(){return S})),i.d(e,"k",(function(){return _})),i.d(e,"l",(function(){return s})),i.d(e,"m",(function(){return k}));var n=i("4212");function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function o(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function a(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function c(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function l(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function u(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function h(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function d(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}function p(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function f(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function b(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function y(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t}function m(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(i*i+n*n+r*r+s*s)}function g(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return i*i+n*n+r*r+s*s}function v(t){const e=t[0],i=t[1],n=t[2],r=t[3];return Math.sqrt(e*e+i*i+n*n+r*r)}function w(t){const e=t[0],i=t[1],n=t[2],r=t[3];return e*e+i*i+n*n+r*r}function O(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function j(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function _(t,e){const i=e[0],n=e[1],r=e[2],s=e[3];let o=i*i+n*n+r*r+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=i*o,t[1]=n*o,t[2]=r*o,t[3]=s*o),t}function x(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function S(t,e,i,n){const r=e[0],s=e[1],o=e[2],a=e[3];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=o+n*(i[2]-o),t[3]=a+n*(i[3]-a),t}function M(t,e){let i,r,s,o,a,c;e=e||1;do{i=2*Object(n["b"])()-1,r=2*Object(n["b"])()-1,a=i*i+r*r}while(a>=1);do{s=2*Object(n["b"])()-1,o=2*Object(n["b"])()-1,c=s*s+o*o}while(c>=1);const l=Math.sqrt((1-a)/c);return t[0]=e*i,t[1]=e*r,t[2]=e*s*l,t[3]=e*o*l,t}function k(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*o,t}function I(t,e,i){const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],c=i[2],l=i[3],u=l*n+a*s-c*r,h=l*r+c*n-o*s,d=l*s+o*r-a*n,p=-o*n-a*r-c*s;return t[0]=u*l+p*-o+h*-c-d*-a,t[1]=h*l+p*-a+d*-o-u*-c,t[2]=d*l+p*-c+u*-a-h*-o,t[3]=e[3],t}function T(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function E(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function A(t,e){const i=t[0],r=t[1],s=t[2],o=t[3],a=e[0],c=e[1],l=e[2],u=e[3];return Math.abs(i-a)<=n["a"]*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-c)<=n["a"]*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(s-l)<=n["a"]*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(o-u)<=n["a"]*Math.max(1,Math.abs(o),Math.abs(u))}const C=a,P=c,R=l,L=m,N=g,F=v,D=w;Object.freeze({__proto__:null,copy:r,set:s,add:o,subtract:a,multiply:c,divide:l,ceil:u,floor:h,min:d,max:p,round:f,scale:b,scaleAndAdd:y,distance:m,squaredDistance:g,length:v,squaredLength:w,negate:O,inverse:j,normalize:_,dot:x,lerp:S,random:M,transformMat4:k,transformQuat:I,str:T,exactEquals:E,equals:A,sub:C,mul:P,div:R,dist:L,sqrDist:N,len:F,sqrLen:D})},7590:function(t,e,i){"use strict";i.r(e),i.d(e,"hydratedAdapter",(function(){return c}));var n=i("3af1"),r=i("57dc"),s=i("4ae5"),o=i("1219"),a=i("521c");const c={convertToGEGeometry:l,exportPoint:u,exportPolygon:h,exportPolyline:d,exportMultipoint:p,exportExtent:f};function l(t,e){if(null==e)return null;let i="cache"in e?e.cache._geVersion:void 0;return null==i&&(i=t.convertJSONToGeometry(e),"cache"in e&&(e.cache._geVersion=i)),i}function u(t,e,i){const n=t.hasZ(e),r=t.hasM(e),o=new s["a"]({x:t.getPointX(e),y:t.getPointY(e),spatialReference:i});return n&&(o.z=t.getPointZ(e)),r&&(o.m=t.getPointM(e)),o.cache._geVersion=e,o}function h(t,e,i){const n=new o["a"]({rings:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:i});return n.cache._geVersion=e,n}function d(t,e,i){const n=new a["a"]({paths:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:i});return n.cache._geVersion=e,n}function p(t,e,i){const n=new r["a"]({hasZ:t.hasZ(e),hasM:t.hasM(e),points:t.exportPoints(e),spatialReference:i});return n.cache._geVersion=e,n}function f(t,e,i){const r=t.hasZ(e),s=t.hasM(e),o=new n["a"]({xmin:t.getXMin(e),ymin:t.getYMin(e),xmax:t.getXMax(e),ymax:t.getYMax(e),spatialReference:i});if(r){const i=t.getZExtent(e);o.zmin=i.vmin,o.zmax=i.vmax}if(s){const i=t.getMExtent(e);o.mmin=i.vmin,o.mmax=i.vmax}return o.cache._geVersion=e,o}},"767d":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return s}));var n=i("9d83"),r=i("c120");const s=Object(r["a"])("mac")?"Meta":"Ctrl",o={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let l=48;l<58;l++)o[l]=String.fromCharCode(l);for(let l=1;l<25;l++)o[111+l]="F"+l;for(let l=65;l<91;l++)o[l]=[String.fromCharCode(l+32),String.fromCharCode(l)];function a(t){if(void 0!==t.key)return Object(n["a"])(t);const e=o[t.keyCode];return Array.isArray(e)?t.shiftKey?e[1]:e[0]:e}function c(t){switch(t){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},"77eb":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("5986");let c=n=class extends a["a"]{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};Object(r["a"])([Object(s["b"])()],c.prototype,"image",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.support.Action.ActionButton")],c);const l=c},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(t,e,i){var n=i("cc12"),r=n("span").classList,s=r&&r.constructor&&r.constructor.prototype;t.exports=s===Object.prototype?void 0:s},"787a":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("1b19"),c=i("b08e");let l=n=class extends a["a"]{constructor(t){super(t),this.type="column-chart"}clone(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};Object(r["a"])([Object(s["b"])({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:c["a"].write}})],l.prototype,"type",void 0),l=n=Object(r["a"])([Object(o["a"])("esri.popup.content.ColumnChartMediaInfo")],l);const u=l},"792b":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return c}));var n=i("b2b2"),r=i("f4cc");function s(t,e,i){return Object(r["i"])(t.map((t,n)=>e.apply(i,[t,n])))}function o(t,e,i){return Object(r["i"])(t.map((t,n)=>e.apply(i,[t,n]))).then(t=>t.map(t=>t.value))}function a(t){return Object(n["k"])(t)?Object(r["s"])():t.then(t=>({ok:!0,value:t})).catch(t=>({ok:!1,error:t}))}function c(t){return t.then(t=>({ok:!0,value:t})).catch(t=>(Object(r["t"])(t),{ok:!1,error:t}))}},7949:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var n,r=i("a4ee"),s=i("e06a"),o=i("658b"),a=i("fa8a"),c=i("6a0e"),l=i("7ffa"),u=i("59b2"),h=i("cea0"),d=i("d386"),p=i("09db"),f=i("a9ab");i("b50f"),i("c120");let b=n=class extends c["a"]{constructor(t){super(t),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new n({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};Object(r["a"])([Object(u["b"])({type:[String],json:{write:!0}})],b.prototype,"groupByFields",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!0}})],b.prototype,"topCount",void 0),Object(r["a"])([Object(u["b"])({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0),b=n=Object(r["a"])([Object(d["a"])("esri.rest.support.TopFilter")],b);const y=b;var m,g=i("5996");const v=new a["a"]({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),w=new a["a"]({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let O=m=class extends c["a"]{constructor(t){super(t),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10}clone(){return new m(Object(l["a"])({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0}})],O.prototype,"cacheHint",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],O.prototype,"distance",void 0),Object(r["a"])([Object(u["b"])({types:s["a"],json:{read:f["a"],write:!0}})],O.prototype,"geometry",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!0}})],O.prototype,"geometryPrecision",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!0}})],O.prototype,"maxAllowableOffset",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{read:{source:"resultRecordCount"}}})],O.prototype,"num",void 0),Object(r["a"])([Object(u["b"])({json:{write:!0}})],O.prototype,"objectIds",void 0),Object(r["a"])([Object(u["b"])({type:[String],json:{write:!0}})],O.prototype,"orderByFields",void 0),Object(r["a"])([Object(u["b"])({type:[String],json:{write:!0}})],O.prototype,"outFields",void 0),Object(r["a"])([Object(u["b"])({type:g["a"],json:{read:{source:"outSR"},write:{target:"outSR"}}})],O.prototype,"outSpatialReference",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],O.prototype,"resultType",void 0),Object(r["a"])([Object(u["b"])({json:{write:!0}})],O.prototype,"returnGeometry",void 0),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],O.prototype,"returnM",void 0),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],O.prototype,"returnZ",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{read:{source:"resultOffset"}}})],O.prototype,"start",void 0),Object(r["a"])([Object(p["a"])("start"),Object(p["a"])("num")],O.prototype,"writeStart",null),Object(r["a"])([Object(u["b"])({type:String,json:{read:{source:"spatialRel",reader:v.read},write:{target:"spatialRel",writer:v.write}}})],O.prototype,"spatialRelationship",void 0),Object(r["a"])([Object(u["b"])({type:o["a"],json:{write:!0}})],O.prototype,"timeExtent",void 0),Object(r["a"])([Object(u["b"])({type:y,json:{write:!0}})],O.prototype,"topFilter",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{read:w.read,write:{writer:w.write,overridePolicy(t){return{enabled:t&&this.distance>0}}}}})],O.prototype,"units",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],O.prototype,"where",void 0),O=m=Object(r["a"])([Object(d["a"])("esri.rest.support.TopFeaturesQuery")],O),O.from=Object(h["m"])(O);const j=O},"79e4":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=(i("e06a"),i("fa8a")),o=i("6a0e"),a=i("7ffa"),c=i("59b2"),l=(i("cea0"),i("d386")),u=i("3af1");const h=new s["a"]({upperLeft:"upper-left",lowerLeft:"lower-left"});let d=n=class extends o["a"]{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new n(Object(a["a"])({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};Object(r["a"])([Object(c["b"])({type:u["a"],json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"extent",void 0),Object(r["a"])([Object(c["b"])({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{read:h.read,write:h.write}})],d.prototype,"originPosition",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0),d=n=Object(r["a"])([Object(l["a"])("esri.rest.support.QuantizationParameters")],d);const p=d},"7a2a":function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return g})),i.d(e,"f",(function(){return v})),i.d(e,"g",(function(){return j}));var n=i("eb37"),r=i("a915"),s=i("970c"),o=i("d791");const a=(t,e)=>{const i=Object(o["s"])(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return Object(o["t"])(i,i)},c=(t,e)=>{const i=Object(o["s"])(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return Object(o["t"])(i,i)},l=(t,e)=>{const i=1-e,n=Object(o["s"])(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return Object(o["t"])(n,n)},u=(t,e)=>{const i=Math.sin(e*Math.PI/180),n=Math.cos(e*Math.PI/180),r=Object(o["s"])(t,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return Object(o["t"])(r,r)},h=(t,e)=>{const i=1-2*e,n=Object(o["s"])(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return Object(o["t"])(n,n)},d=(t,e)=>{const i=Object(o["s"])(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return Object(o["t"])(i,i)},p=(t,e)=>{const i=1-e,n=Object(o["s"])(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return Object(o["t"])(n,n)};class f{constructor(t,e,i){this.strength=t,this.radius=e,this.threshold=i,this.type="bloom"}interpolate(t,e,i){this.strength=w(t.strength,e.strength,i),this.radius=w(t.radius,e.radius,i),this.threshold=w(t.threshold,e.threshold,i)}clone(){return new f(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:O(this.radius),strength:this.strength,threshold:this.threshold}}}class b{constructor(t){this.radius=t,this.type="blur"}interpolate(t,e,i){this.radius=Math.round(w(t.radius,e.radius,i))}clone(){return new b(this.radius)}toJSON(){return{type:"blur",radius:O(this.radius)}}}class y{constructor(t,e){this.type=t,this.amount=e,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,e,i){this.amount=w(t.amount,e.amount,i),this._updateMatrix()}clone(){return new y(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||Object(s["a"])();switch(this.type){case"brightness":this._colorMatrix=a(t,this.amount);break;case"contrast":this._colorMatrix=c(t,this.amount);break;case"grayscale":this._colorMatrix=l(t,this.amount);break;case"invert":this._colorMatrix=h(t,this.amount);break;case"saturate":this._colorMatrix=d(t,this.amount);break;case"sepia":this._colorMatrix=p(t,this.amount)}}}class m{constructor(t,e,i,n){this.offsetX=t,this.offsetY=e,this.blurRadius=i,this.color=n,this.type="drop-shadow"}interpolate(t,e,i){this.offsetX=w(t.offsetX,e.offsetX,i),this.offsetY=w(t.offsetY,e.offsetY,i),this.blurRadius=w(t.blurRadius,e.blurRadius,i),this.color[0]=Math.round(w(t.color[0],e.color[0],i)),this.color[1]=Math.round(w(t.color[1],e.color[1],i)),this.color[2]=Math.round(w(t.color[2],e.color[2],i)),this.color[3]=w(t.color[3],e.color[3],i)}clone(){return new m(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:O(this.offsetX),yoffset:O(this.offsetY),blurRadius:O(this.blurRadius),color:t}}}class g{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,e,i){this.angle=w(t.angle,e.angle,i),this._updateMatrix()}clone(){return new g(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||Object(s["a"])();this._colorMatrix=u(t,this.angle)}}class v{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,e,i){this.amount=w(t.amount,e.amount,i)}clone(){return new v(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function w(t,e,i){return t+(e-t)*i}function O(t){return Math.round(1e3*Object(r["h"])(t))/1e3}function j(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new y(t.type,0);case"saturate":case"brightness":case"contrast":return new y(t.type,1);case"opacity":return new v(1);case"hue-rotate":return new g(0);case"blur":return new b(0);case"drop-shadow":return new m(0,0,0,[...Object(n["a"])("transparent")]);case"bloom":return new f(0,0,1)}}},"7aa6":function(t,e,i){"use strict";i.d(e,"a",(function(){return br})),i.d(e,"b",(function(){return yr}));var n=i("a4ee"),r=i("cf9c"),s=i("5815"),o=i("3795"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386")),l=i("fc29"),u=i("2c4f"),h=(i("e6c2"),i("69e9")),d=i("d347");let p=class extends l["a"]{constructor(){super(...arguments),this.items=new u["a"],this._watchUpdatingTracking=new d["a"],this._callbacks=new Map,this._projector=Object(h["a"])(),this._hiddenProjector=Object(h["a"])()}get needsRender(){return this.items.length>0}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(this.items,t=>{for(const e of t.added){const t=()=>e.render();this._callbacks.set(e,t),this._projector.append(this.surface,t)}for(const e of t.removed){const t=this._projector.detach(this._callbacks.get(e));this.surface.removeChild(t.domNode),this._callbacks.delete(e)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const e=this._hiddenSurface,i=this._hiddenProjector;let n=null;const r=()=>(n=t.render(),n);i.append(e,r),i.renderNow();const s={left:0,top:0,right:0,bottom:0};if(n&&n.domNode){const t=n.domNode.getBoundingClientRect();s.left=t.left,s.top=t.top,s.right=t.right,s.bottom=t.bottom}for(i.detach(r);e.firstChild;)e.removeChild(e.firstChild);return s}overlaps(t,e){const i=this.computeBoundingRect(t),n=this.computeBoundingRect(e);return Math.max(i.left,n.left)<=Math.min(i.right,n.right)&&Math.max(i.top,n.top)<=Math.min(i.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}renderCanvas(t){if(!this.items.some(t=>t.visible))return;const e=t.getContext("2d");e.save(),e.font="10px "+getComputedStyle(this.surface).fontFamily,this.items.forEach(t=>{e.save(),t.renderCanvas(e),e.restore()}),e.restore()}};Object(n["a"])([Object(a["b"])({readOnly:!0})],p.prototype,"surface",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],p.prototype,"items",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],p.prototype,"needsRender",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],p.prototype,"_watchUpdatingTracking",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],p.prototype,"updating",void 0),p=Object(n["a"])([Object(c["a"])("esri.views.overlay.ViewOverlay")],p);const f=p;i("1b8f");var b=i("9d83"),y=i("af40"),m=i("e92d"),g=i("b2b2"),v=i("e42f"),w=i("4adc"),O=i("1a3e"),j=i("121a"),_=i("ce50"),x=i("38a4"),S=i("b3b6"),M=(i("8048"),i("21e2"));const k=["B","kB","MB","GB","TB"];function I(t,e){let i=0===e?0:Math.floor(Math.log(e)/Math.log(1024));i=Object(x["d"])(i,0,k.length-1);const n=Object(M["b"])(e/1024**i,{maximumFractionDigits:2});return Object(S["c"])(t.units.bytes[k[i]],{fileSize:n})}var T=i("8d60"),E=i("9096"),A=i("c8d6"),C=i("ebb2"),P=i("4653"),R=i("c1da"),L=i("8802"),N=i("82fa");const F="esri.widgets.Feature.support.featureUtils",D=m["a"].getLogger(F),z=/href=(""|'')/gi,V=/(\{([^\{\r\n]+)\})/g,$=/\'/g,G=/^\s*expression\//i,U=/(\n)/gi,q=/[\u00A0-\u9999<>\&]/gim,B=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,H=/^(?:mailto:|tel:)/,W="relationships/",J=Object(P["a"])("short-date-short-time");function K(t){if(!Object(g["k"])(t))return t.get("sourceLayer")||t.get("layer")}async function Y(t,e){return"function"==typeof t?t.call(null,e):t}function Z(t=""){if(t)return!H.test(t.trim().toLowerCase())}function X(t){return!!t&&G.test(t)}function Q(t,e){if(!X(e)||!t)return null;const i=e.replace(G,"").toLowerCase();let n;return t.some(t=>t.name.toLowerCase()===i&&(n=t,!0)),n}function tt(t,e){const i=Q(e,null==t?void 0:t.fieldName);return i?i.title||null:t?t.label||t.fieldName:null}function et(t,e){const i=e.get(t.toLowerCase());return`{${i&&i.fieldName||t}}`}function it(t){return t.replace(z,"")}function nt(t,e){const i=st(e,t);return i?i.name:t}function rt(t,e){return t&&t.map(t=>nt(t,e))}function st(t,e){return t&&"function"==typeof t.getField?t.getField(e):null}function ot(t){return(""+t).trim()}function at({attributes:t,globalAttributes:e,layer:i,text:n,expressionAttributes:r,fieldInfoMap:s}){return n?ct({formattedAttributes:e,template:pt(n,{...e,...r,...t},i),fieldInfoMap:s}):""}function ct({formattedAttributes:t,template:e,fieldInfoMap:i}){return ot(it(Object(S["c"])(Object(S["c"])(e,t=>et(t,i)),t)))}function lt(t,e,i=!1){const n=e[t];if("string"==typeof n){const r="%27",s=(i?encodeURIComponent(n):n).replace($,r);e[t]=s}}function ut(t,e=!1){const i={...t};return Object.keys(i).forEach(t=>lt(t,i,e)),i}function ht(t,e,i){const n=(e=ot(e))&&"{"!==e[0];return Object(S["c"])(t,ut(i,n))}function dt(t,e){return t.replace(V,(t,i,n)=>{const r=st(e,n);return r?`{${r.name}}`:i})}function pt(t,e,i){const n=dt(t,i);return n?n.replace(B,(t,i,n)=>ht(t,i||n,e)):n}function ft(t,e){if("string"==typeof t&&e&&null==e.dateFormat&&(null!=e.places||null!=e.digitSeparator)){const e=Number(t);if(!isNaN(e))return e}return t}function bt(t){return"feature"===(null==t?void 0:t.type)}function yt(t){return"map-image"===(null==t?void 0:t.type)}function mt(t){return!(null==t||!t.layer)}function gt(t,e){const i=e.fieldInfos,n=e.fieldName,r=vt(i,n),s=null==r?void 0:r.clone(),o=e.preventPlacesFormatting,a=e.layer,c=st(a,n);if(s&&"date"===(null==c?void 0:c.type)){const t=s.format||new L["a"];t.dateFormat=t.dateFormat||"short-date-short-time",t.dateTimeFormatOptions=bt(a)&&a.datesInUnknownTimezone||mt(a)&&yt(a.layer)&&a.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,s.format=t}const l=s&&s.format;return"string"==typeof(t=ft(t,l))||null==t||null==l?Mt(t):o?Object(M["b"])(t,{...Object(M["a"])(l),minimumFractionDigits:0,maximumFractionDigits:20}):l.format(t)}function vt(t,e){if(!t||!t.length||!e)return;const i=e.toLowerCase();let n;return t.some(t=>!(!t.fieldName||t.fieldName.toLowerCase()!==i)&&(n=t,!0)),n}function wt({fieldName:t,graphic:e,layer:i}){if(Ct(t))return null;if(!i||"function"!=typeof i.getFeatureType)return null;const{typeIdField:n}=i;if(!n||t!==n)return null;const r=i.getFeatureType(e);return r?r.name:null}function Ot({fieldName:t,value:e,graphic:i,layer:n}){if(Ct(t))return null;if(!n||"function"!=typeof n.getFieldDomain)return null;const r=n.getFieldDomain(t,{feature:i});return r&&"coded-value"===r.type?r.getName(e):null}function jt(t,e){const{creatorField:i,creationDateField:n,editorField:r,editDateField:s}=t;if(!e)return;const o=e[s];if("number"==typeof o){const t=e[r];return{type:"edit",date:Object(P["b"])(o,J),user:t}}const a=e[n];if("number"==typeof a){const t=e[i];return{type:"create",date:Object(P["b"])(a,J),user:t}}return null}function _t(t,e){const i=new Map;return t&&t.forEach(t=>{const n=nt(t.fieldName,e);t.fieldName=n,i.set(n.toLowerCase(),t)}),i}function xt(t){const e=[];if(!t)return e;const{fieldInfos:i,content:n}=t;return i&&e.push(...i),n&&Array.isArray(n)?(n.forEach(t=>{if("fields"===t.type){const i=t&&t.fieldInfos;i&&e.push(...i)}}),e):e}function St(t){return t.replace(q,t=>`&#${t.charCodeAt(0)};`)}function Mt(t){return"string"==typeof t?t.replace(U,'<br class="esri-text-new-line" />'):t}function kt(t){const{value:e,fieldName:i,fieldInfos:n,fieldInfoMap:r,layer:s,graphic:o}=t;if(null==e)return"";const a=Ot({fieldName:i,value:e,graphic:o,layer:s});if(a)return a;const c=wt({fieldName:i,graphic:o,layer:s});if(c)return c;if(r.get(i.toLowerCase()))return gt(e,{fieldInfos:n,fieldName:i,layer:s});const l=s&&s.fieldsIndex;return l&&l.isDateField(i)?Object(P["b"])(e,J):Mt(e)}function It({fieldInfos:t,attributes:e,layer:i,graphic:n,fieldInfoMap:r,relatedInfos:s}){const o={};return null==s||s.forEach(t=>Lt(o,t)),Object.keys(e).forEach(s=>{const a=e[s];o[s]=kt({fieldName:s,fieldInfos:t,fieldInfoMap:r,layer:i,value:a,graphic:n})}),o}async function Tt(t,e){var i,n;const{layer:r,graphic:s,outFields:o,objectIds:a,returnGeometry:c,spatialReference:l}=t,u=a[0];if("number"!=typeof u&&"string"!=typeof u){const t="Could not query required fields for the specified feature. The feature's ID is invalid.",e={layer:r,graphic:s,objectId:u,requiredFields:o};return D.warn(t,e),null}if(null==(i=r.capabilities)||null==(n=i.operations)||!n.supportsQuery){const t="The specified layer cannot be queried. The following fields will not be available.",e={layer:r,graphic:s,requiredFields:o,returnGeometry:c};return D.warn(t,e),null}const h=r.createQuery();return h.objectIds=a,h.outFields=null!=o&&o.length?o:[r.objectIdField],h.returnGeometry=!!c,h.returnZ=!!c,h.returnM=!!c,h.outSpatialReference=l,(await r.queryFeatures(h,e)).features[0]}async function Et(t){var e;if(null==(e=t.expressionInfos)||!e.length)return!1;const i=await Object(N["e"])(),{arcadeUtils:{hasGeometryFunctions:n}}=i;return n(t)}async function At({graphic:t,popupTemplate:e,layer:i,spatialReference:n},r){if(!i||!e)return;if("function"==typeof i.load&&await i.load(r),!t.attributes)return;const s=t.attributes[i.objectIdField];if(null==s)return;const o=[s],a=await e.getRequiredFields(i.fieldsIndex),c=Object(R["i"])(a,t),l=c?[]:a,u=e.returnGeometry||await Et(e);if(c&&!u)return;const h=await Tt({layer:i,graphic:t,outFields:l,objectIds:o,returnGeometry:u,spatialReference:n},r);h&&(h.geometry&&(t.geometry=h.geometry),h.attributes&&(t.attributes={...t.attributes,...h.attributes}))}function Ct(t=""){return!!t&&-1!==t.indexOf(W)}function Pt(t){return t?`${W}${t.layerId}/${t.fieldName}`:""}function Rt({attributes:t,graphic:e,relatedInfo:i}){t&&e&&i&&Object.keys(e.attributes).forEach(n=>{const r=Pt({layerId:i.relation.id.toString(),fieldName:n});t[r]=e.attributes[n]})}function Lt(t,e){t&&e&&(e.relatedFeatures&&e.relatedFeatures&&e.relatedFeatures.forEach(i=>Rt({attributes:t,graphic:i,relatedInfo:e})),e.relatedStatsFeatures&&e.relatedStatsFeatures&&e.relatedStatsFeatures.forEach(i=>Rt({attributes:t,graphic:i,relatedInfo:e})))}const Nt=t=>{if(!t)return!1;const e=t.toUpperCase();return e.indexOf("CURRENT_TIMESTAMP")>-1||e.indexOf("CURRENT_DATE")>-1||e.indexOf("CURRENT_TIME")>-1},Ft=({layer:t,method:e,query:i,definitionExpression:n})=>{var r,s;if(null==(r=t.capabilities)||null==(s=r.query)||!s.supportsCacheHint||"attachments"===e)return;const o=Object(g["l"])(i.where)&&i.where,a=Object(g["l"])(i.geometry)&&i.geometry;Nt(n)||Nt(o)||"extent"===(null==a?void 0:a.type)||"tile"===i.resultType||(i.cacheHint=!0)},Dt=({query:t,layer:e,method:i})=>{Ft({layer:e,method:i,query:t,definitionExpression:`${e.definitionExpression} ${e.serviceDefinitionExpression}`})},zt=({queryPayload:t,layer:e,method:i})=>{Ft({layer:e,method:i,query:t,definitionExpression:`${e.definitionExpression} ${e.serviceDefinitionExpression}`})},Vt={editing:!1,operations:{add:!0,update:!0,delete:!0}},$t=u["a"].ofType(A["a"]),Gt="graphic.layer.capabilities.operations.supportsResizeAttachments";let Ut=class extends E["a"]{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...Vt},this.activeAttachmentInfo=null,this.attachmentInfos=new $t,this.graphic=null,this.mode="view",this.handles.add([Object(o["a"])(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(t){return{...Vt,...t}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get(Gt)||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:e}=this;if(!t||"function"!=typeof t.queryAttachments)throw new _["a"]("invalid-layer","getAttachments(): A valid layer is required.");const i=this._getFeatureId(),n=new C["a"]({objectIds:[i],returnMetadata:!0}),r=[],s=t.queryAttachments(n).then(t=>t[i]||r).catch(()=>r);this._getAttachmentsPromise=s,this.notifyChange("state");const o=await s;return e.removeAll(),o.length&&e.addMany(o),this._getAttachmentsPromise=null,this.notifyChange("state"),o}async addAttachment(t){const{_attachmentLayer:e,attachmentInfos:i,graphic:n,abilities:r}=this;if(!t)throw new _["a"]("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});if(!r.operations.add)throw new _["a"]("invalid-abilities","addAttachment(): add abilities are required.");if(!e||"function"!=typeof e.addAttachment)throw new _["a"]("invalid-layer","addAttachment(): A valid layer is required.");const s=e.addAttachment(n,t).then(t=>this._queryAttachment(t.objectId)),o=await s;return i.add(o),o}async deleteAttachment(t){const{_attachmentLayer:e,attachmentInfos:i,graphic:n,abilities:r}=this;if(!t)throw new _["a"]("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!r.operations.delete)throw new _["a"]("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!e||"function"!=typeof e.deleteAttachments)throw new _["a"]("invalid-layer","deleteAttachment(): A valid layer is required.");const s=e.deleteAttachments(n,[t.id]).then(()=>t),o=await s;return i.remove(o),o}async updateAttachment(t,e=this.activeAttachmentInfo){const{_attachmentLayer:i,attachmentInfos:n,graphic:r,abilities:s}=this;if(!t)throw new _["a"]("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});if(!e)throw new _["a"]("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!s.operations.update)throw new _["a"]("invalid-abilities","updateAttachment(): Update abilities are required.");const o=n.findIndex(t=>t===e);if(!i||"function"!=typeof i.updateAttachment)throw new _["a"]("invalid-layer","updateAttachment(): A valid layer is required.");const a=i.updateAttachment(r,e.id,t).then(t=>this._queryAttachment(t.objectId)),c=await a;return n.splice(o,1,c),c}async _queryAttachment(t){if(!t)throw new _["a"]("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:e}=this,i=this._getFeatureId(),n=new C["a"]({objectIds:[i],attachmentsWhere:"AttachmentId="+t,returnMetadata:!0});return e.queryAttachments(n).then(t=>t[i][0])}_getFeatureId(){const{_attachmentLayer:t,graphic:e}=this;if(!t||!e)return null;const{objectIdField:i}=t,{attributes:n}=e;return n&&n[i]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:t}=this,e=K(t);this._attachmentLayer=e?"scene"===e.type&&Object(g["l"])(e.associatedLayer)?e.associatedLayer:e:null}};Object(n["a"])([Object(a["b"])()],Ut.prototype,"abilities",void 0),Object(n["a"])([Object(O["a"])("abilities")],Ut.prototype,"castAbilities",null),Object(n["a"])([Object(a["b"])()],Ut.prototype,"activeAttachmentInfo",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0,type:$t})],Ut.prototype,"attachmentInfos",void 0),Object(n["a"])([Object(a["b"])({type:T["a"]})],Ut.prototype,"graphic",void 0),Object(n["a"])([Object(a["b"])()],Ut.prototype,"mode",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ut.prototype,"state",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ut.prototype,"supportsResizeAttachments",null),Ut=Object(n["a"])([Object(c["a"])("esri.widgets.Attachments.AttachmentsViewModel")],Ut);const qt=Ut;var Bt=i("b2cd");function Ht(t){const e=t.toLowerCase();return"image/bmp"===e||"image/emf"===e||"image/exif"===e||"image/gif"===e||"image/x-icon"===e||"image/jpeg"===e||"image/png"===e||"image/tiff"===e||"image/x-wmf"===e}function Wt(t){const e=Object(Bt["a"])("esri/themes/base/images/files/");return t?"text/plain"===t?e+"text-32.svg":"application/pdf"===t?e+"pdf-32.svg":"text/csv"===t?e+"csv-32.svg":"application/gpx+xml"===t?e+"gpx-32.svg":"application/x-dwf"===t?e+"cad-32.svg":"application/postscript"===t||"application/json"===t||"text/xml"===t||"model/vrml"===t?e+"code-32.svg":"application/x-zip-compressed"===t||"application/x-7z-compressed"===t||"application/x-gzip"===t||"application/x-tar"===t||"application/x-gtar"===t||"application/x-bzip2"===t||"application/gzip"===t||"application/x-compress"===t||"application/x-apple-diskimage"===t||"application/x-rar-compressed"===t||"application/zip"===t?e+"zip-32.svg":-1!==t.indexOf("image/")?e+"image-32.svg":-1!==t.indexOf("audio/")?e+"sound-32.svg":-1!==t.indexOf("video/")?e+"video-32.svg":-1!==t.indexOf("msexcel")||-1!==t.indexOf("ms-excel")||-1!==t.indexOf("spreadsheetml")?e+"excel-32.svg":-1!==t.indexOf("msword")||-1!==t.indexOf("ms-word")||-1!==t.indexOf("wordprocessingml")?e+"word-32.svg":-1!==t.indexOf("powerpoint")||-1!==t.indexOf("presentationml")?e+"report-32.svg":e+"generic-32.svg":e+"generic-32.svg"}var Jt=i("702a"),Kt=i("755e"),Yt=i("d822");const Zt={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},Xt={base:"esri-attachments",loaderContainer:"esri-attachments__loader-container",loader:"esri-attachments__loader",fadeIn:"esri-attachments--fade-in",container:"esri-attachments__container",containerList:"esri-attachments__container--list",containerPreview:"esri-attachments__container--preview",actions:"esri-attachments__actions",deleteButton:"esri-attachments__delete-button",addAttachmentButton:"esri-attachments__add-attachment-button",errorMessage:"esri-attachments__error-message",items:"esri-attachments__items",item:"esri-attachments__item",itemButton:"esri-attachments__item-button",itemMask:"esri-attachments__item-mask",itemMaskIcon:"esri-attachments__item-mask--icon",itemImage:"esri-attachments__image",itemImageResizable:"esri-attachments__image--resizable",itemLabel:"esri-attachments__label",itemFilename:"esri-attachments__filename",itemChevronIcon:"esri-attachments__item-chevron-icon",itemLink:"esri-attachments__item-link",itemLinkOverlay:"esri-attachments__item-link-overlay",itemLinkOverlayIcon:"esri-attachments__item-link-overlay-icon",itemEditIcon:"esri-attachments__item-edit-icon",itemAddIcon:"esri-attachments__item-add-icon",itemAddButton:"esri-attachments__item-add-button",formNode:"esri-attachments__form-node",fileFieldset:"esri-attachments__file-fieldset",fileLabel:"esri-attachments__file-label",fileName:"esri-attachments__file-name",fileInput:"esri-attachments__file-input",metadata:"esri-attachments__metadata",metadataFieldset:"esri-attachments__metadata-fieldset",progressBar:"esri-attachments__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},Qt=window.CSS;let te=class extends j["a"]{constructor(t,e){super(t,e),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new qt,this.visibleElements={...Zt},this._supportsImageOrientation=Qt&&Qt.supports&&Qt.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own(Object(o["b"])(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),Object(o["a"])(this,"viewModel.mode",()=>this._modeChanged()))}get effectiveDisplayType(){return"auto"===this.displayType?this.viewModel.supportsResizeAttachments?"preview":"list":this.displayType}castVisibleElements(t){return{...Zt,...t}}addAttachment(){const{_addAttachmentForm:t,viewModel:e}=this;return this._set("submitting",!0),this._set("error",null),e.addAttachment(t).then(t=>(this._set("submitting",!1),this._set("error",null),e.mode="view",t)).catch(t=>{throw this._set("submitting",!1),this._set("error",new _["a"]("attachments:add-attachment",this.messages.addErrorMessage,t)),t})}deleteAttachment(t){const{viewModel:e}=this;return this._set("submitting",!0),this._set("error",null),e.deleteAttachment(t).then(t=>(this._set("submitting",!1),this._set("error",null),e.mode="view",t)).catch(t=>{throw this._set("submitting",!1),this._set("error",new _["a"]("attachments:delete-attachment",this.messages.deleteErrorMessage,t)),t})}updateAttachment(){const{viewModel:t}=this,{_updateAttachmentForm:e}=this;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(e).then(e=>(this._set("submitting",!1),this._set("error",null),t.mode="view",e)).catch(t=>{throw this._set("submitting",!1),this._set("error",new _["a"]("attachments:update-attachment",this.messages.updateErrorMessage,t)),t})}render(){const{submitting:t,viewModel:e}=this,{state:i}=e;return Object(Yt["a"])("div",{class:this.classes(Xt.base,Xt.esriWidget)},t?this.renderProgressBar():null,"loading"===i?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:t,visibleElements:e}=this;return t&&e.errorMessage?Object(Yt["a"])("div",{key:"error-message",class:Xt.errorMessage},t.message):null}renderAttachments(){const{mode:t,activeAttachmentInfo:e}=this.viewModel;return"add"===t?this.renderAddForm():"edit"===t?this.renderDetailsForm(e):this.renderAttachmentContainer()}renderLoading(){return Object(Yt["a"])("div",{class:Xt.loaderContainer,key:"loader"},Object(Yt["a"])("div",{class:Xt.loader}))}renderProgressBar(){return this.visibleElements.progressBar?Object(Yt["a"])("div",{class:Xt.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:t,selectedFile:e}=this,i=t||!e,n=this.visibleElements.cancelAddButton?Object(Yt["a"])("button",{type:"button",bind:this,disabled:t,onclick:this._cancelForm,class:this.classes(Xt.esriButton,Xt.esriButtonTertiary,Xt.esriButtonSmall,Xt.esriButtonHalf,t&&Xt.buttonDisabled)},this.messages.cancel):null,r=this.visibleElements.addSubmitButton?Object(Yt["a"])("button",{type:"submit",disabled:i,class:this.classes(Xt.esriButton,Xt.esriButtonSecondary,Xt.esriButtonSmall,Xt.esriButtonHalf,{[Xt.buttonDisabled]:i})},this.messages.add):null,s=e?Object(Yt["a"])("span",{key:"file-name",class:Xt.fileName},e.name):null,o=Object(Yt["a"])("form",{bind:this,afterCreate:Jt["k"],afterRemoved:Jt["c"],"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},Object(Yt["a"])("fieldset",{class:Xt.fileFieldset},s,Object(Yt["a"])("label",{class:this.classes(Xt.fileLabel,Xt.esriButton,Xt.esriButtonSecondary)},e?this.messages.changeFile:this.messages.selectFile,Object(Yt["a"])("input",{class:Xt.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),r,n);return Object(Yt["a"])("div",{key:"add-form-container",class:Xt.formNode},o)}renderDetailsForm(t){const{visibleElements:e,viewModel:i,selectedFile:n,submitting:r}=this,{contentType:s,size:o,url:a}=t,{abilities:c}=i,l=r||!n,u=c.editing&&c.operations.delete&&e.deleteButton?Object(Yt["a"])("button",{key:"delete-button",type:"button",disabled:r,bind:this,onclick:e=>this._submitDeleteAttachment(e,t),class:this.classes(Xt.esriButton,Xt.esriButtonSmall,Xt.esriButtonTertiary,Xt.deleteButton,{[Xt.buttonDisabled]:r})},this.messages.delete):null,h=c.editing&&c.operations.update&&e.updateButton?Object(Yt["a"])("button",{disabled:l,key:"update-button",type:"submit",class:this.classes(Xt.esriButton,Xt.esriButtonSmall,Xt.esriButtonThird,{[Xt.buttonDisabled]:l})},this.messages.update):null,d=this.visibleElements.cancelUpdateButton?Object(Yt["a"])("button",{disabled:r,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(Xt.esriButton,Xt.esriButtonSmall,Xt.esriButtonTertiary,Xt.esriButtonThird,{[Xt.buttonDisabled]:r})},this.messages.cancel):null,p=n?Object(Yt["a"])("span",{key:"file-name",class:Xt.fileName},n.name):null,f=c.editing&&c.operations.update?Object(Yt["a"])("fieldset",{key:"file",class:Xt.fileFieldset},p,Object(Yt["a"])("label",{class:this.classes(Xt.fileLabel,Xt.esriButton,Xt.esriButtonSecondary)},this.messages.changeFile,Object(Yt["a"])("input",{class:Xt.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,b=Object(Yt["a"])("fieldset",{key:"size",class:Xt.metadataFieldset},Object(Yt["a"])("label",null,I(this.messagesUnits,o))),y=Object(Yt["a"])("fieldset",{key:"content-type",class:Xt.metadataFieldset},Object(Yt["a"])("label",null,s)),m=Object(Yt["a"])("form",{bind:this,afterCreate:Jt["k"],afterRemoved:Jt["c"],"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},Object(Yt["a"])("div",{class:Xt.metadata},b,y),f,Object(Yt["a"])("div",{class:Xt.actions},u,d,h));return Object(Yt["a"])("div",{key:"edit-form-container",class:Xt.formNode},Object(Yt["a"])("a",{class:Xt.itemLink,href:a,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:t,size:400}),Object(Yt["a"])("div",{class:Xt.itemLinkOverlay},Object(Yt["a"])("span",{class:Xt.itemLinkOverlayIcon},Object(Yt["a"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},Object(Yt["a"])("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),Object(Yt["a"])("path",{fill:"none",d:"M0 0h32v32H0z"}))))),m)}renderImageMask({attachmentInfo:t,size:e}){const{supportsResizeAttachments:i}=this.viewModel,{contentType:n,name:r,url:s}=t,o=i&&Ht(n),a=this._getCSSTransform(t,o),c=a?{transform:a,"image-orientation":"none"}:{},l=-1===s.indexOf("?")?"?":"&",u=o?`${s}${l}w=${e}`:Wt(n),h={[Xt.itemMaskIcon]:!o},d={[Xt.itemImageResizable]:i};return Object(Yt["a"])("div",{class:this.classes(h,Xt.itemMask)},Object(Yt["a"])("img",{styles:c,alt:r,src:u,class:this.classes(d,Xt.itemImage)}))}renderAttachmentInfo({attachmentInfo:t,displayType:e}){const{viewModel:i}=this,{abilities:n}=i,{name:r,url:s}=t,o=this.renderImageMask({attachmentInfo:t,size:"list"===e?48:400}),a=n.editing?Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(Xt.itemChevronIcon,Object(Jt["h"])(this.container)?Xt.iconLeft:Xt.iconRight)}):null,c=[o,Object(Yt["a"])("label",{class:Xt.itemLabel},Object(Yt["a"])("span",{class:Xt.itemFilename},r||this.messages.noTitle),a)],l=n.editing?Object(Yt["a"])("button",{key:"details-button",bind:this,class:Xt.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":t.id,onclick:()=>this._startEditAttachment(t),type:"button"},c):Object(Yt["a"])("a",{key:"details-link",class:Xt.itemButton,href:s,target:"_blank"},c);return Object(Yt["a"])("li",{class:Xt.item,key:t},l)}renderAttachmentContainer(){const{effectiveDisplayType:t,viewModel:e,visibleElements:i}=this,{attachmentInfos:n,abilities:r}=e,s=n&&n.length,o={[Xt.containerList]:"preview"!==t,[Xt.containerPreview]:"preview"===t},a=r.editing&&r.operations.add&&i.addButton?Object(Yt["a"])("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(Xt.esriButton,Xt.esriButtonTertiary,Xt.addAttachmentButton),type:"button"},Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(Xt.itemAddIcon,Xt.iconPlus)}),this.messages.add):null,c=s?Object(Yt["a"])("ul",{class:Xt.items},n.toArray().map(e=>this.renderAttachmentInfo({attachmentInfo:e,displayType:t}))):Object(Yt["a"])("div",{class:Xt.empty},this.messages.noAttachments);return Object(Yt["a"])("div",{key:"attachments-container",class:this.classes(Xt.container,o)},c,a)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(t){const e=t.target,i=e&&e.files&&e.files.item(0);this._set("selectedFile",i)}_submitDeleteAttachment(t,e){t.preventDefault(),this.deleteAttachment(e)}_submitAddAttachment(t){t.preventDefault(),this.addAttachment()}_submitUpdateAttachment(t){t.preventDefault(),this.updateAttachment()}_startEditAttachment(t){const{viewModel:e}=this;e.activeAttachmentInfo=t,e.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(t){t.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(t,e){const{orientationInfo:i}=t;return!this._supportsImageOrientation&&e&&i?[i.rotation?`rotate(${i.rotation}deg)`:"",i.mirrored?"scaleX(-1)":""].join(" "):""}};Object(n["a"])([Object(w["a"])("viewModel.abilities")],te.prototype,"abilities",void 0),Object(n["a"])([Object(a["b"])()],te.prototype,"displayType",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],te.prototype,"effectiveDisplayType",null),Object(n["a"])([Object(w["a"])("viewModel.graphic")],te.prototype,"graphic",void 0),Object(n["a"])([Object(a["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],te.prototype,"label",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/Attachments/t9n/Attachments")],te.prototype,"messages",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/core/t9n/Units")],te.prototype,"messagesUnits",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],te.prototype,"selectedFile",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],te.prototype,"submitting",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],te.prototype,"error",void 0),Object(n["a"])([Object(a["b"])({type:qt})],te.prototype,"viewModel",void 0),Object(n["a"])([Object(a["b"])()],te.prototype,"visibleElements",void 0),Object(n["a"])([Object(O["a"])("visibleElements")],te.prototype,"castVisibleElements",null),te=Object(n["a"])([Object(c["a"])("esri.widgets.Attachments")],te);const ee=te;let ie=class extends qt{constructor(t){super(t),this.description=null,this.title=null}};Object(n["a"])([Object(a["b"])()],ie.prototype,"description",void 0),Object(n["a"])([Object(a["b"])()],ie.prototype,"title",void 0),ie=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],ie);const ne=ie,re={heading:"esri-widget__heading"};function se(t,e){const i="h"+Object(x["d"])(Math.ceil(t.level),1,6);return delete t.level,Object(Yt["a"])(i,{...t,class:Object(Jt["a"])(re.heading,t.class)},e)}const oe={base:"esri-feature-element-info",title:"esri-feature-element-info__title",description:"esri-feature-element-info__description"};let ae=class extends j["a"]{constructor(t,e){super(t,e),this.description=null,this.headingLevel=2,this.title=null}render(){return Object(Yt["a"])("div",{class:oe.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:t}=this;return t?Object(Yt["a"])(se,{level:this.headingLevel,class:oe.title},t):null}renderDescription(){const{description:t}=this;return t?Object(Yt["a"])("div",{key:"description",class:oe.description},t):null}};Object(n["a"])([Object(a["b"])()],ae.prototype,"description",void 0),Object(n["a"])([Object(a["b"])()],ae.prototype,"headingLevel",void 0),Object(n["a"])([Object(a["b"])()],ae.prototype,"title",void 0),ae=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.support.FeatureElementInfo")],ae);const ce=ae,le={base:"esri-feature-attachments"};let ue=class extends j["a"]{constructor(t,e){super(t,e),this._featureElementInfo=null,this.attachmentsWidget=new ee,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new ne}initialize(){this._featureElementInfo=new ce,Object(o["a"])(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),Object(o["a"])(this,"viewModel.graphic",t=>this.attachmentsWidget.graphic=t)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var t;const{attachmentsWidget:e}=this;return Object(Yt["a"])("div",{class:le.base},null==(t=this._featureElementInfo)?void 0:t.render(),null==e?void 0:e.render())}_setupFeatureElementInfo(){const{description:t,title:e,headingLevel:i}=this;this._featureElementInfo.set({description:t,title:e,headingLevel:i})}};Object(n["a"])([Object(a["b"])({readOnly:!0})],ue.prototype,"attachmentsWidget",void 0),Object(n["a"])([Object(w["a"])("viewModel.description")],ue.prototype,"description",void 0),Object(n["a"])([Object(w["a"])("attachmentsWidget.displayType")],ue.prototype,"displayType",void 0),Object(n["a"])([Object(w["a"])("viewModel.graphic")],ue.prototype,"graphic",void 0),Object(n["a"])([Object(a["b"])()],ue.prototype,"headingLevel",void 0),Object(n["a"])([Object(w["a"])("viewModel.title")],ue.prototype,"title",void 0),Object(n["a"])([Object(a["b"])({type:ne})],ue.prototype,"viewModel",void 0),ue=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureAttachments")],ue);const he=ue;let de=class extends(Object(E["b"])(l["a"])){constructor(t){super(t),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(Object(o["a"])(this,"creator",t=>{this._destroyContent(),this._createContent(t)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:t,graphic:e,destroyer:i}=this;t&&(Y(i,{graphic:e}).catch(()=>null),this._set("created",null))}async _createContent(t){const{graphic:e}=this,i=Y(t,{graphic:e}).catch(()=>null);this._loadingPromise=i,this.notifyChange("state");const n=await i;i===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",n))}};Object(n["a"])([Object(a["b"])({readOnly:!0})],de.prototype,"created",void 0),Object(n["a"])([Object(a["b"])()],de.prototype,"creator",void 0),Object(n["a"])([Object(a["b"])()],de.prototype,"destroyer",void 0),Object(n["a"])([Object(a["b"])({type:T["a"]})],de.prototype,"graphic",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],de.prototype,"state",null),de=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],de);const pe=de;var fe=i("2772");const be={base:"esri-feature-content",loaderContainer:"esri-feature-content__loader-container",loader:"esri-feature-content__loader"};let ye=class extends j["a"]{constructor(t,e){super(t,e),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=t=>{Array.from(t.querySelectorAll("a")).forEach(t=>{Z(t.href)&&!t.hasAttribute("target")&&t.setAttribute("target","_blank")})}}renderLoading(){return Object(Yt["a"])("div",{class:be.loaderContainer,key:"loader"},Object(Yt["a"])("div",{class:be.loader}))}renderCreated(){var t;const e=null==(t=this.viewModel)?void 0:t.created;return e?e instanceof HTMLElement?Object(Yt["a"])("div",{key:e,bind:e,afterCreate:this._attachToNode}):Object(fe["b"])(e)?Object(Yt["a"])("div",{key:e},!e.destroyed&&e.render()):Object(Yt["a"])("div",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null}render(){var t;const e=null==(t=this.viewModel)?void 0:t.state;return Object(Yt["a"])("div",{class:be.base},"loading"===e?this.renderLoading():this.renderCreated())}_attachToNode(t){const e=this;t.appendChild(e)}};Object(n["a"])([Object(w["a"])("viewModel.creator")],ye.prototype,"creator",void 0),Object(n["a"])([Object(w["a"])("viewModel.graphic")],ye.prototype,"graphic",void 0),Object(n["a"])([Object(a["b"])({type:pe})],ye.prototype,"viewModel",void 0),ye=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureContent")],ye);const me=ye;var ge=i("1637"),ve=i("9f91");let we=class extends l["a"]{constructor(t){super(t),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:t,fieldInfos:e}=this,i=[];return null==e||e.forEach(e=>{if(e.hasOwnProperty("visible")&&!e.visible)return;const n=e.clone();n.label=tt(n,t),i.push(n)}),i}};Object(n["a"])([Object(a["b"])()],we.prototype,"attributes",void 0),Object(n["a"])([Object(a["b"])({type:[ge["a"]]})],we.prototype,"expressionInfos",void 0),Object(n["a"])([Object(a["b"])()],we.prototype,"description",void 0),Object(n["a"])([Object(a["b"])({type:[ve["a"]]})],we.prototype,"fieldInfos",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],we.prototype,"formattedFieldInfos",null),Object(n["a"])([Object(a["b"])()],we.prototype,"title",void 0),we=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],we);const Oe=we,je=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function _e(t){let e=null;return je.some(i=>(i.pattern.test(t)&&(e=i),!!e)),e}function xe(t,e){if("string"!=typeof e||!e)return e;const i=_e(e);if(!i)return e;const n=e.match(i.pattern),r=n&&n[2],s=Object(S["c"])(Object(S["c"])(i.label,{messages:t,hierPart:r}),{appName:i.appName}),o=i.target?` target="${i.target}"`:"",a="_blank"===i.target?' rel="noreferrer"':"";return e.replace(i.pattern,`<a${o} href="$1"${a}>${s}</a>`)}const Se={base:"esri-feature-fields",fieldHeader:"esri-feature-fields__field-header",fieldData:"esri-feature-fields__field-data",fieldDataDate:"esri-feature-fields__field-data--date",esriTable:"esri-widget__table"};let Me=class extends j["a"]{constructor(t,e){super(t,e),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new Oe,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new ce,Object(o["a"])(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(t,e){const{attributes:i}=this.viewModel,n=t.fieldName,r=t.label||n,s=i?null==i[n]?"":i[n]:"",o=!(!t.format||!t.format.dateFormat),a="number"!=typeof s||o?xe(this.messagesURIUtils,s):this._forceLTR(s),c={[Se.fieldDataDate]:o};return Object(Yt["a"])("tr",{key:`fields-element-info-row-${n}-${e}`},Object(Yt["a"])("th",{key:`fields-element-info-row-header-${n}-${e}`,class:Se.fieldHeader,innerHTML:r}),Object(Yt["a"])("td",{key:`fields-element-info-row-data-${n}-${e}`,class:this.classes(Se.fieldData,c),innerHTML:a}))}renderFields(){const{formattedFieldInfos:t}=this.viewModel;return null!=t&&t.length?Object(Yt["a"])("table",{class:Se.esriTable,summary:this.messages.fieldsSummary},Object(Yt["a"])("tbody",null,t.map((t,e)=>this.renderFieldInfo(t,e)))):null}render(){var t;return Object(Yt["a"])("div",{class:Se.base},null==(t=this._featureElementInfo)?void 0:t.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:t,title:e}=this;this._featureElementInfo.set({description:t,title:e})}_forceLTR(t){return"&lrm;"+t}};Object(n["a"])([Object(w["a"])("viewModel.attributes")],Me.prototype,"attributes",void 0),Object(n["a"])([Object(w["a"])("viewModel.description")],Me.prototype,"description",void 0),Object(n["a"])([Object(w["a"])("viewModel.expressionInfos")],Me.prototype,"expressionInfos",void 0),Object(n["a"])([Object(w["a"])("viewModel.fieldInfos")],Me.prototype,"fieldInfos",void 0),Object(n["a"])([Object(w["a"])("viewModel.title")],Me.prototype,"title",void 0),Object(n["a"])([Object(a["b"])({type:Oe})],Me.prototype,"viewModel",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/Feature/t9n/Feature")],Me.prototype,"messages",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/support/t9n/uriUtils")],Me.prototype,"messagesURIUtils",void 0),Me=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureFields")],Me);const ke=Me;var Ie=i("a8f3"),Te=i("2eab"),Ee=i("f4cc"),Ae=i("69dd"),Ce=i("b742"),Pe=i("a796"),Re=i("feec");const Le="esri.widgets.Feature.support.relatedFeatureUtils",Ne=m["a"].getLogger(Le),Fe=new Map;function De(t){if(!Ct(t))return null;const[e,i]=t.split("/").slice(1);return{layerId:e,fieldName:i}}function ze(t,e){if(!e.relationships)return null;let i=null;const{relationships:n}=e;return n.some(e=>e.id===parseInt(t,10)&&(i=e,!0)),i}function Ve({originRelationship:t,relationships:e,layerId:i}){let n;return e&&e.some(e=>(""+e.relatedTableId===i&&e.id===t.id&&(n=e),!!n)),n}function $e(t,e){const i=e.toLowerCase();for(const n in t)if(n.toLowerCase()===i)return t[n];return null}function Ge(t,e){const i=ze(t,e);if(!i)return;const n=`${e.url}/${i.relatedTableId}`;return{url:n,queryTask:new Re["a"]({url:n,sourceSpatialReference:e.spatialReference}),relation:i,relatedFields:[],outStatistics:[]}}function Ue(t,e){if(!e)return;if(!t)return;const{features:i,statsFeatures:n}=t,r=i&&i.value;e.relatedFeatures=r?r.features:[];const s=n&&n.value;e.relatedStatsFeatures=s?s.features:[]}function qe(t,e,i,n){const r=new Ce["a"];return r.outFields=["*"],r.relationshipId="number"==typeof e.id?e.id:parseInt(e.id,10),r.objectIds=[t.attributes[i.objectIdField]],i.queryRelatedFeatures(r,n)}function Be(t,e,i){let n=0;const r=[];for(;n<e.length;)r.push(`${t} IN (${e.slice(n,i+n)})`),n+=i;return r.join(" OR ")}async function He(t,e,i,n){const r=i.layerId.toString(),{layerInfo:s,queryTask:o,relation:a,relatedFields:c,outStatistics:l}=e,u=Ve({originRelationship:a,relationships:s.relationships,layerId:r});if(u.relationshipTableId&&u.keyFieldInRelationshipTable){const e=(await qe(t,u,i,n))[t.attributes[i.objectIdField]];if(!e)return null;const r=e.features.map(t=>t.attributes[s.objectIdField]);if((null==l?void 0:l.length)>0&&s.supportsStatistics){const t=new Ae["a"];t.where=Be(s.objectIdField,r,1e3),t.outFields=c,t.outStatistics=l;const i={features:Promise.resolve(e),statsFeatures:o.execute(t)};return Object(Ee["i"])(i)}}const h=null==u?void 0:u.keyField;if(h){const i=Object(R["p"])(Ze(s.fields,h)),r=$e(t.attributes,a.keyField),c=i?`${h}=${r}`:`${h}='${r}'`,l=o.execute(new Ae["a"]({where:c,outFields:e.relatedFields}),n),u=e.outStatistics&&e.outStatistics.length>0&&s.supportsStatistics?o.execute(new Ae["a"]({where:c,outFields:e.relatedFields,outStatistics:e.outStatistics}),n):null,d={features:l};return u&&(d.statsFeatures=u),Object(Ee["i"])(d)}return null}function We(t,e){return Object(Te["default"])(t,{query:{f:"json"},signal:e&&e.signal})}function Je({relatedInfos:t,layer:e},i){const n={};return t.forEach((t,r)=>{const{relation:s}=t;if(!s){const t=new _["a"]("relation-required","A relation is required on a layer to retrieve related records.");throw Ne.error(t),t}const{relatedTableId:o}=s;if("number"!=typeof o){const t=new _["a"]("A related table ID is required on a layer to retrieve related records.");throw Ne.error(t),t}const a=`${e.url}/${o}`,c=Fe.get(a),l=c||We(a,i);c||Fe.set(a,l),n[r]=l}),Object(Ee["i"])(n)}function Ke({graphic:t,relatedInfos:e,layer:i},n){const r={};return e.forEach((e,s)=>{e.layerInfo&&(r[s]=He(t,e,i,n))}),Object(Ee["i"])(r)}function Ye({relatedInfo:t,fieldName:e,fieldInfo:i}){if(t.relatedFields.push(e),i.statisticType){const n=new Pe["a"]({statisticType:i.statisticType,onStatisticField:e,outStatisticFieldName:e});t.outStatistics.push(n)}}function Ze(t,e){if(null!=t){e=e.toLowerCase();for(const i of t)if(i&&i.name.toLowerCase()===e)return i}return null}let Xe=class extends l["a"]{constructor(t){super(t),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(t){this._setContentElementMedia(t)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(t){const{formattedMediaInfoCount:e}=this,i=(t+e)%e;this.activeMediaInfoIndex=i}_pageContentElementMedia(t){const{activeMediaInfoIndex:e}=this,i=e+t;this._setContentElementMedia(i)}_formatMediaInfos(){const{attributes:t,mediaInfos:e,formattedAttributes:i,expressionAttributes:n,fieldInfoMap:r,layer:s}=this;return null==e?void 0:e.map(e=>{const o=null==e?void 0:e.clone();if(!o)return null;if(o.title=at({attributes:t,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:s,text:o.title}),o.caption=at({attributes:t,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:s,text:o.caption}),o.altText=at({attributes:t,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:s,text:o.altText}),"image"===o.type){const{value:t}=o;return this._setImageValue({value:t,formattedAttributes:i,layer:s}),o.value.sourceURL?o:void 0}if("pie-chart"===o.type||"line-chart"===o.type||"column-chart"===o.type||"bar-chart"===o.type){const{value:e}=o;return this._setChartValue({value:e,chartType:o.type,attributes:t,formattedAttributes:i,layer:s}),o}return null}).filter(Boolean)}_setImageValue(t){const{fieldInfoMap:e}=this,{value:i,formattedAttributes:n,layer:r}=t,{linkURL:s,sourceURL:o}=i;if(o){const t=dt(o,r);i.sourceURL=ct({formattedAttributes:n,template:t,fieldInfoMap:e})}if(s){const t=dt(s,r);i.linkURL=ct({formattedAttributes:n,template:t,fieldInfoMap:e})}}_setChartValue(t){const{value:e,attributes:i,formattedAttributes:n,chartType:r,layer:s}=t,{popupTemplate:o,relatedInfos:a}=this,{fields:c,normalizeField:l}=e;if(e.fields=rt(c,s),l&&(e.normalizeField=nt(l,s)),!c.some(t=>!!(null!=n[t]||Ct(t)&&a.size)))return;const u=null==o?void 0:o.fieldInfos;c.forEach(t=>{if(Ct(t))return void(e.series=[...e.series,...this._getRelatedChartInfos({fieldInfos:u,fieldName:t,formattedAttributes:n,chartType:r,value:e})]);const s=this._getChartOption({value:e,attributes:i,chartType:r,formattedAttributes:n,fieldName:t,fieldInfos:u});e.series.push(s)})}_getRelatedChartInfos(t){var e;const{fieldInfos:i,fieldName:n,formattedAttributes:r,chartType:s,value:o}=t,a=[],c=De(n),{layerId:l,fieldName:u}=c,h=null==(e=this.relatedInfos)?void 0:e.get(l.toString());if(!h)return a;const{relatedFeatures:d,relation:p}=h;if(!p||!d)return a;const{cardinality:f}=p;return d.forEach(t=>{const{attributes:e}=t;e&&Object.keys(e).forEach(t=>{t===u&&a.push(this._getChartOption({value:o,attributes:e,formattedAttributes:r,fieldName:n,chartType:s,relatedFieldName:t,fieldInfos:i}))})}),"one-to-many"===f||"many-to-many"===f?a:[a[0]]}_getTooltip({label:t,value:e,chartType:i}){return"pie-chart"===i?t:`${t}: ${e}`}_getChartOption(t){var e;const{value:i,attributes:n,formattedAttributes:r,fieldName:s,relatedFieldName:o,fieldInfos:a,chartType:c}=t,{layer:l}=this,{normalizeField:u,tooltipField:h}=i,d=u?Ct(u)?n[De(u).fieldName]:n[u]:null,p=o&&void 0!==n[o]?n[o]:void 0!==n[s]?n[s]:r[s],f=void 0===p?null:p&&d?p/d:p,b=new Ie["a"]({value:f});if(Ct(s)){const t=De(s),e=De(h),i=e?e.fieldName:null,r=gt(f,{fieldInfos:a,fieldName:o,layer:l,preventPlacesFormatting:!!d}),u=t?t.label||t.fieldName:o,p=i&&void 0!==n[i]?n[i]:u;return b.tooltip=this._getTooltip({label:p,value:r,chartType:c}),b}const y=vt(a,s),m=nt(s,l),g=h&&void 0!==r[h]?r[h]:tt(y||new ve["a"]({fieldName:m}),null==(e=this.popupTemplate)?void 0:e.expressionInfos),v=r[m];return b.tooltip=this._getTooltip({label:g,value:v,chartType:c}),b}};Object(n["a"])([Object(a["b"])()],Xe.prototype,"activeMediaInfoIndex",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Xe.prototype,"activeMediaInfo",null),Object(n["a"])([Object(a["b"])()],Xe.prototype,"attributes",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"description",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"fieldInfoMap",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"formattedAttributes",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"expressionAttributes",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Xe.prototype,"formattedMediaInfos",null),Object(n["a"])([Object(a["b"])()],Xe.prototype,"layer",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Xe.prototype,"formattedMediaInfoCount",null),Object(n["a"])([Object(a["b"])()],Xe.prototype,"mediaInfos",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"popupTemplate",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"relatedInfos",void 0),Object(n["a"])([Object(a["b"])()],Xe.prototype,"title",void 0),Xe=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Xe);const Qe=Xe;var ti=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],ei=[].concat(ti.slice(30,39),ti.slice(28,30).reverse()),ii=[{name:"default",colors:ei},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],ni=i("2035");const ri="en-us",si=new Map([["ar",()=>i.e("chunk-2d0dd452").then(i.bind(null,"8158")).then(t=>t.a)],["bg-bg",()=>i.e("chunk-2d0c5abf").then(i.bind(null,"3fa7")).then(t=>t.b)],["bs-ba",()=>i.e("chunk-2d0d7e56").then(i.bind(null,"7986")).then(t=>t.b)],["ca-es",()=>i.e("chunk-2d20ff55").then(i.bind(null,"b69d")).then(t=>t.c)],["cs-cz",()=>i.e("chunk-2d22ce36").then(i.bind(null,"f4c5")).then(t=>t.c)],["da-dk",()=>i.e("chunk-2d210440").then(i.bind(null,"b6c9")).then(t=>t.d)],["de-de",()=>i.e("chunk-2d0c7ed4").then(i.bind(null,"5366")).then(t=>t.d)],["de-ch",()=>i.e("chunk-2d225664").then(i.bind(null,"e3dd")).then(t=>t.d)],["el-gr",()=>i.e("chunk-2d0aead6").then(i.bind(null,"0aa0")).then(t=>t.e)],["en-us",()=>i.e("chunk-2d22d3a8").then(i.bind(null,"f734")).then(t=>t.e)],["en-ca",()=>i.e("chunk-2d231045").then(i.bind(null,"ef6d")).then(t=>t.e)],["es-es",()=>i.e("chunk-2d221c62").then(i.bind(null,"cc7c")).then(t=>t.e)],["et-ee",()=>i.e("chunk-2d0d7fd9").then(i.bind(null,"78bd")).then(t=>t.e)],["fi-fi",()=>i.e("chunk-2d0c1948").then(i.bind(null,"473b")).then(t=>t.f)],["fr-fr",()=>i.e("chunk-2d0c86de").then(i.bind(null,"559a")).then(t=>t.f)],["he-il",()=>i.e("chunk-2d207ac9").then(i.bind(null,"a213")).then(t=>t.h)],["hr-hr",()=>i.e("chunk-2d21b2d9").then(i.bind(null,"bf54")).then(t=>t.h)],["hu-hu",()=>i.e("chunk-2d0abe0e").then(i.bind(null,"16c6")).then(t=>t.h)],["id-id",()=>i.e("chunk-2d0d30d0").then(i.bind(null,"5ab0")).then(t=>t.i)],["it-it",()=>i.e("chunk-2d0c0894").then(i.bind(null,"41cd")).then(t=>t.i)],["ja-jp",()=>i.e("chunk-2d0cf344").then(i.bind(null,"635f")).then(t=>t.j)],["ko-kr",()=>i.e("chunk-2d0bdcef").then(i.bind(null,"2e28")).then(t=>t.k)],["lt-lt",()=>i.e("chunk-2d22a1b6").then(i.bind(null,"dffd")).then(t=>t.l)],["lv-lv",()=>i.e("chunk-2d20828d").then(i.bind(null,"a437")).then(t=>t.l)],["nb-no",()=>i.e("chunk-2d222546").then(i.bind(null,"cdc2")).then(t=>t.n)],["nl-nl",()=>i.e("chunk-2d0b6d34").then(i.bind(null,"1f8a")).then(t=>t.n)],["pl-pl",()=>i.e("chunk-2d218057").then(i.bind(null,"c8e1")).then(t=>t.p)],["pt-br",()=>i.e("chunk-2d2297bc").then(i.bind(null,"de49")).then(t=>t.p)],["pt-pt",()=>i.e("chunk-2d2311e8").then(i.bind(null,"eed6")).then(t=>t.p)],["ro-ro",()=>i.e("chunk-2d0b726e").then(i.bind(null,"1fcf")).then(t=>t.r)],["ru-ru",()=>i.e("chunk-2d21e41f").then(i.bind(null,"d591")).then(t=>t.r)],["sk-sk",()=>i.e("chunk-2d0c1555").then(i.bind(null,"4630")).then(t=>t.s)],["sl-sl",()=>i.e("chunk-2d0c970e").then(i.bind(null,"58c8")).then(t=>t.s)],["sr-rs",()=>i.e("chunk-2d22e157").then(i.bind(null,"f9f4")).then(t=>t.s)],["sv-se",()=>i.e("chunk-2d0a3344").then(i.bind(null,"00d2")).then(t=>t.s)],["th-th",()=>i.e("chunk-2d0e48cf").then(i.bind(null,"9167")).then(t=>t.t)],["tr-tr",()=>i.e("chunk-7499dfb6").then(i.bind(null,"5cdb8")).then(t=>t.t)],["uk-ua",()=>i.e("chunk-2d0cffe8").then(i.bind(null,"65a4")).then(t=>t.u)],["vi-vn",()=>i.e("chunk-2d0e5bc0").then(i.bind(null,"966c")).then(t=>t.v)],["zh-cn",()=>i.e("chunk-2d210f99").then(i.bind(null,"b9d0")).then(t=>t.z)],["zh-hk",()=>i.e("chunk-2d0e925e").then(i.bind(null,"8bfd")).then(t=>t.z)],["zh-tw",()=>i.e("chunk-2d0e925e").then(i.bind(null,"8bfd")).then(t=>t.z)]]);function oi(t){const e=t.split("-")[0].toLowerCase();let i=null;for(const n of si.keys())if(n.startsWith(e)){i=n;break}return i}function ai(t){return t?si.has(t.toLowerCase())?t.toLowerCase():oi(t)||ri:ri}let ci,li;async function ui(t=Object(ni["b"])()){if(t=ai(t),ci&&t===li)return ci;ci=i.e("chunk-2d0b32f8").then(i.bind(null,"26fd")).then(t=>t.i),li=t;try{const[e,i]=await Promise.all([ci,si.get(li)()]);li===t&&(e.am4core.options.defaultLocale=i.default),e.am4core.options.suppressWarnings=!0,e.am4core.options.autoDispose=!0}catch{return ci=null,li=null,null}return ci}function hi(t,e="default"){const i=ii.find(t=>t.name===e);return i?i.colors.map(e=>t.color(e)):null}const di={base:"esri-feature-media",mediaContainer:"esri-feature-media__container",mediaItemContainer:"esri-feature-media__item-container",mediaItem:"esri-feature-media__item",mediaItemTitle:"esri-feature-media__item-title",mediaItemCaption:"esri-feature-media__item-caption",mediaPrevious:"esri-feature-media__previous",mediaPreviousIconLTR:"esri-feature-media__previous-icon",mediaPreviousIconRTL:"esri-feature-media__previous-icon--rtl",mediaNext:"esri-feature-media__next",mediaNextIconLTR:"esri-feature-media__next-icon",mediaNextIconRTL:"esri-feature-media__next-icon--rtl",mediaChart:"esri-feature-media__chart",mediaButton:"esri-feature-media__button",mediaIcon:"esri-feature-media__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},pi=.05,fi=.95,bi=15;let yi=class extends j["a"]{constructor(t,e){super(t,e),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Qe,this.messages=null,this._getChartDependencies=async t=>{const e=await ui(),{viewModel:i}=this;if(!i)return;const{activeMediaInfo:n}=i;this._renderChart({chartDiv:t,mediaInfo:n,chartsModule:e})}}initialize(){this._featureElementInfo=new ce,this.own(Object(o["a"])(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),Object(o["a"])(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var t;return Object(Yt["a"])("div",{bind:this,class:di.base,onkeyup:this._handleMediaKeyup},null==(t=this._featureElementInfo)?void 0:t.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:t}=this.viewModel;return t?Object(Yt["a"])("div",{key:"media-element-container",class:di.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(t){const{_refreshIntervalInfo:e}=this,{activeMediaInfoIndex:i,formattedMediaInfoCount:n}=this.viewModel,{value:r,refreshInterval:s,altText:o,title:a,type:c}=t,{sourceURL:l,linkURL:u}=r,h=Z(u)?"_blank":"_self",d="_blank"===h?"noreferrer":"",p=s?e:null,f=p?p.timestamp:0,b=p?p.sourceURL:l,y=Object(Yt["a"])("img",{alt:o||a,key:`media-${c}-${i}-${n}-${f}`,src:b}),m=u?Object(Yt["a"])("a",{title:a,href:u,rel:d,target:h},y):null;return m||y}renderChartMediaInfo(t){const{activeMediaInfoIndex:e,formattedMediaInfoCount:i}=this.viewModel;return Object(Yt["a"])("div",{key:`media-${t.type}-${e}-${i}`,bind:this,class:di.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:t}=this.viewModel;return t?"image"===t.type?this.renderImageMediaInfo(t):-1!==t.type.indexOf("chart")?this.renderChartMediaInfo(t):null:null}renderMediaInfo(){const{activeMediaInfo:t}=this.viewModel;if(!t)return null;const e=t.title?Object(Yt["a"])("div",{key:"media-title",class:di.mediaItemTitle,innerHTML:t.title}):null,i=t.caption?Object(Yt["a"])("div",{key:"media-caption",class:di.mediaItemCaption,innerHTML:t.caption}):null;return Object(Yt["a"])("div",{key:"media-container",class:di.mediaItemContainer},Object(Yt["a"])("div",{key:"media-item-container",class:di.mediaItem},this.renderMediaInfoType()),e,i)}renderMediaPageButton(t){if(this.viewModel.formattedMediaInfoCount<2)return null;const e="previous"===t,i=e?this.messages.previous:this.messages.next,n=e?this.classes(di.mediaButton,di.mediaPrevious):this.classes(di.mediaButton,di.mediaNext),r=e?this.classes(di.mediaIcon,di.mediaPreviousIconLTR,di.iconLeftTriangleArrow):this.classes(di.mediaIcon,di.mediaNextIconLTR,di.iconRightTriangleArrow),s=e?this.classes(di.mediaIcon,di.mediaPreviousIconRTL,di.iconRightTriangleArrow):this.classes(di.mediaIcon,di.mediaNextIconRTL,di.iconLeftTriangleArrow),o=e?"media-previous":"media-next",a=e?this._previous:this._next;return Object(Yt["a"])("button",{type:"button",key:o,title:i,"aria-label":i,tabIndex:0,class:n,bind:this,onclick:a},Object(Yt["a"])("span",{"aria-hidden":"true",class:r}),Object(Yt["a"])("span",{"aria-hidden":"true",class:s}))}_setupFeatureElementInfo(){const{description:t,title:e}=this;this._featureElementInfo.set({description:t,title:e})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_handleMediaKeyup(t){const e=Object(b["a"])(t);"ArrowLeft"===e&&(t.stopPropagation(),this.viewModel.previous()),"ArrowRight"===e&&(t.stopPropagation(),this.viewModel.next())}_renderChart(t){const{chartsModule:e,chartDiv:i,mediaInfo:n}=t,{value:r,type:s}=n,{am4core:o}=e,a=hi(o);function c(t){t instanceof o.ColorSet&&a&&(t.list=a)}Object(Jt["g"])()&&o.useTheme(e.am4themes_dark),o.useTheme(e.am4themes_animated),o.useTheme(c);const l="pie-chart"===s?this._createPieChart(t):this._createXYChart(t);i.setAttribute("aria-label",n.altText||n.title),l.data=r.series.map(t=>({tooltip:t.tooltip,value:t.value})).filter(t=>"pie-chart"!==s||t.value>0)}_customizeChartTooltip(t,e){t.label.wrap=!0,t.label.maxWidth=200,t.autoTextColor=!1,t.getFillFromObject=!1,t.label.fill=e.color("#ffffff"),t.background.fill=e.color({r:0,g:0,b:0,a:.7})}_createPieChart(t){const{chartDiv:e,chartsModule:i}=t,{am4core:n,am4charts:r}=i,s=n.create(e,r.PieChart);s.rtl=Object(Jt["h"])(this.container);const o=s.series.push(new r.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="value",o.dataFields.category="tooltip",this._customizeChartTooltip(o.tooltip,n),s}_getMinSeriesValue(t){let e=0;return t.forEach(t=>e=Math.min(t.value,e)),e}_createColumnChart(t,e){const{chartsModule:i,mediaInfo:n}=e,{value:r}=n,{am4core:s,am4charts:o}=i,a=t.xAxes.push(new o.CategoryAxis);a.dataFields.category="tooltip",a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,s),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dy=-a.tooltip.contentHeight});const c=t.yAxes.push(new o.ValueAxis),l=c.renderer.labels.template;c.renderer.minLabelPosition=pi,c.renderer.maxLabelPosition=fi,c.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(c.tooltip,s),l.wrap=!0;const u=t.series.push(new o.ColumnSeries);u.dataFields.valueY="value",u.dataFields.categoryX="tooltip",t.cursor=new o.XYCursor,r.series.length>bi&&(t.scrollbarX=new s.Scrollbar)}_createBarChart(t,e){const{chartsModule:i,mediaInfo:n}=e,{value:r}=n,{am4core:s,am4charts:o}=i,a=t.yAxes.push(new o.CategoryAxis);a.dataFields.category="tooltip",a.renderer.inversed=!0,a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,s),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dx=a.tooltip.contentWidth});const c=t.xAxes.push(new o.ValueAxis),l=c.renderer.labels.template;c.renderer.minLabelPosition=pi,c.renderer.maxLabelPosition=fi,c.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(c.tooltip,s),l.wrap=!0;const u=t.series.push(new o.ColumnSeries);u.dataFields.valueX="value",u.dataFields.categoryY="tooltip",t.cursor=new o.XYCursor,r.series.length>bi&&(t.scrollbarY=new s.Scrollbar)}_createLineChart(t,e){const{chartsModule:i,mediaInfo:n}=e,{value:r}=n,{am4core:s,am4charts:o}=i,a=t.xAxes.push(new o.CategoryAxis);a.dataFields.category="tooltip",a.renderer.labels.template.disabled=!0,this._customizeChartTooltip(a.tooltip,s),a.tooltip.events.on("sizechanged",()=>{a.tooltip.dy=-a.tooltip.contentHeight});const c=t.yAxes.push(new o.ValueAxis),l=c.renderer.labels.template;c.renderer.minLabelPosition=pi,c.renderer.maxLabelPosition=fi,c.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(c.tooltip,s),l.wrap=!0;const u=t.series.push(new o.LineSeries);u.dataFields.categoryX="tooltip",u.dataFields.valueY="value",t.cursor=new o.XYCursor,r.series.length>bi&&(t.scrollbarX=new s.Scrollbar)}_createXYChart(t){const{chartDiv:e,chartsModule:i,mediaInfo:n}=t,{type:r}=n,{am4core:s,am4charts:o}=i,a=s.create(e,o.XYChart);return a.rtl=Object(Jt["h"])(this.container),"column-chart"===r&&this._createColumnChart(a,t),"bar-chart"===r&&this._createBarChart(a,t),"line-chart"===r&&this._createLineChart(a,t),a}_clearMediaRefreshTimer(){const{_refreshTimer:t}=this;t&&(clearTimeout(t),this._refreshTimer=null)}_updateMediaInfoTimestamp(t){const e=Date.now();this._refreshIntervalInfo={timestamp:e,sourceURL:this._getImageSource(t,e)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:t}=this.viewModel;t&&"image"===t.type&&t.refreshInterval&&this._setRefreshTimeout(t)}_setRefreshTimeout(t){const{refreshInterval:e,value:i}=t;if(!e)return;const n=6e4*e;this._updateMediaInfoTimestamp(i.sourceURL);const r=setInterval(()=>{this._updateMediaInfoTimestamp(i.sourceURL)},n);this._refreshTimer=r}_getImageSource(t,e){const i=-1!==t.indexOf("?")?"&":"?",[n,r=""]=t.split("#");return`${n}${i}timestamp=${e}${r?"#":""}${r}`}};Object(n["a"])([Object(w["a"])("viewModel.attributes")],yi.prototype,"attributes",void 0),Object(n["a"])([Object(w["a"])("viewModel.activeMediaInfoIndex")],yi.prototype,"activeMediaInfoIndex",void 0),Object(n["a"])([Object(w["a"])("viewModel.description")],yi.prototype,"description",void 0),Object(n["a"])([Object(w["a"])("viewModel.fieldInfoMap")],yi.prototype,"fieldInfoMap",void 0),Object(n["a"])([Object(w["a"])("viewModel.layer")],yi.prototype,"layer",void 0),Object(n["a"])([Object(w["a"])("viewModel.mediaInfos")],yi.prototype,"mediaInfos",void 0),Object(n["a"])([Object(w["a"])("viewModel.popupTemplate")],yi.prototype,"popupTemplate",void 0),Object(n["a"])([Object(w["a"])("viewModel.relatedInfos")],yi.prototype,"relatedInfos",void 0),Object(n["a"])([Object(w["a"])("viewModel.title")],yi.prototype,"title",void 0),Object(n["a"])([Object(a["b"])({type:Qe})],yi.prototype,"viewModel",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/Feature/t9n/Feature")],yi.prototype,"messages",void 0),yi=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureMedia")],yi);const mi=yi;var gi=i("89da"),vi=(i("1289"),i("a7a7"),i("69c9"),i("d099"),i("18bf")),wi=i("3cac"),Oi=i("d0e9"),ji=i("2e3f"),_i=i("5bd5");const xi=["$datastore","$map","$layer","$aggregatedfeatures"],Si="esri.widgets.Feature.support.arcadeFeatureUtils",Mi=m["a"].getLogger(Si);function ki(t){return"string"==typeof t?Mt(St(t)):Array.isArray(t)?Ii(t):"esri.arcade.Dictionary"===(null==t?void 0:t.declaredClass)?Ti(t):t}function Ii(t){return`<ul class="esri-widget__list">${t.map(t=>`<li>${"string"==typeof t?Mt(St(t)):t}</li>`).join("")}</ul>`}function Ti(t){return`<table class="esri-widget__table">${t.keys().map(e=>{const i=t.field(e);return`<tr><th>${e}</th><td>${"string"==typeof i?Mt(St(i)):i}</td></tr>`}).join("")}</table>`}function Ei({aggregatedFeatures:t,arcadeUtils:e,featureSetVars:i,context:n,viewInfo:r,map:s,graphic:o,interceptor:a}){i.forEach(i=>{const c=i.toLowerCase(),l={map:s,spatialReference:r.sr,interceptor:a};if("$map"===c&&(n.vars[c]=e.convertMapToFeatureSetCollection(l)),"$layer"===c&&(n.vars[c]=e.convertFeatureLayerToFeatureSet({layer:o.sourceLayer,spatialReference:r.sr,interceptor:a})),"$datastore"===c&&(n.vars[c]=e.convertServiceUrlToWorkspace({url:o.sourceLayer.url,spatialReference:r.sr,interceptor:a})),"$aggregatedfeatures"===c){const i=o.layer,{fields:s,objectIdField:l,geometryType:u,spatialReference:h,displayField:d}=i,p=new _i["default"]({fields:s,objectIdField:l,geometryType:u,spatialReference:h,displayField:d,..."feature"===i.type?{templates:i.templates,typeIdField:i.typeIdField,types:i.types}:null,source:t});n.vars[c]=e.convertFeatureLayerToFeatureSet({layer:p,spatialReference:r.sr,interceptor:a})}})}function Ai(){return i.e("chunk-66bef568").then(i.bind(null,"084f"))}async function Ci({graphic:t,view:e}){const{isAggregate:i,layer:n}=t;if(!i||!n||"2d"!==(null==e?void 0:e.type))return[];const r=await e.whenLayerView(n);if(!r.createQuery||!r.queryFeatures)return[];const s=r.createQuery();s.aggregateIds=[t.getObjectId()];const{features:o}=await r.queryFeatures(s);return o}async function Pi({expressionInfo:t,arcadeUtils:e,interceptor:i,spatialReference:n,map:r,graphic:s,view:o}){if(!t||!t.expression)return null;const a=e.createSyntaxTree(t.expression),c=xi.filter(t=>e.hasVariable(a,t)),[l]=await Object(Ee["b"])([Ci({graphic:s,view:o}),e.loadScriptDependencies(a,!0,c)]),u=e.getViewInfo({spatialReference:n}),h=e.createExecContext(s,u);h.interceptor=i,h.useAsync=!0,Ei({aggregatedFeatures:l,arcadeUtils:e,featureSetVars:c,context:h,viewInfo:u,map:r,graphic:s,interceptor:i});const d=e.createFunction(a,h);return e.executeAsyncFunction(d,h).catch(e=>Mi.error("arcade-execution-error",{error:e,graphic:s,expressionInfo:t}))}async function Ri({expressionInfos:t,spatialReference:e,graphic:i,interceptor:n,map:r,view:s}){if(!t||!t.length)return{};const o=await Ai(),a={};for(const u of t)a["expression/"+u.name]=Pi({expressionInfo:u,arcadeUtils:o,interceptor:n,spatialReference:e,map:r,graphic:i,view:s});const c=await Object(Ee["i"])(a),l={};for(const u in c)l[u]=ki(c[u].value);return l}const Li=1;let Ni=class extends(Object(E["b"])(l["a"])){constructor(t){super(t),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{var t,e;const i=null==(t=this.contentElement)?void 0:t.type;null==(e=this.contentElementViewModel)||e.destroy();const n="fields"===i?new Oe:"media"===i?new Qe:"text"===i?new pe:null;this._set("contentElementViewModel",n)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=Object(v["a"])(this._compile,Li,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:e,interceptor:i,spatialReference:n,map:r,view:s,_abortController:o}=this;if(!(t&&e&&n&&r&&s))return void this._set("contentElement",null);const a=await Ai();if(o!==this._abortController)return;const c=await Pi({arcadeUtils:a,expressionInfo:t,graphic:e,interceptor:i,map:r,spatialReference:n,view:s});if(!c||"esri.arcade.Dictionary"!==c.declaredClass)return void this._set("contentElement",null);const l=await Object(gi["S"])(c,o.signal),u=null==l?void 0:l.type,h="media"===u?wi["a"].fromJSON(l):"text"===u?Oi["a"].fromJSON(l):"fields"===u?vi["a"].fromJSON(l):null;this._set("contentElement",h)},this.handles.add([Object(o["a"])(this,["expressionInfo","graphic","map","spatialReference","view"],this._compileThrottled),Object(o["a"])(this,"contentElement",this._createVM)])}destroy(){var t;this._cancelQuery(),null==(t=this.contentElementViewModel)||t.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var t;return(null==(t=this.view)?void 0:t.spatialReference)||null}set spatialReference(t){void 0!==t?this._override("spatialReference",t):this._clearOverride("spatialReference")}get state(){const{_abortController:t,contentElement:e,contentElementViewModel:i}=this;return t?"loading":e||i?"ready":"disabled"}get map(){var t;return(null==(t=this.view)?void 0:t.map)||null}set map(t){void 0!==t?this._override("map",t):this._clearOverride("map")}};Object(n["a"])([Object(a["b"])()],Ni.prototype,"_abortController",void 0),Object(n["a"])([Object(a["b"])({type:ji["a"]})],Ni.prototype,"expressionInfo",void 0),Object(n["a"])([Object(a["b"])({type:T["a"]})],Ni.prototype,"graphic",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ni.prototype,"contentElement",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ni.prototype,"contentElementViewModel",void 0),Object(n["a"])([Object(a["b"])()],Ni.prototype,"interceptor",void 0),Object(n["a"])([Object(a["b"])()],Ni.prototype,"spatialReference",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ni.prototype,"state",null),Object(n["a"])([Object(a["b"])()],Ni.prototype,"map",null),Object(n["a"])([Object(a["b"])()],Ni.prototype,"view",void 0),Ni=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Ni);const Fi=Ni,Di={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let zi=class extends j["a"]{constructor(t,e){super(t,e),this.viewModel=new Fi}initialize(){Object(o["a"])(this,"viewModel.contentElementViewModel",()=>this._setupExpressionWidget())}destroy(){var t;null==(t=this._contentWidget)||t.destroy(),this._contentWidget=null}renderLoading(){return Object(Yt["a"])("div",{key:"loading-container",class:Di.loadingSpinnerContainer},Object(Yt["a"])("span",{class:this.classes(Di.iconLoading,Di.spinner)}))}render(){var t;const{state:e}=this.viewModel;return Object(Yt["a"])("div",{class:Di.base},"loading"===e?this.renderLoading():"disabled"===e?null:null==(t=this._contentWidget)?void 0:t.render())}_setupExpressionWidget(){var t;const{contentElementViewModel:e,contentElement:i}=this.viewModel,n=null==i?void 0:i.type;null==(t=this._contentWidget)||t.destroy(),this._contentWidget=null;const r=e?"fields"===n?new ke({viewModel:e}):"media"===n?new mi({viewModel:e}):"text"===n?new me({viewModel:e}):null:null;this._contentWidget=r,this.scheduleRender()}};Object(n["a"])([Object(a["b"])({type:Fi})],zi.prototype,"viewModel",void 0),zi=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.FeatureExpression")],zi);const Vi=zi;class $i{constructor(t,e){this.preLayerQueryCallback=t,this.preRequestCallback=e,this.preLayerQueryCallback||(this.preLayerQueryCallback=t=>{}),this.preRequestCallback||(this.preLayerQueryCallback=t=>{})}}var Gi;const Ui=1,qi="content-view-models",Bi="esri.widgets.FeatureViewModel",Hi=m["a"].getLogger(Bi),Wi={attachmentsContent:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let Ji=Gi=class extends l["a"]{constructor(t){super(t),this._handles=new y["a"],this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=Object(v["a"])(this.graphicChanged,Ui,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...Wi},this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:e}=this;return"attachments"===t.type&&e.attachmentsContent||"custom"===t.type&&e.customContent||"fields"===t.type&&e.fieldsContent||"media"===t.type&&e.mediaContent||"text"===t.type&&e.textContent||"expression"===t.type&&e.expressionContent},this._handles.add(Object(o["a"])(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return Object(g["l"])(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return _t(xt(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return K(this.graphic)}castAbilities(t){return{...Wi,...t}}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(t){this._set("graphic",t?t.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(t){void 0!==t?this._override("spatialReference",t):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(t){void 0!==t?this._override("map",t):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(t,e){const i=this.contentViewModels[t];i instanceof Qe&&i.setActiveMedia(e)}nextMedia(t){const e=this.contentViewModels[t];e instanceof Qe&&e.next()}previousMedia(t){const e=this.contentViewModels[t];e instanceof Qe&&e.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:t}=this;if(!t)return;const e=new AbortController;this._featureAbortController=e;try{await this._queryFeature({signal:e.signal})}catch(i){Object(Ee["l"])(i)||(this._error=i,Hi.error("error","The popupTemplate could not be displayed for this feature.",{error:i,graphic:t,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===e&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:t}=this;t&&t.abort(),this._featureAbortController=null}_compileContentElement(t,e){return"attachments"===t.type?this._compileAttachments(t,e):"custom"===t.type?this._compileCustom(t,e):"fields"===t.type?this._compileFields(t,e):"media"===t.type?this._compileMedia(t,e):"text"===t.type?this._compileText(t,e):"expression"===t.type?this._compileExpression(t,e):void 0}_compileContent(t){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(t)?t.filter(this._isAllowedContentType).map((t,e)=>this._compileContentElement(t,e)):"string"==typeof t?this._compileText(new Oi["a"]({text:t}),0).text:t}_destroyContentViewModels(){var t;null==(t=this._handles)||t.remove(qi),this.contentViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(t,e){const{formattedAttributes:i}=this,{contentElement:n,contentElementViewModel:r}=t,s=null==n?void 0:n.type;r&&s&&("fields"===s&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:e,formattedAttributes:i}),r.set(this._createFieldsVMParams(n,e))),"media"===s&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:e,formattedAttributes:i}),r.set(this._createMediaVMParams(n,e))),"text"===s&&r.set(this._createTextVMParams(n)))}_compileExpression(t,e){const{expressionInfo:i}=t,{graphic:n,map:r,spatialReference:s,view:a}=this,c=new Fi({expressionInfo:i,graphic:n,interceptor:Gi.interceptor,map:r,spatialReference:s,view:a});return this.contentViewModels[e]=c,this._handles.add(Object(o["a"])(c,"contentElementViewModel",()=>this._setExpressionContentVM(c,e)),qi),t}_compileAttachments(t,e){const{graphic:i}=this,{description:n,title:r}=t;return this.contentViewModels[e]=new ne({graphic:i,...this._compileTitleAndDesc({title:r,description:n})}),t}_compileCustom(t,e){const{graphic:i}=this,{creator:n,destroyer:r}=t;return this.contentViewModels[e]=new pe({graphic:i,creator:n,destroyer:r}),t}_compileTitleAndDesc({title:t,description:e}){const{_fieldInfoMap:i,_sourceLayer:n,graphic:r,formattedAttributes:s,_expressionAttributes:o}=this,{attributes:a}=r,c=s.global;return{title:at({attributes:a,fieldInfoMap:i,globalAttributes:c,expressionAttributes:o,layer:n,text:t}),description:at({attributes:a,fieldInfoMap:i,globalAttributes:c,expressionAttributes:o,layer:n,text:e})}}_createFieldsVMParams(t,e){const{_effectivePopupTemplate:i,formattedAttributes:n}=this,r={...n.global,...n.content[e]},s=(null==t?void 0:t.fieldInfos)||(null==i?void 0:i.fieldInfos),o=null==s?void 0:s.filter(({fieldName:t})=>X(t)||Ct(t)||r.hasOwnProperty(t)),a=null==i?void 0:i.expressionInfos,{description:c,title:l}=t;return{attributes:r,expressionInfos:a,fieldInfos:o,...this._compileTitleAndDesc({title:l,description:c})}}_compileFields(t,e){const i=t.clone(),n=new Oe(this._createFieldsVMParams(t,e));return this.contentViewModels[e]=n,i.fieldInfos=n.formattedFieldInfos.slice(0),i}_createMediaVMParams(t,e){const{graphic:i,_fieldInfoMap:n,formattedAttributes:r,_effectivePopupTemplate:s,relatedInfos:o,_sourceLayer:a,_expressionAttributes:c}=this,{attributes:l}=i,{description:u,mediaInfos:h,title:d}=t;return{activeMediaInfoIndex:t.activeMediaInfoIndex||0,attributes:l,layer:a,fieldInfoMap:n,formattedAttributes:{...r.global,...r.content[e]},expressionAttributes:c,mediaInfos:h,popupTemplate:s,relatedInfos:o,...this._compileTitleAndDesc({title:d,description:u})}}_compileMedia(t,e){const i=t.clone(),n=new Qe(this._createMediaVMParams(t,e));return i.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[e]=n,i}_createTextVMParams(t){const{graphic:e,_fieldInfoMap:i,_sourceLayer:n,_expressionAttributes:r}=this;if(t&&t.text){const{attributes:s}=e,o=this.formattedAttributes.global;t.text=at({attributes:s,fieldInfoMap:i,globalAttributes:o,expressionAttributes:r,layer:n,text:t.text})}return{graphic:e,creator:t.text}}_compileText(t,e){const i=t.clone();return this.contentViewModels[e]=new pe(this._createTextVMParams(i)),i}_compileLastEditInfo(){const{_effectivePopupTemplate:t,_sourceLayer:e,graphic:i}=this;if(!t)return;const{lastEditInfoEnabled:n}=t,r=null==e?void 0:e.editFieldsInfo;return n&&r?jt(r,i.attributes):void 0}_compileTitle(t){const{_fieldInfoMap:e,_sourceLayer:i,graphic:n,_expressionAttributes:r}=this,{attributes:s}=n,o=this.formattedAttributes.global;return at({attributes:s,fieldInfoMap:e,globalAttributes:o,expressionAttributes:r,layer:i,text:t})}async _getTitle(){const{_effectivePopupTemplate:t,graphic:e}=this,i=null==t?void 0:t.title;return Y(i,{graphic:e})}async _getContent(){const{_effectivePopupTemplate:t,graphic:e}=this,i=null==t?void 0:t.content;return Y(i,{graphic:e})}async _queryFeature(t){const{_featureAbortController:e,_sourceLayer:i,graphic:n,_effectivePopupTemplate:r,spatialReference:s,map:o,view:a}=this,{content:{value:c},title:{value:l}}=await Object(Ee["i"])({content:this._getContent(),title:this._getTitle()});if(e!==this._featureAbortController||!n)return;await At({graphic:n,popupTemplate:r,layer:i,spatialReference:s},t);const{expressionAttributes:{value:u}}=await Object(Ee["i"])({checkForRelatedFeatures:this._checkForRelatedFeatures(t),expressionAttributes:Ri({expressionInfos:null==r?void 0:r.expressionInfos,spatialReference:s,graphic:n,map:o,interceptor:Gi.interceptor,view:a})});e===this._featureAbortController&&n&&(this._expressionAttributes=u,this._graphicExpressionAttributes={...n.attributes,...u},this._set("formattedAttributes",this._createFormattedAttributes(c)),this._set("title",this._compileTitle(l)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(c)||null))}_createMediaFormattedAttributes({contentElement:t,contentElementIndex:e,formattedAttributes:i}){const{_effectivePopupTemplate:n,graphic:r,relatedInfos:s,_sourceLayer:o,_fieldInfoMap:a,_graphicExpressionAttributes:c}=this;i.content[e]=It({fieldInfos:null==n?void 0:n.fieldInfos,graphic:r,attributes:{...c,...t.attributes},layer:o,fieldInfoMap:a,relatedInfos:s})}_createFieldsFormattedAttributes({contentElement:t,contentElementIndex:e,formattedAttributes:i}){if(t.fieldInfos){const{graphic:n,relatedInfos:r,_sourceLayer:s,_fieldInfoMap:o,_graphicExpressionAttributes:a}=this;i.content[e]=It({fieldInfos:t.fieldInfos,graphic:n,attributes:{...a,...t.attributes},layer:s,fieldInfoMap:o,relatedInfos:r})}}_createFormattedAttributes(t){const{_effectivePopupTemplate:e,graphic:i,relatedInfos:n,_sourceLayer:r,_fieldInfoMap:s,_graphicExpressionAttributes:o}=this,a=null==e?void 0:e.fieldInfos,c={global:It({fieldInfos:a,graphic:i,attributes:o,layer:r,fieldInfoMap:s,relatedInfos:n}),content:[]};return Array.isArray(t)&&t.forEach((t,e)=>{"fields"===t.type&&this._createFieldsFormattedAttributes({contentElement:t,contentElementIndex:e,formattedAttributes:c}),"media"===t.type&&this._createMediaFormattedAttributes({contentElement:t,contentElementIndex:e,formattedAttributes:c})}),c}_checkForRelatedFeatures(t){const{graphic:e,_effectivePopupTemplate:i}=this;return this._queryRelatedInfos(e,xt(i),t)}async _queryRelatedInfos(t,e,i){const{relatedInfos:n,_sourceLayer:r}=this;n.clear();const s=Object(g["l"])(r.associatedLayer)?await r.associatedLayer.load(i):r;if(!s)return;const o=e.filter(t=>t&&Ct(t.fieldName));if(!o||!o.length)return;e.forEach(t=>this._configureRelatedInfo(t,s));const a=await Je({relatedInfos:n,layer:s},i);Object.keys(a).forEach(t=>{var e;const i=n.get(t.toString()),r=null==(e=a[t])?void 0:e.value;i&&r&&(i.layerInfo=r.data)});const c=await Ke({graphic:t,relatedInfos:n,layer:s},i);Object.keys(c).forEach(t=>{var e;Ue(null==(e=c[t])?void 0:e.value,n.get(t.toString()))})}_configureRelatedInfo(t,e){const{relatedInfos:i}=this,n=De(t.fieldName);if(!n)return;const{layerId:r,fieldName:s}=n;if(!r)return;const o=i.get(r.toString())||Ge(r,e);o&&(Ye({relatedInfo:o,fieldName:s,fieldInfo:t}),this.relatedInfos.set(r,o))}};Ji.interceptor=new $i(Dt,zt),Object(n["a"])([Object(a["b"])()],Ji.prototype,"_error",void 0),Object(n["a"])([Object(a["b"])()],Ji.prototype,"_featureAbortController",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"_effectivePopupTemplate",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"_fieldInfoMap",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"_sourceLayer",null),Object(n["a"])([Object(a["b"])()],Ji.prototype,"abilities",void 0),Object(n["a"])([Object(O["a"])("abilities")],Ji.prototype,"castAbilities",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"content",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"contentViewModels",void 0),Object(n["a"])([Object(a["b"])({type:Boolean})],Ji.prototype,"defaultPopupTemplateEnabled",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"state",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"formattedAttributes",void 0),Object(n["a"])([Object(a["b"])({type:T["a"],value:null})],Ji.prototype,"graphic",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"lastEditInfo",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"relatedInfos",void 0),Object(n["a"])([Object(a["b"])()],Ji.prototype,"spatialReference",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"title",void 0),Object(n["a"])([Object(a["b"])()],Ji.prototype,"map",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Ji.prototype,"waitingForContent",null),Object(n["a"])([Object(a["b"])()],Ji.prototype,"view",void 0),Ji=Gi=Object(n["a"])([Object(c["a"])(Bi)],Ji);const Ki=Ji;i("2dd4");const Yi=t=>{let e=class extends t{constructor(){super(...arguments),this.renderNodeContent=t=>Object(fe["b"])(t)&&!t.destroyed?Object(Yt["a"])("div",{key:t},t.render()):t instanceof HTMLElement?Object(Yt["a"])("div",{key:t,bind:t,afterCreate:this._attachToNode}):Object(fe["a"])(t)?Object(Yt["a"])("div",{key:t,bind:t.domNode,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e)}};return e=Object(n["a"])([Object(c["a"])("esri.widgets.Feature.ContentMixin")],e),e};var Zi=i("255d");const Xi={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:"esri-feature",container:"esri-feature__size-container",title:"esri-feature__title",main:"esri-feature__main-container",btn:"esri-feature__button",icon:"esri-feature__icon",content:"esri-feature__content",contentElement:"esri-feature__content-element",text:"esri-feature__text",lastEditedInfo:"esri-feature__last-edited-info",fields:"esri-feature__fields",fieldHeader:"esri-feature__field-header",fieldData:"esri-feature__field-data",fieldDataDate:"esri-feature__field-data--date",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"},Qi={title:!0,content:!0,lastEditedInfo:!0};let tn=class extends(Yi(j["a"])){constructor(t,e){super(t,e),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements={...Qi},this.map=null,this.view=null,this.viewModel=new Ki}initialize(){this.own(Object(o["a"])(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return i.e("chunk-2d0c119c").then(i.bind(null,"4538"))}destroy(){this._destroyContentWidgets()}castVisibleElements(t){return{...Qi,...t}}render(){const{state:t}=this.viewModel,e=Object(Yt["a"])("div",{class:Xi.container,key:"container"},this.renderTitle(),"error"===t?this.renderError():"loading"===t?this.renderLoading():this.renderContentContainer());return Object(Yt["a"])("div",{class:this.classes(Xi.base,Xi.esriWidget)},e)}setActiveMedia(t,e){this.viewModel.setActiveMedia(t,e)}nextMedia(t){this.viewModel.nextMedia(t)}previousMedia(t){this.viewModel.previousMedia(t)}renderError(){const{messagesCommon:t,messages:e,visibleElements:i}=this;return Object(Yt["a"])("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},i.title?Object(Yt["a"])("div",{key:"error-title",slot:"title"},t.errorMessage):null,Object(Yt["a"])("div",{key:"error-message",slot:"message"},e.loadingError))}renderLoading(){return Object(Yt["a"])("div",{key:"loading-container",class:Xi.loadingSpinnerContainer},Object(Yt["a"])("span",{class:this.classes(Xi.iconLoading,Xi.spinner)}))}renderContentContainer(){const{visibleElements:t}=this;return t.content?Object(Yt["a"])("div",{class:Xi.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:t,title:e}=this;return t.title?Object(Yt["a"])(se,{level:this.headingLevel,class:Xi.title,innerHTML:e}):null}renderContent(){const t=this.viewModel.content,e="content";if(!t)return null;if(Array.isArray(t))return t.length?Object(Yt["a"])("div",{key:e+"-content-elements"},t.map(this.renderContentElement,this)):null;if("string"==typeof t){const t=this._contentWidgets[0];return!t||t.destroyed?null:Object(Yt["a"])("div",{key:e+"-content"},t.render())}return this.renderNodeContent(t)}renderContentElement(t,e){const{visibleElements:i}=this;if("boolean"!=typeof i.content&&!i.content[t.type])return null;switch(t.type){case"attachments":return this.renderAttachments(e);case"custom":return this.renderCustom(t,e);case"fields":return this.renderFields(e);case"media":return this.renderMedia(e);case"text":return this.renderText(t,e);case"expression":return this.renderExpression(e);default:return null}}renderAttachments(t){const e=this._contentWidgets[t];if(!e||e.destroyed)return null;const{state:i,attachmentInfos:n}=e.viewModel;return"loading"===i||n.length>0?Object(Yt["a"])("div",{key:this._buildKey("attachments-element",t),class:this.classes(Xi.contentElement)},e.render()):null}renderExpression(t){const e=this._contentWidgets[t];return!e||e.destroyed?null:Object(Yt["a"])("div",{key:this._buildKey("expression-element",t),class:Xi.contentElement},e.render())}renderCustom(t,e){const{creator:i}=t,n=this._contentWidgets[e];return!n||n.destroyed?null:i?Object(Yt["a"])("div",{key:this._buildKey("custom-element",e),class:Xi.contentElement},n.render()):null}renderFields(t){const e=this._contentWidgets[t];return!e||e.destroyed?null:Object(Yt["a"])("div",{key:this._buildKey("fields-element",t),class:Xi.contentElement},e.render())}renderMedia(t){const e=this._contentWidgets[t];return!e||e.destroyed?null:Object(Yt["a"])("div",{key:this._buildKey("media-element",t),class:Xi.contentElement},e.render())}renderLastEditInfo(){const{visibleElements:t,messages:e}=this,{lastEditInfo:i}=this.viewModel;if(!i||!t.lastEditedInfo)return null;const{date:n,user:r}=i,s="edit"===i.type?r?e.lastEditedByUser:e.lastEdited:r?e.lastCreatedByUser:e.lastCreated,o=Object(Zi["a"])(s,{date:n,user:r});return Object(Yt["a"])("div",{key:"edit-info-element",class:this.classes(Xi.lastEditedInfo,Xi.contentElement)},o)}renderText(t,e){const i=t.text,n=this._contentWidgets[e];return!n||n.destroyed?null:i?Object(Yt["a"])("div",{key:this._buildKey("text-element",e),class:this.classes(Xi.contentElement,Xi.text)},n.render()):null}_buildKey(t,...e){return`${t}__${this.get("viewModel.graphic.uid")||"0"}-${e.join("-")}`}_destroyContentWidget(t){t&&(t.viewModel=null,!t.destroyed&&t.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(t=>this._destroyContentWidget(t)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:t,visibleElements:e}=this,i=this.get("viewModel.content"),{contentViewModels:n}=this.viewModel;if(Array.isArray(i))i.forEach((i,r)=>{"attachments"===i.type&&(this._contentWidgets[r]=new he({displayType:i.displayType,headingLevel:e.title?t+1:t,viewModel:n[r]})),"fields"===i.type&&(this._contentWidgets[r]=new ke({viewModel:n[r]})),"media"===i.type&&(this._contentWidgets[r]=new mi({viewModel:n[r]})),"text"===i.type&&(this._contentWidgets[r]=new me({viewModel:n[r]})),"custom"===i.type&&(this._contentWidgets[r]=new me({viewModel:n[r]})),"expression"===i.type&&(this._contentWidgets[r]=new Vi({viewModel:n[r]}))},this);else{const t=n[0];t&&!t.destroyed&&(this._contentWidgets[0]=new me({viewModel:t}))}this.scheduleRender()}};Object(n["a"])([Object(w["a"])("viewModel.graphic")],tn.prototype,"graphic",void 0),Object(n["a"])([Object(w["a"])("viewModel.defaultPopupTemplateEnabled")],tn.prototype,"defaultPopupTemplateEnabled",void 0),Object(n["a"])([Object(a["b"])()],tn.prototype,"headingLevel",void 0),Object(n["a"])([Object(a["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],tn.prototype,"label",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/Feature/t9n/Feature")],tn.prototype,"messages",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/t9n/common")],tn.prototype,"messagesCommon",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/support/t9n/uriUtils")],tn.prototype,"messagesURIUtils",void 0),Object(n["a"])([Object(w["a"])("viewModel.spatialReference")],tn.prototype,"spatialReference",void 0),Object(n["a"])([Object(w["a"])("viewModel.title")],tn.prototype,"title",void 0),Object(n["a"])([Object(a["b"])()],tn.prototype,"visibleElements",void 0),Object(n["a"])([Object(O["a"])("visibleElements")],tn.prototype,"castVisibleElements",null),Object(n["a"])([Object(w["a"])("viewModel.map")],tn.prototype,"map",void 0),Object(n["a"])([Object(w["a"])("viewModel.view")],tn.prototype,"view",void 0),Object(n["a"])([Object(a["b"])({type:Ki})],tn.prototype,"viewModel",void 0),tn=Object(n["a"])([Object(c["a"])("esri.widgets.Feature")],tn);const en=tn;var nn=i("ce6d");let rn=class extends nn["a"].EventedAccessor{constructor(t){super(t),this._anchorHandles=new y["a"],this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([Object(o["d"])(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),Object(o["d"])(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const t="view";if(this._anchorHandles.remove(t),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:e}=this,i="3d"===e.type?"camera":"viewpoint",n=Object(o["c"])(e,i,()=>this._viewpointChange());this._anchorHandles.add(n,t),this._viewpointHandle=n,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:t,location:e,screenLocationEnabled:i}=this;t&&(e&&i?t.resume():t.pause())}_setScreenLocation(){const{location:t,view:e,screenLocationEnabled:i}=this,n=this.get("view.ready"),r=i&&n&&Object(g["l"])(t)?e.toScreen(t):null;this._set("screenLocation",r)}};Object(n["a"])([Object(a["b"])()],rn.prototype,"location",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],rn.prototype,"screenLocation",void 0),Object(n["a"])([Object(a["b"])()],rn.prototype,"screenLocationEnabled",void 0),Object(n["a"])([Object(a["b"])()],rn.prototype,"view",void 0),rn=Object(n["a"])([Object(c["a"])("esri.widgets.support.AnchorElementViewModel")],rn);const sn=rn,on="esri.widgets.CompassViewModel";let an=class extends sn{constructor(t){super(t),this.visible=!1}};Object(n["a"])([Object(a["b"])()],an.prototype,"visible",void 0),an=Object(n["a"])([Object(c["a"])(on)],an);const cn=an,ln={base:"esri-spinner",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};let un=class extends j["a"]{constructor(t,e){super(t,e),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new cn,this.visible=!1}initialize(){this.own([Object(o["d"])(this,"visible",t=>this._visibleChange(t))])}destroy(){this._animationPromise=null}show(t){const{location:e,promise:i}=t;e&&(this.viewModel.location=e),this.visible=!0;const n=()=>this.hide();i&&i.catch(()=>{}).then(n)}hide(){this.visible=!1}render(){const{visible:t}=this,{screenLocation:e}=this.viewModel,i=!!e,n=t&&i,r=!t&&i,s={[ln.spinnerStart]:n,[ln.spinnerFinish]:r},o=this._getPositionStyles();return Object(Yt["a"])("div",{class:this.classes(ln.base,s),styles:o})}_visibleChange(t){if(t)return void(this.viewModel.screenLocationEnabled=!0);const e=Object(Ee["a"])(this._animationDelay);this._animationPromise=e,e.catch(()=>{}).then(()=>{this._animationPromise===e&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:t,view:e}=this.viewModel;if(!e||Object(g["k"])(t))return{};const{padding:i}=e;return{left:t.x-i.left+"px",top:t.y-i.top+"px"}}};Object(n["a"])([Object(w["a"])("viewModel.location")],un.prototype,"location",void 0),Object(n["a"])([Object(w["a"])("viewModel.view")],un.prototype,"view",void 0),Object(n["a"])([Object(a["b"])({type:cn})],un.prototype,"viewModel",void 0),Object(n["a"])([Object(w["a"])("viewModel.visible")],un.prototype,"visible",void 0),un=Object(n["a"])([Object(c["a"])("esri.widgets.Spinner")],un);const hn=un;i("e06a"),i("1fd7");var dn=i("9786"),pn=i("a6a3"),fn=i("5986"),bn=i("77eb"),yn=i("ceaf"),mn=i("ac8e");function gn(t){return t&&"opacity"in t?t.opacity*gn(t.parent):1}async function vn(t,e){var n,r;if(!t)return;const s=t.sourceLayer,o=null!=(n=Object(g["l"])(e)&&null!=(r=e.useSourceLayer)&&r?s:t.layer)?n:s,a=gn(o);if(Object(g["l"])(t.symbol)&&(!Object(g["l"])(e)||!0!==e.ignoreGraphicSymbol)){const i="web-style"===t.symbol.type?await t.symbol.fetchSymbol(Object(g["l"])(e)?e.abortOptions:null):t.symbol.clone();return Object(mn["a"])(i,null,a),i}const c=Object(g["l"])(e)&&e.renderer||o&&"renderer"in o&&o.renderer;let l=c&&"getSymbolAsync"in c?await c.getSymbolAsync(t,e):null;if(!l)return;if(l="web-style"===l.type?await l.fetchSymbol(Object(g["l"])(e)?e.abortOptions:null):l.clone(),!("visualVariables"in c)||!c.visualVariables||!c.visualVariables.length)return Object(mn["a"])(l,null,a),l;if("arcadeRequiredForVisualVariables"in c&&c.arcadeRequiredForVisualVariables&&(Object(g["k"])(e)||Object(g["k"])(e.arcade))){const t={...Object(g["t"])(e)};t.arcade=await Object(N["e"])(),e=t}const u=await Promise.resolve().then(i.bind(null,"d297")),h=[],d=[],p=[],f=[];for(const i of c.visualVariables)switch(i.type){case"color":h.push(i);break;case"opacity":d.push(i);break;case"rotation":f.push(i);break;case"size":i.target||p.push(i)}const b=!!h.length&&h[h.length-1],y=b?u.getColor(b,t,e):null,m=!!d.length&&d[d.length-1];let v=m?u.getOpacity(m,t,e):null;if(null!=a&&(v=null!=v?v*a:a),Object(mn["a"])(l,y,v),p.length){const i=u.getAllSizes(p,t,e);await Object(mn["d"])(l,i)}for(const i of f)Object(mn["c"])(l,u.getRotationAngle(i,t,e),i.axis);return l}var wn=i("2589"),On=i("5e70");const jn={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},_n=new bn["a"]({id:"zoom-to-feature",title:"{messages.zoom}",className:jn.iconZoom}),xn=new bn["a"]({id:"remove-selected-feature",title:"{messages.remove}",className:jn.iconTrash}),Sn=new bn["a"]({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:jn.iconZoom}),Mn=new bn["a"]({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:jn.iconBrowseClusteredFeatures}),kn="esri.widgets.Popup.PopupViewModel",In=m["a"].getLogger(kn),Tn=function(t){const{event:e,view:i}=t,{action:n}=e,r=i&&i.popup;if(!n)return Promise.reject(new _["a"]("trigger-action:missing-arguments","Event has no action"));if(!r)return Promise.reject(new _["a"]("trigger-action:missing-arguments","view.popup is missing"));const{disabled:s,id:o}=n;if(!o)return Promise.reject(new _["a"]("trigger-action:invalid-action","action.id is missing"));if(s)return Promise.reject(new _["a"]("trigger-action:invalid-action","Action is disabled"));if(o===_n.id)return Cn(r.viewModel).catch(Ee["v"]);if(o===Sn.id)return Pn(r.viewModel);if(o===Mn.id)return r.featureMenuOpen=!r.featureMenuOpen,r.viewModel.browseClusterEnabled=!r.viewModel.browseClusterEnabled,Promise.resolve();if(r.viewModel.browseClusterEnabled=!1,o===xn.id){r.close();const{selectedFeature:t}=r;if(!t)return Promise.reject(new _["a"]("trigger-action:"+xn.id,"selectedFeature is required",{selectedFeature:t}));const{sourceLayer:e}=t;return e?e.remove(t):i.graphics.remove(t),Promise.resolve()}return Promise.resolve()};function En(t){const{selectedFeature:e,location:i,view:n}=t;return n?"3d"===n.type?e||i:t.get("selectedFeature.geometry")||i:null}function An(t,e){if("3d"!==(null==e?void 0:e.type)||!t||"esri.Graphic"!==t.declaredClass)return!0;const i=e.getViewForGraphic(t);if(i&&"whenGraphicBounds"in i){let e=!1;return i.whenGraphicBounds(t,{useViewElevation:!0}).then(t=>{e=!t||!t.boundingBox||t.boundingBox[0]===t.boundingBox[3]&&t.boundingBox[1]===t.boundingBox[4]&&t.boundingBox[2]===t.boundingBox[5]}).catch(()=>{const e=new _["a"]("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:t});In.error(e)}),e}return!0}async function Cn(t){const{location:e,selectedFeature:i,view:n,zoomFactor:r}=t,s=En(t);if(!s){const t=new _["a"]("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:s,view:n});return In.error(t),Promise.reject(t)}const o=n.scale/r,a=t.get("selectedFeature.geometry")||e,c=a&&"point"===a.type&&An(i,n);_n.active=!0,_n.disabled=!0;try{await t.view.goTo({target:s,scale:c?o:void 0})}finally{_n.active=!1,_n.disabled=!1,t.zoomToLocation=null,c&&(t.location=a)}}async function Pn(t){const{selectedFeature:e,view:i}=t;if("2d"!==(null==i?void 0:i.type)){const t=new _["a"]("zoomToCluster:invalid-view","View must be 2d MapView.",{view:i});throw In.error(t),t}if(!e.isAggregate){const t=new _["a"]("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:e});throw In.error(t),t}const n=e.sourceLayer,r=await i.whenLayerView(n),s=r.createQuery();s.aggregateIds=[e.getObjectId()],Sn.active=!0,Sn.disabled=!0;const{extent:o}=await r.queryExtent(s);await i.goTo({target:o}),Sn.active=!1,Sn.disabled=!1}async function Rn(t){const{selectedFeature:e,view:i}=t;if("2d"!==(null==i?void 0:i.type)){const t=new _["a"]("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:i});throw In.error(t),t}if(!e.isAggregate){const t=new _["a"]("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:e});throw In.error(t),t}const n=e.sourceLayer,r=await i.whenLayerView(n),s=r.createQuery();s.aggregateIds=[e.getObjectId()];const{extent:o}=await r.queryExtent(s);t.selectedClusterBoundaryFeature.geometry=o,i.graphics.add(t.selectedClusterBoundaryFeature)}async function Ln(t){const{selectedFeature:e,view:i}=t;if("2d"!==(null==i?void 0:i.type)){const t=new _["a"]("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:i});throw In.error(t),t}if(!e.isAggregate){const t=new _["a"]("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:e});throw In.error(t),t}const n=e.sourceLayer,r=await i.whenLayerView(n),s=r.createQuery();s.aggregateIds=[e.getObjectId()],Mn.active=!0,Mn.disabled=!0;const{features:o}=await r.queryFeatures(s);Mn.active=!1,Mn.disabled=!1,i.popup.open({features:[e].concat(o),featureMenuOpen:!0})}function Nn(t){t.features=t.features.filter(t=>t.isAggregate)}var Fn=i("28c0"),Dn=i("0d76"),zn=i("4ae5");const Vn=u["a"].ofType({key:"type",defaultKeyValue:"button",base:fn["a"],typeMap:{button:bn["a"],toggle:yn["a"]}}),$n=()=>[_n.clone()],Gn=()=>[Sn.clone(),Mn.clone()],Un="esri.widgets.Popup.PopupViewModel",qn=m["a"].getLogger(Un);let Bn=class extends(Object(Fn["a"])(sn)){constructor(t){super(t),this._handles=new y["a"],this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Vn,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new T["a"]({symbol:new Dn["a"]({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(t=>t.waitingForContent)}initialize(){this._handles.add([Object(o["a"])(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),Object(o["d"])(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),Object(o["d"])(this,"view.animation.state",t=>this._animationStateChange(t)),Object(o["d"])(this,"location",t=>this._locationChange(t)),Object(o["d"])(this,"selectedFeature",t=>this._selectedFeatureChange(t)),Object(o["d"])(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),Object(o["d"])(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),Object(o["d"])(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",t=>Tn({event:t,view:this.view})),Object(o["f"])(this,"waitingForResult",()=>this._waitingForResultChange(),!0),Object(o["d"])(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),Object(o["d"])(this,["view.scale"],this._viewScaleChange),Object(o["f"])(this,"visible",()=>this.browseClusterEnabled=!1),Object(o["d"])(this,"browseClusterEnabled",t=>t?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const t=this._get("allActions")||new Vn;t.removeAll();const{actions:e,defaultActions:i,defaultPopupTemplateEnabled:n,includeDefaultActions:r,selectedFeature:s}=this,o=r?i.concat(e):e,a=s&&("function"==typeof s.getEffectivePopupTemplate&&s.getEffectivePopupTemplate(n)||s.popupTemplate),c=a&&a.actions,l=a&&a.overwriteActions?c:c?c.concat(o):o;return l&&l.filter(Boolean).forEach(e=>t.add(e)),t}get defaultActions(){var t;const e=this._get("defaultActions")||new Vn;return e.removeAll(),e.addMany(null!=(t=this.selectedFeature)&&t.isAggregate?Gn():$n()),e}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(t){const e=t||[];this._set("features",e);const{pendingPromisesCount:i,promiseCount:n,selectedFeatureIndex:r}=this,s=n&&e.length;s&&i&&-1===r?this.selectedFeatureIndex=0:s&&-1!==r||(this.selectedFeatureIndex=e.length?0:-1)}get location(){return this._get("location")||null}set location(t){const e=this.get("view.spatialReference.isWebMercator");t&&t.get("spatialReference.isWGS84")&&e&&(t=Object(dn["b"])(t)),this._set("location",t)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(t){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(t)||!t.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",t),(t=t.slice(0)).forEach(t=>{this._pendingPromises.add(t);const e=e=>{this._pendingPromises.has(t)&&this._updateFeatures(e),this._updatePendingPromises(t)},i=()=>this._updatePendingPromises(t);t.then(e,i)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:t,selectedFeatureIndex:e}=this;return-1===e?null:t[e]||null}get selectedFeatureIndex(){const t=this._get("selectedFeatureIndex");return"number"==typeof t?t:-1}set selectedFeatureIndex(t){const{featureCount:e}=this;t=isNaN(t)||t<-1||!e?-1:(t+e)%e,this._set("selectedFeatureIndex",t)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:t}=this,e=En(this);if(!e){const i=new _["a"]("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:e,view:t});return qn.error(i),Promise.reject(i)}return this.callGoTo({target:{target:e,scale:t.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(t,e){const{view:i}=this;if(!i||!t){const e=new _["a"]("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:t,view:i});return qn.error(e),Promise.reject(e)}return i.fetchPopupFeatures(t,{event:e&&e.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:e&&e.signal})}open(t){const e={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...t,visible:!0},{fetchFeatures:i}=e;delete e.fetchFeatures,i&&this._setFetchFeaturesPromises(e.location),this.set(e)}triggerAction(t){const e=this.allActions.getItemAt(t);e&&!e.disabled&&this.emit("trigger-action",{action:e})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){Nn(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){await Rn(this),await Ln(this)}_animationStateChange(t){this.zoomToLocation||(_n.disabled="waiting-for-target"===t)}_clearBrowsedClusterGraphics(){var t;const e=null==(t=this.view)?void 0:t.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var t;(null!=(t=this.selectedFeature)&&t.isAggregate||this.browseClusterEnabled)&&(this.browseClusterEnabled=!1,this.visible=!1)}_locationChange(t){const{selectedFeature:e,updateLocationEnabled:i}=this;i&&t&&(!e||e.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:t,featureCount:e,featurePage:i,featuresPerPage:n,featureViewModels:r}=this;if(null===i)return;const s=((i-1)*n+e)%e,o=s+n;r.slice(s,o).forEach((e,i)=>{e&&!e.graphic&&(e.graphic=t[s+i])})}async _selectedFeatureChange(t){if(!t)return;const{location:e,updateLocationEnabled:i,view:n}=this;if(this.browseClusterEnabled){if(this._selectedClusterFeature&&(n.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),t.isAggregate)return;return t.symbol=await vn(t),this._selectedClusterFeature=t,void n.graphics.add(this._selectedClusterFeature)}!i&&e||!t.geometry?i&&!t.geometry&&this.centerAtLocation().then(()=>{this.location=n.center.clone()}):this.location=Object(g["t"])(this._getPointFromGeometry(t.geometry))}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(t){return this._fetchFeaturesWithController(this._getScreenPoint(t||this.location)).then(t=>{const{clientOnlyGraphics:e,promisesPerLayerView:i}=t,n=Promise.resolve(e),r=i.map(t=>t.promise);this.promises=[n,...r]})}_destroyFeatureVMs(){this.featureViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:t,features:e,featureViewModels:i}=this;if(null!=t&&t.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!e||!e.length)return;const n=i.slice(0),r=[];e.forEach((e,i)=>{if(!e)return;let s=null;if(n.some((t,i)=>(t&&t.graphic===e&&(s=t,n.splice(i,1)),!!s)),s)r[i]=s;else{var o,a;const n=new Ki({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(o=this.view)?void 0:o.spatialReference,graphic:e===t?e:null,map:null==(a=this.view)?void 0:a.map,view:this.view});r[i]=n}}),n.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("featureViewModels",r)}_getScreenPoint(t){const{view:e}=this;return e&&t&&"function"==typeof e.toScreen?e.toScreen(t):null}_autoOpenEnabledChange(){const t="auto-fetch-features",{_handles:e,autoOpenEnabled:i}=this;if(e.remove(t),i&&this.view){const i=this.view.on("click",t=>{"mouse"===t.pointerType&&0!==t.button||this._fetchFeaturesAndOpen(t)},wn["b"].WIDGET);e.add(i,t)}}_cancelFetchingFeatures(){const t=this._fetchFeaturesController;t&&t.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(t,e){this._cancelFetchingFeatures();const i=new AbortController,{signal:n}=i;this._fetchFeaturesController=i,this.notifyChange("waitingForResult");const r=this.fetchFeatures(t,{signal:n,event:e});return r.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),r}_fetchFeaturesAndOpen(t){const{screenPoint:e,mapPoint:i}=t,{view:n}=this;this._fetchFeaturesWithController(e,t).then(t=>{const{clientOnlyGraphics:e,promisesPerLayerView:r,location:s}=t,o=[Promise.resolve(e),...r.map(t=>t.promise)];return n.popup.open({location:s||i,promises:o}),t})}_updatePendingPromises(t){t&&this._pendingPromises.has(t)&&(this._pendingPromises.delete(t),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(t){return Object(g["k"])(t)?null:"point"===t.type?t:"extent"===t.type?t.center:"polygon"===t.type?t.centroid:"multipoint"===t.type||"polyline"===t.type?t.extent.center:null}async _getLayerView(t,e){return await t.when(),t.whenLayerView(e)}async _highlightFeature(){const t="highlight";this._handles.remove(t);const{selectedFeature:e,highlightEnabled:i,view:n,visible:r}=this;if(!(e&&n&&i&&r))return;let{layer:s,sourceLayer:o}=e;if("map-notes"!==(null==o?void 0:o.type)&&"subtype-group"!==(null==o?void 0:o.type)||(s=o),!(s&&s instanceof pn["a"]))return;const a=this._getLayerView(n,s);this._highlightPromise=a;const c=await a;if(!(c&&Object(On["a"])(c)&&this._highlightPromise===a&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l="objectIdField"in s&&s.objectIdField,u=e.attributes,h=u&&l&&u[l],d=c.highlight(h||e);this._handles.add(d,t)}_updateFeatures(t){const{features:e}=this;if(!t||!t.length)return;if(!e.length)return void(this.features=t);const i=t.filter(t=>-1===e.indexOf(t));this.features=e.concat(i)}};Object(n["a"])([Object(a["b"])()],Bn.prototype,"featurePage",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"isLoadingFeature",null),Object(n["a"])([Object(a["b"])({type:Vn})],Bn.prototype,"actions",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"active",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"allActions",null),Object(n["a"])([Object(a["b"])({type:Boolean})],Bn.prototype,"defaultPopupTemplateEnabled",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"autoCloseEnabled",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"autoOpenEnabled",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"browseClusterEnabled",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"content",void 0),Object(n["a"])([Object(a["b"])({type:Vn,readOnly:!0})],Bn.prototype,"defaultActions",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"featureCount",null),Object(n["a"])([Object(a["b"])()],Bn.prototype,"features",null),Object(n["a"])([Object(a["b"])()],Bn.prototype,"featuresPerPage",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"featureViewModelAbilities",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"featureViewModels",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"highlightEnabled",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"includeDefaultActions",void 0),Object(n["a"])([Object(a["b"])({type:zn["a"]})],Bn.prototype,"location",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"pendingPromisesCount",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"selectedClusterBoundaryFeature",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"waitingForResult",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"promiseCount",null),Object(n["a"])([Object(a["b"])()],Bn.prototype,"promises",null),Object(n["a"])([Object(a["b"])({value:null,readOnly:!0})],Bn.prototype,"selectedFeature",null),Object(n["a"])([Object(a["b"])({value:-1})],Bn.prototype,"selectedFeatureIndex",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"selectedFeatureViewModel",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],Bn.prototype,"state",null),Object(n["a"])([Object(a["b"])()],Bn.prototype,"title",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"updateLocationEnabled",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"view",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"visible",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"zoomFactor",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"zoomToLocation",void 0),Object(n["a"])([Object(a["b"])()],Bn.prototype,"centerAtLocation",null),Bn=Object(n["a"])([Object(c["a"])(Un)],Bn);const Hn=Bn;var Wn=i("8750"),Jn=i("feab");const Kn="selected-index",Yn=0,Zn="popup-spinner",Xn={iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:"esri-popup",widget:"esri-widget",main:"esri-popup__main-container",loadingContainer:"esri-popup__loading-container",isCollapsible:"esri-popup--is-collapsible",isCollapsed:"esri-popup--is-collapsed",shadow:"esri-popup--shadow",isDocked:"esri-popup--is-docked",isDockedTopLeft:"esri-popup--is-docked-top-left",isDockedTopCenter:"esri-popup--is-docked-top-center",isDockedTopRight:"esri-popup--is-docked-top-right",isDockedBottomLeft:"esri-popup--is-docked-bottom-left",isDockedBottomCenter:"esri-popup--is-docked-bottom-center",isDockedBottomRight:"esri-popup--is-docked-bottom-right",alignTopCenter:"esri-popup--aligned-top-center",alignBottomCenter:"esri-popup--aligned-bottom-center",alignTopLeft:"esri-popup--aligned-top-left",alignBottomLeft:"esri-popup--aligned-bottom-left",alignTopRight:"esri-popup--aligned-top-right",alignBottomRight:"esri-popup--aligned-bottom-right",isFeatureMenuOpen:"esri-popup--feature-menu-open",isActionsMenuOpen:"esri-popup--actions-menu-open",hasFeatureUpdated:"esri-popup--feature-updated",header:"esri-popup__header",headerButtons:"esri-popup__header-buttons",headerContainer:"esri-popup__header-container",headerContainerButton:"esri-popup__header-container--button",headerTitle:"esri-popup__header-title",content:"esri-popup__content",footer:"esri-popup__footer",footerHasPagination:"esri-popup__footer--has-pagination",footerHasActions:"esri-popup__footer--has-actions",footerHasActionsMenu:"esri-popup__footer--has-actions-menu",button:"esri-popup__button",buttonDisabled:"esri-popup__button--disabled",buttonDock:"esri-popup__button--dock",icon:"esri-popup__icon",iconDock:"esri-popup__icon--dock-icon",inlineActionsContainer:"esri-popup__inline-actions-container",actionsMenuButton:"esri-popup__actions-menu-button",actions:"esri-popup__actions",action:"esri-popup__action",actionImage:"esri-popup__action-image",actionText:"esri-popup__action-text",actionToggle:"esri-popup__action-toggle",actionToggleOn:"esri-popup__action-toggle--on",pointer:"esri-popup__pointer",pointerDirection:"esri-popup__pointer-direction",navigation:"esri-popup__navigation",paginationPrevious:"esri-popup__pagination-previous",paginationNext:"esri-popup__pagination-next",paginationPreviousIconLTR:"esri-popup__pagination-previous-icon",paginationPreviousIconRTL:"esri-popup__pagination-previous-icon--rtl",paginationNextIconLTR:"esri-popup__pagination-next-icon",paginationNextIconRTL:"esri-popup__pagination-next-icon--rtl",featureMenu:"esri-popup__feature-menu",featureMenuList:"esri-popup__feature-menu-list",featureMenuItem:"esri-popup__feature-menu-item",featureMenuViewport:"esri-popup__feature-menu-viewport",featureMenuHeader:"esri-popup__feature-menu-header",featureMenuNote:"esri-popup__feature-menu-note",featureMenuSelected:"esri-popup__feature-menu-item--selected",featureMenuButton:"esri-popup__feature-menu-button",featureMenuTitle:"esri-popup__feature-menu-title",featureMenuObserver:"esri-popup__feature-menu-observer",featureMenuLoader:"esri-popup__feature-menu-loader",collapseButton:"esri-popup__collapse-button"},Qn={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},tr="esri-popup";function er(t,e){return void 0===e?`${tr}__${t}`:`${tr}__${t}-${e}`}const ir="esri.widgets.Popup",nr=m["a"].getLogger(ir),rr={closeButton:!0,featureNavigation:!0};let sr=class extends(Yi(j["a"])){constructor(t,e){super(t,e),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new y["a"],this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([t])=>{null!=t&&t.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=Object(v["a"])(()=>this._displaySpinner(),Yn),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new Hn,this.visible=null,this.visibleElements={...rr},this._addSelectedFeatureIndexHandle(),this.own([Object(o["d"])(this,"viewModel.screenLocation",()=>this._positionContainer()),Object(o["d"])(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),Object(o["d"])(this,"viewModel.screenLocation",(t,e)=>{!!t!=!!e&&this.reposition()}),Object(o["d"])(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),Object(o["d"])(this,"spinnerEnabled",t=>this._spinnerEnabledChange(t)),Object(o["d"])(this,"viewModel.view.size",(t,e)=>this._updateDockEnabledForViewSize(t,e)),Object(o["d"])(this,"viewModel.view",(t,e)=>this._viewChange(t,e)),Object(o["d"])(this,"viewModel.view.ready",(t,e)=>this._viewReadyChange(t,e)),Object(o["d"])(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),Object(o["d"])(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),Object(o["d"])(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),Object(o["f"])(this,"collapsed",()=>{var t,e;"xsmall"===(null==(t=this.viewModel)||null==(e=t.view)?void 0:e.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),Object(o["b"])(this,"viewModel.allActions","change",()=>this._watchActions()),Object(o["a"])(this,"viewModel.allActions",()=>this._watchActions()),Object(o["d"])(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var t,e;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(t=this._handles)||t.destroy(),this._unobserveFeatureMenuObserver(),null==(e=this._featureMenuIntersectionObserver)||e.disconnect(),this._handles=null}get actionsMenuId(){return this.id+"-actions-menu"}get actionsMenuButtonId(){return this.id+"-actions-menu-button"}get featureMenuId(){return this.id+"-feature-menu"}get titleId(){return this.id+"-popup-title"}get contentId(){return this.id+"-popup-content"}get hasContent(){var t,e,i,n,r,s,o;return!!(this.selectedFeatureWidget?(null==(t=this.selectedFeatureWidget)||null==(e=t.viewModel)?void 0:e.waitingForContent)||"error"===(null==(i=this.selectedFeatureWidget)||null==(n=i.viewModel)?void 0:n.state)||(null==(r=this.selectedFeatureWidget)||null==(s=r.viewModel)?void 0:s.content):null==(o=this.viewModel)?void 0:o.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(t){this._set("actionsMenuOpen",!!t)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||Qn}set dockOptions(t){const e={...Qn},i=this.get("viewModel.view.breakpoints"),n={};i&&(n.width=i.xsmall,n.height=i.xsmall);const r={...e,...t},s={...e.breakpoint,...n},{breakpoint:o}=r;!0===o?r.breakpoint=s:"object"==typeof o&&(r.breakpoint={...s,...o}),this._set("dockOptions",r),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:t,visibleElements:e,headingLevel:i}=this,{selectedFeatureViewModel:n}=this.viewModel,r={...e,title:!1};return n?(t?(t.viewModel=n,t.visibleElements=r):this._feature=new en({headingLevel:i+1,viewModel:n,visibleElements:r}),this._feature):null}castVisibleElements(t){return{...rr,...t}}blur(){const{active:t}=this.viewModel;t||nr.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(t,e){return this.viewModel.fetchFeatures(t,e)}focus(){const{active:t}=this.viewModel;t||nr.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(t){var e,i;this._handles.remove(Kn);const n=!!t&&!!t.featureMenuOpen,r=!!t&&!!t.actionsMenuOpen,s={collapsed:!!t&&!!t.collapsed,actionsMenuOpen:r,featureMenuOpen:n};"xsmall"===(null==(e=this.viewModel)||null==(i=e.view)?void 0:i.widthBreakpoint)&&(s.collapsed=!0),this.set(s),this.viewModel.open(t),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(t){this.viewModel.triggerAction(t)}render(){var t,e,i,n;const{actionsMenuOpen:r,dockEnabled:s,featureMenuVisible:o,dividedActions:a,currentAlignment:c,currentDockPosition:l}=this,{active:u}=this.viewModel,{menuActions:h}=a,d=u&&h.length>1&&r,p=u&&s,f=u&&!s,b=null==(t=this.selectedFeature)||null==(e=t.layer)?void 0:e.title,y=null==(i=this.selectedFeature)||null==(n=i.layer)?void 0:n.id,m={[Xn.alignTopCenter]:"top-center"===c,[Xn.alignBottomCenter]:"bottom-center"===c,[Xn.alignTopLeft]:"top-left"===c,[Xn.alignBottomLeft]:"bottom-left"===c,[Xn.alignTopRight]:"top-right"===c,[Xn.alignBottomRight]:"bottom-right"===c,[Xn.isDocked]:p,[Xn.shadow]:f,[Xn.isDockedTopLeft]:"top-left"===l,[Xn.isDockedTopCenter]:"top-center"===l,[Xn.isDockedTopRight]:"top-right"===l,[Xn.isDockedBottomLeft]:"bottom-left"===l,[Xn.isDockedBottomCenter]:"bottom-center"===l,[Xn.isDockedBottomRight]:"bottom-right"===l,[Xn.isFeatureMenuOpen]:o,[Xn.isActionsMenuOpen]:d};return Object(Yt["a"])("div",{class:this.classes(Xn.base,m),role:"presentation","data-layer-title":b,"data-layer-id":y,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},u?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(Xn.icon,Xn.iconLoading,Xn.rotating)})}renderNavigationLoading(){const{messagesCommon:t}=this;return this.viewModel.pendingPromisesCount?Object(Yt["a"])("div",{key:er("loading-container"),role:"presentation",class:Xn.loadingContainer,"aria-label":t.loading,title:t.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const t=Object(Jt["h"])(this.container),e={[Xn.iconRightTriangleArrow]:t,[Xn.paginationPreviousIconRTL]:t,[Xn.iconLeftTriangleArrow]:!t,[Xn.paginationPreviousIconLTR]:!t};return Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(Xn.icon,e)})}renderPreviousButton(){const{messages:t}=this;return Object(Yt["a"])("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Xn.button,Xn.paginationPrevious),"aria-label":t.previous,title:t.previous},this.renderPreviousIcon())}renderNextIcon(){const t=Object(Jt["h"])(this.container),e={[Xn.iconLeftTriangleArrow]:t,[Xn.paginationNextIconRTL]:t,[Xn.iconRightTriangleArrow]:!t,[Xn.paginationNextIconLTR]:!t};return Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(Xn.icon,e)})}renderNextButton(){const{messages:t}=this;return Object(Yt["a"])("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Xn.button,Xn.paginationNext),"aria-label":t.next,title:t.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:t,featureMenuId:e,messagesCommon:i}=this,{featureCount:n,selectedFeatureIndex:r}=this.viewModel;return Object(Yt["a"])("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Xn.button,Xn.featureMenuButton),"aria-haspopup":"true","aria-controls":e,"aria-expanded":t.toString(),"aria-label":i.menu,title:i.menu},this._getPageText(n,r))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:t}=this,e=this._wouldDockTo(),i={[Xn.iconUndock]:t,[Xn.iconDock]:!t,[Xn.iconDockToRight]:!t&&("top-right"===e||"bottom-right"===e),[Xn.iconDockToLeft]:!t&&("top-left"===e||"bottom-left"===e),[Xn.iconDockToTop]:!t&&"top-center"===e,[Xn.iconDockToBottom]:!t&&"bottom-center"===e};return Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(i,Xn.icon)})}renderDockButton(){var t,e,i;const{dockEnabled:n,messages:r}=this,s=null==(t=this.viewModel)||null==(e=t.view)?void 0:e.widthBreakpoint,o=n?r.undock:r.dock;return"xsmall"!==s&&null!=(i=this.dockOptions)&&i.buttonEnabled?Object(Yt["a"])("div",{role:"button","aria-label":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Xn.button,Xn.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:t}=this.viewModel,{titleId:e,collapsible:i,contentCollapsed:n,messagesCommon:r}=this,s={[Xn.headerContainerButton]:i},o=Object(Yt["a"])(se,{level:this.headingLevel,class:Xn.headerTitle,innerHTML:t}),a=i?Object(Yt["a"])("button",{key:t+"--collapsible",id:e,title:n?r.expand:r.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Xn.headerContainer,s),"aria-expanded":n?"false":"true",onclick:this._toggleCollapsed},o):Object(Yt["a"])("div",{key:t,id:e,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Xn.headerContainer,s)},o);return t?a:null}renderCloseIcon(){return Object(Yt["a"])("span",{"aria-hidden":"true",class:this.classes(Xn.icon,Xn.iconClose)})}renderCloseButton(){const{visibleElements:t,messagesCommon:e}=this;return t.closeButton?Object(Yt["a"])("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Xn.button,"aria-label":e.close,title:e.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return Object(Yt["a"])("header",{class:Xn.header},this.renderTitle(),Object(Yt["a"])("div",{class:Xn.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:t,hasContent:e,contentCollapsed:i}=this,{content:n}=this.viewModel;return e&&!i?Object(Yt["a"])("article",{key:n,enterAnimation:this._createFeatureUpdatedAnimation(),id:t,class:Xn.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:t,actionsMenuButtonId:e,actionsMenuOpen:i,dividedActions:n,messagesCommon:r}=this,s=i?r.close:r.open,{menuActions:o}=n;return o.length?Object(Yt["a"])("div",{key:er("actions-menu-button"),class:this.classes(Xn.button,Xn.actionsMenuButton),role:"button",id:e,"aria-haspopup":"true","aria-controls":i?t:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":s,title:s},Object(Yt["a"])("span",{"aria-hidden":"true",class:Xn.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:t,actionsMenuButtonId:e,actionsMenuOpen:i,dividedActions:n}=this,{menuActions:r}=n;return r.length&&i?Object(Yt["a"])("ul",{id:t,role:"menu","aria-labelledby":e,key:er("actions"),class:Xn.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},r.toArray().map(t=>this.renderAction({action:t,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:t}=this.dividedActions;return!!t.length&&t.toArray().map(t=>this.renderAction({action:t,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:t,menuActions:e}=this.dividedActions,i=!!t.length,n=!!e.length;return i||n?Object(Yt["a"])("div",{key:"inline-actions-container","data-inline-actions":i.toString(),"data-menu-actions":n.toString(),class:Xn.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?Object(Yt["a"])("section",{key:er("navigation"),class:this.classes(Xn.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:t,dividedActions:e}=this,{inlineActions:i,menuActions:n}=e,r=!!i.length,s=!!n.length,o={[Xn.footerHasPagination]:t,[Xn.footerHasActions]:r,[Xn.footerHasActionsMenu]:s};return t||r?Object(Yt["a"])("div",{key:er("feature-buttons"),class:this.classes(Xn.footer,o)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:t}=this,{featureViewModels:e,isLoadingFeature:i}=this.viewModel,n=Object(Zi["a"])(t.selectedFeatures,{total:e.length});return Object(Yt["a"])("section",{key:er("menu"),class:Xn.featureMenu},Object(Yt["a"])("strong",{class:Xn.featureMenuHeader},n),Object(Yt["a"])("nav",{bind:this,class:Xn.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:Jt["k"]},this.renderFeatureMenu(),Object(Yt["a"])("div",{class:Xn.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?Object(Yt["a"])("div",{class:Xn.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:Object(Yt["a"])("div",{key:er("pointer"),class:Xn.pointer,role:"presentation"},Object(Yt["a"])("div",{class:this.classes(Xn.pointerDirection,Xn.shadow)}))}renderMainContainer(){const{dockEnabled:t,currentAlignment:e,currentDockPosition:i,titleId:n,contentId:r,collapsible:s,hasContent:o,contentCollapsed:a,visibleElements:c}=this,{title:l}=this.viewModel,u="bottom-left"===e||"bottom-center"===e||"bottom-right"===e||"top-left"===i||"top-center"===i||"top-right"===i,h="top-left"===e||"top-center"===e||"top-right"===e||"bottom-left"===i||"bottom-center"===i||"bottom-right"===i,d={[Xn.shadow]:t,[Xn.isCollapsible]:s,[Xn.isCollapsed]:a};return Object(Yt["a"])("div",{class:this.classes(Xn.main,Xn.widget,d),tabIndex:c.closeButton?null:-1,role:"dialog","aria-labelledby":l?n:"","aria-describedby":o&&!a?r:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},u?this.renderFooter():null,u?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),h?this.renderFooter():null,h?this.renderFeatureMenuContainer():null)}renderContent(){var t;const e=null==(t=this.viewModel)?void 0:t.content;return e?"string"==typeof e?Object(Yt["a"])("div",{key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(t){return Object(Yt["a"])("span",{key:"text",class:Xn.actionText},t)}renderActionIcon(t){const e=this._getActionClass(t),i=this._getActionImage(t),n={[Xn.iconLoading]:t.active,[Xn.rotating]:t.active,[Xn.icon]:!!e,[Xn.actionImage]:!t.active&&!!i};return e&&(n[e]=!t.active),Object(Yt["a"])("span",{key:"icon","aria-hidden":"true",class:this.classes(Xn.icon,n),styles:this._getIconStyles(i)})}renderAction(t){const{action:e,type:i}=t,n=this._getActionTitle(e),r={[Xn.action]:"toggle"!==e.type,[Xn.actionToggle]:"toggle"===e.type,[Xn.actionToggleOn]:"toggle"===e.type&&e.value,[Xn.buttonDisabled]:e.disabled},s=[this.renderActionIcon(e),this.renderActionText(n)],o="menu-item"===i?Object(Yt["a"])("li",{key:e.uid,role:"menuitem",tabIndex:0,title:n,"aria-label":n,class:this.classes(Xn.button,r),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":e.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s):Object(Yt["a"])("div",{key:e.uid,role:"button",tabIndex:0,title:n,"aria-label":n,class:this.classes(Xn.button,r),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":e.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return e.visible?o:null}renderFeatureMenuItem(t,e){const{messages:i,messagesCommon:n}=this,{selectedFeatureIndex:r,selectedFeatureViewModel:s}=this.viewModel,o=t===s,a={[Xn.featureMenuSelected]:o},c=o?Object(Yt["a"])("span",{key:er("feature-menu-selected-feature-"+r),title:i.selectedFeature,"aria-label":i.selectedFeature,class:Xn.iconCheckMark}):null,l=Object(Yt["a"])("span",{innerHTML:t.title||n.untitled});return Object(Yt["a"])("li",{role:"menuitem",tabIndex:-1,key:er("feature-menu-feature-"+r),class:this.classes(a,Xn.featureMenuItem),bind:this,"data-feature-index":e,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},Object(Yt["a"])("span",{class:Xn.featureMenuTitle},l,c))}renderFeatureMenu(){const{featureMenuId:t}=this,{featureViewModels:e}=this.viewModel;return e.length>1?Object(Yt["a"])("ol",{class:Xn.featureMenuList,id:t,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},e.filter(t=>!!t.graphic).map((t,e)=>this.renderFeatureMenuItem(t,e))):null}_getActionTitle(t){const{messages:e,selectedFeature:i,messagesCommon:n}=this,{id:r}=t,s=null==i?void 0:i.attributes,o="zoom-to-feature"===r?Object(Zi["a"])(t.title,{messages:e}):"remove-selected-feature"===r?Object(Zi["a"])(t.title,{messages:n}):"zoom-to-clustered-features"===r||"browse-clustered-features"===r?Object(Zi["a"])(t.title,{messages:e}):t.title;return o&&s?Object(Zi["a"])(o,s):o}_getActionClass(t){const{selectedFeature:e}=this,i=null==e?void 0:e.attributes,{className:n,image:r}=t,s=r||n?n:Xn.iconDefaultAction;return s&&i?Object(Zi["a"])(s,i):s}_getActionImage(t){const{selectedFeature:e}=this,i=null==e?void 0:e.attributes,{image:n}=t;return n&&i?Object(Zi["a"])(n,i):n}_createFeatureUpdatedAnimation(){return Object(Jt["b"])("enter",Xn.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:t,featureNavigationVisible:e}=this;if("number"!=typeof t)return null;const i=Math.round(t);return Math.max(e?i-1:i,0)}_watchActions(){const{allActions:t}=this.viewModel;this.notifyChange("dividedActions");const e="actions";this._handles.remove(e),t&&t.forEach(t=>{this._handles.add(Object(o["d"])(t,["uid","active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),e)})}_divideActions(){const{allActions:t}=this.viewModel,e=t.filter(t=>t.visible),i=this._getInlineActionCount(),n=null===i,r=0===i;return{inlineActions:n?e.slice(0):r?new u["a"]:e.slice(0,i),menuActions:n?new u["a"]:r?e.slice(0):e.slice(i)}}_featureMenuOpenChanged(t){t?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(t){t?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:t,messagesCommon:e}=this;var i,n;t&&(this.viewModel.title="error"===(null==(i=t.viewModel)?void 0:i.state)?e.errorMessage:(null==(n=t.viewModel)?void 0:n.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:t}=this;t&&(this.viewModel.content=t)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(t){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(t),this._featureMenuIntersectionObserverNode=t}_handleFeatureMenuKeyup(t){"Escape"===Object(b["a"])(t)&&(t.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(t){"Escape"===Object(b["a"])(t)&&(t.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(t){const e=Object(b["a"])(t),{_featureMenuNode:i}=this,n=t.currentTarget["data-feature-index"];if(!i)return;const r=i.querySelectorAll("li"),s=r.length;"ArrowUp"!==e?"ArrowDown"!==e?"Home"!==e?"End"!==e||(t.stopPropagation(),r[r.length-1].focus()):(t.stopPropagation(),r[0].focus()):(t.stopPropagation(),r[(n+1+s)%s].focus()):(t.stopPropagation(),r[(n-1+s)%s].focus())}_handleActionMenuItemKeyup(t){const e=Object(b["a"])(t),{_actionsMenuNode:i}=this,n=t.currentTarget.dataset.actionUid,{menuActions:r}=this.dividedActions,s=r.findIndex(t=>t.uid===n);if(!i)return;const o=i.querySelectorAll("li"),a=o.length;"ArrowUp"!==e?"ArrowDown"!==e?"Home"!==e?"End"!==e||(t.stopPropagation(),o[o.length-1].focus()):(t.stopPropagation(),o[0].focus()):(t.stopPropagation(),o[(s+1+a)%a].focus()):(t.stopPropagation(),o[(s-1+a)%a].focus())}_handleMainKeyup(t){const e=Object(b["a"])(t);"ArrowLeft"===e&&(t.stopPropagation(),this.previous()),"ArrowRight"===e&&(t.stopPropagation(),this.next())}_spinnerEnabledChange(t){if(this._destroySpinner(),!t)return;const e=this.get("viewModel.view");this._createSpinner(e)}_hideSpinner(){const{_spinner:t}=this;t&&(t.location=null,t.hide())}_displaySpinner(){const{_spinner:t}=this;if(!t)return;const{location:e,waitingForResult:i}=this.viewModel;i?t.show({location:e}):t.hide()}_getIconStyles(t){return{"background-image":t?`url(${t})`:""}}_addSelectedFeatureIndexHandle(){const t=Object(o["d"])(this,"viewModel.selectedFeatureIndex",(t,e)=>this._selectedFeatureIndexUpdated(t,e));this._handles.add(t,Kn)}_selectedFeatureIndexUpdated(t,e){const{featureCount:i}=this;i&&t!==e&&-1!==t&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:t}=this;t&&(t.viewModel=null,t&&!t.destroyed&&t.destroy()),this._feature=null}_isScreenLocationWithinView(t,e){return t.x>-1&&t.y>-1&&t.x<=e.width&&t.y<=e.height}_isOutsideView(t){const{popupHeight:e,popupWidth:i,screenLocation:n,side:r,view:s}=t;if(isNaN(i)||isNaN(e)||!s||!n)return!1;const o=s.padding;return"right"===r&&n.x+i/2>s.width-o.right||"left"===r&&n.x-i/2<o.left||"top"===r&&n.y-e<o.top||"bottom"===r&&n.y+e>s.height-o.bottom}_calculateAutoAlignment(t){if("auto"!==t)return t;const{_pointerOffsetInPx:e,_containerNode:i,_mainContainerNode:n,viewModel:r}=this,{screenLocation:s,view:o}=r;if(Object(g["k"])(s)||!o||!i)return"top-center";if(!this._isScreenLocationWithinView(s,o))return this._get("currentAlignment")||"top-center";function a(t){return parseInt(t.replace(/[^-\d\.]/g,""),10)}const c=n?window.getComputedStyle(n,null):null,l=c?a(c.getPropertyValue("max-height")):0,u=c?a(c.getPropertyValue("height")):0,{height:h,width:d}=i.getBoundingClientRect(),p=d+e,f=Math.max(h,l,u)+e,b=this._isOutsideView({popupHeight:f,popupWidth:p,screenLocation:s,side:"right",view:o}),y=this._isOutsideView({popupHeight:f,popupWidth:p,screenLocation:s,side:"left",view:o}),m=this._isOutsideView({popupHeight:f,popupWidth:p,screenLocation:s,side:"top",view:o}),v=this._isOutsideView({popupHeight:f,popupWidth:p,screenLocation:s,side:"bottom",view:o});return y?m?"bottom-right":"top-right":b?m?"bottom-left":"top-left":m?v?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(t){return"function"==typeof t?t.call(this):t}_getCurrentAlignment(){const{alignment:t,dockEnabled:e}=this;return e||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(t)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(t){const e=["left","right"];return Object(Jt["h"])(this.container)&&e.reverse(),t.replace(/leading/gi,e[0]).replace(/trailing/gi,e[1])}_callDockPosition(t){return"function"==typeof t?t.call(this):t}_getDockPosition(){var t;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(t=this.dockOptions)?void 0:t.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(t){var e;if("auto"!==t)return t;const i=null==(e=this.viewModel)?void 0:e.view,n=Object(Jt["h"])(this.container)?"top-left":"top-right";if(!i)return n;const r=i.padding||{left:0,right:0,top:0,bottom:0},s=i.width-r.left-r.right,{breakpoints:o}=i;return o&&s<=o.xsmall?"bottom-center":n}_positionContainer(t=this._containerNode){if(t&&(this._containerNode=t),!t)return;const{screenLocation:e}=this.viewModel,{width:i}=t.getBoundingClientRect(),n=this._calculatePositionStyle(e,i);n&&(t.style.top=n.top,t.style.left=n.left,t.style.bottom=n.bottom,t.style.right=n.right)}_calculateFullWidth(t){const{currentAlignment:e,_pointerOffsetInPx:i}=this;return"top-left"===e||"bottom-left"===e||"top-right"===e||"bottom-right"===e?t+i:t}_calculateAlignmentPosition(t,e,i,n){const{currentAlignment:r,_pointerOffsetInPx:s}=this,o=n/2,a=i.height-e,c=i.width-t,{padding:l}=this.view;return"bottom-center"===r?{top:e+s-l.top,left:t-o-l.left}:"top-left"===r?{bottom:a+s-l.bottom,right:c+s-l.right}:"bottom-left"===r?{top:e+s-l.top,right:c+s-l.right}:"top-right"===r?{bottom:a+s-l.bottom,left:t+s-l.left}:"bottom-right"===r?{top:e+s-l.top,left:t+s-l.left}:"top-center"===r?{bottom:a+s-l.bottom,left:t-o-l.left}:void 0}_calculatePositionStyle(t,e){const{dockEnabled:i,view:n}=this;if(!n)return;if(i)return{left:"",top:"",right:"",bottom:""};if(Object(g["k"])(t)||!e)return;const r=this._calculateFullWidth(e),s=this._calculateAlignmentPosition(t.x,t.y,n,r);return s?{top:void 0!==s.top?s.top+"px":"auto",left:void 0!==s.left?s.left+"px":"auto",bottom:void 0!==s.bottom?s.bottom+"px":"auto",right:void 0!==s.right?s.right+"px":"auto"}:void 0}_viewChange(t,e){t&&e&&(this.close(),this.clear())}_viewReadyChange(t,e){if(t){const t=this.get("viewModel.view");this._wireUpView(t)}else e&&(this.close(),this.clear())}_wireUpView(t){if(this._destroySpinner(),!t)return;const{spinnerEnabled:e}=this;e&&this._createSpinner(t),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(t,e,i){const[n,r]=t,[s,o]=e,{width:a,height:c}=i;return n<=a&&s>a||n>a&&s<=a||r<=c&&o>c||r>c&&o<=c}_updateDockEnabledForViewSize(t,e){if(!t||!e)return;const i=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},n=i.left+i.right,r=i.top+i.bottom,s=[],o=[];s[0]=t[0]-n,s[1]=t[1]-r,o[0]=e[0]-n,o[1]=e[1]-r;const{dockOptions:a}=this,c=a.breakpoint;this._dockingThresholdCrossed(s,o,c)&&this._setDockEnabledForViewSize(a),this._setCurrentDockPosition()}_focusDockButtonNode(t){this._focusDockButton&&(this._focusDockButton=!1,t.focus())}_closeButtonNodeUpdated(t){return this._focusClose?(this._focusClose=!1,void t.focus()):this._blurClose?(this._blurClose=!1,void t.blur()):void 0}_mainContainerNodeUpdated(t){return this._mainContainerNode=t,this._focusContainer?(this._focusContainer=!1,void t.focus()):this._blurContainer?(this._blurContainer=!1,void t.blur()):void 0}_featureMenuNodeUpdated(t){if(this._featureMenuNode=t,!t||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const e=t.querySelectorAll("li");e.length&&e[0].focus()}_actionsMenuNodeUpdated(t){if(this._actionsMenuNode=t,!t||!this._focusFirstAction)return;this._focusFirstAction=!1;const e=t.querySelectorAll("li");e.length&&e[0].focus()}_focusFeatureMenuButtonNode(t){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,t.focus())}_focusActionsMenuButtonNode(t){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,t.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:t,viewModel:e}=this;if(!e)return;const i=e.active&&!t;e.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(t){var e,i;const n=t.breakpoint,r=null==(e=this.viewModel)||null==(i=e.view)?void 0:i.ui;if(!r)return!1;const{width:s,height:o}=r;if(isNaN(s)||isNaN(o))return!1;const a=n.hasOwnProperty("width")&&s<=n.width,c=n.hasOwnProperty("height")&&o<=n.height;return a||c}_setDockEnabledForViewSize(t){t.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(t))}_getPageText(t,e){return this.featureNavigationVisible?Object(Zi["a"])(this.messages.pageText,{index:e+1,total:t}):null}_destroySpinner(){const{_spinner:t,view:e}=this;t&&(e&&e.ui&&e.ui.remove(this._spinner,Zn),t.destroy(),this._spinner=null)}_createSpinner(t){t&&(this._spinner=new hn({view:t}),t.ui.add(this._spinner,{key:Zn,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const t=!this.featureMenuOpen;this._featureMenuOpenChanged(t),this.actionsMenuOpen=!1,this.featureMenuOpen=t}_toggleActionsMenu(){const t=!this.actionsMenuOpen;this._actionsMenuOpenChanged(t),this.featureMenuOpen=!1,this.actionsMenuOpen=t}_triggerAction(t){const e=t.currentTarget.dataset.actionUid,{allActions:i}=this.viewModel,n=i.findIndex(t=>t.uid===e),r=i.getItemAt(n);r&&"toggle"===r.type&&(r.value=!r.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(n)}_selectFeature(t){const e=t.currentTarget["data-feature-index"];isNaN(e)||(this.viewModel.selectedFeatureIndex=e),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"actionsMenuId",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"actionsMenuButtonId",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"featureMenuId",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"titleId",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"contentId",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"hasContent",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"featureNavigationVisible",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"collapsible",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"featureMenuVisible",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"contentCollapsed",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"dividedActions",null),Object(n["a"])([Object(w["a"])("viewModel.actions")],sr.prototype,"actions",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"actionsMenuOpen",null),Object(n["a"])([Object(a["b"])()],sr.prototype,"alignment",void 0),Object(n["a"])([Object(w["a"])("viewModel.autoCloseEnabled")],sr.prototype,"autoCloseEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.autoOpenEnabled")],sr.prototype,"autoOpenEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.defaultPopupTemplateEnabled")],sr.prototype,"defaultPopupTemplateEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.content")],sr.prototype,"content",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"collapsed",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"collapseEnabled",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"currentAlignment",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"currentDockPosition",null),Object(n["a"])([Object(a["b"])()],sr.prototype,"dockOptions",null),Object(n["a"])([Object(a["b"])()],sr.prototype,"dockEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.featureCount")],sr.prototype,"featureCount",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"featureMenuOpen",void 0),Object(n["a"])([Object(w["a"])("viewModel.features")],sr.prototype,"features",void 0),Object(n["a"])([Object(w["a"])("viewModel.goToOverride")],sr.prototype,"goToOverride",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"headingLevel",void 0),Object(n["a"])([Object(w["a"])("viewModel.highlightEnabled")],sr.prototype,"highlightEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.location")],sr.prototype,"location",void 0),Object(n["a"])([Object(a["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],sr.prototype,"label",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"maxInlineActions",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/widgets/Popup/t9n/Popup")],sr.prototype,"messages",void 0),Object(n["a"])([Object(a["b"])(),Object(Kt["a"])("esri/t9n/common")],sr.prototype,"messagesCommon",void 0),Object(n["a"])([Object(w["a"])("viewModel.promises")],sr.prototype,"promises",void 0),Object(n["a"])([Object(w["a"])("viewModel.selectedFeature")],sr.prototype,"selectedFeature",void 0),Object(n["a"])([Object(w["a"])("viewModel.selectedFeatureIndex")],sr.prototype,"selectedFeatureIndex",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],sr.prototype,"selectedFeatureWidget",null),Object(n["a"])([Object(a["b"])()],sr.prototype,"spinnerEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.title")],sr.prototype,"title",void 0),Object(n["a"])([Object(w["a"])("viewModel.updateLocationEnabled")],sr.prototype,"updateLocationEnabled",void 0),Object(n["a"])([Object(w["a"])("viewModel.view")],sr.prototype,"view",void 0),Object(n["a"])([Object(a["b"])({type:Hn}),Object(Jn["a"])(["triggerAction","trigger-action"])],sr.prototype,"viewModel",void 0),Object(n["a"])([Object(w["a"])("viewModel.visible")],sr.prototype,"visible",void 0),Object(n["a"])([Object(a["b"])()],sr.prototype,"visibleElements",void 0),Object(n["a"])([Object(O["a"])("visibleElements")],sr.prototype,"castVisibleElements",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_close",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_toggleDockEnabled",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_toggleFeatureMenu",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_toggleActionsMenu",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_triggerAction",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_selectFeature",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_next",null),Object(n["a"])([Object(Wn["a"])()],sr.prototype,"_previous",null),sr=Object(n["a"])([Object(c["a"])(ir)],sr);const or=sr,ar=[0,0];function cr(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return ar[0]=i.left+e.pageXOffset,ar[1]=i.top+e.pageYOffset,ar}function lr(t){t&&(Object(r["b"])(t),t.parentNode&&t.parentNode.removeChild(t))}function ur(t){const e=document.createElement("div");return t.appendChild(e),e}const hr=16,dr=750,pr=512,fr=2,br=t=>{let e=class extends t{constructor(...t){super(...t),this._freqInfo={freq:hr,time:dr},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",t=>{const e=this.surface;e&&e.setAttribute("data-cursor",t)}),this.watch("interacting",t=>{const e=this.surface;e&&e.setAttribute("data-interacting",t.toString())})])}initialize(){this.handles.add(this.watch("ui",(t,e)=>this._handleUIChange(t,e))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(t){const e=this._get("container");if(e===t)return;const i="dom-size";if(this.handles.remove(i),this._stopMeasuring(),e&&(e.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),lr(this.root),this._set("root",null),Object(r["d"])(this.userContent,e),lr(this.userContent),this._set("userContent",null)),t){t.classList.add("esri-view");const e=document.createElement("div");e.className="esri-view-user-storage",Object(r["d"])(t,e),t.appendChild(e),this._set("userContent",e);const n=document.createElement("div");n.className="esri-view-root",t.insertBefore(n,t.firstChild),this._set("root",n);const a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,n.appendChild(a),this._set("surface",a);const c=new f;n.appendChild(c.surface),this._set("overlay",c),c.watch("needsRender",t=>{t&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Object(s["a"])({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add(Object(o["a"])(this,"size",t=>{const[e,i]=t,n="esri-view-surface--inset-outline";e>=document.body.clientWidth||i>=document.body.clientHeight?a.classList.add(n):a.classList.remove(n)}),i),this._set("container",t),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const t=document.activeElement===this.surface;return document.hasFocus()&&t}get popup(){return this._get("popup")||new or({view:this})}set popup(t){const e=this._get("popup");e&&e!==t&&e.destroy(),this._set("popup",t)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(t,e,i){const n=this.position;return t-=n[0],e-=n[1],i?(i[0]=t,i[1]=e):i=[t,e],i}containerToPage(t,e,i){const n=this.position;return t+=n[0],e+=n[1],i?(i[0]=t,i[1]=e):i=[t,e],i}_handleUIChange(t,e){e&&(this.handles.remove("ui"),e.destroy()),t&&this._wireUI(t),this._set("ui",t)}_wireUI(t){this.handles.remove("ui"),t&&(t.view=this,this.handles.add([Object(o["a"])(this,"root",e=>{t.container=e?ur(e):null}),Object(o["a"])(this,"popup",(e,i)=>{const n="popup",r="manual";i&&t.remove(i,n),e&&(e.view=t.view,t.add(e,{key:n,position:r}))})],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const t=this._freqInfo;t.freq=hr,t.time=dr,this.handles.add([(()=>{const e=()=>{t.freq=hr,t.time=dr};return window.addEventListener("resize",e),{remove(){window.removeEventListener("resize",e)}}})(),Object(s["a"])({prepare:t=>{const e=this._measure(),i=this._freqInfo;if(i.time+=t.deltaTime,e&&(i.freq=hr,this._get("resizing")||this._set("resizing",!0)),i.time<i.freq)return;i.time=0;const n=this._position();i.freq=n||e?hr:Math.min(dr,i.freq*fr),!e&&i.freq>=pr&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const t=this.container,e=t?t.clientWidth:0,i=t?t.clientHeight:0;if(0===e||0===i)return this.suspended||this._set("suspended",!0),!1;const n=this.width,r=this.height;return e===n&&i===r?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",e),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:r,width:e,height:i}),!0)}_position(){const t=this.container,e=this.position,i=cr(t);return(!e||i[0]!==e[0]||i[1]!==e[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return Object(n["a"])([Object(a["b"])({value:null,cast:t=>Object(r["a"])(t)})],e.prototype,"container",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"focused",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"height",void 0),Object(n["a"])([Object(a["b"])({type:or})],e.prototype,"popup",null),Object(n["a"])([Object(a["b"])({type:f})],e.prototype,"overlay",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"position",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"resizing",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"root",void 0),Object(n["a"])([Object(a["b"])({value:null,readOnly:!0})],e.prototype,"size",null),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"surface",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"suspended",void 0),Object(n["a"])([Object(a["b"])()],e.prototype,"ui",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"userContent",void 0),Object(n["a"])([Object(a["b"])({readOnly:!0})],e.prototype,"width",void 0),Object(n["a"])([Object(a["b"])()],e.prototype,"widthBreakpoint",void 0),e=Object(n["a"])([Object(c["a"])("esri.views.DOMContainer")],e),e};function yr(t){return t&&"focus"in t}},"7af8":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return u}));var n=i("7ffa"),r=i("b2b2"),s=i("4c37");class o{constructor(t){this.autoDestroy=!1,this.properties=t}}function a(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){const i=Object.create(e.properties),r=e.autoDestroy;for(const t in i)i[t]=Object(n["a"])(i[t]);e=new o(i),e.autoDestroy=r,Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e=new o({}),Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return Object(r["d"])(t.constructor.__accessorMetadata__)}function c(t){return a(t).properties}function l(t,e){const i=c(t);let n=i[e];return n||(n=i[e]={}),n}function u(t,e){return Object(s["c"])(t,e,d)}const h=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function d(t){return h.test(t)?"replace":"merge"}},"7b0b":function(t,e,i){var n=i("da84"),r=i("1d80"),s=n.Object;t.exports=function(t){return s(r(t))}},"7b39":function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return x})),i.d(e,"f",(function(){return f}));var n=i("b3b6");const r="__begin__",s="__end__",o=new RegExp(r,"ig"),a=new RegExp(s,"ig"),c=new RegExp("^"+r,"i"),l=new RegExp(s+"$","i"),u='"',h=u+" + ",d=" + "+u;function p(t){return t.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function f(t){return t.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function b(t){const e={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(e.expression=t.labelExpressionInfo.value,e.type="conventional"):t.labelExpressionInfo.expression&&(e.expression=t.labelExpressionInfo.expression,e.type="arcade"):null!=t.labelExpression&&(e.expression=p(t.labelExpression),e.type="conventional"),e}function y(t){const e=b(t);if(!e)return null;switch(e.type){case"conventional":return g(e.expression);case"arcade":return e.expression}return null}function m(t){const e=b(t);if(!e)return null;switch(e.type){case"conventional":return w(e.expression);case"arcade":return x(e.expression)}return null}function g(t){let e;return t?(e=Object(n["c"])(t,t=>r+'$feature["'+t+'"]'+s),e=c.test(e)?e.replace(c,""):u+e,e=l.test(e)?e.replace(l,""):e+u,e=e.replace(o,h).replace(a,d)):e='""',e}const v=/^\s*\{([^}]+)\}\s*$/i;function w(t){const e=t.match(v);return e&&e[1].trim()||null}const O=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,j=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,_=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function x(t){if(!t)return null;let e=O.exec(t)||j.exec(t);return e?e[1]||e[3]:(e=_.exec(t),e?e[2]:null)}},"7b7d":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("b2b2"),r=i("ecd7");class s extends r["a"]{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Object(n["q"])(this._set)}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}},"7c73":function(t,e,i){var n,r=i("825a"),s=i("37e8"),o=i("7839"),a=i("d012"),c=i("1be4"),l=i("cc12"),u=i("f772"),h=">",d="<",p="prototype",f="script",b=u("IE_PROTO"),y=function(){},m=function(t){return d+f+h+t+d+"/"+f+h},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=l("iframe"),i="java"+f+":";return e.style.display="none",c.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},w=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&n?g(n):v():g(n);var t=o.length;while(t--)delete w[p][o[t]];return w()};a[b]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(y[p]=r(t),i=new y,y[p]=null,i[b]=t):i=w(),void 0===e?i:s(i,e)}},"7d03":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fa8a"),r=i("a9ab");const s=new n["a"]({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function o(t){const{geometries1:e,geometries2:i,relation:n,relationParameter:o}=t.toJSON(),a={};if(e&&e.length){a.geometries1=JSON.stringify({geometryType:Object(r["c"])(e[0]),geometries:e});const t=e[0].spatialReference;a.sr=t.wkid?t.wkid:JSON.stringify(t)}return i&&i.length>0&&(a.geometries2=JSON.stringify({geometryType:Object(r["c"])(i[0]),geometries:i})),n&&(a.relation=s.toJSON(n)),o&&(a.relationParam=o),a}},"7d7d":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}));var n=i("2c4f");function r(t,e,i=n["a"]){return e||(e=new i),e===t||(e.removeAll(),o(t)?e.addMany(t):t&&e.add(t)),e}function s(t){return t}function o(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}},"7d9d":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n={redo:"r",undo:"z",center:"Alt",constraint:"Shift",snappingToggle:"Control",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "}},"7db0":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").find,s=i("44d2"),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},"7dcb":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{}},"7dd0":function(t,e,i){"use strict";var n=i("23e7"),r=i("c65b"),s=i("c430"),o=i("5e77"),a=i("1626"),c=i("9ed3"),l=i("e163"),u=i("d2bb"),h=i("d44e"),d=i("9112"),p=i("6eeb"),f=i("b622"),b=i("3f8c"),y=i("ae93"),m=o.PROPER,g=o.CONFIGURABLE,v=y.IteratorPrototype,w=y.BUGGY_SAFARI_ITERATORS,O=f("iterator"),j="keys",_="values",x="entries",S=function(){return this};t.exports=function(t,e,i,o,f,y,M){c(i,e,o);var k,I,T,E=function(t){if(t===f&&L)return L;if(!w&&t in P)return P[t];switch(t){case j:return function(){return new i(this,t)};case _:return function(){return new i(this,t)};case x:return function(){return new i(this,t)}}return function(){return new i(this)}},A=e+" Iterator",C=!1,P=t.prototype,R=P[O]||P["@@iterator"]||f&&P[f],L=!w&&R||E(f),N="Array"==e&&P.entries||R;if(N&&(k=l(N.call(new t)),k!==Object.prototype&&k.next&&(s||l(k)===v||(u?u(k,v):a(k[O])||p(k,O,S)),h(k,A,!0,!0),s&&(b[A]=S))),m&&f==_&&R&&R.name!==_&&(!s&&g?d(P,"name",_):(C=!0,L=function(){return r(R,this)})),f)if(I={values:E(_),keys:y?L:E(j),entries:E(x)},M)for(T in I)(w||C||!(T in P))&&p(P,T,I[T]);else n({target:e,proto:!0,forced:w||C},I);return s&&!M||P[O]===L||p(P,O,L,{name:f}),b[e]=L,I}},"7e6b":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("a9ab");let c=class extends r["a"]{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((function(t){return t.toJSON()})),e=this.geometries[0],i={};return i.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),i.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON()),i.geometries=JSON.stringify({geometryType:Object(a["c"])(e),geometries:t}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(i.transformForward=this.transformForward),i}};Object(n["a"])([Object(s["b"])()],c.prototype,"geometries",void 0),Object(n["a"])([Object(s["b"])({json:{read:{source:"outSR"}}})],c.prototype,"outSpatialReference",void 0),Object(n["a"])([Object(s["b"])()],c.prototype,"transformation",void 0),Object(n["a"])([Object(s["b"])()],c.prototype,"transformForward",void 0),c=Object(n["a"])([Object(o["a"])("esri.rest.support.ProjectParameters")],c);const l=c},"7ed0":function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return v}));var n=i("cea0");function r(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const t in i)if(e[t]){const n=e[t];i[t].forEach(t=>{e[t]=n}),delete e[t]}}}var s=i("0b86");function o(t){if(t.json||(t.json={}),c(t.json),l(t.json),a(t.json),t.json.origins)for(const e in t.json.origins)c(t.json.origins[e]),l(t.json.origins[e]),a(t.json.origins[e]);return!0}function a(t){t.name&&(t.read&&"object"==typeof t.read?void 0===t.read.source&&(t.read.source=t.name):t.read={source:t.name},t.write&&"object"==typeof t.write?void 0===t.write.target&&(t.write.target=t.name):t.write={target:t.name})}function c(t){"boolean"==typeof t.read?t.read={enabled:t.read}:"function"==typeof t.read?t.read={enabled:!0,reader:t.read}:t.read&&"object"==typeof t.read&&void 0===t.read.enabled&&(t.read.enabled=!0)}function l(t){"boolean"==typeof t.write?t.write={enabled:t.write}:"function"==typeof t.write?t.write={enabled:!0,writer:t.write}:t.write&&"object"==typeof t.write&&void 0===t.write.enabled&&(t.write.enabled=!0)}var u=i("2524");function h(t,e){return p(t,"read",e)}function d(t,e){return p(t,"write",e)}function p(t,e,i){let n=t&&t.json;if(t&&t.json&&t.json.origins&&i){const r=t.json.origins[i.origin];r&&("any"===e||e in r)&&(n=r)}return n}function f(t){const e=b(t);if(t.json.origins)for(const i in t.json.origins){const n=t.json.origins[i],r=n.types?y(n):e;Object(s["a"])(r,n,!1),n.types&&!n.write&&t.json.write&&t.json.write.enabled&&(n.write={...t.json.write}),Object(u["a"])(r,n)}Object(s["a"])(e,t.json,!0),Object(u["a"])(e,t.json)}function b(t){return t.json.types?g(t.json):t.type?m(t):g(t)}function y(t){return t.type?m(t):g(t)}function m(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!Object(n["o"])(i);)i=i[0],e++;return{type:i,ndimArray:e}}function g(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function v(t){o(t)&&(r(t),f(t))}},"7f83":function(t,e,i){"use strict";i.d(e,"a",(function(){return I})),i.d(e,"b",(function(){return M})),i.d(e,"c",(function(){return k})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return m})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return f})),i.d(e,"i",(function(){return O})),i.d(e,"j",(function(){return _})),i.d(e,"k",(function(){return v})),i.d(e,"l",(function(){return S})),i.d(e,"m",(function(){return y})),i.d(e,"n",(function(){return w})),i.d(e,"o",(function(){return j})),i.d(e,"p",(function(){return g})),i.d(e,"q",(function(){return x}));var n=i("b2b2"),r=i("b3b6"),s=i("2c81");const o={102113:!0,102100:!0,3857:!0,3785:!0},a={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},c='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',l=[-20037508.342788905,20037508.342788905],u=[-20037508.342787,20037508.342787],h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:u,dx:1e-5},102100:{wkTemplate:c,valid:l,origin:u,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:u,dx:1e-5},3857:{wkTemplate:c,valid:l,origin:u,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function d(t,e){return!Object(n["k"])(t)&&!Object(n["k"])(e)&&(t===e||(null!=t.wkid||null!=e.wkid?t.wkid===e.wkid||g(t)&&g(e)||null!=e.latestWkid&&t.wkid===e.latestWkid||null!=t.latestWkid&&e.wkid===t.latestWkid:!(!t.wkt||!e.wkt)&&t.wkt.toUpperCase()===e.wkt.toUpperCase()))}function p(t){return S(t)&&t.wkid?h[t.wkid]:null}function f(t){return!!S(t)&&(t.wkid?null==s["a"][t.wkid]:!!t.wkt&&!!/^\s*GEOGCS/i.test(t.wkt))}function b(t){return!(O(t)||_(t))}function y(t){return S(t)&&4326===t.wkid}function m(t){return S(t)&&4490===t.wkid}function g(t){return S(t)&&null!=t.wkid&&!0===o[t.wkid]}function v(t){return S(t)&&32662===t.wkid}function w(t){return 104971===t||104905===t}function O(t){return S(t)&&null!=t.wkid&&w(t.wkid)}function j(t){return 104903===t}function _(t){return S(t)&&null!=t.wkid&&j(t.wkid)}function x(t){return S(t)&&null!=t.wkid&&!0===a[t.wkid]}function S(t){return Object(n["l"])(t)&&(null!=t.wkid&&t.wkid>=2e3||null!=t.wkt)}const M={wkid:4326,wkt:Object(r["c"])(h[4326].wkTemplate,{Central_Meridian:"0.0"})},k={wkid:102100,latestWkid:3857},I={wkid:32662}},"7f9a":function(t,e,i){var n=i("da84"),r=i("1626"),s=i("8925"),o=n.WeakMap;t.exports=r(o)&&/native code/.test(s(o))},"7ffa":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r}));i("b50f"),i("c120");var n=i("a21b");function r(t,e){let i;if(e)for(i in t)t.hasOwnProperty(i)&&(void 0===t[i]?delete t[i]:t[i]instanceof Object&&r(t[i],!0));else for(i in t)t.hasOwnProperty(i)&&void 0===t[i]&&delete t[i];return t}function s(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;if(Object(n["h"])(t)||Object(n["k"])(t)||Object(n["l"])(t)||Object(n["f"])(t)||Object(n["i"])(t)||Object(n["g"])(t)||Object(n["j"])(t)||Object(n["d"])(t)||Object(n["e"])(t))return Object(n["m"])(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;return t.forEach((t,i)=>{e.set(i,s(t))}),e}if(t instanceof Set){const e=new Set;return t.forEach(t=>{e.add(s(t))}),e}let e;const i=t;if("function"==typeof i.clone)e=i.clone();else if("function"==typeof i.map&&"function"==typeof i.forEach)e=i.map(s);else if("function"==typeof i.notifyChange&&"function"==typeof i.watch)e=i.clone();else{e={};for(const i of Object.getOwnPropertyNames(t))e[i]=s(t[i])}return e}function o(t,e){return t===e||"number"==typeof t&&isNaN(t)&&"number"==typeof e&&isNaN(e)||"function"==typeof(t||{}).getTime&&"function"==typeof(e||{}).getTime&&t.getTime()===e.getTime()||!1}},8048:function(t,e,i){"use strict";i.d(e,"a",(function(){return W})),i.d(e,"b",(function(){return S})),i.d(e,"c",(function(){return F})),i.d(e,"d",(function(){return N})),i.d(e,"e",(function(){return R})),i.d(e,"f",(function(){return V})),i.d(e,"g",(function(){return L})),i.d(e,"h",(function(){return u})),i.d(e,"i",(function(){return C})),i.d(e,"j",(function(){return J})),i.d(e,"k",(function(){return A})),i.d(e,"l",(function(){return I})),i.d(e,"m",(function(){return T})),i.d(e,"n",(function(){return E})),i.d(e,"o",(function(){return M})),i.d(e,"p",(function(){return k})),i.d(e,"q",(function(){return P}));i("c120");var n=i("fa8a"),r=i("b2b2"),s=i("f694"),o=i("5996"),a=i("2255"),c=i("7f83"),l=i("2c81");const u=39.37,h=a["a"].radius*Math.PI/200,d=/UNIT\[([^\]]+)\]\]$/i,p=l["a"],f=/UNIT\[([^\]]+)\]/i,b=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=Object(n["b"])()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=t=>t*t,g=t=>t*t*t,v={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*g(.001)},"cubic-centimeters":{inBaseUnits:1e3*g(.01)},"cubic-decimeters":{inBaseUnits:1e3*g(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*g(1e3)},"cubic-inches":{inBaseUnits:1e3*g(.0254)},"cubic-feet":{inBaseUnits:1e3*g(.3048)},"cubic-yards":{inBaseUnits:1e3*g(.9144)},"cubic-miles":{inBaseUnits:1e3*g(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},w=function(){const t={};for(const e in v)for(const i in v[e].units)t[i]=e;return t}();function O(t,e,i){return t*v[i].units[e].inBaseUnits}function j(t,e,i){return t/v[i].units[e].inBaseUnits}function _(t){const e=w[t];if(e)return e;throw new Error("unknown measure")}function x(t,e=null){return e=e||_(t),v[e].baseUnit===t}function S(t,e,i){if(e===i)return t;const n=_(e);if(n!==_(i))throw new Error("incompatible units");const r=x(e,n)?t:O(t,e,n);return x(i,n)?r:j(r,i,n)}function M(t,e){return S(t,e,"meters")<3e3?"meters":"kilometers"}function k(t,e){return S(t,e,"meters")<1e5?"meters":"kilometers"}function I(t,e){return S(t,e,"feet")<1e3?"feet":"miles"}function T(t,e){return S(t,e,"feet")<1e5?"feet":"miles"}function E(t,e){return S(t,e,"square-meters")<3e6?"square-meters":"square-kilometers"}function A(t,e){return S(t,e,"square-feet")<1e6?"square-feet":"square-miles"}function C(t,e,i){return S(t,e,"meters")/(i*Math.PI/180)}function P(t){return y.fromJSON(t.toLowerCase())||null}function R(t){if(t&&"object"==typeof t&&!Object(c["g"])(t))return 1;const e=N(t);return e>1e5?1:e}function L(t){return N(t)>=(t instanceof o["a"]?Object(s["e"])(t).metersPerDegree:1e5)?"meters":V(t)}function N(t,e=a["a"].metersPerDegree){return F(t,!0)||e}function F(t,e=!1){let i,n,r=null;if(null!=t&&("object"==typeof t?(i=t.wkid,n=t.wkt):"number"==typeof t?i=t:"string"==typeof t&&(n=t)),i){if(Object(c["n"])(i))return a["b"].metersPerDegree;if(Object(c["o"])(i))return a["c"].metersPerDegree;r=p.values[p[i]],!r&&e&&b.has(i)&&(r=h)}else n&&(G(n)?r=D(d.exec(n),r):$(n)&&(r=D(f.exec(n),r)));return r}function D(t,e){return t&&t[1]?z(t[1]):e}function z(t){return parseFloat(t.split(",")[1])}function V(t){let e,i,n=null;if(null!=t&&("object"==typeof t?(e=t.wkid,i=t.wkt):"number"==typeof t?e=t:"string"==typeof t&&(i=t)),e)n=p.units[p[e]];else if(i){const t=G(i)?d:$(i)?f:null;if(t){const e=t.exec(i);e&&e[1]&&(n=q(e[1]))}}return Object(r["l"])(n)?P(n):null}function $(t){return/^GEOCCS/i.test(t)}function G(t){return/^PROJCS/i.test(t)}const U=1e-7;function q(t){const e=/[\\"\\']{1}([^\\"\\']+)/.exec(t);let i=e&&e[1];if(!i||-1===p.units.indexOf(i)){const e=z(t);i=null;const n=p.values;for(let t=0;t<n.length;++t)if(Math.abs(e-n[t])<U){i=p.units[t];break}}return i}const B={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},H={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},W=Object(n["b"])()(B),J=Object(n["b"])()(H);Object(n["b"])()({...B,...H})},8076:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r}));var n=i("9b40");function r(t){return null!=n["a"][t]}function s(t){return 1/(n["a"][t]||1)}function o(){const t=Object.keys(n["a"]);return t.sort(),t}const a=o()},"80b7":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("c1da");function r(t){return"date"===t.type||"esriFieldTypeDate"===t.type}function s(t){return"oid"===t.type||"esriFieldTypeOID"===t.type}function o(t){return"global-id"===t.type||"esriFieldTypeGlobalID"===t.type}class a{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const e=[];for(const i of t){const t=i&&i.name;if(t){const a=c(t);this._fieldsMap.set(t,i),this._fieldsMap.set(a,i),e.push(a),r(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):Object(n["p"])(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),s(i)||o(i)||(i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable)}}e.sort(),this.uid=e.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)s(t)||o(t)||t.nullable||void 0!==Object(n["o"])(t)||this._requiredFields.push(t)}return this._requiredFields}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(c(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}function c(t){return t.toLowerCase().trim()}},8152:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t=[],e=[],i=!1){this.lengths=null!=t?t:[],this.coords=null!=e?e:[],this.hasIndeterminateRingOrder=i}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,e)=>t+e)}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let i=0;i<this.lengths.length;i++){const n=this.lengths[i];for(let i=0;i<n;i++)t(this.coords[2*(i+e)],this.coords[2*(i+e)+1]);e+=n}}clone(t){return t?(t.set(this.coords),new n(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new n(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},8185:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return p}));var n=i("a4ee"),r=i("ce50"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=class extends s["a"]{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new r["a"]("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};Object(n["a"])([Object(o["b"])({type:Date})],c.prototype,"created",void 0),Object(n["a"])([Object(o["b"])()],c.prototype,"id",void 0),Object(n["a"])([Object(o["b"])()],c.prototype,"portal",void 0),Object(n["a"])([Object(o["b"])()],c.prototype,"title",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],c.prototype,"url",null),Object(n["a"])([Object(o["b"])()],c.prototype,"username",void 0),c=Object(n["a"])([Object(a["a"])("esri.portal.PortalFolder")],c);const l=c;var u,h=i("f1a4");let d=u=class extends s["a"]{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.get("portal.restUrl");return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,i=t&&t.data,n=t&&t.folder,r={method:"post"};e&&(r.query=e.createPostQuery(),null!=i&&("string"==typeof i?r.query.text=i:"object"==typeof i&&(r.query.text=JSON.stringify(i))));let s=this.userContentUrl;return n&&(s+="/"+("string"==typeof n?n:n.id)),this.portal._request(s+"/addItem",r).then(t=>(e.id=t.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}deleteItem(t){let e=this.userContentUrl;return t.ownerFolder&&(e+="/"+t.ownerFolder),this.portal._request(e+`/items/${t.id}/delete`,{method:"post"}).then(()=>{t.id=null,t.portal=null})}deleteItems(t){const e=this.userContentUrl+"/deleteItems",i=t.map(t=>t.id);if(i.length){const n={method:"post",query:{items:i.join(",")}};return this.portal._request(e,n).then(()=>{t.forEach(t=>{t.id=null,t.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const t={query:{num:1}};return this.portal._request(this.userContentUrl,t).then(t=>{let e;return e=t&&t.folders?t.folders.map(t=>{const e=l.fromJSON(t);return e.portal=this.portal,e}):[],e})}fetchGroups(){return this.portal._request(this.url).then(t=>{let e;return e=t&&t.groups?t.groups.map(t=>{const e=h["default"].fromJSON(t);return e.portal=this.portal,e}):[],e})}fetchItems(t){t||(t={});let e,n=this.userContentUrl;return t.folder&&(n+="/"+t.folder.id),Promise.resolve().then(i.bind(null,"a7e1")).then(({default:i})=>{e=i;const r={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal._request(n,{query:r})}).then(t=>{let i;return t&&t.items?(i=t.items.map(t=>{const i=e.fromJSON(t);return i.portal=this.portal,i}),Promise.all(i.map(t=>t.load())).catch(t=>t).then(()=>({items:i,nextStart:t.nextStart,total:t.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+="&w="+t),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new h["default"]({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new r["a"]("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new r["a"]("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new u;return e.sourceJSON=t,e.read(t),e}};Object(n["a"])([Object(o["b"])()],d.prototype,"access",void 0),Object(n["a"])([Object(o["b"])({type:Date})],d.prototype,"created",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"culture",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"description",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"email",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"favGroupId",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"fullName",void 0),Object(n["a"])([Object(o["b"])({type:Date})],d.prototype,"modified",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"orgId",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"portal",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"preferredView",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"privileges",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"region",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"role",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"roleId",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"sourceJSON",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"thumbnail",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],d.prototype,"thumbnailUrl",null),Object(n["a"])([Object(o["b"])()],d.prototype,"units",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],d.prototype,"userContentUrl",null),Object(n["a"])([Object(o["b"])({readOnly:!0})],d.prototype,"url",null),Object(n["a"])([Object(o["b"])()],d.prototype,"username",void 0),Object(n["a"])([Object(o["b"])()],d.prototype,"userType",void 0),d=u=Object(n["a"])([Object(a["a"])("esri.portal.PortalUser")],d);const p=d},8188:function(t,e,i){"use strict";i.d(e,"a",(function(){return R})),i.d(e,"b",(function(){return tt})),i.d(e,"c",(function(){return X})),i.d(e,"d",(function(){return A})),i.d(e,"e",(function(){return L})),i.d(e,"f",(function(){return k})),i.d(e,"g",(function(){return I})),i.d(e,"h",(function(){return at})),i.d(e,"i",(function(){return T})),i.d(e,"j",(function(){return Z})),i.d(e,"k",(function(){return K})),i.d(e,"l",(function(){return E})),i.d(e,"m",(function(){return F})),i.d(e,"n",(function(){return H})),i.d(e,"o",(function(){return $})),i.d(e,"p",(function(){return B})),i.d(e,"q",(function(){return q})),i.d(e,"r",(function(){return J})),i.d(e,"s",(function(){return W})),i.d(e,"t",(function(){return _t})),i.d(e,"u",(function(){return P}));var n=i("ce50"),r=i("38a4"),s=i("b2b2"),o=i("f4cc"),a=i("8048"),c=i("d791"),l=(i("e431"),i("0b2d")),u=i("3af1"),h=i("57dc"),d=i("9415"),p=i("4ae5"),f=i("1219"),b=i("521c"),y=i("f694"),m=i("9180"),g=i("2255"),v=i("d636"),w=i("84e3"),O=i("7f83"),j=i("b0f5");let _=null,x=null,S=null,M={};function k(){return!!_&&Object(d["h"])()}function I(t){return Object(s["k"])(S)&&(S=Promise.all([Object(d["i"])(),Promise.resolve().then(i.bind(null,"f606")).then(t=>t.g),Promise.resolve().then(i.bind(null,"7590"))])),S.then(([,e,{hydratedAdapter:i}])=>{Object(o["u"])(t),x=i,_=e.default,_._enableProjection(d["j"])})}function T(t,e,i=null){return Array.isArray(t)?0===t.length?[]:E(x,t,t[0].spatialReference,e,i):E(x,[t],t.spatialReference,e,i)[0]}function E(t,e,i,n,r=null){if(Object(s["k"])(i)||Object(s["k"])(n))return e;if(R(i,n,r))return e.map(t=>Object(s["t"])(N(t,i,n)));if(Object(s["k"])(r)){const t=w["a"].cacheKey(i,n);void 0!==M[t]?r=M[t]:(r=A(i,n,null),Object(s["k"])(r)&&(r=new w["a"]),M[t]=r)}if(Object(s["k"])(_))throw new C;return _._project(t,e,i,n,r)}function A(t,e,i=null){if(Object(s["k"])(_))throw new C;if(Object(s["k"])(t)||Object(s["k"])(e))return null;const n=_._getTransformation(x,t,e,i,null==i?void 0:i.spatialReference);return null!==n?w["a"].fromGE(n):null}class C extends n["a"]{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function P(t,e){try{const i=T(t,e);if(null==i)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const n=Object(j["a"])(i.type,t.spatialReference,e);return Object(s["l"])(n)&&n(i),i}catch(i){if(!(i instanceof C))throw i;return null}}function R(t,e,i){return!i&&(!!Object(O["d"])(t,e)||Object(O["l"])(t)&&Object(O["l"])(e)&&!!Lt(t,e,Vt))}async function L(t,e,i,n){if(!k())if(Array.isArray(t)){for(const{source:r,dest:s,geographicTransformation:o}of t)if(!R(r,s,o))return I(n)}else if(!R(t,e,i))return I(n)}function N(t,e,i){return t?"x"in t?D(t,e,new p["a"],i,0):"xmin"in t?U(t,e,new u["a"],i,0):"rings"in t?G(t,e,new f["a"],i,0):"paths"in t?V(t,e,new b["a"],i,0):"points"in t?z(t,e,new h["a"],i,0):null:null}function F(t,e,i=e.spatialReference,n=0){return!Object(s["k"])(i)&&Object(s["l"])(D(t,t.spatialReference,e,i,n))}function D(t,e,i,n,r){Ht[0]=t.x,Ht[1]=t.y;const s=t.z;return Ht[2]=void 0!==s?s:r,K(Ht,e,0,Ht,n,0,1)?(i.x=Ht[0],i.y=Ht[1],i.spatialReference=n,void 0===s?(i.z=void 0,i.hasZ=!1):(i.z=Ht[2],i.hasZ=!0),void 0===t.m?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function z(t,e,i,n,r){const{points:s,hasZ:o,hasM:a}=t,c=[],l=s.length,u=[];for(const h of s)u.push(h[0],h[1],o?h[2]:r);if(!K(u,e,0,u,n,0,l))return null;for(let h=0;h<l;++h){const t=3*h,e=u[t],i=u[t+1];o&&a?c.push([e,i,u[t+2],s[h][3]]):o?c.push([e,i,u[t+2]]):a?c.push([e,i,s[h][2]]):c.push([e,i])}return i.points=c,i.spatialReference=n,i.hasZ=o,i.hasM=a,i}function V(t,e,i,n,r){const{paths:s,hasZ:o,hasM:a}=t,c=[];return Y(s,o,a,e,c,n,r)?(i.paths=c,i.spatialReference=n,i.hasZ=o,i.hasM=a,i):null}function $(t,e,i=e.spatialReference,n=0){return Object(s["l"])(i)&&Object(s["l"])(G(t,t.spatialReference,e,i,n))}function G(t,e,i,n,r){const{rings:s,hasZ:o,hasM:a}=t,c=[];return Y(s,o,a,e,c,n,r)?(i.rings=c,i.spatialReference=n,i.hasZ=o,i.hasM=a,i):null}function U(t,e,i,n,r){const{xmin:s,ymin:o,xmax:a,ymax:c,hasZ:l,hasM:u}=t;return W(s,o,l?t.zmin:r,e,Ht,n)?(i.xmin=Ht[0],i.ymin=Ht[1],l&&(i.zmin=Ht[2]),W(a,c,l?t.zmax:r,e,Ht,n)?(i.xmax=Ht[0],i.ymax=Ht[1],l&&(i.zmax=Ht[2]),u&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=n,i):null):null}function q(t,e,i){if(Object(s["k"])(e)||Object(s["k"])(i))return null;const n=new p["a"]({spatialReference:i});return K(t,e,0,Ht,i,0,1)?(n.x=Ht[0],n.y=Ht[1],n.z=Ht[2],n):null}function B(t,e,i){return K(t,e,0,Ht,i.spatialReference,0,1)?(i.x=Ht[0],i.y=Ht[1],i.z=Ht[2],i):null}function H(t,e,i,n=0){Ht[0]=t.x,Ht[1]=t.y;const r=t.z;return Ht[2]=void 0!==r?r:n,K(Ht,t.spatialReference,0,e,i,0,1)}function W(t,e,i,n,r,s){return Ut[0]=t,Ut[1]=e,Ut[2]=i,K(Ut,n,0,r,s,0,1)}function J(t,e,i,n){return!(Object(s["k"])(e)||Object(s["k"])(n)||t.length<2)&&(2===t.length&&(Ut[0]=t[0],Ut[1]=t[1],Ut[2]=0,t=Ut),K(t,e,0,i,n,0,1))}function K(t,e,i,n,r,o,a=1){const c=Lt(e,r,Vt);if(Object(s["k"])(c))return!1;if(c===nt){if(t===n&&i===o)return!0;const e=i+3*a;for(let r=i,s=o;r<e;r++,s++)n[s]=t[r];return!0}const l=i+3*a;for(let s=i,u=o;s<l;s+=3,u+=3)c(t,s,n,u);return!0}function Y(t,e,i,n,r,s,o=0){const a=new Array;for(const l of t)for(const t of l)a.push(t[0],t[1],e?t[2]:o);if(!K(a,n,0,a,s,0,a.length/3))return!1;let c=0;r.length=0;for(const l of t){const t=new Array;for(const n of l)e&&i?t.push([a[c++],a[c++],a[c++],n[3]]):e?t.push([a[c++],a[c++],a[c++]]):i?(t.push([a[c++],a[c++],n[2]]),c++):(t.push([a[c++],a[c++]]),c++);r.push(t)}return!0}function Z(t,e,i,n){return null!=t&&(Object(O["d"])(e,n)?(Object(m["k"])(i,t),!0):(Ut[0]=t[0],Ut[1]=t[1],Ut[2]=0,!!K(Ut,e,0,Ut,n,0,1)&&(i[0]=Ut[0],i[1]=Ut[1],Ut[0]=t[2],Ut[1]=t[3],Ut[2]=0,!!K(Ut,e,0,Ut,n,0,1)&&(i[2]=Ut[0],i[3]=Ut[1],!0))))}function X(t,e,i,n){if(Object(s["k"])(t)||Object(s["k"])(n))return!1;const r=it(t,Dt),o=it(n,zt);if(r===o&&!Q(o)&&(0!==r||Object(O["d"])(t,n)))return Object(c["j"])(i),Object(c["b"])(i,i,e),!0;if(Q(o)){const t=Rt[r][11],n=Rt[11][o];return!Object(s["k"])(t)&&!Object(s["k"])(n)&&(t(e,0,qt,0),n(qt,0,Bt,0),tt($t*qt[0],$t*qt[1],i),i[12]=Bt[0],i[13]=Bt[1],i[14]=Bt[2],!0)}if(!(3!==o&&12!==o||2!==r&&1!==r&&3!==r)){const t=Rt[r][11],n=Rt[11][o];return!Object(s["k"])(t)&&!Object(s["k"])(n)&&(t(e,0,qt,0),n(qt,0,Bt,0),1===r?et($t*qt[0],$t*qt[1],i):Object(c["j"])(i),i[12]=Bt[0],i[13]=Bt[1],i[14]=Bt[2],!0)}return!1}function Q(t){return 1===t||7===t||9===t}function tt(t,e,i){const n=Math.sin(t),r=Math.cos(t),s=Math.sin(e),o=Math.cos(e),a=i;return a[0]=-n,a[4]=-s*r,a[8]=o*r,a[12]=0,a[1]=r,a[5]=-s*n,a[9]=o*n,a[13]=0,a[2]=0,a[6]=o,a[10]=s,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}function et(t,e,i){return tt(t,e,i),Object(c["t"])(i,i),i}function it(t,e){return e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=Object(a["d"])(t,1)),t.wkt===y["a"].wkt?e.spatialReferenceId=1:Object(O["m"])(t)?e.spatialReferenceId=2:Object(O["p"])(t)?e.spatialReferenceId=3:Object(O["k"])(t)?e.spatialReferenceId=12:t.wkt===y["d"].wkt?e.spatialReferenceId=4:4490===t.wkid?e.spatialReferenceId=5:t.wkt===y["b"].wkt?e.spatialReferenceId=7:t.wkt===y["c"].wkt?e.spatialReferenceId=9:Object(O["i"])(t)?e.spatialReferenceId=8:Object(O["j"])(t)?e.spatialReferenceId=10:e.spatialReferenceId=0)}function nt(t,e,i,n){t!==i&&(i[n++]=t[e++],i[n++]=t[e++],i[n]=t[e])}function rt(t,e,i,n){i[n++]=Gt*(t[e++]/g["a"].radius),i[n++]=Gt*(Math.PI/2-2*Math.atan(Math.exp(-t[e++]/g["a"].radius))),i[n]=t[e]}function st(t,e,i,n){rt(t,e,i,n),jt(i,n,i,n)}function ot(t,e,i,n){rt(t,e,i,n),Et(i,n,i,n)}function at(t,e,i,n,s){const o=.4999999*Math.PI,a=Object(r["d"])($t*t[e+1],-o,o),c=Math.sin(a);i[n++]=$t*t[e]*s.radius,i[n++]=s.halfSemiMajorAxis*Math.log((1+c)/(1-c)),i[n]=t[e+2]}function ct(t,e,i,n){at(t,e,i,n,g["a"])}const lt=g["a"].radius*Math.PI/180,ut=180/(g["a"].radius*Math.PI);function ht(t,e,i,n){i[n]=t[e]*lt,i[n+1]=t[e+1]*lt,i[n+2]=t[e+2]}function dt(t,e,i,n){i[n]=t[e]*ut,i[n+1]=t[e+1]*ut,i[n+2]=t[e+2]}function pt(t,e,i,n){rt(t,e,i,n),ht(i,n,i,n)}function ft(t,e,i,n){At(t,e,i,n),ht(i,n,i,n)}function bt(t,e,i,n){Mt(t,e,i,n),ht(i,n,i,n)}function yt(t,e,i,n){dt(t,e,i,n),jt(i,n,i,n)}function mt(t,e,i,n){dt(t,e,i,n),ct(i,n,i,n)}function gt(t,e,i,n){dt(t,e,i,n),Et(i,n,i,n)}function vt(t,e,i,n,r){const s=r+t[e+2],o=$t*t[e+1],a=$t*t[e],c=Math.cos(o);i[n++]=Math.cos(a)*c*s,i[n++]=Math.sin(a)*c*s,i[n]=Math.sin(o)*s}function wt(t,e,i,n){vt(t,e,i,n,g["c"].radius)}function Ot(t,e,i,n){vt(t,e,i,n,g["b"].radius)}function jt(t,e,i,n){vt(t,e,i,n,g["a"].radius)}function _t(t,e,i,n,s){const o=t[e],a=t[e+1],c=t[e+2],l=Math.sqrt(o*o+a*a+c*c),u=Object(r["b"])(c/(0===l?1:l)),h=Math.atan2(a,o);i[n++]=Gt*h,i[n++]=Gt*u,i[n]=l-s}function xt(t,e,i,n){_t(t,e,i,n,g["c"].radius)}function St(t,e,i,n){_t(t,e,i,n,g["b"].radius)}function Mt(t,e,i,n){_t(t,e,i,n,g["a"].radius)}function kt(t,e,i,n){Mt(t,e,i,n),ct(i,n,i,n)}function It(t,e,i,n){Mt(t,e,i,n),Et(i,n,i,n)}function Tt(t,e,i,n,r){const s=$t*t[e],o=$t*t[e+1],a=t[e+2],c=Math.sin(o),l=Math.cos(o),u=r.radius/Math.sqrt(1-r.eccentricitySquared*c*c);i[n++]=(u+a)*l*Math.cos(s),i[n++]=(u+a)*l*Math.sin(s),i[n++]=(u*(1-r.eccentricitySquared)+a)*c}function Et(t,e,i,n){Tt(t,e,i,n,g["a"])}function At(t,e,i,n){const r=v["b"],s=t[e],o=t[e+1],a=t[e+2];let c,l,u,h,d,p,f,b,y,m,w,O,j,_,x,S,M,k,I,T,E;c=Math.abs(a),l=s*s+o*o,u=Math.sqrt(l),h=l+a*a,d=Math.sqrt(h),T=Math.atan2(o,s),p=a*a/h,f=l/h,_=r.a2/d,x=r.a3-r.a4/d,f>.3?(b=c/d*(1+f*(r.a1+_+p*x)/d),I=Math.asin(b),m=b*b,y=Math.sqrt(1-m)):(y=u/d*(1-p*(r.a5-_-f*x)/d),I=Math.acos(y),m=1-y*y,b=Math.sqrt(m)),w=1-g["a"].eccentricitySquared*m,O=g["a"].radius/Math.sqrt(w),j=r.a6*O,_=u-O*y,x=c-j*b,M=y*_+b*x,S=y*x-b*_,k=S/(j/w+M),I+=k,E=M+S*k/2,a<0&&(I=-I),i[n++]=Gt*T,i[n++]=Gt*I,i[n]=E}function Ct(t,e,i,n){At(t,e,i,n),jt(i,n,i,n)}function Pt(t,e,i,n){At(t,e,i,n),ct(i,n,i,n)}const Rt={2:{5:null,8:null,10:null,11:nt,6:nt,1:jt,7:null,9:null,0:null,3:ct,12:ht,2:nt,4:Et},5:{5:nt,8:null,10:null,11:nt,6:nt,1:jt,7:null,9:null,0:null,3:null,12:ht,2:null,4:Et},8:{5:null,8:nt,10:null,11:nt,6:null,1:null,7:Ot,9:null,0:null,3:null,12:null,2:null,4:null},10:{5:null,8:null,10:nt,11:nt,6:null,1:null,7:null,9:wt,0:null,3:null,12:null,2:null,4:null},3:{5:null,8:null,10:null,11:rt,6:rt,1:st,7:null,9:null,0:null,3:nt,12:pt,2:rt,4:ot},4:{5:At,8:null,10:null,11:At,6:At,1:Ct,7:null,9:null,0:null,3:Pt,12:ft,2:At,4:nt},1:{5:Mt,8:null,10:null,11:Mt,6:Mt,1:nt,7:null,9:null,0:null,3:kt,12:bt,2:Mt,4:It},7:{5:null,8:St,10:null,11:St,6:null,1:null,7:nt,9:null,0:null,3:null,12:null,2:null,4:null},9:{5:null,8:null,10:xt,11:xt,6:null,1:null,7:null,9:nt,0:null,3:null,12:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:nt,3:null,12:null,2:null,4:null},11:{5:nt,8:nt,10:nt,11:nt,6:nt,1:jt,7:Ot,9:wt,0:null,3:ct,12:ht,2:nt,4:Et},6:{5:null,8:null,10:null,11:nt,6:nt,1:jt,7:null,9:null,0:null,3:null,12:ht,2:nt,4:Et},12:{5:dt,8:null,10:null,11:dt,6:dt,1:yt,7:null,9:null,0:null,3:mt,12:nt,2:dt,4:gt}};function Lt(t,e,i=Ft()){return Object(s["k"])(t)||Object(s["k"])(e)?null:Nt(t,e,i).projector}function Nt(t,e,i){if(Object(s["k"])(t)||Object(s["k"])(e)||i.source.spatialReference===t&&i.dest.spatialReference===e)return i;const n=it(t,i.source),r=it(e,i.dest);return 0===n&&0===r?Object(O["d"])(t,e)?i.projector=nt:i.projector=null:i.projector=Rt[n][r],i}function Ft(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:nt}}const Dt={spatialReference:null,spatialReferenceId:0},zt={spatialReference:null,spatialReferenceId:0},Vt=Ft(),$t=(Ft(),Object(r["f"])(1)),Gt=Object(r["l"])(1),Ut=Object(l["f"])(),qt=Object(l["f"])(),Bt=Object(l["f"])(),Ht=Object(l["f"])();Object(l["f"])()},8246:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return c})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return h})),i.d(e,"i",(function(){return u}));const n=[252,146,31,255],r=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},c={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},h={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},8249:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("e041");const r=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function s(t){const e=Object(n["m"])(t,!0);return e&&e.endsWith(".arcgis.com")&&!r.includes(e)&&!t.endsWith("/sharing/rest/generateToken")}},"825a":function(t,e,i){var n=i("da84"),r=i("861d"),s=n.String,o=n.TypeError;t.exports=function(t){if(r(t))return t;throw o(s(t)+" is not an object")}},"82e4":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("1fd7"),r=i("0b86"),s=i("6174"),o=i("0d93"),a=i("35c9");const c={types:n["i"],json:{write:{writer:s["b"]},origins:{"web-scene":{types:n["j"],write:{writer:s["b"]},read:{reader:Object(r["b"])({types:n["j"]})}}}}},l={types:{base:o["a"],key:"type",typeMap:{"simple-fill":n["e"].typeMap["simple-fill"],"picture-fill":n["e"].typeMap["picture-fill"],"polygon-3d":n["e"].typeMap["polygon-3d"]}},json:{write:{writer:s["b"]},origins:{"web-scene":{type:a["a"],write:{writer:s["b"]}}}}}},"82fa":function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return o}));i("e06a");var n=i("b2b2"),r=i("5996");let s;function o(){return s||(s=(async()=>{const t=await i.e("chunk-66bef568").then(i.bind(null,"084f"));return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})()),s}const a=(t,e,i)=>u.create(t,e,i,null,["$feature"]),c=(t,e,i)=>u.create(t,e,i,null,["$feature","$view"]),l=(t,e,i,n)=>u.create(t,e,i,n,["$feature","$view"]);class u{constructor(t,e,i,n,r,s,o,a){this.script=t,this.evaluate=r;const c=Array.isArray(o)?o:o.fields;this.fields=c,this._syntaxTree=n,this._arcade=e,this._arcadeDictionary=i,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=e.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,e,i,s,a,c){const{arcade:l,Feature:h,Dictionary:d}=await o(),p=r["a"].fromJSON(e),f=l.parseScript(t,c),b=a.reduce((t,e)=>({...t,[e]:null}),{});let y=null;Object(n["l"])(s)&&(y=new d(s),y.immutable=!0,b.$config=null);const m=l.scriptUsesGeometryEngine(f)&&l.enableGeometrySupport(),g=l.scriptUsesFeatureSet(f)&&l.enableFeatureSetSupport(),v=l.scriptIsAsync(f)&&l.enableAsyncSupport(),w={vars:b,spatialReference:p,useAsync:!!v},O=new d;O.immutable=!1,O.setField("scale",0);const j=l.compileScript(f,w),_=t=>("$view"in t&&t.$view&&(O.setField("scale",t.$view.scale),t.$view=O),y&&(t.$config=y),j({vars:t,spatialReference:p}));return await Promise.all([m,g,v]),new u(t,l,d,f,_,new h,i,p)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(t){return this._arcadeFeature.repurposeFromAdapter(t,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},"83ab":function(t,e,i){var n=i("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,i){"use strict";var n=i("a04b"),r=i("9bf2"),s=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?r.f(t,o,s(0,i)):t[o]=i}},8491:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n=i("a4ee"),r=i("4adc"),s=(i("b50f"),i("c120"),i("cea0"),i("59b2")),o=i("d386"),a=i("121a"),c=i("cb72"),l=i("ce50"),u=i("ce6d"),h=i("28c0");let d=class extends(Object(h["a"])(u["a"].EventedAccessor)){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){if(!this.get("view.ready"))throw new l["a"]("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await this.view.when(),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch(e){}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};Object(n["a"])([Object(s["b"])()],d.prototype,"_goingHomeController",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],d.prototype,"state",null),Object(n["a"])([Object(s["b"])()],d.prototype,"view",null),Object(n["a"])([Object(s["b"])({type:c["a"]})],d.prototype,"viewpoint",null),Object(n["a"])([Object(s["b"])()],d.prototype,"go",null),Object(n["a"])([Object(s["b"])()],d.prototype,"cancelGo",null),d=Object(n["a"])([Object(o["a"])("esri.widgets.Home.HomeViewModel")],d);const p=d;var f=i("8750"),b=i("755e"),y=(i("e92d"),i("feab")),m=i("d822");i("702a");const g={base:"esri-home esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",homeIcon:"esri-icon esri-icon-home",loadingIcon:"esri-icon-loading-indicator",rotatingIcon:"esri-rotating",widgetIcon:"esri-icon-home",disabled:"esri-disabled"};let v=class extends a["a"]{constructor(t,e){super(t,e),this.goToOverride=null,this.iconClass=g.widgetIcon,this.label=void 0,this.messages=null,this.messagesCommon=null,this.view=null,this.viewModel=new p,this.viewpoint=null}get homeTitle(){var t;const e=null==(t=this.viewModel)?void 0:t.state,{messagesCommon:i,messages:n}=this;return"going-home"===e?i.cancel:n.title}cancelGo(){return null}go(){return null}render(){var t;const e=null==(t=this.viewModel)?void 0:t.state,{homeTitle:i}=this,n={[g.disabled]:"disabled"===e};return Object(m["a"])("div",{bind:this,class:this.classes(g.base,n),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":i,title:i},this.renderIcon(),this.renderText())}renderIcon(){var t;const e=null==(t=this.viewModel)?void 0:t.state,i={[g.loadingIcon]:"going-home"===e,[g.rotatingIcon]:"going-home"===e};return Object(m["a"])("span",{"aria-hidden":"true",class:this.classes(g.homeIcon,i)})}renderText(){const{messages:t}=this;return Object(m["a"])("span",{class:g.text},t.button)}_go(){const{viewModel:t}=this;"going-home"===t.state?t.cancelGo():t.go()}};Object(n["a"])([Object(r["a"])("viewModel.goToOverride")],v.prototype,"goToOverride",void 0),Object(n["a"])([Object(s["b"])({readOnly:!0})],v.prototype,"homeTitle",null),Object(n["a"])([Object(s["b"])()],v.prototype,"iconClass",void 0),Object(n["a"])([Object(s["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],v.prototype,"label",void 0),Object(n["a"])([Object(s["b"])(),Object(b["a"])("esri/widgets/Home/t9n/Home")],v.prototype,"messages",void 0),Object(n["a"])([Object(s["b"])(),Object(b["a"])("esri/t9n/common")],v.prototype,"messagesCommon",void 0),Object(n["a"])([Object(r["a"])("viewModel.view")],v.prototype,"view",void 0),Object(n["a"])([Object(s["b"])({type:p}),Object(y["a"])("go")],v.prototype,"viewModel",void 0),Object(n["a"])([Object(r["a"])("viewModel.viewpoint")],v.prototype,"viewpoint",void 0),Object(n["a"])([Object(r["a"])("viewModel.cancelGo")],v.prototype,"cancelGo",null),Object(n["a"])([Object(r["a"])("viewModel.go")],v.prototype,"go",null),Object(n["a"])([Object(f["a"])()],v.prototype,"_go",null),v=Object(n["a"])([Object(o["a"])("esri.widgets.Home")],v);const w=v},"84e3":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));let n=0;class r{constructor(t=null){this.uid=n++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const e=new r;return e._wkt=t.wkt,e._wkid=t.wkid,e._isInverse=t.isInverse,e}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=n++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=n++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=n++}getInverse(){const t=new r;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class s{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const e of t.steps)e instanceof r?this.steps.push(e):this.steps.push(new r({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))}static cacheKey(t,e){return[void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():"",void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():""].join(",")}static fromGE(t){const e=new s;let i="";for(const n of t.steps){const t=r.fromGE(n);e.steps.push(t),i+=t.uid.toString()+","}return e._cached_projection={},e._gtlistentry=null,e._chain=i,e}getInverse(){const t=new s;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const i=this.steps[e];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(const e of this.steps)t+=e.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,e,i){this._cached_projection[s.cacheKey(t,e)]=i}getCachedGeTransformation(t,e){let i="";for(const r of this.steps)i+=r.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=i);const n=this._cached_projection[s.cacheKey(t,e)];return void 0===n?null:n}}},"861d":function(t,e,i){var n=i("1626");t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},"86e7":function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l}));var n=i("8048"),r=i("7f83"),s=i("9392"),o=i("eed5"),a=i("8152");const c=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class l{constructor(t){this.options=t,this.geometryTypes=c,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new o["a"]}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this.options.sourceSpatialReference||!t.spatialReference||Object(r["d"])(t.spatialReference,this.options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const e=Object(n["e"])(this.options.sourceSpatialReference)/Object(n["e"])(t.spatialReference);if(1!==e)for(const i of t.features){if(!Object(s["c"])(i))continue;const t=i.geometry.coords;for(let i=2;i<t.length;i+=3)t[i]*=e}}addFeature(t,e){t.features.push(e)}createFeature(){return new s["b"]}createSpatialReference(){return{wkid:0}}createGeometry(){return new a["a"]}addField(t,e){t.fields.push(e)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((t,e)=>t+e,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,e){t.coords[this._coordinatePtr++]=e}addCoordinatePoint(t,e){t.coords.push(e)}addLength(t,e){t.lengths.push(e)}addQueryGeometry(t,e){t.queryGeometry=e.queryGeometry,t.queryGeometryType=e.queryGeometryType}createPointGeometry(){return new a["a"]}}},"86f2":function(t,e,i){"use strict";function n(t){return t&&"esri.renderers.visualVariables.SizeVariable"===t.declaredClass}function r(t){return null!=t&&!isNaN(t)&&isFinite(t)}function s(t){return t.valueExpression?"expression":t.field&&"string"==typeof t.field?"field":"unknown"}function o(t,e){const i=e||s(t),n=t.valueUnit||"unknown";return"unknown"===i?"constant":t.stops?"stops":null!=t.minSize&&null!=t.maxSize&&null!=t.minDataValue&&null!=t.maxDataValue?"clamped-linear":"unknown"===n?null!=t.minSize&&null!=t.minDataValue?t.minSize&&t.minDataValue?"proportional":"additive":"identity":"real-world-size"}i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return r}))},8750:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("702a");function r(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${e}'`);return{value:o(t[e])}}}function s(t){const{type:e}=t;return t instanceof KeyboardEvent||"keyup"===e||"keydown"===e||"keypress"===e}function o(t){return function(e,...i){s(e)?Object(n["f"])(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}},8802:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("a4ee"),r=i("fa8a");const s=Object(r["b"])()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});s.toJSON.bind(s),s.fromJSON.bind(s);var o,a=i("6a0e"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0")),u=i("448d"),h=i("d386"),d=i("4653"),p=i("21e2");let f=o=class extends a["a"]{constructor(t){super(t),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new o({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(t){return this.dateFormat?Object(d["b"])(t,{...Object(d["a"])(this.dateFormat),...this.dateTimeFormatOptions}):Object(p["b"])(t,Object(p["a"])(this))}};Object(n["a"])([Object(u["a"])(s)],f.prototype,"dateFormat",void 0),Object(n["a"])([Object(c["b"])({type:Object,json:{read:!1}})],f.prototype,"dateTimeFormatOptions",void 0),Object(n["a"])([Object(c["b"])({type:Boolean,json:{write:!0}})],f.prototype,"digitSeparator",void 0),Object(n["a"])([Object(c["b"])({type:l["a"],json:{write:!0}})],f.prototype,"places",void 0),f=o=Object(n["a"])([Object(h["a"])("esri.popup.support.FieldInfoFormat")],f);const b=f},"880c":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(t){super(t)}clone(){}};Object(n["a"])([Object(s["b"])({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=Object(n["a"])([Object(o["a"])("esri.symbols.patterns.LinePattern3D")],a);const c=a},"880d":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t=1){this._seed=t}set seed(t){this._seed=null==t?Math.random()*n._m:t}getInt(){return this._seed=(n._a*this._seed+n._c)%n._m,this._seed}getFloat(){return this.getInt()/(n._m-1)}getIntRange(t,e){return Math.round(this.getFloatRange(t,e))}getFloatRange(t,e){const i=e-t;return t+this.getInt()/n._m*i}}n._m=2147483647,n._a=48271,n._c=0},8925:function(t,e,i){var n=i("e330"),r=i("1626"),s=i("c6cd"),o=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},"89da":function(t,e,i){"use strict";i.d(e,"a",(function(){return ht})),i.d(e,"b",(function(){return lt})),i.d(e,"c",(function(){return ut})),i.d(e,"d",(function(){return F})),i.d(e,"e",(function(){return P})),i.d(e,"f",(function(){return J})),i.d(e,"g",(function(){return rt})),i.d(e,"h",(function(){return q})),i.d(e,"i",(function(){return x})),i.d(e,"j",(function(){return ct})),i.d(e,"k",(function(){return ft})),i.d(e,"l",(function(){return mt})),i.d(e,"m",(function(){return yt})),i.d(e,"n",(function(){return _})),i.d(e,"o",(function(){return gt})),i.d(e,"p",(function(){return E})),i.d(e,"q",(function(){return B})),i.d(e,"r",(function(){return S})),i.d(e,"s",(function(){return M})),i.d(e,"t",(function(){return Q})),i.d(e,"u",(function(){return Ot})),i.d(e,"v",(function(){return vt})),i.d(e,"w",(function(){return D})),i.d(e,"x",(function(){return $})),i.d(e,"y",(function(){return A})),i.d(e,"z",(function(){return X})),i.d(e,"A",(function(){return Z})),i.d(e,"B",(function(){return R})),i.d(e,"C",(function(){return Y})),i.d(e,"D",(function(){return jt})),i.d(e,"E",(function(){return L})),i.d(e,"F",(function(){return N})),i.d(e,"G",(function(){return I})),i.d(e,"H",(function(){return Mt})),i.d(e,"I",(function(){return T})),i.d(e,"J",(function(){return G})),i.d(e,"K",(function(){return z})),i.d(e,"L",(function(){return U})),i.d(e,"M",(function(){return V})),i.d(e,"N",(function(){return at})),i.d(e,"O",(function(){return tt})),i.d(e,"P",(function(){return it})),i.d(e,"Q",(function(){return _t})),i.d(e,"R",(function(){return k})),i.d(e,"S",(function(){return St})),i.d(e,"T",(function(){return C})),i.d(e,"U",(function(){return ot})),i.d(e,"V",(function(){return nt}));var n=i("a6ac"),r=i("a9e6"),s=i("9098"),o=i("436b"),a=i("f4cc"),c=i("3af1"),l=i("3760"),u=i("57dc"),h=i("4ae5"),d=i("1219"),p=i("521c"),f=i("1315"),b=i("b2b2"),y=i("7015"),m=i("32ed"),g=i("2035");class v{constructor(t){this.value=t}}class w{constructor(t){this.value=t}}class O{constructor(t){this.fn=t}}class j{constructor(t,e){this.paramCount=e,this.fn=t}}const _=O,x=w,S=v,M=j,k={type:"VOID"},I={type:"BREAK"},T={type:"CONTINUE"};function E(t,e,i){return""===e||null==e||e===i||e===i?t:t=t.split(e).join(i)}function A(t){return t instanceof O||t instanceof n["a"]||t instanceof j}function C(t){return!!R(t)||!!N(t)||!!G(t)||!!L(t)||null===t||t===k||"number"==typeof t}function P(t,e){return void 0===t?e:t}function R(t){return"string"==typeof t||t instanceof String}function L(t){return"boolean"==typeof t}function N(t){return"number"==typeof t}function F(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function D(t){return t instanceof Array}function z(t){return!0===(t&&t.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===t.declaredRootClass)}function V(t){return!0===(t&&t.declaredRootClass&&"esri.arcade.featureSetCollection"===t.declaredRootClass)}function $(t){return t instanceof r["a"]}function G(t){return t instanceof Date}function U(t,e,i){if(t.length<e||t.length>i)throw new Error("Function called with wrong number of Parameters")}function q(t){return t<0?-Math.round(-t):Math.round(t)}function B(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)}))}function H(t,e){return!1===isNaN(t)?null==e||""===e?t.toString():(e=E(e,"‰",""),e=E(e,"¤",""),Object(y["b"])(t,{pattern:e})):t.toString()}function W(t,e){const i=f["DateTime"].fromJSDate(t);return null==e||""===e?i.toISO({suppressMilliseconds:!0}):i.toFormat(J(e),{locale:Object(g["b"])(),numberingSystem:"latn"})}function J(t){t=t.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let e="";const i=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of t.match(i))switch(n){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"Z":e+="ZZ";break;case"ZZ":e+="ZZZ";break;case"S":e+="'S'";break;case"SS":e+="'SS'";break;case"SSS":e+="u";break;case"A":case"a":e+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":e+=n;break;default:n.length>=2&&"["===n.slice(0,1)&&"]"===n.slice(-1)?e+=`'${n.slice(1,-1)}'`:e+=`'${n}'`}return e}function K(t,e,i){switch(i){case">":return t>e;case"<":return t<e;case">=":return t>=e;case"<=":return t<=e}return!1}function Y(t,e,i){if(null===t){if(null===e||e===k)return K(null,null,i);if(N(e))return K(0,e,i);if(R(e))return K(0,it(e),i);if(L(e))return K(0,it(e),i);if(G(e))return K(0,e.getTime(),i)}if(t===k){if(null===e||e===k)return K(null,null,i);if(N(e))return K(0,e,i);if(R(e))return K(0,it(e),i);if(L(e))return K(0,it(e),i);if(G(e))return K(0,e.getTime(),i)}else if(N(t)){if(N(e))return K(t,e,i);if(L(e))return K(t,it(e),i);if(null===e||e===k)return K(t,0,i);if(R(e))return K(t,it(e),i);if(G(e))return K(t,e.getTime(),i)}else if(R(t)){if(R(e))return K(X(t),X(e),i);if(G(e))return K(it(t),e.getTime(),i);if(N(e))return K(it(t),e,i);if(null===e||e===k)return K(it(t),0,i);if(L(e))return K(it(t),it(e),i)}else if(G(t)){if(G(e))return K(t,e,i);if(null===e||e===k)return K(t.getTime(),0,i);if(N(e))return K(t.getTime(),e,i);if(L(e))return K(t.getTime(),it(e),i);if(R(e))return K(t.getTime(),it(e),i)}else if(L(t)){if(L(e))return K(t,e,i);if(N(e))return K(it(t),it(e),i);if(G(e))return K(it(t),e.getTime(),i);if(null===e||e===k)return K(it(t),0,i);if(R(e))return K(it(t),it(e),i)}return!!Z(t,e)&&("<="===i||">="===i)}function Z(t,e){if(t===e)return!0;if(null===t&&e===k||null===e&&t===k)return!0;if(G(t)&&G(e))return t.getTime()===e.getTime();if(t instanceof s["a"])return t.equalityTest(e);if(t instanceof o["a"])return t.equalityTest(e);if(t instanceof h["a"]&&e instanceof h["a"]){const i=t.cache._arcadeCacheId,n=e.cache._arcadeCacheId;if(null!=i)return i===n}if(void 0!==t&&void 0!==e&&null!==t&&null!==e&&"object"==typeof t&&"object"==typeof e){if(t._arcadeCacheId===e._arcadeCacheId&&void 0!==t._arcadeCacheId&&null!==t._arcadeCacheId)return!0;if(t._underlyingGraphic===e._underlyingGraphic&&void 0!==t._underlyingGraphic&&null!==t._underlyingGraphic)return!0}return!1}function X(t,e){if(R(t))return t;if(null===t)return"";if(N(t))return H(t,e);if(L(t))return t.toString();if(G(t))return W(t,e);if(t instanceof l["a"])return JSON.stringify(t.toJSON());if(D(t)){const e=[];for(let i=0;i<t.length;i++)e[i]=et(t[i]);return"["+e.join(",")+"]"}if(t instanceof r["a"]){const e=[];for(let i=0;i<t.length();i++)e[i]=et(t.get(i));return"["+e.join(",")+"]"}return null!==t&&"object"==typeof t&&void 0!==t.castToText?t.castToText():A(t)?"object, Function":""}function Q(t){const e=[];if(!1===D(t))return null;if(t instanceof r["a"]){for(let i=0;i<t.length();i++)e[i]=it(t.get(i));return e}for(let i=0;i<t.length;i++)e[i]=it(t[i]);return e}function tt(t,e){if(R(t))return t;if(null===t)return"";if(N(t))return H(t,e);if(L(t))return t.toString();if(G(t))return W(t,e);if(t instanceof l["a"])return t instanceof c["a"]?'{"xmin":'+t.xmin.toString()+',"ymin":'+t.ymin.toString()+","+(t.hasZ?'"zmin":'+t.zmin.toString()+",":"")+(t.hasM?'"mmin":'+t.mmin.toString()+",":"")+'"xmax":'+t.xmax.toString()+',"ymax":'+t.ymax.toString()+","+(t.hasZ?'"zmax":'+t.zmax.toString()+",":"")+(t.hasM?'"mmax":'+t.mmax.toString()+",":"")+'"spatialReference":'+pt(t.spatialReference)+"}":pt(t.toJSON(),(t,e)=>t.key===e.key?0:"spatialReference"===t.key?1:"spatialReference"===e.key||t.key<e.key?-1:t.key>e.key?1:0);if(D(t)){const e=[];for(let i=0;i<t.length;i++)e[i]=et(t[i]);return"["+e.join(",")+"]"}if(t instanceof r["a"]){const e=[];for(let i=0;i<t.length();i++)e[i]=et(t.get(i));return"["+e.join(",")+"]"}return null!==t&&"object"==typeof t&&void 0!==t.castToText?t.castToText():A(t)?"object, Function":""}function et(t){if(null===t)return"null";if(L(t)||N(t)||R(t))return JSON.stringify(t);if(t instanceof l["a"])return tt(t);if(t instanceof r["a"])return tt(t);if(t instanceof Array)return tt(t);if(t instanceof Date)return JSON.stringify(W(t,""));if(null!==t&&"object"==typeof t){if(void 0!==t.castToText)return t.castToText()}else if(t===k)return"null";return"null"}function it(t,e){return N(t)?t:null===t||""===t?0:G(t)?NaN:L(t)?t?1:0:D(t)||""===t||void 0===t?NaN:void 0!==e&&R(t)?(e=E(e,"‰",""),e=E(e,"¤",""),Object(y["d"])(t,{pattern:e})):t===k?0:Number(t)}function nt(t){if(G(t))return t;if(R(t)){const e=st(t);if(e)return e.toJSDate()}return null}function rt(t){return G(t)?f["DateTime"].fromJSDate(t):R(t)?st(t):null}function st(t){const e=/ (\d\d)/;let i=f["DateTime"].fromISO(t);return i.isValid||e.test(t)&&(t=t.replace(e,"T$1"),i=f["DateTime"].fromISO(t),i.isValid)?i:null}function ot(t){return L(t)?t:R(t)?"true"===(t=t.toLowerCase()):!!N(t)&&0!==t&&!isNaN(t)}function at(t,e){return Object(b["k"])(t)?null:(null!==t.spatialReference&&void 0!==t.spatialReference||(t.spatialReference=e),t)}function ct(t){if(null===t)return null;if(t instanceof h["a"])return"NaN"===t.x||null===t.x||isNaN(t.x)?null:t;if(t instanceof d["a"]){if(0===t.rings.length)return null;for(const e of t.rings)if(e.length>0)return t;return null}if(t instanceof p["a"]){if(0===t.paths.length)return null;for(const e of t.paths)if(e.length>0)return t;return null}return t instanceof u["a"]?0===t.points.length?null:t:t instanceof c["a"]?"NaN"===t.xmin||null===t.xmin||isNaN(t.xmin)?null:t:null}function lt(t,e){if(!t)return e;if(!t.domain)return e;let i=null;if("string"===t.field.type||"esriFieldTypeString"===t.field.type)e=X(e);else{if(null==e)return null;if(""===e)return e;e=it(e)}for(let n=0;n<t.domain.codedValues.length;n++){const r=t.domain.codedValues[n];r.code===e&&(i=r)}return null===i?e:i.name}function ut(t,e){if(!t)return e;if(!t.domain)return e;let i=null;e=X(e);for(let n=0;n<t.domain.codedValues.length;n++){const r=t.domain.codedValues[n];r.name===e&&(i=r)}return null===i?e:i.code}function ht(t,e,i=null,n){if(!e)return null;if(!e.fields)return null;let r,s,o=null;for(let a=0;a<e.fields.length;a++){const i=e.fields[a];i.name.toLowerCase()===t.toString().toLowerCase()&&(o=i)}if(null===o)throw new Error("Field not found");return n||(n=i&&e.typeIdField&&i._field(e.typeIdField)),null!=n&&e.types.some((function(t){return t.id===n&&(r=t.domains&&t.domains[o.name],r&&"inherited"===r.type&&(r=dt(o.name,e),s=!0),!0)})),s||r||(r=dt(t,e)),{field:o,domain:r}}function dt(t,e){let i;return e.fields.some((function(e){return e.name.toLowerCase()===t.toLowerCase()&&(i=e.domain),!!i})),i}function pt(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});const i="boolean"==typeof e.cycles&&e.cycles,n=e.cmp&&(r=e.cmp,function(t){return function(e,i){const n={key:e,value:t[e]},s={key:i,value:t[i]};return r(n,s)}});var r;const s=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0===e)return;if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);let r,o;if(Array.isArray(e)){for(o="[",r=0;r<e.length;r++)r&&(o+=","),o+=t(e[r])||"null";return o+"]"}if(null===e)return"null";if(-1!==s.indexOf(e)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const a=s.push(e)-1,c=Object.keys(e).sort(n&&n(e));for(o="",r=0;r<c.length;r++){const i=c[r],n=t(e[i]);n&&(o&&(o+=","),o+=JSON.stringify(i)+":"+n)}return s.splice(a,1),"{"+o+"}"}(t)}function ft(t){if(null===t)return null;const e=[];for(const i of t)i&&(i.declaredClass&&"esri.arcade.Feature"===i.declaredClass||"FeatureSetReader"===i.type)?e.push(i.geometry()):e.push(i);return e}function bt(t,e){if(!(e instanceof h["a"]))throw new Error("Invalid Argument");t.push(e.hasZ?e.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])}function yt(t,e){if(D(t)||$(t)){let i=!1,n=!1,r=[],s=e;if(D(t)){for(const e of t)bt(r,e);r.length>0&&(s=t[0].spatialReference,i=t[0].hasZ,n=t[0].hasM)}else if(t instanceof o["a"])r=t._elements,r.length>0&&(i=t._hasZ,n=t._hasM,s=t.get(0).spatialReference);else{if(!$(t))throw new Error("Invalid Argument");for(const e of t.toArray())bt(r,e);r.length>0&&(s=t.get(0).spatialReference,i=!0===t.get(0).hasZ,n=!0===t.get(0).hasM)}return 0===r.length?null:(!1===Object(m["g"])(r,n,i)&&(r=r.slice(0).reverse()),new d["a"]({rings:[r],spatialReference:s,hasZ:i,hasM:n}))}return t}function mt(t,e){if(D(t)||$(t)){let i=!1,n=!1,r=[],s=e;if(D(t)){for(const e of t)bt(r,e);r.length>0&&(s=t[0].spatialReference,i=!0===t[0].hasZ,n=!0===t[0].hasM)}else if(t instanceof o["a"])r=t._elements,r.length>0&&(i=t._hasZ,n=t._hasM,s=t.get(0).spatialReference);else if($(t)){for(const e of t.toArray())bt(r,e);r.length>0&&(s=t.get(0).spatialReference,i=!0===t.get(0).hasZ,n=!0===t.get(0).hasM)}return 0===r.length?null:new p["a"]({paths:[r],spatialReference:s,hasZ:i,hasM:n})}return t}function gt(t,e){if(D(t)||$(t)){let i=!1,n=!1,r=[],s=e;if(D(t)){for(const e of t)bt(r,e);r.length>0&&(s=t[0].spatialReference,i=!0===t[0].hasZ,n=!0===t[0].hasM)}else if(t instanceof o["a"])r=t._elements,r.length>0&&(i=t._hasZ,n=t._hasM,s=t.get(0).spatialReference);else if($(t)){for(const e of t.toArray())bt(r,e);r.length>0&&(s=t.get(0).spatialReference,i=!0===t.get(0).hasZ,n=!0===t.get(0).hasM)}return 0===r.length?null:new u["a"]({points:r,spatialReference:s,hasZ:i,hasM:n})}return t}function vt(t,e=!1){const i=[];if(null===t)return i;if(!0===D(t)){for(let n=0;n<t.length;n++){const r=X(t[n]);""===r&&!0!==e||i.push(r)}return i}if(t instanceof r["a"]){for(let n=0;n<t.length();n++){const r=X(t.get(n));""===r&&!0!==e||i.push(r)}return i}if(C(t)){const n=X(t);return""===n&&!0!==e||i.push(n),i}return[]}let wt=0;function Ot(t){return wt++,wt%100==0?(wt=0,Object(a["c"])(e=>{setTimeout(()=>{e(t)},0)})):t}function jt(t,e,i){switch(i){case"&":return t&e;case"|":return t|e;case"^":return t^e;case"<<":return t<<e;case">>":return t>>e;case">>>":return t>>>e}}function _t(t,e=null){return null==t?null:L(t)||N(t)||R(t)?t:t instanceof l["a"]?!0===(null==e?void 0:e.keepGeometryType)?t:t.toJSON():t instanceof r["a"]?t.toArray().map(t=>_t(t,e)):t instanceof Array?t.map(t=>_t(t,e)):t instanceof Date?t:null!==t&&"object"==typeof t&&void 0!==t.castAsJson?t.castAsJson(e):null}function xt(t,e,i,n,r){return St(t,e,i).then(t=>{r[n]=t})}function St(t,e=null,i=null){if(t instanceof r["a"]&&(t=t.toArray()),null==t)return Object(a["s"])(null);if(C(t)||t instanceof l["a"]||t instanceof Date)return Object(a["s"])(_t(t,i));if(t instanceof Array){const n=[],r=[];for(const s of t)null===s||C(s)||s instanceof l["a"]||s instanceof Date?r.push(_t(s,i)):(r.push(null),n.push(xt(s,e,i,r.length-1,r)));return n.length>0?Object(a["b"])(n).then(()=>r):Object(a["s"])(r)}return null!==t&&"object"==typeof t&&void 0!==t.castAsJsonAsync?t.castAsJsonAsync(e,i):Object(a["s"])(null)}const Mt=Object.freeze({__proto__:null,ReturnResultE:v,ImplicitResultE:w,NativeFunctionE:O,SizzleFunctionE:j,NativeFunction:_,ImplicitResult:x,ReturnResult:S,SizzleFunction:M,voidOperation:k,breakResult:I,continueResult:T,multiReplace:E,isFunctionParameter:A,isSimpleType:C,defaultUndefined:P,isString:R,isBoolean:L,isNumber:N,isInteger:F,isArray:D,isFeatureSet:z,isFeatureSetCollection:V,isImmutableArray:$,isDate:G,pcCheck:U,absRound:q,generateUUID:B,formatNumber:H,formatDate:W,standardiseDateFormat:J,greaterThanLessThan:Y,equalityTest:Z,toString:X,toNumberArray:Q,toStringExplicit:tt,toNumber:it,toDate:nt,toDateTime:rt,toBoolean:ot,fixSpatialReference:at,fixNullGeometry:ct,getDomainValue:lt,getDomainCode:ut,getDomain:ht,stableStringify:pt,autoCastFeatureToGeometry:ft,autoCastArrayOfPointsToPolygon:yt,autoCastArrayOfPointsToPolyline:mt,autoCastArrayOfPointsToMultiPoint:gt,toStringArray:vt,tick:Ot,binaryOperator:jt,castAsJson:_t,castAsJsonAsync:St})},"8a44":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n,r=i("b50f");!function(t){const e=(t,e,i,n)=>{let r=e,s=e;const o=i>>>1,a=t[r-1];for(;s<=o;){s=r<<1,s<i&&n(t[s-1],t[s])<0&&++s;const e=t[s-1];if(n(e,a)<=0)break;t[r-1]=e,r=s}t[r-1]=a},i=(t,e)=>t<e?-1:t>e?1:0;function n(t,n,r,s){void 0===n&&(n=0),void 0===r&&(r=t.length),void 0===s&&(s=i);for(let i=r>>>1;i>n;i--)e(t,i,r,s);const o=n+1;for(let i=r-1;i>n;i--){const r=t[n];t[n]=t[i],t[i]=r,e(t,o,i,s)}}function*r(t,n,r,s){void 0===n&&(n=0),void 0===r&&(r=t.length),void 0===s&&(s=i);for(let i=r>>>1;i>n;i--)e(t,i,r,s),yield;const o=n+1;for(let i=r-1;i>n;i--){const r=t[n];t[n]=t[i],t[i]=r,e(t,o,i,s),yield}}t.sort=n,t.iterableSort=r}(n||(n={}));const s=n,o=1.5,a=1.1;class c{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new r["a"],t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>l(this)))}toArray(){return this.data.slice(0,this.length)}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let i=0;i<e;i++)this.data[this._length++]=t[i]}fill(t,e){for(let i=0;i<e;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,l(this)}pop(){if(0===this.length)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=Object(r["e"])(this.data,t,this.length,this._hint);if(-1!==e)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){const e=Object(r["i"])(this.data,t,this.length,this._hint);return void 0!==e&&(this.length=this.length-1),this._shrink(),e}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,i){this.length=Object(r["j"])(this.data,t,this.length,e,this._hint,i),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(t,e){t>=this.length||e>=this.length||t===e||([this.data[t],this.data[e]]=[this.data[e],this.data[t]])}sort(t){s.sort(this.data,0,this.length,t)}iterableSort(t){return s.iterableSort(this.data,0,this.length,t)}some(t,e){for(let i=0;i<this.length;++i)if(t.call(e,this.data[i],i,this.data))return!0;return!1}filterInPlace(t,e){let i=0;for(let n=0;n<this._length;++n){const r=this.data[n];t.call(e,r,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=r,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(t,e){const i=this.length,n=this.data;for(let r=0;r<i;++r)t.call(e,n[r],r,n)}forEach(t,e){for(let i=0;i<this.length;++i)t.call(e,this.data[i],i,this.data)}map(t,e){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=t.call(e,this.data[n],n,this.data);return i}reduce(t,e){let i=e;for(let n=0;n<this.length;++n)i=t(i,this.data[n],n,this.data);return i}has(t){const e=this.length,i=this.data;for(let n=0;n<e;++n)if(i[n]===t)return!0;return!1}}function l(t){t.data.length>o*t.length&&(t.data.length=Math.floor(t.length*a))}},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"8b28":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386"));const o=t=>{let e=class extends t{constructor(){super(...arguments),this.customParameters=null}};return Object(n["a"])([Object(r["b"])({type:Object,json:{write:{overridePolicy:t=>({enabled:!!(t&&Object.keys(t).length>0)})}}})],e.prototype,"customParameters",void 0),e=Object(n["a"])([Object(s["a"])("esri.layers.mixins.CustomParametersMixin")],e),e}},"8c11":function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return p}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("448d")),l=i("d386"),u=i("fcf2");const h=Object(s["b"])()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let d=n=class extends o["a"]{clone(){return new n({href:this.href,primitive:this.primitive})}};Object(r["a"])([Object(a["b"])({type:String,json:{read:u["d"],write:u["f"]}})],d.prototype,"href",void 0),Object(r["a"])([Object(c["a"])(h)],d.prototype,"primitive",void 0),d=n=Object(r["a"])([Object(l["a"])("esri.symbols.support.ObjectSymbol3DLayerResource")],d);const p="sphere",f=d},"8c12":function(t,e,i){"use strict";i.d(e,"a",(function(){return pt}));var n=i("a4ee"),r=i("b2cd"),s=i("8d60"),o=(i("1b8f"),i("2c4f")),a=i("ce50"),c=i("ce6d"),l=i("af40"),u=i("e92d"),h=i("3795"),d=i("59b2"),p=(i("b50f"),i("c120"),i("cea0"),i("d386")),f=i("4ae5"),b=i("8188"),y=i("37e7"),m=i("fc29");let g=class extends m["a"]{constructor(t){super(t),this.format=null,this.position={coordinate:null,location:null}}get displayCoordinate(){const t=this.get("format");return t&&t.getDisplayCoordinate(this.get("position.coordinate"))}};Object(n["a"])([Object(d["b"])({readOnly:!0})],g.prototype,"displayCoordinate",null),Object(n["a"])([Object(d["b"])()],g.prototype,"format",void 0),Object(n["a"])([Object(d["b"])()],g.prototype,"position",void 0),g=Object(n["a"])([Object(p["a"])("esri.widgets.CoordinateConversion.support.Conversion")],g);const v=g;i("e06a");var w=i("5996");function O(t,e){const i=j(e);return[t[0].toFixed(i),t[1].toFixed(i)]}function j(t){return t>=500?6:t<500&&t>=50?7:t<50&&t>=5?8:9}function _(t,e){const i=t.indexOf(",")>=0?",":" ",[n,r,s]=t.split(i).map(t=>{const e=t.trim();return e?Number(e):null});if(!x(n)||!x(r))return null;const o=new f["a"]({x:n,y:r,spatialReference:e||w["a"].WGS84});return s&&(o.z=s,o.hasZ=!0),o}function x(t){return"number"==typeof t&&isFinite(t)}function S(t){return t&&x(t.x)&&x(t.y)}function M(t,e){if(t.spatialReference.isGeographic&&e){const[i,n]=O([t.x,t.y],e);return`${i}, ${n}`}return`${t.x.toFixed(3)}, ${t.y.toFixed(3)}`}function k(t){return"dd"===t||"dms"===t||"ddm"===t||"mgrs"===t||"usng"===t||"utm"===t}var I=i("7015"),T=i("2035"),E=i("b2b2"),A=i("9415");function C(t,e){const i=[];t=(t=(t=t.replace(/[\u00B0\u00BA]/g,"^")).replace(/\u2032/g,"'")).replace(/\u2033/g,'"');const n=V(e);return A["a"].dms_to_geog(n,1,[t],i)?new f["a"](i[0][0],i[0][1],e||w["a"].WGS84):null}function P(t,e,i){const n=[],r=$(i);if(-1===r)return console.warn("invalid conversionMode: "+i),null;const s=V(e);return A["c"].mgrs_to_geog_extended(s,1,[t],r,n)?new f["a"](n[0][0],n[0][1],e||w["a"].WGS84):null}function R(t,e){const i=[];!e&&/\(.+27/.test(t)&&(e=w["a"].GCS_NAD_1927);const n=V(e);return A["d"].usng_to_geog(n,1,[t],i)?new f["a"](i[0][0],i[0][1],e||w["a"].WGS84):null}function L(t,e,i){const n=[],r=G(i);if(-1===r)return console.warn("invalid conversionMode: "+i),null;const s=V(e);return A["e"].utm_to_geog(s,1,[t],r,n)?new f["a"](n[0][0],n[0][1],e||w["a"].WGS84):null}function N(t,e,i=0){const n=[[t.x,t.y]],r=[],s=V(t.spatialReference);let o=0;switch(e){case"dd":o=A["a"].geog_to_dd(s,1,n,i,r);break;case"ddm":o=A["a"].geog_to_ddm(s,1,n,i,r);break;case"dms":o=A["a"].geog_to_dms(s,1,n,i,r);break;default:return console.warn("invalid format: "+e),null}return o?r[0]:null}function F(t,e,i=0,n=!1){const r=[[t.x,t.y]],s=[],o=V(t.spatialReference);let a=$(e);return-1===a?(console.warn("invalid conversionMode: "+e),null):(n&&(a|=A["c"].PE_MGRS_ADD_SPACES),A["c"].geog_to_mgrs_extended(o,1,r,i,!1,a,s)?s[0]:null)}function D(t,e=0,i=!1){const n=[[t.x,t.y]],r=[],s=V(t.spatialReference);return A["d"].geog_to_usng(s,1,n,e,!1,i,r)?r[0]:null}function z(t,e,i=!1){const n=[[t.x,t.y]],r=[],s=V(t.spatialReference);let o=G(e);return-1===o?(console.warn("invalid conversionMode: "+e),null):(i&&(o|=A["e"].PE_UTM_OPTS_ADD_SPACES),A["e"].geog_to_utm(s,1,n,o,r)?r[0]:null)}function V(t){let e=null;if(t||(t=w["a"].WGS84),t.wkid){if(e=A["f"].geogcs(t.wkid),!e)throw new a["a"]("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!t.wkt)throw new a["a"]("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(e=A["f"].fromString(A["g"].PE_TYPE_GEOGCS,t.wkt),!e)throw new a["a"]("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return e}function $(t){let e=-1;switch(t){case"automatic":e=A["c"].PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":e=A["c"].PE_MGRS_STYLE_NEW|A["c"].PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":e=A["c"].PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":e=A["c"].PE_MGRS_STYLE_OLD|A["c"].PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":e=A["c"].PE_MGRS_STYLE_OLD}return e}function G(t){let e=-1;switch(t){case"latitude-band-indicators":e=A["e"].PE_UTM_OPTS_NONE;break;case"north-south-indicators":e=A["e"].PE_UTM_OPTS_NS}return e}var U=i("7f83"),q=i("9786");let B=class extends m["a"]{constructor(t){super(t),this.conversionInfo=null,this.coordinateSegments=null,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){return this._get("currentPattern")||this._get("defaultPattern")}set currentPattern(t){this._set("currentPattern",t)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){const t=this.get("conversionInfo.spatialReference")||w["a"].WGS84;return"basemap"===this.name?this._viewSpatialReference:t}set spatialReference(t){void 0===t&&this._clearOverride("spatialReference"),this._override("spatialReference",t)}get _viewSpatialReference(){return this.get("viewModel.view.spatialReference")||w["a"].WGS84}get _additionalCharactersPattern(){const t=this.get("coordinateSegments");if(!t)return null;const e=t.map(t=>t.alias),i=this.currentPattern.replace(new RegExp(`["nsew${e.join()}]`,"gi"),"").replace(/\ /g,"");return new RegExp(`[${i}]`,"g")}convert(t){if(!S(t))return Promise.reject(new a["a"]("format:invalid-point","Could not convert invalid point.",{point:t}));const e=this.get("conversionInfo.convert");return e?Promise.resolve().then(()=>e(t)):this._project(t,this.spatialReference).then(t=>this._getCoordinate(t).then(e=>({location:t,coordinate:e})))}getConversionStrategy(){const t=this._viewSpatialReference;return this.get("conversionInfo.convert")||this.get("viewModel.formatterAvailable")||"xy"===this.name&&(t.isWebMercator||t.isWGS84)||"basemap"===this.name?"client":"server"}getDisplayCoordinate(t){if(!t)return null;if(!this.coordinateSegments||!this.currentPattern)return t;let e=this.currentPattern;const i=this._getSegmentMatches(t,!1);for(let n=this.coordinateSegments.length-1;n>=0;n--){const t=this.coordinateSegments[n];e=e.replace(t.alias,i[n])}return e}parseUserInput(t){let e=this.defaultPattern.replace(this._additionalCharactersPattern,"");t=t.replace(this._additionalCharactersPattern,"");const i=this._getSegmentMatches(t,!0);for(let n=this.coordinateSegments.length-1;n>=0;n--){const t=this.coordinateSegments[n];e=e.replace(t.alias,i[n])}return e}_getSegmentMatches(t,e){const i=[];for(let n=0;n<this.coordinateSegments.length;n++){const r=this.coordinateSegments[n],s=t.match(r.searchPattern);if(!s){i.push("");continue}let o=s[0];if(t=t.replace(o,"").trim(),r.substitution){const t=e?r.substitution.input(o):r.substitution.output(o);t&&(o=t)}i.push(o)}return i}reverseConvert(t){const e=this.parseUserInput(t),i=this.get("conversionInfo.reverseConvert");let n;if(i)n=i(e);else if("xy"===this.name||"basemap"===this.name)n=_(e,this.spatialReference);else if(this.viewModel.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":n=C(e,this.spatialReference);break;case"mgrs":{const t="automatic";n=P(e,this.spatialReference,t);break}case"utm":{const t="latitude-band-indicators";n=L(e,this.spatialReference,t);break}case"usng":n=R(e,this.spatialReference);break;default:n=null}return n?this._project(n,this._viewSpatialReference):Promise.reject(new a["a"]("format:invalid-input","Could not parse input into point.",{userInput:t}))}_getCoordinate(t){const e=this.get("viewModel.view.scale");if(!S(t))return Promise.reject(new a["a"]("format:invalid-point","Could not transform invalid point into coordinate.",{point:t}));if(this.get("viewModel.formatterAvailable")||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":{const i=j(e);return Promise.resolve(N(t,this.name,i))}case"mgrs":{const e=!1,i=5,n="automatic";return Promise.resolve(F(t,n,i,e))}case"usng":{const e=!1,i=5;return Promise.resolve(D(t,i,e))}case"utm":{const e=!0,i="latitude-band-indicators";return Promise.resolve(z(t,i,e))}default:return Promise.resolve(M(t,e))}return Promise.resolve(M(t,e))}_project(t,e){var i,n;if(Object(U["d"])(t.spatialReference,e)||!e)return Promise.resolve(t);if(null!=(i=this.viewModel)&&i.formatterAvailable&&Object(b["f"])())return Promise.resolve(Object(b["i"])(t,e));if(null==(n=this.viewModel)||!n.formatterAvailable){const i=Object(q["d"])(t,e);if(Object(E["l"])(i))return Promise.resolve(i)}return null}};Object(n["a"])([Object(d["b"])()],B.prototype,"conversionInfo",void 0),Object(n["a"])([Object(d["b"])()],B.prototype,"coordinateSegments",void 0),Object(n["a"])([Object(d["b"])()],B.prototype,"currentPattern",null),Object(n["a"])([Object(d["b"])()],B.prototype,"defaultPattern",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],B.prototype,"hasDisplayProperties",null),Object(n["a"])([Object(d["b"])()],B.prototype,"name",void 0),Object(n["a"])([Object(d["b"])({type:w["a"]})],B.prototype,"spatialReference",null),Object(n["a"])([Object(d["b"])()],B.prototype,"viewModel",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],B.prototype,"_viewSpatialReference",null),Object(n["a"])([Object(d["b"])({readOnly:!0})],B.prototype,"_additionalCharactersPattern",null),B=Object(n["a"])([Object(p["a"])("esri.widgets.CoordinateConversion.support.Format")],B);const H=B,W=Object(I["c"])().decimal,J={N:"north",S:"south",E:"east",W:"west"},K="°‎",Y=new RegExp(`-?\\d+[\\.|\\${W}]?\\d*`),Z=/^[\\0]+(?=\d)/;function X(t,e){const i="ar"===Object(T["b"])(),n={ddm:`Y${K} A'${t.abbreviatedDirections.north}, X${K} B'${t.abbreviatedDirections.east}`,dms:`Y${K} A' B"${t.abbreviatedDirections.north}, X${K} C' D"${t.abbreviatedDirections.east}`,dd:`Y${K}${t.abbreviatedDirections.north}, X${K}${t.abbreviatedDirections.east}`,xy:`X${K}, Y${K}`,basemap:"X, Y"},r={ddm:`${t.abbreviatedDirections.north}${K}Y 'A ,${t.abbreviatedDirections.east}${K}X 'B`,dms:`${t.abbreviatedDirections.north}${K}Y 'A "B ,${t.abbreviatedDirections.east}${K}X 'C "D`,dd:`${t.abbreviatedDirections.north}${K}Y ,${t.abbreviatedDirections.east}${K}X`,xy:`X${K} ,Y${K}`,basemap:"X ,Y"};e.forEach(t=>{const{name:e}=t;if(n[e]){const s=t.defaultPattern===t.currentPattern,o=i?r[e]:n[e];t.defaultPattern=o,s&&(t.currentPattern=o)}})}function Q(t){const e=t.abbreviatedDirections.north,i=t.abbreviatedDirections.south,n=t.abbreviatedDirections.east,r=t.abbreviatedDirections.west,s={};s[e]="N",s[i]="S",s[n]="E",s[r]="W";const o=new RegExp(`N|S|${e}|${i}`,"i"),a=new RegExp(`E|W|${n}|${r}`,"i"),c=[new H({name:"basemap",coordinateSegments:[{alias:"X",description:"easting",searchPattern:Y,substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"Y",description:"northing",searchPattern:Y,substitution:{input:t=>et(t),output:t=>tt(t)}}],defaultPattern:"X, Y",viewModel:null}),new H({name:"dd",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${W}]?\\d*(?=\\D*?[N|S|${e}|${i}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:t.abbreviatedDirections.north,description:"north/south indicator",searchPattern:o,substitution:{input:t=>s[t],output:e=>t.abbreviatedDirections[J[e]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}[\\.|\\${W}]?\\d*(?=\\D*?[E|W|${n}|${r}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:t.abbreviatedDirections.east,description:"east/west indicator",searchPattern:a,substitution:{input:t=>s[t],output:e=>t.abbreviatedDirections[J[e]]}}],defaultPattern:`Y${K}${t.abbreviatedDirections.north}, X${K}${t.abbreviatedDirections.east}`,viewModel:null}),new H({name:"ddm",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?\\s+.*?[N|S|${e}|${i}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp(`\\d{1,2}[\\.\\${W}]?\\d*(?=.*?[N|S|${e}||${i}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:t.abbreviatedDirections.north,description:"north/south indicator",searchPattern:o,substitution:{input:t=>s[t],output:e=>t.abbreviatedDirections[J[e]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}(?=\\D*?\\s+.*?[E|W|${n}|${r}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"B",description:"minutes longitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\|${W}]?\\d*(?=.*?[E|W|${n}|${r}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:t.abbreviatedDirections.east,description:"east/west indicator",searchPattern:a,substitution:{input:t=>s[t],output:e=>t.abbreviatedDirections[J[e]]}}],defaultPattern:`Y${K} A'${t.abbreviatedDirections.north}, X${K} B'${t.abbreviatedDirections.east}`,viewModel:null}),new H({name:"dms",coordinateSegments:[{alias:"Y",description:"degrees latitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?\\s+.*?[N|S|${e}|${i}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"A",description:"minutes latitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?[N|S|${e}|${i}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"B",description:"seconds latitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${W}]?\\d*(?=.*?[N|S|${e}|${i}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:t.abbreviatedDirections.north,description:"north/south indicator",searchPattern:o,substitution:{input:t=>s[t],output:e=>t.abbreviatedDirections[J[e]]}},{alias:"X",description:"degrees longitude",searchPattern:new RegExp(`\\d{1,3}(?=.*?\\s+.*?[E|W|${n}|${r}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"C",description:"minutes longitude",searchPattern:new RegExp(`\\d{1,2}(?=.*?[E|W|${n}|${r}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"D",description:"seconds longitude",searchPattern:new RegExp(`\\d{1,2}[\\.|\\${W}]?\\d*(?=.*?[E|W|${n}|${r}])`,"i"),substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:t.abbreviatedDirections.east,description:"east/west indicator",searchPattern:a,substitution:{input:t=>s[t],output:e=>t.abbreviatedDirections[J[e]]}}],defaultPattern:`Y${K} A' B"${t.abbreviatedDirections.north}, X${K} C' D"${t.abbreviatedDirections.east}`,viewModel:null}),new H({name:"xy",coordinateSegments:[{alias:"X",description:"longitude",searchPattern:Y,substitution:{input:t=>et(t),output:t=>tt(t)}},{alias:"Y",description:"latitude",searchPattern:Y,substitution:{input:t=>et(t),output:t=>tt(t)}}],defaultPattern:`X${K}, Y${K}`,viewModel:null}),new H({name:"mgrs",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new H({name:"usng",coordinateSegments:[{alias:"Z",description:"grid zone",searchPattern:/\d{1,2}\w|[abyz]/i},{alias:"S",description:"grid square",searchPattern:/\w{2}/},{alias:"X",description:"easting",searchPattern:/^\d{5}(?=.?\d{5}$)|^\d{4}(?=.?\d{4}$)|^\d{3}(?=.?\d{3}$)|^\d{2}(?=.?\d{2}$)|^\d(?=.?\d$)/},{alias:"Y",description:"northing",searchPattern:/^\d{1,5}/}],defaultPattern:"Z S X Y",viewModel:null}),new H({name:"utm",coordinateSegments:[{alias:"Z",description:"zone number",searchPattern:/\d{1,2}|[abyz]/i},{alias:"B",description:"latitude band",searchPattern:/^\D/},{alias:"X",description:"easting",searchPattern:/\d{1,7}(?=\s*\d{7}$)/},{alias:"Y",description:"northing",searchPattern:/\d{1,7}/}],defaultPattern:"ZB X Y",viewModel:null})];return X(t,c),c}function tt(t){const e=t.match(Z),i=e?e[0]:"",n=t.indexOf(".")>=0?t.split(".")[1].length:0;return i+Object(I["b"])(Number(t),{pattern:"###0.###",places:n,round:-1})}function et(t){return Object(I["d"])(t)}var it=i("28c0"),nt=i("6323");const rt={default:"default",crosshair:"crosshair"},st=new f["a"]([0,0,500]),ot="xy",at=["mgrs","utm","usng","dd","dms","ddm"],ct="esri__coordinateConversionWidgetState",lt=u["a"].getLogger("esri.widgets.CoordinateConversion.CoordinateConversionViewModel"),ut={conversions:"conversions",formats:"formats",view:"view",viewChange:"view-change"},ht="esri/images/search/search-symbol-32.png";let dt=class extends(Object(it["a"])(c["a"].EventedAccessor)){constructor(t){super(t),this._conversionPromise=null,this._handles=new l["a"],this._locationGraphic=null,this._pointerCount=0,this.conversions=new o["a"],this.formats=new o["a"],this.formatterAvailable=!1,this.messages=null,this.filteredFormats=new o["a"],this.locationSymbol=new y["a"]({url:Object(r["a"])(ht),width:24,height:24}),this.storageEnabled=!0,this.view=null,this._saveWidgetState=this._saveWidgetState.bind(this),this._handleFormatChange=this._handleFormatChange.bind(this),this._handleConversionChange=this._handleConversionChange.bind(this),this._handleViewChange=this._handleViewChange.bind(this),this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerUp=this._onPointerUp.bind(this)}initialize(){const t=async()=>this.messages=await Object(nt["a"])("esri/widgets/CoordinateConversion/t9n/CoordinateConversion");t().then(()=>{if(!this.destroyed&&(this.formats.addMany(Q(this.messages)),this.storageEnabled&&this._loadWidgetState(),this.formats.forEach(t=>{t.viewModel=this,this._handles.add(t.watch("currentPattern",this._saveWidgetState),t.name)}),this._handles.add(this.conversions.on("change",this._handleConversionChange),ut.conversions),this._handles.add(this.formats.on("change",this._handleFormatChange),ut.formats),this._handles.add(Object(T["c"])(()=>{t().then(()=>{X(this.messages,this.formats)})})),Object(b["g"])().then(()=>{this.formatterAvailable=!0}).catch(t=>{lt.error(new a["a"]("coordinate-conversion:projection-load-failed","Failed to load the projection module.",{error:t})),this.formatterAvailable=!1,this._filterFormatsAndConversions()}).then(()=>this._handles.add(Object(h["a"])(this,"view",this._handleViewChange),ut.viewChange)),0===this.conversions.length)){const t=this.formats.find(t=>t.name===ot)||this.formats.getItemAt(0);this.conversions.add(new v({format:t}))}})}destroy(){this._handles.removeAll(),this._cleanUpView(this.view),this.view=null}set currentLocation(t){this._set("currentLocation",t),this._updateConversions()}get currentLocation(){return this._get("currentLocation")||null}set mode(t){switch(t){case"capture":this.currentLocation=null,this._startCaptureMode(),this._set("mode",t);break;case"live":this._startLiveMode(),this._set("mode",t)}}get mode(){return this._get("mode")||"live"}get state(){const{messages:t,view:e}=this,i=null==e?void 0:e.ready;return t?i?"ready":e?"loading":"disabled":"disabled"}get waitingForConversions(){return null!=this._conversionPromise}setLocation(t){if(this.view.graphics.remove(this._locationGraphic),t){const e=t.clone();e.hasZ&&(e.z=void 0),this._locationGraphic=new s["a"]({geometry:e,symbol:this.get("locationSymbol")}),this.view.graphics.add(this._locationGraphic)}}convert(t,e){return S(e)?Promise.resolve().then(()=>t.convert(e)):Promise.reject(new a["a"]("coordinate-conversion:invalid-point","Invalid point cannot be converted.",{point:e}))}goToLocation(t){if(this.get("view.clippingArea")||this.get("view.map.basemap.baseLayers.length")>0){const e=this.get("view.clippingArea")||this.view.map.basemap.baseLayers.getItemAt(0).fullExtent;return e?e.contains(t)?this.callGoTo({target:t}):Promise.reject(new a["a"]("coordinate-conversion:go-to-failed","Point outside basemap extent.",{point:t})):this.callGoTo({target:t})}return this.callGoTo({target:t})}pause(){this.currentLocation=null,this._handles.remove(ut.view),this.view&&(this.view.cursor=rt.default,this.view.graphics.remove(this._locationGraphic))}previewConversion(t,e=this.currentLocation||st){return this._convertMany([t],e).then(()=>t.displayCoordinate)}resume(){"capture"===this.mode?this._startCaptureMode():this._startLiveMode()}reverseConvert(t,e){return e.reverseConvert(t)}async updateConversions(t,e){return e&&e.type&&"point"===e.type?this._convertMany(t,e):(this._clearConversions(this.conversions),Promise.reject(new a["a"]("coordinate-conversion:invalid-input-point","Point is invalid, conversions cannot be updated.",{point:e})))}_cleanUpView(t){t&&(t.graphics.remove(this._locationGraphic),this._handles.remove(ut.view),t.cursor=rt.default)}_clearConversions(t){t.forEach(t=>{t.position={location:null,coordinate:null}})}_convertMany(t,e){return Promise.all(t.map(t=>t.format.convert(e).then(e=>(t.position=e,t)).catch(()=>{t.position=null}))).then(()=>t)}_handleConversionChange(t){t.added.forEach(t=>{const e=t.format;e.viewModel=this,this.currentLocation&&(this._set("waitingForConversions",!0),this.convert(e,this.currentLocation).then(e=>{t.position=e,this._set("waitingForConversions",!1)}))}),this._saveWidgetState()}_handleFormatChange(t){t.added.forEach(t=>{this._handles.add(t.watch("currentPattern",this._saveWidgetState),t.name),t.viewModel=this}),t.removed.forEach(t=>{t.viewModel=null,this._handles.remove(t.name)})}_loadWidgetState(){try{const t=JSON.parse(sessionStorage.getItem(ct));t&&this._setWidgetState(t)}catch(t){lt.error(new a["a"]("coordinate-conversion:invalid-session-storage-json","Could not read from sessionStorge.",{error:t}))}}_startCaptureMode(){this._handles.remove(ut.view),this.view&&(this.view.cursor=rt.crosshair,this.currentLocation&&this.setLocation(this.currentLocation),this._handles.add(this.view.on("click",this._onClick),ut.view))}_startLiveMode(){this._pointerCount=0,this._handles.remove(ut.view),this.view&&(this.view.cursor=rt.default,this.view.graphics.remove(this._locationGraphic),this._handles.add([this.view.on("pointer-down",this._onPointerDown),this.view.on("pointer-up",this._onPointerUp),this.view.on("pointer-move",this._onPointerMove)],ut.view))}_handleViewChange(t,e){e&&e!==t&&this._cleanUpView(e),t&&("capture"===this.mode&&this._startCaptureMode(),this._startLiveMode(),e&&this._filterFormatsAndConversions())}_onClick(t){if(0===t.button){const e=this.view.toMap(t),i=e&&e.normalize();this.setLocation(i),this.currentLocation=i}}_onPointerDown(t){const{pointerType:e}=t;if(this._pointerCount++,("touch"===e||"pen"===e)&&1===this._pointerCount){const e=this.view.toMap(t);this.currentLocation=e&&e.normalize()}}_onPointerMove(t){const{pointerType:e}=t;if("mouse"===e||1===this._pointerCount){const e=this.view.toMap(t);this.currentLocation=e&&e.normalize()}}_onPointerUp(){this._pointerCount--}_setWidgetState(t){try{t.formats.forEach(e=>{const i=this.formats.find(t=>t.name===e.name);i&&t.locale===Object(T["b"])()&&e.currentPattern&&(i.currentPattern=e.currentPattern),i&&e.index>=0&&this.conversions.add(new v({format:i}))})}catch(e){lt.warn(new a["a"]("coordinate-conversion:session-storage-read-error","Could not get widget state from stored JSON.",{error:e}))}}_saveWidgetState(){if(!this.storageEnabled)return;const t=this._toJSON();try{sessionStorage.setItem(ct,JSON.stringify({formats:t,locale:Object(T["b"])()}))}catch(e){lt.error(new a["a"]("coordinate-conversion:local-storage-write-error","Could not write to localStorage.",{error:e}))}}async _updateConversions(){try{await this.updateConversions(this.conversions.toArray(),this.currentLocation)}catch{}}_toJSON(){return this.formats.filter(t=>{const e=t.name;return"xy"===e||"basemap"===e||k(e)}).map(t=>({name:t.name,currentPattern:t.currentPattern,defaultPattern:t.defaultPattern,index:this.conversions.findIndex(e=>e.format===t)})).sort((t,e)=>t.index-e.index).toArray()}_filterFormatsAndConversions(){const{formatterAvailable:t,conversions:e,formats:i}=this;t||this._handles.add(Object(h["j"])(this,"view.spatialReference",t=>{const n=t.isWebMercator||t.isWGS84,r=i.filter(t=>{const{name:e}=t;return at.indexOf(e)>=0||"xy"===e&&!n}),s=this.filteredFormats.filter(t=>"xy"===t.name&&n&&-1===this.formats.indexOf(t)),o=e.filter(t=>r.indexOf(t.format)>=0);i.removeMany(r),e.removeMany(o),this.filteredFormats.addMany(r.filter(t=>-1===this.filteredFormats.indexOf(t))),i.addMany(s)}),ut.view)}};Object(n["a"])([Object(d["b"])()],dt.prototype,"conversions",void 0),Object(n["a"])([Object(d["b"])({type:f["a"]})],dt.prototype,"currentLocation",null),Object(n["a"])([Object(d["b"])()],dt.prototype,"formats",void 0),Object(n["a"])([Object(d["b"])()],dt.prototype,"messages",void 0),Object(n["a"])([Object(d["b"])()],dt.prototype,"mode",null),Object(n["a"])([Object(d["b"])()],dt.prototype,"filteredFormats",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],dt.prototype,"state",null),Object(n["a"])([Object(d["b"])()],dt.prototype,"locationSymbol",void 0),Object(n["a"])([Object(d["b"])()],dt.prototype,"storageEnabled",void 0),Object(n["a"])([Object(d["b"])({readOnly:!0})],dt.prototype,"waitingForConversions",null),Object(n["a"])([Object(d["b"])()],dt.prototype,"view",void 0),dt=Object(n["a"])([Object(p["a"])("esri.widgets.CoordinateConversion.CoordinateConversionViewModel")],dt);const pt=dt},"8c4f":function(t,e,i){"use strict";
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function n(t,e){for(var i in e)t[i]=e[i];return t}var r=/[!'()*]/g,s=function(t){return"%"+t.charCodeAt(0).toString(16)},o=/%2C/g,a=function(t){return encodeURIComponent(t).replace(r,s).replace(o,",")};function c(t){try{return decodeURIComponent(t)}catch(e){0}return t}function l(t,e,i){void 0===e&&(e={});var n,r=i||h;try{n=r(t||"")}catch(a){n={}}for(var s in e){var o=e[s];n[s]=Array.isArray(o)?o.map(u):u(o)}return n}var u=function(t){return null==t||"object"===typeof t?t:String(t)};function h(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var i=t.replace(/\+/g," ").split("="),n=c(i.shift()),r=i.length>0?c(i.join("=")):null;void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]})),e):e}function d(t){var e=t?Object.keys(t).map((function(e){var i=t[e];if(void 0===i)return"";if(null===i)return a(e);if(Array.isArray(i)){var n=[];return i.forEach((function(t){void 0!==t&&(null===t?n.push(a(e)):n.push(a(e)+"="+a(t)))})),n.join("&")}return a(e)+"="+a(i)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function f(t,e,i,n){var r=n&&n.options.stringifyQuery,s=e.query||{};try{s=b(s)}catch(a){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:s,params:e.params||{},fullPath:g(e,r),matched:t?m(t):[]};return i&&(o.redirectedFrom=g(i,r)),Object.freeze(o)}function b(t){if(Array.isArray(t))return t.map(b);if(t&&"object"===typeof t){var e={};for(var i in t)e[i]=b(t[i]);return e}return t}var y=f(null,{path:"/"});function m(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function g(t,e){var i=t.path,n=t.query;void 0===n&&(n={});var r=t.hash;void 0===r&&(r="");var s=e||d;return(i||"/")+s(n)+r}function v(t,e,i){return e===y?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&(i||t.hash===e.hash&&w(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(i||t.hash===e.hash&&w(t.query,e.query)&&w(t.params,e.params))))}function w(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t).sort(),n=Object.keys(e).sort();return i.length===n.length&&i.every((function(i,r){var s=t[i],o=n[r];if(o!==i)return!1;var a=e[i];return null==s||null==a?s===a:"object"===typeof s&&"object"===typeof a?w(s,a):String(s)===String(a)}))}function O(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&j(t.query,e.query)}function j(t,e){for(var i in e)if(!(i in t))return!1;return!0}function _(t){for(var e=0;e<t.matched.length;e++){var i=t.matched[e];for(var n in i.instances){var r=i.instances[n],s=i.enteredCbs[n];if(r&&s){delete i.enteredCbs[n];for(var o=0;o<s.length;o++)r._isBeingDestroyed||s[o](r)}}}}var x={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,r=e.children,s=e.parent,o=e.data;o.routerView=!0;var a=s.$createElement,c=i.name,l=s.$route,u=s._routerViewCache||(s._routerViewCache={}),h=0,d=!1;while(s&&s._routerRoot!==s){var p=s.$vnode?s.$vnode.data:{};p.routerView&&h++,p.keepAlive&&s._directInactive&&s._inactive&&(d=!0),s=s.$parent}if(o.routerViewDepth=h,d){var f=u[c],b=f&&f.component;return b?(f.configProps&&S(b,o,f.route,f.configProps),a(b,o,r)):a()}var y=l.matched[h],m=y&&y.components[c];if(!y||!m)return u[c]=null,a();u[c]={component:m},o.registerRouteInstance=function(t,e){var i=y.instances[c];(e&&i!==t||!e&&i===t)&&(y.instances[c]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){y.instances[c]=e.componentInstance},o.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==y.instances[c]&&(y.instances[c]=t.componentInstance),_(l)};var g=y.props&&y.props[c];return g&&(n(u[c],{route:l,configProps:g}),S(m,o,l,g)),a(m,o,r)}};function S(t,e,i,r){var s=e.props=M(i,r);if(s){s=e.props=n({},s);var o=e.attrs=e.attrs||{};for(var a in s)t.props&&a in t.props||(o[a]=s[a],delete s[a])}}function M(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function k(t,e,i){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var r=e.split("/");i&&r[r.length-1]||r.pop();for(var s=t.replace(/^\//,"").split("/"),o=0;o<s.length;o++){var a=s[o];".."===a?r.pop():"."!==a&&r.push(a)}return""!==r[0]&&r.unshift(""),r.join("/")}function I(t){var e="",i="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var r=t.indexOf("?");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{path:t,query:i,hash:e}}function T(t){return t.replace(/\/+/g,"/")}var E=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},A=Y,C=F,P=D,R=$,L=K,N=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function F(t,e){var i,n=[],r=0,s=0,o="",a=e&&e.delimiter||"/";while(null!=(i=N.exec(t))){var c=i[0],l=i[1],u=i.index;if(o+=t.slice(s,u),s=u+c.length,l)o+=l[1];else{var h=t[s],d=i[2],p=i[3],f=i[4],b=i[5],y=i[6],m=i[7];o&&(n.push(o),o="");var g=null!=d&&null!=h&&h!==d,v="+"===y||"*"===y,w="?"===y||"*"===y,O=i[2]||a,j=f||b;n.push({name:p||r++,prefix:d||"",delimiter:O,optional:w,repeat:v,partial:g,asterisk:!!m,pattern:j?U(j):m?".*":"[^"+G(O)+"]+?"})}}return s<t.length&&(o+=t.substr(s)),o&&n.push(o),n}function D(t,e){return $(F(t,e),e)}function z(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function $(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",B(e)));return function(e,n){for(var r="",s=e||{},o=n||{},a=o.pretty?z:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var u,h=s[l.name];if(null==h){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(E(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(u=a(h[d]),!i[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===d?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?V(h):a(h),!i[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');r+=l.prefix+u}}else r+=l}return r}}function G(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function U(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function q(t,e){return t.keys=e,t}function B(t){return t&&t.sensitive?"":"i"}function H(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return q(t,e)}function W(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(Y(t[r],e,i).source);var s=new RegExp("(?:"+n.join("|")+")",B(i));return q(s,e)}function J(t,e,i){return K(F(t,i),e,i)}function K(t,e,i){E(e)||(i=e||i,e=[]),i=i||{};for(var n=i.strict,r=!1!==i.end,s="",o=0;o<t.length;o++){var a=t[o];if("string"===typeof a)s+=G(a);else{var c=G(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",s+=l}}var u=G(i.delimiter||"/"),h=s.slice(-u.length)===u;return n||(s=(h?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),s+=r?"$":n&&h?"":"(?="+u+"|$)",q(new RegExp("^"+s,B(i)),e)}function Y(t,e,i){return E(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?H(t,e):E(t)?W(t,e,i):J(t,e,i)}A.parse=C,A.compile=P,A.tokensToFunction=R,A.tokensToRegExp=L;var Z=Object.create(null);function X(t,e,i){e=e||{};try{var n=Z[t]||(Z[t]=A.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),n(e,{pretty:!0})}catch(r){return""}finally{delete e[0]}}function Q(t,e,i,r){var s="string"===typeof t?{path:t}:t;if(s._normalized)return s;if(s.name){s=n({},t);var o=s.params;return o&&"object"===typeof o&&(s.params=n({},o)),s}if(!s.path&&s.params&&e){s=n({},s),s._normalized=!0;var a=n(n({},e.params),s.params);if(e.name)s.name=e.name,s.params=a;else if(e.matched.length){var c=e.matched[e.matched.length-1].path;s.path=X(c,a,"path "+e.path)}else 0;return s}var u=I(s.path||""),h=e&&e.path||"/",d=u.path?k(u.path,h,i||s.append):h,p=l(u.query,s.query,r&&r.options.parseQuery),f=s.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:d,query:p,hash:f}}var tt,et=[String,Object],it=[String,Array],nt=function(){},rt={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:it,default:"click"}},render:function(t){var e=this,i=this.$router,r=this.$route,s=i.resolve(this.to,r,this.append),o=s.location,a=s.route,c=s.href,l={},u=i.options.linkActiveClass,h=i.options.linkExactActiveClass,d=null==u?"router-link-active":u,p=null==h?"router-link-exact-active":h,b=null==this.activeClass?d:this.activeClass,y=null==this.exactActiveClass?p:this.exactActiveClass,m=a.redirectedFrom?f(null,Q(a.redirectedFrom),null,i):a;l[y]=v(r,m,this.exactPath),l[b]=this.exact||this.exactPath?l[y]:O(r,m);var g=l[y]?this.ariaCurrentValue:null,w=function(t){st(t)&&(e.replace?i.replace(o,nt):i.push(o,nt))},j={click:st};Array.isArray(this.event)?this.event.forEach((function(t){j[t]=w})):j[this.event]=w;var _={class:l},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:w,isActive:l[b],isExactActive:l[y]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?t():t("span",{},x)}if("a"===this.tag)_.on=j,_.attrs={href:c,"aria-current":g};else{var S=ot(this.$slots.default);if(S){S.isStatic=!1;var M=S.data=n({},S.data);for(var k in M.on=M.on||{},M.on){var I=M.on[k];k in j&&(M.on[k]=Array.isArray(I)?I:[I])}for(var T in j)T in M.on?M.on[T].push(j[T]):M.on[T]=w;var E=S.data.attrs=n({},S.data.attrs);E.href=c,E["aria-current"]=g}else _.on=j}return t(this.tag,_,this.$slots.default)}};function st(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ot(t){if(t)for(var e,i=0;i<t.length;i++){if(e=t[i],"a"===e.tag)return e;if(e.children&&(e=ot(e.children)))return e}}function at(t){if(!at.installed||tt!==t){at.installed=!0,tt=t;var e=function(t){return void 0!==t},i=function(t,i){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",x),t.component("RouterLink",rt);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var ct="undefined"!==typeof window;function lt(t,e,i,n,r){var s=e||[],o=i||Object.create(null),a=n||Object.create(null);t.forEach((function(t){ut(s,o,a,t,r)}));for(var c=0,l=s.length;c<l;c++)"*"===s[c]&&(s.push(s.splice(c,1)[0]),l--,c--);return{pathList:s,pathMap:o,nameMap:a}}function ut(t,e,i,n,r,s){var o=n.path,a=n.name;var c=n.pathToRegexpOptions||{},l=dt(o,r,c.strict);"boolean"===typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var u={path:l,regex:ht(l,c),components:n.components||{default:n.component},alias:n.alias?"string"===typeof n.alias?[n.alias]:n.alias:[],instances:{},enteredCbs:{},name:a,parent:r,matchAs:s,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach((function(n){var r=s?T(s+"/"+n.path):void 0;ut(t,e,i,n,u,r)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==n.alias)for(var h=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<h.length;++d){var p=h[d];0;var f={path:p,children:n.children};ut(t,e,i,f,r,u.path||"/")}a&&(i[a]||(i[a]=u))}function ht(t,e){var i=A(t,[],e);return i}function dt(t,e,i){return i||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:T(e.path+"/"+t)}function pt(t,e){var i=lt(t),n=i.pathList,r=i.pathMap,s=i.nameMap;function o(t){lt(t,n,r,s)}function a(t,e){var i="object"!==typeof t?s[t]:void 0;lt([e||t],n,r,s,i),i&&i.alias.length&&lt(i.alias.map((function(t){return{path:t,children:[e]}})),n,r,s,i)}function c(){return n.map((function(t){return r[t]}))}function l(t,i,o){var a=Q(t,i,!1,e),c=a.name;if(c){var l=s[c];if(!l)return d(null,a);var u=l.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof a.params&&(a.params={}),i&&"object"===typeof i.params)for(var h in i.params)!(h in a.params)&&u.indexOf(h)>-1&&(a.params[h]=i.params[h]);return a.path=X(l.path,a.params,'named route "'+c+'"'),d(l,a,o)}if(a.path){a.params={};for(var p=0;p<n.length;p++){var f=n[p],b=r[f];if(ft(b.regex,a.path,a.params))return d(b,a,o)}}return d(null,a)}function u(t,i){var n=t.redirect,r="function"===typeof n?n(f(t,i,null,e)):n;if("string"===typeof r&&(r={path:r}),!r||"object"!==typeof r)return d(null,i);var o=r,a=o.name,c=o.path,u=i.query,h=i.hash,p=i.params;if(u=o.hasOwnProperty("query")?o.query:u,h=o.hasOwnProperty("hash")?o.hash:h,p=o.hasOwnProperty("params")?o.params:p,a){s[a];return l({_normalized:!0,name:a,query:u,hash:h,params:p},void 0,i)}if(c){var b=bt(c,t),y=X(b,p,'redirect route with path "'+b+'"');return l({_normalized:!0,path:y,query:u,hash:h},void 0,i)}return d(null,i)}function h(t,e,i){var n=X(i,e.params,'aliased route with path "'+i+'"'),r=l({_normalized:!0,path:n});if(r){var s=r.matched,o=s[s.length-1];return e.params=r.params,d(o,e)}return d(null,e)}function d(t,i,n){return t&&t.redirect?u(t,n||i):t&&t.matchAs?h(t,i,t.matchAs):f(t,i,n,e)}return{match:l,addRoute:a,getRoutes:c,addRoutes:o}}function ft(t,e,i){var n=e.match(t);if(!n)return!1;if(!i)return!0;for(var r=1,s=n.length;r<s;++r){var o=t.keys[r-1];o&&(i[o.name||"pathMatch"]="string"===typeof n[r]?c(n[r]):n[r])}return!0}function bt(t,e){return k(t,e.parent?e.parent.path:"/",!0)}var yt=ct&&window.performance&&window.performance.now?window.performance:Date;function mt(){return yt.now().toFixed(3)}var gt=mt();function vt(){return gt}function wt(t){return gt=t}var Ot=Object.create(null);function jt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),i=n({},window.history.state);return i.key=vt(),window.history.replaceState(i,"",e),window.addEventListener("popstate",St),function(){window.removeEventListener("popstate",St)}}function _t(t,e,i,n){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick((function(){var s=Mt(),o=r.call(t,e,i,n?s:null);o&&("function"===typeof o.then?o.then((function(t){Pt(t,s)})).catch((function(t){0})):Pt(o,s))}))}}function xt(){var t=vt();t&&(Ot[t]={x:window.pageXOffset,y:window.pageYOffset})}function St(t){xt(),t.state&&t.state.key&&wt(t.state.key)}function Mt(){var t=vt();if(t)return Ot[t]}function kt(t,e){var i=document.documentElement,n=i.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}function It(t){return At(t.x)||At(t.y)}function Tt(t){return{x:At(t.x)?t.x:window.pageXOffset,y:At(t.y)?t.y:window.pageYOffset}}function Et(t){return{x:At(t.x)?t.x:0,y:At(t.y)?t.y:0}}function At(t){return"number"===typeof t}var Ct=/^#\d/;function Pt(t,e){var i="object"===typeof t;if(i&&"string"===typeof t.selector){var n=Ct.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(n){var r=t.offset&&"object"===typeof t.offset?t.offset:{};r=Et(r),e=kt(n,r)}else It(t)&&(e=Tt(t))}else i&&It(t)&&(e=Tt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var Rt=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Lt(t,e){xt();var i=window.history;try{if(e){var r=n({},i.state);r.key=vt(),i.replaceState(r,"",t)}else i.pushState({key:wt(mt())},"",t)}catch(s){window.location[e?"replace":"assign"](t)}}function Nt(t){Lt(t,!0)}function Ft(t,e,i){var n=function(r){r>=t.length?i():t[r]?e(t[r],(function(){n(r+1)})):n(r+1)};n(0)}var Dt={redirected:2,aborted:4,cancelled:8,duplicated:16};function zt(t,e){return Ut(t,e,Dt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Bt(e)+'" via a navigation guard.')}function Vt(t,e){var i=Ut(t,e,Dt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return i.name="NavigationDuplicated",i}function $t(t,e){return Ut(t,e,Dt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Gt(t,e){return Ut(t,e,Dt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ut(t,e,i,n){var r=new Error(n);return r._isRouter=!0,r.from=t,r.to=e,r.type=i,r}var qt=["params","query","hash"];function Bt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return qt.forEach((function(i){i in t&&(e[i]=t[i])})),JSON.stringify(e,null,2)}function Ht(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Wt(t,e){return Ht(t)&&t._isRouter&&(null==e||t.type===e)}function Jt(t){return function(e,i,n){var r=!1,s=0,o=null;Kt(t,(function(t,e,i,a){if("function"===typeof t&&void 0===t.cid){r=!0,s++;var c,l=Qt((function(e){Xt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),i.components[a]=e,s--,s<=0&&n()})),u=Qt((function(t){var e="Failed to resolve async component "+a+": "+t;o||(o=Ht(t)?t:new Error(e),n(o))}));try{c=t(l,u)}catch(d){u(d)}if(c)if("function"===typeof c.then)c.then(l,u);else{var h=c.component;h&&"function"===typeof h.then&&h.then(l,u)}}})),r||n()}}function Kt(t,e){return Yt(t.map((function(t){return Object.keys(t.components).map((function(i){return e(t.components[i],t.instances[i],t,i)}))})))}function Yt(t){return Array.prototype.concat.apply([],t)}var Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Xt(t){return t.__esModule||Zt&&"Module"===t[Symbol.toStringTag]}function Qt(t){var e=!1;return function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];if(!e)return e=!0,t.apply(this,i)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=y,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ie(t,e){var i,n=Math.max(t.length,e.length);for(i=0;i<n;i++)if(t[i]!==e[i])break;return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}function ne(t,e,i,n){var r=Kt(t,(function(t,n,r,s){var o=re(t,e);if(o)return Array.isArray(o)?o.map((function(t){return i(t,n,r,s)})):i(o,n,r,s)}));return Yt(n?r.reverse():r)}function re(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function se(t){return ne(t,"beforeRouteLeave",ae,!0)}function oe(t){return ne(t,"beforeRouteUpdate",ae)}function ae(t,e){if(e)return function(){return t.apply(e,arguments)}}function ce(t){return ne(t,"beforeRouteEnter",(function(t,e,i,n){return le(t,i,n)}))}function le(t,e,i){return function(n,r,s){return t(n,r,(function(t){"function"===typeof t&&(e.enteredCbs[i]||(e.enteredCbs[i]=[]),e.enteredCbs[i].push(t)),s(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,i){var n,r=this;try{n=this.router.match(t,this.current)}catch(o){throw this.errorCbs.forEach((function(t){t(o)})),o}var s=this.current;this.confirmTransition(n,(function(){r.updateRoute(n),e&&e(n),r.ensureURL(),r.router.afterHooks.forEach((function(t){t&&t(n,s)})),r.ready||(r.ready=!0,r.readyCbs.forEach((function(t){t(n)})))}),(function(t){i&&i(t),t&&!r.ready&&(Wt(t,Dt.redirected)&&s===y||(r.ready=!0,r.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,i){var n=this,r=this.current;this.pending=t;var s=function(t){!Wt(t)&&Ht(t)&&(n.errorCbs.length?n.errorCbs.forEach((function(e){e(t)})):console.error(t)),i&&i(t)},o=t.matched.length-1,a=r.matched.length-1;if(v(t,r)&&o===a&&t.matched[o]===r.matched[a])return this.ensureURL(),t.hash&&_t(this.router,r,t,!1),s(Vt(r,t));var c=ie(this.current.matched,t.matched),l=c.updated,u=c.deactivated,h=c.activated,d=[].concat(se(u),this.router.beforeHooks,oe(l),h.map((function(t){return t.beforeEnter})),Jt(h)),p=function(e,i){if(n.pending!==t)return s($t(r,t));try{e(t,r,(function(e){!1===e?(n.ensureURL(!0),s(Gt(r,t))):Ht(e)?(n.ensureURL(!0),s(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(s(zt(r,t)),"object"===typeof e&&e.replace?n.replace(e):n.push(e)):i(e)}))}catch(o){s(o)}};Ft(d,p,(function(){var i=ce(h),o=i.concat(n.router.resolveHooks);Ft(o,p,(function(){if(n.pending!==t)return s($t(r,t));n.pending=null,e(t),n.router.app&&n.router.app.$nextTick((function(){_(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=y,this.pending=null};var ue=function(t){function e(e,i){t.call(this,e,i),this._startLocation=he(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,i=e.options.scrollBehavior,n=Rt&&i;n&&this.listeners.push(jt());var r=function(){var i=t.current,r=he(t.base);t.current===y&&r===t._startLocation||t.transitionTo(r,(function(t){n&&_t(e,t,i,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){Lt(T(n.base+t.fullPath)),_t(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.replace=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){Nt(T(n.base+t.fullPath)),_t(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.ensureURL=function(t){if(he(this.base)!==this.current.fullPath){var e=T(this.base+this.current.fullPath);t?Lt(e):Nt(e)}},e.prototype.getCurrentLocation=function(){return he(this.base)},e}(te);function he(t){var e=window.location.pathname,i=e.toLowerCase(),n=t.toLowerCase();return!t||i!==n&&0!==i.indexOf(T(n+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var de=function(t){function e(e,i,n){t.call(this,e,i),n&&pe(this.base)||fe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,i=e.options.scrollBehavior,n=Rt&&i;n&&this.listeners.push(jt());var r=function(){var e=t.current;fe()&&t.transitionTo(be(),(function(i){n&&_t(t.router,i,e,!0),Rt||ge(i.fullPath)}))},s=Rt?"popstate":"hashchange";window.addEventListener(s,r),this.listeners.push((function(){window.removeEventListener(s,r)}))}},e.prototype.push=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){me(t.fullPath),_t(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.replace=function(t,e,i){var n=this,r=this,s=r.current;this.transitionTo(t,(function(t){ge(t.fullPath),_t(n.router,t,s,!1),e&&e(t)}),i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;be()!==e&&(t?me(e):ge(e))},e.prototype.getCurrentLocation=function(){return be()},e}(te);function pe(t){var e=he(t);if(!/^\/#/.test(e))return window.location.replace(T(t+"/#"+e)),!0}function fe(){var t=be();return"/"===t.charAt(0)||(ge("/"+t),!1)}function be(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ye(t){var e=window.location.href,i=e.indexOf("#"),n=i>=0?e.slice(0,i):e;return n+"#"+t}function me(t){Rt?Lt(ye(t)):window.location.hash=t}function ge(t){Rt?Nt(ye(t)):window.location.replace(ye(t))}var ve=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var n=this;this.transitionTo(t,(function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)}),i)},e.prototype.replace=function(t,e,i){var n=this;this.transitionTo(t,(function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)}),i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,(function(){var t=e.current;e.index=i,e.updateRoute(n),e.router.afterHooks.forEach((function(e){e&&e(n,t)}))}),(function(t){Wt(t,Dt.duplicated)&&(e.index=i)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),we=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Rt&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new ue(this,t.base);break;case"hash":this.history=new de(this,t.base,this.fallback);break;case"abstract":this.history=new ve(this,t.base);break;default:0}},Oe={currentRoute:{configurable:!0}};function je(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function _e(t,e,i){var n="hash"===i?"#"+e:e;return t?T(t+"/"+n):n}we.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},Oe.currentRoute.get=function(){return this.history&&this.history.current},we.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var i=e.apps.indexOf(t);i>-1&&e.apps.splice(i,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var i=this.history;if(i instanceof ue||i instanceof de){var n=function(t){var n=i.current,r=e.options.scrollBehavior,s=Rt&&r;s&&"fullPath"in t&&_t(e,t,n,!1)},r=function(t){i.setupListeners(),n(t)};i.transitionTo(i.getCurrentLocation(),r,r)}i.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},we.prototype.beforeEach=function(t){return je(this.beforeHooks,t)},we.prototype.beforeResolve=function(t){return je(this.resolveHooks,t)},we.prototype.afterEach=function(t){return je(this.afterHooks,t)},we.prototype.onReady=function(t,e){this.history.onReady(t,e)},we.prototype.onError=function(t){this.history.onError(t)},we.prototype.push=function(t,e,i){var n=this;if(!e&&!i&&"undefined"!==typeof Promise)return new Promise((function(e,i){n.history.push(t,e,i)}));this.history.push(t,e,i)},we.prototype.replace=function(t,e,i){var n=this;if(!e&&!i&&"undefined"!==typeof Promise)return new Promise((function(e,i){n.history.replace(t,e,i)}));this.history.replace(t,e,i)},we.prototype.go=function(t){this.history.go(t)},we.prototype.back=function(){this.go(-1)},we.prototype.forward=function(){this.go(1)},we.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},we.prototype.resolve=function(t,e,i){e=e||this.history.current;var n=Q(t,e,i,this),r=this.match(n,e),s=r.redirectedFrom||r.fullPath,o=this.history.base,a=_e(o,s,this.mode);return{location:n,route:r,href:a,normalizedTo:n,resolved:r}},we.prototype.getRoutes=function(){return this.matcher.getRoutes()},we.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},we.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==y&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(we.prototype,Oe),we.install=at,we.version="3.5.3",we.isNavigationFailure=Wt,we.NavigationFailureType=Dt,we.START_LOCATION=y,ct&&window.Vue&&window.Vue.use(we),e["a"]=we},"8c71":function(t,e,i){"use strict";function n(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function r(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e,i,n,r,s,o,a,c){const l=new Float32Array(9);return l[0]=t,l[1]=e,l[2]=i,l[3]=n,l[4]=r,l[5]=s,l[6]=o,l[7]=a,l[8]=c,l}function o(t,e){return new Float32Array(t,e,9)}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o})},"8c81":function(t,e,i){"use strict";i.d(e,"a",(function(){return j})),i.d(e,"b",(function(){return _})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return F})),i.d(e,"e",(function(){return G})),i.d(e,"f",(function(){return z})),i.d(e,"g",(function(){return D})),i.d(e,"h",(function(){return V})),i.d(e,"i",(function(){return $})),i.d(e,"j",(function(){return U})),i.d(e,"k",(function(){return R})),i.d(e,"l",(function(){return o})),i.d(e,"m",(function(){return k})),i.d(e,"n",(function(){return M})),i.d(e,"o",(function(){return c})),i.d(e,"p",(function(){return S})),i.d(e,"q",(function(){return T})),i.d(e,"r",(function(){return a})),i.d(e,"s",(function(){return x})),i.d(e,"t",(function(){return N})),i.d(e,"u",(function(){return n})),i.d(e,"v",(function(){return L})),i.d(e,"w",(function(){return r})),i.d(e,"x",(function(){return P})),i.d(e,"y",(function(){return f})),i.d(e,"z",(function(){return b})),i.d(e,"A",(function(){return y})),i.d(e,"B",(function(){return m})),i.d(e,"C",(function(){return p})),i.d(e,"D",(function(){return d})),i.d(e,"E",(function(){return g})),i.d(e,"F",(function(){return v})),i.d(e,"G",(function(){return w})),i.d(e,"H",(function(){return O})),i.d(e,"I",(function(){return h})),i.d(e,"J",(function(){return l})),i.d(e,"K",(function(){return I})),i.d(e,"L",(function(){return s})),i.d(e,"M",(function(){return C})),i.d(e,"N",(function(){return A})),i.d(e,"O",(function(){return E}));const n=1e-30,r=4294967295,s=512,o=8,a=29,c=24,l=8,u={metrics:{width:15,height:17,left:0,top:-7,advance:14}},h=0,d=0,p=0,f=1,b=2,y=3,m=4,g=5,v=6,w=5,O=6,j=1,_=2,x=2,S=1,M=2,k=4,I=1.05,T=6,E=5,A=6,C=1.15,P=2,R=8,L=500,N=10,F=2,D=0,z=1,V=4,$=8,G=4,U=1},"8ca7":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("b2b2");class r{constructor(t=(t=>t.values().next().value)){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return;let t;for(t of this._items);return t}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(0===this.length)return;const t=this.peek();return this._items.delete(Object(n["d"])(t)),t}popLast(){if(0===this.length)return;const t=this.last();return this._items.delete(Object(n["d"])(t)),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(e=>{t(e)||this._items.delete(e)}),this}}},"8d60":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("e06a"),o=i("4856"),a=i("1fd7"),c=i("6a0e"),l=i("7ffa"),u=i("b2b2"),h=i("f2e0"),d=i("59b2"),p=(i("cea0"),i("d386")),f=i("a9ab");let b=n=class extends c["a"]{constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(h["a"])(),configurable:!0})}normalizeCtorArgs(t,e,i,n){return t&&!t.declaredClass?t:{geometry:t,symbol:e,attributes:i,popupTemplate:n}}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const e of[this.sourceLayer,this.layer])if(e){if("popupTemplate"in e&&e.popupTemplate)return e.popupTemplate;if(t&&"defaultPopupTemplate"in e&&Object(u["l"])(e.defaultPopupTemplate))return e.defaultPopupTemplate}return null}getAttribute(t){return this.attributes&&this.attributes[t]}setAttribute(t,e){if(this.attributes){const i=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",i,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:Object(u["l"])(this.geometry)?this.geometry.toJSON():null,symbol:Object(u["l"])(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new n(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:Object(l["a"])(this.attributes),geometry:Object(l["a"])(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:Object(l["a"])(this.symbol),visible:this.visible}}_notifyLayer(t,e,i,n){if(!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:t,oldValue:e,newValue:i};"attributes"===t&&(r.attributeName=n),this.layer.graphicChanged(r)}};Object(r["a"])([Object(d["b"])({value:null})],b.prototype,"attributes",null),Object(r["a"])([Object(d["b"])({value:null,types:s["a"],json:{read:f["a"]}})],b.prototype,"geometry",null),Object(r["a"])([Object(d["b"])({type:Boolean})],b.prototype,"isAggregate",void 0),Object(r["a"])([Object(d["b"])()],b.prototype,"layer",void 0),Object(r["a"])([Object(d["b"])({type:o["a"]})],b.prototype,"popupTemplate",void 0),Object(r["a"])([Object(d["b"])()],b.prototype,"sourceLayer",void 0),Object(r["a"])([Object(d["b"])({value:null,types:a["e"]})],b.prototype,"symbol",null),Object(r["a"])([Object(d["b"])({type:Boolean,value:!0})],b.prototype,"visible",null),b=n=Object(r["a"])([Object(p["a"])("esri.Graphic")],b),function(t){t.generateUID=h["a"]}(b||(b={}));const y=b},"8d66":function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n,r=i("a4ee"),s=i("b2b2"),o=i("a915"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("448d")),l=i("d386"),u=i("961d"),h=i("90dc"),d=i("cc88"),p=i("08f6"),f=i("5c00"),b=i("a3af"),y=i("af3d");let m=n=class extends u["a"]{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Object(o["h"])(1),this.pattern=null}clone(){const t={enabled:this.enabled,material:Object(s["l"])(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:Object(s["l"])(this.pattern)?this.pattern.clone():null};return new n(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width||1,cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&"inside-frame"!==t.style?new h["a"]({style:t.style}):null,material:new b["a"]({color:(t.color||p["c"]).clone()})};return new n(e)}};Object(r["a"])([Object(a["b"])({type:b["a"],json:{write:!0}})],m.prototype,"material",void 0),Object(r["a"])([Object(c["a"])({Line:"line"},{readOnly:!0})],m.prototype,"type",void 0),Object(r["a"])([Object(a["b"])({type:y["b"],json:{write:!0,default:"miter"}})],m.prototype,"join",void 0),Object(r["a"])([Object(a["b"])({type:y["a"],json:{write:!0,default:"butt"}})],m.prototype,"cap",void 0),Object(r["a"])([Object(a["b"])(f["b"])],m.prototype,"size",void 0),Object(r["a"])([Object(a["b"])(d["a"])],m.prototype,"pattern",void 0),m=n=Object(r["a"])([Object(l["a"])("esri.symbols.LineSymbol3DLayer")],m);const g=m},"8e17":function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n=i("a4ee"),r=i("e92d"),s=i("f4cc"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("2c4f"),l=(i("0646"),i("9efb"));const u=new c["a"],h=new WeakMap;function d(t){f(t)&&u.push(t)}function p(t){f(t)&&u.includes(t)&&u.remove(t)}function f(t){return t&&"object"==typeof t&&"refreshInterval"in t&&"refresh"in t}function b(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:b(e,t%e):0}let y=0,m=0;function g(){const t=Date.now();for(const i of u)if(i.refreshInterval){var e;t-(null!=(e=h.get(i))?e:0)+5>=6e4*i.refreshInterval&&(h.set(i,t),i.refresh(t))}}Object(l["a"])(()=>{const t=Date.now();let e=0;for(const i of u)e=b(Math.round(6e4*i.refreshInterval),e),i.refreshInterval?h.get(i)||h.set(i,t):h.delete(i);if(e!==m){if(m=e,clearInterval(y),0===m)return void(y=0);y=setInterval(g,m)}});const v=t=>{let e=class extends t{constructor(...t){super(...t),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Object(s["h"])(()=>this.hasDataChanged()),this.when().then(()=>{d(this)},()=>{})}destroy(){p(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(t=Date.now()){Object(s["k"])(this._debounceHasDataChanged()).then(e=>{e&&this._set("refreshTimestamp",t),this.emit("refresh",{dataChanged:e})},t=>{r["a"].getLogger(this.declaredClass).error(t),this.emit("refresh",{dataChanged:!1,error:t})})}async hasDataChanged(){return!0}};return Object(n["a"])([Object(o["b"])({type:Number,cast:t=>t>=.1?t:t<=0?0:.1,json:{write:!0}})],e.prototype,"refreshInterval",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],e.prototype,"refreshTimestamp",void 0),Object(n["a"])([Object(o["b"])()],e.prototype,"refreshParameters",null),e=Object(n["a"])([Object(a["a"])("esri.layers.mixins.RefreshableLayer")],e),e}},"8eed":function(t,e,i){"use strict";function n(){const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=e=>t[e].toString(16);return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}i.d(e,"a",(function(){return n}))},"8f07":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n,r=i("a4ee"),s=i("9ef0"),o=i("6a0e"),a=i("7ffa"),c=i("59b2"),l=(i("cea0"),i("d386")),u=i("5c00");let h=n=class extends o["a"]{constructor(){super(...arguments),this.color=new s["a"]("white")}clone(){return new n({color:Object(a["a"])(this.color)})}};Object(r["a"])([Object(c["b"])(u["a"])],h.prototype,"color",void 0),h=n=Object(r["a"])([Object(l["a"])("esri.symbols.callouts.LineCallout3DBorder")],h);const d=h;Object.freeze({__proto__:null,get LineCallout3DBorder(){return h},default:d})},"901e":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("229e");class r{constructor(t){if(this._style=t,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.layers=t.layers.map((t,e,i)=>this._create(t,e,i)),this.layers){let t;for(let e=0;e<this.layers.length;e++)t=this.layers[e],this._layerByName[t.id]=t,this._uidToLayer.set(t.uid,t),0===t.type&&this.backgroundBucketIds.push(t.id)}this._identifyRefLayers()}isPainterDataDriven(t){const e=this._layerByName[t];return!!e&&e.isPainterDataDriven()}getStyleLayerId(t){return t>=this.layers.length?null:this.layers[t].id}getStyleLayerByUID(t){const e=this._uidToLayer.get(t);return null!=e?e:null}getStyleLayerIndex(t){const e=this._layerByName[t];return e?this.layers.indexOf(e):-1}setStyleLayer(t,e){if(!t||!t.id)return;const i=this._style;null!=e&&e>=this.layers.length&&(e=this.layers.length-1);let n,s=!0;const o=this._layerByName[t.id];if(o){const a=this.layers.indexOf(o);e||(e=a),e===a?(s=!1,n=r._recreateLayer(t,o),this.layers[e]=n,i.layers[e]=t):(this.layers.splice(a,1),i.layers.splice(a,1),n=this._create(t,e,this.layers),this.layers.splice(e,0,n),i.layers.splice(e,0,t))}else n=this._create(t,e,this.layers),!e||e>=this.layers.length?(this.layers.push(n),i.layers.push(t)):(this.layers.splice(e,0,n),i.layers.splice(e,0,t));this._layerByName[t.id]=n,this._uidToLayer.set(n.uid,n),s&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(t){const e=this._layerByName[t];return e?{type:e.typeName,id:e.id,source:e.source,"source-layer":e.sourceLayer,minzoom:e.minzoom,maxzoom:e.maxzoom,filter:e.filter,layout:e.layout,paint:e.paint}:null}deleteStyleLayer(t){const e=this._layerByName[t];if(e){delete this._layerByName[t],this._uidToLayer.delete(e.uid);const i=this.layers.indexOf(e);this.layers.splice(i,1),this._style.layers.splice(i,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(t){return this._layerByName[t]}getLayoutProperties(t){const e=this._layerByName[t];return e?e.layout:null}getPaintProperties(t){const e=this._layerByName[t];return e?e.paint:null}setPaintProperties(t,e){const i=this._layerByName[t];if(!i)return;const n={type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:i.layout,paint:e},s=r._recreateLayer(n,i),o=this.layers.indexOf(i);this.layers[o]=s,this._style.layers[o].paint=e,this._layerByName[i.id]=s,this._uidToLayer.set(i.uid,s)}setLayoutProperties(t,e){const i=this._layerByName[t];if(!i)return;const n={type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:e,paint:i.paint},s=r._recreateLayer(n,i),o=this.layers.indexOf(i);this.layers[o]=s,this._style.layers[o].layout=e,this._layerByName[i.id]=s,this._uidToLayer.set(i.uid,s)}setStyleLayerVisibility(t,e){const i=this._layerByName[t];if(!i)return;const n=i.layout||{};n.visibility=e;const s={type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:n,paint:i.paint},o=r._recreateLayer(s,i),a=this.layers.indexOf(i);this.layers[a]=o,this._style.layers[a].layout=n,this._layerByName[i.id]=o,this._uidToLayer.set(i.uid,o)}getStyleLayerVisibility(t){var e;const i=this._layerByName[t];if(!i)return"none";const n=i.layout;return null!=(e=null==n?void 0:n.visibility)?e:"visible"}_recomputeZValues(){const t=this.layers,e=1/(t.length+1);for(let i=0;i<t.length;i++)t[i].z=1-(1+i)*e}_identifyRefLayers(){const t=[],e=[];let i=0;for(const s of this.layers){const o=s.layout;if(1===s.type){var n;const e=s;let r=s.source+"|"+s.sourceLayer;r+=null!=(n="|"+(null==o?void 0:o.visibility))?n:"",r+="|"+s.minzoom,r+="|"+s.maxzoom,r+="|"+JSON.stringify(s.filter),(e.hasDataDrivenFill||e.hasDataDrivenOutline)&&(r+="|"+i),t.push({key:r,layer:s})}else if(2===s.type){var r;const t=s;let n=s.source+"|"+s.sourceLayer;n+=null!=(r="|"+(null==o?void 0:o.visibility))?r:"",n+="|"+s.minzoom,n+="|"+s.maxzoom,n+="|"+JSON.stringify(s.filter),n+="|"+(void 0!==o?o["line-cap"]:""),n+="|"+(void 0!==o?o["line-join"]:""),t.hasDataDrivenLine&&(n+="|"+i),e.push({key:n,layer:s})}++i}this._assignRefLayers(t),this._assignRefLayers(e)}_assignRefLayers(t){let e,i;t.sort((t,e)=>t.key<e.key?-1:t.key>e.key?1:0);const n=t.length;for(let r=0;r<n;r++){const s=t[r];if(s.key===e)s.layer.refLayerId=i;else if(e=s.key,i=s.layer.id,1===s.layer.type){if(!s.layer.getPaintProperty("fill-outline-color"))for(let o=r+1;o<n;o++){const n=t[o];if(n.key!==e)break;if(n.layer.getPaintProperty("fill-outline-color")){t[r]=n,t[o]=s,i=n.layer.id;break}}}else if(2===s.layer.type){let o=s.layer;for(let a=r+1;a<n;a++){const n=t[a];if(n.key!==e)break;const c=n.layer;(o.canUseThinTessellation&&!c.canUseThinTessellation||!o.canUseThinTessellation&&(c.getPaintProperty("line-pattern")||c.getPaintProperty("line-dasharray")))&&(o=c,t[r]=n,t[a]=s,i=n.layer.id)}}}}_create(t,e,i){const r=1-(1+e)*(1/(i.length+1)),s=this._runningId++;switch(t.type){case"background":return new n["a"](0,t,r,s);case"fill":return new n["c"](1,t,r,s);case"line":return new n["e"](2,t,r,s);case"symbol":return new n["f"](3,t,r,s);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new n["b"](4,t,r,s)}throw new Error("Unknown vector tile layer")}static _recreateLayer(t,e){switch(t.type){case"background":return new n["a"](0,t,e.z,e.uid);case"fill":return new n["c"](1,t,e.z,e.uid);case"line":return new n["e"](2,t,e.z,e.uid);case"symbol":return new n["f"](3,t,e.z,e.uid);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new n["b"](4,t,e.z,e.uid)}}}},"901f":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("4637");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this.toBBox=e:this._initFormat(e)),this.clear()}function s(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,o=e;o<i;o++)s=t.children[o],c(r,t.leaf?n(s):s);return r}function c(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,s-n)}function b(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,i,r,s){for(var o,a=[e,i];a.length;)(i=a.pop())-(e=a.pop())<=r||(o=e+Math.ceil((i-e)/r/2)*r,Object(n["a"])(t,o,e,i,s),a.push(e,o,o,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!y(t,e))return i;for(var r,s,o,a,c=[];e;){for(r=0,s=e.children.length;r<s;r++)o=e.children[r],y(t,a=e.leaf?n(o):o)&&(e.leaf?i.push(o):b(t,a)?this._all(o,i):c.push(o));e=c.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!y(t,e))return!1;for(var n,r,s,o,a=[];e;){for(n=0,r=e.children.length;n<r;n++)if(s=e.children[n],y(t,o=e.leaf?i(s):s)){if(e.leaf||b(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,o,a=this.data,c=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],i=u.pop(),o=!0),a.leaf&&-1!==(r=s(t,a.children,e)))return a.children.splice(r,1),l.push(a),this._condense(l),this;o||a.leaf||!b(a,c)?n?(i++,a=n.children[i],o=!1):a=null:(l.push(a),u.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,s=i-e+1,a=this._maxEntries;if(s<=a)return o(r=m(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(r=m([])).leaf=!1,r.height=n;var c,l,u,h,d=Math.ceil(s/a),p=d*Math.ceil(Math.sqrt(a));for(g(t,e,i,p,this.compareMinX),c=e;c<=i;c+=p)for(g(t,c,u=Math.min(c+p-1,i),d,this.compareMinY),l=c;l<=u;l+=d)h=Math.min(l+d-1,u),r.children.push(this._build(t,l,h,n-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,s,o,a,c,l,u,d;n.push(e),!e.leaf&&n.length-1!==i;){for(u=d=1/0,r=0,s=e.children.length;r<s;r++)c=h(o=e.children[r]),(l=p(t,o)-c)<d?(d=l,u=c<u?c:u,a=o):l===d&&c<u&&(u=c,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),s=[],o=this._chooseSubtree(r,this.data,e,s);for(o.children.push(t),c(o,r);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(r,s,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),a=m(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,s,o,c,l,u,d;for(l=u=1/0,n=e;n<=i-e;n++)o=f(r=a(t,0,n,this.toBBox),s=a(t,n,i,this.toBBox)),c=h(r)+h(s),o<l?(l=o,d=n,u=c<u?c:u):o===l&&c<u&&(u=c,d=n);return d},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,s,o=this.toBBox,l=a(t,0,e,o),u=a(t,i-e,i,o),h=d(l)+d(u);for(r=e;r<i-e;r++)s=t.children[r],c(l,t.leaf?o(s):s),h+=d(l);for(r=i-e-1;r>=e;r--)s=t.children[r],c(u,t.leaf?o(s):s),h+=d(u);return h},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)c(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():o(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},9096:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return l}));var n=i("a4ee"),r=i("fc29"),s=i("af40"),o=i("59b2"),a=i("d386"),c=i("d347");const l=t=>{let e=class extends t{destroy(){var t,e;this.destroyed||(null==(t=this._get("handles"))||t.destroy(),null==(e=this._get("updatingHandles"))||e.destroy())}get handles(){return this._get("handles")||new s["a"]}get updatingHandles(){return this._get("updatingHandles")||new c["a"]}};return Object(n["a"])([Object(o["b"])({readOnly:!0})],e.prototype,"handles",null),Object(n["a"])([Object(o["b"])({readOnly:!0})],e.prototype,"updatingHandles",null),e=Object(n["a"])([Object(a["a"])("esri.core.HandleOwner")],e),e};let u=class extends(l(r["a"])){};u=Object(n["a"])([Object(a["a"])("esri.core.HandleOwner")],u)},9098:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("a9e6"),r=i("436b");class s extends n["a"]{constructor(t,e,i,n,r){super(t),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=i,this._hasM=n,this._spRef=e,this._cacheId=r}get(t){if(void 0===this._lazyPath[t]){const e=this._elements[t];if(void 0===e)return;this._lazyPath[t]=new r["a"](e,this._spRef,this._hasZ,this._hasM,this._cacheId,t)}return this._lazyPath[t]}equalityTest(t){return t===this||null!==t&&t instanceof s!=0&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},"90dc":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("a4ee"),r=i("fa8a"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("448d")),a=i("d386"),c=i("880c");const l=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var u;const h=Object(r["b"])()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let d=u=class extends c["a"]{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new u(t)}};Object(n["a"])([Object(s["b"])({type:["style"]})],d.prototype,"type",void 0),Object(n["a"])([Object(o["a"])(h),Object(s["b"])({type:l})],d.prototype,"style",void 0),d=u=Object(n["a"])([Object(a["a"])("esri.symbols.patterns.LineStylePattern3D")],d);const p=d},"90e3":function(t,e,i){var n=i("e330"),r=0,s=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},9112:function(t,e,i){var n=i("83ab"),r=i("9bf2"),s=i("5c6c");t.exports=n?function(t,e,i){return r.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},9180:function(t,e,i){"use strict";i.d(e,"a",(function(){return T})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return v})),i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return S})),i.d(e,"g",(function(){return w})),i.d(e,"h",(function(){return O})),i.d(e,"i",(function(){return _})),i.d(e,"j",(function(){return j})),i.d(e,"k",(function(){return c})),i.d(e,"l",(function(){return o})),i.d(e,"m",(function(){return k})),i.d(e,"n",(function(){return p})),i.d(e,"o",(function(){return d})),i.d(e,"p",(function(){return f})),i.d(e,"q",(function(){return u})),i.d(e,"r",(function(){return l})),i.d(e,"s",(function(){return m})),i.d(e,"t",(function(){return x})),i.d(e,"u",(function(){return M})),i.d(e,"v",(function(){return h})),i.d(e,"w",(function(){return y}));i("c120"),i("38a4");var n=i("b2b2"),r=i("3af1");function s(t){return t}function o(t=E){return s([t[0],t[1],t[2],t[3]])}function a(t){return s([t[0],t[1],t[2],t[3]])}function c(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function l(t,e,i,n,r=o()){return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r}function u(t,e=o()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function h(t,e){return new r["a"]({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function d(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function p(t,e,i){if(Object(n["k"])(e))c(i,t);else if("length"in e)I(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):2!==e.length&&3!==e.length||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}}function f(t,e,i=t){const n=e.length;let r=t[0],s=t[1],o=t[2],a=t[3];for(let c=0;c<n;c++){const t=e[c];r=Math.min(r,t[0]),s=Math.min(s,t[1]),o=Math.max(o,t[0]),a=Math.max(a,t[1])}return i[0]=r,i[1]=s,i[2]=o,i[3]=a,i}function b(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function y(t){return Object(n["k"])(t)||t[0]>=t[2]?0:t[2]-t[0]}function m(t){return t[1]>=t[3]?0:t[3]-t[1]}function g(t){return y(t)*m(t)}function v(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function w(t,e){return j(t,e[0],e[1])}function O(t,e){return j(t,e.x,e.y)}function j(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function _(t,e,i){return e[0]>=t[0]-i&&e[1]>=t[1]-i&&e[0]<=t[2]+i&&e[1]<=t[3]+i}function x(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function S(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function M(t,e,i,n=t){return n[0]=t[0]+e,n[1]=t[1]+i,n[2]=t[2]+e,n[3]=t[3]+i,n}function k(t){return t?c(t,T):o(T)}function I(t){return null!=t&&4===t.length}s([-1/0,-1/0,1/0,1/0]);const T=s([1/0,1/0,-1/0,-1/0]),E=s([0,0,0,0]);s([0,0,1,1])},"91b0":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("ecc1");let c=n=class extends a["a"]{constructor(t){super(t),this.type="selection"}clone(){return new n}};Object(r["a"])([Object(s["b"])({type:["selection"]})],c.prototype,"type",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.layers.support.FeatureReductionSelection")],c);const l=c},9209:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("fc29"),s=i("e041"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=class extends r["a"]{constructor(...t){super(...t),this.requestOptions=null,this.url=null}normalizeCtorArgs(t,e){return"string"!=typeof t?t:{url:t,...e}}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(t){return t?Object(s["K"])(t):null}_encode(t,e,i){const n={};for(const r in t){if("declaredClass"===r)continue;const s=t[r];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){n[r]=[];for(let t=0;t<s.length;t++)n[r][t]=this._encode(s[t])}else if("object"==typeof s)if(s.toJSON){const t=s.toJSON(i&&i[r]);n[r]=e?t:JSON.stringify(t)}else n[r]=e?s:JSON.stringify(s);else n[r]=s}return n}};Object(n["a"])([Object(o["b"])({readOnly:!0})],c.prototype,"parsedUrl",null),Object(n["a"])([Object(o["b"])()],c.prototype,"requestOptions",void 0),Object(n["a"])([Object(o["b"])({type:String})],c.prototype,"url",void 0),c=Object(n["a"])([Object(a["a"])("esri.tasks.Task")],c);const l=c},9263:function(t,e,i){"use strict";var n=i("c65b"),r=i("e330"),s=i("577e"),o=i("ad6d"),a=i("9f7f"),c=i("5692"),l=i("7c73"),u=i("69f3").get,h=i("fce3"),d=i("107c"),p=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,b=f,y=r("".charAt),m=r("".indexOf),g=r("".replace),v=r("".slice),w=function(){var t=/a/,e=/b*/g;return n(f,t,"a"),n(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),O=a.BROKEN_CARET,j=void 0!==/()??/.exec("")[1],_=w||j||O||h||d;_&&(b=function(t){var e,i,r,a,c,h,d,_=this,x=u(_),S=s(t),M=x.raw;if(M)return M.lastIndex=_.lastIndex,e=n(b,M,S),_.lastIndex=M.lastIndex,e;var k=x.groups,I=O&&_.sticky,T=n(o,_),E=_.source,A=0,C=S;if(I&&(T=g(T,"y",""),-1===m(T,"g")&&(T+="g"),C=v(S,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==y(S,_.lastIndex-1))&&(E="(?: "+E+")",C=" "+C,A++),i=new RegExp("^(?:"+E+")",T)),j&&(i=new RegExp("^"+E+"$(?!\\s)",T)),w&&(r=_.lastIndex),a=n(f,I?i:_,C),I?a?(a.input=v(a.input,A),a[0]=v(a[0],A),a.index=_.lastIndex,_.lastIndex+=a[0].length):_.lastIndex=0:w&&a&&(_.lastIndex=_.global?a.index+a[0].length:r),j&&a&&a.length>1&&n(p,a[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&k)for(a.groups=h=l(null),c=0;c<k.length;c++)d=k[c],h[d[0]]=a[d[1]];return a}),t.exports=b},"92af":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("df3b");class r extends n["a"]{constructor({coordinateHelper:t,targetPoint:e,objectId:i,constraint:n}){super(t,e,n),this.objectId=i}}},"92ef":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s}));var n=i("b2b2");const r=7;function s(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function o(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return Object(n["d"])(void 0)}function a(t){return o(t)}},9305:function(t,e,i){"use strict";i.d(e,"a",(function(){return R})),i.d(e,"b",(function(){return w})),i.d(e,"c",(function(){return C}));var n=i("a4ee"),r=i("fc29"),s=i("af40"),o=i("e92d"),a=i("b2b2"),c=i("2ff3"),l=i("8a44"),u=i("f4cc"),h=i("477c"),d=i("b0ea"),p=i("3795"),f=i("59b2"),b=(i("b50f"),i("c120"),i("cea0"),i("d386"));let y=class extends r["a"]{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(t){for(;!t.done&&this._process(t);)t.madeProgress()}push(t,e,i){return this.running=!0,new Promise((n,r)=>this._tasks.push(new m(n,r,t,e,i)))}unshift(t,e,i){return this.running=!0,new Promise((n,r)=>this._tasks.unshift(new m(n,r,t,e,i)))}_process(t){if(0===this._tasks.length)return!1;const e=this._tasks.shift();try{const i=Object(u["m"])(e.signal);if(i&&!e.abortCallback)e.reject(Object(u["d"])());else{const n=i?e.abortCallback(Object(u["d"])()):e.callback(t);Object(u["n"])(n)?n.then(e.resolve,e.reject):e.resolve(n)}}catch(i){e.reject(i)}return this.running=this._tasks.length>0,!0}cancelAll(){const t=Object(u["d"])();for(const e of this._tasks)if(e.abortCallback){const i=e.abortCallback(t);e.resolve(i)}else e.reject(t);this._tasks.length=0,this.running=!1}};Object(n["a"])([Object(f["b"])()],y.prototype,"running",void 0),y=Object(n["a"])([Object(b["a"])("esri.layers.support.PromiseQueue")],y);class m{constructor(t,e,i,n,r){this.resolve=t,this.reject=e,this.callback=i,this.signal=n,this.abortCallback=r}}var g=i("26cd");const v=o["a"].getLogger("esri.views.support.Scheduler");var w;!function(t){t.RESOURCE_CONTROLLER="schedule",t.SLIDE="slide",t.STREAM_DATA_LOADER="stream loader",t.ELEVATION_QUERY="elevation query",t.TERRAIN_SURFACE="terrain",t.SURFACE_GEOMETRY_UPDATES="surface geometry updates",t.GRAPHICS_CORE="Graphics3D",t.I3S_CONTROLLER="I3S",t.POINT_CLOUD_LAYER="point cloud",t.FEATURE_TILE_FETCHER="feature fetcher",t.OVERLAY="overlay",t.STAGE="stage",t.GRAPHICS_DECONFLICTOR="graphics deconflictor",t.FILTER_VISIBILITY="Graphics3D filter visibility",t.SCALE_VISIBILITY="Graphics3D scale visibility",t.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",t.POINT_OF_INTEREST_FREQUENT="POI frequent",t.POINT_OF_INTEREST_INFREQUENT="POI infrequent",t.LABELER="labeler",t.FEATURE_QUERY_ENGINE="feature query",t.FEATURE_TILE_TREE="feature tile tree",t.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",t.ELEVATION_ALIGNMENT="elevation alignment",t.TEXT_TEXTURE_ATLAS="text texture atlas",t.TEXTURE_UNLOAD="texture unload",t.LINE_OF_SIGHT_TOOL="line of sight tool",t.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",t.ELEVATION_PROFILE="elevation profile",t.SNAPPING="snapping",t.SHADOW_ACCUMULATOR="shadow accumulator",t.CLOUDS_GENERATOR="cloud generator",t[t.TEST_PRIO=1]="TEST_PRIO"}(w||(w={}));const O=0,j=new Map([[w.RESOURCE_CONTROLLER,O],[w.SLIDE,O],[w.STREAM_DATA_LOADER,O],[w.ELEVATION_QUERY,O],[w.TERRAIN_SURFACE,1],[w.SURFACE_GEOMETRY_UPDATES,1],[w.GRAPHICS_CORE,2],[w.I3S_CONTROLLER,2],[w.POINT_CLOUD_LAYER,2],[w.FEATURE_TILE_FETCHER,2],[w.OVERLAY,4],[w.STAGE,4],[w.GRAPHICS_DECONFLICTOR,4],[w.FILTER_VISIBILITY,4],[w.SCALE_VISIBILITY,4],[w.FRUSTUM_VISIBILITY,4],[w.POINT_OF_INTEREST_FREQUENT,6],[w.POINT_OF_INTEREST_INFREQUENT,30],[w.LABELER,8],[w.FEATURE_QUERY_ENGINE,8],[w.FEATURE_TILE_TREE,16],[w.FEATURE_TILE_TREE_ACTIVE,O],[w.ELEVATION_ALIGNMENT,12],[w.TEXT_TEXTURE_ATLAS,12],[w.CLOUDS_GENERATOR,12],[w.TEXTURE_UNLOAD,12],[w.LINE_OF_SIGHT_TOOL,16],[w.LINE_OF_SIGHT_TOOL_INTERACTIVE,O],[w.SNAPPING,O],[w.SHADOW_ACCUMULATOR,30]]);function _(t){return j.has(t)?j.get(t):"number"==typeof t?t:1}const x=Object(d["a"])(6.5),S=Object(d["a"])(1),M=Object(d["a"])(30),k=Object(d["a"])(1e3/30),I=Object(d["a"])(100),T=.9;var E,A;!function(t){let e=class extends r["a"]{constructor(t){super(t),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new c["a"]("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=1,this._tasks=new l["a"],this._runQueue=new l["a"],this._load=0,this._idleStateCallbacks=new l["a"],this._idleUpdatesStartFired=!1,this._maxReschedule=L,this._forceTask=!1,this._debug=!1,this._debugHandle=Object(p["a"])(g["a"],"SCHEDULER_LOG_SLOW_TASKS",t=>this._debug=t),this._budget=new o(t.nowFunc);for(const n of Object.keys(w))this.performanceInfo.tasks.set(w[n],new c["a"](w[n]));let e;const i=this;this._test={get state(){return Object(a["u"])(e,i._state)},set state(t){e=t},FRAME_SAFETY_BUDGET:x,INTERACTING_BUDGET:k,IDLE_BUDGET:I,get budget(){return i._budget.budget},usedBudget:0,setBudget:t=>i._budget=t,updateTask:t=>this._updateTask(t),getState:t=>this._getState(t),getRuntime:t=>this._getRuntime(t),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._debugHandle&&this._debugHandle.remove(),this._microTaskQueued=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=L,this._schedule(),this.frame()))}))}registerTask(t,e){const n=_(t),r=new i(this,t,e,n);return this._tasks.push(r),this.performanceInfo.tasks.has(t)||this.performanceInfo.tasks.set(t,new c["a"](t)),r}registerIdleStateCallbacks(t,e){const i={idleBegin:t,idleEnd:e};this._idleStateCallbacks.push(i),2===this.state&&this._idleUpdatesStartFired&&i.idleBegin();const n=this;return{remove:()=>this._removeIdleStateCallbacks(i),set idleBegin(t){n._idleUpdatesStartFired&&(i.idleEnd(),2===n._state&&t()),i.idleBegin=t},set idleEnd(t){i.idleEnd=t}}}get now(){return this.nowFunc()}get load(){return this._load}set state(t){this._state!==t&&(this._state=t,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(t=>t.idleEnd())))}get state(){return Object(a["k"])(this._test.state)?this._state:this._test.state}updateBudget(t){this._test.usedBudget=0;let e=x,i=t.frameDuration,n=S;switch(this.state){case 2:e=Object(d["a"])(0),i=Object(d["a"])(Math.max(I,t.frameDuration)),n=M;break;case 1:i=Object(d["a"])(Math.max(k,t.frameDuration))}return i=Object(d["a"])(i-t.elapsedFrameTime-e),2!==this.state&&i<S&&!this._forceTask?(this._forceTask=!0,!1):(i=Object(d["a"])(Math.max(i,n)),this._budget.reset(i,this.state),this._maxReschedule=L,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(t=>t.idleBegin())),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(Object(d["a"])(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(t){this._idleUpdatesStartFired&&t.idleEnd(),this._idleStateCallbacks.removeUnordered(t)}removeTask(t){this._tasks.removeUnordered(t),this._runQueue.removeUnordered(t)}_updateTask(t){this._tasks.forAll(e=>{e.name===t&&e.setPriority(t)})}_getState(t){if(this._runQueue.some(e=>e.name===t))return A.SCHEDULED;let e=A.IDLE;return this._tasks.forAll(i=>{i.name===t&&i.needsUpdate&&(i.schedulePriority<=1?e=A.READY:e!==A.READY&&(e=A.WAITING))}),e}_getRuntime(t){let e=0;return this._tasks.forAll(i=>{i.name===t&&(e+=i.runtime)}),e}_resetRuntimes(){this._tasks.forAll(t=>t.runtime=0)}_getRunning(){const t=new Map;if(this._tasks.forAll(e=>{e.needsUpdate&&t.set(e.name,(t.get(e.name)||0)+1)}),0===t.size)return null;let e="";return t.forEach((t,i)=>{e+=t>1?` ${t}x ${i}`:" "+i}),e}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const t=this._tasks.reduce((t,e)=>e.needsUpdate?++t:t,0);this._load=this._load*T+t*(1-T)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(t=>!!t.needsUpdate||(t.schedulePriority=t.basePriority,!1)),this._tasks.forAll(t=>{t.basePriority===O&&t.needsUpdate&&!this._runQueue.some(e=>e===t)&&this._runQueue.unshift(t)});0===this._runQueue.length;){let t=!1,e=0;if(this._tasks.forAll(i=>{i.needsUpdate&&0!==i.schedulePriority&&i.basePriority!==O&&(t=!0,e=Math.max(e,i.basePriority),1===i.schedulePriority?(i.schedulePriority=0,this._runQueue.push(i)):--i.schedulePriority)}),!t)return this.updating=!1,!1;this._maxReschedule===L&&(this._maxReschedule=e),--this._maxReschedule}return this.updating=!0,!0}_run(){const t=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){const i=this._budget.now(),n=this._runQueue.pop();this._budget.resetProgress();try{n.task.runTask(this._budget)}catch(e){v.error(`Exception in task "${n.name}"`,e)}n.schedulePriority=n.basePriority;const r=this._budget.now()-i;if(n.runtime+=r,this._frameTaskTimes.set(n.priority,this._frameTaskTimes.get(n.priority)+r),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",n.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return void this._recordFrameTaskTimes(this._budget.now()-t)}}while(this._schedule());this._recordFrameTaskTimes(this._budget.now()-t)}_startFrameTaskTimes(){for(const t of Object.keys(w))this._frameTaskTimes.set(w[t],0)}_recordFrameTaskTimes(t){this._frameTaskTimes.forEach((t,e)=>this.performanceInfo.tasks.get(e).record(t)),this.performanceInfo.total.record(t)}get test(){return this._test}};Object(n["a"])([Object(f["b"])()],e.prototype,"updating",void 0),Object(n["a"])([Object(f["b"])()],e.prototype,"nowFunc",void 0),e=Object(n["a"])([Object(b["a"])("esri.views.support.Scheduler")],e),t.Scheduler=e;let i=class extends r["a"]{constructor(t,e,i,n){super({}),this._scheduler=t,this.name=e,this._basePriority=n,this.runtime=0,this._queue=new y,this._handles=new s["a"],this.schedulePriority=this._basePriority,this.task=Object(a["l"])(i)?i:this._queue,this._handles.add(Object(h["c"])(()=>this.task.running,()=>t.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(C),this._scheduler.removeTask(this),this.schedule=R.schedule,this.reschedule=R.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(t){this.name=t;const e=_(t);this._basePriority!==O&&0===this.schedulePriority||(this.schedulePriority=e),this._basePriority=e}get priority(){return this.name}set priority(t){this.setPriority(t)}get needsUpdate(){return this.updating||this.task.running}schedule(t,e,i){return this._queue.push(t,e,i)}reschedule(t,e,i){return this._queue.unshift(t,e,i)}processQueue(t){this._queue.runTask(t)}};Object(n["a"])([Object(f["b"])({constructOnly:!0})],i.prototype,"task",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],i.prototype,"updating",null),i=Object(n["a"])([Object(b["a"])("esri.views.support.SchedulerTask")],i);class o{constructor(t){this.now=t,this._begin=0,this._budget=0,this._state=2,this._didWork=!1,this._enabled=!0}run(t){return!this.done&&(!0===t()&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(t){this._enabled=t}reset(t,e){this._begin=this.now(),this._budget=t,this._state=e,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}t.Budget=o}(E||(E={})),function(t){t.SCHEDULED="s",t.READY="r",t.WAITING="w",t.IDLE="i"}(A||(A={}));const C=(()=>{const t=new E.Budget(()=>performance.now());return t.enabled=!1,t})();class P{remove(){}processQueue(){}schedule(t,e,i){try{if(Object(u["m"])(e)){const t=Object(u["d"])();return i?Promise.resolve(i(t)):Promise.reject(t)}return Object(u["x"])(t(C))}catch(n){return Promise.reject(n)}}reschedule(t,e,i){return this.schedule(t,e,i)}}const R=new P,L=Number.MAX_SAFE_INTEGER},9392:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s}));var n=i("b2b2");class r{constructor(t=null,e={},i,n){this.geometry=t,this.attributes=e,this.centroid=i,this.objectId=n,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new r(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function s(t){return!(Object(n["k"])(t.geometry)||!t.geometry.coords||!t.geometry.coords.length)}class o extends r{}},9415:function(t,e,i){"use strict";i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return v})),i.d(e,"e",(function(){return w})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return h})),i.d(e,"h",(function(){return a})),i.d(e,"i",(function(){return l})),i.d(e,"j",(function(){return I}));var n=i("b2cd"),r=i("c120");let s,o=null;function a(){return!!o}function c(){return!!Object(r["a"])("esri-wasm")}function l(){return s||(s=i.e("chunk-bd597f0c").then(i.bind(null,"95a1")).then(t=>t.p).then(({default:t})=>t({locateFile:t=>Object(n["a"])("esri/geometry/support/"+t)})).then(t=>{_(t)}),s)}var u,h,d;!function(t){function e(t,e,i){o.ensureCache.prepare();const n=M(i),r=i===n,s=o.ensureFloat64(n),a=o._pe_geog_to_proj(o.getPointer(t),e,s);return a&&k(i,e,s,r),a}function i(t,i,r,s){switch(s){case h.PE_TRANSFORM_P_TO_G:return n(t,i,r);case h.PE_TRANSFORM_G_TO_P:return e(t,i,r)}return 0}function n(t,e,i){return r(t,e,i,0)}function r(t,e,i,n){o.ensureCache.prepare();const r=M(i),s=i===r,a=o.ensureFloat64(r),c=o._pe_proj_to_geog_center(o.getPointer(t),e,a,n);return c&&k(i,e,a,s),c}t.geogToProj=e,t.projGeog=i,t.projToGeog=n,t.projToGeogCenter=r}(u||(u={})),function(t){function e(){t.PE_BUFFER_MAX=o.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=o.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=o.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=o.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=o.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=o.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=o.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=o.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=o.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=o.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=o.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=o.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=o.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=o.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=o.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=o.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=o.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=o.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=o.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=o.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_PARM_X0=o.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=o.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=o.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=o.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=o.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=o.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=o.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=o.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=o.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=o.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(h||(h={})),function(t){const e={},i={},n=t=>{if(t){const e=t.getType();switch(e){case h.PE_TYPE_GEOGCS:t=o.castObject(t,o.PeGeogcs);break;case h.PE_TYPE_PROJCS:t=o.castObject(t,o.PeProjcs);break;case h.PE_TYPE_GEOGTRAN:t=o.castObject(t,o.PeGeogtran);break;default:e&h.PE_TYPE_UNIT&&(t=o.castObject(t,o.PeUnit))}}return t};function r(){o.PeFactory.prototype.initialize(null)}function s(t){return a(h.PE_TYPE_COORDSYS,t)}function a(t,i){let r=null,s=e[t];if(s||(s={},e[t]=s),s.hasOwnProperty(String(i)))r=s[i];else{const e=o.PeFactory.prototype.factoryByType(t,i);o.compare(e,o.NULL)||(r=e,s[i]=r)}return r=n(r),r}function c(t,e){let r=null,s=i[t];if(s||(s={},i[t]=s),s.hasOwnProperty(e))r=s[e];else{const i=o.PeFactory.prototype.fromString(t,e);o.compare(i,o.NULL)||(r=i,s[e]=r)}return r=n(r),r}function l(t){return a(h.PE_TYPE_GEOGCS,t)}function u(t){return a(h.PE_TYPE_GEOGTRAN,t)}function d(t){return o.PeFactory.prototype.getCode(t)}function p(t){return a(h.PE_TYPE_PROJCS,t)}function f(t){return a(h.PE_TYPE_UNIT,t)}t.initialize=r,t.coordsys=s,t.factoryByType=a,t.fromString=c,t.geogcs=l,t.geogtran=u,t.getCode=d,t.projcs=p,t.unit=f}(d||(d={}));let p=null;var f,b,y,m,g,v,w,O,j;function _(t){function e(t,e,i){t[e]=i(t[e])}o=t,h.init(),f.init(),g.init(),w.init(),O.init(),p=class extends o.PeGCSExtent{destroy(){o.destroy(this)}};const i=[o.PeDatum,o.PeGeogcs,o.PeGeogtran,o.PeObject,o.PeParameter,o.PePrimem,o.PeProjcs,o.PeSpheroid,o.PeUnit];for(const s of i)e(s.prototype,"getName",t=>function(){return t.call(this,new Array(h.PE_NAME_MAX))});for(const s of[o.PeGeogtran,o.PeProjcs])e(s.prototype,"getParameters",t=>function(){const e=new Array(h.PE_PARM_MAX);let i=t.call(this);for(let t=0;t<e.length;t++){const n=o.getValue(i,"*");e[t]=n?o.wrapPointer(n,o.PeParameter):null,i+=Int32Array.BYTES_PER_ELEMENT}return e});e(o.PeHorizon.prototype,"getCoord",t=>function(){const e=this.getSize();if(!e)return null;const i=[];return k(i,e,t.call(this)),i}),e(o.PeGTlistExtendedEntry.prototype,"getEntries",t=>{const e=o._pe_getPeGTlistExtendedGTsSize();return function(){let i=null;const n=t.call(this);if(!o.compare(n,o.NULL)){i=[n];const t=this.getSteps();if(t>1){const r=o.getPointer(n);for(let n=1;n<t;n++)i.push(o.wrapPointer(r+e*n,o.PeGTlistExtendedGTs))}}return i}});const n=o._pe_getPeHorizonSize(),r=t=>function(){let e=this._cache;if(e||(e=new Map,this._cache=e),e.has(t))return e.get(t);let i=null;const r=t.call(this);if(!o.compare(r,o.NULL)){i=[r];const t=r.getNump();if(t>1){const e=o.getPointer(r);for(let r=1;r<t;r++)i.push(o.wrapPointer(e+n*r,o.PeHorizon))}}return e.set(t,i),i};e(o.PeProjcs.prototype,"horizonGcsGenerate",r),e(o.PeProjcs.prototype,"horizonPcsGenerate",r),o.PeObject.prototype.toString=function(t=h.PE_STR_OPTS_NONE){o.ensureCache.prepare();const e=o.getPointer(this),i=o.ensureInt8(new Array(h.PE_BUFFER_MAX));return o.UTF8ToString(o._pe_object_to_string_ext(e,t,i))}}function x(t){if(!t)return;const e=o.getClass(t);if(!e)return;const i=o.getCache(e);if(!i)return;const n=o.getPointer(t);n&&delete i[n]}function S(t,e){const i=[],n=new Array(e);for(let r=0;r<t;r++)i.push(o.ensureInt8(n));return i}function M(t){let e;return Array.isArray(t[0])?(e=[],t.forEach(t=>{e.push(t[0],t[1])})):e=t,e}function k(t,e,i,n=!1){if(n)for(let r=0;r<2*e;r++)t[r]=o.getValue(i+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=0===t.length;for(let r=0;r<e;r++)n&&(t[r]=new Array(2)),t[r][0]=o.getValue(i,"double"),t[r][1]=o.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}!function(t){let e;function i(){t.PE_GTLIST_OPTS_COMMON=o.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=o._pe_getPeGTlistExtendedEntrySize()}function n(t,i,n,r,s,a){let c=null;const l=new o.PeInteger(a);try{const u=o.PeGTlistExtended.prototype.getGTlist(t,i,n,r,s,l);if((a=l.val)&&(c=[u],a>1)){const t=o.getPointer(u);for(let i=1;i<a;i++)c.push(o.wrapPointer(t+e*i,o.PeGTlistExtendedEntry))}}finally{o.destroy(l)}return c}t.init=i,t.getGTlist=n}(f||(f={})),function(t){function e(t){if(t&&t.length){for(const e of t)x(e),e.getEntries().forEach(t=>{x(t);const e=t.getGeogtran();x(e),e.getParameters().forEach(x),[e.getGeogcs1(),e.getGeogcs2()].forEach(t=>{x(t);const e=t.getDatum();x(e),x(e.getSpheroid()),x(t.getPrimem()),x(t.getUnit())})});o.PeGTlistExtendedEntry.prototype.Delete(t[0])}}t.destroy=e}(b||(b={})),function(t){function e(t,e,i,n,r){o.ensureCache.prepare();const s=M(i),a=i===s,c=o.ensureFloat64(s);let l=0;n&&(l=o.ensureFloat64(n));const u=o._pe_geog_to_geog(o.getPointer(t),e,c,l,r);return u&&k(i,e,c,a),u}t.geogToGeog=e}(y||(y={})),function(t){const e=(t,e,i,n,r,s)=>{let a,c;switch(o.ensureCache.prepare(),t){case"dd":a=o._pe_geog_to_dd,c=h.PE_DD_MAX;break;case"ddm":a=o._pe_geog_to_ddm,c=h.PE_DDM_MAX;break;case"dms":a=o._pe_geog_to_dms,c=h.PE_DMS_MAX}let l=0;e&&(l=o.getPointer(e));const u=M(n),d=o.ensureFloat64(u),p=S(i,c),f=a(l,i,d,r,o.ensureInt32(p));if(f)for(let h=0;h<i;h++)s[h]=o.UTF8ToString(p[h]);return f},i=(t,e,i,n,r)=>{let s;switch(o.ensureCache.prepare(),t){case"dd":s=o._pe_dd_to_geog;break;case"ddm":s=o._pe_ddm_to_geog;break;case"dms":s=o._pe_dms_to_geog}let a=0;e&&(a=o.getPointer(e));const c=n.map(t=>o.ensureString(t)),l=o.ensureInt32(c),u=o.ensureFloat64(new Array(2*i)),h=s(a,i,l,u);return h&&k(r,i,u),h};function n(t,i,n,r,s){return e("dms",t,i,n,r,s)}function r(t,e,n,r){return i("dms",t,e,n,r)}function s(t,i,n,r,s){return e("ddm",t,i,n,r,s)}function a(t,e,n,r){return i("ddm",t,e,n,r)}function c(t,i,n,r,s){return e("dd",t,i,n,r,s)}function l(t,e,n,r){return i("dd",t,e,n,r)}t.geog_to_dms=n,t.dms_to_geog=r,t.geog_to_ddm=s,t.ddm_to_geog=a,t.geog_to_dd=c,t.dd_to_geog=l}(m||(m={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=o.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=o.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=o.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=o.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=o.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(t,e,i,n,r,s,a){o.ensureCache.prepare();let c=0;t&&(c=o.getPointer(t));const l=M(i),u=o.ensureFloat64(l),d=S(e,h.PE_MGRS_MAX),p=o.ensureInt32(d),f=o._pe_geog_to_mgrs_extended(c,e,u,n,r,s,p);if(f)for(let h=0;h<e;h++)a[h]=o.UTF8ToString(d[h]);return f}function n(t,e,i,n,r){o.ensureCache.prepare();let s=0;t&&(s=o.getPointer(t));const a=i.map(t=>o.ensureString(t)),c=o.ensureInt32(a),l=o.ensureFloat64(new Array(2*e)),u=o._pe_mgrs_to_geog_extended(s,e,c,n,l);return u&&k(r,e,l),u}t.init=e,t.geog_to_mgrs_extended=i,t.mgrs_to_geog_extended=n}(g||(g={})),function(t){function e(t,e,i,n,r,s,a){o.ensureCache.prepare();let c=0;t&&(c=o.getPointer(t));const l=M(i),u=o.ensureFloat64(l),d=S(e,h.PE_MGRS_MAX),p=o.ensureInt32(d),f=o._pe_geog_to_usng(c,e,u,n,r,s,p);if(f)for(let h=0;h<e;h++)a[h]=o.UTF8ToString(d[h]);return f}function i(t,e,i,n){o.ensureCache.prepare();let r=0;t&&(r=o.getPointer(t));const s=i.map(t=>o.ensureString(t)),a=o.ensureInt32(s),c=o.ensureFloat64(new Array(2*e)),l=o._pe_usng_to_geog(r,e,a,c);return l&&k(n,e,c),l}t.geog_to_usng=e,t.usng_to_geog=i}(v||(v={})),function(t){function e(){t.PE_UTM_OPTS_NONE=o.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=o.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=o.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(t,e,i,n,r){o.ensureCache.prepare();let s=0;t&&(s=o.getPointer(t));const a=M(i),c=o.ensureFloat64(a),l=S(e,h.PE_UTM_MAX),u=o.ensureInt32(l),d=o._pe_geog_to_utm(s,e,c,n,u);if(d)for(let h=0;h<e;h++)r[h]=o.UTF8ToString(l[h]);return d}function n(t,e,i,n,r){o.ensureCache.prepare();let s=0;t&&(s=o.getPointer(t));const a=i.map(t=>o.ensureString(t)),c=o.ensureInt32(a),l=o.ensureFloat64(new Array(2*e)),u=o._pe_utm_to_geog(s,e,c,n,l);return u&&k(r,e,l),u}t.init=e,t.geog_to_utm=i,t.utm_to_geog=n}(w||(w={})),function(t){const e=new Map;function i(){t.PE_PCSINFO_OPTION_NONE=o.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=o.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=o.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=o.PePCSInfo.prototype.PE_POLE_POINT}function n(i,n=t.PE_PCSINFO_OPTION_DOMAIN){let r,s;return e.has(i)&&(s=e.get(i),s[n]&&(r=s[n])),r||(r=o.PePCSInfo.prototype.generate(i,n),s||(s=[],e.set(i,s)),s[n]=r),r}t.init=i,t.generate=n}(O||(O={})),function(t){function e(){return o.PeVersion.prototype.version_string()}t.version_string=e}(j||(j={}));const I=Object.freeze({__proto__:null,get _pe(){return o},isLoaded:a,isSupported:c,load:l,get PeCSTransformations(){return u},get PeDefs(){return h},get PeFactory(){return d},get PeGCSExtent(){return p},get PeGTlistExtended(){return f},get PeGTlistExtendedEntry(){return b},get PeGTTransformations(){return y},get PeNotationDms(){return m},get PeNotationMgrs(){return g},get PeNotationUsng(){return v},get PeNotationUtm(){return w},get PePCSInfo(){return O},get PeVersion(){return j},_init:_})},"94ca":function(t,e,i){var n=i("d039"),r=i("1626"),s=/#|\.prototype\./,o=function(t,e){var i=c[a(t)];return i==u||i!=l&&(r(e)?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},"961d":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("09db");let c=class extends r["a"]{constructor(t){super(t),this.enabled=!0,this.type=null}writeEnabled(t,e,i){t||(e[i]=t)}};Object(n["a"])([Object(s["b"])({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0),Object(n["a"])([Object(a["a"])("enabled")],c.prototype,"writeEnabled",null),Object(n["a"])([Object(s["b"])({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],c.prototype,"type",void 0),c=Object(n["a"])([Object(o["a"])("esri.symbols.Symbol3DLayer")],c);const l=c},9651:function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var n,r=i("a4ee"),s=i("2eab"),o=i("fc29"),a=i("ce50"),c=i("9096"),l=i("e92d"),u=i("c24e"),h=i("8a44"),d=i("f4cc"),p=i("5815"),f=i("e041"),b=i("3795"),y=i("59b2"),m=i("b50f"),g=(i("c120"),i("1a3e")),v=i("d386"),w=i("7ffa");class O{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}getAvailability(t,e){if("unknown"!==this._allAvailability)return this._allAvailability;const i=(t-this.location.top)*this.location.width+(e-this.location.left),n=i%8,r=i>>3,s=this._tileAvailabilityBitSet;return r<0||r>s.length?"unknown":s[r]&1<<n?"available":"unavailable"}_updateFromData(t){const e=this.location.width,i=this.location.height;let n=!0,r=!0;const s=Math.ceil(e*i/8),o=new Uint8Array(s);let a=0;for(let c=0;c<t.length;c++){const e=c%8;t[c]?(r=!1,o[a]|=1<<e):n=!1,7===e&&++a}r?this._allAvailability="unavailable":n?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}static fromDefinition(t,e){const i=t.service.request||s["default"],{row:n,col:r,width:o,height:c}=t,l={query:{f:"json"}};return e=e?{...l,...e}:l,i(_(t),e).then(t=>t.data).catch(t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:n,left:r,width:o,height:c},valid:!0,data:Object(m["b"])(o*c,0)};throw t}).then(t=>{if(t.location&&(t.location.top!==n||t.location.left!==r||t.location.width!==o||t.location.height!==c))throw new a["a"]("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:n,left:r,width:o,height:c}});return O.fromJSON(t)})}static fromJSON(t){O.validateJSON(t);const e=new O;return e.location=Object.freeze(Object(w["a"])(t.location)),e._updateFromData(t.data),Object.freeze(e)}static validateJSON(t){if(!t||!t.location)throw new a["a"]("tilemap:missing-location","Location missing from tilemap response");if(!1===t.valid)throw new a["a"]("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new a["a"]("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new a["a"]("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new a["a"]("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function j(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function _(t){let e;if("vector-tile"===t.service.type)e=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const i=t.service.tileServers;e=`${i&&i.length?i[t.row%i.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const i=t.service.query;return i&&(e=`${e}?${i}`),e}const x=l["a"].getLogger("esri.layers.support.TilemapCache");let S=n=class extends(Object(c["b"])(o["a"])){constructor(t){super(t),this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=s["default"],this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new u["a"](this.cacheByteSize),this.handles.add([this.watch(["layer.parsedUrl","layer.tileServers?","layer.apiKey?","layer.customParameters?"],()=>this._initializeTilemapDefinition()),Object(b["a"])(this,"layer.tileInfo.lods",t=>this._initializeAvailableLevels(t),!0)]),this._initializeTilemapDefinition()}castLevels(t){return t<=2?(x.error("Minimum levels for Tilemap is 3, but got ",t),3):t}get size(){return 1<<this.levels}fetchTilemap(t,e,i,n){if(!this._availableLevels[t])return Promise.reject(new a["a"]("tilemap-cache:level-unavailable",`Level ${t} is unavailable in the service`));const r=this._tmpTilemapDefinition,s=this._tilemapFromCache(t,e,i,r);if(s)return Promise.resolve(s);const o=n&&n.signal;return n={...n,signal:null},new Promise((t,e)=>{Object(d["p"])(o,()=>e(Object(d["d"])()));const i=j(r);let s=this._pendingTilemapRequests[i];if(!s){s=O.fromDefinition(r,n).then(t=>(this._tilemapCache.put(i,t,t.byteSize),t));const t=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(t,t)}s.then(t,e)})}getAvailability(t,e,i){if(!this._availableLevels[t])return"unavailable";const n=this._tilemapFromCache(t,e,i,this._tmpTilemapDefinition);return n?n.getAvailability(e,i):"unknown"}fetchAvailability(t,e,i,n){return this._availableLevels[t]?this.fetchTilemap(t,e,i,n).catch(t=>t).then(n=>{if(n instanceof O){const r=n.getAvailability(e,i);return"unavailable"===r?Promise.reject(new a["a"]("tile-map:tile-unavailable","Tile is not available",{level:t,row:e,col:i})):r}if(Object(d["l"])(n))throw n;return"unknown"}):Promise.reject(new a["a"]("tilemap-cache:level-unavailable",`Level ${t} is unavailable in the service`))}fetchAvailabilityUpsample(t,e,i,n,r){n.level=t,n.row=e,n.col=i;const s=this.layer.tileInfo;s.updateTileInfo(n);const o=this.fetchAvailability(t,e,i,r).catch(t=>{if(Object(d["l"])(t))throw t;if(s.upsampleTile(n))return this.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw t});return this._fetchAvailabilityUpsamplePrefetch(n.id,t,e,i,r,o),o}async _fetchAvailabilityUpsamplePrefetch(t,e,i,r,s,o){if(!this._prefetchingEnabled)return;const a="prefetch-"+t;if(this.handles.has(a))return;const c=new AbortController;o.then(()=>c.abort(),()=>c.abort());let l=!1;const u={remove(){l||(l=!0,c.abort())}};if(this.handles.add(u,a),await Object(p["c"])(10,c.signal).catch(()=>{}),l||(l=!0,this.handles.remove(a)),Object(d["m"])(c))return;const h={id:t,level:e,row:i,col:r},f={...s,signal:c.signal},b=this.layer.tileInfo;for(let d=0;n._prefetches.length<n._maxPrefetch&&b.upsampleTile(h);++d){const t=this.fetchAvailability(h.level,h.row,h.col,f);n._prefetches.push(t);const e=()=>{n._prefetches.removeUnordered(t)};t.then(e,e)}}_initializeTilemapDefinition(){var t;if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:i,customParameters:n}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:Object(f["E"])({...e.query,...n,token:null!=i?i:null==(t=e.query)?void 0:t.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(t,e,i,n){n.level=t,n.row=e-e%this.size,n.col=i-i%this.size;const r=j(n);return this._tilemapCache.get(r)}_initializeAvailableLevels(t){this._availableLevels={},t&&t.forEach(t=>this._availableLevels[t.level]=!0)}get test(){const t=this;return{get prefetchingEnabled(){return t._prefetchingEnabled},set prefetchingEnabled(e){t._prefetchingEnabled=e},hasTilemap:(e,i,n)=>!!t._tilemapFromCache(e,i,n,t._tmpTilemapDefinition)}}};S._maxPrefetch=4,S._prefetches=new h["a"]({initialSize:n._maxPrefetch}),Object(r["a"])([Object(y["b"])({constructOnly:!0,type:Number})],S.prototype,"levels",void 0),Object(r["a"])([Object(g["a"])("levels")],S.prototype,"castLevels",null),Object(r["a"])([Object(y["b"])({readOnly:!0,type:Number})],S.prototype,"size",null),Object(r["a"])([Object(y["b"])({constructOnly:!0,type:Number})],S.prototype,"cacheByteSize",void 0),Object(r["a"])([Object(y["b"])({constructOnly:!0})],S.prototype,"layer",void 0),Object(r["a"])([Object(y["b"])({constructOnly:!0})],S.prototype,"request",void 0),S=n=Object(r["a"])([Object(v["a"])("esri.layers.support.TilemapCache")],S)},"96cf":function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(C){c=function(t,e,i){return t[e]=i}}function l(t,e,i,n){var r=e&&e.prototype instanceof y?e:y,s=Object.create(r.prototype),o=new T(n||[]);return s._invoke=S(t,i,o),s}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(C){return{type:"throw",arg:C}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",f="completed",b={};function y(){}function m(){}function g(){}var v={};c(v,s,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(E([])));O&&O!==i&&n.call(O,s)&&(v=O);var j=g.prototype=y.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,s,o,a){var c=u(t[r],t,s);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return i("throw",t,o,a)}))}a(c.arg)}var r;function s(t,n){function s(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(s,s):s()}this._invoke=s}function S(t,e,i){var n=h;return function(r,s){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw s;return A()}i.method=r,i.arg=s;while(1){var o=i.delegate;if(o){var a=M(o,i);if(a){if(a===b)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var c=u(t,e,i);if("normal"===c.type){if(n=i.done?f:d,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=f,i.method="throw",i.arg=c.arg)}}}function M(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,M(t,i),"throw"===i.method))return b;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var r=u(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,b;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,b):s:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,b)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var i=t[s];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=g,c(j,"constructor",g),c(g,"constructor",m),m.displayName=c(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,a,"GeneratorFunction")),t.prototype=Object.create(j),t},t.awrap=function(t){return{__await:t}},_(x.prototype),c(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var o=new x(l(e,i,n,r),s);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(j),c(j,a,"Generator"),c(j,s,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=E,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),I(i),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;I(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:E(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}(t.exports);try{regeneratorRuntime=n}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},"96d4":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n,r=i("a4ee"),s=i("e06a"),o=i("658b"),a=i("fa8a"),c=i("6a0e"),l=i("7ffa"),u=i("b2b2"),h=i("59b2"),d=(i("cea0"),i("d386")),p=i("69dd");const f=new a["a"]({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),b=new a["a"]({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let y=n=class extends c["a"]{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:i,spatialRelationship:n,timeExtent:r,objectIds:s,units:o,distance:a}=this;return new p["a"]({geometry:Object(l["a"])(i),objectIds:Object(l["a"])(s),spatialRelationship:n,timeExtent:Object(l["a"])(r),where:e,units:o,distance:a,...t})}clone(){const{where:t,geometry:e,spatialRelationship:i,timeExtent:r,objectIds:s,units:o,distance:a}=this;return new n({geometry:Object(l["a"])(e),objectIds:Object(l["a"])(s),spatialRelationship:i,timeExtent:Object(l["a"])(r),where:t,units:o,distance:a})}};Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],y.prototype,"where",void 0),Object(r["a"])([Object(h["b"])({types:s["a"],json:{write:!0}})],y.prototype,"geometry",void 0),Object(r["a"])([Object(h["b"])({type:f.apiValues,json:{name:"spatialRel",read:{reader:f.read},write:{allowNull:!1,writer:f.write,overridePolicy(){return{enabled:Object(u["l"])(this.geometry)}}}}})],y.prototype,"spatialRelationship",void 0),Object(r["a"])([Object(h["b"])({type:Number,json:{write:{overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],y.prototype,"distance",void 0),Object(r["a"])([Object(h["b"])({type:[Number],json:{write:!0}})],y.prototype,"objectIds",void 0),Object(r["a"])([Object(h["b"])({type:b.apiValues,json:{read:b.read,write:{writer:b.write,overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],y.prototype,"units",void 0),Object(r["a"])([Object(h["b"])({type:o["a"],json:{write:!0}})],y.prototype,"timeExtent",void 0),y=n=Object(r["a"])([Object(d["a"])("esri.layers.support.FeatureFilter")],y);const m=y},"970c":function(t,e,i){"use strict";function n(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function r(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(t,e,i,n,r,s,o,a,c,l,u,h,d,p,f,b){const y=new Float32Array(16);return y[0]=t,y[1]=e,y[2]=i,y[3]=n,y[4]=r,y[5]=s,y[6]=o,y[7]=a,y[8]=c,y[9]=l,y[10]=u,y[11]=h,y[12]=d,y[13]=p,y[14]=f,y[15]=b,y}function o(t,e){return new Float32Array(t,e,16)}i.d(e,"a",(function(){return n}));const a=n();Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o,IDENTITY:a})},9786:function(t,e,i){"use strict";i.d(e,"a",(function(){return y})),i.d(e,"b",(function(){return w})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return O})),i.d(e,"f",(function(){return v})),i.d(e,"g",(function(){return d}));var n=i("7ffa"),r=i("b2b2"),s=i("5996"),o=i("2255"),a=i("7f83");const c=57.29577951308232,l=.017453292519943;function u(t){return t*c}function h(t){return t*l}function d(t){return Math.PI/2-2*Math.atan(Math.exp(-t/o["a"].radius))}function p(t){return null!=t.wkid||null!=t.wkt}const f=[0,0];function b(t,e,i,n,r){const s=t,o=r;if(o.spatialReference=i,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,f,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,f,n),[o.xmax,o.ymax]=e(s.xmax,s.ymax,f,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const t="paths"in s?s.paths:s.rings,i=[];let r;for(let s=0;s<t.length;s++){const o=t[s];r=[],i.push(r);for(let t=0;t<o.length;t++)r.push(e(o[t][0],o[t][1],[0,0],n)),o[t].length>2&&r[t].push(o[t][2]),o[t].length>3&&r[t].push(o[t][3])}"paths"in o?o.paths=i:o.rings=i}else if("points"in s&&"points"in o){const t=s.points,i=[];for(let r=0;r<t.length;r++)i[r]=e(t[r][0],t[r][1],[0,0],n),t[r].length>2&&i[r].push(t[r][2]),t[r].length>3&&i[r].push(t[r][3]);o.points=i}return r}function y(t,e){const i=t&&(p(t)?t:t.spatialReference),n=e&&(p(e)?e:e.spatialReference);return!(t&&"type"in t&&"mesh"===t.type||e&&"type"in e&&"mesh"===e.type||!i||!n)&&(!!Object(a["d"])(n,i)||Object(a["p"])(n)&&Object(a["m"])(i)||Object(a["p"])(i)&&Object(a["m"])(n))}function m(t,e){if(Object(r["k"])(t))return null;const i=t.spatialReference,o=e&&(p(e)?e:e.spatialReference);return y(i,o)?Object(a["d"])(i,o)?Object(n["a"])(t):Object(a["p"])(o)?b(t,g,s["a"].WebMercator,!1,Object(n["a"])(t)):Object(a["m"])(o)?b(t,v,s["a"].WGS84,!1,Object(n["a"])(t)):null:null}function g(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const n=h(e);return i[0]=h(t)*o["a"].radius,i[1]=o["a"].halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function v(t,e,i=[0,0],n=!1){const r=u(t/o["a"].radius);return i[0]=n?r:r-360*Math.floor((r+180)/360),i[1]=u(Math.PI/2-2*Math.atan(Math.exp(-e/o["a"].radius))),i}function w(t,e=!1,i=Object(n["a"])(t)){return b(t,g,s["a"].WebMercator,e,i)}function O(t,e=!1,i=Object(n["a"])(t)){return b(t,v,s["a"].WGS84,e,i)}},9787:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n,r=i("a4ee"),s=i("6a0e"),o=i("a915"),a=i("59b2"),c=(i("b50f"),i("c120"),i("1a3e")),l=i("d386");let u=n=class extends s["a"]{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Object(o["j"])(t)}clone(){return new n({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};Object(r["a"])([Object(a["b"])({type:["underline","line-through","none"],json:{default:"none",write:!0}})],u.prototype,"decoration",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],u.prototype,"family",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],u.prototype,"size",void 0),Object(r["a"])([Object(c["a"])("size")],u.prototype,"castSize",null),Object(r["a"])([Object(a["b"])({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],u.prototype,"style",void 0),Object(r["a"])([Object(a["b"])({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],u.prototype,"weight",void 0),u=n=Object(r["a"])([Object(l["a"])("esri.symbols.Font")],u);const h=u},"997b":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386")),o=i("d4e6");const a=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return Object(n["a"])([Object(r["b"])({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],e.prototype,"blendMode",void 0),Object(n["a"])([Object(r["b"])({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:o["b"]},write:{allowNull:!0,writer:o["c"]}}}}})],e.prototype,"effect",void 0),e=Object(n["a"])([Object(s["a"])("esri.layers.mixins.BlendLayer")],e),e}},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),s=i("d039"),o=i("e8b5"),a=i("861d"),c=i("7b0b"),l=i("07fa"),u=i("8418"),h=i("65f0"),d=i("1dde"),p=i("b622"),f=i("2d00"),b=p("isConcatSpreadable"),y=9007199254740991,m="Maximum allowed index exceeded",g=r.TypeError,v=f>=51||!s((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),w=d("concat"),O=function(t){if(!a(t))return!1;var e=t[b];return void 0!==e?!!e:o(t)},j=!v||!w;n({target:"Array",proto:!0,forced:j},{concat:function(t){var e,i,n,r,s,o=c(this),a=h(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?o:arguments[e],O(s)){if(r=l(s),d+r>y)throw g(m);for(i=0;i<r;i++,d++)i in s&&u(a,d,s[i])}else{if(d>=y)throw g(m);u(a,d++,s)}return a.length=d,a}})},"99f3":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("82e4");let l=n=class extends s["a"]{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new n({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const t=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${t}`}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],l.prototype,"description",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],l.prototype,"label",void 0),Object(r["a"])([Object(o["b"])(c["b"])],l.prototype,"symbol",void 0),Object(r["a"])([Object(o["b"])({type:[String,Number],json:{type:String,write:{writer:(t,e)=>{e.value=null==t?void 0:t.toString()}}}})],l.prototype,"value",void 0),l=n=Object(r["a"])([Object(a["a"])("esri.renderers.support.UniqueValueInfo")],l);const u=l},"9a1f":function(t,e,i){var n=i("da84"),r=i("c65b"),s=i("59ed"),o=i("825a"),a=i("0d51"),c=i("35a1"),l=n.TypeError;t.exports=function(t,e){var i=arguments.length<2?c(t):e;if(s(i))return o(r(i,t));throw l(a(t)+" is not iterable")}},"9a81":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("a915"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386"));let l=n=class extends s["a"]{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new n({label:this.label,size:this.size,value:this.value})}};Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],l.prototype,"label",void 0),Object(r["a"])([Object(a["b"])({type:Number,cast:o["j"],json:{write:!0}})],l.prototype,"size",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],l.prototype,"value",void 0),l=n=Object(r["a"])([Object(c["a"])("esri.renderers.visualVariables.support.SizeStop")],l);const u=l},"9b40":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("8048"),r=i("2255");const s={inches:Object(n["b"])(1,"meters","inches"),feet:Object(n["b"])(1,"meters","feet"),"us-feet":Object(n["b"])(1,"meters","us-feet"),yards:Object(n["b"])(1,"meters","yards"),miles:Object(n["b"])(1,"meters","miles"),"nautical-miles":Object(n["b"])(1,"meters","nautical-miles"),millimeters:Object(n["b"])(1,"meters","millimeters"),centimeters:Object(n["b"])(1,"meters","centimeters"),decimeters:Object(n["b"])(1,"meters","decimeters"),meters:Object(n["b"])(1,"meters","meters"),kilometers:Object(n["b"])(1,"meters","kilometers"),"decimal-degrees":1/Object(n["i"])(1,"meters",r["a"].radius)}},"9b86":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("b50f");class r{constructor(t,e){this._observers=t,this._observer=e}remove(){Object(n["h"])(this._observers,this._observer)}}},"9b9d":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],a.prototype,"altText",void 0),Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],a.prototype,"caption",void 0),Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],a.prototype,"title",void 0),Object(n["a"])([Object(s["b"])({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=Object(n["a"])([Object(o["a"])("esri.popup.content.mixins.MediaInfo")],a);const c=a},"9bf2":function(t,e,i){var n=i("da84"),r=i("83ab"),s=i("0cfb"),o=i("825a"),a=i("a04b"),c=n.TypeError,l=Object.defineProperty;e.f=r?l:function(t,e,i){if(o(t),e=a(e),o(i),s)try{return l(t,e,i)}catch(n){}if("get"in i||"set"in i)throw c("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"9c4c":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return c}));var n,r=i("c120");!function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.OPEN=1]="OPEN",t[t.OPENED=2]="OPENED",t[t.RESPONSE=3]="RESPONSE",t[t.INVOKE=4]="INVOKE",t[t.ABORT=5]="ABORT",t[t.CLOSE=6]="CLOSE",t[t.OPEN_PORT=7]="OPEN_PORT",t[t.ON=8]="ON"}(n||(n={}));let s=0;function o(){return s++}function a(t){return t&&"object"==typeof t&&("result"in t||"transferList"in t)}function c(t){return t?"string"==typeof t?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function l(t,e,i,r){if(e.type===n.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==n.INVOKE&&e.type!==n.RESPONSE)return void t.postMessage(e);let s;a(i)?(s=h(i.transferList),e.data=i.result):(s=h(r),e.data=i),s?t.postMessage(e,s):t.postMessage(e)}function u(t){if(!t)return null;const e=t.data;return e?"string"==typeof e?JSON.parse(e):e:null}function h(t){if(!t||!t.length)return null;if(Object(r["a"])("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(t=>!d(t));return e.length?e:null}function d(t){return t instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name}},"9d1d":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o}));var n=i("7ffa");function r(t,e,i=!1){return c(t,e,i)}function s(t,e){if(null!=e)return e[t]||a(t.split("."),!1,e)}function o(t,e,i){const n=t.split("."),r=n.pop(),s=a(n,!0,i);s&&r&&(s[r]=e)}function a(t,e,i){let n=i;for(const r of t){if(null==n)return;if(!(r in n)){if(!e)return;n[r]={}}n=n[r]}return n}function c(t,e,i){return e?Object.keys(e).reduce((function(t,r){let s=t[r],o=e[r];return s===o?t:void 0===s?(t[r]=Object(n["a"])(o),t):(Array.isArray(o)||Array.isArray(t)?(s=s?Array.isArray(s)?t[r]=s.concat():t[r]=[s]:t[r]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(t=>{-1===s.indexOf(t)&&s.push(t)}):t[r]=o.concat())):o&&"object"==typeof o?t[r]=c(s,o,i):t.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(t[r]=o),t)}),t||{}):t}},"9d83":function(t,e,i){"use strict";function n(t){return t&&("function"==typeof t.on||"function"==typeof t.addEventListener)}function r(t,e,i){if(!n(t))throw new TypeError("target is not a Evented or EventTarget object");if("on"in t)return t.on(e,i);if(Array.isArray(e)){const n=e.slice();for(const e of n)t.addEventListener(e,i);return{remove(){for(const e of n)t.removeEventListener(e,i)}}}return t.addEventListener(e,i),{remove(){t.removeEventListener(e,i)}}}function s(t,e,i){if(!n(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const s=r(t,e,e=>{s.remove(),i.call(t,e)});return{remove(){s.remove()}}}i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return s}));const o={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function a({key:t}){return o[t]||t}},"9d9d":function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o}));var n=i("4c37");function r(t,e){const i="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(i,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const r=Object(n["a"])(e);return Object(n["b"])(r,i)?r.get(i):e[i]}function s(t,e,i){if(null==t)return t;const n=r(e[i],t);return!n&&i<e.length-1?void 0:i===e.length-1?n:s(n,e,i+1)}function o(t,e,i=0){return"string"==typeof e&&-1===e.indexOf(".")?r(e,t):s(t,Object(n["f"])(e),i)}function a(t,e){return o(t,e)}function c(t,e){return void 0!==o(e,t)}},"9dc3":function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return M}));var n=i("a4ee"),r=(i("e06a"),i("2eab")),s=i("ce50"),o=i("e694"),a=i("b3b6"),c=i("e041"),l=i("59b2"),u=(i("b50f"),i("c120"),i("cea0"),i("afcf")),h=i("d386"),d=i("09db"),p=i("a6a3"),f=i("997b"),b=i("b911"),y=i("0db5"),m=i("8e17"),g=i("5a62"),v=i("50e6"),w=i("dff3"),O=i("3981"),j=i("3af1"),_=i("5996"),x=i("4ae5");let S=class extends(Object(f["a"])(Object(m["a"])(Object(g["a"])(Object(b["a"])(Object(y["a"])(Object(o["a"])(p["a"]))))))){constructor(...t){super(...t),this.copyright="",this.fullExtent=new j["a"](-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,_["a"].WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=_["a"].WebMercator,this.subDomains=null,this.tileInfo=new w["a"]({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new x["a"]({x:-20037508.342787,y:20037508.342787,spatialReference:_["a"].WebMercator}),spatialReference:_["a"].WebMercator,lods:[new v["a"]({level:0,scale:591657527.591555,resolution:156543.033928}),new v["a"]({level:1,scale:295828763.795777,resolution:78271.5169639999}),new v["a"]({level:2,scale:147914381.897889,resolution:39135.7584820001}),new v["a"]({level:3,scale:73957190.948944,resolution:19567.8792409999}),new v["a"]({level:4,scale:36978595.474472,resolution:9783.93962049996}),new v["a"]({level:5,scale:18489297.737236,resolution:4891.96981024998}),new v["a"]({level:6,scale:9244648.868618,resolution:2445.98490512499}),new v["a"]({level:7,scale:4622324.434309,resolution:1222.99245256249}),new v["a"]({level:8,scale:2311162.217155,resolution:611.49622628138}),new v["a"]({level:9,scale:1155581.108577,resolution:305.748113140558}),new v["a"]({level:10,scale:577790.554289,resolution:152.874056570411}),new v["a"]({level:11,scale:288895.277144,resolution:76.4370282850732}),new v["a"]({level:12,scale:144447.638572,resolution:38.2185141425366}),new v["a"]({level:13,scale:72223.819286,resolution:19.1092570712683}),new v["a"]({level:14,scale:36111.909643,resolution:9.55462853563415}),new v["a"]({level:15,scale:18055.954822,resolution:4.77731426794937}),new v["a"]({level:16,scale:9027.977411,resolution:2.38865713397468}),new v["a"]({level:17,scale:4513.988705,resolution:1.19432856685505}),new v["a"]({level:18,scale:2256.994353,resolution:.597164283559817}),new v["a"]({level:19,scale:1128.497176,resolution:.298582141647617}),new v["a"]({level:20,scale:564.248588,resolution:.14929107082380833}),new v["a"]({level:21,scale:282.124294,resolution:.07464553541190416}),new v["a"]({level:22,scale:141.062147,resolution:.03732276770595208}),new v["a"]({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(t,e){return"string"==typeof t?{urlTemplate:t,...e}:t}load(t){const e=this.loadFromPortal({supportedTypes:["WMTS"]},t).then(()=>{let t="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const e=new c["a"](this.urlTemplate);this.subDomains&&this.subDomains.length>0||-1===e.authority.indexOf("{subDomain}")||(t="is missing 'subDomains' property")}else t="spatialReference must match tileInfo.spatialReference";else t="is missing the required 'urlTemplate' property value";if(t)throw new s["a"]("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${t}`)});return this.addResolvingPromise(e),Promise.resolve(this)}get levelValues(){const t=[];if(!this.tileInfo)return null;for(const e of this.tileInfo.lods)t[e.level]=e.levelValue||e.level;return t}readSpatialReference(t,e){return t||e.fullExtent&&e.fullExtent.spatialReference&&_["a"].fromJSON(e.fullExtent.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const t=[],{urlTemplate:e,subDomains:i}=this,n=new c["a"](e),r=n.scheme?n.scheme+"://":"//",s=r+n.authority+"/";if(-1===n.authority.indexOf("{subDomain}"))t.push(s);else if(i&&i.length>0&&n.authority.split(".").length>1)for(const o of i)t.push(r+n.authority.replace(/\{subDomain\}/gi,o)+"/");return t.map(t=>("/"!==t.charAt(t.length-1)&&(t+="/"),t))}get urlPath(){if(!this.urlTemplate)return null;const t=this.urlTemplate,e=new c["a"](t),i=(e.scheme?e.scheme+"://":"//")+e.authority+"/";return t.substring(i.length)}readUrlTemplate(t,e){return t||e.templateUrl}writeUrlTemplate(t,e){t&&Object(c["w"])(t)&&(t="https:"+t),t&&(t=t.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),t=Object(c["D"])(t)),e.templateUrl=t}fetchTile(t,e,i,n={}){const{signal:s}=n,o=this.getTileUrl(t,e,i),a={responseType:"image",signal:s,query:{...this.refreshParameters}};return Object(r["default"])(o,a).then(t=>t.data)}getTileUrl(t,e,i){const n=this.levelValues[t];return this.tileServers[e%this.tileServers.length]+Object(a["c"])(this.urlPath,{level:n,z:n,col:i,x:i,row:e,y:e})}};Object(n["a"])([Object(l["b"])({type:String,value:"",json:{write:!0}})],S.prototype,"copyright",void 0),Object(n["a"])([Object(l["b"])({type:j["a"],json:{write:!0},nonNullable:!0})],S.prototype,"fullExtent",void 0),Object(n["a"])([Object(l["b"])({readOnly:!0,json:{read:!1,write:!1}})],S.prototype,"legendEnabled",void 0),Object(n["a"])([Object(l["b"])({type:["show","hide"]})],S.prototype,"listMode",void 0),Object(n["a"])([Object(l["b"])()],S.prototype,"levelValues",null),Object(n["a"])([Object(l["b"])({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],S.prototype,"isReference",void 0),Object(n["a"])([Object(l["b"])({type:["WebTiledLayer"],value:"WebTiledLayer"})],S.prototype,"operationalLayerType",void 0),Object(n["a"])([Object(l["b"])({readOnly:!0,json:{read:!1,write:!1}})],S.prototype,"popupEnabled",void 0),Object(n["a"])([Object(l["b"])({type:_["a"]})],S.prototype,"spatialReference",void 0),Object(n["a"])([Object(u["a"])("spatialReference",["spatialReference","fullExtent.spatialReference"])],S.prototype,"readSpatialReference",null),Object(n["a"])([Object(l["b"])({type:[String],json:{write:!0}})],S.prototype,"subDomains",void 0),Object(n["a"])([Object(l["b"])({type:w["a"],json:{write:!0}})],S.prototype,"tileInfo",void 0),Object(n["a"])([Object(l["b"])({readOnly:!0})],S.prototype,"tileServers",null),Object(n["a"])([Object(l["b"])({json:{read:!1}})],S.prototype,"type",void 0),Object(n["a"])([Object(l["b"])()],S.prototype,"urlPath",null),Object(n["a"])([Object(l["b"])({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],S.prototype,"urlTemplate",void 0),Object(n["a"])([Object(u["a"])("urlTemplate",["urlTemplate","templateUrl"])],S.prototype,"readUrlTemplate",null),Object(n["a"])([Object(d["a"])("urlTemplate",{templateUrl:{type:String}})],S.prototype,"writeUrlTemplate",null),Object(n["a"])([Object(l["b"])({type:O["a"],json:{write:!0}})],S.prototype,"wmtsInfo",void 0),S=Object(n["a"])([Object(h["a"])("esri.layers.WebTileLayer")],S);const M=S},"9ed3":function(t,e,i){"use strict";var n=i("ae93").IteratorPrototype,r=i("7c73"),s=i("5c6c"),o=i("d44e"),a=i("3f8c"),c=function(){return this};t.exports=function(t,e,i,l){var u=e+" Iterator";return t.prototype=r(n,{next:s(+!l,i)}),o(t,u,!1,!0),a[u]=c,t}},"9ef0":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("eb37"),r=i("38a4"),s=i("b2b2"),o=i("cea0");function a(t){return Object(r["d"])(Object(o["e"])(t),0,255)}function c(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}class l{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,e,i,n=new l){return n.r=Math.round(t.r+(e.r-t.r)*i),n.g=Math.round(t.g+(e.g-t.g)*i),n.b=Math.round(t.b+(e.b-t.b)*i),n.a=t.a+(e.a-t.a)*i,n._sanitize()}static fromRgb(t,e){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){const t=i[2].split(/\s*,\s*/),r=i[1];if("rgb"===r&&3===t.length||"rgba"===r&&4===t.length){const i=t[0];if("%"===i.charAt(i.length-1)){const i=t.map(t=>2.56*parseFloat(t));return 4===t.length&&(i[3]=parseFloat(t[3])),l.fromArray(i,e)}return l.fromArray(t.map(t=>parseFloat(t)),e)}if("hsl"===r&&3===t.length||"hsla"===r&&4===t.length)return l.fromArray(Object(n["d"])(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),e)}return null}static fromHex(t,e=new l){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const i=4===t.length?4:8,n=(1<<i)-1;let r=Number("0x"+t.substr(1));return isNaN(r)?null:(["b","g","r"].forEach(t=>{const s=r&n;r>>=i,e[t]=4===i?17*s:s}),e.a=1,e)}static fromArray(t,e=new l){return e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1),e._sanitize()}static fromString(t,e){const i=Object(n["e"])(t)?Object(n["a"])(t):null;return i&&l.fromArray(i,e)||l.fromRgb(t,e)||l.fromHex(t,e)}static fromJSON(t){return t&&new l([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return Object(s["l"])(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return Object(s["l"])(t)?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if("string"==typeof t)l.fromString(t,this);else if(Array.isArray(t))l.fromArray(t,this);else{var e,i,n,r;this._set(null!=(e=t.r)?e:0,null!=(i=t.g)?i:0,null!=(n=t.b)?n:0,null!=(r=t.a)?r:1),t instanceof l||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return`#${t.length<2?"0"+t:t}${e.length<2?"0"+e:e}${i.length<2?"0"+i:i}`}toCss(t=!1){const e=this.r+", "+this.g+", "+this.b;return t?`rgba(${e}, ${this.a})`:`rgb(${e})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=0){const e=a(this.r),i=a(this.g),n=a(this.b);return 0===t||1!==this.a?[e,i,n,a(255*this.a)]:[e,i,n]}clone(){return new l(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(c(this.r,0,255)),this.g=Math.round(c(this.g,0,255)),this.b=Math.round(c(this.b,0,255)),this.a=c(this.a,0,1),this}_set(t,e,i,n){this.r=t,this.g=e,this.b=i,this.a=n}}l.prototype.declaredClass="esri.Color"},"9efb":function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c}));var n=i("c0d3"),r=i("cb26");let s=!1;const o=[];function a(t,e){let i=new r["a"](c),o=null,a=!1;function c(){if(!i||a)return;if(s)return void u(c);const r=o;i.clear(),s=!0,a=!0,o=Object(n["b"])(i,t),a=!1,s=!1,e(o,r),h()}function l(){i&&(i.destroy(),i=null,o=null)}return a=!0,o=Object(n["b"])(i,t),a=!1,{remove:l}}function c(t,e){let i=new r["a"](o),s=null;function o(){e(s,c)}function a(){i&&(i.destroy(),i=null),s=null}function c(){return i?(i.clear(),s=Object(n["b"])(i,t),s):null}return c(),{remove:a}}function l(t){let e=new r["a"](o),i=!1;function o(){e&&!i&&(s?u(o):(e.clear(),s=!0,i=!0,Object(n["b"])(e,t),i=!1,s=!1,h()))}function a(){e&&(e.destroy(),e=null)}return i=!0,Object(n["b"])(e,t),i=!1,{remove:a}}function u(t){o.includes(t)||o.unshift(t)}function h(){for(;o.length;)o.pop()()}},"9f7f":function(t,e,i){var n=i("d039"),r=i("da84"),s=r.RegExp,o=n((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=o||n((function(){return!s("a","y").sticky})),c=o||n((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:o}},"9f91":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("7ffa"),c=i("59b2"),l=(i("cea0"),i("448d")),u=i("d386"),h=i("8802");let d=n=class extends o["a"]{constructor(t){super(t),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new n({fieldName:this.fieldName,format:this.format?Object(a["a"])(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],d.prototype,"fieldName",void 0),Object(r["a"])([Object(c["b"])({type:h["a"],json:{write:!0}})],d.prototype,"format",void 0),Object(r["a"])([Object(c["b"])({type:Boolean,json:{write:!0,default:!1}})],d.prototype,"isEditable",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(r["a"])([Object(l["a"])(new s["a"]({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],d.prototype,"stringFieldOption",void 0),Object(r["a"])([Object(c["b"])({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],d.prototype,"statisticType",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],d.prototype,"tooltip",void 0),Object(r["a"])([Object(c["b"])({type:Boolean,json:{write:!0}})],d.prototype,"visible",void 0),d=n=Object(r["a"])([Object(u["a"])("esri.popup.FieldInfo")],d);const p=d},"9fab":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("2c4f"),o=i("7ffa"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("d386"),u=i("c528"),h=i("a957"),d=i("38bf"),p=i("333a");const f=s["a"].ofType({base:null,key:"type",typeMap:{text:h["a"]}});let b=n=class extends u["a"]{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new f,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Object(d["b"])(this)}hasVisibleVerticalOffset(){return Object(d["c"])(this)}clone(){return new n({styleOrigin:Object(o["a"])(this.styleOrigin),symbolLayers:Object(o["a"])(this.symbolLayers),thumbnail:Object(o["a"])(this.thumbnail),callout:Object(o["a"])(this.callout),verticalOffset:Object(o["a"])(this.verticalOffset)})}static fromTextSymbol(t){return new n({symbolLayers:[h["a"].fromTextSymbol(t)]})}};Object(r["a"])([Object(a["b"])({type:p["a"],json:{write:!0}})],b.prototype,"verticalOffset",void 0),Object(r["a"])([Object(a["b"])(d["a"])],b.prototype,"callout",void 0),Object(r["a"])([Object(a["b"])({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0),Object(r["a"])([Object(a["b"])({type:f})],b.prototype,"symbolLayers",void 0),Object(r["a"])([Object(c["a"])({LabelSymbol3D:"label-3d"},{readOnly:!0})],b.prototype,"type",void 0),b=n=Object(r["a"])([Object(l["a"])("esri.symbols.LabelSymbol3D")],b);const y=b},a049:function(t,e,i){"use strict";i.d(e,"a",(function(){return Rt}));var n=i("a4ee"),r=i("1fd7"),s=i("2c4f"),o=(i("c120"),i("ce50")),a=i("ce6d"),c=i("af40"),l=i("e92d"),u=i("b2b2"),h=i("f4cc"),d=i("477c"),p=i("3795"),f=i("59b2"),b=(i("b50f"),i("cea0"),i("d386")),y=i("f694"),m=i("32ed"),g=i("ce0b"),v=i("7aa6");function w(t){switch(t){case 0:break;case 1:return"not owned by a graphics layer";case 2:return"no geometry";case 3:return"the geometry type is not supported";case 4:return"the elevation mode is not supported";case 5:return"the symbol type is not supported"}return""}var O=i("243f"),j=i("240c"),_=i("f408");function x(t){var e;if("graphics"!==(null==(e=t.layer)?void 0:e.type))return 1;if(Object(u["k"])(t.geometry))return 2;switch(t.geometry.type){case"point":break;case"polygon":case"polyline":case"multipoint":case"extent":case"mesh":return 0;default:return 3}const i=Object(u["l"])(t.symbol)&&"point-3d"===t.symbol.type&&t.symbol.symbolLayers;return i&&i.length>0&&i.some(t=>"object"===t.type)?"on-the-ground"!==Object(_["f"])(t)&&Object(_["h"])(t)?4:0:5}var S=i("b65e"),M=i("2589"),k=i("7d9d"),I=i("9096"),T=i("3349"),E=i("5996"),A=i("28eb"),C=i("0b2d"),P=i("43e0"),R=i("6706"),L=i("dac3"),N=i("92af"),F=i("df3b"),D=i("e6b5"),z=i("5715");class V extends F["a"]{constructor({coordinateHelper:t,targetPoint:e,constraint:i,previousVertex:n,otherVertex:r,otherVertexType:s,objectId:o}){super(t,e,i),this.previousVertex=n,this.otherVertex=r,this.otherVertexType=s,this.objectId=o}get hints(){const t=this.previousVertex,e=1===this.otherVertexType?this.otherVertex:this.targetPoint,i=1===this.otherVertexType?this.targetPoint:this.otherVertex;return[new D["a"](0,e,i),new D["a"](1,t,e),new z["a"](this.previousVertex,e,i)]}}let $=class extends I["a"]{constructor(t){super(t),this.sourceModules={featureService:{module:null,loader:null},featureCollection:{module:null,loader:null},graphics:{module:null,loader:null}}}get updating(){return Object(A["c"])(this.snappingSources,({snappingSource:t})=>t.updating)||this.updatingHandles.updating}get snappingSources(){var t;const e=this._get("snappingSources")||new Map,i=new Map;if(null!=(t=this.options)&&t.featureSources)for(const n of this.options.featureSources.items){const t=n.layer.uid,r=e.get(t);if(r){e.delete(t),i.set(t,r);continue}if(!n.layer.loaded){this.updatingHandles.addPromise(n.layer.load());continue}const s=this.createSourceInfo(n);Object(u["l"])(s)&&i.set(t,s)}for(const[,n]of e)n.destroy();return i}initialize(){this.updatingHandles.add(this,"snappingSources",()=>{this.notifyChange("updating")},1),Object(u["l"])(this.view)&&this.handles.add([this.view.on("layerview-create",t=>this.updateLayerView(t.layer,t.layerView)),this.view.on("layerview-destroy",t=>this.updateLayerView(t.layer,null))])}updateLayerView(t,e){for(const[,i]of this.snappingSources)i.snappingSource.layerSource.layer===t&&(i.layerView=e)}destroy(){this._set("options",null);for(const[,t]of this.snappingSources)t.destroy()}async fetchCandidates(t,e,i){if(!this.options.effectiveFeatureEnabled)return[];const n=[],r=this.computeScreeenSizeDistanceParameters(t,e),s={distance:r,point:t,coordinateHelper:e.coordinateHelper,types:this.types,filter:null};for(const[,{snappingSource:a,layerView:c}]of this.snappingSources)!a.layerSource.enabled||Object(u["l"])(c)&&c.suspended||n.push(a.fetchCandidates(s,i).then(t=>t.filter(t=>!this.candidateIsExcluded(a,t,e.excludeFeature))));const o=(await Object(h["j"])(n)).flat();return this.addRightAngleCandidates(o,t,r,e),Object(h["u"])(i),Object(R["e"])(t,o),o}addRightAngleCandidates(t,e,i,n){var r,s,o,a,c,l,h,d;const p=Object(u["l"])(n.vertexHandle)?null==(r=n.vertexHandle.rightEdge)||null==(s=r.rightVertex)?void 0:s.pos:Object(u["l"])(n.editGeometryOperations)&&"polygon"===n.editGeometryOperations.data.type?null==(o=Object(u["t"])(null==(a=n.editGeometryOperations.data.components[0])?void 0:a.getFirstVertex()))?void 0:o.pos:null,f=Object(u["l"])(n.vertexHandle)?null==(c=n.vertexHandle.leftEdge)||null==(l=c.leftVertex)?void 0:l.pos:Object(u["l"])(n.editGeometryOperations)?null==(h=Object(u["t"])(null==(d=n.editGeometryOperations.data.components[0])?void 0:d.getLastVertex()))?void 0:h.pos:null,b=t.length;for(let u=0;u<b;u++)this.addRightAngleCandidate(t[u],f,e,i,n,t),this.addRightAngleCandidate(t[u],p,e,i,n,t)}addRightAngleCandidate(t,e,i,n,r,s){if(Object(u["k"])(e)||!(t instanceof L["a"]))return;const o=t.constraint.closestTo(e),a=(o[0]-i[0])/n.x,c=(o[1]-i[1])/n.y;if(a*a+c*c<=1){const i=r.coordinateHelper;s.push(new V({coordinateHelper:i,targetPoint:o,otherVertex:e,otherVertexType:0,previousVertex:t.constraint.start,constraint:new P["e"](i,e,o),objectId:t.objectId}))}}computeScreeenSizeDistanceParameters(t,e){const i=this.options.distance*("touch"===e.pointer?this.options.touchSensitivityMultiplier:1);return Object(u["k"])(this.view)?{x:i,y:i}:"2d"===this.view.type?{x:i*this.view.resolution,y:i*this.view.resolution}:this.computeScreeenSizeDistanceParameters3D(t,i,this.view,e)}computeScreeenSizeDistanceParameters3D(t,e,i,n){const{coordinateHelper:r,elevationInfo:s}=n,o=i.state.camera.computeScreenPixelSizeAt(Object(R["a"])(t,r,s,i,U))*i.renderCoordsHelper.unitInMeters/i.mapCoordsHelper.unitInMeters,a=e*o;return{x:a/this.computeScreenMagnitudeOfMapOffset(t,o,0,i,n),y:a/this.computeScreenMagnitudeOfMapOffset(t,0,o,i,n)}}computeScreenMagnitudeOfMapOffset(t,e,i,n,{coordinateHelper:r,elevationInfo:s}){const o=r.clone(t);o[0]+=e,o[1]+=i;const a=Object(R["b"])(t,r,s,n),c=Object(R["b"])(o,r,s,n),l=c.x-a.x,u=c.y-a.y;return Math.sqrt(l*l+u*u)}get types(){return 3}candidateIsExcluded(t,e,i){if(Object(u["k"])(i))return!1;const n=this.getCandidateObjectId(e);if(Object(u["k"])(n))return!1;const r=t.layerSource.layer;return"graphics"===r.type?i.uid===n:i.sourceLayer===r&&!(!i.attributes||!("objectIdField"in r))&&i.attributes[r.objectIdField]===n}getCandidateObjectId(t){return t instanceof N["a"]?t.objectId:null}createSourceInfo(t){const e=this.createFeatureSnappingSourceType(t);if(Object(u["k"])(e))return null;if("loading"in e)return this.updatingHandles.addPromise(e.loading.then(()=>{this.destroyed||this.notifyChange("snappingSources")})),null;const i=Object(u["l"])(this.view)?this.view.allLayerViews.find(e=>e.layer===t.layer):null;return new G(e.source,i)}createFeatureSnappingSourceType(t){switch(t.layer.type){case"feature":case"geojson":case"csv":case"subtype-group":case"wfs":return this.createFeatureSnappingSourceFeatureLayer(t);case"graphics":return this.createFeatureSnappingSourceGraphicsLayer(t)}return null}createFeatureSnappingSourceFeatureLayer(t){switch(t.layer.source.type){case"feature-layer":{const e=this.getSourceModule("featureService");return Object(u["l"])(e.module)?{source:new e.module.FeatureServiceSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:t})}:{loading:e.loader}}case"memory":case"csv":case"geojson":case"wfs":{if("mesh"===t.layer.geometryType)return null;const e=this.getSourceModule("featureCollection");return Object(u["l"])(e.module)?{source:new e.module.FeatureCollectionSnappingSource({layerSource:t})}:{loading:e.loader}}}return null}createFeatureSnappingSourceGraphicsLayer(t){const e=this.getSourceModule("graphics");return Object(u["l"])(e.module)?{source:new e.module.GraphicsSnappingSource({spatialReference:this.spatialReference,view:this.view,layerSource:t})}:{loading:e.loader}}getSourceModule(t){const e=this.sourceModules[t];if(Object(u["k"])(e.loader)){const i=this.loadSourceModule(t).then(t=>{e.module=t});return e.loader=i,{module:e.module,loader:i}}return{module:e.module,loader:e.loader}}loadSourceModule(t){switch(t){case"featureService":return this.updatingHandles.addPromise(i.e("chunk-0b720add").then(i.bind(null,"ba80")));case"featureCollection":return this.updatingHandles.addPromise(i.e("chunk-703d78b0").then(i.bind(null,"2dca")));case"graphics":return this.updatingHandles.addPromise(Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-e26bd3da")]).then(i.bind(null,"b234")))}return null}};Object(n["a"])([Object(f["b"])({constructOnly:!0})],$.prototype,"spatialReference",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],$.prototype,"view",void 0),Object(n["a"])([Object(f["b"])()],$.prototype,"options",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],$.prototype,"updating",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],$.prototype,"snappingSources",null),$=Object(n["a"])([Object(b["a"])("esri.views.interactive.snapping.FeatureSnappingEngine")],$);class G{constructor(t,e){this.snappingSource=t,this.layerView=e,this.handles=new c["a"];const i=this.snappingSource.layerSource.layer;if("refresh"in i){const e=i;this.handles.add(e.on("refresh",()=>t.refresh()))}this.handles.add([Object(p["a"])(t,"updating",e=>t.layerSource.updating=e,!0),Object(p["a"])(t,"availability",e=>t.layerSource.availability=e,!0)])}destroy(){this.snappingSource.destroy(),this.handles.destroy()}}const U=Object(C["f"])();var q=i("fc29"),B=i("02f1"),H=i("c9fb");class W{constructor(t,e){this.view=t,this.options=e,this.squaredShortLineThreshold=H["a"].shortLineThreshold*H["a"].shortLineThreshold}snap(t,e){return Object(u["l"])(e.vertexHandle)?"vertex"!==e.vertexHandle.type?[]:this.snapExistingVertex(t,e):this.snapNewVertex(t,e)}edgeExceedsShortLineThreshold(t,e){return this.exceedsShortLineThreshold(t.leftVertex.pos,t.rightVertex.pos,e)}exceedsShortLineThreshold(t,e,{elevationInfo:i,editGeometryOperations:n}){const r=n.data.coordinateHelper;return 0===this.squaredShortLineThreshold||Object(R["f"])(Object(R["b"])(e,r,i,this.view),Object(R["b"])(t,r,i,this.view))>this.squaredShortLineThreshold}squaredProximityTreshold(t){return"touch"===t?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,i=t*e;return i*i}}class J extends F["a"]{constructor({coordinateHelper:t,lineStart:e,lineEnd:i,targetPoint:n}){super(t,n,new P["b"](t,e,i)),this.referenceLineHint=new D["a"](2,e,i)}get hints(){return[this.referenceLineHint,new D["a"](0,this.lineEndClosestToTarget(),this.targetPoint)]}lineEndClosestToTarget(){const t=this.constraint.start,e=this.constraint.end;return Math.sign(Object(T["k"])(Object(T["f"])(Y,e,t),Object(T["f"])(K,this.targetPoint,t)))>0?e:t}}const K=Object(B["a"])(),Y=Object(B["a"])();var Z=i("0f94");class X extends W{snapNewVertex(t,e){const i=e.editGeometryOperations.data.components[0],n=i.edges.length,r=[];if(n<1)return r;const s=e.coordinateHelper,o=Object(R["b"])(t,s,e.elevationInfo,this.view),a=i.edges[n-1];let c=a;do{this.edgeExceedsShortLineThreshold(c,e)&&this._processCandidateProposal(c.leftVertex.pos,c.rightVertex.pos,t,o,e,r),c=c.leftVertex.leftEdge}while(c&&c!==a);return r}snapExistingVertex(t,e){const i=[],n=Object(u["t"])(e.vertexHandle),r=n.component;if(r.edges.length<2)return i;const s=e.coordinateHelper,o=Object(R["b"])(t,s,e.elevationInfo,this.view),a=n.leftEdge,c=n.rightEdge;a&&c&&this.edgeExceedsShortLineThreshold(a,e)&&this.edgeExceedsShortLineThreshold(c,e)&&this._processCandidateProposal(a.leftVertex.pos,c.rightVertex.pos,t,o,e,i);const l=r.edges[0];let h=l;do{h!==n.leftEdge&&h!==n.rightEdge&&this.edgeExceedsShortLineThreshold(h,e)&&this._processCandidateProposal(h.leftVertex.pos,h.rightVertex.pos,t,o,e,i),h=h.rightVertex.rightEdge}while(h&&h!==l);return i}_processCandidateProposal(t,e,i,n,r,s){const o=Object(Z["g"])(Object(B["a"])(),i,t,e),a=r.coordinateHelper,c=a.fromXYZ(o,a.getZ(i,0));Object(R["f"])(n,Object(R["b"])(c,a,r.elevationInfo,this.view))<this.squaredProximityTreshold(r.pointer)&&s.push(new J({coordinateHelper:r.coordinateHelper,lineStart:t,lineEnd:e,targetPoint:c}))}}var Q=i("d232");class tt extends F["a"]{constructor({coordinateHelper:t,referenceLine:e,lineStart:i,targetPoint:n}){const r=t.clone(i);Object(T["f"])(r,Object(T["m"])(r,r,e.rightVertex.pos),e.leftVertex.pos),super(t,n,new P["b"](t,i,r)),this._referenceLines=[{edge:e,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new D["a"](0,this.constraint.start,this.targetPoint),new Q["a"](this.constraint.start,this.targetPoint),...this._referenceLines.map(t=>new D["a"](1,t.edge.leftVertex.pos,t.edge.rightVertex.pos,t.fadeLeft,t.fadeRight))]}addReferenceLine(t){const e={edge:t,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach(i=>{t.rightVertex.rightEdge===i.edge&&(i.fadeLeft=!1,e.fadeRight=!1),t.leftVertex.leftEdge===i.edge&&(i.fadeRight=!1,e.fadeLeft=!1)}),this._referenceLines.push(e)}}class et extends W{constructor(){super(...arguments),this._tmpProjection=Object(B["a"])()}snapNewVertex(t,e){const i=e.editGeometryOperations.data.components[0],n=i.edges.length,r=i.vertices.length,s=[];if(n<2)return s;const o=Object(R["b"])(t,e.coordinateHelper,e.elevationInfo,this.view),a=i.vertices[r-1],c=i.vertices[0],l=i.edges[n-1];let u=l;do{this.edgeExceedsShortLineThreshold(u,e)&&(this._checkEdgeForParalleLines(u,a.pos,t,o,e,s),this._checkEdgeForParalleLines(u,c.pos,t,o,e,s)),u=u.leftVertex.leftEdge}while(u&&u!==l);return s}snapExistingVertex(t,e){const i=[],n=Object(u["t"])(e.vertexHandle),r=n.component;if(r.edges.length<3)return i;const s=Object(R["b"])(t,e.coordinateHelper,e.elevationInfo,this.view),o=n.leftEdge,a=n.rightEdge,c=r.vertices[0],l=r.vertices.length,h=r.vertices[l-1],d=r.edges[0];let p=d;do{p!==o&&p!==a&&this.edgeExceedsShortLineThreshold(p,e)&&(o&&this._checkEdgeForParalleLines(p,o.leftVertex.pos,t,s,e,i),a&&this._checkEdgeForParalleLines(p,a.rightVertex.pos,t,s,e,i),n===c?this._checkEdgeForParalleLines(p,h.pos,t,s,e,i):n===h&&this._checkEdgeForParalleLines(p,c.pos,t,s,e,i)),p=p.rightVertex.rightEdge}while(p&&p!==d);return i}_checkEdgeForParalleLines(t,e,i,n,r,s){const o=t.leftVertex.pos,a=t.rightVertex.pos;if(Object(Z["g"])(this._tmpProjection,e,o,a),Object(T["a"])(this._tmpProjection,e)<H["a"].parallelLineThreshold)return;Object(Z["g"])(this._tmpProjection,i,o,a,e);const c=r.coordinateHelper,l=c.fromXYZ(this._tmpProjection,c.getZ(i,0));if(Object(R["f"])(n,Object(R["b"])(l,c,r.elevationInfo,this.view))<this.squaredProximityTreshold(r.pointer)){if(this.parallelToPreviousCandidate(t,s))return;s.push(new tt({coordinateHelper:c,referenceLine:t,lineStart:e,targetPoint:l}))}}parallelToPreviousCandidate(t,e){const i=t.leftVertex.pos,n=t.rightVertex.pos;for(const r of e)if(Object(Z["g"])(this._tmpProjection,n,r.constraint.start,r.constraint.end,i),Object(T["a"])(this._tmpProjection,n)<H["a"].parallelLineThreshold)return r.addReferenceLine(t),!0;return!1}}class it extends W{constructor(){super(...arguments),this._tmp=Object(B["a"])()}snapNewVertex(t,e){const i=e.editGeometryOperations.data.components[0],n=i.vertices.length,r=[];if(n<2)return r;const s=Object(R["b"])(t,e.coordinateHelper,e.elevationInfo,this.view),o=i.vertices[n-1];this._checkForSnappingCandidate(r,o.leftEdge,o.pos,t,o.leftEdge.leftVertex.pos,o.pos,e,t,s);const a=i.vertices[0];return this._checkForSnappingCandidate(r,a.rightEdge,a.pos,t,a.rightEdge.rightVertex.pos,a.pos,e,t,s),r}snapExistingVertex(t,e){const i=[],n=Object(u["t"])(e.vertexHandle),r=n.component,s=r.vertices.length;if(s<3)return i;const o=Object(R["b"])(t,e.coordinateHelper,e.elevationInfo,this.view),a=n.leftEdge,c=n.rightEdge,l=r.vertices[0],h=r.vertices[s-1];if(!a)return this._checkForSnappingCandidate(i,l.rightEdge.rightVertex.rightEdge,l.rightEdge.rightVertex.pos,t,l.rightEdge.rightVertex.rightEdge.rightVertex.pos,l.rightEdge.rightVertex.pos,e,t,o),i;if(!c)return this._checkForSnappingCandidate(i,h.leftEdge.leftVertex.leftEdge,h.leftEdge.leftVertex.pos,t,h.leftEdge.leftVertex.leftEdge.leftVertex.pos,h.leftEdge.leftVertex.pos,e,t,o),i;if(a&&a.leftVertex.leftEdge){const n=a.leftVertex.leftEdge;this._checkForSnappingCandidate(i,n,a.leftVertex.pos,t,n.leftVertex.pos,a.leftVertex.pos,e,t,o)}if(c&&c.rightVertex.rightEdge){const n=c.rightVertex.rightEdge;this._checkForSnappingCandidate(i,n,c.rightVertex.pos,t,n.rightVertex.pos,c.rightVertex.pos,e,t,o)}return i}_checkForSnappingCandidate(t,e,i,n,r,s,o,a,c){if(!this.edgeExceedsShortLineThreshold(e,o))return;Object(T["f"])(this._tmp,e.rightVertex.pos,e.leftVertex.pos);const l=Object(B["e"])(this._tmp[1],-this._tmp[0]),u=Object(T["k"])(l,Object(T["f"])(this._tmp,n,i))/Object(T["u"])(l),h=o.coordinateHelper,d=h.fromXYZ(Object(T["v"])(Object(B["a"])(),s,l,u),h.getZ(a,0));Object(R["f"])(c,Object(R["b"])(d,h,o.elevationInfo,this.view))<this.squaredProximityTreshold(o.pointer)&&t.push(new V({coordinateHelper:h,targetPoint:d,constraint:new P["e"](h,s,Object(T["v"])(h.createVector(),s,l,Math.sign(u))),previousVertex:r,otherVertex:s,otherVertexType:1}))}}class nt extends F["a"]{constructor({coordinateHelper:t,targetPoint:e,point1:i,point2:n}){super(t,e,new P["c"](t,Object(T["o"])(rt,i,n,.5),.5*Object(T["b"])(i,n))),this.p1=i,this.p2=n}get hints(){return[new D["a"](1,this.targetPoint,this.p1),new D["a"](1,this.targetPoint,this.p2),new z["a"](this.p1,this.targetPoint,this.p2)]}}const rt=Object(B["a"])();class st extends W{snapNewVertex(t,e){const i=e.editGeometryOperations.data.components[0],n=[],r=i.vertices.length;if("polygon"!==e.editGeometryOperations.data.type||r<2)return n;const s=i.vertices[0],o=i.vertices[r-1];return this._processCandidateProposal(s.pos,o.pos,t,e,n),n}snapExistingVertex(t,e){const i=[],n=Object(u["t"])(e.vertexHandle),r=n.component;return r.edges.length<2?i:"polyline"!==e.editGeometryOperations.data.type||0!==n.index&&n.index!==r.vertices.length-1?(this._processCandidateProposal(n.leftEdge.leftVertex.pos,n.rightEdge.rightVertex.pos,t,e,i),i):i}_processCandidateProposal(t,e,i,n,r){if(!this.exceedsShortLineThreshold(t,e,n))return;const s=Object(T["o"])(Object(B["a"])(),t,e,.5),o=.5*Object(T["b"])(t,e),a=Object(Z["f"])(Object(B["a"])(),i,s,o),c=n.coordinateHelper,l=c.fromXYZ(a,c.getZ(i,0)),u=Object(R["b"])(i,c,n.elevationInfo,this.view);Object(R["f"])(u,Object(R["b"])(l,c,n.elevationInfo,this.view))<this.squaredProximityTreshold(n.pointer)&&r.push(new nt({coordinateHelper:c,targetPoint:l,point1:t,point2:e}))}}let ot=class extends q["a"]{constructor(t){super(t),this.updating=!1,this._snappers=new s["a"]}initialize(){this._snappers.push(new et(this.view,this.options),new X(this.view,this.options),new it(this.view,this.options),new st(this.view,this.options))}set options(t){this._set("options",t);for(const e of this._snappers)e.options=t}async fetchCandidates(t,e){if(!this.options.effectiveSelfEnabled)return[];const i=[];for(const n of this._snappers.items)i.push(...n.snap(t,e));return Object(R["e"])(t,i),i}};Object(n["a"])([Object(f["b"])({readOnly:!0})],ot.prototype,"updating",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],ot.prototype,"view",void 0),Object(n["a"])([Object(f["b"])()],ot.prototype,"options",null),ot=Object(n["a"])([Object(b["a"])("esri.views.interactive.snapping.SelfSnappingEngine")],ot);let at=class extends q["a"]{constructor(t){super(t),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1}};Object(n["a"])([Object(f["b"])({constructOnly:!0})],at.prototype,"layer",void 0),Object(n["a"])([Object(f["b"])()],at.prototype,"enabled",void 0),Object(n["a"])([Object(f["b"])()],at.prototype,"updating",void 0),Object(n["a"])([Object(f["b"])()],at.prototype,"availability",void 0),at=Object(n["a"])([Object(b["a"])("esri.views.interactive.snapping.SnappingLayerSource")],at);const ct=at;let lt=class extends q["a"]{constructor(t){super(t),this.enabled=!1,this.enabledToggled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.featureSources=new s["a"],this.distance=H["a"].distance,this.touchSensitivityMultiplier=H["a"].touchSensitivityMultiplier}get effectiveEnabled(){return this.enabledToggled?!this.enabled:this.enabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}};Object(n["a"])([Object(f["b"])()],lt.prototype,"enabled",void 0),Object(n["a"])([Object(f["b"])()],lt.prototype,"enabledToggled",void 0),Object(n["a"])([Object(f["b"])()],lt.prototype,"selfEnabled",void 0),Object(n["a"])([Object(f["b"])()],lt.prototype,"featureEnabled",void 0),Object(n["a"])([Object(f["b"])({type:s["a"].ofType(ct)})],lt.prototype,"featureSources",void 0),Object(n["a"])([Object(f["b"])()],lt.prototype,"distance",void 0),Object(n["a"])([Object(f["b"])()],lt.prototype,"touchSensitivityMultiplier",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],lt.prototype,"effectiveEnabled",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],lt.prototype,"effectiveSelfEnabled",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],lt.prototype,"effectiveFeatureEnabled",null),lt=Object(n["a"])([Object(b["a"])("esri.views.interactive.snapping.SnappingOptions")],lt);const ut=lt;var ht=i("e753");class dt extends F["a"]{constructor(t,e,i,n){super(t,e,new P["a"](t,e,i.constraint,n.constraint)),this.first=i,this.second=n}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new ht["a"](this.targetPoint)]}}let pt=class extends(a["a"].EventedMixin(I["a"])){constructor(t){super(t),this.options=new ut,this.engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}initialize(){this.handles.add([Object(d["b"])(()=>{const{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}=this.options;return{effectiveFeatureEnabled:t,effectiveSelfEnabled:e,touchSensitivityMultiplier:i,distance:n}},()=>{this.doneSnapping(),this.emit("changed")},d["d"]),Object(d["b"])(()=>this.options,t=>{for(const e of this.engines)e.options=t},d["d"]),Object(d["b"])(()=>this.view.ready,t=>this.onViewReady(t),d["e"])])}destroy(){this.destroyEngines()}get updating(){return this.engines.some(t=>t.updating)}onViewReady(t){var e,i;this.destroyEngines(),t&&(this.engines=[new ot({view:this.view,options:this.options}),new $({view:this.view,spatialReference:null!=(e=null==(i=this.view)?void 0:i.spatialReference)?e:E["a"].WGS84,options:this.options})])}destroyEngines(){for(const t of this.engines)t.destroy();this.engines.length=0}get squaredMouseProximityTreshold(){return this.options.distance*this.options.distance}get squaredTouchProximityThreshold(){const{distance:t,touchSensitivityMultiplier:e}=this.options,i=t*e;return i*i}async snap(t,e,i){const n=e.coordinateHelper.pointToVector(t),r=await this.fetchCandidates(n,e,i);return{get valid(){return!Object(h["m"])(i)},apply:()=>{const{snappedPoint:t,hints:i}=this.processCandidates(n,r,e);return this.removeVisualization(),Object(u["l"])(e.visualizer)&&this.handles.add(e.visualizer.draw(i,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),ft),t}}}update(t,e){this.removeVisualization();let i=t;const n=[];if(Object(u["l"])(this._currentMainCandidate)){const r=e.coordinateHelper,s=r.pointToVector(t),o=this._currentMainCandidate.constraint.closestTo(s);if(Object(R["f"])(Object(R["b"])(s,r,e.elevationInfo,this.view),Object(R["b"])(o,r,e.elevationInfo,this.view))<this.squaredPointProximityThreshold(e.pointer)){i=r.vectorToDehydratedPoint(o),this._currentMainCandidate.targetPoint=o,n.push(...this._currentMainCandidate.hints);for(const t of this._currentOtherActiveCandidates)t.targetPoint=o,n.push(...t.hints)}else this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}return Object(u["l"])(e.visualizer)&&this.handles.add(e.visualizer.draw(n,{coordinateHelper:e.coordinateHelper,elevationInfo:e.elevationInfo,view:this.view}),ft),i}doneSnapping(){this.removeVisualization(),this._currentMainCandidate=null,this._currentOtherActiveCandidates=[]}removeVisualization(){this.handles.remove(ft)}async fetchCandidates(t,e,i){return(await Promise.all(this.engines.map(n=>n.fetchCandidates(t,e,i)))).flat()}processCandidates(t,e,i){if(e.length<1)return this.doneSnapping(),{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(t),hints:[]};Object(R["e"])(t,e);const n=this._currentMainCandidate;if(Object(u["l"])(n)){const r=this.findOldConstraintInNewCandidates(n,e);if(r>=0){if(!(e[r]instanceof dt))return this.intersectWithOtherCandidates(r,e,t,i);if(Object(T["a"])(t,n.targetPoint)<this.squaredPointProximityThreshold(i.pointer))return this.updateSnappingCandidate(n,e,i)}}return this.intersectWithOtherCandidates(0,e,t,i)}findOldConstraintInNewCandidates(t,e){return t instanceof dt?this.findOldCandidateIndex(e,t.first)>=0&&this.findOldCandidateIndex(e,t.second)>=0?0:-1:this.findOldCandidateIndex(e,t)}intersectWithOtherCandidates(t,e,i,n){const r=e[t],s=[],o=n.coordinateHelper;for(let a=0;a<e.length;++a){if(a===t)continue;const c=e[a];for(const t of r.constraint.intersect(c.constraint)){const e=o.fromXYZ(t.intersection,r.targetPoint[2]);s.push([new dt(o,e,r,c),Object(R["f"])(Object(R["b"])(i,n.coordinateHelper,n.elevationInfo,this.view),Object(R["b"])(e,n.coordinateHelper,n.elevationInfo,this.view))])}}return s.length>0&&(s.sort((t,e)=>t[1]-e[1]),s[0][1]<this.squaredPointProximityThreshold(n.pointer))?this.updateSnappingCandidate(s[0][0],e,n):this.updateSnappingCandidate(r,e,n)}updateSnappingCandidate(t,e,i){this.doneSnapping(),this._currentMainCandidate=t;const n=this._currentMainCandidate.targetPoint,r=[];r.push(...t.hints);for(const s of e){if(t instanceof dt){if(s.constraint.objectEqual(t.first.constraint)||s.constraint.objectEqual(t.second.constraint))continue}else if(s.constraint.objectEqual(t.constraint))continue;s.constraint.check(n)&&(s.targetPoint=n,this._currentOtherActiveCandidates.push(s),r.push(...s.hints))}return{snappedPoint:i.coordinateHelper.vectorToDehydratedPoint(n),hints:r}}squaredPointProximityThreshold(t){return"touch"===t?this.squaredTouchProximityThreshold:this.squaredMouseProximityTreshold}findOldCandidateIndex(t,e){let i=-1;for(let n=0;n<t.length;++n)if(e.constraint.objectEqual(t[n].constraint)){i=n;break}return i}get test(){return{visualizationsActive:this.handles.has(ft),engines:this.engines}}};Object(n["a"])([Object(f["b"])({constructOnly:!0})],pt.prototype,"view",void 0),Object(n["a"])([Object(f["b"])()],pt.prototype,"options",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],pt.prototype,"updating",null),Object(n["a"])([Object(f["b"])()],pt.prototype,"engines",void 0),Object(n["a"])([Object(f["b"])()],pt.prototype,"squaredMouseProximityTreshold",null),Object(n["a"])([Object(f["b"])()],pt.prototype,"squaredTouchProximityThreshold",null),pt=Object(n["a"])([Object(b["a"])("esri.views.interactive.snapping.SnappingManager")],pt);const ft="visualization-handle";var bt=i("412f"),yt=i("6c97");let mt=class extends a["a"].EventedAccessor{constructor(t){super(t),this.cancelled=!1,this.history={undo:[],redo:[]},this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case"graphic-mover":case"move-3d":return"move";case"box":case"transform-3d":return"transform";case"reshape":case"reshape-3d":return"reshape";case"draw-2d":case"draw-3d":return this.activeComponent.geometryType;default:Object(yt["a"])(this.activeComponent)}return null}addToHistory(t){this.history.redo=[],this.history.undo.push(t)}resetHistory(){this.history.redo=[],this.history.undo=[]}canUndo(){return this.history.undo.length>0}canRedo(){return this.history.redo.length>0}complete(){this.reset(),this.onEnd(),this.emit("complete")}cancel(){this.cancelled=!0,this.complete()}reset(){this.activeComponent.reset()}refreshComponent(){const t=this.activeComponent;t&&("box"!==t.type&&"reshape"!==t.type&&"graphic-mover"!==t.type||t.refresh())}set undo(t){this._set("undo",()=>{this.canUndo()&&t()})}set redo(t){this._set("redo",()=>{this.canRedo()&&t()})}};Object(n["a"])([Object(f["b"])()],mt.prototype,"activeComponent",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"cancelled",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"history",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"tool",null),Object(n["a"])([Object(f["b"])()],mt.prototype,"type",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"canUndo",null),Object(n["a"])([Object(f["b"])()],mt.prototype,"canRedo",null),Object(n["a"])([Object(f["b"])()],mt.prototype,"onEnd",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"undo",null),Object(n["a"])([Object(f["b"])()],mt.prototype,"redo",null),Object(n["a"])([Object(f["b"])()],mt.prototype,"toggleTool",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"addToSelection",void 0),Object(n["a"])([Object(f["b"])()],mt.prototype,"removeFromSelection",void 0),mt=Object(n["a"])([Object(b["a"])("esri.widgets.Sketch.support.OperationHandle")],mt);let gt=class extends mt{};Object(n["a"])([Object(f["b"])()],gt.prototype,"activeComponent",void 0),gt=Object(n["a"])([Object(b["a"])("esri.widgets.Sketch.support.CreateOperationHandle")],gt);let vt=class extends mt{constructor(t){super(t)}};Object(n["a"])([Object(f["b"])()],vt.prototype,"activeComponent",void 0),vt=Object(n["a"])([Object(b["a"])("esri.widgets.Sketch.support.UpdateOperationHandle")],vt);var wt=i("4dc9"),Ot=i("0d76"),jt=i("db52");const _t="esri.widgets.Sketch.SketchViewModel",xt=l["a"].getLogger(_t),St={defaultZ:0},Mt={reshapeOptions:{edgeOperation:"split",shapeOperation:"move",vertexOperation:"move"},enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,enableZ:!0,tool:"transform"};let kt=class extends a["a"].EventedAccessor{constructor(t){super(t),this._numUpdating=0,this._handles=new c["a"],this._internalGraphicsLayer=new g["a"]({listMode:"hide",internal:!0,title:"SVM Internal"}),this._operationHandle=null,this._viewHandles=new c["a"],this.activeFillSymbol=null,this.activeLineSymbol=null,this.activeVertexSymbol=null,this.allowDeleteKey=!0,this.layer=null,this.pointSymbol=new wt["a"]({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this.polygonSymbol=new Ot["a"]({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}}),this.polylineSymbol=new jt["a"]({color:[130,130,130,1],width:2}),this._snappingManager=null,this.updateGraphics=new s["a"],this.updateOnGraphicClick=!0,this.updatePointSymbol=new wt["a"]({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}}),this.updatePolygonSymbol=new Ot["a"]({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}}),this.updatePolylineSymbol=new jt["a"]({color:[12,207,255],width:2}),this.vertexSymbol=new wt["a"]({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}}),this._moduleLoaderAbortController=null,this._viewReadyAbortController=null,this._originalAutoOpenEnabled=null,this.defaultCreateOptions=St,this.defaultUpdateOptions=Mt,this.snappingOptions=new ut}initialize(){this._handles.add([Object(p["d"])(this,"layer",()=>{this.cancel(),this._internalGraphicsLayer.elevationInfo=Object(u["l"])(this.layer)?this.layer.elevationInfo:null}),Object(p["b"])(this,"view.map.layers","change",t=>{t.removed.includes(this.layer)&&this.cancel()}),Object(p["b"])(this,"layer.graphics","change",t=>{if(Object(u["l"])(this._operationHandle))for(const e of t.removed)this.updateGraphics.includes(e)&&(this.updateGraphics.length>1?this._operationHandle.removeFromSelection(e):this._operationHandle.cancel())}),Object(p["a"])(this,"layer.elevationInfo",()=>{this.cancel(),this._internalGraphicsLayer.elevationInfo=Object(u["l"])(this.layer)?this.layer.elevationInfo:null},!0),Object(p["a"])(this,"view",t=>{Object(u["e"])(this._snappingManager),t&&(this._snappingManager=new pt({view:t,options:this.snappingOptions}),"2d"===t.type?Promise.all([i.e("chunk-eb72276e"),i.e("chunk-40c5a146")]).then(i.bind(null,"1803")):"3d"===t.type&&(Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-eb72276e"),i.e("chunk-526022d6"),i.e("chunk-58b66df9")]).then(i.bind(null,"438e")),Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-526022d6"),i.e("chunk-3847c0de"),i.e("chunk-cb11fdec")]).then(i.bind(null,"bb49"))))},!0)])}destroy(){this.cancel(),this._handles=Object(u["e"])(this._handles),this._viewHandles=Object(u["e"])(this._viewHandles),this._removeDefaultLayer(),this._snappingManager=Object(u["e"])(this._snappingManager),this._set("view",null),this.emit("destroy")}get _defaultUpdateTool(){return"3d"===this.view.type?"move":"transform"}get updating(){return this._numUpdating>0}get activeTool(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null}get activeComponent(){return this._operationHandle?this._operationHandle.activeComponent:null}get createGraphic(){return!Object(u["l"])(this.activeComponent)||"draw-3d"!==this.activeComponent.type&&"draw-2d"!==this.activeComponent.type?this._get("createGraphic"):Object(u["t"])(this.activeComponent.graphic)}set defaultCreateOptions(t){this._set("defaultCreateOptions",{...St,...t})}set defaultUpdateOptions(t){this._set("defaultUpdateOptions",{...Mt,...t,reshapeOptions:{...Mt.reshapeOptions,...null==t?void 0:t.reshapeOptions}})}set snappingOptions(t){Object(u["l"])(this._snappingManager)&&(this._snappingManager.options=t),this._set("snappingOptions",t)}get state(){var t;const e=!(null==(t=this.view)||!t.ready||!this.layer),i=this._operationHandle;return e&&i?"active":e?"ready":"disabled"}get view(){return this._get("view")}set view(t){const e=this._get("view");if(e){const{container:t,map:i}=e;t&&(e.cursor=null),i&&i.remove(this._internalGraphicsLayer),this._viewHandles.removeAll(),this.cancel()}const i="view-ready";this._handles.remove(i),t&&this._handles.add(Object(p["e"])(t,"ready",e=>{this._viewHandles.removeAll(),e&&this._viewHandles.add(this._generateViewHandles(t))},!0),i),this._set("view",t)}cancel(){this._moduleLoaderAbortController=Object(u["a"])(this._moduleLoaderAbortController),this._viewReadyAbortController=Object(u["a"])(this._viewReadyAbortController),this._operationHandle&&this._operationHandle.cancel()}complete(){this._operationHandle&&this._operationHandle.complete()}delete(){const{state:t,updateGraphics:e}=this;if("active"===t&&e.length){const{activeTool:t,layer:i}=this,n=e.toArray();i.removeMany(n),this.cancel(),this._emitDeleteEvent({graphics:n,tool:t})}}async create(t,e){if(this.cancel(),await this._waitViewReady(),"disabled"===this.state)throw this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),Object(h["d"])();if(Object(u["l"])(this.view.activeTool)&&(this.view.activeTool=null),!t)return void this._logError("sketch:missing-parameter","Missing parameter 'tool'.");Object(S["a"])(this.view,this._internalGraphicsLayer);const i=await this._setupCreateOperation(t,e);if(Object(u["k"])(i)||this.destroyed)return void this.view.map.remove(this._internalGraphicsLayer);const n=()=>{if(i===this._operationHandle){const e=this.createGraphic,n=this._operationHandle.cancelled;this._operationHandle.destroy(),this._operationHandle=null,this._set("createGraphic",null),this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),i.cancelled||null==e||this.layer.add(e),this.emit("create",{graphic:e,state:n?"cancel":"complete",tool:t,toolEventInfo:null,type:"create"})}};i.on("complete",n),this._operationHandle=i,this.view.ready&&Object(v["b"])(this.view)&&this.view.focus()}async update(t,e){this.cancel(),await this._waitViewReady();const{layer:i,view:n,state:r}=this;if("disabled"===r)throw n||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),i||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),Object(h["d"])();Object(u["l"])(this.view.activeTool)&&(this.view.activeTool=null);const s=Array.isArray(t)?t:[t];if(null==t||!s||!s.length)return void this._logError("sketch:missing-parameter","Missing parameter 'graphics'.");if(s.some(t=>t.layer!==i?(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):Object(u["k"])(t.geometry)?(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0):"2d"===n.type&&!n.spatialReference.equals(t.geometry.spatialReference)&&(this._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0)))return;const o=await this._setupUpdateOperation(s,e);this.destroyed||Object(u["k"])(o)||Pt(o)||(Object(S["a"])(this.view,this._internalGraphicsLayer),this._setUpdateOperationHandle(o,e),this.emit("update",{graphics:s,state:"start",aborted:!1,tool:o.tool,toolEventInfo:null,type:"update"}))}undo(){this.canUndo()&&this._operationHandle.undo()}redo(){this.canRedo()&&this._operationHandle.redo()}canUndo(){return!(!this._operationHandle||!this._operationHandle.canUndo())}canRedo(){return!(!this._operationHandle||!this._operationHandle.canRedo())}toggleUpdateTool(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()}async _getFirstHit(t){const e=[];switch(this.view.type){case"2d":{const i=[];this.view.map.allLayers.forEach(t=>{"vector-tile"!==t.type&&"imagery"!==t.type||i.push(t)});const n=await this.view.hitTest(t,{exclude:i});if(n.results.length>0){const t=n.results[0];t.graphic&&e.push(t)}}break;case"3d":{const i=[this.view.map.ground];this.view.map.allLayers.forEach(t=>{"integrated-mesh"===t.type&&i.push(t)});const n=await this.view.hitTest(t,{exclude:i});if(n.results.length>0){const t=n.results[0];(!n.ground.mapPoint||this.view.map.ground.opacity<1||n.ground.distance-Object(u["u"])(t.distance,0)>-Math.min(3*n.ground.distance,"global"===this.view.viewingMode?Object(y["e"])(this.view.renderCoordsHelper.spatialReference).radius/this.view.renderCoordsHelper.unitInMeters:Number.POSITIVE_INFINITY))&&e.push(t)}}}return{screenPoint:t,results:e}}_generateViewHandles(t){return[t.on("immediate-click",async e=>{const i="active"===this.state&&"create"===this._operationHandle.type;if("disabled"===this.state||i||!this.updateOnGraphicClick)return;this._beginAsyncOperation();const n=(await e.async(()=>this._getFirstHit(Object(bt["a"])(e)))).results;let r=null;if(n.length){for(const s of n)if(s.graphic){const i=s.graphic;if(this.updateGraphics.includes(i)||i.layer===this.layer){e.stopPropagation(),r=i;break}"2d"!==t.type||this._isComponentGraphic(i)||"active"!==this.state||this.cancel()}}else"active"===this.state&&this.cancel();Object(u["l"])(r)&&!this.updateGraphics.includes(r)&&await this.update([r],{...this.defaultUpdateOptions,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions}}),this._endAsyncOperation()},M["b"].WIDGET)]}async _setupCreateOperation(t,e){const i={hasZ:"3d"===this.view.type,...this.defaultCreateOptions,...e},n=await this._setupDrawGraphicTool(t,this.view,i);return Object(u["k"])(n)?null:(this.view.tools.add(n),this.view.activeTool=n,this._setupCreateOperationHandle(n))}async _setupDrawGraphicTool(t,e,i){if("multipoint"===t&&"3d"===e.type)return this._logError("sketch:create","Multipoint geometries are not supported in SceneView"),null;const n="rectangle"!==t,r="rectangle"!==t;this.snappingOptions.enabledToggled=!1;const s={view:e,mode:"rectangle"===t||"circle"===t?"hybrid":"click",...i,snapToScene:!1,geometryType:t,graphicSymbol:this._getGraphicSymbolFromTool(t),snappingManager:this._snappingManager,forceUniformSize:r,centered:n};return"2d"===this.view.type?this._makeDrawGraphicTool2D(s):this._makeDrawGraphicTool3D(s)}async _makeDrawGraphicTool2D(t){const e=await this._requireModule(Promise.all([i.e("chunk-eb72276e"),i.e("chunk-40c5a146")]).then(i.bind(null,"1803")));return Pt(e)||this.destroyed?null:new e.module.DrawGraphicTool2D({...t,activeVertexSymbol:this.activeVertexSymbol,regularVerticesSymbol:this.vertexSymbol,activeLineSymbol:this.activeLineSymbol,activeFillSymbol:It(t.geometryType)?this.activeFillSymbol:null})}async _makeDrawGraphicTool3D(t){const e=await this._requireModule(Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-eb72276e"),i.e("chunk-526022d6"),i.e("chunk-58b66df9")]).then(i.bind(null,"438e")));return Pt(e)||this.destroyed?null:new e.module.DrawGraphicTool3D({...t,elevationInfo:this.layer.elevationInfo,snapToScene:!Object(u["l"])(this.layer.elevationInfo)||"absolute-height"===this.layer.elevationInfo.mode})}_setupCreateOperationHandle(t){let e=null;const i=t.forceUniformSize,n=t.centered,r=[this.view.on("key-down",e=>{if(e.key===k["a"].pan)e.stopPropagation(),e.repeat||(t.enabled=!1);else if(e.key===k["a"].complete)e.stopPropagation(),t.completeCreateOperation();else if(e.key!==k["a"].vertexAdd||e.repeat)e.key===k["a"].undo?(e.stopPropagation(),s.undo()):e.key===k["a"].redo?(e.stopPropagation(),s.redo()):e.key!==k["a"].snappingToggle||"rectangle"===t.geometryType||"circle"===t.geometryType||e.repeat?e.key!==k["a"].constraint||"rectangle"!==t.geometryType&&"circle"!==t.geometryType||e.repeat?e.key===k["a"].center&&(e.repeat||(t.centered=!n,e.stopPropagation())):(t.forceUniformSize=!i,e.stopPropagation()):(this.snappingOptions.enabledToggled=!0,e.stopPropagation());else{const i=t.drawOperation.geometryType;"polyline"!==i&&"polygon"!==i&&"multipoint"!==i||(e.stopPropagation(),t.drawOperation.commitStagedVertex())}},M["b"].WIDGET),this.view.on("key-up",e=>{e.key===k["a"].pan?t.enabled=!0:e.key===k["a"].snappingToggle&&"rectangle"!==t.geometryType&&"circle"!==t.geometryType?(this.snappingOptions.enabledToggled=!1,e.stopPropagation()):e.key!==k["a"].constraint||"rectangle"!==t.geometryType&&"circle"!==t.geometryType?e.key===k["a"].center&&(t.centered=n,e.stopPropagation()):(t.forceUniformSize=i,e.stopPropagation())},M["b"].WIDGET),t.on("vertex-add",i=>{switch(e=Object(u["k"])(e)?"start":"active",i.operation){case"apply":this.emit("create",{graphic:Object(u["t"])(t.graphic),state:e,tool:this.activeTool,toolEventInfo:i,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[Object(u["t"])(t.graphic)],tool:t.geometryType});break;case"redo":this._emitRedoEvent({graphics:[Object(u["t"])(t.graphic)],tool:t.geometryType})}}),t.on("cursor-update",e=>{t.drawOperation.numCommittedVertices>0&&this.emit("create",{graphic:Object(u["t"])(t.graphic),state:"active",tool:this.activeTool,toolEventInfo:{coordinates:e.vertices[0].coordinates,type:"cursor-update"},type:"create"})}),t.on("vertex-remove",e=>{switch(e.operation){case"apply":this.emit("create",{graphic:Object(u["t"])(t.graphic),state:"active",tool:this.activeTool,toolEventInfo:e,type:"create"});break;case"undo":this._emitUndoEvent({graphics:[Object(u["t"])(t.graphic)],tool:t.geometryType});break;case"redo":this._emitRedoEvent({graphics:[Object(u["t"])(t.graphic)],tool:t.geometryType})}}),t.on("complete",t=>{this._set("createGraphic",Object(u["t"])(t.graphic)),e="complete",t.aborted?s&&s.cancel():s&&s.complete()}),Object(d["b"])(()=>this._getGraphicSymbolFromTool(t.geometryType),e=>{t.graphicSymbol=e})],s=new mt({activeComponent:t,tool:t.geometryType,type:"create",onEnd:()=>{var e;r.forEach(t=>t.remove()),r.length=0,null==(e=this.view.tools)||e.remove(t),t.destroy()},undo:()=>{t.canUndo&&t.undo()},redo:()=>{t.canRedo&&t.redo()},canUndo:()=>t.canUndo,canRedo:()=>t.canRedo});return s}_getGraphicSymbolFromTool(t){switch(t){case"point":case"multipoint":return this.pointSymbol;case"polyline":return this.polylineSymbol;case"circle":case"rectangle":case"polygon":return this.polygonSymbol;default:return null}}async _setupUpdateOperation(t,e){const{layer:i,view:n}=this,r={tool:this._defaultUpdateTool,...this.defaultUpdateOptions,...e,reshapeOptions:{...this.defaultUpdateOptions.reshapeOptions,...null==e?void 0:e.reshapeOptions}};let s=r.tool;for(const o of t)i.remove(o),i.add(o);if("3d"===n.type){if(0===t.length)return null;switch(s){case"move":return this._setupMove3DOperation(t,r,n,s);case"reshape":{if(t.length>1)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null;const e=Object(j["b"])(t[0]);return 0===e?this._setupReshape3DOperation(t[0],r,n):(this._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${w(e)}).`),null)}case"transform":return this._setupGraphicTransform3DOperation(t,r,n)}}switch(s){case"move":return this._setupMoveOperation(t,r,n);case"reshape":{if(t.length>1)return this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),null;const e=Object(j["b"])(t[0]);return 0===e?this._setupTransformOrReshapeOperation(t,s,r,n):(this._logError("sketch:reshape",`Reshape operation not supported for provided graphic(s) (${w(e)}).`),null)}case"transform":if(1===t.length){const e=Object(u["j"])(t[0].geometry,"type");"point"!==e&&"multipoint"!==e||(s="reshape")}return this._setupTransformOrReshapeOperation(t,s,r,n)}}async _setupMove3DOperation(t,e,n,r,s=!1){for(const i of t){const t=Object(O["a"])(i);if(0!==t)return this._logError("sketch:move",`Move operation not supported for provided graphic(s) (${w(t)}).`),null}const o=await this._requireModule(Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-eb72276e"),i.e("chunk-526022d6"),i.e("chunk-58b66df9")]).then(i.bind(null,"438e")));if(Pt(o))return o;const a=new o.module.GraphicMoveTool({view:n,enableZ:e.enableZ,snappingManager:this._snappingManager});this.view.tools.add(a),a.graphics.addMany(t),s||this.updateGraphics.addMany(t);const c=[],l=new vt({activeComponent:a,tool:r,type:"update",onEnd:()=>{var t;c.forEach(t=>t.remove()),c.length=0,null==(t=this.view.tools)||t.remove(a),a.destroyed||a.destroy()},undo:()=>{Tt(l,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r})},redo:()=>{Et(l,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r})},addToSelection:t=>{this.updateGraphics.push(t),a.graphics.push(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[t],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:t=>{const e=this.updateGraphics.indexOf(t);l.history.undo.forEach(t=>t.updates.splice(e,1)),l.history.redo.forEach(t=>t.updates.splice(e,1)),this.updateGraphics.remove(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[t],type:"selection-change"},type:"update"}),0!==this.updateGraphics.length?a.graphics.remove(t):l.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===e.toggleToolOnClick)return;if("transform"!==r)return;const t=this.updateGraphics.getItemAt(0);if(0!==Object(j["b"])(t))return;const i=await this._setupReshape3DOperation(t,e,n,!0);Pt(i)||(l.onEnd(),l.destroy(),this._setUpdateOperationHandle(i,e))}});return c.push(...this._getHandlesForComponent(l,e),this.view.on("immediate-click",t=>this._getCommonUpdateOperationClickHandlers(l,t,e),M["b"].WIDGET),n.on("key-down",t=>{this._getCommonUpdateOperationKeyDownHandlers(l,t),t.key===k["a"].snappingToggle&&(this.snappingOptions.enabledToggled=!0,t.stopPropagation())},M["b"].WIDGET),n.on("key-up",t=>{t.key===k["a"].snappingToggle&&(this.snappingOptions.enabledToggled=!1,t.stopPropagation())},M["b"].WIDGET)),l}_setupGraphicTransform3DOperation(t,e,i,n=!1){if(1===t.length&&0===x(t[0])){const r=t[0],s=r.geometry;if(Object(u["l"])(s)&&("point"===s.type||"mesh"===s.type))return this._setupPointTransform3DOperation(r,e,i);if(Object(u["l"])(s)&&("polygon"===s.type||"polyline"===s.type))return this._setupPolyTransform3DOperation(r,e,i,n)}return this._setupMove3DOperation(t,e,i,"transform",n)}async _setupPointTransform3DOperation(t,e,n){const r="transform",{enableRotation:s,enableScaling:o,enableZ:a}=e,c=await this._requireModule(Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-eb72276e"),i.e("chunk-526022d6"),i.e("chunk-58b66df9")]).then(i.bind(null,"438e")));if(Pt(c))return c;const l=new c.module.GraphicTransformTool({graphic:t,view:n,enableRotation:s,enableScaling:o,enableZ:a,snappingManager:this._snappingManager});this.view.tools.add(l),this.updateGraphics.add(t);const u=[],h=new vt({activeComponent:l,tool:r,type:"update",onEnd:()=>{var t;u.forEach(t=>t.remove()),u.length=0,null==(t=this.view.tools)||t.remove(l),l.destroyed||l.destroy()},undo:()=>{Tt(h,this.updateGraphics.toArray()),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:r})},redo:()=>{Et(h,this.updateGraphics.toArray()),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:r})},addToSelection:async t=>{this.updateGraphics.add(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[t],removed:[],type:"selection-change"},type:"update"});const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),e,n,"transform",!0);Pt(i)||(h.onEnd(),h.destroy(),this._setUpdateOperationHandle(i,e))},removeFromSelection:t=>{this.updateGraphics.remove(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[t],type:"selection-change"},type:"update"}),h.complete()},toggleTool:()=>{}});return u.push(...this._getHandlesForComponent(h,e),this.view.on("immediate-click",t=>this._getCommonUpdateOperationClickHandlers(h,t,e),M["b"].WIDGET),n.on("key-down",t=>{this._getCommonUpdateOperationKeyDownHandlers(h,t),t.key===k["a"].snappingToggle&&(this.snappingOptions.enabledToggled=!0,t.stopPropagation())},M["b"].WIDGET),n.on("key-up",t=>{t.key===k["a"].snappingToggle&&(this.snappingOptions.enabledToggled=!1,t.stopPropagation())},M["b"].WIDGET)),h}async _setupPolyTransform3DOperation(t,e,n,r=!1){const s="transform",{enableRotation:o,enableScaling:a,enableZ:c,preserveAspectRatio:l}=e,u=await this._requireModule(Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-eb72276e"),i.e("chunk-526022d6"),i.e("chunk-58b66df9")]).then(i.bind(null,"438e")));if(Pt(u))return u;const h=new u.module.ExtentTransformTool({graphic:t,view:n,enableRotation:o,enableScaling:a,enableZ:c,preserveAspectRatio:l});this.view.tools.add(h),r||this.updateGraphics.add(t);const d=[],p=new vt({activeComponent:h,tool:s,type:"update",onEnd:()=>{var t;d.forEach(t=>t.remove()),d.length=0,null==(t=this.view.tools)||t.remove(h),h.destroyed||h.destroy()},canUndo:()=>h.canUndo,undo:()=>{h.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s})},canRedo:()=>h.canRedo,redo:()=>{h.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s})},addToSelection:async t=>{this.updateGraphics.add(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[t],removed:[],type:"selection-change"},type:"update"});const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),e,n,"transform",!0);Pt(i)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(i,e))},removeFromSelection:t=>{this.updateGraphics.remove(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[t],type:"selection-change"},type:"update"}),p.complete()},toggleTool:async()=>{if(1!==this.updateGraphics.length||!1===e.toggleToolOnClick)return;const t=this.updateGraphics.getItemAt(0);if(0!==Object(j["b"])(t))return;const i=await this._setupReshape3DOperation(t,e,n,!0);Pt(i)||(p.onEnd(),p.destroy(),this._setUpdateOperationHandle(i,e))}});return d.push(...this._getHandlesForComponent(p,e),this.view.on("immediate-click",t=>this._getCommonUpdateOperationClickHandlers(p,t,e),M["b"].WIDGET),this.view.on("key-down",t=>this._getCommonUpdateOperationKeyDownHandlers(p,t),M["b"].WIDGET),this.view.on("key-down",t=>{t.key!==k["a"].constraint||t.repeat||(h.preserveAspectRatio=!h.preserveAspectRatio,t.stopPropagation())},M["b"].WIDGET),this.view.on("key-up",t=>{t.key===k["a"].constraint&&(h.preserveAspectRatio=!h.preserveAspectRatio,t.stopPropagation())},M["b"].WIDGET)),p}async _setupMoveOperation(t,e,i){const n="move";this.updateGraphics.addMany(t);const r=await this._getGraphicMover(t,e,i);if(Pt(r))return r;const s=new vt({activeComponent:r,tool:n,type:"update",onEnd:()=>{var t;this._displayDefaultCursor(),c.forEach(t=>t.remove()),a.forEach(t=>t.remove()),c=[],a=[],r.destroy(),null==(t=this._internalGraphicsLayer)||t.removeMany([...this.updateGraphics.toArray()])},undo:()=>{const t=this.updateGraphics.toArray();Tt(s,t),s.refreshComponent(),this._emitUndoEvent({graphics:t,tool:n})},redo:()=>{const t=this.updateGraphics.toArray();Et(s,t),s.refreshComponent(),this._emitRedoEvent({graphics:t,tool:n})},addToSelection:t=>{this.updateGraphics.push(t),r.graphics=this.updateGraphics.toArray(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[t],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:t=>{const e=this.updateGraphics.indexOf(t);s.history.undo.forEach(t=>t.updates.splice(e,1)),s.history.redo.forEach(t=>t.updates.splice(e,1)),this.updateGraphics.remove(t);const i=this.updateGraphics.toArray();this.emit("update",{graphics:i,state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[t],type:"selection-change"},type:"update"}),0!==this.updateGraphics.length?r.graphics=i:s.complete()}});let o=!1,a=[i.on("immediate-click",t=>this._getCommonUpdateOperationClickHandlers(s,t,e),M["b"].WIDGET),i.on("key-down",t=>{this._getCommonUpdateOperationKeyDownHandlers(s,t),t.key!==k["a"].constraint||t.repeat||(o=!0,r.enableMoveAllGraphics=!r.enableMoveAllGraphics)},M["b"].WIDGET),i.on("key-up",t=>{t.key===k["a"].constraint&&o&&(o=!1,r.enableMoveAllGraphics=!r.enableMoveAllGraphics)},M["b"].WIDGET)],c=this._getHandlesForComponent(s,e);return s}async _setupReshape3DOperation(t,e,n,r=!1){const s="reshape",o=await this._requireModule(Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-3659ce29"),i.e("chunk-eb72276e"),i.e("chunk-526022d6"),i.e("chunk-58b66df9")]).then(i.bind(null,"438e")));if(Pt(o))return o;this.snappingOptions.enabledToggled=!1;const a=new o.module.GraphicReshapeTool({view:n,graphic:t,enableZVertex:e.enableZ&&"move"===e.reshapeOptions.vertexOperation,enableZShape:e.enableZ&&"move"===e.reshapeOptions.shapeOperation,enableMoveGraphic:"move"===e.reshapeOptions.shapeOperation||"move-xy"===e.reshapeOptions.shapeOperation,enableMidpoints:"split"===e.reshapeOptions.edgeOperation,enableEdgeOffset:"offset"===e.reshapeOptions.edgeOperation,snappingManager:this._snappingManager});n.tools.add(a),r||this.updateGraphics.add(t);const c=[],l=new vt({activeComponent:a,tool:s,type:"update",onEnd:()=>{var t;c.forEach(t=>t.remove()),c.length=0,null==(t=this.view.tools)||t.remove(a),a.destroyed||a.destroy()},canUndo:()=>a.canUndo,undo:()=>{a.undo(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:s})},canRedo:()=>a.canRedo,redo:()=>{a.redo(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:s})},addToSelection:async t=>{this.updateGraphics.add(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[t],removed:[],type:"selection-change"},type:"update"});const i=await this._setupMove3DOperation(this.updateGraphics.toArray(),e,n,"transform",!0);Pt(i)||(l.onEnd(),l.destroy(),this._setUpdateOperationHandle(i,e))},removeFromSelection:t=>{this.updateGraphics.remove(t),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[t],type:"selection-change"},type:"update"}),l.complete()},toggleTool:async()=>{if(!1===e.toggleToolOnClick)return;const t=await this._setupGraphicTransform3DOperation(this.updateGraphics.toArray(),e,n,!0);Pt(t)||(l.onEnd(),l.destroy(),this._setUpdateOperationHandle(t,e))}});return c.push(...this._getHandlesForComponent(l,e),n.on("immediate-click",t=>this._getCommonUpdateOperationClickHandlers(l,t,e),M["b"].WIDGET),n.on("key-down",t=>{this._getCommonUpdateOperationKeyDownHandlers(l,t),t.key===k["a"].snappingToggle&&(this.snappingOptions.enabledToggled=!0,t.stopPropagation())},M["b"].WIDGET),n.on("key-up",t=>{t.key===k["a"].snappingToggle&&(this.snappingOptions.enabledToggled=!1,t.stopPropagation())},M["b"].WIDGET)),l}async _setupTransformOrReshapeOperation(t,e,i,n){const{multipleSelectionEnabled:r}=i;this.updateGraphics.addMany(t);const s="transform"===e?await this._getBox(t,i,n):await this._getReshape(t,i,n);if(Pt(s))return s;const o=new vt({activeComponent:s,type:"update",onEnd:()=>{c.forEach(t=>t.remove()),a.forEach(t=>t.remove()),c=[],a=[],o.activeComponent&&!o.activeComponent.destroyed&&o.activeComponent.destroy(),this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray())},undo:()=>{Tt(o,this.updateGraphics.toArray()),o.refreshComponent(),this._emitUndoEvent({graphics:this.updateGraphics.toArray(),tool:o.tool})},redo:()=>{Et(o,this.updateGraphics.toArray()),o.refreshComponent(),this._emitRedoEvent({graphics:this.updateGraphics.toArray(),tool:o.tool})},addToSelection:async t=>{let e=o.activeComponent;if("reshape"===e.type){const e=[...this.updateGraphics,t];this.updateGraphics.removeAll();const r=await this._setupMoveOperation(e,i,n);if(Pt(r))return;o.onEnd(),o.destroy(),this._setUpdateOperationHandle(r,i)}else this.updateGraphics.add(t),e=e,e.graphics=this.updateGraphics.toArray(),e.refresh(),o.resetHistory();this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[t],removed:[],type:"selection-change"},type:"update"})},removeFromSelection:async t=>{const e=this.updateGraphics.indexOf(t);o.history.undo.forEach(t=>t.updates.splice(e,1)),o.history.redo.forEach(t=>t.updates.splice(e,1)),this.updateGraphics.remove(t);const i=this.updateGraphics.toArray();if(0===i.length)o.complete();else{const t=i[0].geometry;1!==i.length||!Object(u["l"])(t)||"point"!==t.type&&"multipoint"!==t.type?o.activeComponent.graphics=i:o.toggleTool()}this.emit("update",{graphics:i,state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:[],removed:[t],type:"selection-change"},type:"update"})},toggleTool:async()=>{if(this.updateGraphics.length>1)return;const t=this.updateGraphics.getItemAt(0),e=t.geometry;if(Object(u["l"])(e)&&("reshape"===o.tool&&("point"===e.type||"multipoint"===e.type)||"transform"===o.tool&&"extent"===e.type))return;let r=null;"transform"===o.tool?r=await this._getReshape([t],i,n):"reshape"===o.tool&&(r=await this._getBox([t],i,n)),Pt(r)||(o.activeComponent.destroy(),o.activeComponent=r,o.activeComponent&&(c.forEach(t=>t.remove()),c=this._getHandlesForComponent(o,i)))}});let a=[n.on("immediate-click",async t=>{var e;const i=await t.async(()=>this._getFirstHit(Object(bt["a"])(t)));null!=(e=i.results)&&e.length?i.results.some(e=>{if(e.graphic){var i;const n=e.graphic;if(null!=(i=t.native)&&i.shiftKey&&r)return t.stopPropagation(),o.addToSelection(n),!0;if(n.layer===this.layer)return o.complete(),!0}return!1}):o.complete()},M["b"].WIDGET),n.on("key-down",t=>{if(this._getCommonUpdateOperationKeyDownHandlers(o,t),t.key!==k["a"].snappingToggle||t.repeat||(this.snappingOptions.enabledToggled=!0,t.stopPropagation()),t.key===k["a"].constraint&&!t.repeat&&o){const t=o.activeComponent;t&&"box"===t.type&&(t.preserveAspectRatio=!t.preserveAspectRatio)}},M["b"].WIDGET),n.on("key-up",t=>{var e;if(t.key===k["a"].snappingToggle&&"reshape"===(null==o||null==(e=o.activeComponent)?void 0:e.type)&&(this.snappingOptions.enabledToggled=!1,t.stopPropagation()),t.key===k["a"].constraint&&o){const t=o.activeComponent;t&&"box"===t.type&&(t.preserveAspectRatio=!t.preserveAspectRatio)}},M["b"].WIDGET)],c=this._getHandlesForComponent(o,i);return o}async _getGraphicMover(t,e,n){const{enableMoveAllGraphics:r}=e,s=await this._requireModule(i.e("chunk-3f48965f").then(i.bind(null,"24be")));return Pt(s)?s:new s.module.default({enableMoveAllGraphics:r,graphics:t,view:n,callbacks:{onGraphicMoveStart:({dx:t,dy:e,graphic:i})=>{this._displayGrabbingCursor(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t,dy:e,mover:i,type:"move-start"},type:"update"})},onGraphicMove:({dx:t,dy:e,graphic:i})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t,dy:e,mover:i,type:"move"},type:"update"}),onGraphicMoveStop:({dx:t,dy:e,graphic:i})=>{this._displayPointerCursor(),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t,dy:e,mover:i,type:"move-stop"},type:"update"})},onGraphicPointerOver:()=>this._displayPointerCursor(),onGraphicPointerOut:()=>this._displayDefaultCursor()}})}async _getBox(t,e,n){const{enableRotation:r,enableScaling:s,preserveAspectRatio:o}=e,a=await this._requireModule(i.e("chunk-c08e8064").then(i.bind(null,"4c3c")));return Pt(a)?a:new a.module.default({graphics:t,enableRotation:r,enableScaling:s,preserveAspectRatio:o,layer:this._internalGraphicsLayer,view:n,callbacks:{onMoveStart:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onMove:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onMoveStop:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onScaleStart:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onScale:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onScaleStop:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onRotateStart:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onRotate:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onRotateStop:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"})}})}async _getReshape(t,e,n){var r,s;const o="split"===(null==(r=e.reshapeOptions)?void 0:r.edgeOperation),a="move"===(null==(s=e.reshapeOptions)?void 0:s.shapeOperation),c=await this._requireModule(Promise.all([i.e("chunk-eb72276e"),i.e("chunk-15302fac")]).then(i.bind(null,"053b")));return Pt(c)?c:new c.module.default({enableMidpoints:o,enableMovement:a,graphic:t[0],layer:this._internalGraphicsLayer,snappingManager:this._snappingManager,view:n,callbacks:{onReshapeStart:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onReshape:t=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{...t},type:"update"}),onReshapeStop:({mover:t,type:e})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t,type:e},type:"update"}),onMoveStart:({dx:t,dy:e,mover:i,type:n})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t,dy:e,mover:i,type:n},type:"update"}),onMove:({dx:t,dy:e,mover:i,type:n})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t,dy:e,mover:i,type:n},type:"update"}),onMoveStop:({dx:t,dy:e,mover:i,type:n})=>this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t,dy:e,mover:i,type:n},type:"update"}),onVertexAdd:({added:t,type:e,vertices:i})=>{const n=t.map(t=>Object(m["b"])(t.geometry));this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{added:n,vertices:i,type:e},type:"update"})},onVertexRemove:({removed:t,type:e,vertices:i})=>{const n=t.map(t=>Object(m["b"])(t.geometry));this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{removed:n,vertices:i,type:e},type:"update"})}}})}_getHandlesForComponent(t,e){const i=t.activeComponent;switch(i.type){case"graphic-mover":return[i.on("graphic-click",({graphic:e,viewEvent:i})=>{var n;null!=(n=i.native)&&n.shiftKey&&(i.stopPropagation(),t.removeFromSelection(e))}),i.on("graphic-move-start",e=>t.addToHistory(Ct(e.allGraphics)))];case"box":return[i.on("graphic-click",i=>this._onTransformOrReshape2DGraphicClick(t,e,i)),i.on("move-start",e=>t.addToHistory(Ct(e.graphics))),i.on("rotate-start",e=>t.addToHistory(Ct(e.graphics))),i.on("scale-start",e=>t.addToHistory(Ct(e.graphics)))];case"reshape":return[i.on("graphic-click",i=>this._onTransformOrReshape2DGraphicClick(t,e,i)),i.on("move-start",e=>t.addToHistory(Ct([e.mover]))),i.on("reshape-start",e=>t.addToHistory(Ct([e.graphic]))),i.on("vertex-add",e=>t.addToHistory(Ct([e.oldGraphic]))),i.on("vertex-remove",e=>t.addToHistory(Ct([e.oldGraphic])))];case"move-3d":return[i.on("graphic-move-start",e=>{t.addToHistory(Ct(e.allGraphics)),this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:e.allGraphics.length>0?e.allGraphics[0]:null,type:"move-start"},type:"update"})}),i.on("graphic-move",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:t.dx,dy:t.dy,mover:t.allGraphics.length>0?t.allGraphics[0]:null,type:"move"},type:"update"})}),i.on("graphic-move-stop",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{dx:0,dy:0,mover:t.allGraphics.length>0?t.allGraphics[0]:null,type:"move-stop"},type:"update"})}),i.on("immediate-click",i=>{i.shiftKey?this._toggleSelection([i.graphic],t,e):t.toggleTool()})];case"transform-3d":return[i.on("record-undo",({record:e})=>{t.addToHistory({updates:[e]})}),i.on("graphic-translate-start",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,dx:t.dxScreen,dy:t.dyScreen,type:"move-start"},type:"update"})}),i.on("graphic-translate-stop",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,dx:t.dxScreen,dy:t.dyScreen,type:"move-stop"},type:"update"})}),i.on("graphic-rotate-start",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,angle:t.angle,type:"rotate-start"},type:"update"})}),i.on("graphic-rotate-stop",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,angle:t.angle,type:"rotate-stop"},type:"update"})}),i.on("graphic-scale-start",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,xScale:t.xScale,yScale:t.yScale,type:"scale-start"},type:"update"})}),i.on("graphic-scale-stop",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,xScale:t.xScale,yScale:t.yScale,type:"scale-stop"},type:"update"})}),i.on("graphic-translate",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,dx:t.dxScreen,dy:t.dyScreen,type:"move"},type:"update"})}),i.on("graphic-rotate",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,angle:t.angle,type:"rotate"},type:"update"})}),i.on("graphic-scale",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:{mover:t.graphic,xScale:t.xScale,yScale:t.yScale,type:"scale"},type:"update"})}),i.on("immediate-click",i=>{i.shiftKey?this._toggleSelection([i.graphic],t,e):t.toggleTool()})];case"reshape-3d":return[i.on("reshape",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:"update"})}),i.on("move",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:"update"})}),i.on("vertex-add",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:"update"})}),i.on("vertex-remove",t=>{this.emit("update",{graphics:this.updateGraphics.toArray(),state:"active",aborted:!1,tool:this.activeTool,toolEventInfo:t,type:"update"})}),i.on("immediate-click",i=>{i.shiftKey?this._toggleSelection([i.graphic],t,e):t.toggleTool()})];default:return}}_onTransformOrReshape2DGraphicClick(t,e,i){var n;const{graphic:r,viewEvent:s}=i;return null!=(n=s.native)&&n.shiftKey&&r.layer===this.layer?(s.stopPropagation(),t.removeFromSelection(r)):e.toggleToolOnClick?(s.stopPropagation(),t.toggleTool()):void 0}_setUpdateOperationHandle(t,e){this._operationHandle=t;const i=this.view.map;this._disablePopup(e);const n=()=>{if(t===this._operationHandle){const n=this.updateGraphics.toArray(),r=this._operationHandle.tool;this._operationHandle.destroy(),this._operationHandle=null,this._internalGraphicsLayer.removeMany(this.updateGraphics.toArray()),this.updateGraphics.removeAll(),i&&i.remove(this._internalGraphicsLayer),this._restorePopup(e),this.emit("update",{graphics:n,state:"complete",aborted:t.cancelled,tool:r,toolEventInfo:null,type:"update"})}};t.on("complete",n)}async _getCommonUpdateOperationClickHandlers(t,e,i){const n=Object(bt["a"])(e),r=(await e.async(()=>this._getFirstHit(n))).results;r.length&&(e.native.shiftKey&&this._toggleSelection(r.map(t=>t.graphic),t,i)||r.some(t=>t.graphic&&this.updateGraphics.includes(t.graphic)))?e.stopPropagation():t.complete()}_toggleSelection(t,e,i){const n=!!i.multipleSelectionEnabled;return t.some(t=>null!=t&&!(!n||t.layer!==this.layer)&&(this.updateGraphics.includes(t)?e.removeFromSelection(t):e.addToSelection(t),!0))}_getCommonUpdateOperationKeyDownHandlers(t,e){if(!t)return;const i=e.key;i===k["a"].undo&&t.canUndo()?(e.stopPropagation(),t.undo()):i===k["a"].redo&&t.canRedo()?(e.stopPropagation(),t.redo()):i===k["a"].cancel?(e.stopPropagation(),t.cancel()):this.allowDeleteKey&&k["a"].delete.includes(i)&&this._onDeleteKey(e)}_onDeleteKey(t){if(!this._operationHandle||"update"!==this._operationHandle.type)return;const e=this.activeComponent,i=this.updateGraphics.toArray();Object(u["k"])(e)||"reshape-3d"===e.type||("reshape"!==e.type||1===i.length&&"point"===Object(u["j"])(i[0].geometry,"type"))&&(t.stopPropagation(),this.delete())}_removeDefaultLayer(){this._internalGraphicsLayer&&(this.view&&this.view.map&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer=Object(u["e"])(this._internalGraphicsLayer))}_isComponentGraphic(t){const{activeComponent:e}=this;return!(!t||Object(u["k"])(e))&&(t.attributes&&t.attributes.esriSketchTool||"draw-2d"===e.type&&e.graphic===t||("box"===e.type||"reshape"===e.type)&&e.isUIGraphic(t))}_displayPointerCursor(){this.view&&this.view.container&&"pointer"!==this.view.cursor&&(this.view.cursor="pointer")}_displayGrabbingCursor(){this.view&&this.view.container&&"grabbing"!==this.view.cursor&&(this.view.cursor="grabbing")}_displayDefaultCursor(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)}_logError(t,e,i){xt.error(new o["a"](t,e,i))}async _requireModule(t){const e=new AbortController;this._moduleLoaderAbortController=e;const i=await t;return this._moduleLoaderAbortController!==e||e.signal.aborted?{requireError:"aborted"}:{module:i}}_emitUndoEvent(t){this.emit("undo",{...t,type:"undo"})}_emitRedoEvent(t){this.emit("redo",{...t,type:"redo"})}_emitDeleteEvent(t){this.emit("delete",{...t,type:"delete"})}test(){return{operationHandle:this._operationHandle,defaultUpdateOptions:Mt}}wait(){return Object(p["i"])(this,"updating")}_beginAsyncOperation(){this._numUpdating+=1,this.notifyChange("updating")}_endAsyncOperation(){this._numUpdating-=1,this.notifyChange("updating")}_disablePopupEnabled(t){var e;return"3d"!==(null==(e=this.view)?void 0:e.type)||this.updateOnGraphicClick||Object(u["l"])(t)&&t.toggleToolOnClick}_disablePopup(t){if(!this._disablePopupEnabled(t))return;const e=this.view.popup;e&&Object(u["k"])(this._originalAutoOpenEnabled)&&(this._originalAutoOpenEnabled=e.autoOpenEnabled,e.autoOpenEnabled=!1)}_restorePopup(t){if(!this._disablePopupEnabled(t))return;const e=this.view.popup;e&&Object(u["l"])(this._originalAutoOpenEnabled)&&(e.autoOpenEnabled=this._originalAutoOpenEnabled,this._originalAutoOpenEnabled=null)}async _waitViewReady(){this.view&&(Object(u["a"])(this._viewReadyAbortController),this._viewReadyAbortController=new AbortController,await Object(h["y"])(Object(p["j"])(this.view,"ready"),this._viewReadyAbortController.signal))}};function It(t){return"polygon"===t||"rectangle"===t||"circle"===t}function Tt(t,e){At("undo",t.history.undo,t.history.redo,e)}function Et(t,e){At("redo",t.history.redo,t.history.undo,e)}function At(t,e,i,n){const r=e.pop().updates,s=[];n.forEach((e,i)=>{const n=r[i];null!=n&&("geometry"in n&&Object(u["l"])(n.geometry)&&(s.push({geometry:e.geometry}),e.geometry=n.geometry),"symbol"in n&&Object(u["l"])(n.symbol)&&(s.push({symbol:e.symbol}),e.symbol=n.symbol),"undo"in n&&(s.push(n),n[t](e)))}),i.push({updates:s})}function Ct(t){return{updates:t.map(t=>({geometry:t.geometry}))}}function Pt(t){return"requireError"in t&&"aborted"===t.requireError}Object(n["a"])([Object(f["b"])()],kt.prototype,"updating",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"_operationHandle",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],kt.prototype,"activeTool",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"activeFillSymbol",void 0),Object(n["a"])([Object(f["b"])()],kt.prototype,"activeLineSymbol",void 0),Object(n["a"])([Object(f["b"])()],kt.prototype,"activeVertexSymbol",void 0),Object(n["a"])([Object(f["b"])()],kt.prototype,"allowDeleteKey",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],kt.prototype,"createGraphic",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"defaultCreateOptions",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"defaultUpdateOptions",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"layer",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"pointSymbol",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"polygonSymbol",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"polylineSymbol",void 0),Object(n["a"])([Object(f["b"])({type:ut,nonNullable:!0})],kt.prototype,"snappingOptions",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"_snappingManager",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],kt.prototype,"state",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],kt.prototype,"updateGraphics",void 0),Object(n["a"])([Object(f["b"])()],kt.prototype,"updateOnGraphicClick",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"updatePointSymbol",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"updatePolygonSymbol",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"updatePolylineSymbol",void 0),Object(n["a"])([Object(f["b"])({types:r["e"]})],kt.prototype,"vertexSymbol",void 0),Object(n["a"])([Object(f["b"])({value:null})],kt.prototype,"view",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"cancel",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"complete",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"delete",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"create",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"update",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"undo",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"redo",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"canUndo",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"canRedo",null),Object(n["a"])([Object(f["b"])()],kt.prototype,"toggleUpdateTool",null),kt=Object(n["a"])([Object(b["a"])(_t)],kt);const Rt=kt},a04b:function(t,e,i){var n=i("c04e"),r=i("d9b5");t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},a1d1:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c}));var n=i("bb72"),r=i("e9fc"),s=i("2edc"),o=i("69dd");async function a(t,e,i){const n=await c(t,e,i);return s["default"].fromJSON(n)}async function c(t,e,i){const s=Object(n["c"])(t),a={...i},c=o["a"].from(e),{data:l}=await Object(r["executeQuery"])(s,c,c.sourceSpatialReference,a);return l}},a1f3:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0")),l=i("448d"),u=i("afcf"),h=i("d386"),d=i("5970"),p=i("6781");const f=new s["a"]({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let b=n=class extends o["a"]{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(t,{description:e}){let i;try{i=JSON.parse(e)}catch(n){}return i?i.value:null}readValueType(t,{description:e}){let i;try{i=JSON.parse(e)}catch(n){}return i?f.fromJSON(i.fieldValueType):null}clone(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],b.prototype,"alias",void 0),Object(r["a"])([Object(a["b"])({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0),Object(r["a"])([Object(a["b"])()],b.prototype,"description",void 0),Object(r["a"])([Object(u["a"])("description")],b.prototype,"readDescription",null),Object(r["a"])([Object(a["b"])({types:d["b"],json:{read:{reader:d["a"]},write:!0}})],b.prototype,"domain",void 0),Object(r["a"])([Object(a["b"])({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0),Object(r["a"])([Object(a["b"])({type:c["a"],json:{write:!0}})],b.prototype,"length",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],b.prototype,"name",void 0),Object(r["a"])([Object(a["b"])({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0),Object(r["a"])([Object(l["a"])(p["a"])],b.prototype,"type",void 0),Object(r["a"])([Object(a["b"])()],b.prototype,"valueType",void 0),Object(r["a"])([Object(u["a"])("valueType",["description"])],b.prototype,"readValueType",null),b=n=Object(r["a"])([Object(h["a"])("esri.layers.support.Field")],b);const y=b},a21b:function(t,e,i){"use strict";i.d(e,"a",(function(){return m})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return b})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return d})),i.d(e,"h",(function(){return a})),i.d(e,"i",(function(){return h})),i.d(e,"j",(function(){return p})),i.d(e,"k",(function(){return c})),i.d(e,"l",(function(){return l})),i.d(e,"m",(function(){return s})),i.d(e,"n",(function(){return y}));var n=i("b2b2");function r(t,e){if(t.forEach)t.forEach(e);else for(let i=0;i<t.length;i++)e(t[i],i,t)}function s(t,e,i){if(t.slice)return t.slice(e,i);void 0===e?e=0:(e<0&&(e+=t.length),e=Math.min(t.length,Math.max(0,e))),void 0===i?i=t.length:(i<0&&(i+=t.length),i=Math.min(t.length,Math.max(0,i)));const n=Math.max(0,i-e),r=new(0,t.constructor)(n);for(let s=0;s<n;s++)r[s]=t[e+s];return r}function o(t){return t instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name}function a(t){return t instanceof Int8Array||t&&t.constructor&&"Int8Array"===t.constructor.name}function c(t){return t instanceof Uint8Array||t&&t.constructor&&"Uint8Array"===t.constructor.name}function l(t){return t instanceof Uint8ClampedArray||t&&t.constructor&&"Uint8ClampedArray"===t.constructor.name}function u(t){return t instanceof Int16Array||t&&t.constructor&&"Int16Array"===t.constructor.name}function h(t){return t instanceof Uint16Array||t&&t.constructor&&"Uint16Array"===t.constructor.name}function d(t){return t instanceof Int32Array||t&&t.constructor&&"Int32Array"===t.constructor.name}function p(t){return t instanceof Uint32Array||t&&t.constructor&&"Uint32Array"===t.constructor.name}function f(t){return t instanceof Float32Array||t&&t.constructor&&"Float32Array"===t.constructor.name}function b(t){return t instanceof Float64Array||t&&t.constructor&&"Float64Array"===t.constructor.name}function y(t){const e=new Array(t.length);for(let i=0;i<t.length;i++)e[i]=t[i];return e}function m(t){return Object(n["k"])(t)?0:128+t.buffer.byteLength+64}},a29a:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return h})),i.d(e,"h",(function(){return d}));var n=i("4212");function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e,i,n,r,s,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=o,t}function a(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5];let c=i*s-n*r;return c?(c=1/c,t[0]=s*c,t[1]=-n*c,t[2]=-r*c,t[3]=i*c,t[4]=(r*a-s*o)*c,t[5]=(n*o-i*a)*c,t):null}function c(t){return t[0]*t[3]-t[1]*t[2]}function l(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=i[0],u=i[1],h=i[2],d=i[3],p=i[4],f=i[5];return t[0]=n*l+s*u,t[1]=r*l+o*u,t[2]=n*h+s*d,t[3]=r*h+o*d,t[4]=n*p+s*f+a,t[5]=r*p+o*f+c,t}function u(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=Math.sin(i),u=Math.cos(i);return t[0]=n*u+s*l,t[1]=r*u+o*l,t[2]=n*-l+s*u,t[3]=r*-l+o*u,t[4]=a,t[5]=c,t}function h(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=i[0],u=i[1];return t[0]=n*l,t[1]=r*l,t[2]=s*u,t[3]=o*u,t[4]=a,t[5]=c,t}function d(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=i[0],u=i[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=n*l+s*u+a,t[5]=r*l+o*u+c,t}function p(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=0,t[5]=0,t}function f(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function y(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function m(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function g(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function v(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function w(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function O(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t}function j(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function _(t,e){const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],c=t[5],l=e[0],u=e[1],h=e[2],d=e[3],p=e[4],f=e[5];return Math.abs(i-l)<=n["a"]*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-u)<=n["a"]*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-h)<=n["a"]*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(o-d)<=n["a"]*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-p)<=n["a"]*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(c-f)<=n["a"]*Math.max(1,Math.abs(c),Math.abs(f))}const x=l,S=v;Object.freeze({__proto__:null,copy:r,identity:s,set:o,invert:a,determinant:c,multiply:l,rotate:u,scale:h,translate:d,fromRotation:p,fromScaling:f,fromTranslation:b,str:y,frob:m,add:g,subtract:v,multiplyScalar:w,multiplyScalarAndAdd:O,exactEquals:j,equals:_,mul:x,sub:S})},a2b1:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("afcf")),a=i("d386"),c=i("09db"),l=i("5970"),u=i("ace4");let h=class extends r["a"]{constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const e={};for(const i of Object.keys(t))e[i]=Object(l["a"])(t[i]);return e}writeDomains(t,e){const i={};for(const r of Object.keys(t)){var n;t[r]&&(i[r]=null==(n=t[r])?void 0:n.toJSON())}e.domains=i}};Object(n["a"])([Object(s["b"])({json:{write:!0}})],h.prototype,"id",void 0),Object(n["a"])([Object(s["b"])({json:{write:!0}})],h.prototype,"name",void 0),Object(n["a"])([Object(s["b"])({json:{write:!0}})],h.prototype,"domains",void 0),Object(n["a"])([Object(o["a"])("domains")],h.prototype,"readDomains",null),Object(n["a"])([Object(c["a"])("domains")],h.prototype,"writeDomains",null),Object(n["a"])([Object(s["b"])({type:[u["a"]],json:{write:!0}})],h.prototype,"templates",void 0),h=Object(n["a"])([Object(a["a"])("esri.layers.support.FeatureType")],h);const d=h},a2e5:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{constructor(t){super(t),this.field=null,this.order=null}clone(){return new n({field:this.field,order:this.order})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"field",void 0),Object(r["a"])([Object(o["b"])({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.popup.support.RelatedRecordsInfoFieldOrder")],c);const l=c},a3af:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return h}));var n,r=i("a4ee"),s=i("6a0e"),o=i("b2b2"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386")),l=i("5c00");let u=n=class extends s["a"]{constructor(t){super(t),this.color=null}clone(){const t={color:Object(o["l"])(this.color)?this.color.clone():null};return new n(t)}};Object(r["a"])([Object(a["b"])(l["a"])],u.prototype,"color",void 0),u=n=Object(r["a"])([Object(c["a"])("esri.symbols.support.Symbol3DMaterial")],u);const h=u},a4b4:function(t,e,i){var n=i("342f");t.exports=/web0s(?!.*chrome)/i.test(n)},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),s=i("d066"),o=i("2ba4"),a=i("c65b"),c=i("e330"),l=i("c430"),u=i("83ab"),h=i("4930"),d=i("d039"),p=i("1a2d"),f=i("e8b5"),b=i("1626"),y=i("861d"),m=i("3a9b"),g=i("d9b5"),v=i("825a"),w=i("7b0b"),O=i("fc6a"),j=i("a04b"),_=i("577e"),x=i("5c6c"),S=i("7c73"),M=i("df75"),k=i("241c"),I=i("057f"),T=i("7418"),E=i("06cf"),A=i("9bf2"),C=i("d1e7"),P=i("f36a"),R=i("6eeb"),L=i("5692"),N=i("f772"),F=i("d012"),D=i("90e3"),z=i("b622"),V=i("e538"),$=i("746f"),G=i("d44e"),U=i("69f3"),q=i("b727").forEach,B=N("hidden"),H="Symbol",W="prototype",J=z("toPrimitive"),K=U.set,Y=U.getterFor(H),Z=Object[W],X=r.Symbol,Q=X&&X[W],tt=r.TypeError,et=r.QObject,it=s("JSON","stringify"),nt=E.f,rt=A.f,st=I.f,ot=C.f,at=c([].push),ct=L("symbols"),lt=L("op-symbols"),ut=L("string-to-symbol-registry"),ht=L("symbol-to-string-registry"),dt=L("wks"),pt=!et||!et[W]||!et[W].findChild,ft=u&&d((function(){return 7!=S(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=nt(Z,e);n&&delete Z[e],rt(t,e,i),n&&t!==Z&&rt(Z,e,n)}:rt,bt=function(t,e){var i=ct[t]=S(Q);return K(i,{type:H,tag:t,description:e}),u||(i.description=e),i},yt=function(t,e,i){t===Z&&yt(lt,e,i),v(t);var n=j(e);return v(i),p(ct,n)?(i.enumerable?(p(t,B)&&t[B][n]&&(t[B][n]=!1),i=S(i,{enumerable:x(0,!1)})):(p(t,B)||rt(t,B,x(1,{})),t[B][n]=!0),ft(t,n,i)):rt(t,n,i)},mt=function(t,e){v(t);var i=O(e),n=M(i).concat(jt(i));return q(n,(function(e){u&&!a(vt,i,e)||yt(t,e,i[e])})),t},gt=function(t,e){return void 0===e?S(t):mt(S(t),e)},vt=function(t){var e=j(t),i=a(ot,this,e);return!(this===Z&&p(ct,e)&&!p(lt,e))&&(!(i||!p(this,e)||!p(ct,e)||p(this,B)&&this[B][e])||i)},wt=function(t,e){var i=O(t),n=j(e);if(i!==Z||!p(ct,n)||p(lt,n)){var r=nt(i,n);return!r||!p(ct,n)||p(i,B)&&i[B][n]||(r.enumerable=!0),r}},Ot=function(t){var e=st(O(t)),i=[];return q(e,(function(t){p(ct,t)||p(F,t)||at(i,t)})),i},jt=function(t){var e=t===Z,i=st(e?lt:O(t)),n=[];return q(i,(function(t){!p(ct,t)||e&&!p(Z,t)||at(n,ct[t])})),n};if(h||(X=function(){if(m(Q,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,e=D(t),i=function(t){this===Z&&a(i,lt,t),p(this,B)&&p(this[B],e)&&(this[B][e]=!1),ft(this,e,x(1,t))};return u&&pt&&ft(Z,e,{configurable:!0,set:i}),bt(e,t)},Q=X[W],R(Q,"toString",(function(){return Y(this).tag})),R(X,"withoutSetter",(function(t){return bt(D(t),t)})),C.f=vt,A.f=yt,E.f=wt,k.f=I.f=Ot,T.f=jt,V.f=function(t){return bt(z(t),t)},u&&(rt(Q,"description",{configurable:!0,get:function(){return Y(this).description}}),l||R(Z,"propertyIsEnumerable",vt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:X}),q(M(dt),(function(t){$(t)})),n({target:H,stat:!0,forced:!h},{for:function(t){var e=_(t);if(p(ut,e))return ut[e];var i=X(e);return ut[e]=i,ht[i]=e,i},keyFor:function(t){if(!g(t))throw tt(t+" is not a symbol");if(p(ht,t))return ht[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),n({target:"Object",stat:!0,forced:!h,sham:!u},{create:gt,defineProperty:yt,defineProperties:mt,getOwnPropertyDescriptor:wt}),n({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Ot,getOwnPropertySymbols:jt}),n({target:"Object",stat:!0,forced:d((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(w(t))}}),it){var _t=!h||d((function(){var t=X();return"[null]"!=it([t])||"{}"!=it({a:t})||"{}"!=it(Object(t))}));n({target:"JSON",stat:!0,forced:_t},{stringify:function(t,e,i){var n=P(arguments),r=e;if((y(e)||void 0!==t)&&!g(t))return f(e)||(e=function(t,e){if(b(r)&&(e=a(r,this,t,e)),!g(e))return e}),n[1]=e,o(it,null,n)}})}if(!Q[J]){var xt=Q.valueOf;R(Q,J,(function(t){return a(xt,this)}))}G(X,H),F[B]=!0},a4ee:function(t,e,i){"use strict";function n(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}i.d(e,"a",(function(){return n}))},a4f1:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i("a4ee"),r=i("2c4f"),s=i("7d7d"),o=i("e92d"),a=i("f4cc"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("d386")),u=i("a6a3");function h(t){return t&&"group"===t.type}function d(t,e,i){let n,r;if(t)for(let s=0,o=t.length;s<o;s++){if(n=t.getItemAt(s),n[e]===i)return n;if(h(n)&&(r=d(n.layers,e,i),r))return r}}const p=o["a"].getLogger("esri.support.LayersMixin"),f=t=>{let e=class extends t{constructor(...t){super(...t),this.layers=new r["a"];const e=t=>{t.parent&&"remove"in t.parent&&t.parent.remove(t)},i=t=>{t.parent=this,this.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||p.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as an operational layer and will therefore be ignored.`)},n=t=>{t.parent=null,this.layerRemoved(t)};this.layers.on("before-add",t=>e(t.item)),this.layers.on("after-add",t=>i(t.item)),this.layers.on("after-remove",t=>n(t.item))}destroy(){const t=this.layers.removeAll();for(const e of t)this.layerRemoved(e),e.destroy();this.layers.destroy()}set layers(t){this._set("layers",Object(s["b"])(t,this._get("layers")))}add(t,e){const i=this.layers;if(e=i.getNextIndex(e),t instanceof u["a"]){const n=t;n.parent===this?this.reorder(n,e):i.add(n,e)}else Object(a["o"])(t)?t.then(t=>{this.destroyed||this.add(t,e)}):p.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(t,e){const i=this.layers;e=i.getNextIndex(e),t.slice().forEach(t=>{t.parent!==this?(i.add(t,e),e+=1):this.reorder(t,e)})}findLayerById(t){return d(this.layers,"id",t)}findLayerByUid(t){return d(this.layers,"uid",t)}remove(t){return this.layers.remove(t)}removeMany(t){return this.layers.removeMany(t)}removeAll(){return this.layers.removeAll()}reorder(t,e){return this.layers.reorder(t,e)}layerAdded(t){}layerRemoved(t){}};return Object(n["a"])([Object(c["b"])()],e.prototype,"layers",null),e=Object(n["a"])([Object(l["a"])("esri.support.LayersMixin")],e),e}},a4f9:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0")),a=i("d386"),c=i("a9ab");let l=class extends r["a"]{constructor(t){super(t),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};Object(n["a"])([Object(s["b"])({json:{read:{reader:t=>t?t.map(t=>Object(c["a"])(t)):null},write:{writer:(t,e)=>{e.geometries1=t.map(t=>t.toJSON())}}}})],l.prototype,"geometries1",void 0),Object(n["a"])([Object(s["b"])({json:{read:{reader:t=>t?t.map(t=>Object(c["a"])(t)):null},write:{writer:(t,e)=>{e.geometries2=t.map(t=>t.toJSON())}}}})],l.prototype,"geometries2",void 0),Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"relation",void 0),Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"relationParameter",void 0),l=Object(n["a"])([Object(a["a"])("esri.rest.support.RelationParameters")],l),l.from=Object(o["m"])(l);const u=l},a571:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}));var n=i("a9ab");function r(t){return{geometryType:Object(n["c"])(t[0]),geometries:t.map(t=>t.toJSON())}}function s(t,e,i){const r=Object(n["b"])(e);return t.map(t=>{const e=r.fromJSON(t);return e.spatialReference=i,e})}},a5d8:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("a4ee"),r=i("d386");let s=0;const o=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++})}};return e=Object(n["a"])([Object(r["a"])("esri.core.Identifiable")],e),e};let a=class extends(o(class{})){};a=Object(n["a"])([Object(r["a"])("esri.core.Identifiable")],a)},a611:function(t,e,i){"use strict";i.d(e,"a",(function(){return xr}));var n=i("a4ee"),r=i("8d60"),s=i("2c4f"),o=i("4d10"),a=i("ce50"),c=i("c120"),l=i("fa2a"),u=i("e92d"),h=i("b2b2"),d=i("3795"),p=i("dfa0"),f=i("59b2"),b=i("b50f"),y=(i("cea0"),i("d386")),m=i("556f"),g=i("af40");const v={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,n=this.values;return e<=i.xsmall?n.xsmall:e<=i.small?n.small:e<=i.medium?n.medium:e<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,n=this.values;return e<=i.xsmall?n.xsmall:e<=i.small?n.small:e<=i.medium?n.medium:e<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],n=e[1],r=this.values;return n>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},w={xsmall:544,small:768,medium:992,large:1200};function O(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function j(t,e){return e?v[t].valueToClassName[e].split(" "):[]}const _=t=>{let e=class extends t{constructor(...t){super(...t),this._breakpointsHandles=new g["a"],this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=w}initialize(){this._breakpointsHandles.add(Object(d["a"])(this,["breakpoints","size"],this._updateClassNames))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)}set breakpoints(t){if(t===this._get("breakpoints"))return;const e=O(t);if(!e){const t=JSON.stringify(w,null,2);console.warn("provided breakpoints are not valid, using defaults:"+t)}t=e?t:w,this._set("breakpoints",{...t})}_updateClassNames(){if(!this.container)return;const t=m["a"].acquire(),e=m["a"].acquire();let i,n=!1;for(i in v){const r=this[i],s=v[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});r!==s&&(n=!0,this[i]=s,j(i,r).forEach(t=>e.push(t)),j(i,s).forEach(e=>t.push(e)))}n&&(this._applyClassNameChanges(t,e),m["a"].release(t),m["a"].release(e))}_applyClassNameChanges(t,e){const i=this.container;i&&(e.forEach(t=>i.classList.remove(t)),t.forEach(t=>i.classList.add(t)))}_removeActiveClassNames(){const t=this.container;if(!t)return;let e;for(e in v)j(e,this[e]).forEach(e=>t.classList.remove(e))}};return Object(n["a"])([Object(f["b"])()],e.prototype,"breakpoints",null),Object(n["a"])([Object(f["b"])()],e.prototype,"orientation",void 0),Object(n["a"])([Object(f["b"])()],e.prototype,"widthBreakpoint",void 0),Object(n["a"])([Object(f["b"])()],e.prototype,"heightBreakpoint",void 0),e=Object(n["a"])([Object(y["a"])("esri.views.BreakpointsOwner")],e),e};var x=i("7aa6"),S=(i("e06a"),i("cb72")),M=i("f4cc"),k=i("a915"),I=i("9786"),T=i("dff3");i("2dd4");const E=t=>{let e=class extends t{async fetchPopupFeatures(t,e){await this.when();const{location:i,queryArea:n,layerViewsAndGraphics:r,clientOnlyGraphics:s}=await this._prepareFetchPopupFeatures(t,e),o=Promise.resolve(s),a=this._queryLayerPopupFeatures(n,r,e),c=a.map(t=>t.promise);return{location:i,clientOnlyGraphics:s,allGraphicsPromise:Object(M["j"])([o,...c]).then(b["d"]),promisesPerLayerView:a}}_queryLayerPopupFeatures(t,e,i){return e.map(({layerView:e,graphics:n})=>{const r={clientGraphics:n,event:Object(h["l"])(i)?i.event:null,signal:Object(h["l"])(i)?i.signal:null,defaultPopupTemplateEnabled:!!Object(h["l"])(i)&&!!i.defaultPopupTemplateEnabled},s=e.fetchPopupFeatures(t,r);return{layerView:e,promise:s}})}_isValidPopupGraphic(t,e){return t&&!!t.getEffectivePopupTemplate(Object(h["l"])(e)&&e.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(t,e){const{clientGraphics:i,queryArea:n,location:r}=await this._popupHitTestGraphics(t,e),s=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:o,clientOnlyGraphics:a}=this._graphicsPerFetchPopupLayerView(i,s);return{clientOnlyGraphics:a,layerViewsAndGraphics:o,queryArea:n,location:r}}async _popupHitTestGraphics(t,e){const{results:i,mapPoint:n}=await this.popupHitTest(t),r=i.filter(t=>this._isValidPopupGraphic(t.graphic,e)),s=r.length?r[0].mapPoint:null;return{clientGraphics:r.map(t=>t.graphic),queryArea:n,location:n||s}}_getFetchPopupLayerViews(){const t=[];return this.allLayerViews.forEach(e=>{this._isValidPopupLayerView(e)&&t.push(e)}),Object(h["l"])(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&t.push(this.graphicsView),t.reverse()}_isValidPopupLayerView(t){return Object(h["l"])(t)&&(!("layer"in t)||!t.suspended)&&"fetchPopupFeatures"in t}_graphicsPerFetchPopupLayerView(t,e){const i=[],n=new Map,r=e.map(t=>{const e=[];return"layer"in t?n.set(t.layer,e):n.set(t.graphics,e),{layerView:t,graphics:e}});for(const s of t){const t=n.get(s.layer)||n.get(s.sourceLayer)||null;t?t.push(s):i.push(s)}return{layerViewsAndGraphics:r,clientOnlyGraphics:i}}};return e=Object(n["a"])([Object(y["a"])("esri.views.PopupView")],e),e};var A=i("6d1b"),C=i("658b"),P=i("fc29"),R=i("ce6d"),L=i("9096"),N=i("c649"),F=i("6d5f"),D=i("fab3"),z=i("477c"),V=i("4adc"),$=i("44e6"),G=i("3af1"),U=i("e64d"),q=i("5996");let B=class extends $["a"]{_own(t){t.parent=this.owner}_release(t){t.parent=null}};B=Object(n["a"])([Object(y["a"])("esri.support.AnalysesCollection")],B);var H=i("f626");let W=class extends P["a"]{constructor(t){super(t),this.view=null,this.baseLayerViews=new s["a"],this.referenceLayerViews=new s["a"],this._loadingHandle=Object(d["a"])(this,"view.map.basemap",t=>{t&&t.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){return(!this.view||!this.view.suspended)&&!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}};Object(n["a"])([Object(f["b"])({constructOnly:!0})],W.prototype,"view",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],W.prototype,"baseLayerViews",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],W.prototype,"referenceLayerViews",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],W.prototype,"suspended",null),Object(n["a"])([Object(f["b"])({type:Boolean,readOnly:!0})],W.prototype,"updating",null),W=Object(n["a"])([Object(y["a"])("esri.views.BasemapView")],W);var J=i("28eb"),K=i("5815"),Y=i("d347");const Z=u["a"].getLogger("esri.views.LayerViewManager");class X{constructor(t,e,i){this.layer=t,this.view=e,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=Object(M["e"])(),this._started=!1,this.done=!1,Object(M["p"])(this._controller.signal,()=>{const e=new a["a"]("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(e)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:e,view:i}=this;e.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:e,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:e,view:i}=this;this._map=i.map;try{var n,r;let o,c;if(await e.load({signal:t}),"prefetchResources"in e&&await e.prefetchResources({signal:t}),e.createLayerView)o=await e.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(e))throw new a["a"]("layer:view-not-supported","No layerview implementation was found");const n=await this.layerViewImporter.importLayerView(e);Object(M["u"])(t),o="default"in n?new n.default({layer:e,view:i}):new n({layer:e,view:i})}const l=()=>{c=Object(h["s"])(c),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};c=Object(M["p"])(t,l),Object(M["u"])(t);try{await o.when()}catch(s){throw l(),s}if(!(null==(n=this._map)||null==(r=n.allLayers)?void 0:r.includes(e)))return l(),void this._deferred.reject(new a["a"]("view:no-layerview-for-layer","The layer has been removed from the map",{layer:e}));this.layerView=o,e.emit("layerview-create",{view:i,layerView:o}),i.emit("layerview-create",{layer:e,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(s){e.emit("layerview-create-error",{view:i,error:s}),i.emit("layerview-create-error",{layer:e,error:s}),this.done=!0,this._deferred.reject(new a["a"]("layerview:create-error","layerview creation failed",{layer:e,error:s}))}}}let Q=class extends L["a"]{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new Y["a"],this.supportsGround=!0,this._preloadLayerViewModules=()=>{var t;const e=null==(t=this.view.map)?void 0:t.allLayers;if(e)for(const i of e)this.layerViewImporter.hasLayerViewModule(i)&&this.layerViewImporter.importLayerView(i)},this._reschedule=()=>(Object(h["k"])(this._workPromise)&&(this._workPromise=Object(M["e"])()),this.handles.remove("reschedule"),this.handles.add(Object(K["b"])(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var t,e,i;const n=this.view.map;if(this._map!==n&&(this.clear(),this._map=n),Object(h["k"])(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const r=new o["a"]({getCollections:()=>this._rootCollectionNames.map(t=>this.get(t)),getChildrenFunction:t=>t&&"layers"in t?t.layers:null});if(!r)return this._workPromise.resolve(),void(this._workPromise=null);for(const o of r)this._createLayerView(o);this._refreshCollections();for(const[o,c]of this._layerLayerViewInfoMap)r.includes(o)||(this._layerLayerViewInfoMap.delete(c.layer),c.destroy());const s=r.filter(t=>"group"===t.type).map(t=>t.layers),a=[null==n||null==(t=n.ground)?void 0:t.layers,null==n||null==(e=n.basemap)?void 0:e.baseLayers,null==n||null==(i=n.basemap)?void 0:i.referenceLayers,null==n?void 0:n.layers,...s].filter(t=>!!t);this.handles.add(a.map(t=>this._watchUpdatingTracking.addOnCollectionChange(t,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([Object(d["b"])(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),Object(d["a"])(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return Object(h["l"])(this._workPromise)||this._watchUpdatingTracking.updating||Object(J["c"])(this._layerLayerViewInfoMap,t=>!t.done)}get updatingRemaining(){let t=0;for(const e of this._layerLayerViewInfoMap.values())e.done||++t;return t}clear(){if(!this.destroyed){for(const t of this._layerLayerViewInfoMap.values())t.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t))throw new a["a"]("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t});return this._layerLayerViewInfoMap.get(t).promise}_refreshCollections(){for(const[t,e]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(t),this.get(e),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,e,i){if(!t||!e)return void(e&&e.removeAll());let n=0;for(const r of t){const t=this._layerLayerViewInfoMap.get(r);if(!t||!t.layerView)continue;const s=t.layerView;s.layer=r,s.parent=i,e.getItemAt(n)!==s&&e.splice(n,0,s),r.layers&&this._populateLayerViewsOwners(r.layers,s.layerViews,s),n+=1}n<e.length&&e.splice(n,e.length)}_createLayerView(t){if(this._layerLayerViewInfoMap.has(t))return this.view.ready&&this._layerLayerViewInfoMap.get(t).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const e=new X(t,this.view,this.layerViewImporter);e.promise.then(()=>this._refreshCollections(),e=>{var i,n;e&&(Object(M["l"])(e)||"cancelled:layerview-create"===e.name)||Z.error(`Failed to create layerview for layer title:'${null!=(i=t.title)?i:"no title"}', id:'${null!=(n=t.id)?n:"no id"}' of type '${t.type}'.`,{layer:t,error:e}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,e),this.view.ready&&e.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};Object(n["a"])([Object(f["b"])()],Q.prototype,"_workPromise",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Q.prototype,"_watchUpdatingTracking",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Q.prototype,"_layersToLayerViews",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Q.prototype,"_rootCollectionNames",null),Object(n["a"])([Object(f["b"])()],Q.prototype,"layerViewImporter",void 0),Object(n["a"])([Object(f["b"])()],Q.prototype,"supportsGround",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Q.prototype,"updating",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Q.prototype,"updatingRemaining",null),Object(n["a"])([Object(f["b"])({constructOnly:!0})],Q.prototype,"view",void 0),Q=Object(n["a"])([Object(y["a"])("esri.views.LayerViewManager")],Q);const tt=Q;let et=class extends P["a"]{constructor(t){super(t),this.factor=1.5,this.offset=Object(k["e"])(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};Object(n["a"])([Object(f["b"])({type:Number})],et.prototype,"factor",void 0),Object(n["a"])([Object(f["b"])({nonNullable:!0})],et.prototype,"offset",void 0),Object(n["a"])([Object(f["b"])()],et.prototype,"position",void 0),Object(n["a"])([Object(f["b"])({type:Number,range:{min:0}})],et.prototype,"size",void 0),Object(n["a"])([Object(f["b"])()],et.prototype,"maskUrl",void 0),Object(n["a"])([Object(f["b"])()],et.prototype,"maskEnabled",void 0),Object(n["a"])([Object(f["b"])()],et.prototype,"overlayUrl",void 0),Object(n["a"])([Object(f["b"])()],et.prototype,"overlayEnabled",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],et.prototype,"version",null),Object(n["a"])([Object(f["b"])({type:Boolean})],et.prototype,"visible",void 0),et=Object(n["a"])([Object(y["a"])("esri.views.Magnifier")],et);const it=et;var nt=i("9305");class rt{constructor(t,e){this._stage=t,this._textureRequests=new Map,this._frameTask=Object(h["l"])(e)?e.registerTask(nt["b"].TEXTURE_UNLOAD):nt["a"]}destroy(){this._frameTask.remove(),this._textureRequests.forEach(t=>this._releaseTextureRequest(t)),this._textureRequests.clear()}fromData(t,e){const i=this.makeUid(t);let n=this._textureRequests.get(i);return n||(n={referenceCount:0,texture:e(),textureAsync:null,abortController:null},this._stage&&(this._stage.add(n.texture),this._stage.loadSynchronous(n.texture)),this._textureRequests.set(i,n)),n.referenceCount++,{uid:i,texture:n.texture,release:()=>this._release(i)}}_release(t){if(!this._textureRequests)return;const e=this._textureRequests.get(t);e?(e.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+t),e.referenceCount--,e.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(t))):console.warn(`TextureCollection: texture doesn't exist: '${t}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(t){if(!this._textureRequests)return;const e=this._textureRequests.get(t);!e||e.referenceCount>0||(this._releaseTextureRequest(e),this._textureRequests.delete(t))}_releaseTextureRequest(t){var e;t.texture?null==(e=this._stage)||e.remove(t.texture):t.abortController&&(t.abortController.abort(),t.abortController=null)}makeUid(t,e=null){return Object(h["l"])(e)?`${t}.${e}px`:t}}var st=i("2589"),ot=i("38a4"),at=i("7164");const ct=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],lt={};function ut(t){return!!lt[t]}function ht(t){for(const e of t)if(!ut(e))return!1;return!0}ct.forEach(t=>{lt[t]=!0});class dt{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach(({handler:t,priority:e},i)=>this.inputManager.installHandlers(i,[t],e))}disconnect(){this.inputManager&&this.handlers.forEach((t,e)=>this.inputManager.uninstallHandlers(e)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,e,i,n){const r=Array.isArray(t)?t:t.split(",");if(!ht(r))return r.some(ut)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let s,o;Array.isArray(e)?o=e:(s=e,o=[]),"function"==typeof i?s=i:n=i,n=null!=n?n:st["b"].DEFAULT;const a=this.createUniqueGroupName(),c=new pt(this.view,r,o,s);this.handlers.set(a,{handler:c,priority:n});for(const l of r){const t=this.handlerCounts.get(l)||0;this.handlerCounts.set(l,t+1)}return this.inputManager&&this.inputManager.installHandlers(a,[c],n),{remove:()=>this.removeHandler(a,r)}}hasHandler(t){return!!this.handlerCounts.get(t)}removeHandler(t,e){if(this.handlers.has(t)){this.handlers.delete(t);for(const t of e){const e=this.handlerCounts.get(t);void 0===e?console.error("Trying to remove handler for event that has no handlers registered: ",t):1===e?this.handlerCounts.delete(t):this.handlerCounts.set(t,e-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}createUniqueGroupName(){return this.counter+=1,"viewEvents_"+this.counter}}class pt extends at["a"]{constructor(t,e,i,n){super(!0),this.view=t;for(const r of e)switch(r){case"click":this.registerIncoming("click",i,t=>n(this.wrapClick(t)));break;case"double-click":this.registerIncoming("double-click",i,t=>n(this.wrapDoubleClick(t)));break;case"immediate-click":this.registerIncoming("immediate-click",i,t=>n(this.wrapImmediateClick(t)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,t=>n(this.wrapImmediateDoubleClick(t)));break;case"hold":this.registerIncoming("hold",i,t=>n(this.wrapHold(t)));break;case"drag":this.registerIncoming("drag",i,t=>{const e=this.wrapDrag(t);e&&n(e)});break;case"key-down":this.registerIncoming("key-down",i,t=>n(this.wrapKeyDown(t)));break;case"key-up":this.registerIncoming("key-up",i,t=>n(this.wrapKeyUp(t)));break;case"pointer-down":this.registerIncoming("pointer-down",i,t=>n(this.wrapPointer(t,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,t=>n(this.wrapPointer(t,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,t=>n(this.wrapPointer(t,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,t=>n(this.wrapPointerDrag(t)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,t=>n(this.wrapMouseWheel(t)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,t=>n(this.wrapPointer(t,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,t=>n(this.wrapPointer(t,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,t=>{n(this.wrapGamepad(t))});break;case"focus":this.registerIncoming("focus",i,t=>{n(this.wrapFocus(t))});break;case"blur":this.registerIncoming("blur",i,t=>{n(this.wrapBlur(t))})}}wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapClick(t){const{pointerType:e,button:i,buttons:n,x:r,y:s,native:o,eventId:a}=t.data,{cancelable:c,timestamp:l}=t;return{type:"click",pointerType:e,button:i,buttons:n,x:r,y:s,native:o,timestamp:l,screenPoint:Object(k["e"])(r,s),mapPoint:this.getMapPoint(r,s),eventId:a,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapDoubleClick(t){const{pointerType:e,button:i,buttons:n,x:r,y:s,native:o,eventId:a}=t.data,{cancelable:c,timestamp:l}=t;return{type:"double-click",pointerType:e,button:i,buttons:n,x:r,y:s,native:o,timestamp:l,mapPoint:this.getMapPoint(r,s),eventId:a,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapImmediateClick(t){const{pointerType:e,button:i,buttons:n,x:r,y:s,native:o,eventId:a}=t.data,c=o.pointerId,{cancelable:l,timestamp:u}=t;return{type:"immediate-click",pointerId:c,pointerType:e,button:i,buttons:n,x:r,y:s,native:o,timestamp:u,mapPoint:this.getMapPoint(r,s),eventId:a,cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapImmediateDoubleClick(t){const{pointerType:e,button:i,buttons:n,x:r,y:s,native:o,eventId:a}=t.data,c=o.pointerId,{cancelable:l,timestamp:u}=t;return{type:"immediate-double-click",pointerId:c,pointerType:e,button:i,buttons:n,x:r,y:s,native:o,timestamp:u,mapPoint:this.getMapPoint(r,s),eventId:a,cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapHold(t){const{pointerType:e,button:i,buttons:n,x:r,y:s,native:o}=t.data,{cancelable:a,timestamp:c}=t;return{type:"hold",pointerType:e,button:i,buttons:n,x:r,y:s,native:o,timestamp:c,mapPoint:this.getMapPoint(r,s),cancelable:a,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}getMapPoint(t,e){return this.view.toMap(Object(k["e"])(t,e),{exclude:[]})}wrapDrag(t){const e=t.data,{x:i,y:n}=e.center,{action:r,pointerType:s,button:o}=e;if("start"===r&&(this.latestDragStart=e),!this.latestDragStart)return;const a=e.pointer.native,c=e.buttons,{cancelable:l,timestamp:u}=t,h={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===r&&(this.latestDragStart=void 0),{type:"drag",action:r,x:i,y:n,origin:h,pointerType:s,button:o,buttons:c,radius:e.radius,angle:Object(ot["l"])(e.angle),native:a,timestamp:u,cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapKeyDown(t){const{key:e,repeat:i,native:n}=t.data,{cancelable:r,timestamp:s}=t;return{type:"key-down",key:e,repeat:i,native:n,timestamp:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapKeyUp(t){const{key:e,native:i}=t.data,{cancelable:n,timestamp:r}=t;return{type:"key-up",key:e,native:i,timestamp:r,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapPointer(t,e){const{x:i,y:n,button:r,buttons:s,native:o,eventId:a}=t.data,c=o.pointerId,l=o.pointerType,{cancelable:u,timestamp:h}=t;return{type:e,x:i,y:n,pointerId:c,pointerType:l,button:r,buttons:s,native:o,timestamp:h,eventId:a,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapPointerDrag(t){const{x:e,y:i,buttons:n,native:r,eventId:s}=t.data.currentEvent,{button:o}=t.data.startEvent,a=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,l=t.data.action,u={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:h,timestamp:d}=t;return{type:"pointer-drag",x:e,y:i,pointerId:a,pointerType:c,button:o,buttons:n,action:l,origin:u,native:r,timestamp:d,eventId:s,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapMouseWheel(t){const{cancelable:e,data:i,timestamp:n}=t,{x:r,y:s,deltaY:o,native:a}=i;return{type:"mouse-wheel",x:r,y:s,deltaY:o,native:a,timestamp:n,cancelable:e,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}wrapGamepad(t){const{action:e,state:i,device:n}=t.data,{cancelable:r,timestamp:s}=t,{buttons:o,axes:a}=i;return{type:"gamepad",device:n,timestamp:s,action:e,buttons:o,axes:a,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}}function ft(t){return[t.on("after-add",t=>{const e=t.item;e.view&&e.view.ready&&!e.attached&&e.attach()}),t.on("after-remove",t=>{const e=t.item;e.active&&(e.view.activeTool=null),e.attached&&e.detach()})]}function bt(t){return t.visible&&t.getEditableFlag(0)&&t.getEditableFlag(1)}var yt=i("412f");class mt{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,e){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":gt(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(i(),"end"===t.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!vt(t))break;const n=Object(yt["a"])(t),r=this._intersect(n,t.pointerType,e.forEachTool);if(Object(h["k"])(r))break;const s=this._findToolAndManipulatorByKey(r,e.forEachTool,Ot),o=Object(h["c"])(s,t=>t.manipulator),a=Object(h["c"])(s,t=>t.tool);!(Object(h["l"])(o)&&Object(h["l"])(a)&&o.interactive)||o.grabbable&&o.grabbableForEvent(t)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,a,t),Object(h["l"])(o)&&o.interactive&&o.grabbable&&o.grabbableForEvent(t)&&!o.grabbing&&(this._grabbedManipulators.set(t.pointerId,{key:r,start:n,pointerType:t.pointerType}),1===this._grabbedManipulators.size&&e.activeTool!==r.tool&&(this._currentlyActiveTool=e.activeTool,this._revertToActiveTool=!0,e.setActiveTool(r.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),i());break}case"pointer-up":this._handlePointerEnd(t,e);break;case"pointer-drag":{if(!vt(t))break;const n=this._grabbedManipulators.get(t.pointerId),r=this._draggedManipulators.get(t.pointerId),s=Object(h["c"])(n||r,({key:t})=>t),o=this._findManipulatorByKey(s,e.forEachTool);if(Object(h["k"])(o))break;const a=Object(yt["a"])(t);a.x=Object(ot["d"])(a.x,0,e.view.width),a.y=Object(ot["d"])(a.y,0,e.view.height);const c=Object(h["t"])(n||r).start;switch(t.action){case"start":case"update":"update"!==t.action&&1!==this._grabbedManipulators.size||(o.dragging=!0,r?o.events.emit("drag",{action:"update",start:c,screenPoint:a}):o.events.emit("drag",{action:"start",start:c,screenPoint:a,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{key:Object(h["t"])(s),start:c}));break;case"end":o.dragging=!1,r&&o.events.emit("drag",{action:"end",start:c,screenPoint:a}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,e)}i();break}case"immediate-click":{const n=Object(yt["a"])(t),r=this._intersect(n,t.pointerType,e.forEachTool),s=this._findToolAndManipulatorByKey(r,e.forEachTool,Ot);if(wt(t)||e.forEachTool(t=>{if((!Object(h["l"])(s)||s.tool!==t||t.automaticManipulatorSelection)&&t.manipulators){let e=!1;t.manipulators.forEach(({manipulator:t})=>{t.selected&&(t.selected=!1,e=!0)}),e&&t.manipulatorSelectionChanged&&t.manipulatorSelectionChanged()}}),Object(h["k"])(s))break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.manipulatorSelectionChanged&&a.manipulatorSelectionChanged());const c=t.native.shiftKey;o.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:c,stopPropagation:i});break}case"click":{const n=Object(yt["a"])(t),r=this._intersect(n,t.pointerType,e.forEachTool),s=this._findManipulatorByKey(r,e.forEachTool);if(Object(h["k"])(s)||!s.interactive)break;const o=t.native.shiftKey;s.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:o}),i();break}case"double-click":{const n=Object(yt["a"])(t),r=this._intersect(n,t.pointerType,e.forEachTool),s=this._findManipulatorByKey(r,e.forEachTool);if(Object(h["k"])(s)||!s.interactive)break;const o=t.native.shiftKey;s.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:i});break}case"immediate-double-click":{const n=Object(yt["a"])(t),r=this._intersect(n,t.pointerType,e.forEachTool),s=this._findManipulatorByKey(r,e.forEachTool);if(Object(h["k"])(s)||!s.interactive)break;const o=t.native.shiftKey;s.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:i});break}}this._updateCursor(e.forEachTool)}_ungrabManipulatorBeforeDragging(t,e,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Object(yt["a"])(i)}),this._grabbedManipulators.forEach(({key:i},n)=>{i.tool===e&&e.manipulators.findById(i.manipulatorId)===t&&this._grabbedManipulators.delete(n)})}_handlePointerEnd(t,e){const i=Object(h["c"])(this._grabbedManipulators.get(t.pointerId),({key:t})=>t),n=this._findManipulatorByKey(i,e.forEachTool);Object(h["l"])(n)&&!n.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(e.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Object(yt["a"])(t)})),this._grabbedManipulators.delete(t.pointerId))}_cursorFromMap(t,e){let i=null;return Object(J["c"])(t,({key:t})=>{const n=this._findManipulatorByKey(t,e);return!!(Object(h["l"])(n)&&n.interactive&&"cursor"in n&&n.cursor)&&(i=n.cursor,!0)}),i}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||"pointer":this._cursor=null}clearPointers(t,e,i=!0,n){const r=e=>e.tool===t&&(Object(h["k"])(n)||e.manipulatorId===n);this._grabbedManipulators.forEach(({key:t,pointerType:i},n)=>{if(r(t)){this._grabbedManipulators.delete(n);const r=this._findManipulatorByKey(t,e);Object(h["l"])(r)&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:i}))}}),this._draggedManipulators.forEach(({key:t},i)=>{if(r(t)){this._draggedManipulators.delete(i);const n=this._findManipulatorByKey(t,e);Object(h["l"])(n)&&(n.dragging=!1,n.events.emit("drag",{action:"cancel"}))}}),i&&this._hoveredManipulators.forEach(({key:t},i)=>{if(r(t)){this._hoveredManipulators.delete(i);const n=this._findManipulatorByKey(t,e);Object(h["l"])(n)&&(n.hovering=!1)}}),this._updateCursor(e)}_intersect(t,e,i){let n=null;return i(i=>{if(null==i.manipulators||!bt(i))return!1;const r=i.manipulators.intersect(t,e);return!Object(h["k"])(r)&&(n={manipulatorId:r.id,tool:i},!0)}),n}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((e,i)=>{this._updateHoveredStateForPointerAtScreenPosition(Object(k["e"])(e.x,e.y),i,e.pointerType,t)})}handleHoverEvent(t,e){"pointer-up"!==t.type&&"immediate-click"!==t.type&&"pointer-move"!==t.type||!gt(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Object(yt["a"])(t),t.pointerId,t.pointerType,e)}_updateHoveredStateForPointerAtScreenPosition(t,e,i,n){const r=this._intersect(t,i,n);let s=this._findManipulatorByKey(r,n);const o=Object(h["c"])(this._hoveredManipulators.get(e),({key:t})=>t),a=this._findManipulatorByKey(o,n);Object(h["l"])(s)&&!s.interactive&&(s=null),a!==s&&(Object(h["l"])(a)&&(a.hovering=!1),Object(h["l"])(s)?(s.hovering=!0,this._hoveredManipulators.set(e,{key:Object(h["t"])(r)})):this._hoveredManipulators.delete(e),this._updateCursor(n))}_findManipulatorByKey(t,e){return this._findToolAndManipulatorByKey(t,e,Ot)?Ot.manipulator:null}_findToolAndManipulatorByKey(t,e,i){return Object(h["k"])(t)?null:(i.tool=null,i.manipulator=null,e(e=>{if(e!==t.tool||null==e.manipulators||!bt(e))return!1;const n=e.manipulators.findById(t.manipulatorId);return!!Object(h["l"])(n)&&(i.manipulator=n,i.tool=e,!0)}),i.manipulator?i:null)}}function gt(t){return"mouse"===t}function vt(t){return"mouse"!==t.pointerType||0===t.button}function wt(t){return!!t.native.shiftKey}const Ot={manipulator:null,tool:null},jt=u["a"].getLogger("esri.views.ToolViewManager"),_t="attached",xt="tools";let St=class extends L["a"]{constructor(t){super(t),this._manipulatorState=new mt,this.tools=new s["a"],this.cursor=null,this._forEachTool=t=>{for(const e of this.tools.items)if(t(e))return}}initialize(){this.handles.add([this.view.on(ct,t=>{this._handleInputEvent(t)},st["b"].TOOL),...ft(this.tools),this.tools.on("before-add",t=>{const e=t.item;if(null==e||this.tools.includes(e))return jt.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault()}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this._forEachTool(t=>t.destroy())}set activeTool(t){if(Object(h["l"])(t)&&!this.view.ready)return void jt.error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return void(Object(h["l"])(t)&&jt.warn("Tool is already active - ignoring activation request."));Object(h["l"])(this.activeTool)&&this.activeTool.deactivate(),Object(h["l"])(t)&&t.activate(),this._set("activeTool",t),this._removeIncompleteTools(t);const e=Object(h["k"])(this.activeTool);for(const i of this.tools){i.setEditableFlag(1,e||i===this.activeTool);const t=bt(i);!e&&t||this._manipulatorState.clearPointers(i,this._forEachTool,!t)}this._updateCursor()}get updating(){return this.updatingHandles.updating||this.tools.some(t=>t.updating)}attach(){this._forEachTool(t=>t.attach()),"3d"===this.view.type?(this._set("textures",new rt(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(t=>{null!=t.onViewChange&&t.onViewChange()})}),this.view.elevationProvider.on("elevation-change",t=>{this._forEachManipulator(e=>{null!=e.onElevationChange&&e.onElevationChange(t)})}),Object(N["c"])(()=>this._set("textures",Object(h["e"])(this.textures)))],_t)):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(t=>{null!=t.onViewChange&&t.onViewChange()})}))}detach(){Object(h["l"])(this.activeTool)&&(this.activeTool=null),this._forEachTool(t=>{t.detach(),t.destroy()}),this.tools.removeAll(),this.handles.remove(_t)}_forEachManipulator(t){this._forEachTool(e=>{e.manipulators&&e.manipulators.forEach(({manipulator:i})=>t(i,e))})}_handleInputEvent(t){let e=!1;const i={...t,stopPropagation:()=>{e=!0,t.stopPropagation()}};Object(h["l"])(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(t=>{!e&&t.attached&&t.visible&&t.handleInputEvent(i)}),!e&&"key-down"===t.type&&"Escape"===t.key&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}),!e&&Object(h["l"])(this.activeTool)&&this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(xt),this._forEachTool(t=>{if(t instanceof P["a"]){const e=Object(d["d"])(t,["cursor","visible","editable"],()=>{bt(t)||this._manipulatorState.clearPointers(t,this._forEachTool),this._updateCursor()});this.handles.add(e,xt)}t.manipulators&&this.handles.add(t.manipulators.on("change",e=>{e.removed.forEach(({id:e})=>{this._manipulatorState.clearPointers(t,this._forEachTool,!0,e)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),xt)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let t=this._manipulatorState.cursor;this._forEachTool(e=>!(!Object(h["l"])(e.cursor)||!e.visible)&&(t=e.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(e=>(Object(h["k"])(t)||e!==t)&&!e.completed).forEach(t=>{this.tools.remove(t),t.destroy()})}};Object(n["a"])([Object(f["b"])({constructOnly:!0,nonNullable:!0})],St.prototype,"view",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,nonNullable:!0})],St.prototype,"textures",void 0),Object(n["a"])([Object(f["b"])({value:null})],St.prototype,"activeTool",null),Object(n["a"])([Object(f["b"])({readOnly:!0,type:s["a"]})],St.prototype,"tools",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],St.prototype,"cursor",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],St.prototype,"updating",null),St=Object(n["a"])([Object(y["a"])("esri.views.ToolViewManager")],St);const Mt=St;let kt=class extends P["a"]{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===t.mapping?this._detectedDeviceType="standard":It.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return Tt[this.deviceType]}};Object(n["a"])([Object(f["b"])({nonNullable:!0,readOnly:!0})],kt.prototype,"nativeIndex",void 0),Object(n["a"])([Object(f["b"])({type:String,readOnly:!0})],kt.prototype,"deviceType",null),Object(n["a"])([Object(f["b"])({type:Number,readOnly:!0})],kt.prototype,"axisThreshold",null),kt=Object(n["a"])([Object(y["a"])("esri.views.input.gamepad.GamepadInputDevice")],kt);const It=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Tt={standard:.15,spacemouse:.025,unknown:0},Et=kt;let At=class extends P["a"]{constructor(...t){super(...t),this.devices=new s["a"],this.enabledFocusMode="document"}};Object(n["a"])([Object(f["b"])({type:s["a"].ofType(Et),readOnly:!0})],At.prototype,"devices",void 0),Object(n["a"])([Object(f["b"])({type:["document","view","none"]})],At.prototype,"enabledFocusMode",void 0),At=Object(n["a"])([Object(y["a"])("esri.views.input.gamepad.GamepadSettings")],At);const Ct=At;let Pt=class extends P["a"]{constructor(){super(...arguments),this.gamepad=new Ct}};Object(n["a"])([Object(f["b"])({readOnly:!0})],Pt.prototype,"gamepad",void 0),Pt=Object(n["a"])([Object(y["a"])("esri.views.input.Input")],Pt);const Rt=Pt;let Lt=class extends P["a"]{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};Object(n["a"])([Object(f["b"])({type:Boolean,nonNullable:!0})],Lt.prototype,"enabled",void 0),Object(n["a"])([Object(f["b"])({type:Et})],Lt.prototype,"device",void 0),Object(n["a"])([Object(f["b"])({type:["pan","zoom"],nonNullable:!0})],Lt.prototype,"mode",void 0),Object(n["a"])([Object(f["b"])({type:["forward-down","forward-up"],nonNullable:!0})],Lt.prototype,"tiltDirection",void 0),Object(n["a"])([Object(f["b"])({type:Number,nonNullable:!0})],Lt.prototype,"velocityFactor",void 0),Lt=Object(n["a"])([Object(y["a"])("esri.views.navigation.gamepad.GamepadSettings")],Lt);const Nt=Lt;let Ft=class extends P["a"]{constructor(t){super(t),this.browserTouchPanEnabled=!0,this.gamepad=new Nt,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};Object(n["a"])([Object(f["b"])({type:Boolean})],Ft.prototype,"browserTouchPanEnabled",void 0),Object(n["a"])([Object(f["b"])({type:Nt,nonNullable:!0})],Ft.prototype,"gamepad",void 0),Object(n["a"])([Object(f["b"])({type:Boolean})],Ft.prototype,"momentumEnabled",void 0),Object(n["a"])([Object(f["b"])({type:Boolean})],Ft.prototype,"mouseWheelZoomEnabled",void 0),Ft=Object(n["a"])([Object(y["a"])("esri.views.navigation.Navigation")],Ft);const Dt=Ft;var zt=i("8188"),Vt=i("d2f2");function $t(t){return 1===t?"global":"local"}const Gt=10,Ut=u["a"].getLogger("esri.views.support.DefaultsFromMap");Ut.level="info";let qt=class extends P["a"]{constructor(t){super(t),this._handles=new g["a"],this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.priorityCollection=null,this.logDebugInformation=!1,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._handles=Object(h["e"])(this._handles),this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=Object(h["a"])(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return Object(h["l"])(this.userSpatialReference)?this.userSpatialReference:Object(h["t"])(this._spatialReferenceTask.spatialReference)}get extent(){return Object(h["t"])(this._extentTask.extent)}get heightModelInfo(){return Object(h["t"])(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return Object(h["t"])(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return Object(h["t"])(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return Object(h["k"])(this.userSpatialReference)||this.userSpatialReference.equals(Object(h["t"])(this._spatialReferenceTask.spatialReference))?Object(h["t"])(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return Object(h["t"])(this._tileInfoTask.tileInfo)}get mapCollections(){var t,e,i,n;const r=null==(t=this.map)?void 0:t.call(this),s=[];return Object(h["l"])(this.priorityCollection)&&s.push(this.priorityCollection),s.push({parent:null==r?void 0:r.basemap,layers:null==r||null==(e=r.basemap)?void 0:e.baseLayers},{layers:null==r?void 0:r.layers},{parent:null==r?void 0:r.ground,layers:null==r||null==(i=r.ground)?void 0:i.layers},{parent:null==r?void 0:r.basemap,layers:null==r||null==(n=r.basemap)?void 0:n.referenceLayers}),s}get _allLayers(){var t,e;const i=this._collectLayers(this.mapCollections);return this._debug("Collected",null!=(t=null==(e=i.layers)?void 0:e.length)?t:0,"layers, updating",i.updating),i}get _spatialReferenceTask(){var t,e;if(this.suspended)return null!=(e=this._get("_spatialReferenceTask"))?e:{updating:!1};const{layers:i,updating:n}=this._allLayers,r={candidates:null};for(const o of i)if(this._processSpatialReferenceCandidates(o,r),r.candidates&&1===r.candidates.length)break;if(1!==(null==(t=r.candidates)?void 0:t.length)&&n)return{updating:!0};const s=this._pickSpatialReferenceCandidate(r.candidates);return this._debug("Finished spatial reference",Object(h["l"])(s)?`${s.spatialReference.wkid}:${Object(h["l"])(s.viewingMode)?$t(s.viewingMode):"global/local"}`:"none available"),{spatialReference:Object(h["l"])(s)?s.spatialReference:null,viewingMode:Object(h["l"])(s)?s.viewingMode:null,updating:!1}}get _tileInfoTask(){var t,e,i,n,r,s,o,a;if(!this.required.tileInfo)return null!=(a=this._get("_tileInfoTask"))?a:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:c,updating:l}=this._collectLayers([{parent:null==(t=this.map)||null==(e=t.call(this))?void 0:e.basemap,layers:null==(i=this.map)||null==(n=i.call(this))||null==(r=n.basemap)?void 0:r.baseLayers},{layers:null==(s=this.map)||null==(o=s.call(this))?void 0:o.layers}]);if(c&&c.length>0&&"tileInfo"in c[0]){const t=c[0].tileInfo;return{tileInfo:t&&t.spatialReference.equals(this.spatialReference)?t:null,updating:!1}}return{updating:l}}get _heightModelInfoTask(){var t,e;if(!this.required.heightModelInfo||this.suspended&&null!=(t=this._get("_heightModelInfoTask"))&&t.heightModelInfo)return null!=(e=this._get("_heightModelInfoTask"))?e:{updating:!1};const{layers:i,updating:n}=this._allLayers;for(const c of i){var r,s;if(this._debug("Considering",null!=(r=null!=(s=c.title)?s:c.id)?r:c.declaredClass,"for height model info"),Object(Vt["b"])(c)){const t=Object(Vt["a"])(c);var o,a;if(t)return this._debug("Derived height model info",t),{heightModelInfo:t,vcsWkid:null==(o=c.spatialReference)?void 0:o.vcsWkid,latestVcsWkid:null==(a=c.spatialReference)?void 0:a.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}return this._debug("No height model info found,","updating",n),{updating:n}}get _extentCandidatesTask(){var t;if(this.suspended||!this.required.extent)return null!=(t=this._get("_extentCandidatesTask"))?t:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=this._allLayers,i=e.updating,n=[];for(const r of e.layers){const t="fullExtents"in r&&r.fullExtents||(Object(h["l"])(r.fullExtent)?[r.fullExtent]:[]),e=t.find(t=>t.spatialReference.equals(this.spatialReference));if(e)return{candidates:[{extent:e,layer:r}],updating:!1};if(this._getSupportedSpatialReferences(r).length>0)for(const i of t)n.push({extent:i,layer:r})}return{candidates:n,updating:i}}get _extentTask(){const{candidates:t,updating:e}=this._extentCandidatesTask;if(e)return{updating:e};if(Object(h["k"])(t)||0===t.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{candidate:n,requiresGeometryService:r}=this._pickExtentCandidate(t),s=this.spatialReference;if(n.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:Object(h["l"])(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished};if(Object(h["l"])(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=Object(h["a"])(this._projectExtentTask.task)),!r){this._projectExtentTask={input:null,output:null,task:null,spatialReference:null};try{return{extent:Object(zt["i"])(n.extent,s),updating:!1}}catch{return{updating:!1}}}return this._debug("Starting project extent task for",n.extent),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:s.clone(),task:Object(M["g"])(async t=>{try{const e=await Object(M["y"])(i.e("chunk-2d225296").then(i.bind(null,"e2e8")),t),r=await e.projectGeometry(n.extent,s,n.layer.portalItem,t);this._debug("Project extent task finished",r),this._projectExtentTask={...this._projectExtentTask,task:null,output:r}}catch(e){if(Object(M["m"])(t))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0}}_processSpatialReferenceCandidates(t,e){var i;const n=this._getSupportedSpatialReferences(t);if(0!==n.length)if(this._debug("Spatial reference candidates from",null!=(i=t.title)?i:t.id,":",n.map(t=>`${t.spatialReference.wkid}:${Object(h["l"])(t.viewingMode)?$t(t.viewingMode):"global/local"}`).join(", ")),e.candidates){const t=[],i=(t,e)=>Object(h["k"])(t.viewingMode)?e.viewingMode:(Object(h["k"])(e.viewingMode)||t.viewingMode===e.viewingMode)&&t.viewingMode;for(const r of e.candidates)for(const e of n){if(!r.spatialReference.equals(e.spatialReference))continue;const n=i(r,e);if(!1!==n){t.push({spatialReference:r.spatialReference,viewingMode:n});break}}t.length>0&&(e.candidates=t)}else e.candidates=n}_pickSpatialReferenceCandidate(t){const e=this.defaultSpatialReference;return!t||t.length<1?Object(h["l"])(e)?{spatialReference:e,viewingMode:null}:null:Object(h["l"])(e)&&t.length>1&&t.some(({spatialReference:t})=>t.equals(e))?{spatialReference:e,viewingMode:null}:t[0]}_getSupportedSpatialReferences(t){const e="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(0===e.length)return[];const i=[];for(const n of e){const e=this.getSpatialReferenceSupport({spatialReference:n,layer:t});if(Object(h["l"])(e)){const t=Object(h["l"])(e.constraints)?e.constraints:[{spatialReference:n}];for(const{spatialReference:e,viewingMode:n}of t)(Object(h["k"])(this.userSpatialReference)||e.equals(this.userSpatialReference))&&i.push({spatialReference:e,viewingMode:n})}}return i}_pickExtentCandidate(t){const e=this.spatialReference,i=t.find(({extent:t})=>Object(zt["a"])(t.spatialReference,e)||Object(zt["f"])());return Object(h["l"])(i)?{candidate:i,requiresGeometryService:!1}:{candidate:t[0],requiresGeometryService:!0}}_collectLayers(t){var e;if("loaded"!==this._loadMaybe(null==(e=this.map)?void 0:e.call(this)))return{layers:[],updating:!0};const i={layers:[],preloading:-1,updating:!1};for(const n of t)if(this._collectCollection(n,i),i.preloading===Gt)break;return{layers:i.layers,updating:i.updating}}_collectCollection(t,e){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return e.updating=!0,void++e.preloading;case"failed":return}for(const r of t.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":e.updating=!0,++e.preloading;break;case"loaded":var i,n;e.updating||(this._debug("Considering layer",null!=(i=null!=(n=r.title)?n:r.id)?i:r.declaredClass),e.layers.push(r)),"layers"in r&&this._collectCollection({layers:r.layers},e)}if(e.preloading===Gt)break}}}_loadMaybe(t){return t&&"loadStatus"in t?"not-loaded"===t.loadStatus?(this._debug("Triggering load",null!=(e=null!=(i=t.title)?i:t.id)?e:t.declaredClass),t.load(),"loading"):t.loadStatus:"loaded";var e,i}_debug(...t){this.logDebugInformation&&Ut.info(...t)}};Object(n["a"])([Object(f["b"])()],qt.prototype,"required",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],qt.prototype,"map",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],qt.prototype,"getSpatialReferenceSupport",void 0),Object(n["a"])([Object(f["b"])()],qt.prototype,"defaultSpatialReference",void 0),Object(n["a"])([Object(f["b"])()],qt.prototype,"userSpatialReference",void 0),Object(n["a"])([Object(f["b"])()],qt.prototype,"priorityCollection",void 0),Object(n["a"])([Object(f["b"])()],qt.prototype,"logDebugInformation",void 0),Object(n["a"])([Object(f["b"])()],qt.prototype,"suspended",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"ready",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"heightModelInfoReady",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"spatialReference",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"extent",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"heightModelInfo",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"vcsWkid",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"latestVcsWkid",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"viewingMode",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"tileInfo",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"mapCollections",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"_allLayers",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"_spatialReferenceTask",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"_tileInfoTask",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"_heightModelInfoTask",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],qt.prototype,"_extentCandidatesTask",null),Object(n["a"])([Object(f["b"])()],qt.prototype,"_extentTask",null),Object(n["a"])([Object(f["b"])()],qt.prototype,"_projectExtentTask",void 0),qt=Object(n["a"])([Object(y["a"])("esri.views.support.DefaultsFromMap")],qt);const Bt=qt;var Ht;const Wt=u["a"].getLogger("esri.views.View");let Jt=Ht=class extends(Object(L["b"])(R["a"].EventedMixin(Object(D["b"])(P["a"])))){constructor(t){super(t),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new o["a"]({getCollections:()=>{var t,e,i;return[null==(t=this.basemapView)?void 0:t.baseLayerViews,null==(e=this.groundView)?void 0:e.layerViews,this.layerViews,null==(i=this.basemapView)?void 0:i.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new H["a"],this.analyses=new B,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new s["a"],this.magnifier=new it,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new Rt,this.navigation=new Dt,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new dt(this),this.persistableViewModels=new s["a"],this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",t=>{var e,i;t?(this._currentSpatialReference=this.spatialReference,Ht.views.add(this)):(this._currentSpatialReference=null,Ht.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?(null==(e=this.layerViewManager)||e.clear(),null==(i=this.toolViewManager)||i.detach(),Object(h["l"])(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):t&&!this.ready&&(Object(h["l"])(this.analysisViewManager)&&this.analysisViewManager.attach(),this._startup(),this.toolViewManager.attach())},!0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,Object(d["j"])(this,"ready")))),this.basemapView=new W({view:this}),this.layerViewManager=new tt({view:this,layerViewImporter:{importLayerView:t=>this.importLayerView(t),hasLayerViewModule:t=>this.hasLayerViewModule(t)},supportsGround:this.supportsGround}),this.toolViewManager=new Mt({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([Object(z["b"])(()=>this.initialExtentRequired,t=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:t},{sync:!0,initial:!0}),Object(z["b"])(()=>this.ready,t=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=t,this.defaultsFromMap.userSpatialReference=t?this.spatialReference:this._userSpatialReference)},{sync:!0}),Object(z["b"])(()=>this._userSpatialReference,t=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=t)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let t=null;this.handles.add([Object(z["b"])(()=>{var t;return null==(t=this.defaultsFromMap)?void 0:t.ready},e=>{var i;const n=(null==(i=this.map)?void 0:i.allLayers.length)>0;if(e&&!this.spatialReference&&n){if(Object(h["l"])(t))return;const e=Object(N["c"])(()=>t=Object(h["a"])(t));t=Object(M["g"])(async e=>{try{await Object(M["a"])(this.spatialReferenceWarningDelay,null,e)}catch{return}finally{t=null}Wt.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(e,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Object(h["e"])(this.graphics),this.analyses=Object(h["e"])(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=Object(h["e"])(this.toolViewManager),this.layerViewManager=Object(h["e"])(this.layerViewManager),this.basemapView=Object(h["e"])(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const t=this.map;this.map=null,null==t||t.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Wt.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Bt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:t=>this.getSpatialReferenceSupport(t),...this._defaultsFromMapSettings})}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var t;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||F["a"].isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this.typeSpecificPreconditionsReady||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||null!=(t=this.defaultsFromMap)&&t.ready))}set map(t){var e;t!==this._get("map")&&(null!=(e=t)&&e.destroyed&&(Wt.warn("#map","The provided map is already destroyed",{map:t}),t=null),F["a"].isLoadable(t)&&t.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",t))}get spatialReference(){var t,e;let i=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return i&&null!=(t=this.defaultsFromMap)&&null!=(e=t.required)&&e.heightModelInfo&&(i=i.clone(),i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),i}set spatialReference(t){this._userSpatialReference=t,this._set("spatialReference",t)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var t;return null==(t=this.defaultsFromMap)?void 0:t.extent}get cursor(){const t=this.toolViewManager?this.toolViewManager.cursor:null;return Object(h["l"])(t)?t:this._cursor||"default"}set cursor(t){this._cursor=t,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(t){return this.layerViewManager.whenLayerView(t)}getDefaultSpatialReference(){var t;return null==(t=this.defaultsFromMap)?void 0:t.spatialReference}getDefaultHeightModelInfo(){var t,e,i;return null!=(t=null!=(e=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?e:null==(i=this.defaultsFromMap)?void 0:i.heightModelInfo)?t:null}importLayerView(t){throw new a["a"]("importLayerView() not implemented")}hasLayerViewModule(t){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{}}_validateSpatialReference(t){return Object(h["l"])(this.getSpatialReferenceSupport({spatialReference:t}))}when(t,e){return this.isResolved()&&!this.ready&&Wt.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.'),super.when(t,e)}forceReadyCycle(){this.ready&&(Object(d["g"])(this,"preconditionsReady",()=>this._readyCycleForced=!1),this._readyCycleForced=!0)}addAndActivateTool(t){this.toolViewManager.tools.add(t),this.activeTool=t}tryFatalErrorRecovery(){this.fatalError=null}};Jt.views=new s["a"],Object(n["a"])([Object(f["b"])()],Jt.prototype,"_userSpatialReference",void 0),Object(n["a"])([Object(V["a"])("toolViewManager.activeTool")],Jt.prototype,"activeTool",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"allLayerViews",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"groundView",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"animation",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"basemapView",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"_defaultsFromMapSettings",null),Object(n["a"])([Object(f["b"])()],Jt.prototype,"defaultsFromMap",null),Object(n["a"])([Object(f["b"])()],Jt.prototype,"fatalError",void 0),Object(n["a"])([Object(f["b"])({type:G["a"]})],Jt.prototype,"extent",void 0),Object(n["a"])([Object(f["b"])(Object($["b"])(H["a"],"graphics"))],Jt.prototype,"graphics",void 0),Object(n["a"])([Object(f["b"])(Object($["b"])(B,"analyses"))],Jt.prototype,"analyses",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,type:U["a"]})],Jt.prototype,"heightModelInfo",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"interacting",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"navigating",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Jt.prototype,"preconditionsReady",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"typeSpecificPreconditionsReady",void 0),Object(n["a"])([Object(f["b"])({type:s["a"],readOnly:!0})],Jt.prototype,"layerViews",void 0),Object(n["a"])([Object(f["b"])({type:it})],Jt.prototype,"magnifier",void 0),Object(n["a"])([Object(f["b"])({value:null,type:A["a"]})],Jt.prototype,"map",null),Object(n["a"])([Object(f["b"])()],Jt.prototype,"padding",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"ready",void 0),Object(n["a"])([Object(f["b"])({type:q["a"]})],Jt.prototype,"spatialReference",null),Object(n["a"])([Object(f["b"])()],Jt.prototype,"spatialReferenceWarningDelay",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"stationary",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"supportsGround",void 0),Object(n["a"])([Object(f["b"])({type:C["a"]})],Jt.prototype,"timeExtent",void 0),Object(n["a"])([Object(V["a"])("toolViewManager.tools")],Jt.prototype,"tools",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"toolViewManager",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"type",void 0),Object(n["a"])([Object(f["b"])({type:Number})],Jt.prototype,"scale",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"updating",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"initialExtentRequired",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,type:G["a"]})],Jt.prototype,"initialExtent",null),Object(n["a"])([Object(f["b"])()],Jt.prototype,"cursor",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"input",void 0),Object(n["a"])([Object(f["b"])({type:Dt,nonNullable:!0})],Jt.prototype,"navigation",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"layerViewManager",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"analysisViewManager",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"width",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"height",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"resizing",void 0),Object(n["a"])([Object(f["b"])({value:null,readOnly:!0})],Jt.prototype,"size",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"suspended",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"viewEvents",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jt.prototype,"persistableViewModels",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"_isValid",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"_readyCycleForced",void 0),Object(n["a"])([Object(f["b"])()],Jt.prototype,"_currentSpatialReference",void 0),Jt=Ht=Object(n["a"])([Object(y["a"])("esri.views.View")],Jt);const Kt=Jt;let Yt=class extends D["a"]{constructor(t){super(t),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((t,e)=>this._dfd={resolve:t,reject:e}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new a["a"]("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}update(t,e){e||(e=Object(M["o"])(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",e)}};Object(n["a"])([Object(f["b"])({readOnly:!0})],Yt.prototype,"done",null),Object(n["a"])([Object(f["b"])({readOnly:!0,type:String})],Yt.prototype,"state",void 0),Object(n["a"])([Object(f["b"])()],Yt.prototype,"target",void 0),Yt=Object(n["a"])([Object(y["a"])("esri.views.ViewAnimation")],Yt),function(t){t.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Yt||(Yt={}));const Zt=Yt;var Xt=i("0554"),Qt=i("a98b"),te=i("4ae5");class ee{constructor(t,e,i,n){const r=t.targetGeometry,s=e.targetGeometry;n?"string"==typeof n&&(n=Object(Xt["b"])(n)||Xt["a"].ease):n=Xt["a"].ease,this.easing=n,this.duration=i,this.sCenterX=r.x,this.sCenterY=r.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=s.x,this.tCenterY=s.y,this.tScale=e.scale,this.tRotation=e.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,e){const i=this.easing(e);let n,r,s,o;e>=1?(n=this.tCenterX,r=this.tCenterY,s=this.tRotation,o=this.tScale):(n=this.sCenterX+i*this.dCenterX,r=this.sCenterY+i*this.dCenterY,s=this.sRotation+i*this.dRotation,o=this.sScale+i*this.dScale),t.targetGeometry.x=n,t.targetGeometry.y=r,t.scale=o,t.rotation=s}}let ie=class extends P["a"]{constructor(t){super(t),this.duration=200,this.transition=null,this.easing=Xt["a"].ease,this.view=null,this.viewpoint=null,this.viewpoint=new S["a"]({targetGeometry:new te["a"],scale:0,rotation:0}),this._updateTask=Object(K["a"])({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(t,e,i){this.stop();const n=this.viewpoint;Object(Qt["d"])(n,e),this.transition=new ee(this.viewpoint,t.target,i&&i.duration||this.duration,i&&i.easing||this.easing);const r=()=>{this.animation===t&&this._updateTask&&("finished"===t.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,e){this.stop(),this.updateFunction=e,this.viewpoint=t;const i=new Zt({target:t.clone()}),n=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){const e=this.animation;if(e&&e.state!==Zt.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else{const t=(performance.now()-this._startTime)/this.transition.duration,e=t>=1;this.transition.applyRatio(this.viewpoint,t),e&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};Object(n["a"])([Object(f["b"])()],ie.prototype,"animation",void 0),Object(n["a"])([Object(f["b"])()],ie.prototype,"duration",void 0),Object(n["a"])([Object(f["b"])()],ie.prototype,"transition",void 0),Object(n["a"])([Object(f["b"])()],ie.prototype,"easing",void 0),Object(n["a"])([Object(f["b"])()],ie.prototype,"view",void 0),Object(n["a"])([Object(f["b"])()],ie.prototype,"viewpoint",void 0),ie=Object(n["a"])([Object(y["a"])("esri.views.2d.AnimationManager")],ie);const ne=ie;class re{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.updateEnabled=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{if(this._updateRequested=!1,!this.updateEnabled)return;const{basemapView:t,graphicsView:e,labelManager:i,layerViews:n,state:{id:r}}=this.view;t.baseLayerViews.forEach(this._updateLayerView,this),n.forEach(this._updateLayerView,this),t.referenceLayerViews.forEach(this._updateLayerView,this),Object(h["l"])(i)&&(i.lastUpdateId!==r&&(i.viewChange(),i.lastUpdateId=r),i.updateRequested&&i.processUpdate(this._updateParameters)),Object(h["l"])(e)&&(e.lastUpdateId!==r&&(e.viewChange(),e.lastUpdateId=r),e.updateRequested&&e.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",t=>{this.stationary=t,this.requestFrame()}),this._frameTaskHandle=Object(K["a"])(this)}stop(){this._frameTaskHandle&&(this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){const e=this.view.state,i=t.lastUpdateId;null!=i&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),i!==e.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=e.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function se(){return Promise.all([Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-70c316c0")]).then(i.bind(null,"b69b")),Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-8cca0090")]).then(i.bind(null,"b460"))])}const oe=()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-b690de32")]).then(i.bind(null,"02b4"))),ae=()=>se().then(()=>Promise.all([i.e("chunk-43efbda2"),i.e("chunk-20049de8"),i.e("chunk-4f878514")]).then(i.bind(null,"189c6"))),ce={"base-dynamic":()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-ea5dff4c")]).then(i.bind(null,"b969"))),"base-tile":oe,"bing-maps":oe,csv:ae,"geo-rss":()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-1a3d71cf")]).then(i.bind(null,"53193"))),feature:ae,geojson:ae,graphics:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-14e912bc")]).then(i.bind(null,"c70f"))),group:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-698f74d5")]).then(i.bind(null,"d86a"))),imagery:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-5e4fd59d")]).then(i.bind(null,"7f5c"))),"imagery-tile":()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-1b15e1dd")]).then(i.bind(null,"aebc"))),kml:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-11774bae")]).then(i.bind(null,"a0ce"))),"map-image":()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-34524640")]).then(i.bind(null,"e818"))),"map-notes":()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-63f2285e")]).then(i.bind(null,"791a"))),"ogc-feature":()=>se().then(()=>Promise.all([i.e("chunk-43efbda2"),i.e("chunk-20049de8"),i.e("chunk-4f878514"),i.e("chunk-2d0dace6")]).then(i.bind(null,"6cbe"))),"open-street-map":oe,route:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-15328738")]).then(i.bind(null,"04b6"))),stream:()=>se().then(()=>Promise.all([i.e("chunk-43efbda2"),i.e("chunk-20049de8"),i.e("chunk-4f878514"),i.e("chunk-2d237116")]).then(i.bind(null,"fa16"))),"subtype-group":()=>se().then(()=>Promise.all([i.e("chunk-43efbda2"),i.e("chunk-20049de8"),i.e("chunk-4f878514"),i.e("chunk-2d0e62e7")]).then(i.bind(null,"983e"))),tile:oe,"vector-tile":()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-e5f9e0ae")]).then(i.bind(null,"46bf"))),wcs:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-1b15e1dd")]).then(i.bind(null,"aebc"))),"web-tile":oe,wfs:ae,wms:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-5994f67a")]).then(i.bind(null,"2535"))),wmts:()=>se().then(()=>Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-5a4b89dc")]).then(i.bind(null,"4072"))),analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function le(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new a["a"](i+":view-not-supported",e+" is not supported in 2D")}const ue={hasLayerViewModule:t=>Object(h["l"])(ce[t.type]),importLayerView:t=>{const e=ce[t.type];if(!Object(h["l"])(e))throw le(t);return e(t)}};var he,de=i("50e6"),pe=i("2172"),fe=i("3349"),be=i("32ed");function ye(t,e){const{spatialReference:i}=e,n=[e.x,e.y];let r=Number.POSITIVE_INFINITY,s=0,o=0;const a=[0,0],c="extent"===t.type?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:t.rings;for(const l of c)for(let t=0;t<l.length-1;t++){Object(be["h"])(a,n,l,t);const e=Object(fe["b"])(n,a);e<r&&(r=e,s=a[0],o=a[1])}return{coordinate:new te["a"]({x:s,y:o,spatialReference:i}),distance:r}}const me=u["a"].getLogger("esri.views.MapView");let ge=he=class extends P["a"]{constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){return Object(h["k"])(this.geometry)||!this.spatialReference?null:this.spatialReference.equals(this.geometry.spatialReference)?this.geometry:Object(I["a"])(this.geometry,this.spatialReference)?Object(I["d"])(this.geometry,this.spatialReference):Object(zt["f"])()?Object(zt["i"])(this.geometry,this.spatialReference):(me.error("#constraints.geometry","unsupported coordinate system. The source geometry cannot be projected to the view's coordinate system. The projection engine cannot be loaded.",{geometry:this.geometry}),null)}constrain(t,e){if(Object(h["k"])(this.normalizedGeometry))return t;const i=t.targetGeometry;if("extent"===this.normalizedGeometry.type?Object(pe["e"])(this.normalizedGeometry,i):Object(pe["g"])(this.normalizedGeometry,i))return t;const{coordinate:n}=ye(this.normalizedGeometry,i);return n?(t.targetGeometry=n,t):t}clone(){var t,e;return new he({geometry:null==(t=this.geometry)?void 0:t.clone(),spatialReference:null==(e=this.spatialReference)?void 0:e.clone()})}};var ve;Object(n["a"])([Object(f["b"])({constructOnly:!0})],ge.prototype,"geometry",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],ge.prototype,"normalizedGeometry",null),Object(n["a"])([Object(f["b"])({constructOnly:!0})],ge.prototype,"spatialReference",void 0),ge=he=Object(n["a"])([Object(y["a"])("esri.views.2d.constraints.GeometryConstraint")],ge);let we=ve=class extends P["a"]{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e?(this.rotationEnabled||(t.rotation=e.rotation),t):t}clone(){return new ve({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};Object(n["a"])([Object(f["b"])()],we.prototype,"enabled",void 0),Object(n["a"])([Object(f["b"])()],we.prototype,"rotationEnabled",void 0),we=ve=Object(n["a"])([Object(y["a"])("esri.views.2d.constraints.RotationConstraint")],we);const Oe=we;var je;let _e=je=class extends P["a"]{constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:n,minZoom:r,maxZoom:s}=this,o=-1,a=-1,c=!1,l=!1;if(0!==i&&0!==n&&i<n&&([i,n]=[n,i]),!e||!e.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",n);e=e.map(t=>t.clone()),e.sort((t,e)=>e.scale-t.scale),e.forEach((t,e)=>t.level=e);for(const u of e)!c&&i>0&&i>=u.scale&&(o=u.level,c=!0),!l&&n>0&&n>=u.scale&&(a=t?t.level:-1,l=!0),t=u;-1===r&&(r=0===i?0:o),-1===s&&(s=0===n?e.length-1:a),r=Math.max(r,0),r=Math.min(r,e.length-1),s=Math.max(s,0),s=Math.min(s,e.length-1),r>s&&([r,s]=[s,r]),i=e[r].scale,n=e[s].scale,e.splice(0,r),e.splice(s-r+1,e.length),e.forEach((t,e)=>{this._lodByScale[t.scale]=t,this._scales[e]=t.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",r),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",n)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,n=this.effectiveMaxScale,r=t.targetGeometry,s=e&&e.targetGeometry,o=0!==n&&t.scale<n,a=0!==i&&t.scale>i;if(o||a){const o=a?i:n;if(s){const i=(o-e.scale)/(t.scale-e.scale);r.x=s.x+(r.x-s.x)*i,r.y=s.y+(r.y-s.y)*i}t.scale=o}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.round(t-.5),n=Math.round(t);return e[n]+(n-t)*(e[i]-e[n])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,n;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let r=0;r<e.length-1;r++){if(i=e[r],n=e[r+1],n===t)return r+this.effectiveMinZoom+1;if(i>t&&n<t)return r+this.effectiveMinZoom+1-(t-n)/(i-n)}}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new je({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};Object(n["a"])([Object(f["b"])({readOnly:!0})],_e.prototype,"effectiveLODs",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_e.prototype,"effectiveMinZoom",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_e.prototype,"effectiveMaxZoom",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_e.prototype,"effectiveMinScale",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_e.prototype,"effectiveMaxScale",void 0),Object(n["a"])([Object(f["b"])()],_e.prototype,"lods",void 0),Object(n["a"])([Object(f["b"])()],_e.prototype,"minZoom",void 0),Object(n["a"])([Object(f["b"])()],_e.prototype,"maxZoom",void 0),Object(n["a"])([Object(f["b"])()],_e.prototype,"minScale",void 0),Object(n["a"])([Object(f["b"])()],_e.prototype,"maxScale",void 0),Object(n["a"])([Object(f["b"])()],_e.prototype,"snapToZoom",void 0),_e=je=Object(n["a"])([Object(y["a"])("esri.views.2d.constraints.ZoomConstraint")],_e);const xe=_e;var Se=i("1219");const Me={base:null,key:"type",typeMap:{extent:G["a"],polygon:Se["a"]}};let ke=class extends R["a"].EventedAccessor{constructor(){super(...arguments),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}initialize(){this.watch(["_zoom","_rotation"],this.emit.bind(this,"update"),!0)}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null)}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get _defaultLODs(){var t,e,i;const n=null==(t=this.view)||null==(e=t.defaultsFromMap)?void 0:e.tileInfo,r=null==(i=this.view)?void 0:i.spatialReference;return n&&r&&n.spatialReference.equals(r)?n.lods:null}get _geometry(){return new ge({geometry:this.geometry,spatialReference:this.view.spatialReference})}get _rotation(){return new Oe({rotationEnabled:this.rotationEnabled})}get _zoom(){const t=this._get("_zoom"),e=this.lods||this._defaultLODs,i=this.minZoom,n=this.maxZoom,r=this.minScale,s=this.maxScale,o=this.snapToZoom;return t&&t.lods===e&&t.minZoom===i&&t.maxZoom===n&&t.minScale===r&&t.maxScale===s&&t.snapToZoom===o?t:new xe({lods:e,minZoom:i,maxZoom:n,minScale:r,maxScale:s,snapToZoom:o})}canZoomInTo(t){const e=this.effectiveMaxScale;return 0===e||t>=e}canZoomOutTo(t){const e=this.effectiveMinScale;return 0===e||t<=e}constrain(t,e){return this._zoom.constrain(t,e),this._rotation.constrain(t,e),this._geometry.constrain(t,e),t}constrainByGeometry(t){return this._geometry.constrain(t)}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};Object(n["a"])([Object(f["b"])({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],ke.prototype,"effectiveLODs",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],ke.prototype,"effectiveMinScale",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],ke.prototype,"effectiveMaxScale",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],ke.prototype,"effectiveMinZoom",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],ke.prototype,"effectiveMaxZoom",void 0),Object(n["a"])([Object(f["b"])({types:Me,value:null})],ke.prototype,"geometry",null),Object(n["a"])([Object(f["b"])({type:[de["a"]]})],ke.prototype,"lods",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"minScale",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"maxScale",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"minZoom",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"maxZoom",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"rotationEnabled",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"snapToZoom",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"view",void 0),Object(n["a"])([Object(f["b"])()],ke.prototype,"_defaultLODs",null),Object(n["a"])([Object(f["b"])({type:ge})],ke.prototype,"_geometry",null),Object(n["a"])([Object(f["b"])({type:Oe})],ke.prototype,"_rotation",null),Object(n["a"])([Object(f["b"])({readOnly:!0,type:xe})],ke.prototype,"_zoom",null),ke=Object(n["a"])([Object(y["a"])("esri.views.2d.MapViewConstraints")],ke);const Ie=ke;var Te,Ee=i("02f1"),Ae=i("6a0e"),Ce=i("4212"),Pe=i("a29a"),Re=i("2c63"),Le=i("f7eb"),Ne=i("1c92"),Fe=i("8c71"),De=i("738e");function ze(t){return t instanceof Float32Array&&t.length>=2}function Ve(t){return Array.isArray(t)&&t.length>=2}function $e(t){return ze(t)||Ve(t)}const Ge=[0,0];let Ue=Te=class extends Ae["a"]{constructor(t){super(t),this._viewpoint2D={center:Object(Ee["a"])(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new G["a"],this.id=0,this.inverseTransform=Object(Le["b"])(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Object(Le["b"])(),this.transformNoRotation=Object(Le["b"])(),this.displayMat3=Object(Fe["b"])(),this.displayViewMat3=Object(Fe["b"])(),this.viewMat3=Object(Fe["b"])(),this.viewMat2d=Object(Re["a"])(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Object(Qt["d"])(i,t.viewpoint),this._set("size",Object(fe["c"])(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new Te({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return $e(e)?Object(fe["t"])(t,e,this.inverseTransform):(Ge[0]=e,Ge[1]=i,Object(fe["t"])(t,Ge,this.inverseTransform))}toScreen(t,e,i){return $e(e)?Object(fe["t"])(t,e,this.transform):(Ge[0]=e,Ge[1]=i,Object(fe["t"])(t,Ge,this.transform))}toScreenNoRotation(t,e,i){return $e(e)?Object(fe["t"])(t,e,this.transformNoRotation):(Ge[0]=e,Ge[1]=i,Object(fe["t"])(t,Ge,this.transformNoRotation))}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,r=this._get("size");return Object(Qt["i"])(t,i,r,e,0,n),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size"),o=new S["a"]({targetGeometry:new te["a"](t[0],t[1],e),scale:i,rotation:n});if(this._set("viewpoint",o),!s||!e||!i)return;this.resolution=Object(Qt["k"])(o),this.rotation=n,this.scale=i,this.spatialReference=e,Object(fe["c"])(this.center,t);const a=0!==s[0]?2/s[0]:0,c=0!==s[1]?-2/s[1]:0;Object(Ne["l"])(this.displayMat3,a,0,0,0,c,0,-1,1,1);const l=Object(Ne["b"])(this.viewMat3),u=Object(De["b"])(s[0]/2,s[1]/2),h=Object(De["b"])(-s[0]/2,-s[1]/2),d=Object(Ce["d"])(n);Object(Ne["c"])(l,l,u),Object(Ne["k"])(l,l,d),Object(Ne["c"])(l,l,h),Object(Ne["i"])(this.displayViewMat3,this.displayMat3,l);const p=Object(Pe["d"])(this.viewMat2d);return Object(Pe["h"])(p,p,u),Object(Pe["f"])(p,p,d),Object(Pe["h"])(p,p,h),Object(Qt["h"])(this.extent,o,s),Object(Qt["l"])(this.transform,o,s,r),Object(Pe["a"])(this.inverseTransform,this.transform),Object(Qt["m"])(this.transformNoRotation,o,s,r),this.worldScreenWidth=Object(Qt["n"])(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};Object(n["a"])([Object(f["b"])({readOnly:!0})],Ue.prototype,"id",void 0),Object(n["a"])([Object(f["b"])({value:1,json:{write:!0}})],Ue.prototype,"pixelRatio",null),Object(n["a"])([Object(f["b"])({json:{write:!0}})],Ue.prototype,"size",null),Object(n["a"])([Object(f["b"])({type:S["a"],json:{write:!0}})],Ue.prototype,"viewpoint",null),Ue=Te=Object(n["a"])([Object(y["a"])("esri.views.2d.ViewState")],Ue);const qe=Ue;let Be=class extends P["a"]{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}};Object(n["a"])([Object(f["b"])()],Be.prototype,"left",void 0),Object(n["a"])([Object(f["b"])()],Be.prototype,"top",void 0),Object(n["a"])([Object(f["b"])()],Be.prototype,"right",void 0),Object(n["a"])([Object(f["b"])()],Be.prototype,"bottom",void 0),Be=Object(n["a"])([Object(y["a"])("esri.views.2d.PaddedViewState.Padding")],Be);let He=class extends qe{constructor(...t){super(...t),this.paddedViewState=new qe,this._updateContent=(()=>{const t=Object(Ee["a"])();return()=>{const e=this._get("size"),i=this._get("padding");if(!e||!i)return;const n=this.paddedViewState;Object(fe["s"])(t,i.left+i.right,i.top+i.bottom),Object(fe["f"])(t,e,t),Object(fe["c"])(n.size,t);const r=n.viewpoint;r&&(this.viewpoint=r)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new Be,this.size=[0,0]}set padding(t){this._set("padding",t||new Be)}set viewpoint(t){if(t){const e=t.clone();this.paddedViewState.viewpoint=t,Object(Qt["a"])(e,t,this._get("size"),this._get("padding"));const i=this._viewpoint2D,n=e.targetGeometry;i.center[0]=n.x,i.center[1]=n.y,i.rotation=e.rotation,i.scale=e.scale,i.spatialReference=n.spatialReference,this._update()}}};Object(n["a"])([Object(f["b"])()],He.prototype,"paddedViewState",void 0),Object(n["a"])([Object(f["b"])({type:Be})],He.prototype,"padding",null),Object(n["a"])([Object(f["b"])()],He.prototype,"viewpoint",null),He=Object(n["a"])([Object(y["a"])("esri.views.2d.PaddedViewState")],He);const We=He;i("3e7b");var Je=i("018d"),Ke=(i("ae54"),i("07cd"),i("d302"),i("c39b")),Ye=i("4a7a");const Ze=u["a"].getLogger("esri.views.MapView");function Xe(t){return t&&"esri.Viewpoint"===t.declaredClass}const Qe=160;let ti=class extends(E(Kt)){constructor(t){super(t),this._stationaryTimer=null,this.frameTask=new re(this),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.initialExtent=null,this.map=null,this.labelManager=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.resizeAlign="center",this.supportsGround=!1,this.timeline=new Ye["a"],this.type="2d",this.constraints=new Ie,this.padding={top:0,right:0,bottom:0,left:0};const e=this.handles,i=()=>this.notifyChange("updating");e.add([this.watch("viewpoint",()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(Qe)},!0),this.on("resize",t=>this._resizeHandler(t)),this.watch("animationManager.animation",t=>{this.animation=t}),this.allLayerViews.on("change",()=>{i(),e.remove("map-view-base-layerViewsUpdating"),e.add(this.allLayerViews.map(t=>t.watch("updating",i)),"map-view-base-layerViewsUpdating")})],"map-view-base")}destroy(){this.destroyed||(this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null)}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1}}}set animation(t){const e=this._get("animation");if(t===e)return;if(e&&e.stop(),!t||t.isFulfilled())return void this._set("animation",null);this._set("animation",t),this.frameTask.animationInProgress=!0;const i=()=>{t===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};t.when(i,i)}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:e}=this.state.paddedViewState;return new te["a"]({x:t[0],y:t[1],spatialReference:e})}set center(t){if(null==t)return;if(!this._normalizeInput(t))return void Ze.error("#center",`incompatible spatialReference ${JSON.stringify(t.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!this.ready)return this._set("center",t),void this.notifyChange("initialExtentRequired");const e=this.viewpoint;Object(Qt["c"])(e,e,t),this.viewpoint=e}set constraints(t){const e=this._get("constraints");e&&(this.handles.remove("map-view-base-constraints"),e.destroy()),this._set("constraints",t),t&&(t.view=this,this.ready&&(this.state.viewpoint=t.fit(this.state.paddedViewState.viewpoint)),this.handles.add(t.on("update",()=>{this.ready&&this.state&&(this.state.viewpoint=t.fit(this.state.paddedViewState.viewpoint))}),"map-view-base-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(t){if(null==t)return;const e=this._normalizeInput(t);if(!e)return void Ze.error("#center",`incompatible spatialReference ${JSON.stringify(t.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`);if(!e.width||!e.height)return void Ze.error("#extent","invalid extent size");if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");const i=this.viewpoint;Object(Qt["v"])(i,i,e,this.size,{constraints:this.constraints}),this.viewpoint=i}get graphicsTileStore(){return new Ke["a"](this.featuresTilingScheme)}get initialExtentRequired(){const t=this._normalizeInput(this.center),e=this._normalizeInput(this.viewpoint),i=this._normalizeInput(this.extent),{scale:n,constraints:r}=this;let s=this.zoom;return!this.get("map.initialViewProperties.viewpoint")&&!i&&(r.effectiveLODs||(s=-1),(!t||0===n&&-1===s)&&(!e||!Object(h["l"])(e.targetGeometry)||"extent"!==e.targetGeometry.type&&!e.scale))}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const e=this.viewpoint;Object(Qt["s"])(e,e,t),this.viewpoint=e}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",-1);const e=this._get("extent");return e&&(this._set("extent",null),this._set("center",e.center)),void this.notifyChange("initialExtentRequired")}const e=this.viewpoint;Object(Qt["u"])(e,e,t),this.viewpoint=e}get stationary(){return!(this.animation||this.navigating||this._get("resizing")||this._stationaryTimer)}get updating(){return!this.destroyed&&(!0===this.get("layerViewManager.updating")||!0===this.get("labelManager.updating")||!0===this.get("graphicsView.updating")||this.allLayerViews.some(t=>!t.destroyed&&!("layerViews"in t)&&!0===t.updating))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const t=this.state.paddedViewState;return t&&t.viewpoint.clone()}set viewpoint(t){if(null==t)return;const e=this._normalizeInput(t);if(!e)return void(!t.scale||isNaN(t.scale)?Ze.error("#viewpoint","invalid scale value of "+t.scale):Object(h["k"])(t.targetGeometry)?Ze.error("#viewpoint","geometry not defined"):Ze.error("#viewpoint",`incompatible spatialReference ${JSON.stringify(t.targetGeometry.spatialReference)} with view's spatialReference ${JSON.stringify(this.spatialReference)}`));if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");const i=new S["a"]({targetGeometry:new te["a"],scale:0,rotation:0});Object(Qt["d"])(i,e),this.constraints.constrain(i,this.state.paddedViewState.viewpoint),this.state.viewpoint=i,this.frameTask.requestFrame(),this._set("viewpoint",i)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(t){if(null==t)return;if(!this.ready){this.notifyChange("initialExtentRequired"),this._set("zoom",t),this._set("scale",0);const e=this._get("extent");e&&(this._set("extent",null),this._set("center",e.center))}if(!this.constraints.effectiveLODs)return;const e=this.viewpoint;Object(Qt["u"])(e,e,this.constraints.zoomToScale(t)),this.viewpoint=e,this._set("zoom",this.constraints.scaleToZoom(this.scale))}goTo(t,e){if(t)return this.animation&&(this.animation=null),this._createAnimation(),Object(d["l"])(this,"ready",e&&e.signal).then(()=>{const i={animate:!0,...e},n=Object(Qt["e"])(t,this);return this.animation.update(n),this._gotoTask={},i.animate?this._gotoAnimated(n,i):this._gotoImmediate(n,i)});Ze.error("#goTo()","target cannot be null or undefined")}hitTest(t){return Promise.reject("Should be implemented by subclasses")}popupHitTest(t){return this.hitTest(t).then(e=>({...e,mapPoint:this.toMap(t)}))}toMap(t){if(!this.ready)return null;const e=[0,0],[i,n]=this.state.toMap(e,[t.x,t.y]),r=this.spatialReference;return new te["a"]({x:i,y:n,spatialReference:r})}toScreen(t){if(!this.ready)return null;const e=this._normalizeInput(t),i=[e.x,e.y];return this.state.toScreen(i,i),Object(k["e"])(i[0],i[1])}pixelSizeAt(){return this.ready?this.state.resolution:(Ze.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}getDefaultSpatialReference(){var t,e,i;return this.map&&"initialViewProperties"in this.map&&(null==(t=this.map)||null==(e=t.initialViewProperties)?void 0:e.spatialReference)||(null==(i=this.defaultsFromMap)?void 0:i.spatialReference)||null}getSpatialReferenceSupport({layer:t}){return t||this._get("ready")||null!==this._getDefaultViewpoint()?{}:null}importLayerView(t){return ue.importLayerView(t)}hasLayerViewModule(t){return ue.hasLayerViewModule(t)}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new Zt),this.animation}_cancellableGoTo(t,e,i){const n=()=>t===this._gotoTask,r=i.then(()=>{n()&&(this.animation=null)}).catch(t=>{throw n()&&(this.animation=null,e.done||(e.stop(),this.frameTask.animationInProgress=!1)),t}),s=new Promise(t=>t(r));return e.when().catch(()=>{n()&&s.cancel&&s.cancel()}),s}_gotoImmediate(t,e){const i=this._gotoTask,n=this.animation,r=t.then(t=>{if(Object(M["u"])(e),i!==this._gotoTask)throw new a["a"]("view:goto-interrupted","Goto was interrupted");this.viewpoint=n.target=t,n.finish()});return this._cancellableGoTo(i,n,r)}_gotoAnimated(t,e){const i=this._gotoTask,n=this.animation,r=t.then(t=>{if(Object(M["u"])(e),i!==this._gotoTask)throw new a["a"]("view:goto-interrupted","Goto was interrupted");return n.update(t),this.animationManager.animate(n,this.viewpoint,e),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,n,r)}_resizeHandler(t){const e=this.state;if(!e)return;let i=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.concat();e.size=[t.width,t.height],Object(Qt["q"])(i,i,n,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i}_startup(){const t=this._getDefaultViewpoint();this.constraints.view=this,this.constraints.fit(t),this._set("animationManager",new ne({view:this})),this._set("state",new We({padding:this._get("padding"),size:this.size,viewpoint:t})),this._set("featuresTilingScheme",new Je["a"](T["a"].create({spatialReference:this.spatialReference,size:512,numLODs:36}))),this._set("ready",!0),this.frameTask&&this.frameTask.start()}_teardown(){this.frameTask&&this.frameTask.stop(),this._set("ready",!1),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null);const{center:[t,e],spatialReference:i,rotation:n,scale:r}=this.state.paddedViewState,s=new te["a"]({x:t,y:e,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",n),this._set("scale",r),this._set("spatialReference",i),this.constraints.view=null,this.animationManager.destroy(),this._set("animationManager",null),this._set("state",null),this.animation=null}_flipStationary(t){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<Qe&&(this._stationaryTimer=this._flipStationary(t))},t)),this._stationaryTimer}_normalizeInput(t,e=this.spatialReference){const i=t&&t.targetGeometry||t;return e?i?e.equals(i.spatialReference)?t:Object(I["a"])(i,e)?Xe(t)?(t.targetGeometry=Object(I["d"])(i,e),t):Object(I["d"])(i,e):null:null:t}_getDefaultViewpoint(){const t=this.constraints,e={zoom:this._get("zoom"),scale:this._get("scale"),center:this._normalizeInput(this._get("center")),extent:this._normalizeInput(this._get("extent")),rotation:this._get("rotation"),viewpoint:this._normalizeInput(this._get("viewpoint")),spatialReference:this._userSpatialReference};t.effectiveLODs?-1!==e.zoom&&(e.scale=t.zoomToScale(e.zoom)):e.zoom=-1;let i=null,n=null,r=0;const s=e.viewpoint&&e.viewpoint.rotation,o=e.viewpoint&&e.viewpoint.targetGeometry;Object(h["l"])(o)&&("extent"===o.type?i=o:"point"===o.type&&(n=o,r=e.viewpoint.scale));const a=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent")),c=this._normalizeInput(this.initialExtent),l=e.extent||i||a||c,u=e.center||n||l&&l.center,d=this.get("map.initialViewProperties.viewpoint.scale"),p=e.scale||r||d||l&&Object(Qt["f"])(l,this.size),f=this.get("map.initialViewProperties.viewpoint.rotation"),b=e.rotation||s||f||0;return u&&p?new S["a"]({targetGeometry:u,scale:p,rotation:b}):null}};Object(n["a"])([Object(f["b"])()],ti.prototype,"_stationaryTimer",void 0),Object(n["a"])([Object(f["b"])()],ti.prototype,"_defaultsFromMapSettings",null),Object(n["a"])([Object(f["b"])()],ti.prototype,"animation",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],ti.prototype,"animationManager",void 0),Object(n["a"])([Object(f["b"])({value:null,type:te["a"],dependsOn:["state.id","ready"]})],ti.prototype,"center",null),Object(n["a"])([Object(f["b"])({type:Ie})],ti.prototype,"constraints",null),Object(n["a"])([Object(f["b"])({value:null,type:G["a"],dependsOn:["state.id","ready"]})],ti.prototype,"extent",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],ti.prototype,"featuresTilingScheme",void 0),Object(n["a"])([Object(f["b"])()],ti.prototype,"fullOpacity",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],ti.prototype,"graphicsTileStore",null),Object(n["a"])([Object(f["b"])()],ti.prototype,"graphicsView",void 0),Object(n["a"])([Object(f["b"])({type:G["a"]})],ti.prototype,"initialExtent",void 0),Object(n["a"])([Object(f["b"])({dependsOn:["map.initialViewProperties?.viewpoint","constraints.effectiveLODs","spatialReference"]})],ti.prototype,"initialExtentRequired",null),Object(n["a"])([Object(f["b"])()],ti.prototype,"map",void 0),Object(n["a"])([Object(f["b"])()],ti.prototype,"labelManager",void 0),Object(n["a"])([Object(f["b"])({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],ti.prototype,"padding",null),Object(n["a"])([Object(f["b"])({type:Object})],ti.prototype,"renderingOptions",void 0),Object(n["a"])([Object(f["b"])()],ti.prototype,"resizeAlign",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,dependsOn:["state.id"]})],ti.prototype,"resolution",null),Object(n["a"])([Object(f["b"])({value:0,type:Number,dependsOn:["state.id","ready"]})],ti.prototype,"rotation",null),Object(n["a"])([Object(f["b"])({value:0,type:Number,dependsOn:["state.id","ready"]})],ti.prototype,"scale",null),Object(n["a"])([Object(f["b"])({type:q["a"],dependsOn:["map.initialViewProperties?.spatialReference","defaultsFromMap.ready"]})],ti.prototype,"spatialReference",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],ti.prototype,"state",void 0),Object(n["a"])([Object(f["b"])({dependsOn:["animation","navigating","resizing","_stationaryTimer"]})],ti.prototype,"stationary",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],ti.prototype,"supportsGround",void 0),Object(n["a"])([Object(f["b"])({type:Ye["a"],readOnly:!0})],ti.prototype,"timeline",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],ti.prototype,"type",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,dependsOn:["layerViewManager.updating","labelManager.updating","graphicsView?.updating"]})],ti.prototype,"updating",null),Object(n["a"])([Object(f["b"])({value:null,type:S["a"],dependsOn:["state.id","ready"]})],ti.prototype,"viewpoint",null),Object(n["a"])([Object(f["b"])({value:-1,dependsOn:["state.id"]})],ti.prototype,"zoom",null),ti=Object(n["a"])([Object(y["a"])("esri.views.MapViewBase")],ti);const ei=ti;function ii(t,e){switch(e){case"primary":return"touch"===t.pointerType||0===t.button;case"secondary":return"touch"!==t.pointerType&&2===t.button;case"tertiary":return"touch"!==t.pointerType&&1===t.button}}class ni extends at["a"]{constructor(t,e){super(!0),this.view=t,this.registerIncoming("double-click",e,t=>this._handleDoubleClick(t,e))}_handleDoubleClick(t,e){ii(t.data,"primary")&&(t.stopPropagation(),e?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class ri extends at["a"]{constructor(t,e,i){super(!0),this.view=t,this.pointerType=e,this.registerIncoming("double-tap-drag",i,t=>this._handleDoubleTapDrag(t))}_handleDoubleTapDrag(t){const{data:e}=t,{pointerType:i}=e;if(i!==this.pointerType)return;t.stopPropagation();const{action:n,delta:r}=e,{view:s}=this,{mapViewNavigation:o}=s;switch(n){case"begin":{const{scale:t}=s;this._startScale=t,this._currentScale=t,this._previousDelta=r,o.begin();break}case"update":{if(this._previousDelta.y===r.y)return;this._previousDelta=r;const t=1.015**r.y,e=this._startScale*t,i=e/this._currentScale;o.setViewpointImmediate(i),this._currentScale=e;break}case"end":{const{constraints:t}=s,{effectiveLODs:e,snapToZoom:i}=t;if(!i||!e)return void o.end();const n=t.snapScale(this._currentScale),a=(r.y>0?Math.max(n,t.snapToPreviousScale(this._startScale)):Math.min(n,t.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(a);break}}}}class si{constructor(t){this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(t){const e=t.data,i=e.pointers.size;switch(e.action){case"start":this.currentCount=i,this.emitStart(t);break;case"added":this.emitEnd(this.previousEvent),this.currentCount=i,this.emitStart(t);break;case"update":this.emitUpdate(t);break;case"removed":this.startEvent&&this.emitEnd(this.previousEvent),this.currentCount=i,this.emitStart(t);break;case"end":this.emitEnd(t),this.currentCount=0}this.previousEvent=t}emitStart(t){this.startEvent=t,this.callbacks.condition(this.currentCount,t)&&this.callbacks.start(this.currentCount,t,this.startEvent)}emitUpdate(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.update(this.currentCount,t,this.startEvent)}emitEnd(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.end(this.currentCount,t,this.startEvent),this.startEvent=null}}class oi extends at["a"]{constructor(t,e,i){super(!0),this.view=t,this.pointerAction=e,this.registerIncoming("drag",i,t=>this._handleDrag(t)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation());const n=this.view.mapViewNavigation;this.dragEventSeparator=new si({start:(t,e)=>{n.pan.begin(this.view,e.data),e.stopPropagation()},update:(t,e)=>{n.pan.update(this.view,e.data),e.stopPropagation()},end:(t,e)=>{n.pan.end(this.view,e.data),e.stopPropagation()},condition:(t,e)=>1===t&&ii(e.data,this.pointerAction)})}_handleDrag(t){const e=this.view.mapViewNavigation;e.pinch.zoomMomentum||e.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class ai extends at["a"]{constructor(t,e,i){super(!0),this.view=t,this.pointerAction=e;const n=this.view.mapViewNavigation;this.dragEventSeparator=new si({start:(t,e)=>{n.rotate.begin(this.view,e.data),e.stopPropagation()},update:(t,e)=>{n.rotate.update(this.view,e.data),e.stopPropagation()},end:(t,e)=>{n.rotate.end(),e.stopPropagation()},condition:(t,e)=>1===t&&ii(e.data,this.pointerAction)}),this.registerIncoming("drag",i,t=>this.dragEventSeparator.handle(t))}}var ci=i("e431");function li(t){let e=t*t;return t<0&&(e*=-1),e}function ui(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function hi(t,e,i){const n=i,r=t.state,s=t.device,o="forward-down"===e.tiltDirection?1:-1,a=1;return"standard"===s.deviceType?(n.translation[0]=li(r.axes[0]),n.translation[1]=li(r.axes[1]),n.translation[2]=li(r.buttons[7])-li(r.buttons[6]),n.heading=li(r.axes[2]),n.tilt=li(r.axes[3])):"spacemouse"===s.deviceType&&(n.translation[0]=1.2*li(r.axes[0]),n.translation[1]=1.2*li(r.axes[1]),n.translation[2]=2*-li(r.axes[2]),n.heading=1.2*li(r.axes[5]),n.tilt=1.2*li(r.axes[3])),n.tilt*=o,Object(ci["e"])(n.translation,n.translation,a),n}function di(t){return 0===t.translation[0]&&0===t.translation[1]&&0===t.translation[2]&&0===t.heading&&0===t.tilt&&0===t.zoom}class pi extends at["a"]{constructor(t){super(!0),this.view=t,this.frameTask=null,this.watchHandles=new g["a"],this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",t=>this.handleEvent(t)),this.handle.pause()}onInstall(t){super.onInstall(t),this.watchHandles.add([Object(d["a"])(this.view.navigation.gamepad,"enabled",t=>{t?(this.handle.resume(),this.frameTask||(this.frameTask=Object(K["a"])({update:t=>this.frameUpdate(t.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}handleEvent(t){const e=this.view.navigation.gamepad.device;e&&t.data.device!==e||this.currentDevice&&this.currentDevice!==t.data.device||("end"===t.data.action?(this.currentDevice=null,ui(this.transformation)):(this.currentDevice=t.data.device,hi(t.data,this.view.navigation.gamepad,this.transformation)))}frameUpdate(t){const e=this.transformation;if(di(e))return;const i=this.view.viewpoint.clone(),n=this.view.navigation.gamepad.velocityFactor,r=bi*n*t;Object(Qt["w"])(i,i,[e.translation[0]*r,-e.translation[1]*r]);const s=1+e.translation[2]*yi*t,o=this.view.constraints.rotationEnabled?-e.heading*fi*t:0,a=this.view.size,c=[a[0]/2,a[1]];Object(Qt["t"])(i,i,s,o,c,a);const l=this.view.constraints.constrain(i,this.view.viewpoint);this.view.viewpoint=l}}const fi=.06,bi=.7,yi=6e-4;class mi extends at["a"]{constructor(t,e,i){super(!0),this.view=t,this.keys=e,this._pressed=!1,this._keyMap={[e.left]:"left",[e.right]:"right",[e.up]:"up",[e.down]:"down"},this.registerIncoming("key-down",i,t=>this._handleKeyDown(t)),this.registerIncoming("key-up",i,t=>this._handleKeyUp(t)),this.registerIncoming("blur",i,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,e){const i=this._keyMap[t.data.key];if(this._pressed=null!=i,this._pressed){if(e)switch(this.view.mapViewNavigation.begin(),i){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class gi extends at["a"]{constructor(t,e,i){super(!0),this.view=t,this.keys=e,this._pressed=!1,this._keyToDirection={[e.clockwiseOption1]:"clockwise",[e.clockwiseOption2]:"clockwise",[e.counterClockwiseOption1]:"counterClockwise",[e.counterClockwiseOption2]:"counterClockwise",[e.resetOption1]:"reset",[e.resetOption2]:"reset"},this.registerIncoming("key-down",i,t=>this._handleKeyDown(t)),this.registerIncoming("key-up",i,t=>this._handleKeyUp(t)),this.registerIncoming("blur",i,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,e){const i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection[t.data.key];if(this._pressed=null!=n,this._pressed){if(e)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class vi extends at["a"]{constructor(t,e,i){super(!0),this.view=t,this.keys=e,this._keysToZoomAction={},this.registerIncoming("key-down",i,t=>this._handleKeyDown(t)),e.zoomIn.forEach(t=>this._keysToZoomAction[t]=0),e.zoomOut.forEach(t=>this._keysToZoomAction[t]=1)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const e=t.modifiers;if(e.size>0&&!e.has("Shift"))return;const{key:i}=t.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:r}=this.view;let s=null;switch(n){case 0:s=r.zoomIn();break;case 1:s=r.zoomOut();break;default:return}r.begin(),s.then(()=>r.end()),t.stopPropagation()}}const wi=.6;class Oi extends at["a"]{constructor(t,e){super(!0),this.view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",e,t=>this._handleMouseWheel(t))}_handleMouseWheel(t){if(!this.view.navigation.mouseWheelZoomEnabled)return;if(t.preventDefault(),t.stopPropagation(),!this._canZoom)return;const e=this.view.mapViewNavigation,{x:i,y:n,deltaY:r}=t.data,s=1/wi**(1/60*r),o=e.zoom(s,[i,n]);o&&(this._canZoom=!1,o.catch(()=>{}).then(()=>{this._canZoom=!0,e.end()}))}}class ji extends at["a"]{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",t=>this._handleDrag(t)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation());const e=this.view.mapViewNavigation;this.dragEventSeparator=new si({start:(t,i)=>{e.pinch.begin(this.view,i.data),i.stopPropagation()},update:(t,i)=>{e.pinch.update(this.view,i.data),i.stopPropagation()},end:(t,i)=>{e.pinch.end(this.view),i.stopPropagation()},condition:t=>t>=2})}_handleDrag(t){this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var _i=i("767d");function xi(t){const e=t.native;return e?{buttons:e.buttons.map(t=>t.pressed?t.value?t.value:1:0),axes:e.axes.map(e=>ki(e,t.axisThreshold))}:{buttons:[],axes:[]}}function Si(t,e){if(t.axes.length!==e.axes.length)return!1;if(t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function Mi(t){for(let e=0;e<t.axes.length;e++)if(0!==t.axes[e])return!1;for(let e=0;e<t.buttons.length;e++)if(0!==t.buttons[e])return!1;return!0}function ki(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}class Ii{constructor(t,e){this.element=t,this.input=e,this._hasEventListeners=!1,this.onConnectGamepad=t=>{this.connectGamepad(t.gamepad)},this.onDisconnectGamepad=t=>{const e=t.gamepad,i=e.index,n=this.inputDevices[i];n&&(this.emitGamepadEvent(e,xi(n),!1),this.inputDevices.splice(i,1),this.latestUpdate.splice(i,1),this.input.gamepad.devices.remove(n),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const i="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=i&&n,this.supported&&(this.forEachGamepad(t=>this.connectGamepad(t)),window.addEventListener("gamepadconnected",this.onConnectGamepad),window.addEventListener("gamepaddisconnected",this.onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this.onConnectGamepad),window.removeEventListener("gamepaddisconnected",this.onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this.callback=t}connectGamepad(t){const e=new Et(t);"unknown"!==e.deviceType&&(this.inputDevices[t.index]=e,this.input.gamepad.devices.add(e)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this.startPolling():this.stopPolling()}startPolling(){null==this.frameTask&&(this.frameTask=Object(K["a"])({update:()=>this.readGamepadState()}))}stopPolling(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}readGamepadState(){const t=document.hasFocus(),e=this.element.contains(document.activeElement),i="document"===this.input.gamepad.enabledFocusMode&&!t||"view"===this.input.gamepad.enabledFocusMode&&!e;this.forEachGamepad(t=>{const e=this.inputDevices[t.index];if(!e)return;const n=this.latestUpdate[t.index],r=xi(e),s=i||Mi(r);if(n){if(n.timestamp===t.timestamp)return;if(!n.active&&s)return;if(Si(n.state,r))return}this.emitGamepadEvent(t,r,!s)})}forEachGamepad(t){const e=window.navigator.getGamepads();for(let i=0;i<e.length;i++){const n=e[i];this.validate(n)&&t(n)}}emitGamepadEvent(t,e,i){const n=this.latestUpdate[t.index],r=n&&n.active;if(!r&&!i)return;const s=!r&&i?"start":r&&i?"update":"end";this.latestUpdate[t.index]={timestamp:t.timestamp,state:e,active:i},this.callback&&this.callback({device:this.inputDevices[t.index],state:e,action:s})}validate(t){if(!t)return!1;if(!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}}const Ti=Object(c["a"])("trident"),Ei=Object(c["a"])("edge"),Ai=Object(c["a"])("chrome"),Ci=Object(c["a"])("ff"),Pi=Object(c["a"])("safari"),Ri={touchNone:"esri-view-surface--touch-none",touchPan:"esri-view-surface--touch-pan"};class Li{constructor(t,e){this.input=e,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Ii(t,this.input),this._gamepadSource.onEvent=t=>this._callback("gamepad",t)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const e in this._active)if(!t||!t.has(e)){const t=this._active[e];this._element.removeEventListener(Ni[e],t),delete this._active[e]}t&&t.forEach(t=>{if(!this._active[t]&&Ni[t]){const e=(this._eventHandlers[t]||this._handleDefault).bind(this,t);this._element.addEventListener(Ni[t],e),this._active[t]=e}}),this._gamepadSource.hasEventListeners=t&&t.has("gamepad")}setPointerCapture(t,e){e?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Ri.touchNone:Ri.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Ri.touchPan:Ri.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Ri.touchNone),this._element.classList.remove(Ri.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch(e){}}_updateNormalizedPointerLikeEvent(t,e){const i=Object(yt["b"])(this._element,t);return Li.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),e.x=i.x,e.y=i.y,e}_handleKey(t,e){const i=Object(_i["a"])(e);i&&"key-up"===t&&this._keyDownState.delete(i);const n={native:e,key:i,repeat:i&&this._keyDownState.has(i)};i&&"key-down"===t&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,e){const i=this._updateNormalizedPointerLikeEvent(e,{native:e,x:0,y:0,pointerType:e.pointerType,button:e.button,buttons:e.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,e){const i=this._updateNormalizedPointerLikeEvent(e,{native:e,x:0,y:0,pointerType:e.pointerType,button:e.button,buttons:e.buttons,eventId:this._eventId++});e.preventDefault(),this._callback(t,i)}_handleMouseWheel(t,e){let i=e.deltaY;switch(e.deltaMode){case 0:(Ti||Ei)&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}Ti||Ei?i*=.7:Ai||Pi?i*=.6:Ci&&(i*=1.375);const n=100,r=Math.abs(i);if(r>n){const t=.02;i=i/r*200/(1+Math.exp(-t*(r-n)))}const s=this._updateNormalizedPointerLikeEvent(e,{native:e,x:0,y:0,deltaY:i});this._callback(t,s)}_handlePointerCaptureLost(t,e){this._activePointerCaptures.delete(e.pointerId),this._handleDefault(t,e)}_handleDefault(t,e){const i={native:e};e.preventDefault(),this._callback(t,i)}_preventAltKeyDefault(t){"Alt"===t.key&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}Li.test={disableSubpixelCoordinates:!1};const Ni={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class Fi extends at["a"]{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}var Di=i("1729");function zi(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function Vi(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function $i(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:Object(k["e"])()},0===t.length)return e;if(1===t.length)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(2===t.length){const[i,n]=t,[r,s]=[n.x-i.x,n.y-i.y];return e.radius=Math.sqrt(r*r+s*s)/2,e.center.x=(i.x+n.x)/2,e.center.y=(i.y+n.y)/2,e}let i=0,n=0;for(let v=0;v<t.length;v++)i+=t[v].x,n+=t[v].y;i/=t.length,n/=t.length;const r=t.map(t=>t.x-i),s=t.map(t=>t.y-n);let o=0,a=0,c=0,l=0,u=0,h=0,d=0;for(let v=0;v<r.length;v++){const t=r[v],e=s[v],i=t*t,n=e*e;o+=i,a+=n,c+=t*e,l+=i*t,u+=n*e,h+=t*n,d+=e*i}const p=.5*(l+h),f=.5*(u+d),b=o*a-c*c,y=(p*a-f*c)/b,m=(o*f-c*p)/b,g=Object(k["e"])(y+i,m+n);return{radius:Math.sqrt(y*y+m*m+(o+a)/t.length),center:g}}const Gi={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class Ui extends at["a"]{constructor(t=Gi.maximumDoubleClickDelay,e=Gi.maximumDoubleClickDistance,i=Gi.maximumDoubleTouchDelay,n=Gi.maximumDoubleTouchDistance,r=Di["a"]){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=e,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=r,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(t=>{null!=t.doubleClickTimeout&&(t.doubleClickTimeout.remove(),t.doubleClickTimeout=null)})}get hasPendingInputs(){return Object(J["c"])(this._pointerState,t=>null!=t.doubleClickTimeout)}_pointerId(t){const e=t.native;return"mouse"===e.pointerType?`${e.pointerId}:${e.button}`:""+e.pointerType}_handleImmediateClick(t){const e=t.data,i=this._pointerId(e),n=this._pointerState.get(i);if(n){const r="touch"===e.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;zi(n.event.data,e)>r?(this._clearDoubleClickTimeout(i,!0),this._startClick(t)):(this._clearDoubleClickTimeout(i,!1),this._doubleClick.emit(n.event.data,void 0,n.event.modifiers))}else this._startClick(t)}_startClick(t){const e=this._pointerId(t.data),i="touch"===t.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(e,{event:t,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(e),i)}),this.refreshHasPendingInputs()}_handlePointerDrag(t){const e=this._pointerId(t.data.currentEvent);this._clearDoubleClickTimeout(e,!0)}_handleDrag(t){const e=this._pointerId(t.data.pointer);this._clearDoubleClickTimeout(e,!0)}_clearDoubleClickTimeout(t,e){const i=this._pointerState.get(t);i&&(i.doubleClickTimeout.remove(),i.doubleClickTimeout=null,e&&this._doubleClickTimeoutExceeded(t),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const e=this._pointerState.get(t);this._click.emit(e.event.data,void 0,e.event.modifiers),e.doubleClickTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}}class qi extends at["a"]{constructor(t=Gi.maximumDoubleClickDelay,e=Gi.maximumDoubleClickDistance,i=Gi.maximumDoubleTouchDelay,n=Gi.maximumDoubleTouchDistance,r=Di["a"]){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=e,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=r,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Object(k["e"])(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new si({start:(t,e)=>this._dragStart(t,e),update:(t,e)=>this._dragUpdate(e),end:(t,e)=>this._dragEnd(e)}),this.registerIncoming("drag",t=>this._dragEventSeparator.handle(t)),this.registerIncoming("pointer-down",t=>this._handlePointerDown(t)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{null!=t.doubleTapTimeout&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null)})}get hasPendingInputs(){return Object(J["c"])(this._pointerState,t=>null!=t.doubleTapTimeout)}_clearPointerDown(t){const e=this._pointerState.get(t);e&&(e.doubleTapTimeout.remove(),e.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,e,i){const{button:n,buttons:r,pointer:s,pointers:o,pointerType:a,timestamp:c}=i;return{action:t,delta:e,button:n,buttons:r,pointer:s,pointers:o,pointerType:a,timestamp:c}}_dragStart(t,e){if(!this._doubleTapDragReady||1!==t)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:n}=e,{center:r}=i;this._dragStartCenter=r;const s=this._createDoubleTapDragData("begin",Object(k["e"])(0,0),i);this._doubleTapDrag.emit(s,void 0,n),e.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:i}=t,{center:n}=e,r=Object(k["e"])(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("update",r,e);this._doubleTapDrag.emit(s,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:i}=t,{center:n}=e,r=Object(k["e"])(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("end",r,e);this._doubleTapDrag.emit(s,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:e}=t,i=this._pointerId(e),n=this._pointerState.get(i),{pointerType:r}=e.native;if(n){const s="touch"===r?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(i),zi(n.event.data,e)>s?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(t){const{native:e}=t,{pointerId:i,button:n,pointerType:r}=e;return"mouse"===r?`${i}:${n}`:""+r}_storePointerDown(t){const{data:e}=t,{pointerType:i}=e.native,n=this._pointerId(e),r="touch"===i?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,s=this._clock.setTimeout(()=>this._clearPointerDown(n),r);this._pointerState.set(n,{event:t,doubleTapTimeout:s}),this.refreshHasPendingInputs()}}var Bi,Hi=i("b0ea");class Wi extends at["a"]{constructor(t){super(!1),this.navigationTouch=t,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this.handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this.handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this.handlePointerUpAndPointerLost.bind(this))}createPayload(t,e,i,n){return{action:t,pointerType:this.pointerType,button:this.mouseButton,buttons:e.buttons,timestamp:n,pointers:Yi(this.activePointerMap),pointer:e,angle:i.angle,radius:i.radius,center:i.center}}addPointer(t){const e=t.native.pointerId,i=Ki(this.activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this.activePointerMap.set(e,n);const r=Zi(n,Ji(this.activePointerMap));n.initialAngle=r,n.lastAngle=r,this.updatePointerAngles(i)}updatePointer(t){if(t&&null==t.x&&null==t.y)return;const e=t.native.pointerId,i=this.activePointerMap.get(e);i?i.event=t:this.addPointer(t)}removePointer(t){const e=Ki(this.activePointerMap).angle;this.activePointerMap.delete(t),this.updatePointerAngles(e)}updatePointerAngles(t){const e=Ki(this.activePointerMap);this.activePointerMap.forEach(i=>{i.initialAngle=Zi(i,e)-t,i.lastAngle=Zi(i,e)-t})}emitEvent(t,e,i){const n=Ki(this.activePointerMap);this.drag.emit(this.createPayload(t,e,n,i),void 0,this.startStateModifiers)}handlePointerUpAndPointerLost(t){const e=t.data.native.pointerId,i=Object(Hi["a"])(t.timestamp);this.activePointerMap.get(e)&&(1===this.activePointerMap.size?(this.updatePointer(t.data),!this.isCurrentDragSuppressed&&this.emitEvent("end",t.data,i),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.removePointer(e)):(this.removePointer(e),this.emitEvent("removed",t.data,Object(Hi["a"])(t.timestamp))))}handlePointerDrag(t){const e=t.data,i=e.currentEvent,n=Object(Hi["a"])(t.timestamp);switch(e.action){case"start":case"update":this.isDragging?this.activePointerMap.has(i.native.pointerId)?(this.updatePointer(i),!this.isCurrentDragSuppressed&&this.emitEvent("update",i,n)):(this.addPointer(i),this.emitEvent("added",i,n),this.isCurrentDragSuppressed=this.isSuppressed):(this.updatePointer(i),this.pointerType=t.data.startEvent.pointerType,this.mouseButton=t.data.startEvent.button,this.startStateModifiers=t.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this.emitEvent("start",i,n))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}function Ji(t){const e=[];return t.forEach(t=>{e.push(Object(k["e"])(t.event.x,t.event.y))}),$i(e)}function Ki(t){const e=Ji(t);let i=0;return t.forEach(t=>{let n=Zi(t,e),r=n-t.lastAngle;for(;r>Math.PI;)r-=2*Math.PI;for(;r<-Math.PI;)r+=2*Math.PI;n=t.lastAngle+r,t.lastAngle=n;const s=n-t.initialAngle;i+=s}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function Yi(t){const e=new Map;return t.forEach((t,i)=>e.set(i,t.event)),e}function Zi(t,e){const i=t.event,n=i.x-e.center.x,r=i.y-e.center.y;return Math.atan2(r,n)}!function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined"}(Bi||(Bi={}));class Xi extends at["a"]{constructor(t=Gi.maximumDoubleClickDelay,e=Gi.maximumDoubleClickDistance,i=Gi.maximumDoubleTouchDelay,n=Gi.maximumDoubleTouchDistance,r=Di["a"]){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=e,this.maximumDoubleTouchDelay=i,this.maximumDoubleTouchDistance=n,this._clock=r,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",t=>{this._handlePointerLoss(t,"pointer-up")}),this.registerIncoming("pointer-capture-lost",t=>{this._handlePointerLoss(t,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",t=>{this._handlePointerLoss(t,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const e=t.data,i=this._pointerId(e);if(!this._pointerState.has(i)){const t={downButton:e.native.button,immediateDoubleClick:null};this._pointerState.set(i,t),this.startCapturingPointer(e.native)}}_handlePointerLoss(t,e){const i=t.data,n=this._pointerId(i),r=this._pointerState.get(n);if(r&&"pointer-up"===e&&r.downButton===i.native.button){const e=r.immediateDoubleClick;if(e){e.timeoutHandle.remove();const n="touch"===t.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;zi(e,t.data)>n?this._startImmediateDoubleClick(t,r):(this._immediateDoubleClick.emit(t.data,void 0,e.modifiers),this._removeState(i))}else this._startImmediateDoubleClick(t,r)}}_startImmediateDoubleClick(t,e){const i="touch"===t.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;e.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_pointerId(t){const e=t.native;return"mouse"===e.pointerType?`${e.pointerId}:${e.button}`:""+e.pointerType}_removeState(t){const e=this._pointerId(t);this._pointerState.delete(e),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const Qi={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class tn extends at["a"]{constructor(t=Qi.maximumClickDelay,e=Qi.movementUntilMouseDrag,i=Qi.movementUntilPenDrag,n=Qi.movementUntilTouchDrag,r=Qi.holdDelay,s=Di["a"]){super(!1),this.maximumClickDelay=t,this.movementUntilMouseDrag=e,this.movementUntilPenDrag=i,this.movementUntilTouchDrag=n,this.holdDelay=r,this._clock=s,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",t=>{this._handlePointerLoss(t,"pointer-up")}),this.registerIncoming("pointer-capture-lost",t=>{this._handlePointerLoss(t,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",t=>{this._handlePointerLoss(t,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{null!=t.holdTimeout&&(t.holdTimeout.remove(),t.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(t){const e=t.data,i=e.native.pointerId;let n=null;0===this._pointerState.size&&(n=this._clock.setTimeout(()=>{const e=this._pointerState.get(i);if(e){if(!e.isDragging){const i=e.previousEvent;this._pointerHold.emit(i,void 0,t.modifiers),e.holdEmitted=!0}e.holdTimeout=null}},this.holdDelay));const r={startEvent:e,previousEvent:e,startTimestamp:t.timestamp,isDragging:!1,downButton:e.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,r),this.startCapturingPointer(e.native),this._moveHandle.resume(),this._pointerState.size>1&&this.startDragging(t)}_createPointerDragData(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}_handlePointerMove(t){const e=t.data,i=e.native.pointerId,n=this._pointerState.get(i);n&&(n.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",n,e),void 0,n.modifiers):Vi(e,n.startEvent)>this._getDragThreshold(e.native.pointerType)&&this.startDragging(t),n.previousEvent=e)}_getDragThreshold(t){switch(t){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}startDragging(t){const e=t.data,i=e.native.pointerId;this._pointerState.forEach(n=>{null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",n,e)):this._pointerDrag.emit(this._createPointerDragData("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,e){const i=t.data,n=i.native.pointerId,r=this._pointerState.get(n);r&&(null!=r.holdTimeout&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",r,"pointer-up"===e?i:r.previousEvent),void 0,r.modifiers):"pointer-up"===e&&r.downButton===i.native.button&&t.timestamp-r.startTimestamp<=this.maximumClickDelay&&!r.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(n),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause())}}const en={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let nn=class extends P["a"]{constructor(){super(...arguments),this._handles=new g["a"]}initialize(){this._handles.add([Object(d["h"])(this.view,"ready",()=>this._disconnect()),Object(d["e"])(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const t=this.view.surface,e=new Li(t,this.view.input),i=[new Xi,new tn,new Ui,new Wi(this.view.navigation),new qi],n=new st["a"]({eventSource:e,recognizers:i});n.installHandlers("prevent-context-menu",[new Fi],st["b"].INTERNAL),n.installHandlers("navigation",[new ji(this.view),new pi(this.view),new Oi(this.view),new ni(this.view),new ni(this.view,[en.counter]),new oi(this.view,"primary"),new mi(this.view,en.pan),new vi(this.view,en.zoom),new gi(this.view,en.rotate),new ai(this.view,"secondary"),new ri(this.view,"touch")],st["b"].INTERNAL),this.view.viewEvents.connect(n),this._source=e,this._inputManager=n,Object(d["a"])(this.view.navigation,"browserTouchPanEnabled",t=>{this._source.browserTouchPanningEnabled=!t})}get test(){return{inputManager:this._inputManager}}};Object(n["a"])([Object(f["b"])()],nn.prototype,"view",void 0),nn=Object(n["a"])([Object(y["a"])("esri.views.2d.input.MapViewInputManager")],nn);const rn=nn;var sn=i("9ef0");let on=0,an=class extends P["a"]{constructor(){super(...arguments),this.color=new sn["a"]([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return on++}};Object(n["a"])([Object(f["b"])({readOnly:!0})],an.prototype,"version",null),Object(n["a"])([Object(f["b"])({type:sn["a"]})],an.prototype,"color",void 0),Object(n["a"])([Object(f["b"])({type:sn["a"]})],an.prototype,"haloColor",void 0),Object(n["a"])([Object(f["b"])()],an.prototype,"haloOpacity",void 0),Object(n["a"])([Object(f["b"])()],an.prototype,"fillOpacity",void 0),an=Object(n["a"])([Object(y["a"])("esri.views.2d.support.HighlightOptions")],an);const cn=an;function ln(t,e,i,n,r,s,o,a){let c;t.ignorePadding&&(n={left:0,right:0,top:0,bottom:0}),null!=t.width&&null!=t.height?c=[t.width,t.height]:null==t.width&&null!=t.height?c=[t.height,t.height]:null!=t.width&&null==t.height?c=[t.width,t.width]:null==t.width&&null==t.height&&(c=null);const l=i[0]-(n.left+n.right),u=i[1]-(n.top+n.bottom);let h,d,p=t.area||{x:0,y:0,width:l,height:u};if(c){const t=l/u,e=c[0]/c[1];if(e>t){const t=p.width/e;p={x:p.x,y:Math.round(p.y+(p.height-t)/2),width:p.width,height:Math.round(t)}}else{const t=p.height*e;p={x:Math.round(p.x+(p.width-t)/2),y:p.y,width:Math.round(t),height:p.height}}}else c=[p.width,p.height];return c[0]>p.width?(h=Math.min(c[0]/p.width,e),d=c[0]/p.width/h):(h=1,d=c[0]/p.width),{resolutionScale:h,cropArea:{x:Math.round((p.x+n.left)*h),y:Math.round((p.y+n.top)*h),width:Math.round(p.width*h),height:Math.round(p.height*h)},outputScale:d,format:r,quality:s,children:o,rotation:a}}var un=i("4dc1"),hn=i("b2af");const dn={checkMajorWebPerformanceCaveat:!0};function pn(t){t={...dn,...t};const e=Object(hn["a"])();return e.available?t.checkMajorWebPerformanceCaveat&&e.majorPerformanceCaveat?new a["a"]("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?e.supportsElementIndexUint?e.supportsStandardDerivatives?e.supportsInstancedArrays?null:new a["a"]("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported."):new a["a"]("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported."):new a["a"]("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported."):new a["a"]("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new a["a"]("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new a["a"]("webgl:required","WebGL is required but not supported.")}var fn=i("cf9c"),bn=i("1a3e");function yn(t){return t&&"nodeType"in t}function mn(t){return t&&"function"==typeof t.render}const gn={component:"esri-component"};let vn=class extends P["a"]{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(t){const e=this._get("node");t!==e&&(t&&t.classList.add(gn.component),e&&e.classList.remove(gn.component),this._set("node",t))}castNode(t){return t?"string"==typeof t||yn(t)?(this._set("widget",null),Object(fn["a"])(t)):(mn(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};Object(n["a"])([Object(f["b"])({dependsOn:[]})],vn.prototype,"id",null),Object(n["a"])([Object(f["b"])()],vn.prototype,"node",null),Object(n["a"])([Object(bn["a"])("node")],vn.prototype,"castNode",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],vn.prototype,"widget",void 0),vn=Object(n["a"])([Object(y["a"])("esri.views.ui.Component")],vn);const wn=vn;var On=i("702a");const jn={left:0,top:0,bottom:0,right:0},_n={bottom:30,top:15,right:15,left:15},xn="manual",Sn={ui:"esri-ui",corner:"esri-ui-corner",innerContainer:"esri-ui-inner-container",manualContainer:"esri-ui-manual-container",cornerContainer:"esri-ui-corner-container",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"};function Mn(t){return t&&!t._started&&"function"==typeof t.postMixInProperties&&"function"==typeof t.buildRendering&&"function"==typeof t.postCreate&&"function"==typeof t.startup}function kn(t){const e=t,i="object"==typeof e&&null!==e&&Object.getPrototypeOf(e);return null!==i&&i!==Object.prototype||!("component"in e||"index"in e||"position"in e)?null:t}function In(t,{top:e,bottom:i,left:n,right:r}){t.style.top=e,t.style.bottom=i,t.style.left=n,t.style.right=r}let Tn=class extends R["a"].EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new g["a"],this.view=null,this._initContainers()}initialize(){this._handles.add([Object(d["a"])(this,"view.padding, container",this._applyViewPadding.bind(this)),Object(d["a"])(this,"padding",this._applyUIPadding.bind(this))])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(t){const e=this._get("container");t!==e&&(t&&(t.classList.add(Sn.ui),t.classList.add(Object(On["d"])()),this._attachContainers(t)),e&&(e.classList.remove(Sn.ui),In(e,{top:"",bottom:"",left:"",right:""}),Object(fn["b"])(e)),this._set("container",t))}get height(){const t=this.get("view.height")||0;if(0===t)return t;const e=this._getViewPadding(),i=e.top+e.bottom;return Math.max(t-i,0)}get padding(){return this._get("padding")}set padding(t){t?this._override("padding",t):this._clearOverride("padding")}castPadding(t){return"number"==typeof t?{bottom:t,top:t,right:t,left:t}:{..._n,...t}}get width(){const t=this.get("view.width")||0;if(0===t)return t;const e=this._getViewPadding(),i=e.left+e.right;return Math.max(t-i,0)}add(t,e){let i,n;if(Array.isArray(t))return void t.forEach(t=>this.add(t,e));const r=kn(t);r&&({index:i,position:e,component:t,key:n}=r),e&&"object"==typeof e&&({index:i,key:n,position:e}=e),!t||e&&!this._isValidPosition(e)||this._add(t,e,i,n)}remove(t,e){if(!t)return;if(Array.isArray(t))return t.map(t=>this.remove(t,e));const i=this._find(t);if(i){const n=this._componentToKey;if(n.has(t)&&n.get(t)!==e)return;const r=this._components.indexOf(i);return i.node.parentNode&&i.node.parentNode.removeChild(i.node),this._componentToKey.delete(t),this._components.splice(r,1)[0]}}empty(t){return Array.isArray(t)?t.map(t=>this.empty(t)).reduce((t,e)=>t.concat(e)):(t=t||xn)===xn?Array.prototype.slice.call(this._manualContainer.children).filter(t=>!t.classList.contains(Sn.corner)).map(t=>this.remove(t)):this._isValidPosition(t)?Array.prototype.slice.call(this._cornerNameToContainerLookup[t].children).map(this.remove,this):null}move(t,e){if(Array.isArray(t)&&t.forEach(t=>this.move(t,e)),!t)return;let i;const n=kn(t)||kn(e);if(n&&(i=n.index,e=n.position,t=n.component||t),e&&!this._isValidPosition(e))return;const r=this.remove(t);r&&this.add(r,{position:e,index:i})}find(t){if(!t)return null;const e=this._findById(t);return e&&(e.widget||e.node)}getPosition(t){for(const e in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[e].contains(t))return e;return null}_add(t,e,i,n){t instanceof wn||(t=new wn({node:t})),this._place({component:t,position:e,index:i}),this._components.push(t),n&&this._componentToKey.set(t,n)}_find(t){return t?t instanceof wn?this._findByComponent(t):"string"==typeof t?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.get("view.padding")||jn}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(Sn.innerContainer),t.classList.add(Sn.cornerContainer);const e=document.createElement("div");e.classList.add(Sn.innerContainer),e.classList.add(Sn.manualContainer);const i=document.createElement("div");i.classList.add(Sn.topLeft),i.classList.add(Sn.corner),t.appendChild(i);const n=document.createElement("div");n.classList.add(Sn.topRight),n.classList.add(Sn.corner),t.appendChild(n);const r=document.createElement("div");r.classList.add(Sn.bottomLeft),r.classList.add(Sn.corner),t.appendChild(r);const s=document.createElement("div");s.classList.add(Sn.bottomRight),s.classList.add(Sn.corner),t.appendChild(s),this._innerContainer=t,this._manualContainer=e;const o=Object(On["h"])();this._cornerNameToContainerLookup={"top-left":i,"top-right":n,"bottom-left":r,"bottom-right":s,"top-leading":o?n:i,"top-trailing":o?i:n,"bottom-leading":o?s:r,"bottom-trailing":o?r:s},this._positionNameToContainerLookup={manual:e,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){const e=t.component,i=t.position||xn,n=t.index,r=this._positionNameToContainerLookup[i],s=n>-1;if(Mn(e.widget)&&e.widget.startup(),!s)return void r.appendChild(e.node);const o=Array.prototype.slice.call(r.children);0!==n?n>=o.length?r.appendChild(e.node):Object(fn["c"])(e.node,o[n]):r.firstChild?Object(fn["c"])(e.node,r.firstChild):r.appendChild(e.node)}_applyViewPadding(){const t=this.container;t&&In(t,this._toPxPosition(this._getViewPadding()))}_applyUIPadding(){const t=this._innerContainer;t&&In(t,this._toPxPosition(this.padding))}_toPxPosition(t){return{top:this._toPxUnit(t.top),left:this._toPxUnit(t.left),right:this._toPxUnit(t.right),bottom:this._toPxUnit(t.bottom)}}_toPxUnit(t){return 0===t?"0":t+"px"}_findByComponent(t){let e,i=null;return this._components.some(n=>(e=n===t,e&&(i=n),e)),i}_findById(t){let e,i=null;return this._components.some(n=>(e=n.id===t,e&&(i=n),e)),i}_findByNode(t){let e,i=null;return this._components.some(n=>(e=n.node===t,e&&(i=n),e)),i}};Object(n["a"])([Object(f["b"])()],Tn.prototype,"container",null),Object(n["a"])([Object(f["b"])()],Tn.prototype,"height",null),Object(n["a"])([Object(f["b"])({value:_n})],Tn.prototype,"padding",null),Object(n["a"])([Object(bn["a"])("padding")],Tn.prototype,"castPadding",null),Object(n["a"])([Object(f["b"])()],Tn.prototype,"view",void 0),Object(n["a"])([Object(f["b"])()],Tn.prototype,"width",null),Tn=Object(n["a"])([Object(y["a"])("esri.views.ui.UI")],Tn);const En=Tn;var An=i("121a"),Cn=i("792b");function Pn(t,e){return t&&"copyright"in t&&(!e||"function"==typeof t.originOf&&"user"===t.originOf("copyright"))}function Rn(t,e){return t.length!==e.length||t.some((t,i)=>t.text!==e[i].text)}function Ln(t,e,i){i&&e&&(t.find(t=>t.layerView===e&&t.text===i)||t.push({text:i,layerView:e}))}function Nn(t){return"bing-maps"===t.type}const Fn=[];let Dn=class extends L["a"]{constructor(t){super(t),this.clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new s["a"],this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const e=this.get("view.allLayerViews");e&&this.handles.add(e.map(t=>t.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),t&&t.removed&&t.removed.forEach(t=>{this._pendingAttributions.delete(t),this._fetchedAttributionData.delete(t)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const t=this.get("view.allLayerViews");Fn.length=0,t?(t.forEach(t=>{if(t.suspended||!t.get("layer.attributionVisible"))return;const e=t.layer;if(Pn(e,"user"))return void Ln(Fn,t,e.copyright);if(e.hasAttributionData){if(this._fetchedAttributionData.has(t)){const i=this._fetchedAttributionData.get(t);return void(i?Ln(Fn,t,this._getDynamicAttribution(i,this.view,e)):Pn(e)&&Ln(Fn,t,e.copyright))}return void this._fetchAttributionData(t)}const i=e.get("portalItem.accessInformation");Ln(Fn,t,i||e.copyright)}),Rn(this.items,Fn)&&(this.items.removeAll(),this.items.addMany(Fn)),Fn.length=0,this.notifyChange("state")):this.clear()},this.handles.add([Object(d["b"])(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this.clear),Object(d["k"])(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const e=await Object(Cn["c"])(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=e.ok?this._createContributionIndex(e.value,Nn(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,e){const i=t.contributors,n={};if(!i)return n;for(let r=0;r<i.length;r++){const t=i[r],s=t.coverageAreas;if(!s)return;for(const i of s){const s=i.bbox,o=i.zoomMin-(e&&i.zoomMin?1:0),a=i.zoomMax-(e&&i.zoomMax?1:0),c={xmin:s[1],ymin:s[0],xmax:s[3],ymax:s[2],spatialReference:q["a"].WGS84},l={extent:Object(I["b"])(c),attribution:t.attribution||"",score:null!=i.score?i.score:100,id:r};for(let t=o;t<=a;t++)n[t]=n[t]||[],n[t].push(l)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,e,i){const{extent:n,scale:r}=e;let s=i.tileInfo.scaleToZoom(r);if(s=Math.min(t.maxKey,Math.round(s)),!n||null==s||s<=-1)return"";const o=t[s],a=Object(I["d"])(n.center.clone().normalize(),e.spatialReference),c={};return o?o.filter(t=>{const e=!c[t.id]&&a&&Object(pe["e"])(t.extent,a);return e&&(c[t.id]=!0),e}).sort((t,e)=>e.score-t.score||t.objectId-e.objectId).map(t=>t.attribution).join(", "):""}};Object(n["a"])([Object(f["b"])({readOnly:!0,type:s["a"]})],Dn.prototype,"items",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Dn.prototype,"state",null),Object(n["a"])([Object(f["b"])()],Dn.prototype,"view",void 0),Dn=Object(n["a"])([Object(y["a"])("esri.widgets.Attribution.AttributionViewModel")],Dn);const zn=Dn;var Vn=i("8750"),$n=i("755e"),Gn=i("d822");const Un={base:"esri-attribution esri-widget",poweredBy:"esri-attribution__powered-by",sources:"esri-attribution__sources",open:"esri-attribution--open",sourcesOpen:"esri-attribution__sources--open",link:"esri-attribution__link",widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let qn=class extends An["a"]{constructor(t,e){super(t,e),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass=Un.widgetIcon,this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new zn}initialize(){this.own(Object(d["b"])(this,"viewModel.items","change",()=>this.scheduleRender()))}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,e)=>(-1===t.indexOf(e.text)&&t.push(e.text),t),[]).join(this.itemDelimiter)}render(){const t={[Un.open]:this._isOpen};return Object(Gn["a"])("div",{bind:this,class:this.classes(Un.base,t),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return Object(Gn["a"])("div",{class:Un.poweredBy},"Powered by"," ",Object(Gn["a"])("a",{class:Un.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const t=this._isOpen,e=this._isInteractive,i=e?0:-1,{attributionText:n}=this,r=e?"button":void 0,s={[Un.sourcesOpen]:t,[Un.interactive]:e};return Object(Gn["a"])("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes(Un.sources,s),innerHTML:n,role:r,tabIndex:i})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth}_afterSourcesNodeUpdate(t){let e=!1;const{clientHeight:i,clientWidth:n,scrollWidth:r}=t,s=r>=n,o=this._attributionTextOverflowed!==s;if(this._attributionTextOverflowed=s,o&&(e=!0),this._isOpen){const t=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,t&&(this._isOpen=!1,e=!0)}e&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};Object(n["a"])([Object(f["b"])()],qn.prototype,"_isOpen",void 0),Object(n["a"])([Object(f["b"])()],qn.prototype,"_isInteractive",null),Object(n["a"])([Object(f["b"])()],qn.prototype,"_attributionTextOverflowed",void 0),Object(n["a"])([Object(f["b"])()],qn.prototype,"_prevSourceNodeHeight",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],qn.prototype,"attributionText",null),Object(n["a"])([Object(f["b"])()],qn.prototype,"iconClass",void 0),Object(n["a"])([Object(f["b"])()],qn.prototype,"itemDelimiter",void 0),Object(n["a"])([Object(f["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],qn.prototype,"label",void 0),Object(n["a"])([Object(f["b"])(),Object($n["a"])("esri/widgets/Attribution/t9n/Attribution")],qn.prototype,"messages",void 0),Object(n["a"])([Object(V["a"])("viewModel.view")],qn.prototype,"view",void 0),Object(n["a"])([Object(f["b"])({type:zn})],qn.prototype,"viewModel",void 0),Object(n["a"])([Object(Vn["a"])()],qn.prototype,"_toggleState",null),qn=Object(n["a"])([Object(y["a"])("esri.widgets.Attribution")],qn);const Bn=qn;var Hn=i("28c0");const Wn="esri.widgets.CompassViewModel";let Jn=class extends(Object(Hn["a"])(P["a"])){constructor(t){super(t),this._handles=new g["a"],this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(Object(d["a"])(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const t=this.get("view.spatialReference");return!(!t||!t.isWebMercator&&!t.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const t={};"2d"===this.view.type?t.rotation=0:t.heading=0,this.callGoTo({target:t})}_updateForRotation(t){null!=t&&(this.orientation={z:t})}_updateForCamera(t){if(!t)return;const e=-t.heading;this.orientation={x:0,y:0,z:e}}_updateRotationWatcher(t){this._handles.removeAll(),t&&("2d"===t.type?this._handles.add(Object(d["a"])(this,"view.rotation",this._updateForRotation)):this._handles.add(Object(d["a"])(this,"view.camera",this._updateForCamera)))}};Object(n["a"])([Object(f["b"])({readOnly:!0})],Jn.prototype,"canShowNorth",null),Object(n["a"])([Object(f["b"])()],Jn.prototype,"orientation",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],Jn.prototype,"state",null),Object(n["a"])([Object(f["b"])()],Jn.prototype,"view",void 0),Jn=Object(n["a"])([Object(y["a"])(Wn)],Jn);const Kn=Jn,Yn={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Zn=class extends An["a"]{constructor(t,e){super(t,e),this.goToOverride=null,this.iconClass=Yn.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new Kn}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:e}=this.viewModel,i="disabled"===e,n="compass"===("rotation"===e?"rotation":"compass"),r=i?-1:0,s={[Yn.disabled]:i,[Yn.interactive]:!i},o={[Yn.northIcon]:n,[Yn.rotationIcon]:!n},{messages:a}=this;return Object(Gn["a"])("div",{bind:this,class:this.classes(Yn.base,s),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:r,"aria-label":a.reset,title:a.reset},Object(Gn["a"])("span",{"aria-hidden":"true",class:this.classes(Yn.icon,o),styles:this._toRotationTransform(t)}),Object(Gn["a"])("span",{class:Yn.text},a.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(t){return{transform:`rotateZ(${t.z}deg)`}}};Object(n["a"])([Object(V["a"])("viewModel.goToOverride")],Zn.prototype,"goToOverride",void 0),Object(n["a"])([Object(f["b"])()],Zn.prototype,"iconClass",void 0),Object(n["a"])([Object(f["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Zn.prototype,"label",void 0),Object(n["a"])([Object(f["b"])(),Object($n["a"])("esri/widgets/Compass/t9n/Compass")],Zn.prototype,"messages",void 0),Object(n["a"])([Object(V["a"])("viewModel.view")],Zn.prototype,"view",void 0),Object(n["a"])([Object(f["b"])({type:Kn})],Zn.prototype,"viewModel",void 0),Object(n["a"])([Object(Vn["a"])()],Zn.prototype,"_reset",null),Zn=Object(n["a"])([Object(y["a"])("esri.widgets.Compass")],Zn);const Xn=Zn;let Qn=class extends P["a"]{constructor(t){super(t),this._handles=new g["a"],this.navigationMode="pan",this.view=null}initialize(){this._handles.add(Object(d["e"])(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}};Object(n["a"])([Object(f["b"])({readOnly:!0})],Qn.prototype,"state",null),Object(n["a"])([Object(f["b"])()],Qn.prototype,"navigationMode",void 0),Object(n["a"])([Object(f["b"])()],Qn.prototype,"view",void 0),Qn=Object(n["a"])([Object(y["a"])("esri.widgets.NavigationToggleViewModel")],Qn);const tr=Qn,er={base:"esri-navigation-toggle esri-widget",button:"esri-navigation-toggle__button esri-widget--button",activeButton:"esri-navigation-toggle__button--active",panButton:"esri-navigation-toggle__button--pan",rotateButton:"esri-navigation-toggle__button--rotate",isLayoutHorizontal:"esri-navigation-toggle--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let ir=class extends An["a"]{constructor(t,e){super(t,e),this.iconClass=er.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new tr}set layout(t){"horizontal"!==t&&(t="vertical"),this._set("layout",t)}toggle(){return this.viewModel.toggle()}render(){const t="disabled"===this.get("viewModel.state"),e="pan"===this.get("viewModel.navigationMode"),i={[er.disabled]:t,[er.isLayoutHorizontal]:"horizontal"===this.layout},n={[er.activeButton]:e},r={[er.activeButton]:!e},s=t?-1:0,o=this.messages.toggle;return Object(Gn["a"])("div",{bind:this,class:this.classes(er.base,i),onclick:this._toggle,onkeydown:this._toggle,tabIndex:s,"aria-label":o,title:o},Object(Gn["a"])("div",{class:this.classes(er.button,er.panButton,n)},Object(Gn["a"])("span",{class:er.panIcon})),Object(Gn["a"])("div",{class:this.classes(er.button,er.rotateButton,r)},Object(Gn["a"])("span",{class:er.rotationIcon})))}_toggle(){this.toggle()}};Object(n["a"])([Object(f["b"])()],ir.prototype,"iconClass",void 0),Object(n["a"])([Object(f["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ir.prototype,"label",void 0),Object(n["a"])([Object(f["b"])({value:"vertical"})],ir.prototype,"layout",null),Object(n["a"])([Object(f["b"])(),Object($n["a"])("esri/widgets/NavigationToggle/t9n/NavigationToggle")],ir.prototype,"messages",void 0),Object(n["a"])([Object(V["a"])("viewModel.view")],ir.prototype,"view",void 0),Object(n["a"])([Object(f["b"])({type:tr})],ir.prototype,"viewModel",void 0),Object(n["a"])([Object(Vn["a"])()],ir.prototype,"_toggle",null),ir=Object(n["a"])([Object(y["a"])("esri.widgets.NavigationToggle")],ir);const nr=ir;var rr=i("1452");const sr="esri.views.ui.DefaultUI";function or(t){return t&&void 0!==t.view}u["a"].getLogger(sr);let ar=class extends En{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([Object(d["a"])(this,"components",this._componentsWatcher.bind(this)),Object(d["a"])(this,"view",this._updateViewAwareWidgets.bind(this))])}_add(t,e,i,n){if("string"==typeof t&&this._defaultPositionLookup[t]){if(this._find(t))return;t=this._createComponent(t)}super._add(t,e,i,n)}_removeComponents(t){t.forEach(t=>{const e=this._find(t);e&&(this.remove(e),e.destroy())})}_updateViewAwareWidgets(t){this.components.forEach(e=>{const i=this._find(e),n=i&&i.widget;or(n)&&(n.view=t)})}_componentsWatcher(t,e){this._removeComponents(e),this._addComponents(t),this._adjustPadding(t)}_adjustPadding(t){if(-1===t.indexOf("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(t){this.initialized&&t.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(t){const e=this._createWidget(t);if(e)return new wn({id:t,node:e})}_createWidget(t){return"attribution"===t?this._createAttribution():"compass"===t?this._createCompass():"navigation-toggle"===t?this._createNavigationToggle():"zoom"===t?this._createZoom():void 0}_createAttribution(){return new Bn({view:this.view})}_createCompass(){return new Xn({view:this.view})}_createNavigationToggle(){return new nr({view:this.view})}_createZoom(){return new rr["a"]({view:this.view})}};Object(n["a"])([Object(f["b"])()],ar.prototype,"components",void 0),ar=Object(n["a"])([Object(y["a"])(sr)],ar);const cr=ar;let lr=class extends cr{constructor(t){super(t),this.components=["attribution","zoom"]}};Object(n["a"])([Object(f["b"])()],lr.prototype,"components",void 0),lr=Object(n["a"])([Object(y["a"])("esri.views.ui.2d.DefaultUI2D")],lr);const ur=lr;var hr,dr=i("7ffa");let pr=hr=class extends Ae["a"]{constructor(t){super(t),this.color=new sn["a"]([0,0,0,1])}clone(){return new hr(Object(dr["a"])({color:this.color}))}};Object(n["a"])([Object(f["b"])({type:sn["a"],json:{write:!0}})],pr.prototype,"color",void 0),pr=hr=Object(n["a"])([Object(y["a"])("esri.webmap.background.ColorBackground")],pr);const fr=pr,br=u["a"].getLogger("esri.views.MapView");let yr,mr,gr,vr,wr,Or;async function jr(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:n,MapViewNavigation:r,MagnifierView2D:s,Stage:o}]=await Promise.all([Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-70c316c0")]).then(i.bind(null,"b69b")),Promise.all([i.e("chunk-4e7277d5"),i.e("chunk-43efbda2"),i.e("chunk-24fad822"),i.e("chunk-20049de8"),i.e("chunk-8cca0090")]).then(i.bind(null,"b460"))]);mr=t,gr=e,vr=n,wr=r,Or=s,yr=o}let _r=class extends(_(Object(x["a"])(ei))){constructor(t){super(t),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new o["a"]({getCollections:()=>{var t,e;return[null==(t=this.basemapView)?void 0:t.baseLayerViews,this.layerViews,null==(e=this.basemapView)?void 0:e.referenceLayerViews]},getChildrenFunction:()=>null}),this.floors=new s["a"],this.graphicsView=null,this.highlightOptions=new cn,this.inputManager=new rn({view:this}),this.mapViewNavigation=null,this.supersampleScreenshotsEnabled=!1,this.ui=new ur,this.rendering=!1,Object(p["a"])()}destroy(){this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get background(){return this.get("map.initialViewProperties.background")||null}set background(t){void 0===t?this._clearOverride("background"):this._override("background",t)}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}toMap(t){if(Object(yt["d"])(t)){const e=Object(yt["c"])(this,t);return super.toMap(e)}return super.toMap(t)}async hitTest(t,e){const i=Object(yt["d"])(t)?Object(yt["c"])(this,t):t;if(!this.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let n=new Set,r=!1,s=null,o=null;null!=e&&e.include?kr(e.include,Mr(this,t=>n.add(t),t=>{s||(s=new Set),s.add(t)},t=>n.add(t),()=>r=!0)):(r=!0,n=new Set(this.allLayerViews)),null!=e&&e.exclude&&kr(e.exclude,Mr(this,t=>n.delete(t),t=>{o||(o=new Set),o.add(t)}));const a=this.allLayerViews.filter(t=>!t.suspended&&n.has(t)).reverse(),c=this.toMap(i);let l=(await Promise.all([r?this.graphicsView.hitTest(c):null,...a.map(t=>t.hitTest(c,i))])).filter(h["l"]).flat();return s&&(l=l.filter(t=>s.has(Sr(t)))),o&&(l=l.filter(t=>!o.has(Sr(t)))),{screenPoint:i,results:l.map(t=>({mapPoint:c,graphic:t}))}}takeScreenshot(t){t=t||{};const e=this.supersampleScreenshotsEnabled?Math.min(4,Object(un["d"])(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;t.layers?(i=[],t.layers.forEach(t=>{const e=this.allLayerViews.find(e=>e.layer.id===t.id);e&&"container"in e&&e.container&&i.push(e.container)})):i=this._stage.children;const{format:n,quality:r}=Object(un["c"])(t.format,t.quality),s=ln(t,e,this.size,this.padding,n,r,i,t.rotation);return this._stage.takeScreenshot(s)}on(t,e,i,n){const r=this.inputManager&&this.viewEvents.on(t,e,i,n);return r||super.on(t,e)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}validate(){let t=pn({checkMajorWebPerformanceCaveat:!1});return Object(c["a"])("safari")&&Object(c["a"])("safari")<9&&(t=new a["a"]("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:Object(c["a"])("safari")})),Object(h["l"])(t)?(br.warn("#validate()",t.message),Promise.reject(t)):jr()}_startup(){this.timeline.begin("MapView Startup"),super._startup(),this.graphics.owner=this;const t={disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},e=new yr(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:t,renderingOptions:this.renderingOptions,timeline:this.timeline}),i=new mr({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new gr(this.featuresTilingScheme)}),n=new wr({view:this,animationManager:this.animationManager}),r=new vr({view:this});this._magnifierView=new Or,this._magnifierView.magnifier=this.magnifier,this._stage=e,this.frameTask.graphicsView=i,this._set("graphicsView",i),this._set("mapViewNavigation",n),this._set("labelManager",r),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),e.on("post-render",()=>this._set("rendering",e.renderRequested)),e.on("will-render",()=>this._set("rendering",e.renderRequested)),e.on("webgl-error",t=>this.fatalError=t.error),Object(d["a"])(this,"stationary",t=>e.stationary=t,!0),Object(d["a"])(this,"state.id",()=>e.state=this.state,!0),Object(d["a"])(this,"background",t=>{e.background=t,this._magnifierView.background=t},!0),Object(d["a"])(this,"magnifier",t=>this._magnifierView.magnifier=t,!0),Object(d["a"])(this,"renderingOptions",t=>e.renderingOptions=t,!0),Object(d["a"])(this,"highlightOptions",()=>e.highlightOptions=this.highlightOptions,!0)],"map-view"),e.state=this.state,this._updateStageChildren();const s=this._resolveWhenReady;this._resolveWhenReady=[],s.forEach(t=>t(this)),this.timeline.end("MapView Startup")}_teardown(){this.handles.remove("map-view"),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this.graphicsView.destroy(),this.mapViewNavigation.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,super._teardown()}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const t=this.graphicsView;this._stage.addChild(t.container),this._stage.addChild(this._magnifierView)}};Object(n["a"])([Object(f["b"])({type:fr})],_r.prototype,"background",null),Object(n["a"])([Object(f["b"])()],_r.prototype,"floors",void 0),Object(n["a"])([Object(f["b"])()],_r.prototype,"graphicsView",void 0),Object(n["a"])([Object(f["b"])({type:cn})],_r.prototype,"highlightOptions",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_r.prototype,"inputManager",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_r.prototype,"resourceManager",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],_r.prototype,"textureManager",null),Object(n["a"])([Object(f["b"])({readOnly:!0})],_r.prototype,"mapViewNavigation",void 0),Object(n["a"])([Object(f["b"])({type:Boolean})],_r.prototype,"navigating",null),Object(n["a"])([Object(f["b"])({type:Boolean,constructOnly:!0})],_r.prototype,"supersampleScreenshotsEnabled",void 0),Object(n["a"])([Object(f["b"])({type:ur})],_r.prototype,"ui",void 0),Object(n["a"])([Object(f["b"])({readOnly:!0})],_r.prototype,"rendering",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],_r.prototype,"renderCanvas",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],_r.prototype,"deactivatedWebGLExtensions",void 0),Object(n["a"])([Object(f["b"])({constructOnly:!0})],_r.prototype,"debugWebGLExtensions",void 0),_r=Object(n["a"])([Object(y["a"])("esri.views.MapView")],_r);const xr=_r;function Sr(t){const e=t.getObjectId();var i,n,r,s;return e?`${null!=(i=null!=(n=null==(r=t.layer)?void 0:r.uid)?n:null==(s=t.sourceLayer)?void 0:s.uid)?i:"MapView"}/${e}`:'"MapView/'+t.uid}function Mr(t,e,i,n,s){return o=>{if(o instanceof r["a"]){if(o.layer===t)null==s||s();else{const e=t.allLayerViews.find(t=>t.layer===o.layer);e&&(null==n||n(e))}i(Sr(o))}else{const i=t.allLayerViews.find(t=>t.layer===o);i&&e(i)}}}function kr(t,e){if(t)if(Object(l["c"])(t))for(const i of t)if(Object(l["c"])(i))for(const t of i)e(t);else e(i);else e(t)}},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},a6a3:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n=i("a4ee"),r=i("1325"),s=(i("e06a"),i("2eab")),o=i("ce50"),a=i("ce6d"),c=i("a5d8"),l=i("6d5f"),u=i("e92d"),h=i("f4cc"),d=i("e041"),p=i("59b2"),f=(i("b50f"),i("c120"),i("cea0"),i("d386")),b=i("3af1"),y=i("5996");let m=0;const g=u["a"].getLogger("esri.layers.Layer");let v=class extends(a["a"].EventedMixin(Object(c["a"])(l["a"]))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new b["a"](-180,-90,180,90,y["a"].WGS84),this.id=Date.now().toString(16)+"-layer-"+m++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=y["a"].WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t,n=await i.e("chunk-59f29c8d").then(i.bind(null,"4cf4"));try{return await n.fromUrl(e)}catch(r){throw g.error("#fromArcGISServerUrl({ url: '"+e.url+"'})","Failed to create layer from arcgis server url",r),r}}static async fromPortalItem(t){const e="portalItem"in t?t:{portalItem:t},n=await i.e("chunk-df664df4").then(i.bind(null,"5c92"));try{return await n.fromItem(e)}catch(s){const t=e&&e.portalItem,i=t&&t.id||"unset",n=t&&t.portal&&t.portal.url||r["a"].portalUrl;throw g.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+i+"')",s),s}}initialize(){this.when().catch(t=>{var e,i;Object(h["l"])(t)||u["a"].getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(e=this.title)?e:"no title"}', id: '${null!=(i=this.id)?i:"no id"}')`,{error:t})})}destroy(){if(this.parent){const t=this,e=this.parent;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"baseLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?Object(d["K"])(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Object(s["default"])(t,{query:{f:"json"},responseType:"json"})).data;throw new o["a"]("layer:no-attribution-data","Layer does not have attribution data")}};Object(n["a"])([Object(p["b"])({type:String})],v.prototype,"attributionDataUrl",void 0),Object(n["a"])([Object(p["b"])({type:b["a"]})],v.prototype,"fullExtent",void 0),Object(n["a"])([Object(p["b"])({readOnly:!0})],v.prototype,"hasAttributionData",null),Object(n["a"])([Object(p["b"])({type:String})],v.prototype,"id",void 0),Object(n["a"])([Object(p["b"])({type:Boolean,nonNullable:!0})],v.prototype,"legendEnabled",void 0),Object(n["a"])([Object(p["b"])({type:["show","hide","hide-children"]})],v.prototype,"listMode",void 0),Object(n["a"])([Object(p["b"])({type:Number,range:{min:0,max:1},nonNullable:!0})],v.prototype,"opacity",void 0),Object(n["a"])([Object(p["b"])()],v.prototype,"parent",void 0),Object(n["a"])([Object(p["b"])({readOnly:!0})],v.prototype,"parsedUrl",null),Object(n["a"])([Object(p["b"])({type:Boolean})],v.prototype,"popupEnabled",void 0),Object(n["a"])([Object(p["b"])({type:Boolean})],v.prototype,"attributionVisible",void 0),Object(n["a"])([Object(p["b"])({type:y["a"]})],v.prototype,"spatialReference",void 0),Object(n["a"])([Object(p["b"])({type:String})],v.prototype,"title",void 0),Object(n["a"])([Object(p["b"])({type:String,readOnly:!0,json:{read:!1}})],v.prototype,"type",void 0),Object(n["a"])([Object(p["b"])()],v.prototype,"url",void 0),Object(n["a"])([Object(p["b"])({type:Boolean,nonNullable:!0})],v.prototype,"visible",void 0),v=Object(n["a"])([Object(f["a"])("esri.layers.Layer")],v);const w=v},a6ac:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t,e){this.definition=null,this.context=null,this.definition=t,this.context=e}}},a6c1:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return f})),i.d(e,"f",(function(){return y})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return p}));i("c120");var n=i("b2b2"),r=i("0d76"),s=i("db52"),o=i("4dc9"),a=i("21ba"),c=i("8246");const l=o["a"].fromJSON(c["c"]),u=s["a"].fromJSON(c["e"]),h=r["a"].fromJSON(c["d"]),d=a["a"].fromJSON(c["f"]);function p(t){if(Object(n["k"])(t))return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return l;case"polyline":return u;case"polygon":case"extent":return h}return null}const f=o["a"].fromJSON(c["g"]),b=s["a"].fromJSON(c["i"]),y=r["a"].fromJSON(c["h"])},a796:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("7ffa"),c=i("59b2"),l=(i("cea0"),i("d386")),u=i("09db");const h=new s["a"]({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});let d=n=class extends o["a"]{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(e.statisticParameters=Object(a["a"])(t))}clone(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(a["a"])(this.statisticParameters)})}};Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],d.prototype,"maxPointCount",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],d.prototype,"maxRecordCount",void 0),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],d.prototype,"maxVertexCount",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],d.prototype,"onStatisticField",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],d.prototype,"outStatisticFieldName",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{read:{source:"statisticType",reader:h.read},write:{target:"statisticType",writer:h.write}}})],d.prototype,"statisticType",void 0),Object(r["a"])([Object(c["b"])({type:Object})],d.prototype,"statisticParameters",void 0),Object(r["a"])([Object(u["a"])("statisticParameters")],d.prototype,"writeStatisticParameters",null),d=n=Object(r["a"])([Object(l["a"])("esri.rest.support.StatisticDefinition")],d);const p=d},a79d:function(t,e,i){"use strict";var n=i("23e7"),r=i("c430"),s=i("fea9"),o=i("d039"),a=i("d066"),c=i("1626"),l=i("4840"),u=i("cdf9"),h=i("6eeb"),d=!!s&&o((function(){s.prototype["finally"].call({then:function(){}},(function(){}))}));if(n({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(t){var e=l(this,a("Promise")),i=c(t);return this.then(i?function(i){return u(e,t()).then((function(){return i}))}:t,i?function(i){return u(e,t()).then((function(){throw i}))}:t)}}),!r&&c(s)){var p=a("Promise").prototype["finally"];s.prototype["finally"]!==p&&h(s.prototype,"finally",p,{unsafe:!0})}},a7a7:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(t){super(t),this.type=null}};Object(n["a"])([Object(s["b"])({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=Object(n["a"])([Object(o["a"])("esri.popup.content.Content")],a);const c=a},a7e1:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return k}));var n=i("a4ee"),r=i("b2cd"),s=i("ce50"),o=i("6a0e"),a=i("7ffa"),c=i("6d5f"),l=i("b2b2"),u=i("e041"),h=i("59b2"),d=i("cea0"),p=i("afcf"),f=i("d386"),b=i("3af1"),y=i("0224"),m=i("fc29"),g=i("e92d"),v=(i("b50f"),i("c120"),i("1a3e"));const w=g["a"].getLogger("esri.portal.PortalItemResource");let O=class extends m["a"]{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this.normalizePath(t.path,t.portalItem)}:t}set path(t){Object(l["l"])(t)&&Object(u["s"])(t)?w.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return this.normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?"./resources/"+this.path:null}fetch(t="json",e){const i=this.url;if(Object(l["k"])(i))throw new s["a"]("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(i,{responseType:t,query:{token:this.portalItem.apiKey},signal:Object(l["j"])(e,"signal")})}async update(t,e){return(await i.e("chunk-2d22611c").then(i.bind(null,"e6a6"))).addOrUpdateResource(this,"update",t,e)}hasPath(){return Object(l["l"])(this.path)}normalizePath(t,e){return Object(l["k"])(t)?t:(t=t.replace(/^\/+/,""),Object(l["l"])(e)&&Object(u["s"])(t)&&(t=Object(u["C"])(t,e.itemUrl)),t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};Object(n["a"])([Object(h["b"])()],O.prototype,"portalItem",void 0),Object(n["a"])([Object(h["b"])({type:String,value:null})],O.prototype,"path",null),Object(n["a"])([Object(v["a"])("path")],O.prototype,"_castPath",null),Object(n["a"])([Object(h["b"])({type:String,readOnly:!0})],O.prototype,"url",null),Object(n["a"])([Object(h["b"])({type:String,readOnly:!0})],O.prototype,"itemRelativeUrl",null),O=Object(n["a"])([Object(f["a"])("esri.portal.PortalItemResource")],O);const j=O;let _=class extends m["a"]{constructor(t){super(t),this.created=null,this.rating=null}};Object(n["a"])([Object(h["b"])()],_.prototype,"created",void 0),Object(n["a"])([Object(h["b"])()],_.prototype,"rating",void 0),_=Object(n["a"])([Object(f["a"])("esri.portal.PortalRating")],_);const x=_;var S;let M=S=class extends(Object(o["b"])(c["a"])){constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(t){return Object(d["d"])(S,t)}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return"Feature Service"===t||"Feature Collection"===t?i=e.indexOf("Table")>-1?"Table":e.indexOf("Route Layer")>-1?"Route Layer":e.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===t?i=e.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":e.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===t?i="Scene Layer":"Scene Package"===t?i="Scene Layer Package":"Stream Service"===t?i="Feature Layer":"Geoprocessing Service"===t&&this.portal&&this.portal.isPortal?i=e.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===t?i="Locator":"Geoenrichment Service"===t?i="GeoEnrichment Service":"Microsoft Powerpoint"===t?i="Microsoft PowerPoint":"GeoJson"===t?i="GeoJSON":"Globe Service"===t?i="Globe Layer":"Vector Tile Service"===t?i="Tile Layer":"netCDF"===t?i="NetCDF":"Map Service"===t?i=-1===e.indexOf("Spatiotemporal")&&(e.indexOf("Hosted Service")>-1||e.indexOf("Tiled")>-1)&&-1===e.indexOf("Relational")?"Tile Layer":"Map Image Layer":t&&t.toLowerCase().indexOf("add in")>-1?i=t.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===t?i="Big Data File Share":"Compact Tile Package"===t?i="Tile Package (tpkx)":"OGCFeatureServer"===t?i="OGC Feature Layer":"web mapping application"===t&&e.indexOf("configurableApp")>-1&&(i="Instant App"),i}readExtent(t){return t&&t.length?new b["a"](t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){const t=this.type&&this.type.toLowerCase()||"",e=this.typeKeywords||[],i="esri/images/portal/",n="16";let s,o=!1,a=!1,c=!1,l=!1,u=!1,h=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(o=e.indexOf("Hosted Service")>-1,"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(a=e.indexOf("Table")>-1,c=e.indexOf("Route Layer")>-1,l=e.indexOf("Markup")>-1,u=-1!==e.indexOf("Spatiotemporal"),h=-1!==e.indexOf("UtilityNetwork"),s=u&&a?"spatiotemporaltable":a?"table":c?"routelayer":l?"markup":u?"spatiotemporal":o?"featureshosted":h?"utilitynetwork":"features"):s="map service"===t||"wms"===t||"wmts"===t?o||e.indexOf("Tiled")>-1||"wmts"===t?"maptiles":"mapimages":"scene service"===t?e.indexOf("Line")>-1?"sceneweblayerline":e.indexOf("3DObject")>-1?"sceneweblayermultipatch":e.indexOf("Point")>-1?"sceneweblayerpoint":e.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":e.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":e.indexOf("Polygon")>-1?"sceneweblayerpolygon":e.indexOf("Building")>-1?"sceneweblayerbuilding":e.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===t?e.indexOf("Elevation 3D Layer")>-1?"elevationlayer":e.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"geoprocessing service"===t&&e.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):s="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?e.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===t&&e.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&e.indexOf("ArcGIS Pro")>-1||"explorer map"===t&&e.indexOf("Explorer Document")?"mapsgray":"service definition"===t||"csv"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"360 vr experience"===t||"netcdf"===t||"administrative report"===t?"datafiles":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"form"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"image"===t||"workflow manager package"===t||"explorer map"===t&&e.indexOf("Explorer Mapping Application")>-1||e.indexOf("Document")>-1?"datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"scene package"===t?"scenepackage":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hubpage"===t?"hubpage":"hub event"===t?"hubevent":"hub site application"===t?"hubsite":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===t?"imagecollection":"style"===t?"style":"desktop style"===t?"desktopstyle":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"big data analytic"===t?"bigdataanalytics":"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"urban model"===t?"urbanmodel":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":"workflow"===t?"workflow":"insights script"===t?"insightsscript":"kernel gateway connection"===t?"kernelgatewayconnection":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"knowledge graph"===t?"knowledgegraph":"native application"===t?"nativeapp":"native application installer"===t?"nativeappinstaller":"link chart"===t?"linkchart":"investigation"===t?"investigation":"ogcfeatureserver"===t?"features":"pro project"===t?"proproject":"insights workbook package"===t?"insightsworkbookpackage":"apache parquet"===t?"apacheparquet":"maps",s?Object(r["a"])(i+s+n+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const t=this.get("portal.restUrl");return t?t+"/content/items/"+this.id:null}get thumbnailUrl(){const t=this.itemUrl,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get userItemUrl(){const t=this.get("portal.restUrl");if(!t)return null;const e=this.owner||this.get("portal.user.username");return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){this.portal||(this.portal=y["a"].getDefault());const e=this.portal.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:Object(l["l"])(t)?t.signal:null,query:{token:this.apiKey}}):{}).then(t=>{this.sourceJSON=t,this.read(t)});return this.addResolvingPromise(e),Promise.resolve(this)}addRating(t){const e={method:"post",query:{}};return t instanceof x&&(t=t.rating),isNaN(t)||"number"!=typeof t||(e.query.rating=t),this.portal._request(this.itemUrl+"/addRating",e).then(()=>new x({rating:t,created:new Date}))}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(a["a"])(this.applicationProxies),avgRating:this.avgRating,categories:Object(a["a"])(this.categories),created:Object(a["a"])(this.created),culture:this.culture,description:this.description,extent:Object(a["a"])(this.extent),groupCategories:Object(a["a"])(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(a["a"])(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(a["a"])(this.screenshots),size:this.size,snippet:this.snippet,tags:Object(a["a"])(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(a["a"])(this.typeKeywords),url:this.url};return this.loaded&&(t.loadStatus="loaded"),new S({sourceJSON:this.sourceJSON}).set(t)}createPostQuery(){const t=this.toJSON();for(const e in t)"tags"===e&&null!==t[e]&&(t[e]=t[e].join(", ")),"typeKeywords"===e&&null!==t[e]&&(t[e]=t[e].join(", ")),"extent"===e&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(t="json",e){return this.portal._request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}fetchRating(t){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t}).then(t=>null!=t.rating?(t.created=new Date(t.created),new x(t)):null)}fetchRelatedItems(t,e){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},S)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+="&w="+t),e}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const e=t&&t.data,i={method:"post"};i.query=this.createPostQuery();for(const t in i.query)null===i.query[t]&&(i.query[t]="");return i.query.clearEmptyFields=!0,null!=e&&("string"==typeof e?i.query.text=e:"object"==typeof e&&(i.query.text=JSON.stringify(e))),this.portal._request(this.userItemUrl+"/update",i).then(()=>this.reload())}):Promise.reject(new s["a"]("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(t){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const e=t.thumbnail,i=t.filename,n={method:"post"};if("string"==typeof e)Object(u["u"])(e)?n.query={data:e}:n.query={url:Object(u["A"])(e)},Object(l["l"])(i)&&(n.query.filename=i);else{const t=new FormData;Object(l["l"])(i)?t.append("file",e,i):t.append("file",e),n.body=t}return this.portal._request(this.userItemUrl+"/updateThumbnail",n).then(()=>this.reload())}):Promise.reject(new s["a"]("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){return(await i.e("chunk-2d22611c").then(i.bind(null,"e6a6"))).fetchResources(this,t,e)}async addResource(t,e,n){const r=await i.e("chunk-2d22611c").then(i.bind(null,"e6a6"));return t.portalItem=this,r.addOrUpdateResource(t,"add",e,n)}async removeResource(t,e){const n=await i.e("chunk-2d22611c").then(i.bind(null,"e6a6"));if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new s["a"]("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return n.removeResource(this,t,e)}async removeAllResources(t){return(await i.e("chunk-2d22611c").then(i.bind(null,"e6a6"))).removeAllResources(this,t)}resourceFromPath(t){return new j({portalItem:this,path:t})}toJSON(){const t=this.extent,e={created:this.created&&this.created.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return Object(a["c"])(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new S({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)"tags"===e&&null!==t[e]&&(t[e]=t[e].join(", ")),"typeKeywords"===e&&null!==t[e]&&(t[e]=t[e].join(", ")),"extent"===e&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};Object(n["a"])([Object(h["b"])({type:["private","shared","org","public"]})],M.prototype,"access",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"accessInformation",void 0),Object(n["a"])([Object(h["b"])({type:String})],M.prototype,"apiKey",void 0),Object(n["a"])([Object(h["b"])({json:{read:{source:"appProxies"}}})],M.prototype,"applicationProxies",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"avgRating",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"categories",void 0),Object(n["a"])([Object(h["b"])({type:Date})],M.prototype,"created",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"culture",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"description",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],M.prototype,"displayName",null),Object(n["a"])([Object(h["b"])({type:b["a"]})],M.prototype,"extent",void 0),Object(n["a"])([Object(p["a"])("extent")],M.prototype,"readExtent",null),Object(n["a"])([Object(h["b"])()],M.prototype,"groupCategories",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],M.prototype,"iconUrl",null),Object(n["a"])([Object(h["b"])()],M.prototype,"id",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],M.prototype,"isLayer",null),Object(n["a"])([Object(h["b"])()],M.prototype,"itemControl",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],M.prototype,"itemUrl",null),Object(n["a"])([Object(h["b"])()],M.prototype,"licenseInfo",void 0),Object(n["a"])([Object(h["b"])({type:Date})],M.prototype,"modified",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"name",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"numComments",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"numRatings",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"numViews",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"owner",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"ownerFolder",void 0),Object(n["a"])([Object(h["b"])({type:y["a"]})],M.prototype,"portal",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"screenshots",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"size",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"snippet",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"sourceJSON",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"tags",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"thumbnail",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],M.prototype,"thumbnailUrl",null),Object(n["a"])([Object(h["b"])()],M.prototype,"title",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"type",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"typeKeywords",void 0),Object(n["a"])([Object(h["b"])()],M.prototype,"url",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],M.prototype,"userItemUrl",null),M=S=Object(n["a"])([Object(f["a"])("esri.portal.PortalItem")],M);const k=M},a8d5:function(t,e,i){"use strict";i.d(e,"a",(function(){return k})),i.d(e,"b",(function(){return I})),i.d(e,"c",(function(){return _}));var n=i("1325"),r=i("ce50"),s=i("e92d"),o=i("b2b2"),a=i("1219"),c=i("521c"),l=i("f70f"),u=i("7f83"),h=i("9786"),d=(i("e06a"),i("2eab")),p=i("e041"),f=i("a9ab");async function b(t,e,i,n){const r="string"==typeof t?Object(p["K"])(t):t,s=e[0].spatialReference,o={...n,query:{...r.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(f["c"])(e[0]),geometries:e}),cutter:JSON.stringify(i)}},a=await Object(d["default"])(r.path+"/cut",o),{cutIndexes:c,geometries:l=[]}=a.data;return{cutIndexes:c,geometries:l.map(t=>{const e=Object(f["a"])(t);return e.spatialReference=s,e})}}async function y(t,e,i){const n="string"==typeof t?Object(p["K"])(t):t,r=e[0].spatialReference,s=Object(f["c"])(e[0]),o={...i,query:{...n.query,f:"json",sr:r.wkid?r.wkid:JSON.stringify(r),geometries:JSON.stringify(m(e))}};return g((await Object(d["default"])(n.path+"/simplify",o)).data,s,r)}function m(t){return{geometryType:Object(f["c"])(t[0]),geometries:t.map(t=>t.toJSON())}}function g(t,e,i){const n=Object(f["b"])(e);return t.map(t=>{const e=n.fromJSON(t);return e.spatialReference=i,e})}const v=s["a"].getLogger("esri.geometry.support.normalizeUtils");function w(t){return"polygon"===t.type}function O(t){return"polygon"===t[0].type}function j(t){return"polyline"===t[0].type}function _(t,e){if(!(t instanceof c["a"]||t instanceof a["a"])){const t="straightLineDensify: the input geometry is neither polyline nor polygon";throw v.error(t),new r["a"](t)}const i=Object(l["b"])(t),n=[];for(const r of i){const t=[];n.push(t),t.push([r[0][0],r[0][1]]);for(let i=0;i<r.length-1;i++){const n=r[i][0],s=r[i][1],o=r[i+1][0],a=r[i+1][1],c=Math.sqrt((o-n)*(o-n)+(a-s)*(a-s)),l=(a-s)/c,u=(o-n)/c,h=c/e;if(h>1){for(let a=1;a<=h-1;a++){const i=a*e,r=u*i+n,o=l*i+s;t.push([r,o])}const i=(c+Math.floor(h-1)*e)/2,r=u*i+n,o=l*i+s;t.push([r,o])}t.push([o,a])}}return w(t)?new a["a"]({rings:n,spatialReference:t.spatialReference}):new c["a"]({paths:n,spatialReference:t.spatialReference})}function x(t,e,i){if(e){const e=_(t,1e6);t=Object(h["e"])(e,!0)}return i&&(t=Object(l["e"])(t,i)),t}function S(t,e,i){if(Array.isArray(t)){const n=t[0];if(n>e){const i=Object(l["d"])(n,e);t[0]=n+i*(-2*e)}else if(n<i){const e=Object(l["d"])(n,i);t[0]=n+e*(-2*i)}}else{const n=t.x;if(n>e){const i=Object(l["d"])(n,e);t=t.clone().offset(i*(-2*e),0)}else if(n<i){const e=Object(l["d"])(n,i);t=t.clone().offset(e*(-2*i),0)}}return t}function M(t,e){let i=-1;for(let n=0;n<e.cutIndexes.length;n++){const r=e.cutIndexes[n],s=e.geometries[n],o=Object(l["b"])(s);for(let t=0;t<o.length;t++){const e=o[t];e.some(i=>{if(i[0]<180)return!0;{let i=0;for(let t=0;t<e.length;t++){const n=e[t][0];i=n>i?n:i}i=Number(i.toFixed(9));const n=-360*Object(l["d"])(i,180);for(let r=0;r<e.length;r++){const e=s.getPoint(t,r);s.setPoint(t,r,e.clone().offset(n,0))}return!0}})}if(r===i){if(O(t))for(const e of Object(l["b"])(s))t[r]=t[r].addRing(e);else if(j(t))for(const e of Object(l["b"])(s))t[r]=t[r].addPath(e)}else i=r,t[r]=s}return t}async function k(t,e,i){var r;if(!Array.isArray(t))return k([t],e);const s=null!=(r=null==e?void 0:e.url)?r:n["a"].geometryServiceUrl;let d,p,f,m,g,v,w,O,j=0;const _=[],I=[];for(const n of t)if(Object(o["k"])(n))I.push(n);else if(d||(d=n.spatialReference,p=Object(u["e"])(d),f=d.isWebMercator,v=f?102100:4326,m=l["a"][v].maxX,g=l["a"][v].minX,w=l["a"][v].plus180Line,O=l["a"][v].minus180Line),p)if("mesh"===n.type)I.push(n);else if("point"===n.type)I.push(S(n.clone(),m,g));else if("multipoint"===n.type){const t=n.clone();t.points=t.points.map(t=>S(t,m,g)),I.push(t)}else if("extent"===n.type){const t=n.clone()._normalize(!1,!1,p);I.push(t.rings?new a["a"](t):t)}else if(n.extent){const t=n.extent,e=Object(l["d"])(t.xmin,g)*(2*m);let i=0===e?n.clone():Object(l["e"])(n.clone(),e);t.offset(e,0),t.intersects(w)&&t.xmax!==m?(j=t.xmax>j?t.xmax:j,i=x(i,f),_.push(i),I.push("cut")):t.intersects(O)&&t.xmin!==g?(j=t.xmax*(2*m)>j?t.xmax*(2*m):j,i=x(i,f,360),_.push(i),I.push("cut")):I.push(i)}else I.push(n.clone());else I.push(n);let T=Object(l["d"])(j,m),E=-90;const A=T,C=new c["a"];for(;T>0;){const t=360*T-180;C.addPath([[t,E],[t,-1*E]]),E*=-1,T--}if(_.length>0&&A>0){const e=M(_,await b(s,_,C,i)),n=[],r=[];for(let i=0;i<I.length;i++){const s=I[i];if("cut"!==s)r.push(s);else{const s=e.shift(),a=t[i];Object(o["l"])(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&s.rings.length>=a.rings.length?(n.push(s),r.push("simplify")):r.push(f?Object(h["b"])(s):s)}}if(!n.length)return r;const a=await y(s,n,i),c=[];for(let t=0;t<r.length;t++){const e=r[t];"simplify"!==e?c.push(e):c.push(f?Object(h["b"])(a.shift()):a.shift())}return c}const P=[];for(let n=0;n<I.length;n++){const t=I[n];if("cut"!==t)P.push(t);else{const t=_.shift();P.push(!0===f?Object(h["b"])(t):t)}}return Promise.resolve(P)}function I(t,e){const i=Object(u["e"])(e);if(i){const[e,n]=i.valid,r=n-e;if(t<e)for(;t<e;)t+=r;if(t>n)for(;t>n;)t-=r}return t}},a8f3:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("fc29"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{constructor(t){super(t),this.tooltip=null,this.value=null}clone(){return new n({tooltip:this.tooltip,value:this.value})}};Object(r["a"])([Object(o["b"])()],c.prototype,"tooltip",void 0),Object(r["a"])([Object(o["b"])()],c.prototype,"value",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.popup.content.support.ChartMediaInfoValueSeries")],c);const l=c},a915:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return o})),i.d(e,"h",(function(){return a})),i.d(e,"i",(function(){return b})),i.d(e,"j",(function(){return c}));const n=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,r="screenUtils.toPt: input not recognized!",s=96;function o(t){return t?t/72*s:0}function a(t){return t?72*t/s:0}function c(t){if("string"==typeof t){const e=t.match(n);if(e){const i=Number(e[1]),n=e[3]&&e[3].toLowerCase(),r="-"===t.charAt(0),s="px"===n?a(i):i;return r?-s:s}return console.warn(r),null}return t}function l(t=0,e=0){return{x:t,y:e}}function u(t=0,e=0){return[t,e]}function h(t=0,e=0,i=0){return p([t,e,i])}function d(t){return t}function p(t){return t}function f(t){return t}function b(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}},a957:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var n,r=i("a4ee"),s=i("7ffa"),o=i("b2b2"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("d386"),u=i("09db"),h=i("9787"),d=i("961d"),p=i("5c00"),f=i("9ef0"),b=i("6a0e");let y=n=class extends b["a"]{constructor(){super(...arguments),this.color=new f["a"]([0,0,0,1]),this.size=0}clone(){return new n({color:Object(s["a"])(this.color),size:this.size})}};Object(r["a"])([Object(a["b"])(p["a"])],y.prototype,"color",void 0),Object(r["a"])([Object(a["b"])(p["b"])],y.prototype,"size",void 0),y=n=Object(r["a"])([Object(l["a"])("esri.symbols.support.Symbol3DHalo")],y);const m=y;var g,v=i("a3af");let w=g=class extends d["a"]{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.material=null,this.text=void 0,this.type="text"}get font(){return this._get("font")||null}set font(t){t&&this._userSize&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,i,n){const r={...n,textSymbol3D:!0};e.font=t.write({},r),delete e.font.size}get size(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9}set size(t){this._userSize=t,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){return new g({enabled:this.enabled,font:this.font&&Object(s["a"])(this.font),halo:this.halo&&Object(s["a"])(this.halo),material:Object(o["l"])(this.material)?this.material.clone():null,size:this.size,text:this.text})}static fromTextSymbol(t){const e=O(t.haloColor,t.haloSize),i=t.font?t.font.clone():new h["a"];return new g({size:i.size,font:i,halo:e,material:t.color?{color:t.color.clone()}:null,text:t.text})}};function O(t,e){return t&&e>0?{color:Object(s["a"])(t),size:e}:null}Object(r["a"])([Object(a["b"])({type:h["a"],json:{write:!0}})],w.prototype,"font",null),Object(r["a"])([Object(u["a"])("font")],w.prototype,"writeFont",null),Object(r["a"])([Object(a["b"])({type:m,json:{write:!0}})],w.prototype,"halo",void 0),Object(r["a"])([Object(a["b"])({type:v["b"],json:{write:!0}})],w.prototype,"material",void 0),Object(r["a"])([Object(a["b"])(p["b"]),Object(a["b"])()],w.prototype,"size",null),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],w.prototype,"text",void 0),Object(r["a"])([Object(c["a"])({Text:"text"},{readOnly:!0})],w.prototype,"type",void 0),w=g=Object(r["a"])([Object(l["a"])("esri.symbols.TextSymbol3DLayer")],w);const j=w},a98b:function(t,e,i){"use strict";i.d(e,"a",(function(){return Z})),i.d(e,"b",(function(){return Y})),i.d(e,"c",(function(){return X})),i.d(e,"d",(function(){return A})),i.d(e,"e",(function(){return K})),i.d(e,"f",(function(){return k})),i.d(e,"g",(function(){return C})),i.d(e,"h",(function(){return P})),i.d(e,"i",(function(){return q})),i.d(e,"j",(function(){return N})),i.d(e,"k",(function(){return D})),i.d(e,"l",(function(){return B})),i.d(e,"m",(function(){return H})),i.d(e,"n",(function(){return J})),i.d(e,"o",(function(){return W})),i.d(e,"p",(function(){return st})),i.d(e,"q",(function(){return Q})),i.d(e,"r",(function(){return tt})),i.d(e,"s",(function(){return et})),i.d(e,"t",(function(){return rt})),i.d(e,"u",(function(){return nt})),i.d(e,"v",(function(){return R})),i.d(e,"w",(function(){return ct}));var n=i("cb72"),r=i("2c4f"),s=i("b2b2"),o=i("8048"),a=i("4212"),c=i("a29a"),l=i("f7eb"),u=i("3349"),h=i("02f1"),d=i("3af1"),p=i("3760"),f=i("4ae5"),b=i("5996"),y=i("2255"),m=i("7f83"),g=i("9786");const v=39.37,w=180/Math.PI;function O(t,e,i){const n=Object(a["c"])(e[0]/y["a"].radius);return Object(u["s"])(t,i?n:n-360*Math.floor((n+180)/360),Object(a["c"])(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/y["a"].radius))))}function j(t,e){let i=e[1];return i>89.99999?i=89.99999:i<-89.99999&&(i=-89.99999),i=Math.sin(Object(a["d"])(i)),Object(u["s"])(t,Object(a["d"])(e[0])*y["a"].radius,.5*y["a"].radius*Math.log((1+i)/(1-i)))}function _(t,e,i,n){return n&&i&&!n.equals(i)&&Object(g["a"])(n,i)&&n.isWebMercator?n.isWebMercator?j(t,e):O(t,e):Object(u["c"])(t,e)}function x(t){return t.wkid?t:t.spatialReference||b["a"].WGS84}function S(t,e){return e.type?Object(u["s"])(t,e.x,e.y):Object(u["c"])(t,e)}function M(t){return Object(o["d"])(t)}function k(t,e){return Math.max(t.width/e[0],t.height/e[1])*$(t.spatialReference)}async function I(t,e,i,n){let o,a;if(!t)return null;if(Array.isArray(t)&&!t.length)return null;if(r["a"].isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&"object"==typeof t[0]){const r=t.every(t=>"attributes"in t),o=t.some(t=>!t.geometry);let a=t;if(r&&o&&e&&e.allLayerViews){const i=new Map;for(const e of t){const t=e.layer,n=i.get(t)||[],r=e.attributes[t.objectIdField];null!=r&&n.push(r),i.set(t,n)}const n=[];i.forEach((t,i)=>{const r=e.allLayerViews.find(t=>t.layer.id===i.id);if("queryFeatures"in r){const e=i.createQuery();e.objectIds=t,e.returnGeometry=!0,n.push(r.queryFeatures(e))}});const r=await Promise.all(n),o=[];for(const t of r)if(t&&t.features&&t.features.length)for(const e of t.features)Object(s["l"])(e.geometry)&&o.push(e.geometry);a=o}for(const t of a)n=await I(t,e,i,n);return n}if(Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1])o=new f["a"](t);else if(t instanceof p["a"])o=t;else if("geometry"in t)if(t.geometry)o=t.geometry;else if(t.layer){const i=t.layer,n=e.allLayerViews.find(t=>t.layer.id===i.id);if("queryFeatures"in n){const e=i.createQuery();e.objectIds=[t.attributes[i.objectIdField]],e.returnGeometry=!0;const r=await n.queryFeatures(e);o=Object(s["j"])(r,"features",0,"geometry")}}if(Object(s["k"])(o))return null;if(a="point"===o.type?new d["a"]({xmin:o.x,ymin:o.y,xmax:o.x,ymax:o.y,spatialReference:o.spatialReference}):o.extent,!a)return null;const c=Object(g["d"])(a,i);return Object(s["k"])(c)?null:n=n?n.union(c):c}function T(t){if(t&&(!Array.isArray(t)||"number"!=typeof t[0])&&("object"==typeof t||Array.isArray(t)&&"object"==typeof t[0])){if("layer"in t&&t.layer&&t.layer.minScale&&t.layer.maxScale){const e=t.layer;return{min:e.minScale,max:e.maxScale}}if(Array.isArray(t)&&t.length&&t.every(t=>"layer"in t)){let e=0,i=0;for(const n of t){const t=n.layer;t&&t.minScale&&t.maxScale&&(e=t.minScale<e?t.minScale:e,i=t.maxScale>i?t.maxScale:i)}return e&&i?{min:e,max:i}:null}}}async function E(t,e){if(!t||!e)return new n["a"]({targetGeometry:new f["a"],scale:0,rotation:0});let i=e.spatialReference;const{constraints:r,padding:o,viewpoint:a,size:c}=e,l=[o?c[0]-o.left-o.right:c[0],o?c[1]-o.top-o.bottom:c[1]];let u=null;t instanceof n["a"]?u=t:t.viewpoint?u=t.viewpoint:t.target&&"esri.Viewpoint"===t.target.declaredClass&&(u=t.target);let p=null;u&&u.targetGeometry?p=u.targetGeometry:t instanceof d["a"]?p=t:(t||t&&("center"in t||"extent"in t||"target"in t))&&(p=await I(t.center,e,i)||await I(t.extent,e,i)||await I(t.target,e,i)||await I(t,e,i)),!p&&a&&a.targetGeometry?p=a.targetGeometry:!p&&e.extent&&(p=e.extent);const b=x(p);if(i||(i=x(e.spatialReference||e.extent||p)),!Object(g["a"])(p,i)&&b&&!b.equals(i))return null;const y=S(Object(h["a"])(),p.center?p.center:p),m=new f["a"](_(y,y,b,i),i);let v=null;if(u&&Object(s["l"])(u.targetGeometry)&&"point"===u.targetGeometry.type)v=u.scale;else if(t.hasOwnProperty("scale")&&t.scale)v=t.scale;else if(t.hasOwnProperty("zoom")&&-1!==t.zoom&&r&&r.effectiveLODs)v=r.zoomToScale(t.zoom);else if(Array.isArray(p)||"point"===p.type||"extent"===p.type&&0===p.width&&0===p.height){const t=Object(g["d"])(e.extent,i);v=Object(s["l"])(t)?k(t,l):e.extent?k(e.extent,l):a.scale}else v=Object(g["a"])(p.extent,i)?k(Object(g["d"])(p.extent,i),l):k(p.extent,l);const w=T(t);w&&(w.min&&w.min>v?v=w.min:w.max&&w.max<v&&(v=w.max));let O=0;u?O=u.rotation:t.hasOwnProperty("rotation")?O=t.rotation:a&&(O=a.rotation);let j=new n["a"]({targetGeometry:m,scale:v,rotation:O});return r&&(j=r.fit(j),r.constrainByGeometry(j),r.rotationEnabled||(j.rotation=O)),j}function A(t,e){const i=t.targetGeometry,n=e.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function C(t,e,i){return i?Object(u["s"])(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):Object(u["g"])(t,e,.5)}const P=function(){const t=Object(h["a"])();return function(e,i,n){const r=i.targetGeometry;S(t,r);const s=.5*D(i);return e.xmin=t[0]-s*n[0],e.ymin=t[1]-s*n[1],e.xmax=t[0]+s*n[0],e.ymax=t[1]+s*n[1],e.spatialReference=r.spatialReference,e}}();function R(t,e,i,n,r){return X(t,e,i.center),t.scale=k(i,n),r&&r.constraints&&r.constraints.constrain(t),t}function L(t,e,i,n){return B(t,e,i,n),Object(c["a"])(t,t)}const N=function(){const t=Object(h["a"])();return function(e,i,n){return Object(u["h"])(e,G(e,i),C(t,i,n))}}(),F=function(){const t=Object(l["b"])(),e=Object(h["a"])();return function(i,n,r,s){const o=D(n),a=V(n);return Object(u["s"])(e,o,o),Object(c["c"])(t,e),Object(c["f"])(t,t,a),Object(c["h"])(t,t,N(e,r,s)),Object(c["h"])(t,t,[0,s.top-s.bottom]),Object(u["s"])(i,t[4],t[5])}}();function D(t){return t.scale*z(t.targetGeometry)}function z(t){return Object(s["l"])(t)&&Object(m["l"])(t.spatialReference)?1/(M(t.spatialReference)*v*U()):1}function V(t){return Object(a["d"])(t.rotation)||0}function $(t){return Object(m["l"])(t)?M(t)*v*U():1}function G(t,e){return Object(u["g"])(t,e,.5)}function U(){return 96}const q=function(){const t=Object(h["a"])(),e=Object(h["a"])(),i=Object(h["a"])();return function(n,r,s,o,a,l){return Object(u["n"])(t,r),Object(u["g"])(e,s,.5*l),Object(u["s"])(i,1/o*l,-1/o*l),Object(c["d"])(n),Object(c["h"])(n,n,e),a&&Object(c["f"])(n,n,a),Object(c["g"])(n,n,i),Object(c["h"])(n,n,t),n}}(),B=function(){const t=Object(h["a"])();return function(e,i,n,r){const s=D(i),o=V(i);return S(t,i.targetGeometry),q(e,t,n,s,o,r)}}(),H=function(){const t=Object(h["a"])();return function(e,i,n,r){const s=D(i);return S(t,i.targetGeometry),q(e,t,n,s,0,r)}}();function W(t){if(t.isWrappable){const e=Object(m["e"])(t);return e.valid[1]-e.valid[0]}return 0}function J(t,e){return Math.round(W(t)/e)}function K(t,e){return E(t,e)}const Y=function(){const t=Object(h["a"])(),e=Object(h["a"])(),i=[0,0,0];return function(n,r,s){Object(u["f"])(t,n,r),Object(u["i"])(t,t),Object(u["f"])(e,n,s),Object(u["i"])(e,e),Object(u["j"])(i,t,e);let o=Math.acos(Object(u["k"])(t,e)/(Object(u["l"])(t)*Object(u["l"])(e)))*w;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),Z=function(){const t=Object(h["a"])();return function(e,i,n,r){const s=e.targetGeometry;return A(e,i),F(t,i,n,r),s.x+=t[0],s.y+=t[1],e}}(),X=(function(){const t=Object(h["a"])()}(),function(){const t=Object(h["a"])();return function(e,i,n){A(e,i);const r=e.targetGeometry,s=x(n),o=x(r);return S(t,n),_(t,t,s,o),r.x=t[0],r.y=t[1],e}}());const Q=function(){const t=Object(h["a"])();return function(e,i,n,r,s){s||(s="center"),Object(u["h"])(t,n,r),Object(u["g"])(t,t,.5);const o=t[0],a=t[1];switch(s){case"center":Object(u["s"])(t,0,0);break;case"left":Object(u["s"])(t,-o,0);break;case"top":Object(u["s"])(t,0,a);break;case"right":Object(u["s"])(t,o,0);break;case"bottom":Object(u["s"])(t,0,-a);break;case"top-left":Object(u["s"])(t,-o,a);break;case"bottom-left":Object(u["s"])(t,-o,-a);break;case"top-right":Object(u["s"])(t,o,a);break;case"bottom-right":Object(u["s"])(t,o,-a)}return ct(e,i,t),e}}();function tt(t,e,i){return A(t,e),t.rotation+=i,t}function et(t,e,i){return A(t,e),t.rotation=i,t}const it=function(){const t=Object(h["a"])();return function(e,i,n,r,s){return A(e,i),isNaN(n)||0===n||(ot(t,r,i,s),e.scale=i.scale*n,at(t,t,e,s),ct(e,e,Object(u["s"])(t,t[0]-r[0],r[1]-t[1]))),e}}();function nt(t,e,i){return A(t,e),t.scale=i,t}const rt=function(){const t=Object(h["a"])();return function(e,i,n,r,s,o){return A(e,i),isNaN(n)||0===n||(ot(t,s,i,o),e.scale=i.scale*n,e.rotation+=r,at(t,t,e,o),ct(e,e,Object(u["s"])(t,t[0]-s[0],s[1]-t[1]))),e}}(),st=function(){const t=Object(h["a"])(),e=Object(h["a"])();return function(i,n,r,s,o,a,c){return N(e,a,c),Object(u["m"])(t,o,e),s?rt(i,n,r,s,t,a):it(i,n,r,t,a)}}(),ot=function(){const t=Object(l["b"])();return function(e,i,n,r){return Object(u["t"])(e,i,L(t,n,r,1))}}(),at=function(){const t=Object(l["b"])();return function(e,i,n,r){return Object(u["t"])(e,i,B(t,n,r,1))}}(),ct=function(){const t=Object(h["a"])(),e=Object(l["b"])();return function(i,n,r){A(i,n);const s=D(n),o=i.targetGeometry;return Object(c["b"])(e,V(n)),Object(c["g"])(e,e,Object(h["e"])(s,s)),Object(u["t"])(t,r,e),o.x+=t[0],o.y+=t[1],i}}()},a9ab:function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"b",(function(){return g})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return f})),i.d(e,"h",(function(){return p}));var n=i("b2b2"),r=i("3af1"),s=i("3760"),o=i("57dc"),a=i("4ae5"),c=i("1219"),l=i("521c");function u(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function h(t){return void 0!==t.points}function d(t){return void 0!==t.x&&void 0!==t.y}function p(t){return void 0!==t.paths}function f(t){return void 0!==t.rings}function b(t){return Object(n["k"])(t)?null:t instanceof s["a"]?t:d(t)?a["a"].fromJSON(t):p(t)?l["a"].fromJSON(t):f(t)?c["a"].fromJSON(t):h(t)?o["a"].fromJSON(t):u(t)?r["a"].fromJSON(t):null}function y(t){return t?d(t)?"esriGeometryPoint":p(t)?"esriGeometryPolyline":f(t)?"esriGeometryPolygon":u(t)?"esriGeometryEnvelope":h(t)?"esriGeometryMultipoint":null:null}const m={esriGeometryPoint:a["a"],esriGeometryPolyline:l["a"],esriGeometryPolygon:c["a"],esriGeometryEnvelope:r["a"],esriGeometryMultipoint:o["a"]};function g(t){return t&&m[t]||null}},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),s=i("e330"),o=i("94ca"),a=i("6eeb"),c=i("1a2d"),l=i("7156"),u=i("3a9b"),h=i("d9b5"),d=i("c04e"),p=i("d039"),f=i("241c").f,b=i("06cf").f,y=i("9bf2").f,m=i("408a"),g=i("58a8").trim,v="Number",w=r[v],O=w.prototype,j=r.TypeError,_=s("".slice),x=s("".charCodeAt),S=function(t){var e=d(t,"number");return"bigint"==typeof e?e:M(e)},M=function(t){var e,i,n,r,s,o,a,c,l=d(t,"number");if(h(l))throw j("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=g(l),e=x(l,0),43===e||45===e){if(i=x(l,2),88===i||120===i)return NaN}else if(48===e){switch(x(l,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(s=_(l,2),o=s.length,a=0;a<o;a++)if(c=x(s,a),c<48||c>r)return NaN;return parseInt(s,n)}return+l};if(o(v,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,I=function(t){var e=arguments.length<1?0:w(S(t)),i=this;return u(O,i)&&p((function(){m(i)}))?l(Object(e),i,I):e},T=n?f(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;T.length>E;E++)c(w,k=T[E])&&!c(I,k)&&y(I,k,b(w,k));I.prototype=O,O.constructor=I,a(r,v,I)}},a9e6:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let e=0;e<this.length();e++)t.push(this.get(e));return t}}},ab68:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}));var n=i("dff3");const r={type:n["a"],json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:s}}}}};function s(t,e,i,r){if(!t)return null;const{minScale:s,maxScale:o,minLOD:a,maxLOD:c}=e;if(null!=a&&null!=c)return r&&r.ignoreMinMaxLOD?n["a"].fromJSON(t):n["a"].fromJSON({...t,lods:t.lods.filter(({level:t})=>null!=t&&t>=a&&t<=c)});if(0!==s&&0!==o){const e=t=>Math.round(1e4*t)/1e4,i=s?e(s):1/0,r=o?e(o):-1/0;return n["a"].fromJSON({...t,lods:t.lods.filter(t=>{const n=e(t.scale);return n<=i&&n>=r})})}return n["a"].fromJSON(t)}},ab6e:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0")),a=i("d386"),c=i("a9ab");let l=class extends r["a"]{constructor(t){super(t),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};Object(n["a"])([Object(s["b"])({type:Number,json:{write:!0}})],l.prototype,"bevelRatio",void 0),Object(n["a"])([Object(s["b"])({json:{read:{reader:t=>t?t.map(t=>Object(c["a"])(t)):null},write:{writer:(t,e)=>{e.geometries=t.map(t=>t.toJSON())}}}})],l.prototype,"geometries",void 0),Object(n["a"])([Object(s["b"])({type:Number,json:{write:!0}})],l.prototype,"offsetDistance",void 0),Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"offsetHow",void 0),Object(n["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"offsetUnit",void 0),l=Object(n["a"])([Object(a["a"])("esri.rest.support.OffsetParameters")],l),l.from=Object(o["m"])(l);const u=l},ac1f:function(t,e,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ac8e:function(t,e,i){"use strict";i.d(e,"a",(function(){return w})),i.d(e,"b",(function(){return m})),i.d(e,"c",(function(){return P})),i.d(e,"d",(function(){return C})),i.d(e,"e",(function(){return R})),i.d(e,"f",(function(){return b})),i.d(e,"g",(function(){return f})),i.d(e,"h",(function(){return p}));var n=i("9ef0"),r=i("1fd7"),s=i("792b"),o=i("c120"),a=i("b2b2"),c=(i("a915"),i("0b2d")),l=i("d4e6"),u=(i("cdd0"),i("a3af"));const h=/\/resource\/(.*?)\.svg$/,d=new n["a"]("white");function p(t){if(Object(a["k"])(t)||!("symbolLayers"in t)||Object(a["k"])(t.symbolLayers))return!1;switch(t.type){case"point-3d":return t.symbolLayers.some(t=>"object"===t.type);case"line-3d":return t.symbolLayers.some(t=>"path"===t.type);case"polygon-3d":return t.symbolLayers.some(t=>"object"===t.type||"extrude"===t.type);default:return!1}}function f(t,e){const i=e.resource.href;return!Object(o["a"])("esri-canvas-svg-support")&&t.styleOrigin&&h.test(i)?i.replace(h,"/resource/png/$1.png"):i}function b(t,e){if(!t)return null;let i=null;return Object(r["c"])(t)?i=y(t):Object(r["b"])(t)&&(i=t.color?new n["a"](t.color):null),i?m(i,e):null}function y(t){const e=t.symbolLayers;if(!e)return null;let i=null;return e.forEach(t=>{"object"===t.type&&null!=t.resource.href||(i="water"===t.type?Object(a["t"])(t.color):Object(a["l"])(t.material)?Object(a["t"])(t.material.color):null)}),i?new n["a"](i):null}function m(t,e){if(null==e)return t;const i=t.toRgba();return i[3]=i[3]*e,new n["a"](i)}function g(t,e,i){const n=t.symbolLayers;if(!n)return;const r=t=>{const n=Object(a["l"])(t)?t:null;return m(e=e||n||null!=i&&d,i)};n.forEach(t=>{if("object"!==t.type||null==t.resource.href||e)if("water"===t.type)t.color=r(t.color);else{const e=Object(a["l"])(t.material)?t.material.color:null,n=r(e);Object(a["k"])(t.material)?t.material=new u["b"]({color:n}):t.material.color=n,null!=i&&"outline"in t&&Object(a["l"])(t.outline)&&Object(a["l"])(t.outline.color)&&(t.outline.color=m(t.outline.color,i))}})}function v(t,e,i){(e=e||t.color)&&(t.color=m(e,i)),null!=i&&"outline"in t&&t.outline&&t.outline.color&&(t.outline.color=m(t.outline.color,i))}function w(t,e,i){t&&(e||null!=i)&&(e&&(e=new n["a"](e)),Object(r["c"])(t)?g(t,e,i):Object(r["b"])(t)&&v(t,e,i))}async function O(t,e){const i=t.symbolLayers;i&&await Object(s["a"])(i,async t=>j(t,e))}async function j(t,e){switch(t.type){case"extrude":S(t,e);break;case"icon":case"line":case"text":_(t,e);break;case"path":k(t,e);break;case"object":await M(t,e)}}function _(t,e){const i=x(e);Object(a["l"])(i)&&(t.size=i)}function x(t){for(const e of t)if("number"==typeof e)return e;return null}function S(t,e){t.size="number"==typeof e[2]?e[2]:0}async function M(t,e){const{resourceSize:i,symbolSize:n}=await T(t),r=I(e,i,n);t.width=E(e[0],n[0],i[0],r),t.depth=E(e[1],n[1],i[1],r),t.height=E(e[2],n[2],i[2],r)}function k(t,e){const i=I(e,c["a"],[t.width,void 0,t.height]);t.width=E(e[0],t.width,1,i),t.height=E(e[2],t.height,1,i)}function I(t,e,i){for(let n=0;n<3;n++){const r=t[n];switch(r){case"symbol-value":return null!=i[n]?i[n]/e[n]:1;case"proportional":break;default:if(r&&e[n])return r/e[n]}}return 1}async function T(t){const e=await i.e("chunk-2d0a2dc5").then(i.bind(null,"005d")),n=await e.computeObjectLayerResourceSize(t,10),{width:r,height:s,depth:o}=t,a=[r,o,s];let c=1;for(let i=0;i<3;i++)if(null!=a[i]){c=a[i]/n[i];break}for(let i=0;i<3;i++)null==a[i]&&(a[i]=n[i]*c);return{resourceSize:n,symbolSize:a}}function E(t,e,i,n){switch(t){case"proportional":return i*n;case"symbol-value":return null!=e?e:i;default:return t}}function A(t,e){const i=x(e);if(!Object(a["k"])(i))switch(t.type){case"simple-marker":t.size=i;break;case"picture-marker":{const e=t.width/t.height;e>1?(t.width=i,t.height=i*e):(t.width=i*e,t.height=i);break}case"simple-line":t.width=i;break;case"text":t.font.size=i}}async function C(t,e){if(t&&e)return Object(r["c"])(t)?O(t,e):void(Object(r["b"])(t)&&A(t,e))}function P(t,e,i){if(t&&null!=e)if(Object(r["c"])(t)){const n=t.symbolLayers;n&&n.forEach(t=>{if(t&&"object"===t.type)switch(i){case"tilt":t.tilt=e;break;case"roll":t.roll=e;break;default:t.heading=e}})}else Object(r["b"])(t)&&("simple-marker"!==t.type&&"picture-marker"!==t.type&&"text"!==t.type||(t.angle=e))}function R(t){if(!t)return null;const e=t.effects.filter(t=>"bloom"!==t.type).map(t=>t.toJSON());return Object(l["a"])(e)}},ac91:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("2eab"),r=i("cea0"),s=i("a9ab"),o=i("bb72"),a=i("a571"),c=i("7e6b");const l=Object(r["m"])(c["a"]);async function u(t,e,i){e=l(e);const r=Object(o["c"])(t),c={...r.query,f:"json",...e.toJSON()},u=e.outSpatialReference,h=Object(s["c"])(e.geometries[0]),d=Object(o["a"])(c,i);return Object(n["default"])(r.path+"/project",d).then(({data:{geometries:t}})=>Object(a["a"])(t,h,u))}},ace4:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("fa8a"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));const c=new r["a"]({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let l=class extends s["a"]{constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};Object(n["a"])([Object(o["b"])({json:{write:!0}})],l.prototype,"name",void 0),Object(n["a"])([Object(o["b"])({json:{write:!0}})],l.prototype,"description",void 0),Object(n["a"])([Object(o["b"])({json:{read:c.read,write:c.write}})],l.prototype,"drawingTool",void 0),Object(n["a"])([Object(o["b"])({json:{write:!0}})],l.prototype,"prototype",void 0),Object(n["a"])([Object(o["b"])({json:{write:!0}})],l.prototype,"thumbnail",void 0),l=Object(n["a"])([Object(a["a"])("esri.layers.support.FeatureTemplate")],l);const u=l},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},addb:function(t,e,i){var n=i("4dae"),r=Math.floor,s=function(t,e){var i=t.length,c=r(i/2);return i<8?o(t,e):a(t,s(n(t,0,c),e),s(n(t,c),e),e)},o=function(t,e){var i,n,r=t.length,s=1;while(s<r){n=s,i=t[s];while(n&&e(t[n-1],i)>0)t[n]=t[--n];n!==s++&&(t[n]=i)}return t},a=function(t,e,i,n){var r=e.length,s=i.length,o=0,a=0;while(o<r||a<s)t[o+a]=o<r&&a<s?n(e[o],i[a])<=0?e[o++]:i[a++]:o<r?e[o++]:i[a++];return t};t.exports=s},ae0b:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t){this._array=[],t<=0&&console.error("strideInBytes must be positive!"),this._stride=t}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(t,e){return 65535&t|e<<16}static i8888to32(t,e,i,n){return 255&t|(255&e)<<8|(255&i)<<16|n<<24}static i8816to32(t,e,i){return 255&t|(255&e)<<8|i<<16}}},ae54:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("ecd7");class r{constructor(t,e,i,n){this.set(t,e,i,n)}static getId(t,e,i,n){return"object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${e}/${i}/${n}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,e=4095&this.col,i=63&this.level;return(3&this.world)<<30|e<<22|t<<8|i}acquire(t,e,i,n){this.set(t,e,i,n)}contains(t){const e=t.level-this.level;return this.row===t.row>>e&&this.col===t.col>>e&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new r(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,e,i,n){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){const[e,i,n,r]=t.split("/");this.level=parseFloat(e),this.row=parseFloat(i),this.col=parseFloat(n),this.world=parseFloat(r)}else this.level=+t,this.row=+e,this.col=+i,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new r(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,e=this.row<<1,i=this.col<<1,n=this.world;return[new r(t,e,i,n),new r(t,e,i+1,n),new r(t,e+1,i,n),new r(t,e+1,i+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}r.pool=new n["a"](r,null,null,25,50)},ae93:function(t,e,i){"use strict";var n,r,s,o=i("d039"),a=i("1626"),c=i("7c73"),l=i("e163"),u=i("6eeb"),h=i("b622"),d=i("c430"),p=h("iterator"),f=!1;[].keys&&(s=[].keys(),"next"in s?(r=l(l(s)),r!==Object.prototype&&(n=r)):f=!0);var b=void 0==n||o((function(){var t={};return n[p].call(t)!==t}));b?n={}:d&&(n=c(n)),a(n[p])||u(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},aefa:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a}));var n=i("b2b2"),r=i("8a44");const s=-3;class o{constructor(t,e,i){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,e,i,n=0){this._storage.put(this._namespace+t,e,i,n)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,i){this._storage.updateSize(this._namespace+t,e,i)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class a{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r["a"],this._users=new r["a"]}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(e=>e[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,i,n){const r=this._db.get(t);if(r&&(this._size-=r.size,this._db.delete(t),r.entry!==e&&this._notifyRemove(t,r.entry,0)),i>this._maxSize)return void this._notifyRemove(t,e,0);if(void 0===e)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const o=1+Math.max(n,s)-s;this._db.set(t,{entry:e,size:i,lifetime:o,lives:o}),this._size+=i,this._checkSizeLimit()}updateSize(t,e,i){const r=this._db.get(t);if(r&&r.entry===e){for(this._size-=r.size;i>this._maxSize;){const r=this._notifyRemove(t,e,1);if(!(Object(n["l"])(r)&&r>0))return void this._db.delete(t);i=r}r.size=i,this._size+=i,this._checkSizeLimit()}}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},i=new Array;this._db.forEach((t,n)=>{const r=t.lifetime;i[r]=(i[r]||0)+t.size,this._users.forAll(i=>{const r=i.namespace;if(n.startsWith(r)){const i=e[r]||0;e[r]=i+t.size}})});const n={};this._users.forAll(t=>{const i=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const r=e[i]||0;e[i]=r,n[i]=Math.round(100*t.hitRate)+"%"}else n[i]="0%"});const r=Object.keys(e);r.sort((t,i)=>e[i]-e[t]),r.forEach(i=>t[i]=Math.round(e[i]/2**20)+"MB / "+n[i]);for(let o=i.length-1;o>=0;--o){const e=i[o];e&&(t["Priority "+(o+s-1)]=Math.round(e/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((e,i)=>{i.startsWith(t)&&(this._size-=e.size,this._db.delete(i),this._notifyRemove(i,e.entry,0))})}clearAll(){this._db.forEach((t,e)=>this._notifyRemove(e,t.entry,0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,i){let n;return this._removeFuncs.some(r=>{if(t.startsWith(r[0])){const t=r[1](e,i);return"number"==typeof t&&(n=t),!0}return!1}),n}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db){if(this._db.delete(t),e.lives<=1){this._size-=e.size;const i=this._notifyRemove(t,e.entry,1);Object(n["l"])(i)&&i>0&&(this._size+=i,e.lives=e.lifetime,e.size=i,this._db.set(t,e))}else--e.lives,this._db.set(t,e);if(this._size<=.9*this.maxSize)return}}}},af3d:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return h}));i("c120");var n=i("0b2d"),r=i("4261");function s(t,{isPrimitive:e,width:i,depth:r,height:s}){const o=e?10:1;if(null==i&&null==s&&null==r)return[o*t[0],o*t[1],o*t[2]];const a=Object(n["h"])(i,r,s);let c;for(let n=0;n<3;n++){const e=a[n];if(null!=e){c=e/t[n];break}}for(let n=0;n<3;n++)null==a[n]&&(a[n]=t[n]*c);return a}const o=Object(r["p"])(-.5,-.5,-.5,.5,.5,.5),a=Object(r["p"])(-.5,-.5,0,.5,.5,1),c=Object(r["p"])(-.5,-.5,0,.5,.5,.5);function l(t){switch(t){case"sphere":case"cube":case"diamond":return o;case"cylinder":case"cone":case"inverted-cone":return a;case"tetrahedron":return c;default:return}}const u=["butt","square","round"],h=[...u,"none"],d=["miter","bevel","round"]},af40:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("fc29"),s=i("2c4f"),o=i("b2b2"),a=i("59b2"),c=i("d386");let l=class extends r["a"]{constructor(t){super(t),this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(e=>{t+=e.length}),t}add(t,e){if(!this._isHandle(t)&&!Array.isArray(t)&&!s["a"].isCollection(t))return this;const i=this._getOrCreateGroup(e);return Array.isArray(t)||s["a"].isCollection(t)?t.forEach(t=>this._isHandle(t)&&i.push(t)):i.push(t),this.notifyChange("size"),this}forEach(t,e){if("function"==typeof t)this._groups.forEach(e=>e.forEach(t));else{const i=this._getGroup(t);i&&e&&i.forEach(e)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(Array.isArray(t)||s["a"].isCollection(t))return t.forEach(this.remove,this),this;if(!this.has(t))return this;const e=this._getGroup(t);for(let i=0;i<e.length;i++)e[i].remove();return this._deleteGroup(t),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(t=>{for(let e=0;e<t.length;e++)t[e].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(t){return t&&!!t.remove}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(this._ensureGroupKey(t),e),e}_getGroup(t){return Object(o["d"])(this._groups.get(this._ensureGroupKey(t)))}_deleteGroup(t){return this._groups.delete(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}};Object(n["a"])([Object(a["b"])({readOnly:!0})],l.prototype,"size",null),l=Object(n["a"])([Object(c["a"])("esri.core.Handles")],l);const u=l},afcf:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("59b2");function r(t,e,i){let r,s;return void 0===e||Array.isArray(e)?(s=t,i=e,r=[void 0]):(s=e,r=Array.isArray(t)?t:[t]),(t,e)=>{const o=t.constructor.prototype;r.forEach(r=>{const a=Object(n["c"])(t,r,s);a.read&&"object"==typeof a.read||(a.read={}),a.read.reader=o[e],i&&(a.read.source=(a.read.source||[]).concat(i))})}}},b039:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return jt}));var n=i("a4ee"),r=i("2eab"),s=i("2c4f"),o=i("ce50"),a=i("af40"),c=i("7ffa"),l=i("e694"),u=i("9d1d"),h=i("f4cc"),d=i("e041"),p=i("59b2"),f=(i("cea0"),i("afcf")),b=i("d386"),y=i("09db"),m=i("3af1"),g=i("a6a3"),v=i("9dc3"),w=i("997b"),O=i("b911"),j=i("0db5"),_=i("8e17"),x=i("5a62"),S=i("dff3");class M{constructor(t,e=0,i=t.lods.length-1){this.tileInfo=t,this.minLOD=e,this.maxLOD=i}getAvailability(t,e,i){const n=this.tileInfo.lodAt(t);return!n||t<this.minLOD||t>this.maxLOD?"unavailable":n.cols&&n.rows?i>=n.cols[0]&&i<=n.cols[1]&&e>=n.rows[0]&&e<=n.rows[1]?"available":"unavailable":"available"}async fetchAvailability(t,e,i,n){return await Object(h["w"])(n),this.getAvailability(t,e,i)}async fetchAvailabilityUpsample(t,e,i,n,r){await Object(h["w"])(r),n.level=t,n.row=e,n.col=i;const s=this.tileInfo;for(s.updateTileInfo(n);;){const t=this.getAvailability(n.level,n.row,n.col);if("unavailable"!==t)return t;if(!s.upsampleTile(n))return"unavailable"}}}var k,I=i("3981"),T=i("6a0e");i("b50f"),i("c120");let E=k=class extends T["a"]{constructor(t){super(t),this.fullExtent=null,this.id=null,this.tileInfo=null}clone(){const t=new k;return this.hasOwnProperty("fullExtent")&&(t.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty("id")&&(t.id=this.id),this.hasOwnProperty("tileInfo")&&(t.tileInfo=this.tileInfo&&this.tileInfo.clone()),t}};Object(n["a"])([Object(p["b"])({type:m["a"],json:{read:{source:"fullExtent"}}})],E.prototype,"fullExtent",void 0),Object(n["a"])([Object(p["b"])({type:String,json:{read:{source:"id"}}})],E.prototype,"id",void 0),Object(n["a"])([Object(p["b"])({type:S["a"],json:{read:{source:"tileInfo"}}})],E.prototype,"tileInfo",void 0),E=k=Object(n["a"])([Object(b["a"])("esri.layer.support.TileMatrixSet")],E);const A=E;var C;let P=C=class extends T["a"]{constructor(t){super(t),this.id=null,this.title=null,this.description=null,this.legendUrl=null}clone(){const t=new C;return this.hasOwnProperty("description")&&(t.description=this.description),this.hasOwnProperty("id")&&(t.id=this.id),this.hasOwnProperty("isDefault")&&(t.isDefault=this.isDefault),this.hasOwnProperty("keywords")&&(t.keywords=this.keywords&&this.keywords.slice()),this.hasOwnProperty("legendUrl")&&(t.legendUrl=this.legendUrl),this.hasOwnProperty("title")&&(t.title=this.title),t}};Object(n["a"])([Object(p["b"])({json:{read:{source:"id"}}})],P.prototype,"id",void 0),Object(n["a"])([Object(p["b"])({json:{read:{source:"title"}}})],P.prototype,"title",void 0),Object(n["a"])([Object(p["b"])({json:{read:{source:"abstract"}}})],P.prototype,"description",void 0),Object(n["a"])([Object(p["b"])({json:{read:{source:"legendUrl"}}})],P.prototype,"legendUrl",void 0),Object(n["a"])([Object(p["b"])({json:{read:{source:"isDefault"}}})],P.prototype,"isDefault",void 0),Object(n["a"])([Object(p["b"])({json:{read:{source:"keywords"}}})],P.prototype,"keywords",void 0),P=C=Object(n["a"])([Object(b["a"])("esri.layer.support.WMTSStyle")],P);const R=P;var L;let N=L=class extends T["a"]{constructor(t){super(t),this.fullExtent=null,this.fullExtents=null,this.imageFormats=null,this.id=null,this.layer=null,this.styles=null,this.tileMatrixSetId=null,this.tileMatrixSets=null}get description(){return this._get("description")}set description(t){this._set("description",t)}readFullExtent(t,e){return(t=e.fullExtent)?m["a"].fromJSON(t):null}readFullExtents(t,e){var i;return null!=(i=e.fullExtents)&&i.length?e.fullExtents.map(t=>m["a"].fromJSON(t)):e.tileMatrixSets.map(t=>m["a"].fromJSON(t.fullExtent)).filter(t=>t)}get imageFormat(){let t=this._get("imageFormat");return t||(t=this.imageFormats&&this.imageFormats.length?this.imageFormats[0]:""),t}set imageFormat(t){const e=this.imageFormats;t&&(t.indexOf("image/")>-1||e&&-1===e.indexOf(t))&&(-1===t.indexOf("image/")&&(t="image/"+t),e&&-1===e.indexOf(t))?console.error("The layer doesn't support the format of "+t):this._set("imageFormat",t)}get styleId(){let t=this._get("styleId");return t||(t=this.styles&&this.styles.length?this.styles.getItemAt(0).id:""),t}set styleId(t){this._set("styleId",t)}get title(){return this._get("title")}set title(t){this._set("title",t)}get tileMatrixSet(){return this.tileMatrixSets?this.tileMatrixSets.find(t=>t.id===this.tileMatrixSetId):null}clone(){const t=new L;return this.hasOwnProperty("description")&&(t.description=this.description),this.hasOwnProperty("imageFormats")&&(t.imageFormats=this.imageFormats&&this.imageFormats.slice()),this.hasOwnProperty("imageFormat")&&(t.imageFormat=this.imageFormat),this.hasOwnProperty("fullExtent")&&(t.fullExtent=this.fullExtent&&this.fullExtent.clone()),this.hasOwnProperty("id")&&(t.id=this.id),this.hasOwnProperty("layer")&&(t.layer=this.layer),this.hasOwnProperty("styleId")&&(t.styleId=this.styleId),this.hasOwnProperty("styles")&&(t.styles=this.styles&&this.styles.clone()),this.hasOwnProperty("tileMatrixSetId")&&(t.tileMatrixSetId=this.tileMatrixSetId),this.hasOwnProperty("tileMatrixSets")&&(t.tileMatrixSets=this.tileMatrixSets.clone()),this.hasOwnProperty("title")&&(t.title=this.title),t}};Object(n["a"])([Object(p["b"])()],N.prototype,"description",null),Object(n["a"])([Object(p["b"])()],N.prototype,"fullExtent",void 0),Object(n["a"])([Object(f["a"])("fullExtent",["fullExtent"])],N.prototype,"readFullExtent",null),Object(n["a"])([Object(p["b"])({readOnly:!0})],N.prototype,"fullExtents",void 0),Object(n["a"])([Object(f["a"])("fullExtents",["fullExtents","tileMatrixSets"])],N.prototype,"readFullExtents",null),Object(n["a"])([Object(p["b"])()],N.prototype,"imageFormat",null),Object(n["a"])([Object(p["b"])({json:{read:{source:"formats"}}})],N.prototype,"imageFormats",void 0),Object(n["a"])([Object(p["b"])()],N.prototype,"id",void 0),Object(n["a"])([Object(p["b"])()],N.prototype,"layer",void 0),Object(n["a"])([Object(p["b"])()],N.prototype,"styleId",null),Object(n["a"])([Object(p["b"])({type:s["a"].ofType(R),json:{read:{source:"styles"}}})],N.prototype,"styles",void 0),Object(n["a"])([Object(p["b"])({value:null,json:{write:{ignoreOrigin:!0}}})],N.prototype,"title",null),Object(n["a"])([Object(p["b"])()],N.prototype,"tileMatrixSetId",void 0),Object(n["a"])([Object(p["b"])({readOnly:!0})],N.prototype,"tileMatrixSet",null),Object(n["a"])([Object(p["b"])({type:s["a"].ofType(A),json:{read:{source:"tileMatrixSets"}}})],N.prototype,"tileMatrixSets",void 0),N=L=Object(n["a"])([Object(b["a"])("esri.layers.support.WMTSSublayer")],N);const F=N;var D=i("b2b2"),z=i("4ae5"),V=i("f694"),$=i("2c81"),G=i("68dc");const U=90.71428571428571,q=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function B(t,e){var i,n;t=t.replace(/ows:/gi,"");const r=(new DOMParser).parseFromString(t,"text/xml").documentElement,s=new Map,a=new Map,c=J("Contents",r);if(!c)throw new o["a"]("wmtslayer:wmts-capabilities-xml-is-not-valid");const l=J("OperationsMetadata",r),u=null==l?void 0:l.querySelector("[name='GetTile']"),h=null==u?void 0:u.getElementsByTagName("Get"),d=h&&Array.prototype.slice.call(h),p=null!=(i=(null==e||null==(n=e.url)?void 0:n.indexOf("https"))>-1)&&i;let f,b,y=e.serviceMode,m=e&&e.url;if(d&&d.length&&d.some(t=>{const e=J("Constraint",t);return!e||X("AllowedValues","Value",y,e)?(m=t.attributes[0].nodeValue,!0):(!e||X("AllowedValues","Value","RESTful",e)||X("AllowedValues","Value","REST",e)?b=t.attributes[0].nodeValue:e&&!X("AllowedValues","Value","KVP",e)||(f=t.attributes[0].nodeValue),!1)}),!m)if(b)m=b,y="RESTful";else if(f)m=f,y="KVP";else{const t=J("ServiceMetadataURL",r);m=t&&t.getAttribute("xlink:href")}const g=m.indexOf("1.0.0/");-1===g&&"RESTful"===y?m+="/":g>-1&&(m=m.substring(0,g)),"KVP"===y&&(m+=g>-1?"":"?"),p&&(m=m.replace(/^http:/i,"https:"));const v=Z("ServiceIdentification>ServiceTypeVersion",r),w=Z("ServiceIdentification>AccessConstraints",r),O=K("Layer",c),j=K("TileMatrixSet",c),_=O.map(t=>{const e=Z("Identifier",t);return s.set(e,t),Q(e,t,j,p,v)});return{copyright:w,dimensionMap:a,layerMap:s,layers:_,serviceMode:y,tileUrl:m}}function H(t){return t.layers.forEach(t=>{t.tileMatrixSets.forEach(t=>{const e=t.tileInfo;96!==e.dpi&&(e.lods.forEach(i=>{i.scale=96*i.scale/e.dpi,i.resolution=mt(e.spatialReference.wkid,i.scale*U/96,t.id)}),e.dpi=96)})}),t}function W(t){return t.nodeType===Node.ELEMENT_NODE}function J(t,e){for(let i=0;i<e.childNodes.length;i++){const n=e.childNodes[i];if(W(n)&&n.nodeName===t)return n}return null}function K(t,e){const i=[];for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];W(r)&&r.nodeName===t&&i.push(r)}return i}function Y(t,e){const i=[];for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];W(r)&&r.nodeName===t&&i.push(r)}return i.map(t=>t.textContent)}function Z(t,e){return t.split(">").forEach(t=>{e&&(e=J(t,e))}),e&&e.textContent}function X(t,e,i,n){let r;return Array.prototype.slice.call(n.childNodes).some(n=>{if(n.nodeName.indexOf(t)>-1){const t=J(e,n),s=t&&t.textContent;if(s===i||i.split(":")&&i.split(":")[1]===s)return r=n,!0}return!1}),r}function Q(t,e,i,n,r){const s=Z("Abstract",e),o=Y("Format",e);return{id:t,fullExtent:rt(e),fullExtents:st(e),description:s,formats:o,styles:ot(e,n),title:Z("Title",e),tileMatrixSets:at(r,e,i)}}function tt(t,e){var i;const n=[],r=null==(i=t.layerMap)?void 0:i.get(e);if(!r)return;const s=K("ResourceURL",r),o=K("Dimension",r);let a,c,l,u;return o.length&&(a=Z("Identifier",o[0]),c=Y("Default",o[0])||Y("Value",o[0])),o.length>1&&(l=Z("Identifier",o[1]),u=Y("Default",o[1])||Y("Value",o[1])),t.dimensionMap.set(e,{dimensions:c,dimensions2:u}),s.forEach(t=>{let e=t.getAttribute("template");if("tile"===t.getAttribute("resourceType")){if(a&&c.length)if(e.indexOf("{"+a+"}")>-1)e=e.replace("{"+a+"}","{dimensionValue}");else{const t=e.toLowerCase().indexOf("{"+a.toLowerCase()+"}");t>-1&&(e=e.substring(0,t)+"{dimensionValue}"+e.substring(t+a.length+2))}if(l&&u.length)if(e.indexOf("{"+l+"}")>-1)e=e.replace("{"+l+"}","{dimensionValue2}");else{const t=e.toLowerCase().indexOf("{"+l.toLowerCase()+"}");t>-1&&(e=e.substring(0,t)+"{dimensionValue2}"+e.substring(t+l.length+2))}n.push({template:e,format:t.getAttribute("format"),resourceType:"tile"})}}),n}function et(t,e,i,n,r,s,o,a){var c,l;const u=it(t,e,n);if(!((null==u?void 0:u.length)>0))return"";const{dimensionMap:h}=t,d=null==(c=h.get(e).dimensions)?void 0:c[0],p=null==(l=h.get(e).dimensions2)?void 0:l[0];return u[o%u.length].template.replace(/\{Style\}/gi,r).replace(/\{TileMatrixSet\}/gi,i).replace(/\{TileMatrix\}/gi,s).replace(/\{TileRow\}/gi,""+o).replace(/\{TileCol\}/gi,""+a).replace(/\{dimensionValue\}/gi,d).replace(/\{dimensionValue2\}/gi,p)}function it(t,e,i){const n=tt(t,e),r=n.filter(t=>t.format===i);return r.length?r:n}function nt(t,e,i,n){const{dimensionMap:r}=t,s=tt(t,e);let o="";if(s&&s.length>0){const t=r.get(e).dimensions&&r.get(e).dimensions[0],a=r.get(e).dimensions2&&r.get(e).dimensions2[0];o=s[0].template,o.indexOf(".xxx")===o.length-4&&(o=o.slice(0,o.length-4)),o=o.replace(/\{Style\}/gi,n),o=o.replace(/\{TileMatrixSet\}/gi,i),o=o.replace(/\{TileMatrix\}/gi,"{level}"),o=o.replace(/\{TileRow\}/gi,"{row}"),o=o.replace(/\{TileCol\}/gi,"{col}"),o=o.replace(/\{dimensionValue\}/gi,t),o=o.replace(/\{dimensionValue2\}/gi,a)}return o}function rt(t){const e=J("WGS84BoundingBox",t),i=e?Z("LowerCorner",e).split(" "):["-180","-90"],n=e?Z("UpperCorner",e).split(" "):["180","90"];return{xmin:parseFloat(i[0]),ymin:parseFloat(i[1]),xmax:parseFloat(n[0]),ymax:parseFloat(n[1]),spatialReference:{wkid:4326}}}function st(t){const e=[];return Object(G["b"])(t,{BoundingBox:t=>{const i=t.getAttribute("crs").toLowerCase(),n=lt(i),r=i.includes("epsg")&&ft(n.wkid);let s,o,a,c;Object(G["b"])(t,{LowerCorner:t=>{[s,o]=t.textContent.split(" ").map(t=>Number.parseFloat(t)),r&&([s,o]=[o,s])},UpperCorner:t=>{[a,c]=t.textContent.split(" ").map(t=>Number.parseFloat(t)),r&&([a,c]=[c,a])}}),e.push({xmin:s,ymin:o,xmax:a,ymax:c,spatialReference:n})}}),e}function ot(t,e){return K("Style",t).map(t=>{const i=J("LegendURL",t),n=J("Keywords",t),r=n&&Y("Keyword",n);let s=i&&i.getAttribute("xlink:href");return e&&(s=s&&s.replace(/^http:/i,"https:")),{abstract:Z("Abstract",t),id:Z("Identifier",t),isDefault:"true"===t.getAttribute("isDefault"),keywords:r,legendUrl:s,title:Z("Title",t)}})}function at(t,e,i){return K("TileMatrixSetLink",e).map(e=>ct(t,e,i))}function ct(t,e,i){const n=J("TileMatrixSet",e).textContent,r=Y("TileMatrix",e),s=i.find(t=>{const e=J("Identifier",t),i=e&&e.textContent;return!!(i===n||n.split(":")&&n.split(":")[1]===i)}),o=J("TileMatrixSetLimits",e),a=o&&K("TileMatrixLimits",o),c=new Map;if(null!=a&&a.length)for(const m of a){const t=J("TileMatrix",m).textContent,e=+J("MinTileRow",m).textContent,i=+J("MaxTileRow",m).textContent,n=+J("MinTileCol",m).textContent,r=+J("MaxTileCol",m).textContent;c.set(t,{minCol:n,maxCol:r,minRow:e,maxRow:i})}const l=Z("SupportedCRS",s).toLowerCase(),u=ut(s,l),h=u.spatialReference,d=J("TileMatrix",s),p=[parseInt(Z("TileWidth",d),10),parseInt(Z("TileHeight",d),10)],f=[];r.length?r.forEach((t,e)=>{const i=X("TileMatrix","Identifier",t,s);f.push(yt(i,l,e,n,c))}):K("TileMatrix",s).forEach((t,e)=>{f.push(yt(t,l,e,n,c))});const b=dt(t,s,u,p,f[0]).toJSON(),y=new S["a"]({dpi:96,spatialReference:h,size:p,origin:u,lods:f}).toJSON();return{id:n,fullExtent:b,tileInfo:y}}function lt(t){t=t.toLowerCase();let e=parseInt(t.split(":").pop(),10);900913!==e&&3857!==e||(e=102100);const i=bt(t);return Object(D["l"])(i)&&(e=i),{wkid:e}}function ut(t,e){return ht(J("TileMatrix",t),e)}function ht(t,e){const i=lt(e),[n,r]=Z("TopLeftCorner",t).split(" ").map(t=>parseFloat(t)),s=e.includes("epsg")&&ft(i.wkid);return new z["a"](s?{x:r,y:n,spatialReference:i}:{x:n,y:r,spatialReference:i})}function dt(t,e,i,n,r){const s=J("BoundingBox",e);let o,a,c,l,u,h;if(s&&(o=Z("LowerCorner",s).split(" "),a=Z("UpperCorner",s).split(" ")),o&&o.length>1&&a&&a.length>1)c=parseFloat(o[0]),u=parseFloat(o[1]),l=parseFloat(a[0]),h=parseFloat(a[1]);else{const t=J("TileMatrix",e),s=parseInt(Z("MatrixWidth",t),10),o=parseInt(Z("MatrixHeight",t),10);c=i.x,h=i.y,l=c+s*n[0]*r.resolution,u=h-o*n[1]*r.resolution}return pt(t,i.spatialReference)?new m["a"](u,c,h,l,i.spatialReference):new m["a"](c,u,l,h,i.spatialReference)}function pt(t,e){return"1.0.0"===t&&ft(e.wkid)}function ft(t){return q.some(([e,i])=>t>=e&&t<=i)}function bt(t){return t.includes("crs84")||t.includes("crs:84")?4326:t.includes("crs83")||t.includes("crs:83")?4269:t.includes("crs27")||t.includes("crs:27")?4267:null}function yt(t,e,i,n,r){var s;const o=lt(e),a=Z("Identifier",t);let c=parseFloat(Z("ScaleDenominator",t));const l=mt(o.wkid,c,n);c*=96/U;const u=+Z("MatrixWidth",t),h=+Z("MatrixHeight",t),{maxCol:d=u-1,maxRow:p=h-1,minCol:f=0,minRow:b=0}=null!=(s=r.get(a))?s:{},{x:y,y:m}=ht(t,e);return{cols:[f,d],level:i,levelValue:a,origin:[y,m],scale:c,resolution:l,rows:[b,p]}}function mt(t,e,i){let n;return n=$["a"].hasOwnProperty(""+t)?$["a"].values[$["a"][t]]:"default028mm"===i?6370997*Math.PI/180:Object(V["f"])(t).metersPerDegree,7*e/25e3/n}const gt={"image/png":".png","image/png8":".png","image/png24":".png","image/png32":".png","image/jpg":".jpg","image/jpeg":".jpeg","image/gif":".gif","image/bmp":".bmp","image/tiff":".tif","image/jpgpng":"","image/jpegpng":"","image/unknown":""},vt=new Set(["version","service","request","layer","style","format","tilematrixset","tilematrix","tilerow","tilecol"]);let wt=class extends(Object(w["a"])(Object(_["a"])(Object(x["a"])(Object(O["a"])(Object(j["a"])(Object(l["a"])(g["a"]))))))){constructor(...t){super(...t),this._sublayersHandles=new a["a"],this.copyright="",this.customParameters=null,this.customLayerParameters=null,this.fullExtent=null,this.operationalLayerType="WebTiledLayer",this.resourceInfo=null,this.serviceMode="RESTful",this.sublayers=null,this.type="wmts",this.version="1.0.0",this.watch("activeLayer",(t,e)=>{e&&(e.layer=null),t&&(t.layer=this)},!0),this.watch("sublayers",(t,e)=>{e&&(e.forEach(t=>{t.layer=null}),this._sublayersHandles.removeAll(),this._sublayersHandles=null),t&&(t.forEach(t=>{t.layer=this}),this._sublayersHandles||(this._sublayersHandles=new a["a"]),this._sublayersHandles.add([t.on("after-add",({item:t})=>{t.layer=this}),t.on("after-remove",({item:t})=>{t.layer=null})]))},!0)}normalizeCtorArgs(t,e){return"string"==typeof t?{url:t,...e}:t}load(t){if("KVP"===this.serviceMode||"RESTful"===this.serviceMode)return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMTS"]},t).catch(h["t"]).then(()=>this._fetchService(t)).catch(t=>{throw Object(h["t"])(t),new o["a"]("wmtslayer:unsupported-service-data","Invalid response from the WMTS service.",{error:t})})),Promise.resolve(this);console.error("WMTS mode could only be 'KVP' or 'RESTful'")}get activeLayer(){return this._get("activeLayer")}set activeLayer(t){this._set("activeLayer",t)}readActiveLayerFromService(t,e,i){this.activeLayer||(this.activeLayer=new F);let n=e.layers.find(t=>t.id===this.activeLayer.id);return n||(n=e.layers[0]),this.activeLayer.read(n,i),this.activeLayer}readActiveLayerFromItemOrWebDoc(t,e){const{templateUrl:i,wmtsInfo:n}=e,r=i?this._getLowerCasedUrlParams(i):null,s=null==n?void 0:n.layerIdentifier;let o=null;const a=null==n?void 0:n.tileMatrixSet;a&&(Array.isArray(a)?a.length&&(o=a[0]):o=a);const c=null==r?void 0:r.format,l=null==r?void 0:r.style;return new F({id:s,imageFormat:c,styleId:l,tileMatrixSetId:o})}writeActiveLayer(t,e,i,n){const r=this.activeLayer;e.templateUrl=this.getUrlTemplate(r.id,r.tileMatrixSetId,r.imageFormat,r.styleId);const s=Object(u["b"])("tileMatrixSet.tileInfo",r);e.tileInfo=s?s.toJSON(n):null,e.wmtsInfo={...e.wmtsInfo,layerIdentifier:r.id,tileMatrixSet:r.tileMatrixSetId}}readCustomParameters(t,e){const i=e.wmtsInfo;return i?this._mergeParams(i.customParameters,i.url):null}get fullExtents(){return this.activeLayer.fullExtents}readServiceMode(t,e){return e.templateUrl.indexOf("?")>-1?"KVP":"RESTful"}readSublayersFromService(t,e,i){return Ot(e.layers,i)}get supportedSpatialReferences(){return this.activeLayer.tileMatrixSets.map(t=>t.tileInfo.spatialReference).toArray()}get tilemapCache(){var t,e;const i=null==(t=this.activeLayer)||null==(e=t.tileMatrixSet)?void 0:e.tileInfo;return new M(i)}get title(){var t,e;return null!=(t=null==(e=this.activeLayer)?void 0:e.title)?t:"Layer"}set title(t){t?this._override("title",t):this._clearOverride("title")}get url(){return this._get("url")}set url(t){t&&"/"===t.substr(-1)?this._set("url",t.slice(0,-1)):this._set("url",t)}createWebTileLayer(t){const e=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId),i=this._getTileMatrixSetById(t.tileMatrixSetId).tileInfo,n=t.fullExtent,r=new I["a"]({layerIdentifier:t.id,tileMatrixSet:t.tileMatrixSetId,url:this.url});return this.customLayerParameters&&(r.customLayerParameters=this.customLayerParameters),this.customParameters&&(r.customParameters=this.customParameters),new v["default"]({fullExtent:n,urlTemplate:e,tileInfo:i,wmtsInfo:r})}fetchTile(t,e,i){const n=this.getTileUrl(t,e,i);return Object(r["default"])(n,{responseType:"image"}).then(t=>t.data)}findSublayerById(t){return this.sublayers.find(e=>e.id===t)}getTileUrl(t,e,i){const n=this._getTileMatrixSetById(this.activeLayer.tileMatrixSetId).tileInfo.lods[t],r=n?n.levelValue?n.levelValue:""+n.level:""+t;let s=this.resourceInfo?"":et({dimensionMap:this.dimensionMap,layerMap:this.layerMap},this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId,r,e,i);return s||(s=this.getUrlTemplate(this.activeLayer.id,this.activeLayer.tileMatrixSetId,this.activeLayer.imageFormat,this.activeLayer.styleId).replace(/\{level\}/gi,r).replace(/\{row\}/gi,""+e).replace(/\{col\}/gi,""+i)),s=this._appendCustomLayerParameters(s),s}getUrlTemplate(t,e,i,n){if(!this.resourceInfo){const i=nt({dimensionMap:this.dimensionMap,layerMap:this.layerMap},t,e,n);if(i)return i}if("KVP"===this.serviceMode)return this.url+"?SERVICE=WMTS&VERSION="+this.version+"&REQUEST=GetTile&LAYER="+t+"&STYLE="+n+"&FORMAT="+i+"&TILEMATRIXSET="+e+"&TILEMATRIX={level}&TILEROW={row}&TILECOL={col}";if("RESTful"===this.serviceMode){let r="";return gt[i.toLowerCase()]&&(r=gt[i.toLowerCase()]),this.url+t+"/"+n+"/"+e+"/{level}/{row}/{col}"+r}return""}async _fetchService(t){let e;if(this.resourceInfo)"KVP"===this.resourceInfo.serviceMode&&(this.url+=this.url.indexOf("?")>-1?"":"?"),e={ssl:!1,data:this.resourceInfo};else try{e=await this._getCapabilities(this.serviceMode,t)}catch{const n="KVP"===this.serviceMode?"RESTful":"KVP";try{e=await this._getCapabilities(n,t),this.serviceMode=n}catch(i){throw new o["a"]("wmtslayer:unsupported-service-data","Services does not support RESTful or KVP service modes.",{error:i})}}this.resourceInfo?e.data=H(e.data):e.data=B(e.data,{serviceMode:this.serviceMode,url:this.url}),e.data&&this.read(e.data,{origin:"service"})}async _getCapabilities(t,e){const i=this._getCapabilitiesUrl(t);return await Object(r["default"])(i,{...e,responseType:"text"})}_getTileMatrixSetById(t){return this.findSublayerById(this.activeLayer.id).tileMatrixSets.find(e=>e.id===t)}_appendCustomParameters(t){return this._appendParameters(t,this.customParameters)}_appendCustomLayerParameters(t){return this._appendParameters(t,{...Object(c["a"])(this.customParameters),...this.customLayerParameters})}_appendParameters(t,e){const i=Object(d["K"])(t),n={...i.query,...e},r=Object(d["E"])(n);return""===r?i.path:`${i.path}?${r}`}_getCapabilitiesUrl(t){let e;return this.url=this.url.split("?")[0],"KVP"===t?e=this.url+"?request=GetCapabilities&service=WMTS&version="+this.version:"RESTful"===t&&(e=this.url+"/"+this.version+"/WMTSCapabilities.xml"),e=this._appendCustomParameters(e),e}_getLowerCasedUrlParams(t){if(!t)return null;const e=Object(d["K"])(t).query;if(!e)return null;const i={};return Object.keys(e).forEach(t=>{i[t.toLowerCase()]=e[t]}),i}_mergeParams(t,e){const i=this._getLowerCasedUrlParams(e);if(i){const e=Object.keys(i);e.length&&(t=t?Object(c["a"])(t):{},e.forEach(e=>{t.hasOwnProperty(e)||vt.has(e)||(t[e]=i[e])}))}return t}};function Ot(t,e){return t.map(t=>{const i=new F;return i.read(t,e),i})}Object(n["a"])([Object(p["b"])()],wt.prototype,"dimensionMap",void 0),Object(n["a"])([Object(p["b"])()],wt.prototype,"layerMap",void 0),Object(n["a"])([Object(p["b"])({type:F,json:{origins:{"web-document":{write:{ignoreOrigin:!0}}}}})],wt.prototype,"activeLayer",null),Object(n["a"])([Object(f["a"])("service","activeLayer",["layers"])],wt.prototype,"readActiveLayerFromService",null),Object(n["a"])([Object(f["a"])(["web-document","portal-item"],"activeLayer",["wmtsInfo"])],wt.prototype,"readActiveLayerFromItemOrWebDoc",null),Object(n["a"])([Object(y["a"])(["web-document","portal-item"],"activeLayer",{templateUrl:{type:String},tileInfo:{type:S["a"]},"wmtsInfo.layerIdentifier":{type:String},"wmtsInfo.tileMatrixSet":{type:String}})],wt.prototype,"writeActiveLayer",null),Object(n["a"])([Object(p["b"])({type:String,value:"",json:{write:!0}})],wt.prototype,"copyright",void 0),Object(n["a"])([Object(p["b"])({type:["show","hide"]})],wt.prototype,"listMode",void 0),Object(n["a"])([Object(p["b"])({json:{origins:{"web-document":{read:{source:["wmtsInfo.customParameters","wmtsInfo.url"]},write:{target:"wmtsInfo.customParameters"}},"portal-item":{read:{source:["wmtsInfo.customParameters","wmtsInfo.url"]},write:{target:"wmtsInfo.customParameters"}}}}})],wt.prototype,"customParameters",void 0),Object(n["a"])([Object(f["a"])(["portal-item","web-document"],"customParameters")],wt.prototype,"readCustomParameters",null),Object(n["a"])([Object(p["b"])({json:{origins:{"web-document":{read:{source:"wmtsInfo.customLayerParameters"},write:{target:"wmtsInfo.customLayerParameters"}},"portal-item":{read:{source:"wmtsInfo.customLayerParameters"},write:{target:"wmtsInfo.customLayerParameters"}}}}})],wt.prototype,"customLayerParameters",void 0),Object(n["a"])([Object(p["b"])({type:m["a"],json:{write:{ignoreOrigin:!0},origins:{"web-document":{read:{source:"fullExtent"}},"portal-item":{read:{source:"fullExtent"}}}}})],wt.prototype,"fullExtent",void 0),Object(n["a"])([Object(p["b"])({readOnly:!0})],wt.prototype,"fullExtents",null),Object(n["a"])([Object(p["b"])({type:["WebTiledLayer"]})],wt.prototype,"operationalLayerType",void 0),Object(n["a"])([Object(p["b"])()],wt.prototype,"resourceInfo",void 0),Object(n["a"])([Object(p["b"])()],wt.prototype,"serviceMode",void 0),Object(n["a"])([Object(f["a"])(["portal-item","web-document"],"serviceMode",["templateUrl"])],wt.prototype,"readServiceMode",null),Object(n["a"])([Object(p["b"])({type:s["a"].ofType(F)})],wt.prototype,"sublayers",void 0),Object(n["a"])([Object(f["a"])("service","sublayers",["layers"])],wt.prototype,"readSublayersFromService",null),Object(n["a"])([Object(p["b"])({readOnly:!0})],wt.prototype,"supportedSpatialReferences",null),Object(n["a"])([Object(p["b"])({readOnly:!0})],wt.prototype,"tilemapCache",null),Object(n["a"])([Object(p["b"])({json:{read:{source:"title"}}})],wt.prototype,"title",null),Object(n["a"])([Object(p["b"])({json:{read:!1},readOnly:!0,value:"wmts"})],wt.prototype,"type",void 0),Object(n["a"])([Object(p["b"])({json:{origins:{service:{read:{source:"tileUrl"}},"web-document":{read:{source:"wmtsInfo.url"},write:{target:"wmtsInfo.url"}},"portal-item":{read:{source:"wmtsInfo.url"},write:{target:"wmtsInfo.url"}}}}})],wt.prototype,"url",null),Object(n["a"])([Object(p["b"])()],wt.prototype,"version",void 0),wt=Object(n["a"])([Object(b["a"])("esri.layers.WMTSLayer")],wt);const jt=wt},b041:function(t,e,i){"use strict";var n=i("00ee"),r=i("f5df");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},b08e:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fa8a");const r=Object(n["b"])()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},b0c0:function(t,e,i){var n=i("83ab"),r=i("5e77").EXISTS,s=i("e330"),o=i("9bf2").f,a=Function.prototype,c=s(a.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=s(l.exec),h="name";n&&!r&&o(a,h,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},b0e3:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("e041"),r=i("fcf2");function s(t,e,i){return e.imageData?Object(n["B"])({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):o(e.url,i)}function o(t,e){return u(e)&&!Object(n["s"])(t)&&e.layer.parsedUrl?Object(n["z"])(e.layer.parsedUrl.path,"images",t):Object(r["a"])(t,e)}function a(t,e,i,s){if(Object(n["u"])(t)){const o=Object(n["i"])(t);e.contentType=o.mediaType,e.imageData=o.data,i&&i.imageData===e.imageData&&i.url&&Object(r["f"])(i.url,e,"url",s)}else Object(r["f"])(t,e,"url",s)}const c={json:{read:{source:["imageData","url"],reader:s},write:{writer(t,e,i,n){a(t,e,this.source,n)}}}},l={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const n={};return e.imageData&&(n.imageData=e.imageData),e.contentType&&(n.contentType=e.contentType),e.url&&(n.url=o(e.url,i)),n}}}};function u(t){return t&&("service"===t.origin||"portal-item"===t.origin)&&t.layer&&("feature"===t.layer.type||"stream"===t.layer.type)}},b0ea:function(t,e,i){"use strict";function n(t){return t}i.d(e,"a",(function(){return n}))},b0f5:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("b2b2"),r=i("8048"),s=i("7f83");function o(t,e,i){if(Object(n["k"])(e)||Object(n["k"])(i)||i.vcsWkid||Object(s["d"])(e,i))return null;const o=Object(r["e"])(e)/Object(r["e"])(i);if(1===o)return null;switch(t){case"point":case"esriGeometryPoint":return t=>a(t,o);case"polyline":case"esriGeometryPolyline":return t=>l(t,o);case"polygon":case"esriGeometryPolygon":return t=>c(t,o);case"multipoint":case"esriGeometryMultipoint":return t=>u(t,o);case"extent":case"esriGeometryExtent":return t=>h(t,o);default:return null}}function a(t,e){t&&null!=t.z&&(t.z*=e)}function c(t,e){if(t)for(const i of t.rings)for(const t of i)t.length>2&&(t[2]*=e)}function l(t,e){if(t)for(const i of t.paths)for(const t of i)t.length>2&&(t[2]*=e)}function u(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function h(t,e){t&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=e,t.zmax*=e)}},b2af:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("b2b2"),r=i("cc15");let s;function o(){return s||(s=a()),s}function a(){const t={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return t;const e=document.createElement("canvas");if(!e)return t;let i=Object(r["a"])(e,1,{failIfMajorPerformanceCaveat:!0});if(Object(n["k"])(i)&&(i=Object(r["a"])(e,1),Object(n["l"])(i)&&(t.majorPerformanceCaveat=!0)),Object(n["k"])(i))return t;const s=i.getParameter(i.VERSION);if(!s)return t;const o=s.match(/^WebGL\s+([\d.]*)/);if(o){const e=parseFloat(o[1]);t.available=e>=.94;const n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);n&&(t.supportsHighPrecisionFragment=n.precision>0),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,t.supportsElementIndexUint=null!==i.getExtension("OES_element_index_uint"),t.supportsStandardDerivatives=null!==i.getExtension("OES_standard_derivatives"),t.supportsInstancedArrays=null!==i.getExtension("ANGLE_instanced_arrays"),t.supportsTextureFloat=null!==i.getExtension("OES_texture_float"),t.supportsColorBufferFloat=null!==i.getExtension("WEBGL_color_buffer_float")&&null!==i.getExtension("EXT_float_blend")}return t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.version=c()?2:1,t}function c(){if(void 0===typeof WebGL2RenderingContext)return!1;const t=document.createElement("canvas");if(!t)return!1;const e=Object(r["a"])(t,2);return!!Object(n["l"])(e)}},b2b2:function(t,e,i){"use strict";i.d(e,"a",(function(){return f})),i.d(e,"b",(function(){return O})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return x})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return y})),i.d(e,"h",(function(){return j})),i.d(e,"i",(function(){return v})),i.d(e,"j",(function(){return _})),i.d(e,"k",(function(){return s})),i.d(e,"l",(function(){return r})),i.d(e,"m",(function(){return o})),i.d(e,"n",(function(){return g})),i.d(e,"o",(function(){return w})),i.d(e,"p",(function(){return n})),i.d(e,"q",(function(){return m})),i.d(e,"r",(function(){return b})),i.d(e,"s",(function(){return p})),i.d(e,"t",(function(){return c})),i.d(e,"u",(function(){return u})),i.d(e,"v",(function(){return l}));const n=null;function r(t){return null!=t}function s(t){return null==t}function o(t){return void 0===t}function a(t,e){return r(t)?e(t):n}function c(t){return t}function l(t,e){if(s(t))throw new Error(e);return t}function u(t,e){return r(t)?t:"function"==typeof e?e():e}function h(t){return r(t)&&t.destroy(),null}function d(t){return r(t)&&t.dispose(),null}function p(t){return r(t)&&t.remove(),null}function f(t){return r(t)&&t.abort(),null}function b(t){return r(t)&&t.release(),null}function y(t,e){return r(t)&&r(e)?t.equals(e):t===e}function m(t){return null}function g(t,e){const i=new Array;for(const n of t)i.push(w(n,null,e));return i}function v(t,e){for(const i of t)w(i,null,e)}function w(t,e,i){return r(t)?i(t):e}function O(t,e){return r(t)?e(t):null}function j(t){return t.filter(t=>r(t))}function _(t,...e){let i=t;for(let n=0;n<e.length&&i;++n)i=i[e[n]];return i}function x(t){return t}},b2cd:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("1325"),r=(i("2eab"),i("ce50")),s=i("e92d"),o=i("e041");const a=s["a"].getLogger("esri.assets");function c(t){if(!n["a"].assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new r["a"]("assets:path-not-set","config.assetsPath is not set");return Object(o["z"])(n["a"].assetsPath,t)}},b32b:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(t){super(t),this.type=null}};Object(n["a"])([Object(s["b"])({readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=Object(n["a"])([Object(o["a"])("esri.rest.support.ColorRamp")],a);const c=a},b3b6:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return l}));var n=i("9d1d");const r=/\{([^\}]+)\}/g;function s(t){return null==t?"":t}function o(t,e){return t.replace(r,"object"==typeof e?(t,i)=>s(Object(n["b"])(i,e)):(t,i)=>s(e(i)))}function a(t,e){return t.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,t=>e&&-1!==e.indexOf(t)?t:"\\"+t)}function c(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}function l(t){return(new DOMParser).parseFromString(t||"","text/html").body.innerText||""}},b423:function(t,e,i){"use strict";i.d(e,"a",(function(){return A}));var n,r=i("a4ee"),s=i("1fd7"),o=i("fa8a"),a=i("7ffa"),c=i("e92d"),l=i("b2b2"),u=i("59b2"),h=i("1a3e"),d=i("448d"),p=i("afcf"),f=i("d386"),b=i("09db"),y=i("cea0"),m=i("c1da"),g=i("667b"),v=i("be4d"),w=i("f11b"),O=i("82e4"),j=i("d611"),_=i("82fa");const x=c["a"].getLogger("esri.renderers.ClassBreaksRenderer"),S="log",M="percent-of-total",k="field",I=new o["a"]({esriNormalizeByLog:S,esriNormalizeByPercentOfTotal:M,esriNormalizeByField:k}),T=Object(y["m"])(w["a"]);let E=n=class extends(Object(v["a"])(g["a"])){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,e,i){if(!Array.isArray(t))return;let n=e.minValue;return t.map(t=>{const e=new w["a"];return e.read(t,i),null==e.minValue&&(e.minValue=n),null==e.maxValue&&(e.maxValue=e.minValue),n=e.maxValue,e})}writeClassBreakInfos(t,e,i,n){const r=t.map(t=>t.write({},n));this._areClassBreaksConsecutive()&&r.forEach(t=>delete t.classMinValue),e[i]=r}castField(t){return null==t?t:"function"==typeof t?(x.error(".field: field must be a string value"),null):Object(y["l"])(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType");const e=!!this.normalizationField,i=null!=this.normalizationTotal;return e||i?(t=e&&k||i&&M||null,e&&i&&x.warn("warning: both normalizationField and normalizationTotal are set!")):t!==k&&t!==M||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,e,i){let n=null;n="number"==typeof t?new w["a"]({minValue:t,maxValue:e,symbol:Object(s["a"])(i)}):T(Object(a["a"])(t)),this.classBreakInfos.push(n),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(t,e){const i=this.classBreakInfos.length;for(let n=0;n<i;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===t&&i[1]===e){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(t,e){return this.valueExpression&&(Object(l["k"])(e)||Object(l["k"])(e.arcade))&&x.warn(""),this.valueExpression?this._getBreakIndexForExpression(t,e):this._getBreakIndexForField(t)}async getClassBreakInfo(t,e){let i=e;this.valueExpression&&(Object(l["k"])(e)||Object(l["k"])(e.arcade))&&(i={...i,arcade:await Object(_["e"])()});const n=this.getBreakIndex(t,i);return-1!==n?this.classBreakInfos[n]:null}getSymbol(t,e){if(this.valueExpression&&(Object(l["k"])(e)||Object(l["k"])(e.arcade)))return void x.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(t,e);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(Object(l["k"])(e)||Object(l["k"])(e.arcade))){const t=await Object(_["e"])(),{arcadeUtils:e}=t;e.hasGeometryOperations(this.valueExpression)&&await e.enableGeometryOperations(),i={...i,arcade:t}}const n=this.getBreakIndex(t,i);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const t=[];return this.classBreakInfos.forEach(e=>{e.symbol&&t.push(e.symbol)}),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,e)=>t+e.getAttributeHash(),"")}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${e}.${this.classBreakInfos.reduce((t,e)=>t+e.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new n({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:Object(a["a"])(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:Object(a["a"])(this.visualVariables),legendOptions:Object(a["a"])(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.getSymbols().map(i=>i.collectRequiredFields(t,e)),Object(m["a"])(t,e,this.valueExpression)];Object(m["d"])(t,e,this.field),Object(m["d"])(t,e,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,e){const{viewingMode:i,scale:n,spatialReference:r,arcade:s}=Object(l["u"])(e,{});let o=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const a=Object(l["t"])(s).arcadeUtils;if(!o){const t=a.createSyntaxTree(this.valueExpression);o=a.createFunction(t),this._compiledValueExpression.compiledFunction=o}this._compiledValueExpression.valueExpression=this.valueExpression;const c=a.executeFunction(o,a.createExecContext(t,a.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._getBreakIndexfromInfos(c)}_getBreakIndexForField(t){const e=this.field,i=t.attributes,n=this.normalizationType;let r=parseFloat(i[e]);if(n){const t=this.normalizationTotal,e=parseFloat(i[this.normalizationField]);if(n===S)r=Math.log(r)*Math.LOG10E;else if(n!==M||isNaN(t)){if(n===k&&!isNaN(e)){if(isNaN(r)||isNaN(e))return-1;r/=e}}else r=r/t*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(t){const e=this.isMaxInclusive;if(null!=t&&"number"==typeof t&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]<=t&&(e?t<=n[1]:t<n[1]))return i}return-1}_areClassBreaksConsecutive(){const t=this.classBreakInfos,e=t.length;for(let i=1;i<e;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};Object(r["a"])([Object(u["b"])(O["a"])],E.prototype,"backgroundFillSymbol",void 0),Object(r["a"])([Object(u["b"])({type:[w["a"]]})],E.prototype,"classBreakInfos",void 0),Object(r["a"])([Object(p["a"])("classBreakInfos")],E.prototype,"readClassBreakInfos",null),Object(r["a"])([Object(b["a"])("classBreakInfos")],E.prototype,"writeClassBreakInfos",null),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],E.prototype,"defaultLabel",void 0),Object(r["a"])([Object(u["b"])(O["b"])],E.prototype,"defaultSymbol",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],E.prototype,"field",void 0),Object(r["a"])([Object(h["a"])("field")],E.prototype,"castField",null),Object(r["a"])([Object(u["b"])({type:Boolean})],E.prototype,"isMaxInclusive",void 0),Object(r["a"])([Object(u["b"])({type:j["a"],json:{write:!0}})],E.prototype,"legendOptions",void 0),Object(r["a"])([Object(u["b"])({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],E.prototype,"minValue",null),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],E.prototype,"normalizationField",void 0),Object(r["a"])([Object(u["b"])({type:Number,cast:t=>Object(y["i"])(t),json:{write:!0}})],E.prototype,"normalizationTotal",void 0),Object(r["a"])([Object(u["b"])({type:I.apiValues,value:null,json:{type:I.jsonValues,read:I.read,write:I.write}})],E.prototype,"normalizationType",null),Object(r["a"])([Object(d["a"])({classBreaks:"class-breaks"})],E.prototype,"type",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],E.prototype,"valueExpression",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],E.prototype,"valueExpressionTitle",void 0),E=n=Object(r["a"])([Object(f["a"])("esri.renderers.ClassBreaksRenderer")],E);const A=E},b485:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=(i("e06a"),i("59b2")),s=(i("b50f"),i("c120"),i("cea0"),i("afcf")),o=i("d386"),a=i("ab68"),c=i("9651"),l=i("5996");const u=t=>{let e=class extends t{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(t,e){return null!=e.minLOD&&null!=e.maxLOD?t:0}readMaxScale(t,e){return null!=e.minLOD&&null!=e.maxLOD?t:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(t,e){return e.capabilities&&e.capabilities.indexOf("Tilemap")>-1?new c["a"]({layer:this}):null}};return Object(n["a"])([Object(r["b"])({json:{read:{source:"copyrightText"}}})],e.prototype,"copyright",void 0),Object(n["a"])([Object(r["b"])()],e.prototype,"minScale",void 0),Object(n["a"])([Object(s["a"])("service","minScale")],e.prototype,"readMinScale",null),Object(n["a"])([Object(r["b"])()],e.prototype,"maxScale",void 0),Object(n["a"])([Object(s["a"])("service","maxScale")],e.prototype,"readMaxScale",null),Object(n["a"])([Object(r["b"])({type:l["a"]})],e.prototype,"spatialReference",void 0),Object(n["a"])([Object(r["b"])({readOnly:!0})],e.prototype,"supportsBlankTile",null),Object(n["a"])([Object(r["b"])(a["b"])],e.prototype,"tileInfo",void 0),Object(n["a"])([Object(r["b"])()],e.prototype,"tilemapCache",void 0),Object(n["a"])([Object(s["a"])("service","tilemapCache",["capabilities"])],e.prototype,"readTilemapCache",null),Object(n["a"])([Object(r["b"])()],e.prototype,"version",void 0),e=Object(n["a"])([Object(o["a"])("esri.layers.mixins.ArcGISCachedService")],e),e}},b48d:function(t,e,i){"use strict";i.d(e,"a",(function(){return I}));var n,r=i("a4ee"),s=i("9ef0"),o=i("7ffa"),a=i("4adc"),c=i("cea0"),l=i("448d"),u=i("59b2"),h=i("d386"),d=i("c1da"),p=i("667b"),f=i("be4d"),b=i("6a0e"),y=i("e92d"),m=(i("b50f"),i("c120"),i("1a3e"));const g=y["a"].getLogger("esri.renderers.support.AttributeColorInfo");let v=n=class extends b["a"]{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return null==t?t:"function"==typeof t?(g.error(".field: field must be a string value"),null):Object(c["l"])(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};Object(r["a"])([Object(u["b"])({type:s["a"],json:{type:[Number],write:!0}})],v.prototype,"color",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],v.prototype,"field",void 0),Object(r["a"])([Object(m["a"])("field")],v.prototype,"castField",null),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],v.prototype,"label",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],v.prototype,"valueExpression",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],v.prototype,"valueExpressionTitle",void 0),v=n=Object(r["a"])([Object(h["a"])("esri.renderers.support.AttributeColorInfo")],v);const w=v;var O;let j=O=class extends b["a"]{constructor(){super(...arguments),this.unit=null}clone(){return new O({unit:this.unit})}};Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],j.prototype,"unit",void 0),j=O=Object(r["a"])([Object(h["a"])("esri.renderers.support.DotDensityLegendOptions")],j);const _=j;var x,S=i("0d76"),M=i("db52");let k=x=class extends(Object(f["a"])(p["a"])){constructor(t){super(t),this.attributes=null,this.backgroundColor=new s["a"]([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new M["a"],this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(t){if(null==this.referenceScale)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new S["a"]({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((t,e)=>t+e.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new x({attributes:Object(o["a"])(this.attributes),backgroundColor:Object(o["a"])(this.backgroundColor),dotBlendingEnabled:Object(o["a"])(this.dotBlendingEnabled),dotShape:Object(o["a"])(this.dotShape),dotSize:Object(o["a"])(this.dotSize),dotValue:Object(o["a"])(this.dotValue),legendOptions:Object(o["a"])(this.legendOptions),outline:Object(o["a"])(this.outline),referenceScale:Object(o["a"])(this.referenceScale),visualVariables:Object(o["a"])(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(t=>t.field||t.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes)i.valueExpression&&await Object(d["a"])(t,e,i.valueExpression),i.field&&t.add(i.field)}};Object(r["a"])([Object(u["b"])({type:[w],json:{write:!0}})],k.prototype,"attributes",void 0),Object(r["a"])([Object(u["b"])({type:s["a"],json:{write:!0}})],k.prototype,"backgroundColor",void 0),Object(r["a"])([Object(u["b"])({type:Boolean}),Object(a["a"])("dotBlendingEnabled")],k.prototype,"blendDots",void 0),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0}})],k.prototype,"dotBlendingEnabled",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!1}})],k.prototype,"dotShape",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!1}})],k.prototype,"dotSize",void 0),Object(r["a"])([Object(u["b"])({type:_,json:{write:!0}})],k.prototype,"legendOptions",void 0),Object(r["a"])([Object(u["b"])({type:M["a"],json:{default:null,write:!0}})],k.prototype,"outline",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!0}})],k.prototype,"dotValue",void 0),Object(r["a"])([Object(u["b"])({type:Number}),Object(a["a"])("dotValue")],k.prototype,"referenceDotValue",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!0}})],k.prototype,"referenceScale",void 0),Object(r["a"])([Object(u["b"])({type:Number,json:{write:!0}})],k.prototype,"seed",void 0),Object(r["a"])([Object(l["a"])({dotDensity:"dot-density"})],k.prototype,"type",void 0),k=x=Object(r["a"])([Object(h["a"])("esri.renderers.DotDensityRenderer")],k);const I=k},b48e:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n,r=i("a4ee"),s=i("8048"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("4ae5"),l=i("1219"),u=i("f694"),h=i("40b6"),d=i("9786"),p=i("2c81");let f=n=class extends l["a"]{constructor(...t){super(...t),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}normalizeCtorArgs(t,e){let i;if(t&&t.center)i=t;else{if(t&&t.rings)return super.normalizeCtorArgs(t,e);i={center:t}}return{...super.normalizeCtorArgs(),...i,...e}}initialize(){const t=this.center,e=this.numberOfPoints;if(this.hasZ=t&&t.hasZ,0!==this.rings.length||!t)return;const i=Object(s["b"])(this.radius,this.radiusUnit,"meters"),n=t.spatialReference;let r,o="geographic";if(n.isWebMercator?o="webMercator":(null!=p["a"][n.wkid]||n.wkt&&0===n.wkt.indexOf("PROJCS"))&&(o="projected"),this.geodesic){let n;switch(o){case"webMercator":n=Object(d["e"])(t);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":n=t}r=this._createGeodesicCircle(n,i,e),"webMercator"===o&&(r=Object(d["b"])(r))}else{let n;"webMercator"===o||"projected"===o?n=i/this._convert2Meters(1,t.spatialReference):"geographic"===o&&(n=Object(s["i"])(i,"meters",Object(u["e"])(t.spatialReference).radius)),r=this._createPlanarCircle(t,n,e)}this.spatialReference=r.spatialReference,this.addRing(r.rings[0])}clone(){const{center:t,numberOfPoints:e,radius:i,radiusUnit:r,geodesic:s}=this;return new n({center:t.clone(),numberOfPoints:e,radius:i,radiusUnit:r,geodesic:s})}_createGeodesicCircle(t,e,i){let n=0;const r=[];for(;n<360;){const s=[0,0],o=[t.x,t.y];Object(h["a"])(s,o,n,e),this.hasZ&&s.push(t.z),r.push(s),n+=360/i}return r.push(r[0]),new l["a"](r)}_createPlanarCircle(t,e,i){const n=[],r=2*Math.PI/i;for(let s=0;s<i;++s){const i=r*s,o=[t.x+Math.cos(-i)*e,t.y+Math.sin(-i)*e];this.hasZ&&o.push(t.z),n.push(o)}return n.push(n[0]),new l["a"]({spatialReference:t.spatialReference,rings:[n]})}_convert2Meters(t,e){let i;if(null!=p["a"][e.wkid])i=p["a"].values[p["a"][e.wkid]];else{const t=e.wkt,n=t.lastIndexOf(",")+1,r=t.lastIndexOf("]]");i=parseFloat(t.substring(n,r))}return t*i}};Object(r["a"])([Object(o["b"])({type:c["a"]})],f.prototype,"center",void 0),Object(r["a"])([Object(o["b"])()],f.prototype,"geodesic",void 0),Object(r["a"])([Object(o["b"])()],f.prototype,"numberOfPoints",void 0),Object(r["a"])([Object(o["b"])()],f.prototype,"radius",void 0),Object(r["a"])([Object(o["b"])()],f.prototype,"radiusUnit",void 0),f=n=Object(r["a"])([Object(a["a"])("esri.geometry.Circle")],f);const b=f},b50f:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return f})),i.d(e,"f",(function(){return a})),i.d(e,"g",(function(){return u})),i.d(e,"h",(function(){return g})),i.d(e,"i",(function(){return b})),i.d(e,"j",(function(){return m})),i.d(e,"k",(function(){return s}));var n=i("b2b2"),r=i("880d");function s(t,e){return e?t.filter((t,i,n)=>n.findIndex(e.bind(null,t))===i):t.filter((t,e,i)=>i.indexOf(t)===e)}function o(t,e,i){if(Object(n["k"])(t)&&Object(n["k"])(e))return!0;if(Object(n["k"])(t)||Object(n["k"])(e)||t.length!==e.length)return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function a(t){return t&&"number"==typeof t.length}const c=!!Array.prototype.fill;function l(t,e){if(c)return new Array(t).fill(e);const i=new Array(t);for(let n=0;n<t;n++)i[n]=e;return i}function u(t,e){void 0===e&&(e=t,t=0);const i=new Array(e-t);for(let n=t;n<e;n++)i[n-t]=n;return i}function h(t){return t.reduce((t,e)=>t.concat(e||[]),[])}class d{constructor(){this.last=0}}const p=new d;function f(t,e,i,n){n=n||p;const r=Math.max(0,n.last-10);for(let o=r;o<i;++o)if(t[o]===e)return n.last=o,o;const s=Math.min(r,i);for(let o=0;o<s;++o)if(t[o]===e)return n.last=o,o;return-1}function b(t,e,i,n){const r=null==i?t.length:i,s=f(t,e,r,n);if(-1!==s)return t[s]=t[r-1],null==i&&t.pop(),e}const y=new Set;function m(t,e,i=t.length,n=e.length,r,s){if(0===n||0===i)return i;y.clear();for(let a=0;a<n;++a)y.add(e[a]);r=r||p;const o=Math.max(0,r.last-10);for(let a=o;a<i;++a)if(y.has(t[a])&&(s&&s.push(t[a]),y.delete(t[a]),t[a]=t[i-1],--i,--a,0===y.size||0===i))return y.clear(),i;for(let a=0;a<o;++a)if(y.has(t[a])&&(s&&s.push(t[a]),y.delete(t[a]),t[a]=t[i-1],--i,--a,0===y.size||0===i))return y.clear(),i;return y.clear(),i}new r["a"];function g(t,e){const i=t.indexOf(e);return-1!==i?(t.splice(i,1),e):null}},b541:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("b2b2"),r=i("f4cc"),s=i("8ca7"),o=i("5815");class a{constructor(t,e){this.item=t,this.controller=e,this.promise=null}}class c{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new s["a"](t.peeker),this.process=t.process;const e=t.scheduler;t.priority&&Object(n["l"])(e)&&(this._task=e.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const e=this._controllers.get(t);e&&e.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(e=>t.push(e)),this._controllers.clear(),t.forEach(t=>t.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((e,i)=>t(i))}get(t){const e=this._deferreds.get(t);return e?e.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,e){const i=this.get(t);if(i)return i;const s=new AbortController;let o=null;e&&(o=Object(r["p"])(e,()=>s.abort()));const a=()=>{const e=this._processingItems.get(t);e&&e.controller.abort(),c(),u.reject(Object(r["d"])())},c=()=>{l.remove(),Object(n["l"])(o)&&o.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=Object(r["q"])(s.signal,a),u=Object(r["e"])();return this._deferreds.set(t,u),this._controllers.set(t,s),u.promise.then(c,c),this._queue.push(t),this._scheduleNext(),u.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(e=>t.push(e)),this._processingItems.clear();for(const e of t)this._queue.push(e.item),e.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=Object(o["b"])(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,e){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(e))}_processError(t,e){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(e))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(Object(n["k"])(t))return;let e;const i=new AbortController,s=new a(t,i);this._processingItems.set(t,s);try{e=this.process(t,i.signal)}catch(o){this._processError(s,o)}Object(r["o"])(e)?(s.promise=e,e.then(t=>this._processResult(s,t),t=>this._processError(s,t))):this._processResult(s,e)}get test(){return{update:t=>this.runTask(t)}}}},b575:function(t,e,i){var n,r,s,o,a,c,l,u,h=i("da84"),d=i("0366"),p=i("06cf").f,f=i("2cf4").set,b=i("1cdc"),y=i("d4c3"),m=i("a4b4"),g=i("605d"),v=h.MutationObserver||h.WebKitMutationObserver,w=h.document,O=h.process,j=h.Promise,_=p(h,"queueMicrotask"),x=_&&_.value;x||(n=function(){var t,e;g&&(t=O.domain)&&t.exit();while(r){e=r.fn,r=r.next;try{e()}catch(i){throw r?o():s=void 0,i}}s=void 0,t&&t.enter()},b||g||m||!v||!w?!y&&j&&j.resolve?(l=j.resolve(void 0),l.constructor=j,u=d(l.then,l),o=function(){u(n)}):g?o=function(){O.nextTick(n)}:(f=d(f,h),o=function(){f(n)}):(a=!0,c=w.createTextNode(""),new v(n).observe(c,{characterData:!0}),o=function(){c.data=a=!a})),t.exports=x||function(t){var e={fn:t,next:void 0};s&&(s.next=e),r||(r=e,o()),s=e}},b622:function(t,e,i){var n=i("da84"),r=i("5692"),s=i("1a2d"),o=i("90e3"),a=i("4930"),c=i("fdbf"),l=r("wks"),u=n.Symbol,h=u&&u["for"],d=c?u:u&&u.withoutSetter||o;t.exports=function(t){if(!s(l,t)||!a&&"string"!=typeof l[t]){var e="Symbol."+t;a&&s(u,t)?l[t]=u[t]:l[t]=c&&h?h(e):d(e)}return l[t]}},b65e:function(t,e,i){"use strict";function n(t,e,i){if(!e||!t||!t.map)return;const{map:n}=t,r=n.layers.find(t=>t===e);r||n.add(e,i),null!=i&&n.layers.reorder(r,i)}i.d(e,"a",(function(){return n}))},b680:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),s=i("e330"),o=i("5926"),a=i("408a"),c=i("1148"),l=i("d039"),u=r.RangeError,h=r.String,d=Math.floor,p=s(c),f=s("".slice),b=s(1..toFixed),y=function(t,e,i){return 0===e?i:e%2===1?y(t,e-1,i*t):y(t*t,e/2,i)},m=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},g=function(t,e,i){var n=-1,r=i;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=d(r/1e7)},v=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=d(n/e),n=n%e*1e7},w=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=h(t[e]);i=""===i?n:i+p("0",7-n.length)+n}return i},O=l((function(){return"0.000"!==b(8e-5,3)||"1"!==b(.9,0)||"1.25"!==b(1.255,2)||"1000000000000000128"!==b(0xde0b6b3a7640080,0)}))||!l((function(){b({})}));n({target:"Number",proto:!0,forced:O},{toFixed:function(t){var e,i,n,r,s=a(this),c=o(t),l=[0,0,0,0,0,0],d="",b="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return h(s);if(s<0&&(d="-",s=-s),s>1e-21)if(e=m(s*y(2,69,1))-69,i=e<0?s*y(2,-e,1):s/y(2,e,1),i*=4503599627370496,e=52-e,e>0){g(l,0,i),n=c;while(n>=7)g(l,1e7,0),n-=7;g(l,y(10,n,1),0),n=e-1;while(n>=23)v(l,1<<23),n-=23;v(l,1<<n),g(l,1,1),v(l,2),b=w(l)}else g(l,0,i),g(l,1<<-e,0),b=w(l)+p("0",c);return c>0?(r=b.length,b=d+(r<=c?"0."+p("0",c-r)+b:f(b,0,r-c)+"."+f(b,r-c))):b=d+b,b}})},b724:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("fc29"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("0224");let l=n=class extends s["a"]{constructor(){super(...arguments),this.portal=null}clone(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};Object(r["a"])([Object(o["b"])({type:String})],l.prototype,"name",void 0),Object(r["a"])([Object(o["b"])({type:String})],l.prototype,"styleUrl",void 0),Object(r["a"])([Object(o["b"])({type:String})],l.prototype,"styleName",void 0),Object(r["a"])([Object(o["b"])({type:c["a"]})],l.prototype,"portal",void 0),l=n=Object(r["a"])([Object(a["a"])("esri.symbols.support.StyleOrigin")],l);const u=l},b727:function(t,e,i){var n=i("0366"),r=i("e330"),s=i("44ad"),o=i("7b0b"),a=i("07fa"),c=i("65f0"),l=r([].push),u=function(t){var e=1==t,i=2==t,r=3==t,u=4==t,h=6==t,d=7==t,p=5==t||h;return function(f,b,y,m){for(var g,v,w=o(f),O=s(w),j=n(b,y),_=a(O),x=0,S=m||c,M=e?S(f,_):i||d?S(f,0):void 0;_>x;x++)if((p||x in O)&&(g=O[x],v=j(g,x,w),t))if(e)M[x]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:l(M,g)}else switch(t){case 4:return!1;case 7:l(M,g)}return h?-1:r||u?u:M}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},b742:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,r=i("a4ee"),s=(i("e06a"),i("6a0e")),o=i("7ffa"),a=i("59b2"),c=i("cea0"),l=i("d386"),u=i("09db"),h=i("624c"),d=i("5996");let p=n=class extends s["a"]{constructor(t){super(t),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(e.definitionExpression="1=1")}clone(){return new n(Object(o["a"])({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};Object(r["a"])([Object(a["b"])({type:h["a"],json:{write:!0}})],p.prototype,"dynamicDataSource",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],p.prototype,"geometryPrecision",void 0),Object(r["a"])([Object(a["b"])({type:Date})],p.prototype,"historicMoment",void 0),Object(r["a"])([Object(u["a"])("historicMoment")],p.prototype,"_writeHistoricMoment",null),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",void 0),Object(r["a"])([Object(a["b"])({type:[Number],json:{write:!0}})],p.prototype,"objectIds",void 0),Object(r["a"])([Object(a["b"])({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0),Object(r["a"])([Object(a["b"])({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0),Object(r["a"])([Object(a["b"])({type:d["a"],json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0),Object(r["a"])([Object(a["b"])({json:{write:!0}})],p.prototype,"relationshipId",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0),Object(r["a"])([Object(u["a"])("start"),Object(u["a"])("num")],p.prototype,"writeStart",null),Object(r["a"])([Object(a["b"])({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0),Object(r["a"])([Object(a["b"])({json:{write:!0}})],p.prototype,"returnGeometry",void 0),Object(r["a"])([Object(a["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],p.prototype,"returnM",void 0),Object(r["a"])([Object(a["b"])({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],p.prototype,"returnZ",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],p.prototype,"where",void 0),p=n=Object(r["a"])([Object(l["a"])("esri.rest.support.RelationshipQuery")],p),p.from=Object(c["m"])(p);const f=p},b745:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("bb72"),r=i("e9fc"),s=i("69dd");async function o(t,e,i){const o=Object(n["c"])(t);return Object(r["executeQueryForIds"])(o,s["a"].from(e),{...i}).then(t=>t.data.objectIds)}},b90c:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r,s=i("eb37"),o=i("ce50"),a=i("7a2a"),c=(i("5f6c"),i("22f1")),l={exports:{}};function u(t){if(!t||0===t.length)return null;if("string"==typeof t){const e=h(t);return e&&0!==e.length?e:null}const e=t.map(t=>{if(!Number.isFinite(t.scale)||t.scale<=0)throw new o["a"]("effect:invalid-scale","scale must be finite and greater than 0",{stop:t});return{scale:t.scale,effects:h(t.value)}});e.sort((t,e)=>e.effects.length-t.effects.length);for(let i=0;i<e.length-1;i++){if(!Object(c["a"])(e[i].effects,e[i+1].effects))throw new o["a"]("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});Object(c["c"])(e[i].effects,e[i+1].effects)}return e.sort((t,e)=>e.scale-t.scale),e}function h(t){let e;if(!t)return[];try{e=l.exports.parse(t)}catch(i){throw new o["a"]("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map(t=>d(t))}function d(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return p(t);case"opacity":return f(t);case"hue-rotate":return b(t);case"blur":return y(t);case"drop-shadow":return m(t);case"bloom":return g(t)}}catch(e){throw e.details.filter=t,e}throw new o["a"]("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function p(t){let e=1;return v(t.parameters,1),1===t.parameters.length&&(e=I(t.parameters[0])),new a["c"](t.name,e)}function f(t){let e=1;return v(t.parameters,1),1===t.parameters.length&&(e=I(t.parameters[0])),new a["f"](e)}function b(t){let e=0;return v(t.parameters,1),1===t.parameters.length&&(e=E(t.parameters[0])),new a["e"](e)}function y(t){let e=0;return v(t.parameters,1),1===t.parameters.length&&(e=A(t.parameters[0]),O(e,t.parameters[0])),new a["b"](e)}function m(t){const e=[];let i=null;for(const n of t.parameters)if("color"===n.type){if(e.length&&Object.freeze(e),i)throw new o["a"]("effect:type-error","Accepts only one color",{});i=C(n)}else{const t=A(n);if(Object.isFrozen(e))throw new o["a"]("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(t),3===e.length&&O(t,n)}if(e.length<2||e.length>3)throw new o["a"]("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new a["d"](e[0],e[1],e[2]||0,i||P("black"))}function g(t){let e=1,i=0,n=0;return v(t.parameters,3),t.parameters[0]&&(e=I(t.parameters[0])),t.parameters[1]&&(i=A(t.parameters[1]),O(i,t.parameters[1])),t.parameters[2]&&(n=I(t.parameters[2])),new a["a"](e,i,n)}function v(t,e){if(t.length>e)throw new o["a"]("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function w(t){if("color"===t.type)return"<color>";if(t.unit){if(M[t.unit])return"<length>";if(x[t.unit])return"<angle>";if("%"===t.unit)return"<percentage>"}return"<double>"}function O(t,e){if(t<0)throw new o["a"]("effect:type-error","Negative values are not allowed, Actual: "+t,{term:e})}function j(t){if("quantity"!==t.type||null!==t.unit)throw new o["a"]("effect:type-error","Expected <double>, Actual: "+w(t),{term:t})}function _(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new o["a"]("effect:type-error","Expected <double> or <percentage>, Actual: "+w(t),{term:t})}r=function(){function t(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}function e(t,i,n,r){var s=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(s,e.prototype),s.expected=i,s.found=n,s.location=r,s.name="SyntaxError",s}function i(t,e,i){return i=i||" ",t.length>e?t:(e-=t.length,t+(i+=i.repeat(e)).slice(0,e))}function n(t,i){var n,r={},s=(i=void 0!==i?i:{}).grammarSource,o={start:Wt},a=Wt,c="none",l=")",u=",",h="(",d="%",p="px",f="cm",b="mm",y="in",m="pt",g="pc",v="deg",w="rad",O="grad",j="turn",_="#",x=".",S="e",M=/^[ \t\n\r]/,k=/^[a-z\-]/,I=/^[0-9a-fA-F]/,T=/^[+\-]/,E=/^[0-9]/,A=Gt("none"),C=zt("none",!1),P=zt(")",!1),R=zt(",",!1),L=Gt("whitespace"),N=Vt([" ","\t","\n","\r"],!1,!1),F=Gt("function"),D=zt("(",!1),z=Gt("identifier"),V=Vt([["a","z"],"-"],!1,!1),$=Gt("percentage"),G=zt("%",!1),U=Gt("length"),q=zt("px",!1),B=zt("cm",!1),H=zt("mm",!1),W=zt("in",!1),J=zt("pt",!1),K=zt("pc",!1),Y=Gt("angle"),Z=zt("deg",!1),X=zt("rad",!1),Q=zt("grad",!1),tt=zt("turn",!1),et=Gt("number"),it=Gt("color"),nt=zt("#",!1),rt=Vt([["0","9"],["a","f"],["A","F"]],!1,!1),st=Vt(["+","-"],!1,!1),ot=Vt([["0","9"]],!1,!1),at=zt(".",!1),ct=zt("e",!1),lt=function(){return[]},ut=function(t,e){return{type:"function",name:t,parameters:e||[]}},ht=function(t,e){return e.length>0?le(t,e,3):[t]},dt=function(t){return{type:"quantity",value:t.value,unit:t.unit}},pt=function(t){return{type:"color",colorType:t.type,value:t.value}},ft=function(t){return t},bt=function(){return Dt()},yt=function(t){return{value:t,unit:"%"}},mt=function(t){return{value:t,unit:"px"}},gt=function(t){return{value:t,unit:"cm"}},vt=function(t){return{value:t,unit:"mm"}},wt=function(t){return{value:t,unit:"in"}},Ot=function(t){return{value:t,unit:"pt"}},jt=function(t){return{value:t,unit:"pc"}},_t=function(t){return{value:t,unit:"deg"}},xt=function(t){return{value:t,unit:"rad"}},St=function(t){return{value:t,unit:"grad"}},Mt=function(t){return{value:t,unit:"turn"}},kt=function(t){return{value:t,unit:null}},It=function(){return{type:"hex",value:Dt()}},Tt=function(t){return{type:"function",value:t}},Et=function(){return{type:"named",value:Dt()}},At=function(){return parseFloat(Dt())},Ct=0,Pt=0,Rt=[{line:1,column:1}],Lt=0,Nt=[],Ft=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=o[i.startRule]}function Dt(){return t.substring(Pt,Ct)}function zt(t,e){return{type:"literal",text:t,ignoreCase:e}}function Vt(t,e,i){return{type:"class",parts:t,inverted:e,ignoreCase:i}}function $t(){return{type:"end"}}function Gt(t){return{type:"other",description:t}}function Ut(e){var i,n=Rt[e];if(n)return n;for(i=e-1;!Rt[i];)i--;for(n={line:(n=Rt[i]).line,column:n.column};i<e;)10===t.charCodeAt(i)?(n.line++,n.column=1):n.column++,i++;return Rt[e]=n,n}function qt(t,e){var i=Ut(t),n=Ut(e);return{source:s,start:{offset:t,line:i.line,column:i.column},end:{offset:e,line:n.line,column:n.column}}}function Bt(t){Ct<Lt||(Ct>Lt&&(Lt=Ct,Nt=[]),Nt.push(t))}function Ht(t,i,n){return new e(e.buildMessage(t,i),t,i,n)}function Wt(){var t;return(t=Jt())===r&&(t=Kt()),t}function Jt(){var e,i;return Ft++,e=Ct,Qt(),t.substr(Ct,4)===c?(i=c,Ct+=4):(i=r,0===Ft&&Bt(C)),i!==r?(Qt(),Pt=e,e=lt()):(Ct=e,e=r),Ft--,e===r&&0===Ft&&Bt(A),e}function Kt(){var t,e;if(t=[],(e=Yt())!==r)for(;e!==r;)t.push(e),e=Yt();else t=r;return t}function Yt(){var e,i,n,s;return e=Ct,Qt(),(i=te())!==r?(Qt(),(n=Zt())===r&&(n=null),Qt(),41===t.charCodeAt(Ct)?(s=l,Ct++):(s=r,0===Ft&&Bt(P)),s!==r?(Qt(),Pt=e,e=ut(i,n)):(Ct=e,e=r)):(Ct=e,e=r),e}function Zt(){var e,i,n,s,o,a,c,l;if(e=Ct,(i=Xt())!==r){for(n=[],s=Ct,o=Qt(),44===t.charCodeAt(Ct)?(a=u,Ct++):(a=r,0===Ft&&Bt(R)),a===r&&(a=null),c=Qt(),(l=Xt())!==r?s=o=[o,a,c,l]:(Ct=s,s=r);s!==r;)n.push(s),s=Ct,o=Qt(),44===t.charCodeAt(Ct)?(a=u,Ct++):(a=r,0===Ft&&Bt(R)),a===r&&(a=null),c=Qt(),(l=Xt())!==r?s=o=[o,a,c,l]:(Ct=s,s=r);Pt=e,e=ht(i,n)}else Ct=e,e=r;return e}function Xt(){var t,e;return t=Ct,(e=ie())===r&&(e=ne())===r&&(e=re())===r&&(e=se()),e!==r&&(Pt=t,e=dt(e)),(t=e)===r&&(t=Ct,(e=oe())!==r&&(Pt=t,e=pt(e)),t=e),t}function Qt(){var e,i;for(Ft++,e=[],M.test(t.charAt(Ct))?(i=t.charAt(Ct),Ct++):(i=r,0===Ft&&Bt(N));i!==r;)e.push(i),M.test(t.charAt(Ct))?(i=t.charAt(Ct),Ct++):(i=r,0===Ft&&Bt(N));return Ft--,i=r,0===Ft&&Bt(L),e}function te(){var e,i,n;return Ft++,e=Ct,(i=ee())!==r?(40===t.charCodeAt(Ct)?(n=h,Ct++):(n=r,0===Ft&&Bt(D)),n!==r?(Pt=e,e=ft(i)):(Ct=e,e=r)):(Ct=e,e=r),Ft--,e===r&&(i=r,0===Ft&&Bt(F)),e}function ee(){var e,i,n;if(Ft++,e=Ct,i=[],k.test(t.charAt(Ct))?(n=t.charAt(Ct),Ct++):(n=r,0===Ft&&Bt(V)),n!==r)for(;n!==r;)i.push(n),k.test(t.charAt(Ct))?(n=t.charAt(Ct),Ct++):(n=r,0===Ft&&Bt(V));else i=r;return i!==r&&(Pt=e,i=bt()),Ft--,(e=i)===r&&(i=r,0===Ft&&Bt(z)),e}function ie(){var e,i,n;return Ft++,e=Ct,Qt(),(i=ae())!==r?(37===t.charCodeAt(Ct)?(n=d,Ct++):(n=r,0===Ft&&Bt(G)),n!==r?(Pt=e,e=yt(i)):(Ct=e,e=r)):(Ct=e,e=r),Ft--,e===r&&0===Ft&&Bt($),e}function ne(){var e,i,n;return Ft++,e=Ct,Qt(),(i=ae())!==r?(t.substr(Ct,2)===p?(n=p,Ct+=2):(n=r,0===Ft&&Bt(q)),n!==r?(Pt=e,e=mt(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,Qt(),(i=ae())!==r?(t.substr(Ct,2)===f?(n=f,Ct+=2):(n=r,0===Ft&&Bt(B)),n!==r?(Pt=e,e=gt(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,Qt(),(i=ae())!==r?(t.substr(Ct,2)===b?(n=b,Ct+=2):(n=r,0===Ft&&Bt(H)),n!==r?(Pt=e,e=vt(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,Qt(),(i=ae())!==r?(t.substr(Ct,2)===y?(n=y,Ct+=2):(n=r,0===Ft&&Bt(W)),n!==r?(Pt=e,e=wt(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,Qt(),(i=ae())!==r?(t.substr(Ct,2)===m?(n=m,Ct+=2):(n=r,0===Ft&&Bt(J)),n!==r?(Pt=e,e=Ot(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,Qt(),(i=ae())!==r?(t.substr(Ct,2)===g?(n=g,Ct+=2):(n=r,0===Ft&&Bt(K)),n!==r?(Pt=e,e=jt(i)):(Ct=e,e=r)):(Ct=e,e=r)))))),Ft--,e===r&&0===Ft&&Bt(U),e}function re(){var e,i,n;return Ft++,e=Ct,(i=ae())!==r?(t.substr(Ct,3)===v?(n=v,Ct+=3):(n=r,0===Ft&&Bt(Z)),n!==r?(Pt=e,e=_t(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,(i=ae())!==r?(t.substr(Ct,3)===w?(n=w,Ct+=3):(n=r,0===Ft&&Bt(X)),n!==r?(Pt=e,e=xt(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,(i=ae())!==r?(t.substr(Ct,4)===O?(n=O,Ct+=4):(n=r,0===Ft&&Bt(Q)),n!==r?(Pt=e,e=St(i)):(Ct=e,e=r)):(Ct=e,e=r),e===r&&(e=Ct,(i=ae())!==r?(t.substr(Ct,4)===j?(n=j,Ct+=4):(n=r,0===Ft&&Bt(tt)),n!==r?(Pt=e,e=Mt(i)):(Ct=e,e=r)):(Ct=e,e=r)))),Ft--,e===r&&(i=r,0===Ft&&Bt(Y)),e}function se(){var t,e;return Ft++,t=Ct,Qt(),(e=ae())!==r?(Pt=t,t=kt(e)):(Ct=t,t=r),Ft--,t===r&&0===Ft&&Bt(et),t}function oe(){var e,i,n,s;if(Ft++,e=Ct,35===t.charCodeAt(Ct)?(i=_,Ct++):(i=r,0===Ft&&Bt(nt)),i!==r){if(n=[],I.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=r,0===Ft&&Bt(rt)),s!==r)for(;s!==r;)n.push(s),I.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=r,0===Ft&&Bt(rt));else n=r;n!==r?(Pt=e,e=It()):(Ct=e,e=r)}else Ct=e,e=r;return e===r&&(e=Ct,(i=Yt())!==r&&(Pt=e,i=Tt(i)),(e=i)===r&&(e=Ct,(i=ee())!==r&&(Pt=e,i=Et()),e=i)),Ft--,e===r&&(i=r,0===Ft&&Bt(it)),e}function ae(){var e,i,n,s,o,a,c;for(e=Ct,T.test(t.charAt(Ct))?(t.charAt(Ct),Ct++):0===Ft&&Bt(st),i=Ct,n=[],E.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=r,0===Ft&&Bt(ot));s!==r;)n.push(s),E.test(t.charAt(Ct))?(s=t.charAt(Ct),Ct++):(s=r,0===Ft&&Bt(ot));if(46===t.charCodeAt(Ct)?(s=x,Ct++):(s=r,0===Ft&&Bt(at)),s!==r){if(o=[],E.test(t.charAt(Ct))?(a=t.charAt(Ct),Ct++):(a=r,0===Ft&&Bt(ot)),a!==r)for(;a!==r;)o.push(a),E.test(t.charAt(Ct))?(a=t.charAt(Ct),Ct++):(a=r,0===Ft&&Bt(ot));else o=r;o!==r?i=n=[n,s,o]:(Ct=i,i=r)}else Ct=i,i=r;if(i===r)if(i=[],E.test(t.charAt(Ct))?(n=t.charAt(Ct),Ct++):(n=r,0===Ft&&Bt(ot)),n!==r)for(;n!==r;)i.push(n),E.test(t.charAt(Ct))?(n=t.charAt(Ct),Ct++):(n=r,0===Ft&&Bt(ot));else i=r;if(i!==r){if(n=Ct,101===t.charCodeAt(Ct)?(s=S,Ct++):(s=r,0===Ft&&Bt(ct)),s!==r){if(T.test(t.charAt(Ct))?(o=t.charAt(Ct),Ct++):(o=r,0===Ft&&Bt(st)),o===r&&(o=null),a=[],E.test(t.charAt(Ct))?(c=t.charAt(Ct),Ct++):(c=r,0===Ft&&Bt(ot)),c!==r)for(;c!==r;)a.push(c),E.test(t.charAt(Ct))?(c=t.charAt(Ct),Ct++):(c=r,0===Ft&&Bt(ot));else a=r;a!==r?n=s=[s,o,a]:(Ct=n,n=r)}else Ct=n,n=r;n===r&&(n=null),Pt=e,e=At()}else Ct=e,e=r;return e}function ce(t,e){return t.map((function(t){return t[e]}))}function le(t,e,i){return[t].concat(ce(e,i))}if((n=a())!==r&&Ct===t.length)return n;throw n!==r&&Ct<t.length&&Bt($t()),Ht(Nt,Lt<t.length?t.charAt(Lt):null,Lt<t.length?qt(Lt,Lt+1):qt(Lt,Lt))}return t(e,Error),e.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,o=this.location.source+":"+s.line+":"+s.column;if(r){var a=this.location.end,c=i("",s.line.toString().length),l=r[s.line-1],u=s.line===a.line?a.column:l.length+1;e+="\n --\x3e "+o+"\n"+c+" |\n"+s.line+" | "+l+"\n"+c+" | "+i("",s.column-1)+i("",u-s.column,"^")}else e+="\n at "+o}return e},e.buildMessage=function(t,e){var i={literal:function(t){return'"'+r(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?s(t[0])+"-"+s(t[1]):s(t)}));return"["+(t.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){return i[t.type](t)}function a(t){var e,i,n=t.map(o);if(n.sort(),n.length>0){for(e=1,i=1;e<n.length;e++)n[e-1]!==n[e]&&(n[i]=n[e],i++);n.length=i}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function c(t){return t?'"'+r(t)+'"':"end of input"}return"Expected "+a(t)+" but "+c(e)+" found."},{SyntaxError:e,parse:n}},(n=l).exports&&(n.exports=r());const x={deg:1,grad:.9,rad:180/Math.PI,turn:360};function S(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=x[t.unit]))throw new o["a"]("effect:type-error","Expected <angle>, Actual: "+w(t),{term:t})}const M={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function k(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=M[t.unit]))throw new o["a"]("effect:type-error","Expected <length>, Actual: "+w(t),{term:t})}function I(t){_(t);const e=t.value;return O(e,t),"%"===t.unit?.01*e:e}function T(t){return j(t),O(t.value,t),t.value}function E(t){return S(t),t.value*x[t.unit]||0}function A(t){return k(t),t.value*M[t.unit]||0}function C(t){switch(t.colorType){case"hex":return Object(s["c"])(t.value);case"named":return P(t.value);case"function":return N(t.value)}}function P(t){if(!Object(s["e"])(t))throw new o["a"]("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return Object(s["b"])(t)}const R=/^rgba?/i,L=/^hsla?/i;function N(t){if(v(t.parameters,4),R.test(t.name))return[I(t.parameters[0]),I(t.parameters[1]),I(t.parameters[2]),t.parameters[3]?I(t.parameters[3]):1];if(L.test(t.name))return Object(s["d"])(T(t.parameters[0]),I(t.parameters[1]),I(t.parameters[2]),t.parameters[3]?I(t.parameters[3]):1);throw new o["a"]("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}},b911:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("a4ee"),r=i("ce50"),s=i("e041"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("09db"),l=i("0964"),u=i("c478");const h={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!1},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};var d=i("22f4");const p=t=>{let e=class extends t{constructor(){super(...arguments),this.title=null}writeListMode(t,e,i,n){(n&&"ground"===n.layerContainerType||t&&Object(u["a"])(this,i,{},n))&&(e[i]=t)}writeOperationalLayerType(t,e,i,n){!t||n&&"tables"===n.layerContainerType||(e.layerType=t)}writeTitle(t,e){e.title=t||"Layer"}read(t,e){e&&(e.layer=this),Object(l["b"])(this,t,e=>super.read(t,e),e)}write(t,e){if(null!=e&&e.origin){const t=`${e.origin}/${e.layerContainerType||"operational-layers"}`,n=h[t];let s=n&&n[this.operationalLayerType];var i;if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===t&&(s=!1),!s)return null==(i=e.messages)||i.push(new r["a"]("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${t}'`,{layer:this})),null}const n=super.write(t,{...e,layer:this}),o=!!e&&!!e.messages&&!!e.messages.filter(t=>t instanceof r["a"]&&"web-document-write:property-required"===t.name).length;var a;return Object(s["t"])(null==n?void 0:n.url)?(null==e||null==(a=e.messages)||a.push(new r["a"]("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:n}beforeSave(){}};return Object(n["a"])([Object(o["b"])({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],e.prototype,"id",void 0),Object(n["a"])([Object(o["b"])({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],e.prototype,"listMode",void 0),Object(n["a"])([Object(c["a"])("listMode")],e.prototype,"writeListMode",null),Object(n["a"])([Object(o["b"])({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],e.prototype,"operationalLayerType",void 0),Object(n["a"])([Object(c["a"])("operationalLayerType")],e.prototype,"writeOperationalLayerType",null),Object(n["a"])([Object(o["b"])(d["h"])],e.prototype,"opacity",void 0),Object(n["a"])([Object(o["b"])({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],e.prototype,"title",void 0),Object(n["a"])([Object(c["a"])("title")],e.prototype,"writeTitle",null),Object(n["a"])([Object(o["b"])({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],e.prototype,"visible",void 0),e=Object(n["a"])([Object(a["a"])("esri.layers.mixins.OperationalLayer")],e),e}},ba6a:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("ecd7");class r{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,e){const{spans:i,lodInfo:n}=this,{level:r}=n;if(0!==i.length)for(const{row:s,colFrom:o,colTo:a}of i)for(let i=o;i<=a;i++)t.call(e,r,s,n.normalizeCol(i),n.getWorldForColumn(i))}}r.pool=new n["a"](r)},bb72:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s}));i("b2b2");var n=i("e041");i("49a0"),i("f353");function r(t,e){return e?{...e,query:{...t,...e.query}}:{query:t}}function s(t){return"string"==typeof t?Object(n["K"])(t):t}function o(t,e,i){const n={};for(const r in t){if("declaredClass"===r)continue;const s=t[r];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){n[r]=[];for(let t=0;t<s.length;t++)n[r][t]=o(s[t])}else if("object"==typeof s)if(s.toJSON){const t=s.toJSON(i&&i[r]);n[r]=e?t:JSON.stringify(t)}else n[r]=e?s:JSON.stringify(s);else n[r]=s}return n}},bda0:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fa8a");const r=new n["a"]({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"})},be4d:function(t,e,i){"use strict";i.d(e,"a",(function(){return N}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0")),a=i("afcf"),c=i("d386"),l=i("09db"),u=i("c1da"),h=i("5dd5"),d=i("3f60");let p=n=class extends h["a"]{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(t=>!!t)).sort((t,e)=>t.value-e.value),this._set("stops",t)}clone(){return new n({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};Object(r["a"])([Object(s["b"])({readOnly:!0})],p.prototype,"cache",null),Object(r["a"])([Object(s["b"])({type:["color"],json:{type:["colorInfo"]}})],p.prototype,"type",void 0),Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],p.prototype,"normalizationField",void 0),Object(r["a"])([Object(s["b"])({type:[d["a"]],json:{write:!0}})],p.prototype,"stops",null),p=n=Object(r["a"])([Object(c["a"])("esri.renderers.visualVariables.ColorVariable")],p);const f=p;var b,y=i("6a0e"),m=i("42be");let g=b=class extends y["a"]{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,e){return Object(m["b"])(e.transparency)}writeOpacity(t,e,i){e[i]=Object(m["a"])(t)}clone(){return new b({label:this.label,opacity:this.opacity,value:this.value})}};Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],g.prototype,"label",void 0),Object(r["a"])([Object(s["b"])({type:Number,json:{type:o["a"],write:{target:"transparency"}}})],g.prototype,"opacity",void 0),Object(r["a"])([Object(a["a"])("opacity",["transparency"])],g.prototype,"readOpacity",null),Object(r["a"])([Object(l["a"])("opacity")],g.prototype,"writeOpacity",null),Object(r["a"])([Object(s["b"])({type:Number,json:{write:!0}})],g.prototype,"value",void 0),g=b=Object(r["a"])([Object(c["a"])("esri.renderers.visualVariables.support.OpacityStop")],g);const v=g;var w;let O=w=class extends h["a"]{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(t=>!!t)).sort((t,e)=>t.value-e.value),this._set("stops",t)}clone(){return new w({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};Object(r["a"])([Object(s["b"])({readOnly:!0})],O.prototype,"cache",null),Object(r["a"])([Object(s["b"])({type:["opacity"],json:{type:["transparencyInfo"]}})],O.prototype,"type",void 0),Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],O.prototype,"normalizationField",void 0),Object(r["a"])([Object(s["b"])({type:[v],json:{write:!0}})],O.prototype,"stops",null),O=w=Object(r["a"])([Object(c["a"])("esri.renderers.visualVariables.OpacityVariable")],O);const j=O;var _=i("4f37"),x=i("c3fc"),S=i("fc29"),M=i("fa8a"),k=i("e92d"),I=i("0028");const T=k["a"].getLogger("esri.renderers.visualVariables.VisualVariableFactory"),E={color:f,size:x["a"],opacity:j,rotation:_["a"]},A=new M["a"]({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),C=/^\[([^\]]+)\]$/i;let P=class extends S["a"]{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),(t=t&&t.filter(t=>!!t))&&t.length){for(const e of t)switch(e.type){case"color":this.colorVariables.push(e);break;case"opacity":this.opacityVariables.push(e);break;case"rotation":this.rotationVariables.push(e);break;case"size":this.sizeVariables.push(e)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&t.sort((t,e)=>{let i=null;return i=t.target===e.target?0:t.target?1:-1,i});for(let e=0;e<t.length;e++)t[e].index=e;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,e,i){const{rotationExpression:n,rotationType:r}=e,s=n&&n.match(C),o=s&&s[1];if(o&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:r,field:o})),t)return t.map(t=>{const e=A.read(t.type),n=E[e];n||(T.warn("Unknown variable type: "+e),i&&i.messages&&i.messages.push(new I["a"]("visual-variable:unsupported",`visualVariable of type '${e}' is not supported`,{definition:t,context:i})));const r=new n;return r.read(t,i),r})}writeVariables(t,e){const i=[];for(const n of t){const t=n.toJSON(e);t&&i.push(t)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};Object(r["a"])([Object(s["b"])()],P.prototype,"visualVariables",null),P=Object(r["a"])([Object(c["a"])("esri.renderers.visualVariables.VisualVariableFactory")],P);const R=P,L={base:h["a"],key:"type",typeMap:{opacity:j,color:f,rotation:_["a"],size:x["a"]}},N=t=>{let e=class extends t{constructor(){super(...arguments),this._vvFactory=new R}set visualVariables(t){this._vvFactory.visualVariables=t,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(t,e,i){return this._vvFactory.readVariables(t,e,i)}writeVisualVariables(t,e,i,n){e[i]=this._vvFactory.writeVariables(t,n)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const t of this.visualVariables)if(t.arcadeRequired)return!0;return!1}hasVisualVariables(t,e){return t?this.getVisualVariablesForType(t,e).length>0:this.getVisualVariablesForType("size",e).length>0||this.getVisualVariablesForType("color",e).length>0||this.getVisualVariablesForType("opacity",e).length>0||this.getVisualVariablesForType("rotation",e).length>0}getVisualVariablesForType(t,e){const i=this.visualVariables;return i?i.filter(i=>i.type===t&&("string"==typeof e?i.target===e:!1!==e||!i.target)):[]}async collectVVRequiredFields(t,e){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const n of i)n&&(n.field&&Object(u["d"])(t,e,n.field),n.normalizationField&&Object(u["d"])(t,e,n.normalizationField),n.valueExpression&&await Object(u["a"])(t,e,n.valueExpression))}};return Object(r["a"])([Object(s["b"])({types:[L],value:null,json:{write:!0}})],e.prototype,"visualVariables",null),Object(r["a"])([Object(a["a"])("visualVariables",["visualVariables","rotationType","rotationExpression"])],e.prototype,"readVisualVariables",null),Object(r["a"])([Object(l["a"])("visualVariables")],e.prototype,"writeVisualVariables",null),e=Object(r["a"])([Object(c["a"])("esri.renderers.mixins.VisualVariablesMixin")],e),e}},bee2:function(t,e,i){"use strict";function n(t){const e={};for(const i in t){if("declaredClass"===i)continue;const r=t[i];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){e[i]=[];for(let t=0;t<r.length;t++)e[i][t]=n(r[t])}else"object"==typeof r?r.toJSON&&(e[i]=JSON.stringify(r)):e[i]=r}return e}i.d(e,"a",(function(){return n}))},c047:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s}));var n=i("b2cd"),r=i("6323");async function s(t){if(!t)return;const e=t.indexOf("-vector")>-1?t.slice(0,t.indexOf("-vector")):t,i=await Object(r["a"])("esri/t9n/basemaps");return i[t]||i[e]}const o={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Object(n["a"])("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}},c04e:function(t,e,i){var n=i("da84"),r=i("c65b"),s=i("861d"),o=i("d9b5"),a=i("dc4a"),c=i("485ad"),l=i("b622"),u=n.TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!s(t)||o(t))return t;var i,n=a(t,h);if(n){if(void 0===e&&(e="default"),i=r(n,t,e),!s(i)||o(i))return i;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},c0d3:function(t,e,i){"use strict";i.d(e,"a",(function(){return y})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return g}));i("c120");var n=i("e92d"),r=i("4c37");let s,o=[];const a=n["a"].getLogger("esri.core.Accessor");function c(t){void 0!==s&&s.onObservableAccessed(t)}let l=!1,u=!1;function h(t,e,i){if(l)return p(t,e,i);f(t);const n=e.call(i);return b(),n}function d(t,e){return h(void 0,t,e)}function p(t,e,i){const n=l;l=!0,f(t);let r=null;try{r=e.call(i)}catch(s){u&&a.error(s)}return b(),l=n,r}function f(t){s=t,o.push(t)}function b(){const t=o.pop();s=o.length>0?o[o.length-1]:void 0,void 0!==t&&t.onTrackingEnd()}function y(t,e){if(32&e.flags)return;const i=u;u=!1,64&e.flags?p(e,e.metadata.get,t):g(t,e),u=i}const m=[];function g(t,e){128&e.flags||(e.flags|=128,p(e,()=>{const i=e.metadata.dependsOn||m;for(const e of i)if("string"==typeof e&&-1===e.indexOf("."))v(t,e,!1);else{const i=Object(r["f"])(e);for(let e=0,n=t;e<i.length&&null!=n&&"object"==typeof n;++e)n=v(n,i[e],e!==i.length-1)}}),e.flags&=-129)}function v(t,e,i){const n="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const s=Object(r["a"])(t),o=null==s?void 0:s.properties.get(n);return o&&(c(o),y(t,o)),i?t[n]:void 0}},c120:function(t,e,i){"use strict";var n,r;let s;var o,a;function c(t){return"function"==typeof s[t]?s[t]=s[t](globalThis):s[t]}i.d(e,"a",(function(){return c})),s=null!=(n=globalThis.dojoConfig)&&n.has||null!=(r=globalThis.esriConfig)&&r.has?{...null==(o=globalThis.dojoConfig)?void 0:o.has,...null==(a=globalThis.esriConfig)?void 0:a.has}:{},c.add=(t,e,i,n)=>((n||void 0===s[t])&&(s[t]=e),i&&c(t)),c.cache=s,c.add("esri-deprecation-warnings",!0),(()=>{var t;c.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",e),c.add("host-node","object"==typeof globalThis.process&&(null==(t=globalThis.process.versions)?void 0:t.node)&&globalThis.process.versions.v8),c.add("dom",e),c("host-browser")){const t=navigator,e=t.userAgent,i=t.appVersion,n=parseFloat(i);if(c.add("wp",parseFloat(e.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(e.split("MSAppHost/")[1])||void 0),c.add("khtml",i.includes("Konqueror")?n:void 0),c.add("edge",parseFloat(e.split("Edge/")[1])||void 0),c.add("opr",parseFloat(e.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(e.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(e.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(e.split("Android ")[1])||void 0),c.add("safari",!i.includes("Safari")||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(i.split("Version/")[1])),c.add("mac",i.includes("Macintosh")),!c("wp")&&e.match(/(iPhone|iPod|iPad)/)){const t=RegExp.$1.replace(/P/,"p"),i=e.match(/OS ([\d_]+)/)?RegExp.$1:"1",n=parseFloat(i.replace(/_/,".").replace(/_/g,""));c.add(t,n),c.add("ios",n)}c.add("trident",parseFloat(i.split("Trident/")[1])||void 0),c("webkit")||(!e.includes("Gecko")||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",n),c("mozilla")&&c.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&c.add("esri-mobile",e),i&&c.add("esri-iPhone",i),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident")),c.add("esri-wasm","WebAssembly"in globalThis),c.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=!1===globalThis.crossOriginIsolated;return t&&!e}),c.add("esri-atomics","Atomics"in globalThis),c.add("esri-workers","Worker"in globalThis),c.add("esri-text-decoder","TextDecoder"in globalThis),c.add("esri-text-encoder","TextEncoder"in globalThis),c.add("web-feat:cache","caches"in globalThis),c.add("esri-workers-arraybuffer-transfer",!c("safari")||Number(c("safari"))>=12),c.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),c.add("featurelayer-simplify-payload-size-factors",[1,1,4]),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("mapview-transitions-duration",200),c.add("mapserver-pbf-enabled",!1),c.add("vectortilelayer-max-buffers",c("ff")?160:Number.POSITIVE_INFINITY),c("host-webworker")||c("host-browser")&&(c.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),c.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{c.add("esri-image-decode",!0,!0,!0)}).catch(()=>{c.add("esri-image-decode",!1,!0,!0)})}return!1}),c.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})()},c128:function(t,e,i){"use strict";i.d(e,"a",(function(){return k}));var n,r=i("a4ee"),s=i("b2b2"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("448d")),c=i("d386"),l=i("961d"),u=i("f6ab"),h=i("90dc"),d=i("4d68"),p=i("cc88"),f=i("08f6"),b=(i("e92d"),i("2dd4"),i("a3af"));let y=n=class extends b["a"]{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:Object(s["l"])(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new n(t)}};Object(r["a"])([Object(a["a"])({multiply:"multiply",replace:"replace",tint:"tint"})],y.prototype,"colorMixMode",void 0),y=n=Object(r["a"])([Object(c["a"])("esri.symbols.support.Symbol3DFillMaterial")],y);var m,g=i("9ef0"),v=i("6a0e"),w=i("a915"),O=i("5c00"),j=i("af3d");let _=m=class extends v["a"]{constructor(t){super(t),this.color=new g["a"]([0,0,0,1]),this.size=Object(w["h"])(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:Object(s["l"])(this.color)?this.color.clone():null,size:this.size,pattern:Object(s["l"])(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new m(t)}};Object(r["a"])([Object(o["b"])(O["a"])],_.prototype,"color",void 0),Object(r["a"])([Object(o["b"])(O["b"])],_.prototype,"size",void 0),Object(r["a"])([Object(o["b"])(p["a"])],_.prototype,"pattern",void 0),Object(r["a"])([Object(o["b"])({type:j["a"],json:{default:"butt",write:{overridePolicy(){return{enabled:Object(s["l"])(this.pattern)}}}}})],_.prototype,"patternCap",void 0),_=m=Object(r["a"])([Object(c["a"])("esri.symbols.support.Symbol3DOutline")],_);const x=_;var S;let M=S=class extends l["a"]{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:Object(s["l"])(this.edges)?this.edges.clone():null,enabled:this.enabled,material:Object(s["l"])(this.material)?this.material.clone():null,pattern:Object(s["l"])(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:Object(s["l"])(this.outline)?this.outline.clone():null};return new S(t)}static fromSimpleFillSymbol(t){var e,i,n,r,s,o;const a=t.outline&&t.outline.style&&"inside-frame"!==t.outline.style&&"solid"!==t.outline.style?new h["a"]({style:t.outline.style}):null,c={size:null!=(e=null==(i=t.outline)?void 0:i.width)?e:0,color:(null!=(n=null==(r=t.outline)?void 0:r.color)?n:f["c"]).clone(),pattern:a};return a&&null!=(s=t.outline)&&s.cap&&(c.patternCap=t.outline.cap),new S({material:new y({color:(null!=(o=t.color)?o:f["b"]).clone()}),pattern:t.style&&"solid"!==t.style?new d["a"]({style:t.style}):null,outline:c})}};Object(r["a"])([Object(a["a"])({Fill:"fill"},{readOnly:!0})],M.prototype,"type",void 0),Object(r["a"])([Object(o["b"])({type:y,json:{write:!0}})],M.prototype,"material",void 0),Object(r["a"])([Object(o["b"])(p["b"])],M.prototype,"pattern",void 0),Object(r["a"])([Object(o["b"])({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],M.prototype,"castShadows",void 0),Object(r["a"])([Object(o["b"])({type:x,json:{write:!0}})],M.prototype,"outline",void 0),Object(r["a"])([Object(o["b"])(u["a"])],M.prototype,"edges",void 0),M=S=Object(r["a"])([Object(c["a"])("esri.symbols.FillSymbol3DLayer")],M);const k=M},c15d:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("a4ee"),r=i("9ef0"),s=i("6a0e"),o=i("7ffa"),a=i("a915"),c=i("59b2"),l=(i("cea0"),i("d386")),u=i("5c00");let h=class extends s["a"]{constructor(t){super(t),this.color=new r["a"]([0,0,0,1]),this.extensionLength=0,this.size=Object(a["h"])(1)}clone(){}cloneProperties(){return{color:Object(o["a"])(this.color),size:this.size,extensionLength:this.extensionLength}}};Object(n["a"])([Object(c["b"])({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],h.prototype,"type",void 0),Object(n["a"])([Object(c["b"])(u["a"])],h.prototype,"color",void 0),Object(n["a"])([Object(c["b"])({...u["b"],json:{write:{overridePolicy:t=>({enabled:!!t})}}})],h.prototype,"extensionLength",void 0),Object(n["a"])([Object(c["b"])(u["b"])],h.prototype,"size",void 0),h=Object(n["a"])([Object(l["a"])("esri.symbols.edges.Edges3D")],h);const d=h},c1da:function(t,e,i){"use strict";i.d(e,"a",(function(){return v})),i.d(e,"b",(function(){return x})),i.d(e,"c",(function(){return M})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return y})),i.d(e,"f",(function(){return k})),i.d(e,"g",(function(){return A})),i.d(e,"h",(function(){return I})),i.d(e,"i",(function(){return nt})),i.d(e,"j",(function(){return b})),i.d(e,"k",(function(){return h})),i.d(e,"l",(function(){return p})),i.d(e,"m",(function(){return O})),i.d(e,"n",(function(){return E})),i.d(e,"o",(function(){return P})),i.d(e,"p",(function(){return q})),i.d(e,"q",(function(){return B})),i.d(e,"r",(function(){return G})),i.d(e,"s",(function(){return J})),i.d(e,"t",(function(){return g})),i.d(e,"u",(function(){return K})),i.d(e,"v",(function(){return it}));var n,r=i("ce50"),s=i("b2b2"),o=i("9d1d");function a(t,e){switch(t.type){case"range":{const i="range"in t?t.range[0]:t.minValue,r="range"in t?t.range[1]:t.maxValue;if(+e<i||+e>r)return n.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==t.codedValues||t.codedValues.every(t=>null==t||t.code!==e))return n.INVALID_CODED_VALUE}return null}!function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(n||(n={}));var c=i("82fa");const l=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function h(t,e){if(null!=t&&null!=e)for(const i of Array.isArray(t)?t:[t])if(d(l,i,e),"visualVariables"in i&&i.visualVariables)for(const t of i.visualVariables)d(u,t,e)}function d(t,e,i){if(t)for(const n of t){const t=Object(o["b"])(n,e),r=t&&"function"!=typeof t&&i.get(t);r&&Object(o["c"])(n,r.name,e)}}function p(t,e){if(null!=t&&null!=e&&e.fields.length)if("startField"in t){const i=e.get(t.startField),n=e.get(t.endField);t.startField=i&&i.name||null,t.endField=n&&n.name||null}else{const i=e.get(t.startTimeField),n=e.get(t.endTimeField);t.startTimeField=i&&i.name||null,t.endTimeField=n&&n.name||null}}const f=new Set;function b(t,e){return t&&e?(f.clear(),y(f,t,e),Array.from(f).sort()):[]}function y(t,e,i){var n;if(i)if(null!=e&&null!=(n=e.fields)&&n.length)if(i.includes("*"))for(const{name:r}of e.fields)t.add(r);else for(const r of i)m(t,e,r);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const e of i)t.add(e)}}function m(t,e,i){if("string"==typeof i)if(e){const n=e.get(i);n&&t.add(n.name)}else t.add(i)}function g(t,e){return Object(s["k"])(e)||Object(s["k"])(t)?[]:e.includes("*")?t.fields.map(t=>t.name):e}async function v(t,e,i){var n;if(!i)return;const{arcadeUtils:r}=await Object(c["e"])(),s=r.extractFieldNames(i,null==e||null==(n=e.fields)?void 0:n.map(t=>t.name));for(const o of s)m(t,e,o)}async function w(t,e,n){if(n&&"1=1"!==n){const s=(await i.e("chunk-2d0d03a7").then(i.bind(null,"66a2"))).WhereClause.create(n,e);if(!s.isStandardized)throw new r["a"]("fieldUtils:collectFilterFields","Where clause is not standardized");y(t,e,s.fieldNames)}}function O({displayField:t,fields:e}){return t||(e&&e.length?_(e,"name-or-title")||_(e,"unique-identifier")||_(e,"type-or-category")||j(e):null)}function j(t){for(const e of t){if(!e||!e.name)continue;const t=e.name.toLowerCase();if(t.indexOf("name")>-1||t.indexOf("title")>-1)return e.name}return null}function _(t,e){for(const i of t)if(i&&i.valueType&&i.valueType===e)return i.name;return null}async function x(t,e){if(!e)return;const i=Object(o["b"])("elevationInfo.featureExpressionInfo",e);return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}async function S(t,e,i){i.outStatistic.onStatisticValueExpression?v(t,e,i.outStatistic.onStatisticValueExpression):t.add(i.outStatistic.onStatisticField)}async function M(t,e,i){var n,r;if(!e||!i||"cluster"!==i.type)return;const s=[];if(null!=(n=i.popupTemplate)&&n.expressionInfos&&s.push(...i.popupTemplate.expressionInfos.map(i=>v(t,e.fieldsIndex,i.expression))),Array.isArray(null==(r=i.popupTemplate)?void 0:r.content)){const n=i.popupTemplate.content;for(const i of n)"expression"===i.type&&i.expressionInfo&&s.push(v(t,e.fieldsIndex,i.expressionInfo.expression))}i.fields&&s.push(...i.fields.map(i=>S(t,e.fieldsIndex,i))),await Promise.all(s)}async function k(t,e,i){e&&(e.timeInfo&&Object(s["l"])(i)&&i.timeExtent&&y(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&y(t,e.fieldsIndex,[e.floorInfo.floorField]),Object(s["l"])(i)&&Object(s["l"])(i.where)&&await w(t,e.fieldsIndex,i.where))}async function I(t,e,i){e&&i&&await Promise.all(i.map(i=>T(t,e,i)))}async function T(t,e,i){e&&i&&(i.valueExpression?await v(t,e.fieldsIndex,i.valueExpression):i.field&&m(t,e.fieldsIndex,i.field))}function E(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;return e?b(t.fieldsIndex,[e&&e.creatorField,e&&e.creationDateField,e&&e.editorField,e&&e.editDateField]):[]}async function A(t,e){const{labelingInfo:i,fieldsIndex:n}=e;i&&i.length&&await Promise.all(i.map(e=>C(t,n,e)))}async function C(t,e,i){if(!i)return;const n=i.getLabelExpression(),r=i.where;if("arcade"===n.type)await v(t,e,n.expression);else{const i=n.expression.match(/{[^}]*}/g);i&&i.forEach(i=>{m(t,e,i.slice(1,-1))})}await w(t,e,r)}function P(t){const e=t.defaultValue;return void 0!==e&&$(t,e)?e:t.nullable?null:void 0}function R(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function L(t){return null===t||R(t)}const N="isInteger"in Number?Number.isInteger:t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t;function F(t){return null===t||N(t)}function D(t){return null!=t&&"string"==typeof t}function z(t){return null===t||D(t)}function V(){return!0}function $(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=t.nullable?F:N;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?L:R;break;case"string":case"esriFieldTypeString":i=t.nullable?z:D;break;default:i=V}return 1===arguments.length?i:i(e)}const G=["integer","small-integer","single","double"],U=new Set([...G,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function q(t){return null!=t&&U.has(t.type)}function B(t){return null!=t&&("string"===t.type||"esriFieldTypeString"===t.type)}var H,W;function J(t){return null==t||"number"==typeof t&&isNaN(t)?null:t}function K(t,e){return t.nullable&&null===e?null:q(t)&&!Y(t.type,Number(e))?H.OUT_OF_RANGE:$(t,e)?t.domain?a(t.domain,e):null:W.INVALID_TYPE}function Y(t,e){const i="string"==typeof t?Z(t):t;return!!i&&(i.isInteger?N(e)&&e>=i.min&&e<=i.max:e>=i.min&&e<=i.max)}function Z(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return X;case"esriFieldTypeInteger":case"integer":return Q;case"esriFieldTypeSingle":case"single":return tt;case"esriFieldTypeDouble":case"double":return et}}!function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(H||(H={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(W||(W={}));const X={min:-32768,max:32767,isInteger:!0},Q={min:-2147483648,max:2147483647,isInteger:!0},tt={min:-34e37,max:12e37,isInteger:!1},et={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function it(t,e,i){switch(t){case n.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case n.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case W.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case H.OUT_OF_RANGE:{const{min:t,max:n}=Z(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${t} to ${n}`}}}function nt(t,e){return!rt(t,e,null)}function rt(t,e,i){if(!e||!e.attributes||!t){if(Object(s["l"])(i))for(const e of t)i.add(e);return!0}const n=e.attributes;let r=!1;for(const o of t)if(!(o in n)){if(r=!0,!Object(s["l"])(i))break;i.add(o)}return r}},c246:function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var n,r=i("a4ee"),s=i("1fd7"),o=i("fa8a"),a=i("6a0e"),c=i("7ffa"),l=i("a915"),u=i("59b2"),h=(i("cea0"),i("afcf")),d=i("d386"),p=i("09db"),f=(i("b50f"),i("c120"),i("7b39"));let b=n=class extends a["a"]{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(t,e){return e.value?Object(f["a"])(e.value):t}writeExpression(t,e,i){null!=this.value&&(t=Object(f["a"])(this.value)),null!=t&&(e[i]=t)}clone(){return new n({expression:this.expression,title:this.title,value:this.value})}};Object(r["a"])([Object(u["b"])({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,"expression",void 0),Object(r["a"])([Object(h["a"])("expression",["expression","value"])],b.prototype,"readExpression",null),Object(r["a"])([Object(p["a"])("expression")],b.prototype,"writeExpression",null),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0),Object(r["a"])([Object(u["b"])({json:{read:!1,write:!1}})],b.prototype,"value",void 0),b=n=Object(r["a"])([Object(d["a"])("esri.layers.support.LabelExpressionInfo")],b);const y=b;var m,g=i("a6c1"),v=i("6174");const w=new o["a"]({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function O(t){return!t||"service"!==t.origin&&!j(t.layer)}function j(t){return"map-image"===(null==t?void 0:t.type)}function _(t){var e,i;return!!j(t)&&!(null==(e=t.capabilities)||null==(i=e.exportMap)||!i.supportsArcadeExpressionForLabeling)}function x(t){return O(t)||_(t.layer)}let S=m=class extends a["a"]{constructor(t){super(t),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=g["d"],this.useCodedValues=void 0,this.where=null}static evaluateWhere(t,e){const i=function(t,e,i){switch(e){case"=":return t==i;case"<>":return t!=i;case">":return t>i;case">=":return t>=i;case"<":return t<i;case"<=":return t<=i}return!1};try{if(null==t)return!0;const n=t.split(" ");if(3===n.length)return i(e[n[0]],n[1],n[2]);if(7===n.length){const t=i(e[n[0]],n[1],n[2]),r=n[3],s=i(e[n[4]],n[5],n[6]);switch(r){case"AND":return t&&s;case"OR":return t||s}}return!1}catch(n){console.log("Error.: can't parse = "+t)}}readLabelExpression(t,e){const i=e.labelExpressionInfo;if(!i||!i.value&&!i.expression)return t}writeLabelExpression(t,e,i){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)t=Object(f["f"])(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const e=Object(f["e"])(this.labelExpressionInfo.expression);e&&(t="["+e+"]")}null!=t&&(e[i]=t)}writeLabelExpressionInfo(t,e,i,n){if(null==t&&null!=this.labelExpression&&O(n))t=new y({expression:this.getLabelExpressionArcade()});else if(!t)return;const r=t.toJSON(n);r.expression&&(e[i]=r)}writeMaxScale(t,e){(t||this.minScale)&&(e.maxScale=t)}writeMinScale(t,e){(t||this.maxScale)&&(e.minScale=t)}getLabelExpression(){return Object(f["b"])(this)}getLabelExpressionArcade(){return Object(f["c"])(this)}getLabelExpressionSingleField(){return Object(f["d"])(this)}hash(){return JSON.stringify(this)}clone(){return new m({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(c["a"])(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:Object(c["a"])(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],S.prototype,"name",void 0),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],S.prototype,"allowOverrun",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],S.prototype,"deconflictionStrategy",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:{overridePolicy(t,e,i){return this.labelExpressionInfo&&"service"===(null==i?void 0:i.origin)&&_(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],S.prototype,"labelExpression",void 0),Object(r["a"])([Object(h["a"])("labelExpression")],S.prototype,"readLabelExpression",null),Object(r["a"])([Object(p["a"])("labelExpression")],S.prototype,"writeLabelExpression",null),Object(r["a"])([Object(u["b"])({type:y,json:{write:{overridePolicy:(t,e,i)=>x(i)?{allowNull:!0}:{enabled:!1}}}})],S.prototype,"labelExpressionInfo",void 0),Object(r["a"])([Object(p["a"])("labelExpressionInfo")],S.prototype,"writeLabelExpressionInfo",null),Object(r["a"])([Object(u["b"])({type:w.apiValues,json:{type:w.jsonValues,read:w.read,write:w.write}})],S.prototype,"labelPlacement",void 0),Object(r["a"])([Object(u["b"])({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],S.prototype,"labelPosition",void 0),Object(r["a"])([Object(u["b"])({type:Number})],S.prototype,"maxScale",void 0),Object(r["a"])([Object(p["a"])("maxScale")],S.prototype,"writeMaxScale",null),Object(r["a"])([Object(u["b"])({type:Number})],S.prototype,"minScale",void 0),Object(r["a"])([Object(p["a"])("minScale")],S.prototype,"writeMinScale",null),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],S.prototype,"repeatLabel",void 0),Object(r["a"])([Object(u["b"])({type:Number,cast:l["j"],json:{write:!0,origins:{"web-scene":{write:!1}}}})],S.prototype,"repeatLabelDistance",void 0),Object(r["a"])([Object(u["b"])({types:s["g"],json:{origins:{"web-scene":{types:s["h"],write:v["b"],default:null}},write:v["b"],default:null}})],S.prototype,"symbol",void 0),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0}})],S.prototype,"useCodedValues",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:!0}})],S.prototype,"where",void 0),S=m=Object(r["a"])([Object(d["a"])("esri.layers.support.LabelClass")],S);const M=S},c24e:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("aefa");class r{constructor(t,e){this._storage=new n["c"],this._storage.maxSize=t,e&&this._storage.registerRemoveFunc("",e)}put(t,e,i){this._storage.put(t,e,i,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}},c39b:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("ce6d"),r=i("c120"),s=i("901f"),o=i("ee0e"),a=i("ba6a"),c=i("ae54");const l={added:[],removed:[]},u=new Set,h=new c["a"](0,0,0,0);class d extends n["a"]{constructor(t){super(),this._tiles=new Map,this._index=Object(s["a"])(9,Object(r["a"])("esri-csp-restrictions")?t=>({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const e={added:[],removed:[]};for(const i of t.added)if(!this.has(i)){const t=new o["a"](this.tileScheme,i);this._tiles.set(i,t),this._index.insert(t),e.added.push(t)}for(const i of t.removed)if(this.has(i)){const t=this.get(i);this._tiles.delete(i),this._index.remove(t),e.removed.push(t)}this.tiles.length=0,this._tiles.forEach(t=>this.tiles.push(t)),(e.added.length||e.removed.length)&&this.emit("update",e)}setViewState(t){const e=this.tileScheme.getTileCoverage(t,0);if(!e)return;const{spans:i,lodInfo:n}=e,{level:r}=n;if(i.length>0)for(const{row:s,colFrom:a,colTo:c}of i)for(let t=a;t<=c;t++){const e=h.set(r,s,n.normalizeCol(t),n.getWorldForColumn(t)).id;if(u.add(e),!this.has(e)){const t=new o["a"](this.tileScheme,e);this._tiles.set(e,t),this._index.insert(t),this.tiles.push(t),l.added.push(t)}}for(let s=this.tiles.length-1;s>=0;s--){const t=this.tiles[s];u.has(t.id)||(this._tiles.delete(t.id),this.tiles.splice(s,1),this._index.remove(t),l.removed.push(t))}(l.added.length||l.removed.length)&&this.emit("update",l),a["a"].pool.release(e),u.clear(),l.added.length=0,l.removed.length=0}}},c3fc:function(t,e,i){"use strict";i.d(e,"a",(function(){return I}));var n,r=i("a4ee"),s=i("ce50"),o=i("fa8a"),a=i("e92d"),c=i("a915"),l=i("59b2"),u=(i("b50f"),i("c120"),i("1a3e")),h=i("afcf"),d=i("d386"),p=i("09db"),f=i("5dd5"),b=i("9a81"),y=(i("cea0"),i("5b83"));let m=n=class extends y["a"]{constructor(){super(...arguments),this.customValues=null}clone(){return new n({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};Object(r["a"])([Object(l["b"])({type:[Number],json:{write:!0}})],m.prototype,"customValues",void 0),m=n=Object(r["a"])([Object(d["a"])("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],m);const g=m;var v,w=i("86f2"),O=i("d297");const j=a["a"].getLogger("esri.renderers.visualVariables.SizeVariable"),_=new o["a"]({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),x=new o["a"]({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function S(t){if(null!=t)return"string"==typeof t||"number"==typeof t?Object(c["j"])(t):"size"===t.type?Object(w["c"])(t)?t:(delete(t={...t}).type,new k(t)):void 0}function M(t,e,i){if("object"!=typeof t)return t;const n=new k;return n.read(t,i),n}let k=v=class extends f["a"]{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:O["viewScaleRE"].test(this.valueExpression)}}set expression(t){j.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===t?(this.valueExpression="$view.scale",this._set("expression",t)):this._set("expression",null)}set index(t){Object(w["c"])(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),Object(w["c"])(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return Object(w["a"])(this)}set maxDataValue(t){t&&this.stops&&(j.warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(j.warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return S(t)}readMaxSize(t,e,i){return M(t,e,i)}set minDataValue(t){t&&this.stops&&(j.warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(j.warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return S(t)}readMinSize(t,e,i){return M(t,e,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(t){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?t&&Array.isArray(t)&&(t=t.filter(t=>!!t)).sort((t,e)=>t.value-e.value):t&&(j.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return Object(w["b"])(this,this.inputValueType)}readValueExpression(t,e){return t||e.expression&&"$view.scale"}writeValueExpressionWebScene(t,e,i,n){if("$view.scale"===t){if(n&&n.messages){const t=this.index,e="string"==typeof t?t:`visualVariables[${t}]`;n.messages.push(new s["a"]("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:e+".valueExpression",context:n}))}}else e[i]=t}readValueUnit(t){return t?x.read(t):null}clone(){return new v({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(w["c"])(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(w["c"])(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(t=>t.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if("clamped-linear"===this.transformationType){const{minSize:t,maxSize:e}=this;return this.minSize=e,this.maxSize=t,this}if("stops"===this.transformationType){const t=this.stops,e=t.map(t=>t.size).reverse(),i=t.length;for(let n=0;n<i;n++)t[n].size=e[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};Object(r["a"])([Object(l["b"])({readOnly:!0})],k.prototype,"cache",null),Object(r["a"])([Object(l["b"])({type:_.apiValues,json:{type:_.jsonValues,origins:{"web-map":{read:!1}},read:_.read,write:_.write}})],k.prototype,"axis",void 0),Object(r["a"])([Object(l["b"])({type:String,value:null,json:{read:!1}})],k.prototype,"expression",null),Object(r["a"])([Object(l["b"])()],k.prototype,"index",null),Object(r["a"])([Object(l["b"])({type:String,readOnly:!0})],k.prototype,"inputValueType",null),Object(r["a"])([Object(l["b"])({type:g,json:{write:!0}})],k.prototype,"legendOptions",void 0),Object(r["a"])([Object(l["b"])({type:Number,value:null,json:{write:!0}})],k.prototype,"maxDataValue",null),Object(r["a"])([Object(l["b"])({type:Number,value:null,json:{write:!0}})],k.prototype,"maxSize",null),Object(r["a"])([Object(u["a"])("maxSize")],k.prototype,"castMaxSize",null),Object(r["a"])([Object(h["a"])("maxSize")],k.prototype,"readMaxSize",null),Object(r["a"])([Object(l["b"])({type:Number,value:null,json:{write:!0}})],k.prototype,"minDataValue",null),Object(r["a"])([Object(l["b"])({type:Number,value:null,json:{write:!0}})],k.prototype,"minSize",null),Object(r["a"])([Object(u["a"])("minSize")],k.prototype,"castMinSize",null),Object(r["a"])([Object(h["a"])("minSize")],k.prototype,"readMinSize",null),Object(r["a"])([Object(l["b"])({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0),Object(r["a"])([Object(l["b"])({readOnly:!0})],k.prototype,"arcadeRequired",null),Object(r["a"])([Object(l["b"])({type:String})],k.prototype,"scaleBy",void 0),Object(r["a"])([Object(l["b"])({type:[b["a"]],value:null,json:{write:!0}})],k.prototype,"stops",null),Object(r["a"])([Object(l["b"])({type:["outline"],json:{write:!0}})],k.prototype,"target",void 0),Object(r["a"])([Object(l["b"])({type:String,readOnly:!0})],k.prototype,"transformationType",null),Object(r["a"])([Object(l["b"])({type:["size"],json:{type:["sizeInfo"]}})],k.prototype,"type",void 0),Object(r["a"])([Object(l["b"])({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],k.prototype,"useSymbolValue",void 0),Object(r["a"])([Object(l["b"])({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0),Object(r["a"])([Object(h["a"])("valueExpression",["valueExpression","expression"])],k.prototype,"readValueExpression",null),Object(r["a"])([Object(p["a"])("web-scene","valueExpression")],k.prototype,"writeValueExpressionWebScene",null),Object(r["a"])([Object(l["b"])({type:["radius","diameter","area","width","distance"],json:{write:!0}})],k.prototype,"valueRepresentation",void 0),Object(r["a"])([Object(l["b"])({type:x.apiValues,json:{write:x.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],k.prototype,"valueUnit",void 0),Object(r["a"])([Object(h["a"])("valueUnit")],k.prototype,"readValueUnit",null),k=v=Object(r["a"])([Object(d["a"])("esri.renderers.visualVariables.SizeVariable")],k);const I=k},c430:function(t,e){t.exports=!1},c478:function(t,e,i){"use strict";i.d(e,"a",(function(){return p})),i.d(e,"b",(function(){return f}));var n=i("b50f"),r=i("ce50"),s=i("e92d"),o=i("92ef"),a=i("4c37"),c=i("7ed0");const l=s["a"].getLogger("esri.core.accessorSupport.write");function u(t,e,i,n,r){var s,o;const a={};return null==(s=e.write)||null==(o=s.writer)||o.call(t,n,a,i,r),a}function h(t,e,i,n,s,a){if(!n||!n.write)return!1;const c=t.get(i);if(!s&&n.write.overridePolicy){const e=n.write.overridePolicy.call(t,c,i,a);void 0!==e&&(s=e)}if(s||(s=n.write),!s||!1===s.enabled)return!1;if((null===c&&!s.allowNull&&!s.writerEnsuresNonNull||void 0===c)&&s.isRequired){const e=new r["a"]("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return e&&a&&a.messages?a.messages.push(e):e&&!a&&l.error(e.name,e.message),!1}return void 0!==c&&(!(null===c&&!s.allowNull&&!s.writerEnsuresNonNull)&&(!d(t,i,a,n,c)&&(void 0!==n.default||!(!s.ignoreOrigin&&a&&a.origin&&e.store.originOf(i)<Object(o["d"])(a.origin)))))}function d(t,e,i,r,s){const o=r.default;if(void 0===o)return!1;if(null!=r.defaultEquals)return r.defaultEquals(s);if("function"==typeof o){if(Array.isArray(s)){const r=o.call(t,e,i);return Object(n["c"])(r,s)}return!1}return o===s}function p(t,e,i,n){const r=Object(a["a"])(t),s=r.metadatas,o=Object(c["c"])(s[e],n);return!!o&&h(t,r,e,o,i,n)}function f(t,e,i){if(t&&"function"==typeof t.toJSON&&(!t.toJSON.isDefaultToJSON||!t.write))return Object(a["c"])(e,t.toJSON());const n=Object(a["a"])(t),r=n.metadatas;for(const d in r){const p=Object(c["c"])(r[d],i);if(!h(t,n,d,p,void 0,i))continue;const f=t.get(d),b=u(t,p,p.write&&"string"==typeof p.write.target?p.write.target:d,f,i);var s,l;Object.keys(b).length>0&&(e=Object(a["c"])(e,b),null!=i&&null!=(s=i.resources)&&null!=(l=s.pendingOperations)&&l.length&&Promise.all(i.resources.pendingOperations).then(()=>Object(a["c"])(e,b)),i&&i.writtenProperties&&i.writtenProperties.push({target:t,propName:d,oldOrigin:Object(o["c"])(n.store.originOf(d)),newOrigin:i.origin}))}return e}},c47a:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("b2b2");function n(t,e){for(const i of t.entries())if(e(i[0]))return!0;return!1}},c528:function(t,e,i){"use strict";i.d(e,"a",(function(){return C}));var n=i("a4ee"),r=i("2c4f"),s=i("7d7d"),o=i("e92d"),a=i("e041"),c=i("0028"),l=i("59b2"),u=(i("b50f"),i("c120"),i("1a3e")),h=i("afcf"),d=i("d386"),p=i("09db"),f=i("0224"),b=i("fcf2"),y=i("05c5"),m=i("c128"),g=i("6005"),v=i("8d66"),w=i("e1bb"),O=i("3ad7"),j=i("0d93"),_=i("961d"),x=i("a957"),S=i("16e0"),M=i("b724"),k=i("505a");const I={icon:g["a"],object:w["a"],line:v["a"],path:O["a"],fill:m["a"],extrude:y["a"],text:x["a"],water:S["a"]},T=r["a"].ofType({base:_["a"],key:"type",typeMap:I,errorContext:"symbol-layer"}),E=o["a"].getLogger("esri.symbols.Symbol3D");let A=class extends j["a"]{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,i=e&&e.type||r["a"];this._set("symbolLayers",new i)}get color(){return null}set color(t){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Object(s["b"])(t,this._get("symbolLayers"))}readStyleOrigin(t,e,i){if(t.styleUrl&&t.name){const e=Object(b["a"])(t.styleUrl,i);return new M["a"]({styleUrl:e,name:t.name})}if(t.styleName&&t.name)return new M["a"]({portal:i&&i.portal||f["a"].getDefault(),styleName:t.styleName,name:t.name});i&&i.messages&&i.messages.push(new c["a"]("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,e,i,n){if(t.styleUrl&&t.name){let i=Object(b["e"])(t.styleUrl,n);Object(a["s"])(i)&&(i=Object(a["D"])(i)),e.styleOrigin={styleUrl:i,name:t.name}}else t.styleName&&t.name&&(t.portal&&n&&n.portal&&!Object(a["r"])(t.portal.restUrl,n.portal.restUrl)?n&&n.messages&&n.messages.push(new c["a"]("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof _["a"]||t&&I[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};Object(n["a"])([Object(l["b"])({json:{read:!1,write:!1}})],A.prototype,"color",null),Object(n["a"])([Object(l["b"])({type:T,nonNullable:!0,json:{write:!0}}),Object(u["a"])(s["a"])],A.prototype,"symbolLayers",null),Object(n["a"])([Object(l["b"])({type:M["a"]})],A.prototype,"styleOrigin",void 0),Object(n["a"])([Object(h["a"])("styleOrigin")],A.prototype,"readStyleOrigin",null),Object(n["a"])([Object(p["a"])("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],A.prototype,"writeStyleOrigin",null),Object(n["a"])([Object(l["b"])({type:k["a"],json:{read:!1}})],A.prototype,"thumbnail",void 0),Object(n["a"])([Object(l["b"])({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],A.prototype,"type",void 0),A=Object(n["a"])([Object(d["a"])("esri.symbols.Symbol3D")],A);const C=A},c5ac:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("fa8a"),r=i("a9ab");const s=new n["a"]({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),o=new n["a"]({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function a(t){const{geometries:e,bevelRatio:i,offsetDistance:n,offsetHow:a,offsetUnit:c}=t.toJSON(),l={bevelRatio:i,offsetDistance:n};return e&&e.length&&(l.geometries=JSON.stringify({geometryType:Object(r["c"])(e[0]),geometries:e}),l.sr=JSON.stringify(e[0].spatialReference)),a&&(l.offsetHow=s.toJSON(a)),c&&(l.offsetUnit=o.toJSON(c)),l}},c649:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return o}));var n=i("b2b2");function r(t){return s(()=>t.forEach(t=>Object(n["l"])(t)&&t.remove()))}function s(t){return{remove:()=>{t&&(t(),t=void 0)}}}function o(t){return s(()=>{const e=t();Object(n["l"])(e)&&e.remove()})}function a(t){return s(Object(n["l"])(t)?()=>t.destroy():void 0)}},c65b:function(t,e){var i=Function.prototype.call;t.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(t,e,i){var n=i("e330"),r=n({}.toString),s=n("".slice);t.exports=function(t){return s(r(t),8,-1)}},c6cd:function(t,e,i){var n=i("da84"),r=i("ce4e"),s="__core-js_shared__",o=n[s]||r(s,{});t.exports=o},c740:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").findIndex,s=i("44d2"),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},c89c:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("bb72"),r=i("e9fc"),s=i("69dd");async function o(t,e,i){const o=Object(n["c"])(t);return Object(r["executeQueryForCount"])(o,s["a"].from(e),{...i}).then(t=>t.data.count)}},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c8d6:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0")),c=i("d386");function l(t){const{exifInfo:e,exifName:i,tagName:n}=t;if(!e||!i||!n)return null;const r=e.find(t=>t.name===i);return r?u({tagName:n,tags:r.tags}):null}function u(t){const{tagName:e,tags:i}=t;if(!i||!e)return null;const n=i.find(t=>t.name===e);return n&&n.value||null}const h={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let d=n=class extends s["a"]{constructor(t){super(t),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:t}=this,e=l({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:t});return h[e]||null}clone(){return new n({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};Object(r["a"])([Object(o["b"])({type:String})],d.prototype,"contentType",void 0),Object(r["a"])([Object(o["b"])()],d.prototype,"exifInfo",void 0),Object(r["a"])([Object(o["b"])({readOnly:!0})],d.prototype,"orientationInfo",null),Object(r["a"])([Object(o["b"])({type:a["a"]})],d.prototype,"id",void 0),Object(r["a"])([Object(o["b"])({type:String})],d.prototype,"globalId",void 0),Object(r["a"])([Object(o["b"])({type:String})],d.prototype,"keywords",void 0),Object(r["a"])([Object(o["b"])({type:String})],d.prototype,"name",void 0),Object(r["a"])([Object(o["b"])({json:{read:!1}})],d.prototype,"parentGlobalId",void 0),Object(r["a"])([Object(o["b"])({json:{read:!1}})],d.prototype,"parentObjectId",void 0),Object(r["a"])([Object(o["b"])({type:a["a"]})],d.prototype,"size",void 0),Object(r["a"])([Object(o["b"])({json:{read:!1}})],d.prototype,"url",void 0),d=n=Object(r["a"])([Object(c["a"])("esri.layers.support.AttachmentInfo")],d);const p=d},c919:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=(i("e92d"),i("cea0"),i("b50f"),i("c120"),i("2dd4"),i("448d")),o=i("d386"),a=i("c15d");let c=n=class extends a["a"]{constructor(t){super(t),this.type="solid"}clone(){return new n(this.cloneProperties())}};Object(r["a"])([Object(s["a"])({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.symbols.support.SolidEdges3D")],c);const l=c},c9fb:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("a4ee"),r=i("9ef0"),s=i("6a0e"),o=i("59b2"),a=i("d386");let c=class extends s["a"]{constructor(){super(...arguments),this.enabled=!0}};Object(n["a"])([Object(o["b"])({type:Boolean})],c.prototype,"enabled",void 0),c=Object(n["a"])([Object(a["a"])("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],c);let l=class extends s["a"]{constructor(t){super(t),this.lineSnapper=new c,this.parallelLineSnapper=new c,this.rightAngleSnapper=new c,this.rightAngleTriangleSnapper=new c,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new r["a"]([255,127,0]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5}};Object(n["a"])([Object(o["b"])({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,"lineSnapper",void 0),Object(n["a"])([Object(o["b"])({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,"parallelLineSnapper",void 0),Object(n["a"])([Object(o["b"])({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,"rightAngleSnapper",void 0),Object(n["a"])([Object(o["b"])({type:c,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,"rightAngleTriangleSnapper",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,"shortLineThreshold",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,"distance",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,"pointThreshold",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,"intersectionParallelLineThreshold",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,"parallelLineThreshold",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,"touchSensitivityMultiplier",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,"pointOnLineThreshold",void 0),Object(n["a"])([Object(o["b"])({type:r["a"],nonNullable:!0})],l.prototype,"orange",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,"lineHintWidthReference",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,"lineHintWidthTarget",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],l.prototype,"lineHintFadedExtensions",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,"parallelLineHintWidth",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],l.prototype,"parallelLineHintLength",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],l.prototype,"parallelLineHintOffset",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],l.prototype,"rightAngleHintSize",void 0),Object(n["a"])([Object(o["b"])({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],l.prototype,"rightAngleHintOutlineSize",void 0),l=Object(n["a"])([Object(a["a"])("esri.views.interactive.snapping.Settings.Defaults")],l);const u=new l},ca84:function(t,e,i){var n=i("e330"),r=i("1a2d"),s=i("fc6a"),o=i("4d64").indexOf,a=i("d012"),c=n([].push);t.exports=function(t,e){var i,n=s(t),l=0,u=[];for(i in n)!r(a,i)&&r(n,i)&&c(u,i);while(e.length>l)r(n,i=e[l++])&&(~o(u,i)||c(u,i));return u}},cb26:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,e=this._accessed;for(let i=0;i<e.length;++i)t.push(e[i].observe(this));e.length=0}clear(){const t=this._handles;for(let e=0;e<t.length;++e)t[e].remove();t.length=0}}},cb72:function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var n,r=i("a4ee"),s=i("6a0e"),o=i("38a4"),a=i("59b2"),c=(i("b50f"),i("c120"),i("1a3e")),l=i("afcf"),u=i("d386"),h=i("09db"),d=i("cea0"),p=i("4ae5"),f=i("680b");let b=n=class extends s["a"]{constructor(...t){super(...t),this.position=new p["a"]([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(t,e,i,n){if(t&&"object"==typeof t&&("x"in t||Array.isArray(t))){const r={position:t};return null!=e&&(r.heading=e),null!=i&&(r.tilt=i),null!=n&&(r.fov=n),r}return t}writePosition(t,e,i,n){const r=t.clone();r.x=Object(d["i"])(t.x||0),r.y=Object(d["i"])(t.y||0),r.z=t.hasZ?Object(d["i"])(t.z||0):t.z,e[i]=r.write({},n)}readPosition(t,e){const i=new p["a"];return i.read(t,e),i.x=Object(d["i"])(i.x||0),i.y=Object(d["i"])(i.y||0),i.z=i.hasZ?Object(d["i"])(i.z||0):i.z,i}equals(t){return!!t&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)}clone(){return new n({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})}};Object(r["a"])([Object(a["b"])({type:p["a"],json:{write:{isRequired:!0}}})],b.prototype,"position",void 0),Object(r["a"])([Object(h["a"])("position")],b.prototype,"writePosition",null),Object(r["a"])([Object(l["a"])("position")],b.prototype,"readPosition",null),Object(r["a"])([Object(a["b"])({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(c["a"])(t=>f["a"].normalize(Object(d["i"])(t)))],b.prototype,"heading",void 0),Object(r["a"])([Object(a["b"])({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(c["a"])(t=>Object(o["d"])(Object(d["i"])(t),-180,180))],b.prototype,"tilt",void 0),Object(r["a"])([Object(a["b"])({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"fov",void 0),b=n=Object(r["a"])([Object(u["a"])("esri.Camera")],b);const y=b;var m,g=i("e06a"),v=i("b2b2"),w=i("a9ab");let O=m=class extends s["a"]{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new m({rotation:this.rotation,scale:this.scale,targetGeometry:Object(v["l"])(this.targetGeometry)?this.targetGeometry.clone():null,camera:Object(v["l"])(this.camera)?this.camera.clone():null})}};function j(){return{enabled:!this.camera}}Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:j}}}}})],O.prototype,"rotation",void 0),Object(r["a"])([Object(c["a"])("rotation")],O.prototype,"castRotation",null),Object(r["a"])([Object(a["b"])({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:j}}}}})],O.prototype,"scale",void 0),Object(r["a"])([Object(a["b"])({types:g["a"],json:{read:w["a"],write:!0,origins:{"web-scene":{read:w["a"],write:{overridePolicy:j}}}}})],O.prototype,"targetGeometry",void 0),Object(r["a"])([Object(a["b"])({type:y,json:{write:!0}})],O.prototype,"camera",void 0),O=m=Object(r["a"])([Object(u["a"])("esri.Viewpoint")],O);const _=O},cbf3:function(t,e,i){"use strict";function n(t){return(e,i)=>{e[i]=t}}i.d(e,"a",(function(){return n}))},cc12:function(t,e,i){var n=i("da84"),r=i("861d"),s=n.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},cc15:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return r}));var n=i("b2b2");function r(t,e,i={}){if(!window.WebGLRenderingContext)return o(t,a),null;const r=s(t,e,i);return Object(n["k"])(r)&&o(t,c),r}function s(t,e,i={}){const n=1===e?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let r=null;for(const s of n){try{r=t.getContext(s,i)}catch(c){}if(r)break}return r}function o(t,e){const i=t.parentNode;i&&(i.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+e+"</div></div></td></tr></table>")}const a='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',c='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},cc88:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return a}));var n=i("880c"),r=i("90dc"),s=i("46e8"),o=i("4d68");const a={types:{key:"type",base:s["a"],typeMap:{style:o["a"]}},json:{write:!0}},c={types:{key:"type",base:n["a"],typeMap:{style:r["a"]}},json:{write:!0}}},cca6:function(t,e,i){var n=i("23e7"),r=i("60da");n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cdd0:function(t,e,i){"use strict";i.d(e,"a",(function(){return w})),i.d(e,"b",(function(){return v})),i.d(e,"c",(function(){return y})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return g}));var n=i("b2cd"),r=i("9ef0"),s=i("2eab"),o=i("d7f2"),a=i("a915"),c=i("d445");const l="picture-fill",u="simple-fill",h="simple-line",d="simple-marker",p="text",f="cim",b=new o["a"](1e3);function y(t){const e=t.style;let i=null;if(t)switch(t.type){case d:"cross"!==e&&"x"!==e&&(i=t.color);break;case u:"solid"===e?i=t.color:"none"!==e&&(i={type:"pattern",x:0,y:0,src:Object(n["a"])(`esri/symbols/patterns/${e}.png`),width:5,height:5});break;case l:i={type:"pattern",src:t.url,width:Object(a["g"])(t.width)*t.xscale,height:Object(a["g"])(t.height)*t.yscale,x:Object(a["g"])(t.xoffset),y:Object(a["g"])(t.yoffset)};break;case p:i=t.color;break;case f:i=Object(c["a"])(t)}return i}function m(t,e){const i=t+"-"+e;return void 0!==b.get(i)?Promise.resolve(b.get(i)):Object(s["default"])(t,{responseType:"image"}).then(t=>{const n=t.data,r=n.naturalWidth,s=n.naturalHeight,o=document.createElement("canvas");o.width=r,o.height=s;const a=o.getContext("2d");a.fillStyle=e,a.fillRect(0,0,r,s),a.globalCompositeOperation="destination-in",a.drawImage(n,0,0);const c=o.toDataURL();return b.put(i,c),c})}function g(t){if(!t)return null;let e;switch(t.type){case u:case l:case d:e=g(t.outline);break;case h:{const i=Object(a["g"])(t.width);"none"!==t.style&&0!==i&&(e={color:t.color,style:v(t.style),width:i,cap:t.cap,join:"miter"===t.join?Object(a["g"])(t.miterLimit):t.join});break}default:e=null}return e}const v=function(){const t={};return function(e){if(t[e])return t[e];const i=e.replace(/-/g,"");return t[e]=i,i}}(),w=new r["a"]([128,128,128])},cdf9:function(t,e,i){var n=i("825a"),r=i("861d"),s=i("f069");t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=s.f(t),o=i.resolve;return o(e),i.promise}},ce0b:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386")),o=i("44e6"),a=i("a6a3"),c=i("997b"),l=i("5a62"),u=i("f626"),h=i("fd14");let d=class extends(Object(c["a"])(Object(l["a"])(a["a"]))){constructor(t){super(t),this.elevationInfo=null,this.graphics=new u["a"],this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,e){return super.on(t,e)}graphicChanged(t){this.emit("graphic-update",t)}};Object(n["a"])([Object(r["b"])({type:h["a"]})],d.prototype,"elevationInfo",void 0),Object(n["a"])([Object(r["b"])(Object(o["b"])(u["a"],"graphics"))],d.prototype,"graphics",void 0),Object(n["a"])([Object(r["b"])({type:["show","hide"]})],d.prototype,"listMode",void 0),Object(n["a"])([Object(r["b"])()],d.prototype,"screenSizePerspectiveEnabled",void 0),Object(n["a"])([Object(r["b"])({readOnly:!0})],d.prototype,"type",void 0),Object(n["a"])([Object(r["b"])({constructOnly:!0})],d.prototype,"internal",void 0),d=Object(n["a"])([Object(s["a"])("esri.layers.GraphicsLayer")],d);const p=d},ce4e:function(t,e,i){var n=i("da84"),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},ce50:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("7ffa"),r=i("e92d"),s=i("3423");class o extends s["a"]{constructor(t,e,i){if(super(t,e,i),!(this instanceof o))return new o(t,e,i)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,e)=>{if(e&&"object"==typeof e&&"function"==typeof e.toJSON)return e;try{return Object(n["a"])(e)}catch(o){return"[object]"}}))}}catch(t){throw r["a"].getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new o(t.name,t.message,t.details)}}o.prototype.type="error"},ce6d:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("fc29"),s=i("c649"),o=i("d386");class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}}!function(t){class e{constructor(t=null){this.target=t,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(t,e){const i=this._listenersMap&&this._listenersMap.get(t);if(!i)return!1;const n=this.target||this;return[...i].forEach(t=>{t.call(n,e)}),i.length>0}on(t,e){if(Array.isArray(t)){const i=t.map(t=>this.on(t,e));return Object(s["b"])(i)}if(t.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const i=this._listenersMap.get(t)||[];return i.push(e),this._listenersMap.set(t,i),{remove:()=>{const i=this._listenersMap&&this._listenersMap.get(t)||[],n=i.indexOf(e);n>=0&&i.splice(n,1)}}}once(t,e){const i=this.on(t,t=>{i.remove(),e.call(null,t)});return i}hasEventListener(t){const e=this._listenersMap&&this._listenersMap.get(t);return null!=e&&e.length>0}}t.EventEmitter=e,t.EventedMixin=t=>{let i=class extends t{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}};return i=Object(n["a"])([Object(o["a"])("esri.core.Evented")],i),i};let i=class extends r["a"]{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}};i=Object(n["a"])([Object(o["a"])("esri.core.Evented")],i),t.EventedAccessor=i}(a||(a={}));const c=a},cea0:function(t,e,i){"use strict";i.d(e,"a",(function(){return E})),i.d(e,"b",(function(){return _})),i.d(e,"c",(function(){return j})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return P})),i.d(e,"g",(function(){return M})),i.d(e,"h",(function(){return S})),i.d(e,"i",(function(){return l})),i.d(e,"j",(function(){return I})),i.d(e,"k",(function(){return T})),i.d(e,"l",(function(){return c})),i.d(e,"m",(function(){return O})),i.d(e,"n",(function(){return C})),i.d(e,"o",(function(){return k})),i.d(e,"p",(function(){return A}));i("c120");var n=i("e92d"),r=i("28eb");const s=n["a"].getLogger("esri.core.Accessor");function o(t){return null==t?t:new Date(t)}function a(t){return null==t?t:!!t}function c(t){return null==t?t:t.toString()}function l(t){return null==t?t:(t=parseFloat(t),isNaN(t)?0:t)}function u(t){return null==t?t:Math.round(parseFloat(t))}function h(t){return t&&t.constructor&&void 0!==t.constructor.__accessorMetadata__}function d(t,e){return null!=e&&t&&!(e instanceof t)}function p(t){return t&&"isCollection"in t}function f(t){return t&&t.Type?"function"==typeof t.Type?t.Type:t.Type.base:null}function b(t,e){if(!e||!e.constructor||!p(e.constructor))return y(t,e)?e:new t(e);const i=f(t.prototype.itemType),n=f(e.constructor.prototype.itemType);return i?n?i===n?e:i.prototype.isPrototypeOf(n.prototype)?new t(e):(y(t,e),e):new t(e):e}function y(t,e){return!!h(e)&&(s.error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+g(t)+"'"),!0)}function m(t,e){return null==e?e:p(t)?b(t,e):d(t,e)?y(t,e)?e:new t(e):e}function g(t){return t&&t.prototype&&t.prototype.declaredClass||"unknown"}const v=new WeakMap;function w(t){switch(t){case Number:return l;case E:return u;case Boolean:return a;case String:return c;case Date:return o;default:return Object(r["b"])(v,t,()=>m.bind(null,t))}}function O(t,e){const i=w(t);return 1===arguments.length?i:i(e)}function j(t,e,i){return 1===arguments.length?j.bind(null,t):e?Array.isArray(e)?e.map(e=>t(e,i)):[t(e,i)]:e}function _(t,e){return 1===arguments.length?j(O.bind(null,t)):j(O.bind(null,t),e)}function x(t,e,i){return 0!==e&&Array.isArray(i)?i.map(i=>x(t,e-1,i)):t(i)}function S(t,e,i){if(2===arguments.length)return S.bind(null,t,e);if(!i)return i;let n=e,r=i=x(t,e,i);for(;n>0&&Array.isArray(r);)n--,r=r[0];if(void 0!==r)for(let s=0;s<n;s++)i=[i];return i}function M(t,e,i){return 2===arguments.length?S(O.bind(null,t),e):S(O.bind(null,t),e,i)}function k(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!("string"===i||"number"===i||"function"===i&&t.length>1)})}function I(t,e){if(2===arguments.length)return I(t).call(null,e);const i=new Set,n=t.filter(t=>"function"!=typeof t),r=t.filter(t=>"function"==typeof t);for(const s of t)"string"!=typeof s&&"number"!=typeof s||i.add(s);let o=null,a=null;return(t,e)=>{if(null==t)return t;const c=typeof t,l="string"===c||"number"===c;return l&&(i.has(t)||r.some(t=>"string"===c&&t===String||"number"===c&&t===Number))||"object"===c&&r.some(e=>!d(t,e))?t:(l&&n.length?(o||(o=n.map(t=>"string"==typeof t?`'${t}'`:""+t).join(", ")),s.error("Accessor#set",`'${t}' is not a valid value for this property, only the following values are valid: ${o}`)):"object"==typeof t&&r.length?(a||(a=r.map(t=>g(t)).join(", ")),s.error("Accessor#set",`'${t}' is not a valid value for this property, value must be one of ${a}`)):s.error("Accessor#set",`'${t}' is not a valid value for this property`),e&&(e.valid=!1),null)}}function T(t,e){if(2===arguments.length)return T(t).call(null,e);const i={},n=[],r=[];for(const s in t.typeMap){const e=t.typeMap[s];i[s]=O(e),n.push(g(e)),r.push(s)}const o=()=>`'${n.join("', '")}'`,a=()=>`'${r.join("', '")}'`,c="string"==typeof t.key?e=>e[t.key]:t.key;return e=>{if(t.base&&!d(t.base,e))return e;if(null==e)return e;const n=c(e)||t.defaultKeyValue,r=i[n];if(!r)return s.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!d(t.typeMap[n],e))return e;if("string"==typeof t.key&&!h(e)){const i={};for(const n in e)n!==t.key&&(i[n]=e[n]);return r(i)}return r(e)}}class E{}const A={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function C(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function P(t){switch(t.type){case"native":return O(t.value);case"array":return j(P(t.value));case"one-of":return R(t);default:return null}}function R(t){let e=null;return(i,n)=>N(i,t)?i:(null==e&&(e=L(t)),s.error("Accessor#set","Invalid property value, value needs to be of type "+e),n&&(n.valid=!1),null)}function L(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case E:return"integer";case Date:return"date";default:return g(t.value)}case"array":return"array of "+L(t.value);case"one-of":{const e=t.values.map(t=>L(t));return`one of ${e.slice(0,e.length-1)} or ${e[e.length-1]}`}}return"unknown"}function N(t,e){if(null==t)return!0;switch(e.type){case"native":switch(e.value){case Number:case E:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(t=>!N(t,e.value));case"one-of":return e.values.some(e=>N(t,e))}}},ceaf:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("5986");let c=n=class extends a["a"]{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new n({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};Object(r["a"])([Object(s["b"])()],c.prototype,"image",void 0),Object(r["a"])([Object(s["b"])()],c.prototype,"value",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.support.Action.ActionToggle")],c);const l=c},cf3e:function(t,e,i){"use strict";i.d(e,"a",(function(){return li}));var n=i("a4ee"),r=(i("1b8f"),i("9d83")),s=i("af40"),o=i("b3b6"),a=i("3795"),c=i("4adc"),l=(i("b50f"),i("c120")),u=i("cea0"),h=i("59b2"),d=i("d386"),p=i("121a"),f=i("b2cd"),b=i("1325"),y=i("8d60"),m=i("4856"),g=(i("1fd7"),i("fc29")),v=i("2c4f"),w=i("e20b"),O=i("ce50"),j=i("ce6d"),_=i("e92d"),x=i("b2b2"),S=i("f4cc"),M=i("4ae5"),k=i("5996"),I=i("2035"),T=i("6323"),E=i("0224"),A=i("5e70"),C=i("7ffa"),P=i("a5d8"),R=i("6a0e");let L=class extends(Object(P["a"])(R["a"])){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};Object(n["a"])([Object(h["b"])()],L.prototype,"autoNavigate",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"filter",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"getResults",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"getSuggestions",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"maxResults",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"maxSuggestions",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"minSuggestCharacters",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"outFields",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"placeholder",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"popupEnabled",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"popupTemplate",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"prefix",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"resultGraphicEnabled",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"resultSymbol",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"suggestionsEnabled",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"suffix",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"withinViewEnabled",void 0),Object(n["a"])([Object(h["b"])()],L.prototype,"zoomScale",void 0),L=Object(n["a"])([Object(d["a"])("esri.widgets.Search.SearchSource")],L);const N=L;var F=i("8048"),D=i("1219"),z=(i("e06a"),i("49a0")),V=i("3af1");const $=_["a"].getLogger("esri.widgets.Search.support.geometryUtils");function G(t,e){var i,n;if(!e)return $.error("missing-parameter: view is missing."),Promise.reject(new O["a"]("searchgeometryutils:missing-parameter","view is missing."));if(!t)return $.error("missing-parameter: point is missing."),Promise.reject(new O["a"]("searchgeometryutils:missing-parameter","point is missing."));if(t.hasZ||"2d"===e.type)return Promise.resolve(t);const r=null==e||null==(i=e.map)?void 0:i.ground;return r&&r.layers.length?r.queryElevation(t,{cache:null==(n=e.basemapTerrain)?void 0:n.elevationQueryCache}).then(t=>t.geometry):Promise.resolve(t)}function U(t){if(Object(x["k"])(t))return null;switch(t.type){case"point":return t;case"extent":return t.center;case"polygon":return t.centroid;case"multipoint":return t.getPoint(0);case"polyline":return t.getPoint(0,0)}return null}function q(t,e,i){return Object(x["k"])(t)?null:"extent"===t.type?t:"multipoint"===t.type||"polygon"===t.type||"polyline"===t.type?t.extent:"point"===t.type?H(t,e,i):void 0}function B(t,e,i){return Object(x["k"])(t)||Object(x["k"])(e)?null:H(t.center,e,i)}function H(t,e,i){const n=t.hasZ?t.z:void 0;return e&&e.map?(i?Object(z["a"])(e,i):e.extent).clone().centerAt(t).set({zmax:n,zmin:n}):new V["a"]({xmin:t.x-.25,ymin:t.y-.25,xmax:t.x+.25,ymax:t.y+.25,spatialReference:t.spatialReference,zmin:n,zmax:n})}var W=i("255d"),J=i("4653");const K=/https?:\/\/services.*\.arcgis\.com/i,Y=/(?:\{([^}]+)\})/g,Z=_["a"].getLogger("esri.widgets.Search.support.layerSearchUtils");function X(t,e){const{exactMatch:i=!1,location:n,maxResults:r,spatialReference:s,source:o,sourceIndex:a,suggestResult:c,view:l}=t,{layer:u,filter:h,zoomScale:d}=o,p=l&&l.scale,f=tt(o,l),b=e&&e.signal;return it(u).then(()=>{const t=u.popupTemplate;return t?t.getRequiredFields(u.fieldsIndex):null}).then(t=>{var e,y,m;const{objectIdField:g,returnZ:v}=u,w=st(o);if(!at(u,w))throw Z.error("invalid-field: displayField is invalid."),new O["a"]("getResults():invalid-field","displayField is invalid.");const j=t&&t.length?t:[w],_=o.outFields||j,x=et(_);if(-1!==_.indexOf(g)||x||_.push(g),null!=(e=u.floorInfo)&&e.floorField&&_.push(u.floorInfo.floorField),!x&&!ot(u,_))throw Z.error("invalid-field: outField is invalid."),new O["a"]("getResults():invalid-field","outField is invalid.");const S=u.createQuery(),{orderByFields:M}=o;if(M&&(S.orderByFields=M),s){S.outSpatialReference=s;const t=1/Object(F["d"])(s);t&&(S.maxAllowableOffset=t)}const k="mesh"===u.geometryType||"multipatch"===u.geometryType,I=(null==(y=u.capabilities)||null==(m=y.data)?void 0:m.supportsZ)&&!k;if(S.returnZ=I&&!1!==v,S.returnGeometry=!0,S.multipatchOption=k?"xyFootprint":null,_&&(S.outFields=_),n)S.geometry=n;else if(c.key)S.objectIds=[c.key];else{const t=o.searchFields||[w];if(!ot(u,t))throw Z.error("invalid-field: search field is invalid."),new O["a"]("getResults():invalid-field","search field is invalid.");if(nt(u)&&(S.num=r),f&&(S.geometry=f),!c.text.trim())return[];const{prefix:e="",suffix:n=""}=o,s=ft({searchTerm:ut(`${e}${c.text}${n}`),layer:u,searchFields:t,filter:h,exactMatch:i,type:"search"});if(!s)return[];S.where=s}return u.queryFeatures(S,{signal:b}).then(t=>Ot(t,l,o,a,w,p,d))})}function Q(t,e){const{source:i,spatialReference:n,view:r,suggestTerm:s,maxSuggestions:o,sourceIndex:a,exactMatch:c}=t,{layer:l,filter:u}=i,h=e&&e.signal,d=tt(i,r);return it(l).then(()=>{if(!nt(l))return[];const t=st(i),e=i.searchFields||[t],r=[];i.suggestionTemplate?i.suggestionTemplate.replace(Y,(t,e)=>(r.push(e),t)):r.push(t);const p=et(r);-1!==r.indexOf(l.objectIdField)||p||r.push(l.objectIdField);const f=at(l,t),b=p||ot(l,r),y=ot(l,e);if(!f)throw Z.error("invalid-field: displayField is invalid."),new O["a"]("getSuggestions():invalid-field","displayField is invalid.");if(!b)throw Z.error("invalid-field: outField is invalid."),new O["a"]("getSuggestions():invalid-field","outField is invalid.");if(!y)throw Z.error("invalid-field: search field is invalid."),new O["a"]("getSuggestions():invalid-field","search field is invalid.");const m=l.createQuery(),{orderByFields:g}=i;if(g&&(m.orderByFields=g),m.outSpatialReference=n,m.returnGeometry=!1,m.num=o,m.outFields=r,d&&(m.geometry=d),!s.trim())return[];const{prefix:v="",suffix:w=""}=i,j=ft({searchTerm:ut(`${v}${s}${w}`),layer:l,searchFields:e,filter:u,exactMatch:c,type:"suggest"});return j?(m.where=j,l.queryFeatures(m,{signal:h}).then(e=>vt(e,i,a,t))):[]})}function tt(t,e){const{filter:i,withinViewEnabled:n}=t,r=e&&e.extent;return i&&i.geometry||(n&&r?r:void 0)}function et(t){return t&&-1!==t.indexOf("*")}async function it(t){t&&await t.load()}function nt(t){var e,i,n;return null!=(e=null==t||null==(i=t.capabilities)||null==(n=i.query)?void 0:n.supportsPagination)&&e}function rt(t){var e,i,n,r;return null!=(e=null==t||null==(i=t.fieldsIndex)||null==(n=i.fields)||null==(r=n.find(t=>"string"===t.type))?void 0:r.name)?e:""}function st(t){return t.displayField||t.layer.displayField||rt(t.layer)}function ot(t,e){return!(!t||!e)&&e.every(e=>at(t,e))}function at(t,e){return!!t.getField(e)}function ct(t){for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)return!0;return!1}function lt(t,e,i){let n=null;const{codedValues:r}=t;return r&&r.some(t=>{const r=t.name,s=i?r:r.toLowerCase();return(i?e:e.toLowerCase())===s&&(n=t.code.toString(),!0)}),n}function ut(t){return t.replace(/\'/g,"''")}function ht(t,e){const i=e&&e.where;return i?`(${t}) AND (${i})`:t}function dt({currentTerm:t,field:e,filter:i,exactMatch:n,url:r,type:s}){const o=e.type,a=e.name;if("string"===o||"date"===o||"global-id"===o){const e=K.test(r),o=e&&ct(t)?"N":"";if(n&&"search"===s)return ht(`${a} = ${o}'${t}'`,i);const c=e?a:`UPPER(${a})`,l=e?t:t.toUpperCase();return ht(`${c} LIKE ${o}${n?`'${l}%'`:`'%${l}%'`}`,i)}if("oid"===o||"small-integer"===o||"integer"===o||"single"===o||"double"===o){const e=Number(t);return isNaN(e)?null:ht(`${a} = ${e}`,i)}return ht(`${a} = ${t}`,i)}function pt(t,e){return t?` OR (${e})`:`(${e})`}function ft({searchTerm:t,layer:e,searchFields:i,filter:n,exactMatch:r,type:s}){const{definitionExpression:o,url:a}=e;let c="";return t&&i&&i.forEach(i=>{const o=e.getField(i),l="function"==typeof e.getFieldDomain&&e.getFieldDomain(i),u=(l&&"coded-value"===l.type?lt(l,t,r):null)||t||null;if(null!==u){const t=dt({currentTerm:u,field:o,filter:n,exactMatch:r,url:a,type:s});t&&(c+=pt(c,t))}}),o?`(${o}) AND (${c})`:c}function bt(t,e){let i=null;const{codedValues:n}=t;return n&&n.length&&n.some(t=>t.code===e&&(i=t.name,!0)),i}function yt(t,e){return t[Object.keys(t).find(t=>t.toLowerCase()===e.toLowerCase())]}function mt(t,e,i){const n=t.sourceLayer,{attributes:r}=t,s="function"==typeof n.getFieldDomain&&n.getFieldDomain(i);if(e)return Object(W["a"])(e,r);if(i&&r){const t=n.getField(i),e=yt(r,i);return null==e?"":s&&"coded-value"===s.type?bt(s,e):"date"===(null==t?void 0:t.type)?Object(J["b"])(new Date(e)):"number"==typeof e?e.toString():"string"!=typeof e?"":e.trim()}return""}function gt(t,e,i,n){const r=t.sourceLayer,{attributes:s}=t,{objectIdField:o}=r,a=s[o];return{text:mt(t,e.suggestionTemplate,n),key:a,sourceIndex:i}}function vt(t,e,i,n){return t.features.map(t=>gt(t,e,i,n))}function wt(t,e,i,n,r,s,o){const a=t.clone(),c=t.sourceLayer,l=c&&c.objectIdField,u=l&&t.attributes[l],h=mt(t,i.searchTemplate,r),d=q(a.geometry,e,s),p="number"==typeof o?B(Object(C["a"])(d),e,o):d,f=t.clone();return Object(x["l"])(p)&&(f.geometry=D["a"].fromExtent(p)),{extent:p,target:f,feature:a,key:u,name:h,sourceIndex:n}}function Ot(t,e,i,n,r,s,o){return t.features.map(t=>wt(t,e,i,n,r,s,o))}var jt;let _t=jt=class extends N{constructor(t){super(t),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,e)=>X({source:this,...t},e),this.getSuggestions=(t,e)=>Q({source:this,...t},e)}set layer(t){this._set("layer",t),t&&t.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(t){void 0!==t?this._override("name",t):this._clearOverride("name")}clone(){return new jt({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(C["a"])(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?Object(C["a"])(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var t,e;return null!=(t=null==(e=this.layer.fieldsIndex.fields.find(t=>"string"===t.type))?void 0:e.name)?t:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:t,searchFields:e}=this;return t.loaded?": "+(e||[this._getDisplayField()]).map(e=>{const i=t.getField(e);return i&&i.alias||e}).join(", "):""}_getLayerTitle(){const{layer:t}=this;if(!t)return;const{title:e}=t;return e?`${e}${this._getSearchFieldsString()}`:void 0}};Object(n["a"])([Object(h["b"])({json:{read:{source:"field.name"},write:{target:"field.name"}}})],_t.prototype,"displayField",void 0),Object(n["a"])([Object(h["b"])({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],_t.prototype,"exactMatch",void 0),Object(n["a"])([Object(h["b"])({value:null})],_t.prototype,"layer",null),Object(n["a"])([Object(h["b"])()],_t.prototype,"name",null),Object(n["a"])([Object(h["b"])({type:[String],json:{write:!0}})],_t.prototype,"orderByFields",void 0),Object(n["a"])([Object(h["b"])()],_t.prototype,"searchFields",void 0),Object(n["a"])([Object(h["b"])()],_t.prototype,"searchTemplate",void 0),Object(n["a"])([Object(h["b"])()],_t.prototype,"suggestionTemplate",void 0),_t=jt=Object(n["a"])([Object(d["a"])("esri.widgets.Search.LayerSearchSource")],_t);const xt=_t;var St=i("2eab"),Mt=i("bb72");function kt(t){return t&&"number"==typeof t.x&&"number"==typeof t.y}function It(t){return t&&"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax}let Tt=class extends R["a"]{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Tt.prototype,"address",void 0),Object(n["a"])([Object(h["b"])({type:Object,json:{write:!0}})],Tt.prototype,"attributes",void 0),Object(n["a"])([Object(h["b"])({type:V["a"],json:{write:!0}})],Tt.prototype,"extent",void 0),Object(n["a"])([Object(h["b"])({type:M["a"],json:{write:!0}})],Tt.prototype,"location",void 0),Object(n["a"])([Object(h["b"])({type:Number,json:{write:!0}})],Tt.prototype,"score",void 0),Tt=Object(n["a"])([Object(d["a"])("esri.rest.support.AddressCandidate")],Tt);const Et=Tt,At={type:String,json:{read:{source:"token"},write:{target:"token"}}};let Ct=class extends R["a"]{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};Object(n["a"])([Object(h["b"])({type:Object,json:{write:!0}})],Ct.prototype,"address",void 0),Object(n["a"])([Object(h["b"])(At)],Ct.prototype,"apiKey",void 0),Object(n["a"])([Object(h["b"])({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],Ct.prototype,"categories",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Ct.prototype,"countryCode",void 0),Object(n["a"])([Object(h["b"])({type:Boolean,json:{write:!0}})],Ct.prototype,"forStorage",void 0),Object(n["a"])([Object(h["b"])({type:M["a"],json:{write:{writer:(t,e)=>{e.location=t?t.clone().normalize():null}}}})],Ct.prototype,"location",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Ct.prototype,"locationType",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Ct.prototype,"magicKey",void 0),Object(n["a"])([Object(h["b"])({type:Number,json:{write:!0}})],Ct.prototype,"maxLocations",void 0),Object(n["a"])([Object(h["b"])({type:[String],json:{write:{writer:(t,e)=>{e.outFields=t?t.join(","):null}}}})],Ct.prototype,"outFields",void 0),Object(n["a"])([Object(h["b"])({type:k["a"],json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ct.prototype,"outSpatialReference",void 0),Object(n["a"])([Object(h["b"])({type:V["a"],json:{write:{writer:(t,e)=>{const i=t?t.shiftCentralMeridian():null;e.searchExtent=i}}}})],Ct.prototype,"searchExtent",void 0),Ct=Object(n["a"])([Object(d["a"])("esri.rest.support.AddressToLocationsParameters")],Ct),Ct.from=Object(u["m"])(Ct);const Pt=Ct;async function Rt(t,e,i){e=Pt.from(e);const n=Object(Mt["c"])(t),{address:r,...s}=e.toJSON(),o={...r,...s,f:"json"},a=Object(Mt["b"])({...n.query,...o}),c=Object(Mt["a"])(a,i),l=n.path+"/findAddressCandidates";return Object(St["default"])(l,c).then(Lt)}function Lt({data:t}){if(!t)return[];const{candidates:e,spatialReference:i}=t;return e?e.map(t=>{if(!t)return;const{extent:e,location:n}=t,r=!e||It(e);return kt(n)&&r?(e&&(e.spatialReference=i),n.spatialReference=i,Et.fromJSON(t)):void 0}):[]}let Nt=class extends R["a"]{constructor(t){super(t),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};Object(n["a"])([Object(h["b"])({type:[Object],json:{read:{reader:t=>t&&t.records?t.records.map(t=>t.attributes):null},write:{writer:(t,e)=>{const i=[];Array.isArray(t)&&t.forEach(t=>{i.push({attributes:t})}),e.addresses={records:i}}}}})],Nt.prototype,"addresses",void 0),Object(n["a"])([Object(h["b"])({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],Nt.prototype,"categories",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],Nt.prototype,"countryCode",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Nt.prototype,"locationType",void 0),Object(n["a"])([Object(h["b"])({type:k["a"],json:{read:{source:"outSR"},write:{target:"outSR"}}})],Nt.prototype,"outSpatialReference",void 0),Nt=Object(n["a"])([Object(d["a"])("esri.rest.support.AddressesToLocationsParameters")],Nt),Nt.from=Object(u["m"])(Nt);const Ft=Nt;async function Dt(t,e,i){e=Ft.from(e);const n=Object(Mt["c"])(t),r={...e.toJSON(),f:"json"},s=Object(Mt["b"])({...n.query,...r}),o=Object(Mt["a"])(s,i),a=n.path+"/geocodeAddresses";return Object(St["default"])(a,o).then(zt)}function zt(t){const{data:e}=t;if(!e)return[];const{locations:i,spatialReference:n}=e;return i?i.map(t=>{const{location:e}=t;return e&&(e.spatialReference=n),Et.fromJSON(t)}):[]}let Vt=class extends R["a"]{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};Object(n["a"])([Object(h["b"])(At)],Vt.prototype,"apiKey",void 0),Object(n["a"])([Object(h["b"])({type:M["a"],json:{write:{writer:(t,e)=>{const i=t?t.clone().normalize():null,n=void 0!==i;e.location=n?i:null}}}})],Vt.prototype,"location",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Vt.prototype,"locationType",void 0),Object(n["a"])([Object(h["b"])({type:k["a"],json:{read:{source:"outSR"},write:{target:"outSR"}}})],Vt.prototype,"outSpatialReference",void 0),Vt=Object(n["a"])([Object(d["a"])("esri.rest.support.LocationToAddressParameters")],Vt),Vt.from=Object(u["m"])(Vt);const $t=Vt;async function Gt(t,e,i){e=$t.from(e);const n=Object(Mt["c"])(t),r={...e.toJSON(),f:"json"},s=Object(Mt["b"])({...n.query,...r}),o=Object(Mt["a"])(s,i),a=n.path+"/reverseGeocode";return Object(St["default"])(a,o).then(Ut)}function Ut({data:t}){if(!t)return;const{address:e,location:i}=t,n=e&&e.Match_addr||"";return Et.fromJSON({address:n,attributes:e||{},location:i,score:100})}let qt=class extends R["a"]{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};Object(n["a"])([Object(h["b"])({type:Boolean,json:{write:!0}})],qt.prototype,"isCollection",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],qt.prototype,"magicKey",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],qt.prototype,"text",void 0),qt=Object(n["a"])([Object(d["a"])("esri.rest.support.SuggestionCandidate")],qt);const Bt=qt;let Ht=class extends R["a"]{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};Object(n["a"])([Object(h["b"])(At)],Ht.prototype,"apiKey",void 0),Object(n["a"])([Object(h["b"])({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],Ht.prototype,"categories",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Ht.prototype,"countryCode",void 0),Object(n["a"])([Object(h["b"])({type:M["a"],json:{write:{writer:(t,e)=>{e.location=t?t.clone().normalize():null}}}})],Ht.prototype,"location",void 0),Object(n["a"])([Object(h["b"])({type:Number,json:{write:!0}})],Ht.prototype,"maxSuggestions",void 0),Object(n["a"])([Object(h["b"])({type:k["a"],json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ht.prototype,"outSpatialReference",void 0),Object(n["a"])([Object(h["b"])({type:V["a"],json:{write:{writer:(t,e)=>{const i=t?t.shiftCentralMeridian():null;e.searchExtent=JSON.stringify(i)}}}})],Ht.prototype,"searchExtent",void 0),Object(n["a"])([Object(h["b"])({type:String,json:{write:!0}})],Ht.prototype,"text",void 0),Ht=Object(n["a"])([Object(d["a"])("esri.rest.support.SuggestLocationsParameters")],Ht),Ht.from=Object(u["m"])(Ht);const Wt=Ht;async function Jt(t,e,i){const n=Object(Mt["c"])(t),r={...(e=Wt.from(e)).toJSON(),f:"json"},s=Object(Mt["b"])({...n.query,...r}),o=Object(Mt["a"])(s,i),a=n.path+"/suggest";return Object(St["default"])(a,o).then(Kt)}function Kt(t){const{data:e}=t;if(!e)return[];const{suggestions:i}=e;return i?i.map(t=>new Bt(t)):[]}var Yt=i("9209");let Zt=class extends Yt["a"]{constructor(t){super(t),this.outSpatialReference=null,this.url=null}addressToLocations(t,e){!t.outSpatialReference&&this.outSpatialReference&&(t.outSpatialReference=this.outSpatialReference);const i={...this.requestOptions,...e};return Rt(this.url,t,i)}suggestLocations(t,e){const i={...this.requestOptions,...e};return Jt(this.url,t,i)}addressesToLocations(t,e){!t.outSpatialReference&&this.outSpatialReference&&(t.outSpatialReference=this.outSpatialReference);const i={...this.requestOptions,...e};return Dt(this.url,t,i)}locationToAddress(t,e){!t.outSpatialReference&&this.outSpatialReference&&(t.outSpatialReference=this.outSpatialReference);const i={...this.requestOptions,...e};return Gt(this.url,t,i)}};Object(n["a"])([Object(h["b"])({type:k["a"]})],Zt.prototype,"outSpatialReference",void 0),Object(n["a"])([Object(h["b"])()],Zt.prototype,"url",void 0),Zt=Object(n["a"])([Object(d["a"])("esri.tasks.Locator")],Zt);const Xt=Zt,Qt="Single Line Input",te=3e5;function ee(t,e){return t.location?ce(t,e):ue(t,e)}function ie(t,e){if(e.localSearchDisabled)return null;const i=null==t?void 0:t.scale;return"number"==typeof i&&i<=te?t.get("extent.center"):null}function ne(t,e){const{source:i,spatialReference:n,view:r,suggestTerm:s,maxSuggestions:o,sourceIndex:a}=t,c=new Wt,{apiKey:l,url:u}=i,h=le(i,r),d=e&&e.signal;if(!u)return Promise.resolve(null);l&&(c.apiKey=l),i.categories&&(c.categories=i.categories),n&&(c.outSpatialReference=n);const p=ie(r,i);if(p&&(c.location=p),!s.trim())return Promise.resolve(null);const{prefix:f="",suffix:b=""}=i,y=`${f}${s}${b}`;return c.text=y,h&&(c.searchExtent=Object(x["t"])(h)),c.maxSuggestions=o,i.countryCode&&(c.countryCode=i.countryCode),Jt(u,c,{signal:d}).then(t=>de(t,a))}function re(t){return!!t&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(t)}function se(t){return!!t&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(t)}function oe(t){return!!t&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(t)}const ae="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function ce(t,e){const{source:i,spatialReference:n,location:r,sourceIndex:s,view:o}=t,{apiKey:a,url:c,zoomScale:l,defaultZoomScale:u}=i,h=o&&o.scale,d=e&&e.signal,p=new $t;return p.location=r,a&&(p.apiKey=a),n&&(p.outSpatialReference=n),Gt(c,p,{signal:d}).then(t=>fe([t],{sourceIndex:s,scale:h,view:o,zoomScale:l,defaultZoomScale:u}))}function le(t,e){const{filter:i,withinViewEnabled:n}=t,r=e&&e.scale,s=e&&e.extent,o=i&&i.geometry;return q(o,e,r)||(n&&s?s:void 0)}function ue(t,e){const{source:i,suggestResult:n,spatialReference:r,view:s,maxResults:o,sourceIndex:a}=t,c=i&&i.zoomScale,l=i&&i.defaultZoomScale;if(!n.text.trim())return Promise.resolve(null);const u=!n.key&&i.prefix?i.prefix:"",h=!n.key&&i.suffix?i.suffix:"",d=`${u}${n.text}${h}`,p=new Pt,{apiKey:f,url:b}=i,y=s&&s.scale,m=le(i,s),g=e&&e.signal;if(f&&(p.apiKey=f),!b)return Promise.resolve(null);i.categories&&(p.categories=i.categories),i.locationType&&(p.locationType=i.locationType),r&&(p.outSpatialReference=r);const v=ie(s,i);v&&(p.location=v),p.maxLocations=o,m&&(p.searchExtent=Object(x["t"])(m)),i.countryCode&&(p.countryCode=i.countryCode);const{key:w}=n,O=""+w;return w&&(p.magicKey=O),p.address={},p.address[i.singleLineFieldName||Qt]=d,i.outFields&&(p.outFields=i.outFields),Rt(b,p,{signal:g}).then(t=>fe(t,{key:O,scale:y,sourceIndex:a,view:s,zoomScale:c,defaultZoomScale:l}))}function he(t,e){return{text:t.text,key:t.magicKey,sourceIndex:e}}function de(t,e){return t.map(t=>he(t,e))}function pe(t,e){const{key:i,scale:n,sourceIndex:r,view:s,zoomScale:o,defaultZoomScale:a}=e,{attributes:c,extent:l,location:u,address:h}=t,d=new y["a"]({geometry:u,attributes:c}),p=l||u,f=q(p,s,n),b="number"==typeof o?B(f,s,o):"number"==typeof a&&"point"===p.type?B(f,s,a):f,m=u?`${u.x},${u.y}`:"",g=h||m,v=d.clone();return Object(x["l"])(b)&&(v.geometry=D["a"].fromExtent(b)),{extent:b,feature:d,target:v,key:i,name:g,sourceIndex:r}}function fe(t,e){return t.filter(Boolean).map(t=>pe(t,e))}var be;const ye="esri.widgets.Search.LocatorSearchSource",me=_["a"].getLogger(ye);let ge=be=class extends N{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,e)=>ee({source:this,...t},e),this.getSuggestions=(t,e)=>ne({source:this,...t},e)}set locator(t){Object(w["c"])(me,"locator",{replacement:"url",version:"4.22"}),this._set("url",t.url),this._set("locator",t)}get locator(){return Object(w["c"])(me,"locator",{replacement:"url",version:"4.22"}),this._get("locator")}clone(){return new be({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(C["a"])(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?Object(C["a"])(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};Object(n["a"])([Object(h["b"])()],ge.prototype,"apiKey",void 0),Object(n["a"])([Object(h["b"])()],ge.prototype,"categories",void 0),Object(n["a"])([Object(h["b"])()],ge.prototype,"countryCode",void 0),Object(n["a"])([Object(h["b"])({json:{write:!0}})],ge.prototype,"defaultZoomScale",void 0),Object(n["a"])([Object(h["b"])()],ge.prototype,"localSearchDisabled",void 0),Object(n["a"])([Object(h["b"])({type:Xt,json:{read:!1,write:!1}})],ge.prototype,"locator",null),Object(n["a"])([Object(h["b"])()],ge.prototype,"locationType",void 0),Object(n["a"])([Object(h["b"])({json:{write:!0}})],ge.prototype,"name",void 0),Object(n["a"])([Object(h["b"])({json:{write:!0}})],ge.prototype,"placeholder",void 0),Object(n["a"])([Object(h["b"])()],ge.prototype,"searchTemplate",void 0),Object(n["a"])([Object(h["b"])({json:{write:!0}})],ge.prototype,"singleLineFieldName",void 0),Object(n["a"])([Object(h["b"])({json:{read:{source:"suggest"},write:{target:"suggest"}}})],ge.prototype,"suggestionsEnabled",void 0),Object(n["a"])([Object(h["b"])({json:{write:!0}})],ge.prototype,"url",void 0),Object(n["a"])([Object(h["b"])({json:{write:!0}})],ge.prototype,"zoomScale",void 0),ge=be=Object(n["a"])([Object(d["a"])(ye)],ge);const ve=ge;var we=i("9786"),Oe=(i("e041"),i("3760"),i("57dc"),i("521c"),i("bda0"),i("2cd6"),i("169c"),i("004a"),i("da3a"),i("ab6e"),i("c5ac"),i("ac91")),je=(i("a4f9"),i("7d03"),i("549b"),i("19e0"),i("7e6b"));const _e=_["a"].getLogger("esri.widgets.support.geolocationUtils"),xe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function Se(){const t=Object(l["a"])("esri-geolocation");return t||_e.warn("geolocation-unsupported","Geolocation unsupported."),t}function Me(){const t=window.isSecureContext;return t||_e.warn("insecure-context","Geolocation requires a secure origin."),t}function ke(){return Se()&&Me()}function Ie(t){const e=15e3;return t||(t=xe),new Promise((i,n)=>{setTimeout(()=>n(new O["a"]("geolocation:timeout","getting the current geolocation position timed out")),e),navigator.geolocation.getCurrentPosition(i,n,t)})}function Te(t,e){const{position:i,view:n}=t;return Ce(Ae(Ee(i)),n,e)}function Ee(t){const e=t&&t.coords||{},i={accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,heading:e.heading,latitude:e.latitude,longitude:e.longitude,speed:e.speed};return t?{coords:i,timestamp:t.timestamp}:t}function Ae(t){const e=t&&t.coords;return e?new M["a"]({longitude:e.longitude,latitude:e.latitude,z:e.altitude||null,spatialReference:{wkid:4326}}):null}function Ce(t,e,i){if(!e)return Promise.resolve(t);const n=e.spatialReference;return n.isWGS84?Promise.resolve(t):n.isWebMercator?Promise.resolve(Object(we["b"])(t)):Pe(i).then(e=>{if(!e)throw new O["a"]("geometry-service:missing-url","Geometry service URL is missing");const r=new je["a"]({geometries:[t],outSpatialReference:n});return Object(Oe["a"])(e,r,i).then(t=>t[0])})}function Pe(t){if(b["a"].geometryServiceUrl)return Promise.resolve(b["a"].geometryServiceUrl);const e=E["a"].getDefault();return e.load(t).catch(()=>{}).then(()=>e.get("helperServices.geometry.url"))}var Re=i("28c0"),Le=i("37e7"),Ne=i("db52"),Fe=i("0d76"),De=i("21ba");function ze(t,e){return t.hasOwnProperty(e)&&null!=t[e]&&""!==t[e]}const Ve=()=>Object(T["a"])("esri/widgets/Search/t9n/Search"),$e="esri.widgets.Search.SearchViewModel",Ge=_["a"].getLogger($e),Ue="highlight",qe=v["a"].ofType({key:t=>t.layer?"layer":"locator",base:N,typeMap:{layer:xt,locator:ve}}),Be=k["a"].WGS84,He="esri/images/search/search-symbol-32.svg",We="esri/images/search/search-symbol-32.png",Je=/<(?:.|\s)*?>/g,Ke=-1;let Ye=class extends(Object(Re["a"])(j["a"].EventedMixin(g["a"]))){constructor(t){super(t),this._handles=new s["a"],this._gotoController=null,this._searching=null,this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new qe,this.defaultSymbols={point:new Le["a"]({url:Object(f["a"])(Object(l["a"])("trident")?We:He),size:24,width:24,height:24}),polyline:new Ne["a"]({color:[130,130,130,1],width:2}),polygon:new Fe["a"]({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=E["a"].getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new qe,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const t=await Ve();this.messages=t,this.defaultPopupTemplate=new m["a"]({title:t.searchResult,content:"{Match_addr}"})};t(),this._handles.add([Object(a["b"])(this,["defaultSources","sources"],"change",()=>this.notifyChange("allSources")),Object(a["a"])(this,["includeDefaultSources","view","portal"],()=>this._update()),Object(I["c"])(t)])}destroy(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return 1!==this.allSources.length&&this.searchAllEnabled?Ke:0}set activeSourceIndex(t){void 0!==t?this._override("activeSourceIndex",t):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var t;return null==(t=this.messages)?void 0:t.allPlaceholder}set allPlaceholder(t){t?this._override("allPlaceholder",t):this._clearOverride("allPlaceholder")}get allSources(){const{sources:t,defaultSources:e,includeDefaultSources:i}=this,n="function"==typeof i?i.call(null,{sources:t,defaultSources:e}):i?e.concat(t):t,r=this._get("allSources")||new qe;return r.removeAll(),r.addMany(n.filter(Boolean)),r}get defaultSymbol(){return Object(w["c"])(Ge,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(t){Object(w["c"])(Ge,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",t)}get locationEnabled(){return this._get("locationEnabled")||ke()}set locationEnabled(t){if(void 0===t)return void this._clearOverride("locationEnabled");const e=ke();if(t&&!e){const t=new O["a"]("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Ge.error(t)}this._override("locationEnabled",t&&e)}get placeholder(){const{allSources:t,activeSourceIndex:e,allPlaceholder:i}=this;if(e===Ke)return i;const n=t.getItemAt(e);return n?n.placeholder:""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),""===t&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(t,e){this.emit("search-start"),this.clearGraphics();const i=this._createSuggestionForSearch(t),n=this.when().then(()=>this._getResultsFromSources(i,e).then(t=>{var n;if(null!=(n=Object(x["t"])(null==e?void 0:e.signal))&&n.aborted)return null;const r={activeSourceIndex:this.activeSourceIndex,searchTerm:i.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(r,t,i);const s=this._getFirstResult(r.results),o=(i.location&&s?s.name:i.text).replace(Je,"");return this._set("searchTerm",o),(i.key&&"number"==typeof i.sourceIndex||i.location)&&this._set("selectedSuggestion",i),this._set("results",r.results),this._set("resultCount",r.results.reduce((t,e)=>t+e.results.length,0)),this.emit("search-complete",r),this._selectFirstResult(s).then(()=>r)})).then(t=>(this._clearSearching(),t),t=>{throw this._clearSearching(),t});return this._searching=n,this.notifyChange("state"),n}searchNearby(t){if(!this.locationEnabled){const t=new O["a"]("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return Ge.error(t),Promise.reject(t)}const e=Ie().then(e=>Te({position:e,view:this.view},t)).then(e=>this.search(e,t));return this._searching=e,this.notifyChange("state"),e.catch(()=>{}).then(()=>this._clearSearching()),e}select(t){if(this.clearGraphics(),!t){const e=new O["a"]("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});return Ge.error(e),Promise.reject(e)}const{view:e}=this,i=ze(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),n=this.allSources.getItemAt(i);if(!n){const t=new O["a"]("select:missing-source","Cannot select without a source.",{source:n});return Ge.error(t),Promise.reject(t)}const r=n instanceof xt?this._getLayerSourcePopupTemplate(n):n.popupTemplate,s=n.resultSymbol||this._getDefaultSymbol(t),o=ze(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,a=ze(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,c=ze(n,"popupEnabled")?n.popupEnabled:this.popupEnabled,l=c?r||this.popupTemplate||this.defaultPopupTemplate:null,{feature:u}=t;if(!u){const t=new O["a"]("select:missing-feature","Cannot select without a feature.",{feature:u});return Ge.error(t),Promise.reject(t)}const{attributes:h,geometry:d,layer:p,sourceLayer:f}=u,b=U(d),m={layerViewQuery:this._getLayerView(u),elevationQuery:e&&Object(x["l"])(b)?G(b,e).catch(()=>b):Promise.resolve(b)};return Object(S["i"])(m).then(r=>{const b=r.layerViewQuery.value,m=r.elevationQuery.value;s instanceof De["a"]&&(s.text=t.name);const g=e&&a?t.target||t.extent:null;return(Object(x["l"])(g)?this._goToSearchResult(g):Promise.resolve()).then(()=>{var r;const a=b?u:new y["a"]({geometry:d,symbol:s,attributes:h,layer:p,sourceLayer:f,popupTemplate:l}),g=c&&(null==(r=this.view)?void 0:r.popup),v=g&&a.getEffectivePopupTemplate(g.defaultPopupTemplateEnabled);return v&&e.popup.open({features:[a],location:m}),b&&Object(A["a"])(b)&&!v&&this._highlightFeature({graphic:a,layerView:b}),!b&&o&&e&&e.graphics.push(a),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",a),this.emit("select-result",{result:t,source:n,sourceIndex:i}),t})})}suggest(t,e,i){const n=t||this.searchTerm;return this.emit("suggest-start",{searchTerm:n}),this._suggestTimer(e,i).then(()=>this._suggestImmediate(n,i).then(t=>(this._set("suggestions",t.results),this._set("suggestionCount",t.results.reduce((t,e)=>t+e.results.length,0)),this.emit("suggest-complete",t),t)))}async when(){await Object(a["g"])(this,"updating")}async _update(){const{portal:t,view:e}=this;if(this.includeDefaultSources){const i=this._updatingPromise=Object(S["i"])([null==t?void 0:t.load(),null==e?void 0:e.when()]);if(this.destroyed)return;if(this.notifyChange("updating"),await i,i!==this._updatingPromise)return}this._updatingPromise=null,this.notifyChange("updating");const i=Object(a["j"])(this,"messages");this.destroyed||(this._handles.add(i),await i,this._updateDefaultSources())}_clearSearching(){this._searching=null,this.notifyChange("state")}_convertHelperServices(){var t,e;const i=null==(t=this.portal)||null==(e=t.helperServices)?void 0:e.geocode;return i?i.map(t=>{if(!1===t.placefinding)return;const e=b["a"].apiKey&&oe(t.url)?{url:ae}:null,i=ve.fromJSON({...t,...e}),n=i.url;if(oe(n)||se(n)||re(n)){const t=i.outFields||["Addr_type","Match_addr","StAddr","City"],e=i.placeholder||this.messages.placeholder,n="number"==typeof i.defaultZoomScale?i.defaultZoomScale:2500;i.set({singleLineFieldName:"SingleLine",outFields:t,placeholder:e,defaultZoomScale:n})}return i.singleLineFieldName?i:void 0}).filter(Boolean):[]}_getLayerSources(t,e){var i;const n=null==(i=this.view)?void 0:i.map;return t.map(t=>{const i=n.findLayerById(t.id);if(!i)return;const r=this._getLayerJSON(t),s=xt.fromJSON(r);return s.placeholder=e,this._getLayer(i,r).then(t=>{s.layer=t}),s}).filter(Boolean).toArray()}_getTableSources(t,e){var i;const n=null==(i=this.view)?void 0:i.map;return t.map(t=>{const i=n.findTableById(t.id);if(!i)return;const r=this._getLayerJSON(t),s=xt.fromJSON(r);return s.placeholder=e,this._getLayer(i,r).then(t=>{s.layer=t}),s}).filter(Boolean).toArray()}_convertApplicationProperties(){var t,e,i;const n=null==(t=this.view)?void 0:t.map,r=null==n||null==(e=n.applicationProperties)||null==(i=e.viewing)?void 0:i.search;if(!r)return[];const{enabled:s,hintText:o,layers:a,tables:c}=r;return s?[...this._getLayerSources(a,o),...this._getTableSources(c,o)]:[]}_getSubLayer(t,e){return t.load().then(()=>{if(!t.allSublayers)return Promise.reject();const i=t.allSublayers.find(t=>t.id===e.subLayer);return i?i.createFeatureLayer():Promise.reject()})}async _getBuildingSubLayer(t,e){await t.load();const i=t.allSublayers.find(t=>t.id===e.subLayer);return"building-component"!==(null==i?void 0:i.type)?Promise.reject():(await i.load(),null==i.associatedLayer?Promise.reject():(await i.associatedLayer.load(),i))}_getLayer(t,e){return"feature"===t.type||"scene"===t.type||"csv"===t.type||"geojson"===t.type||"ogc-feature"===t.type?Promise.resolve(t):"map-image"===t.type?this._getSubLayer(t,e).catch(()=>{const e=new O["a"]("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return Ge.error(e),null}):"building-scene"===t.type?this._getBuildingSubLayer(t,e):Promise.resolve(null)}_getLayerJSON(t){return"function"==typeof t.toJSON?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:e}=this;t.removeAll(),e&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()]),this.notifyChange("allSources")}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var t;const e=null==(t=this.view)?void 0:t.popup,{resultGraphic:i}=this;if(!e||!i)return;const{selectedFeature:n}=e;n&&n===i&&e.close()}_suggestTimer(t,e){const i=null!=t?t:this.suggestionDelay;return Object(S["a"])(i,null,e&&e.signal)}_createLocationForSearch(t){return t instanceof y["a"]?U(t.geometry):t instanceof M["a"]?t:Array.isArray(t)&&2===t.length?new M["a"]({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&ze(t,"key")&&ze(t,"text")&&ze(t,"sourceIndex"))return t;const e=this._createLocationForSearch(t),i="string"==typeof t?t:this.searchTerm,{selectedSuggestion:n,selectedResult:r}=this,s=!t&&n&&r,o=s&&n.key===r.key&&n.sourceIndex===r.sourceIndex,a=s&&n.location;return o||a?n:{location:Object(x["t"])(e),text:e?"":i,sourceIndex:null,key:null}}_getFirstResult(t){let e=null;return t&&t.some(t=>{const{results:i}=t,n=i[0],r=!!n;return r&&(e=n),r}),e}_selectFirstResult(t){return this.autoSelect&&t?this.select(t):Promise.resolve(null)}_suggestImmediate(t,e){return this.when().then(()=>this._getSuggestionsFromSources(t,e)).then(i=>{var n;if(null!=(n=Object(x["t"])(null==e?void 0:e.signal))&&n.aborted)return null;const r={activeSourceIndex:this.activeSourceIndex,searchTerm:t,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(r,i),r})}_formatSourceResponse(t,e,i){const n=e&&e.value||[],r=e&&e.error,s=this.allSources.getItemAt(i);if(r){const e={sourceIndex:i,source:s,error:r};t.errors.push(e),Ge.error(r),t.numErrors++}else{const e={sourceIndex:i,source:s,results:n};t.results.push(e),t.numResults+=n.length}}_formatResponse(t,e,i){if(e)if(t.activeSourceIndex===Ke){const n=i&&ze(i,"sourceIndex")&&-1!==i.sourceIndex?i.sourceIndex:void 0;e.forEach((e,i)=>{const r=void 0!==n?n:i;this._formatSourceResponse(t,e,r)})}else this._formatSourceResponse(t,e[0],t.activeSourceIndex)}_getResultsFromSources(t,e){const{allSources:i}=this,n=!t.location&&ze(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,r=[];if(!i.length){const t=new O["a"]("search:no-sources-defined","At least one source is required.",{allSources:i});return Ge.error(t),Promise.reject(t)}return n===Ke?i.forEach((i,n)=>{r.push(this._getResultsFromSource(t,n,e))}):r.push(this._getResultsFromSource(t,n,e)),Object(S["i"])(r)}_getSuggestionsFromSources(t,e){const{allSources:i,activeSourceIndex:n}=this,r=[];if(!i.length){const t=new O["a"]("suggest:no-sources-defined","At least one source is required.",{allSources:i});return Ge.error(t),Promise.reject(t)}return n===Ke?i.forEach((i,n)=>{r.push(this._getSuggestionsFromSource(t,n,e))}):r.push(this._getSuggestionsFromSource(t,n,e)),Object(S["i"])(r)}_getResultsFromSource(t,e,i){var n;const r=this.allSources.getItemAt(e),{location:s=null}=t,o=(null==(n=this.view)?void 0:n.spatialReference)||Be,a=ze(r,"maxResults")?r.maxResults:this.maxResults,c=!!(r instanceof xt&&ze(r,"exactMatch"))&&r.exactMatch,{view:l}=this;return r.getResults({view:l,sourceIndex:e,location:s,suggestResult:t,spatialReference:o,exactMatch:c,maxResults:a},i)}_getSuggestionsFromSource(t,e,i){const n=this.allSources.getItemAt(e),r=ze(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,s=t.length,o=ze(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(r&&t.trim()&&s>=o){var a;const r=(null==(a=this.view)?void 0:a.spatialReference)||Be,s=ze(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:o}=this,c=!!(n instanceof xt&&ze(n,"exactMatch"))&&n.exactMatch;return n.getSuggestions({view:o,sourceIndex:e,suggestTerm:t,spatialReference:r,maxSuggestions:s,exactMatch:c},i)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(t){const{layer:e}=t;if(e)return ze(t,"popupTemplate")?t.popupTemplate:e.popupTemplate}_getSourceIndexOfResult(t){const e=this.results;let i=null;return e.some(e=>e.results.some(n=>n===t&&(i=e.sourceIndex,!0))),i}async _goToSearchResult(t){const e=!!t;this._abortGoTo();const i=new AbortController;this._gotoController=i;const n={target:{target:t},options:{animate:e,signal:i.signal}};await this.callGoTo(n),this._gotoController=null}_getDefaultSymbol(t){var e;const{defaultSymbols:i}=this,n=null==(e=t.feature)?void 0:e.geometry;if(!Object(x["l"])(n))return null;const r=this._get("defaultSymbol");if(r&&("point"===n.type||"multipoint"===n.type))return r;switch(n.type){case"point":case"multipoint":return i.point;case"polyline":return i.polyline;case"extent":case"polygon":return i.polygon;default:return null}}_removeHighlight(){this._handles.remove(Ue)}async _getLayerView(t){const{view:e}=this;if(!t||!e||"building-component"===t.layer.type||"subtype-sublayer"===t.layer.type)return Promise.resolve(null);const{layer:i}=t;return await e.when(),e.whenLayerView(i)}_highlightFeature(t){const{graphic:e,layerView:i}=t,{attributes:n,layer:r}=e,{objectIdField:s}=r,o=n&&n[s],a=i.highlight(o||e);this._handles.add(a,Ue)}_setResultFloor(t){var e,i,n;const{view:r}=this,s=null==(e=t.feature)?void 0:e.attributes,o=null==(i=t.feature)?void 0:i.sourceLayer;if(o&&"floorInfo"in o&&null!=o&&null!=(n=o.floorInfo)&&n.floorField&&s){const t=s[o.floorInfo.floorField];r.emit("select-result-floor",t)}}};Ye.ALL_INDEX=Ke,Object(n["a"])([Object(h["b"])({readOnly:!0,value:null})],Ye.prototype,"activeSource",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"activeSourceIndex",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"allPlaceholder",null),Object(n["a"])([Object(h["b"])({readOnly:!0,dependsOn:["defaultSources.length","sources.length","includeDefaultSources"]})],Ye.prototype,"allSources",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"autoNavigate",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"autoSelect",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"defaultPopupTemplate",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"defaultSources",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"defaultSymbol",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"defaultSymbols",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"includeDefaultSources",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"locationEnabled",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"maxInputLength",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"maxResults",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"maxSuggestions",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"messages",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"minSuggestCharacters",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"placeholder",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"popupEnabled",void 0),Object(n["a"])([Object(h["b"])({type:m["a"]})],Ye.prototype,"popupTemplate",void 0),Object(n["a"])([Object(h["b"])({type:E["a"]})],Ye.prototype,"portal",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"resultCount",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"resultGraphicEnabled",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"resultGraphic",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"results",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"selectedSuggestion",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"searchAllEnabled",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"selectedResult",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"searchTerm",null),Object(n["a"])([Object(h["b"])({type:qe})],Ye.prototype,"sources",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0,dependsOn:["allSources.length","updating"]})],Ye.prototype,"state",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"suggestionDelay",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"suggestionCount",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"suggestions",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"suggestionsEnabled",void 0),Object(n["a"])([Object(h["b"])({readOnly:!0})],Ye.prototype,"updating",null),Object(n["a"])([Object(h["b"])()],Ye.prototype,"view",void 0),Object(n["a"])([Object(h["b"])()],Ye.prototype,"clear",null),Ye=Object(n["a"])([Object(d["a"])($e)],Ye);const Ze=Ye;var Xe=i("8750"),Qe=i("755e"),ti=i("d822"),ei=i("702a");const ii={base:"esri-search-result-renderer esri-widget",anchor:"esri-widget__anchor",showMoreResults:"esri-search-result-renderer__more-results--show-more-results",moreResults:"esri-search-result-renderer__more-results",moreResultsList:"esri-search-result-renderer__more-results-list",moreResultsHeader:"esri-search-result-renderer__more-results-header",moreResultsItem:"esri-search-result-renderer__more-results-item",moreResultsListHeader:"esri-search-result-renderer__more-results-list-header"};let ni=class extends p["a"]{constructor(t,e){super(t,e),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const t={[ii.showMoreResults]:this.showMoreResultsOpen};return Object(ti["a"])("div",{class:ii.base},Object(ti["a"])("div",{key:"esri-search-renderer__container",class:this.classes(ii.moreResults,t)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return Object(ti["a"])("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var t;const e=null==(t=this.viewModel)?void 0:t.selectedResult,i=e&&e.name||"";return Object(ti["a"])("div",{key:"esri-search-renderer__result-name",class:ii.moreResultsItem},i)}renderMoreResultsLists(){var t;const e=null==(t=this.viewModel)?void 0:t.results,{resultCount:i}=this.viewModel;if(i<2)return null;const n=e.map(t=>this.renderMoreResultsList(t));return Object(ti["a"])("div",{key:"esri-search-renderer__more-results-container",class:ii.moreResultsList},n)}renderMoreResultsButton(){const{messages:t}=this,{resultCount:e}=this.viewModel;return e<2?null:Object(ti["a"])("div",{key:"esri-search-renderer__more-results-button",class:ii.moreResultsItem},Object(ti["a"])("a",{class:ii.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults))}renderMoreResultsHeader(t,e){return Object(ti["a"])("div",{key:"esri-search-result-renderer__header-"+e,class:ii.moreResultsListHeader},t)}renderMoreResultsList(t){var e,i;const{results:n}=t,r=n.length,s=!!r,o=null==(e=this.viewModel)?void 0:e.selectedResult,a=1===r&&n[0]===o,c=this._getSourceName(t.source,t.sourceIndex),l=(null==(i=this.viewModel)?void 0:i.results.length)>1&&!a?this.renderMoreResultsHeader(c,t.sourceIndex):null,u=s&&n.map((t,e)=>this.renderMoreResultsListItem(t,e)),h=s&&!a?Object(ti["a"])("ul",{key:"esri-search-result-renderer__list-"+t.sourceIndex},u):null;return s?Object(ti["a"])("div",{key:"esri-search-result-renderer__results-"+t.sourceIndex},l,h):null}renderMoreResultsListItem(t,e){return t!==this.get("viewModel.selectedResult")?Object(ti["a"])("li",{key:"esri-search-result-renderer__list-item-"+e},Object(ti["a"])("a",{class:ii.anchor,href:"#",tabindex:"0",bind:this,"data-result":t,onclick:this._selectResultClick,onkeydown:this._selectResultClick},t.name)):null}_showMoreResultsClick(t){t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const e=this.get("viewModel.view.popup");e&&e.reposition()}_selectResultClick(t){t.preventDefault();const e=t.currentTarget["data-result"];this.viewModel&&this.viewModel.select(e)}_getSourceName(t,e){return e===Ze.ALL_INDEX?this.messages.all:t.name}};Object(n["a"])([Object(h["b"])(),Object(Qe["a"])("esri/widgets/Search/t9n/Search")],ni.prototype,"messages",void 0),Object(n["a"])([Object(h["b"])()],ni.prototype,"showMoreResultsOpen",void 0),Object(n["a"])([Object(h["b"])()],ni.prototype,"viewModel",void 0),Object(n["a"])([Object(Xe["a"])()],ni.prototype,"_showMoreResultsClick",null),Object(n["a"])([Object(Xe["a"])()],ni.prototype,"_selectResultClick",null),ni=Object(n["a"])([Object(d["a"])("esri.widgets.Search.SearchResultRenderer")],ni);const ri=ni;var si=i("feab");const oi={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},ai=/<[a-z/][\s\S]*>/i;let ci=class extends p["a"]{constructor(t,e){super(t,e),this._activeMenuItemIndex=-1,this._handles=new s["a"],this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new ri,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=oi.widgetIcon,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new Ze,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=t=>{var e;const i=t.relatedTarget;i&&null!=(e=this._container)&&e.contains(i)||this._clearActiveMenu()},this.own(Object(a["d"])(this,"searchTerm",t=>{(t&&"warning"===this.activeMenu||!t&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),Object(a["b"])(this,"viewModel.allSources","change",()=>this._watchSourceChanges()),Object(a["a"])(this,"activeMenu",()=>this._resetActiveMenuItemIndex()),Object(a["a"])(this,"viewModel.defaultPopupTemplate",t=>{t&&(t.content=this._renderSearchResultsContent.bind(this))}))}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return(""+this.viewModel.searchTerm).trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var t;null==(t=this._inputNode)||t.focus(),this.emit("search-focus")}blur(){var t;null==(t=this._inputNode)||t.blur(),this.emit("search-blur")}search(t){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:i}=e;return this._searchController=e,this.viewModel.search(t,{signal:i}).catch(t=>{if(this._searchController===e)return this._clearActiveMenu(),this._searchController=null,t}).then(t=>{if(this._searchController===e)return this.activeMenu=t.numResults?"none":"warning",this._searchController=null,t})}suggest(t){this._cancelSuggest();const e=new AbortController,{signal:i}=e;return this._suggestController=e,this.viewModel.suggest(t,null,{signal:i}).then(t=>{if(this._suggestController===e)return this._suggestController=null,t.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),t}).catch(()=>{if(this._suggestController===e)return this._suggestController=null,null})}render(){const{state:t}=this.viewModel,e={[oi.disabled]:"disabled"===t,[oi.esriWidgetDisabled]:this.disabled};return Object(ti["a"])("div",{class:this.classes(oi.base,e)},"loading"===t?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:t}=this;return Object(ti["a"])("button",{"aria-label":t.searchButtonTitle,bind:this,class:this.classes(oi.submitButton,oi.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:t.searchButtonTitle},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.searchIcon}))}renderWarningMenu(){return Object(ti["a"])("div",{key:"esri-search__error-menu",class:this.classes(oi.menu,oi.warningMenu)},Object(ti["a"])("div",{class:oi.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:t,activeMenu:e,sourceMenuId:i,sourceMenuButtonId:n}=this,{activeSourceIndex:r,allSources:s}=this.viewModel;return s.length>1?Object(ti["a"])("button",{id:n,key:"esri-search__source-menu-button",bind:this,"aria-label":t.searchIn,title:t.searchIn,"aria-haspopup":"true","aria-expanded":("source"===e).toString(),"aria-controls":i,class:this.classes(oi.sourcesButton,oi.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._clearActiveMenu,afterCreate:ei["k"],"data-node-ref":"_sourceMenuButtonNode"},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.dropdownIcon}),Object(ti["a"])("span",{"aria-hidden":"true",class:oi.dropupIcon}),Object(ti["a"])("span",{class:oi.sourceName},this._getSourceName(r))):null}renderSourcesList(){const{allSources:t,searchAllEnabled:e}=this.viewModel,{_activeMenuItemIndex:i,activeMenu:n,sourceMenuId:r,sourceMenuButtonId:s}=this,o="source"===n&&i>-1?this._buildId("source-item",i):null;return t.length>1?Object(ti["a"])("ul",{"aria-activedescendant":o,"aria-labelledby":s,id:r,role:"menu",bind:this,afterCreate:ei["k"],onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:oi.menuList,tabIndex:-1},e?this.renderSource(Ze.ALL_INDEX):null,t.map((t,e)=>this.renderSource(e)).toArray()):null}renderSourcesMenu(){const{allSources:t}=this.viewModel;return t.length>1?Object(ti["a"])("div",{key:"esri-search__source-menu",class:this.classes(oi.menu,oi.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:t,messagesCommon:e}=this;return Object(ti["a"])("div",{class:oi.loader,key:"base-loader"},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.loaderAnimation}),Object(ti["a"])("span",{class:oi.fallbackText},t.searchButtonTitle),Object(ti["a"])("span",{class:oi.loaderText},e.loading))}renderContainer(){const{allSources:t,state:e}=this.viewModel,{activeMenu:i}=this,n={[oi.hasMultipleSources]:t.length>1,[oi.isLoading]:"loading"===e,[oi.isSearching]:"searching"===e,[oi.showWarning]:"warning"===i,[oi.showSources]:"source"===i,[oi.showSuggestions]:"suggestion"===i};return Object(ti["a"])("div",{tabIndex:-1,afterCreate:t=>{this._container=t,t.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:t=>{t.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(n,oi.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?Object(ti["a"])("button",{bind:this,class:this.classes(oi.clearButton,oi.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.clearIcon})):null}renderLocationGroup(){const{messages:t,locationEnabled:e,displayedSearchTerm:i}=this,n=e&&!i,r="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return n?Object(ti["a"])("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(oi.menuList,oi.suggestionList,oi.suggestionListCurrentLocation)},Object(ti["a"])("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes(oi.menuItem,r?oi.menuItemFocus:null)},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.locate})," ",t.useCurrentLocation)):null}renderInput(){const{activeMenu:t,locationEnabled:e,displayedSearchTerm:i,messages:n,suggestionsMenuId:r,inputId:s,_activeMenuItemIndex:o}=this,{maxInputLength:a,placeholder:c,searchTerm:l,suggestionCount:u}=this.viewModel,h=!((!e||i)&&!u),d="suggestion"===t&&o>-1?this._buildId("suggestion-item",o):null;return Object(ti["a"])("input",{"aria-activedescendant":d,"aria-autocomplete":"list","aria-expanded":(h&&"suggestion"===t).toString(),"aria-controls":h?r:null,"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,bind:this,placeholder:c,maxlength:a,autocomplete:"off",type:"text",class:this.classes(oi.esriInput,oi.input),value:l,id:s,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:ei["k"],"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:l?"":c})}renderForm(){return Object(ti["a"])("form",{key:"esri-search__form",bind:this,class:oi.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(t){const{sourceIndex:e}=t,i=t.results.length,n=t.results;return i?Object(ti["a"])("ul",{role:"group",key:"esri-search__suggestion-list-"+e,class:this.classes(oi.menuList,oi.suggestionList)},n.map(t=>this.renderSuggestion(t,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:t}=this.viewModel;return t?t.map(t=>[this.renderSuggestionHeader(t),this.renderSuggestList(t)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:t,locationEnabled:e,suggestionsMenuId:i,inputId:n}=this,{suggestionCount:r}=this.viewModel,s=e&&!t||r;return this._menuItemCount=0,s?Object(ti["a"])("div",{id:i,key:"esri-search__suggestions-menu",class:this.classes(oi.menu,oi.suggestionsMenu),role:"listbox","aria-labelledby":n,bind:this,afterCreate:ei["k"],"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return Object(ti["a"])("div",{key:"esri-search__input-container",class:oi.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(t){const{allSources:e,activeSourceIndex:i}=this.viewModel,{sourceIndex:n}=t,r=t.results.length,s=e.length>1&&i===Ze.ALL_INDEX;return r&&s?Object(ti["a"])("div",{key:"esri-search__suggestion-header-"+n,class:oi.menuHeader},this._getSourceName(n)):null}renderSuggestion(t,e){const{_activeMenuItemIndex:i,messages:n}=this,{searchTerm:r}=this.viewModel;if(r){const{text:s}=t,o=s||n.untitledResult,a=ai.test(o),c=[];if(a)c.push(Object(ti["a"])("div",{innerHTML:o}));else{const t=this._splitResult(o,r),e=r.toLowerCase();t.forEach((t,i)=>{t&&t.length&&(t.toLowerCase()===e?c.push(Object(ti["a"])("strong",{key:i},t)):c.push(t))})}const l="suggestion"===this.activeMenu&&i===e;return Object(ti["a"])("li",{bind:this,id:this._buildId("suggestion-item",e),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===e).toString(),onclick:this._handleSuggestionClick,key:"esri-search__suggestion_"+e,"data-suggestion":t,role:"option",class:this.classes(oi.menuItem,l?oi.menuItemFocus:null)},c)}}renderSource(t){const{activeSourceIndex:e,searchAllEnabled:i}=this.viewModel,n={[oi.menuItemActive]:t===e,[oi.menuItemFocus]:"source"===this.activeMenu&&t===(i?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},r=i?t+1:t;return Object(ti["a"])("li",{bind:this,key:"esri-search__source-"+t,id:this._buildId("source-item",r),"aria-checked":(t===e).toString(),onclick:this._handleSourceClick,"data-source-index":t,role:"menuitemradio",class:this.classes(oi.source,oi.menuItem,n)},this._getSourceName(t))}renderNoResultsWarning(t){const{messages:e}=this,i=t?Object(W["a"])(e.noResultsFoundForValue,{value:`"${t}"`}):e.noResultsFound;return Object(ti["a"])("div",{key:"esri-search__no_results"},Object(ti["a"])("div",{class:oi.warningMenuHeader},e.noResults),Object(ti["a"])("div",{class:oi.warningMenuText},i))}renderEmptySearchWarning(){const{messages:t}=this;return Object(ti["a"])("div",{key:"esri-search__empty-search"},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.noticeIcon}),Object(ti["a"])("span",{class:oi.noValueText},t.emptyValue))}renderLocateWarning(){const{messages:t}=this;return Object(ti["a"])("div",{key:"esri-search__locate-error"},Object(ti["a"])("span",{"aria-hidden":"true",class:oi.noticeIcon}),Object(ti["a"])("span",{class:oi.noValueText},t.locateError))}renderWarning(){var t;const{displayedSearchTerm:e,_locateFailed:i}=this,{viewModel:n}=this;return i?this.renderLocateWarning():null!=(t=n.selectedSuggestion)&&t.location||e?this.renderNoResultsWarning(e):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(t,e){return`${this.id}-${t}${void 0===e?"":"-"+e}`}_watchSourceChanges(){const{_handles:t,viewModel:{allSources:e}}=this,i="sources";t.remove(i),e.forEach(e=>t.add(Object(a["d"])(e,"name",()=>this.scheduleRender()),i))}_handleSourcesMenuToggleClick(){const t="source"===this.activeMenu;var e;this.activeMenu=t?"none":"source",this.renderNow(),"source"===this.activeMenu&&(null==(e=this._sourceListNode)||e.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(t){const e=t.currentTarget["data-suggestion"];e&&(this._focus(),this.search(e))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:e}=t;this._searchController=t,this.viewModel.searchNearby({signal:e}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(t){this._setSourceFromMenuItem(t.currentTarget)}_setSourceFromMenuItem(t){var e;if(!t)return;const i=t["data-source-index"];this.viewModel.activeSourceIndex=i,this._clearActiveMenu(),null==(e=this._sourceMenuButtonNode)||e.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(t){var e;const i=Object(r["a"])(t);if(t.ctrlKey||t.metaKey||"Copy"===i||"ArrowLeft"===i||"ArrowRight"===i||"Shift"===i)return;if("Tab"===i||"Escape"===i||t.shiftKey&&"Tab"===i)return this._cancelSuggest(),void("Escape"===i&&this._clearActiveMenu());const n="Home"===i||"End"===i||"ArrowUp"===i||"ArrowDown"===i;if("Enter"===i&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const s=null==(e=this._suggestionListNode)?void 0:e.getElementsByTagName("li");if(null!=s&&s.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),n)return t.preventDefault(),this._cancelSuggest(),void this.handleItemNavigation(i,s,this._suggestionListNode);const e=s[this._activeMenuItemIndex];if("Enter"===i&&e){const t=e["data-suggestion"];return void(t?(this._focus(),this.search(t)):e["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}handleItemNavigation(t,e,i){const n=this._activeMenuItemIndex;"Home"===t&&(this._activeMenuItemIndex=0),"End"===t&&(this._activeMenuItemIndex=e.length-1),"ArrowUp"===t&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?e.length-1:this._activeMenuItemIndex-1),"ArrowDown"===t&&(this._activeMenuItemIndex=this._activeMenuItemIndex===e.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&Object(ei["i"])(e[this._activeMenuItemIndex],i)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(t){const e=t.target;this.viewModel.searchTerm!==e.value&&(this.viewModel.searchTerm=e.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(t){const e=Object(r["a"])(t);if(Object(ei["f"])(e)){t.preventDefault();const e=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(e)}else"ArrowUp"!==e&&"ArrowDown"!==e&&"End"!==e&&"Home"!==e||t.preventDefault()}_handleSourceMenuKeyup(t){var e;const i=Object(r["a"])(t),n="ArrowUp"===i||"ArrowDown"===i||"End"===i||"Home"===i;var s;if(n&&t.preventDefault(),"Escape"===i)return this._clearActiveMenu(),void(null==(s=this._sourceMenuButtonNode)||s.focus());const o=null==(e=this._sourceListNode)?void 0:e.getElementsByTagName("li");return o&&0!==o.length&&n?("source"!==this.activeMenu&&(this.activeMenu="source"),void this.handleItemNavigation(i,o,this._sourceListNode.parentElement)):void 0}_focus(t){this.focus(),t&&(this.activeMenu=t)}_formSubmit(t){t.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}_getSourceName(t){const{messages:e}=this,i=this.viewModel,{allSources:n}=i,r=n.getItemAt(t);return t===Ze.ALL_INDEX?e.all:r&&r.name||e.untitledSource}_splitResult(t,e){const i=Object(o["a"])(e);return t.replace(new RegExp(`(^|)(${i})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};Object(n["a"])([Object(h["b"])()],ci.prototype,"_activeMenuItemIndex",void 0),Object(n["a"])([Object(h["b"])()],ci.prototype,"displayedSearchTerm",null),Object(n["a"])([Object(h["b"])({readOnly:!0})],ci.prototype,"inputId",null),Object(n["a"])([Object(h["b"])({readOnly:!0})],ci.prototype,"suggestionsMenuId",null),Object(n["a"])([Object(h["b"])({readOnly:!0})],ci.prototype,"sourceMenuId",null),Object(n["a"])([Object(h["b"])({readOnly:!0})],ci.prototype,"sourceMenuButtonId",null),Object(n["a"])([Object(h["b"])()],ci.prototype,"activeMenu",void 0),Object(n["a"])([Object(c["a"])("viewModel.activeSource")],ci.prototype,"activeSource",void 0),Object(n["a"])([Object(c["a"])("viewModel.activeSourceIndex")],ci.prototype,"activeSourceIndex",void 0),Object(n["a"])([Object(c["a"])("viewModel.allPlaceholder")],ci.prototype,"allPlaceholder",void 0),Object(n["a"])([Object(c["a"])("viewModel.allSources")],ci.prototype,"allSources",void 0),Object(n["a"])([Object(c["a"])("viewModel.autoNavigate")],ci.prototype,"autoNavigate",void 0),Object(n["a"])([Object(c["a"])("viewModel.autoSelect")],ci.prototype,"autoSelect",void 0),Object(n["a"])([Object(c["a"])("viewModel.defaultSources")],ci.prototype,"defaultSources",void 0),Object(n["a"])([Object(h["b"])()],ci.prototype,"disabled",void 0),Object(n["a"])([Object(c["a"])("viewModel.goToOverride")],ci.prototype,"goToOverride",void 0),Object(n["a"])([Object(h["b"])()],ci.prototype,"iconClass",void 0),Object(n["a"])([Object(c["a"])("viewModel.includeDefaultSources")],ci.prototype,"includeDefaultSources",void 0),Object(n["a"])([Object(h["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ci.prototype,"label",void 0),Object(n["a"])([Object(c["a"])("viewModel.locationEnabled")],ci.prototype,"locationEnabled",void 0),Object(n["a"])([Object(c["a"])("viewModel.maxResults")],ci.prototype,"maxResults",void 0),Object(n["a"])([Object(c["a"])("viewModel.maxSuggestions")],ci.prototype,"maxSuggestions",void 0),Object(n["a"])([Object(h["b"])(),Object(Qe["a"])("esri/widgets/Search/t9n/Search")],ci.prototype,"messages",void 0),Object(n["a"])([Object(h["b"])(),Object(Qe["a"])("esri/t9n/common")],ci.prototype,"messagesCommon",void 0),Object(n["a"])([Object(c["a"])("viewModel.minSuggestCharacters")],ci.prototype,"minSuggestCharacters",void 0),Object(n["a"])([Object(c["a"])("viewModel.popupEnabled")],ci.prototype,"popupEnabled",void 0),Object(n["a"])([Object(c["a"])("viewModel.popupTemplate")],ci.prototype,"popupTemplate",void 0),Object(n["a"])([Object(c["a"])("viewModel.portal")],ci.prototype,"portal",void 0),Object(n["a"])([Object(c["a"])("viewModel.resultGraphic")],ci.prototype,"resultGraphic",void 0),Object(n["a"])([Object(c["a"])("viewModel.resultGraphicEnabled")],ci.prototype,"resultGraphicEnabled",void 0),Object(n["a"])([Object(c["a"])("viewModel.results")],ci.prototype,"results",void 0),Object(n["a"])([Object(c["a"])("viewModel.searchAllEnabled")],ci.prototype,"searchAllEnabled",void 0),Object(n["a"])([Object(c["a"])("viewModel.searchTerm")],ci.prototype,"searchTerm",void 0),Object(n["a"])([Object(c["a"])("viewModel.selectedResult")],ci.prototype,"selectedResult",void 0),Object(n["a"])([Object(c["a"])("viewModel.sources")],ci.prototype,"sources",void 0),Object(n["a"])([Object(c["a"])("viewModel.suggestions")],ci.prototype,"suggestions",void 0),Object(n["a"])([Object(c["a"])("viewModel.suggestionsEnabled")],ci.prototype,"suggestionsEnabled",void 0),Object(n["a"])([Object(c["a"])("viewModel.view")],ci.prototype,"view",void 0),Object(n["a"])([Object(si["a"])(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),Object(h["b"])({type:Ze})],ci.prototype,"viewModel",void 0),Object(n["a"])([Object(c["a"])("viewModel.clear")],ci.prototype,"clear",null),ci=Object(n["a"])([Object(d["a"])("esri.widgets.Search")],ci);const li=ci},cf49:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("1fd7"),r=i("ce50"),s=i("ddc2"),o=i("7533"),a=i("db52"),c=i("6e07"),l=i("4dc9"),u=i("37e7"),h=i("0d76"),d=i("35c9"),p=i("21ba"),f=i("9fab");const b={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function y(t,e=b){if(!t)return{symbol:null};const{retainId:i=b.retainId,ignoreDrivers:y=b.ignoreDrivers,hasLabelingContext:m=b.hasLabelingContext,retainCIM:g=b.retainCIM}=e;let v;if(Object(n["c"])(t)||t instanceof s["a"])v=t.clone();else if("cim"===t.type){var w,O;const e=null==(w=t.data)||null==(O=w.symbol)?void 0:O.type;if("CIMPointSymbol"!==e)return{error:new r["a"]("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${e||"unknown"}' is unsupported in 3D`,{symbol:t})};v=g?t.clone():o["a"].fromCIMSymbol(t)}else if(t instanceof a["a"])v=c["a"].fromSimpleLineSymbol(t);else if(t instanceof l["a"])v=o["a"].fromSimpleMarkerSymbol(t);else if(t instanceof u["a"])v=o["a"].fromPictureMarkerSymbol(t);else if(t instanceof h["a"])v=d["a"].fromSimpleFillSymbol(t);else{if(!(t instanceof p["a"]))return{error:new r["a"]("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};v=m?f["a"].fromTextSymbol(t):o["a"].fromTextSymbol(t)}if(i&&"cim"!==v.type&&(v.id=t.id),y&&Object(n["c"])(v))for(let n=0;n<v.symbolLayers.length;++n)v.symbolLayers.getItemAt(n)._ignoreDrivers=!0;return{symbol:v}}},cf9c:function(t,e,i){"use strict";function n(t){return"string"==typeof t?document.getElementById(t):t}function r(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild)}function s(t,e){const i=e.parentNode;i&&i.insertBefore(t,e)}function o(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return o}));(()=>{if("function"==typeof Element.prototype.closest)return(t,e)=>t.closest(e);const t=Element.prototype.matches||Element.prototype.msMatchesSelector})()},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,i){var n=i("da84"),r=i("1626"),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t]):n[t]&&n[t][e]}},d099:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("2e3f"),c=i("a7a7");let l=n=class extends c["a"]{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new n({expressionInfo:null==(t=this.expressionInfo)?void 0:t.clone()})}};Object(r["a"])([Object(s["b"])({type:a["a"],json:{write:!0}})],l.prototype,"expressionInfo",void 0),Object(r["a"])([Object(s["b"])({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0),l=n=Object(r["a"])([Object(o["a"])("esri.popup.content.ExpressionContent")],l);const u=l},d0e9:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("a7a7");let c=n=class extends a["a"]{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new n({text:this.text})}};Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],c.prototype,"text",void 0),Object(r["a"])([Object(s["b"])({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=n=Object(r["a"])([Object(o["a"])("esri.popup.content.TextContent")],c);const l=c},d1e7:function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);e.f=s?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},d232:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("c120");var n=i("e92d"),r=i("6706"),s=i("7dcb");n["a"].getLogger("esri.views.interactive.snapping.hints.ParallelSnappingHint");class o extends s["a"]{constructor(t,e){super(),this.lineStart=t,this.lineEnd=e}equals(t){return t instanceof o&&Object(r["d"])(this.lineStart,t.lineStart)&&Object(r["d"])(this.lineEnd,t.lineEnd)}}},d288:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("9ef0"),o=i("7ffa"),a=i("b2b2"),c=i("a915"),l=i("59b2"),u=(i("cea0"),i("448d")),h=i("d386"),d=i("70f6"),p=i("8f07"),f=i("5c00");let b=n=class extends d["a"]{constructor(t){super(t),this.type="line",this.color=new s["a"]([0,0,0,1]),this.size=Object(c["h"])(1),this.border=null}get visible(){return this.size>0&&Object(a["l"])(this.color)&&this.color.a>0}clone(){return new n({color:Object(o["a"])(this.color),size:this.size,border:Object(o["a"])(this.border)})}};Object(r["a"])([Object(u["a"])({line:"line"},{readOnly:!0})],b.prototype,"type",void 0),Object(r["a"])([Object(l["b"])(f["a"])],b.prototype,"color",void 0),Object(r["a"])([Object(l["b"])(f["b"])],b.prototype,"size",void 0),Object(r["a"])([Object(l["b"])({type:p["a"],json:{write:!0}})],b.prototype,"border",void 0),Object(r["a"])([Object(l["b"])({readOnly:!0})],b.prototype,"visible",null),b=n=Object(r["a"])([Object(h["a"])("esri.symbols.callouts.LineCallout3D")],b);const y=b},d28b:function(t,e,i){var n=i("746f");n("iterator")},d297:function(t,e,i){"use strict";i.r(e),i.d(e,"getAllSizes",(function(){return P})),i.d(e,"getColor",(function(){return f})),i.d(e,"getOpacity",(function(){return b})),i.d(e,"getRotationAngle",(function(){return y})),i.d(e,"getSize",(function(){return v})),i.d(e,"getSizeForValue",(function(){return T})),i.d(e,"getSizeFromNumberOrVariable",(function(){return w})),i.d(e,"getSizeRangeAtScale",(function(){return E})),i.d(e,"getVisualVariableValues",(function(){return A})),i.d(e,"viewScaleRE",(function(){return p}));var n=i("9ef0"),r=i("8d60"),s=i("6c97"),o=i("e92d"),a=i("b2b2"),c=i("9b40"),l=i("86f2");const u=o["a"].getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),h=new r["a"],d=Math.PI,p=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function f(t,e,i){const r="visualVariables"in t&&t.visualVariables?t.visualVariables.filter(t=>"color"===t.type)[0]:t;if(!r)return;if("esri.renderers.visualVariables.ColorVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof e,o=s?null:e,c=o&&o.attributes;let l=s?e:null;const h=r.field,{ipData:d,hasExpression:p}=r.cache;let f=r.cache.compiledFunc;if(!h&&!p){const t=r.stops;return t&&t[0]&&t[0].color}if("number"!=typeof l)if(p){if(!Object(a["l"])(i)||!Object(a["l"])(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},e=i.arcade.arcadeUtils,n=e.getViewInfo(t),s=e.createExecContext(o,n);if(!f){const t=e.createSyntaxTree(r.valueExpression);f=e.createFunction(t),r.cache.compiledFunc=f}l=e.executeFunction(f,s)}else c&&(l=c[h]);const b=r.normalizationField,y=c?parseFloat(c[b]):void 0;if(null!=l&&(!b||s||!isNaN(y)&&0!==y)){isNaN(y)||s||(l/=y);const t=C(l,d);if(t){const e=t[0],s=t[1],o=e===s?r.stops[e].color:n["a"].blendColors(r.stops[e].color,r.stops[s].color,t[2],Object(a["l"])(i)?i.color:void 0);return new n["a"](o)}}}function b(t,e,i){const n="visualVariables"in t&&t.visualVariables?t.visualVariables.filter(t=>"opacity"===t.type)[0]:t;if(!n)return;if("esri.renderers.visualVariables.OpacityVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const r="number"==typeof e,s=r?null:e,o=s&&s.attributes;let c=r?e:null;const l=n.field,{ipData:h,hasExpression:d}=n.cache;let p=n.cache.compiledFunc;if(!l&&!d){const t=n.stops;return t&&t[0]&&t[0].opacity}if("number"!=typeof c)if(d){if(Object(a["k"])(i)||Object(a["k"])(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},e=i.arcade.arcadeUtils,r=e.getViewInfo(t),o=e.createExecContext(s,r);if(!p){const t=e.createSyntaxTree(n.valueExpression);p=e.createFunction(t),n.cache.compiledFunc=p}c=e.executeFunction(p,o)}else o&&(c=o[l]);const f=n.normalizationField,b=o?parseFloat(o[f]):void 0;if(null!=c&&(!f||r||!isNaN(b)&&0!==b)){isNaN(b)||r||(c/=b);const t=C(c,h);if(t){const e=t[0],i=t[1];if(e===i)return n.stops[e].opacity;{const r=n.stops[e].opacity;return r+(n.stops[i].opacity-r)*t[2]}}}}function y(t,e,i){const n="visualVariables"in t&&t.visualVariables?t.visualVariables.filter(t=>"rotation"===t.type)[0]:t;if(!n)return;if("esri.renderers.visualVariables.RotationVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const r=n.axis||"heading",s="heading"===r&&"arithmetic"===n.rotationType?90:0,o="heading"===r&&"arithmetic"===n.rotationType?-1:1,c="number"==typeof e?null:e,l=c&&c.attributes,h=n.field,{hasExpression:d}=n.cache;let p=n.cache.compiledFunc,f=0;if(!h&&!d)return f;if(d){if(Object(a["k"])(i)||Object(a["k"])(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},e=i.arcade.arcadeUtils,r=e.getViewInfo(t),s=e.createExecContext(c,r);if(!p){const t=e.createSyntaxTree(n.valueExpression);p=e.createFunction(t),n.cache.compiledFunc=p}f=e.executeFunction(p,s)}else l&&(f=l[h]||0);return f="number"!=typeof f||isNaN(f)?null:s+o*f,f}function m(t,e,i){const n="number"==typeof e,r=n?null:e,s=r&&r.attributes;let o=n?e:null;const{isScaleDriven:c}=t.cache;let h=t.cache.compiledFunc;if(c){const e=Object(a["l"])(i)?i.scale:void 0,n=Object(a["l"])(i)?i.view:void 0;o=null==e||"3d"===n?g(t):e}else if(!n)switch(t.inputValueType){case"expression":{if(Object(a["k"])(i)||Object(a["k"])(i.arcade))return void u.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,s=n.getViewInfo(e),c=n.createExecContext(r,s);if(!h){const e=n.createSyntaxTree(t.valueExpression);h=n.createFunction(e),t.cache.compiledFunc=h}o=n.executeFunction(h,c);break}case"field":s&&(o=s[t.field]);break;case"unknown":o=null}if(!Object(l["d"])(o))return null;if(n||!t.normalizationField)return o;const d=s?parseFloat(s[t.normalizationField]):null;return Object(l["d"])(d)&&0!==d?o/d:null}function g(t){let e=null,i=null;const n=t.stops;return n?(e=n[0].value,i=n[n.length-1].value):(e=t.minDataValue||0,i=t.maxDataValue||0),(e+i)/2}function v(t,e,i){const n="visualVariables"in t&&t.visualVariables?t.visualVariables.filter(t=>"size"===t.type)[0]:t;if(!n)return;if("esri.renderers.visualVariables.SizeVariable"!==n.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const r=T(m(n,e,i),n,e,i,n.cache.ipData);return null==r||isNaN(r)?0:r}function w(t,e,i){return null==t?null:Object(l["c"])(t)?v(t,e,i):Object(l["d"])(t)?t:null}function O(t,e,i){return Object(l["d"])(i)&&t>i?i:Object(l["d"])(e)&&t<e?e:t}function j(t,e,i,n){return t+(w(e.minSize,i,n)||e.minDataValue)}function _(t,e,i){const n=t.stops;let r=n&&n.length&&n[0].size;return null==r&&(r=t.minSize),w(r,e,i)}function x(t,e,i,n){const r=(t-e.minDataValue)/(e.maxDataValue-e.minDataValue),s=w(e.minSize,i,n),o=w(e.maxSize,i,n),c=Object(a["l"])(n)?n.shape:void 0;if(t<=e.minDataValue)return s;if(t>=e.maxDataValue)return o;if("area"===e.scaleBy&&c){const t="circle"===c,e=t?d*(s/2)**2:s*s,i=e+r*((t?d*(o/2)**2:o*o)-e);return t?2*Math.sqrt(i/d):Math.sqrt(i)}return s+r*(o-s)}function S(t,e,i,n){const r=Object(a["l"])(n)?n.shape:void 0,s=t/e.minDataValue,o=w(e.minSize,i,n),c=w(e.maxSize,i,n);let l=null;return l="circle"===r?2*Math.sqrt(s*(o/2)**2):"square"===r||"diamond"===r||"image"===r?Math.sqrt(s*o**2):s*o,O(l,o,c)}function M(t,e,i,n,r){const[s,o,a]=C(t,r);if(s===o)return w(e.stops[s].size,i,n);{const t=w(e.stops[s].size,i,n);return t+(w(e.stops[o].size,i,n)-t)*a}}function k(t,e,i,n){const r=(Object(a["l"])(n)&&n.resolution?n.resolution:1)*c["a"][e.valueUnit],s=w(e.minSize,i,n),o=w(e.maxSize,i,n),{valueRepresentation:l}=e;let u=null;return u="area"===l?2*Math.sqrt(t/d)/r:"radius"===l||"distance"===l?2*t/r:t/r,O(u,s,o)}function I(t){return t}function T(t,e,i,n,r){switch(e.transformationType){case"additive":return j(t,e,i,n);case"constant":return _(e,i,n);case"clamped-linear":return x(t,e,i,n);case"proportional":return S(t,e,i,n);case"stops":return M(t,e,i,n,r);case"real-world-size":return k(t,e,i,n);case"identity":return I(t);case"unknown":return null}}function E(t,e,i){const{isScaleDriven:n}=t.cache;if(!(n&&"3d"===i||e))return null;const r={scale:e,view:i};let s=w(t.minSize,h,r),o=w(t.maxSize,h,r);if(null!=s||null!=o){if(s>o){const t=o;o=s,s=t}return{minSize:s,maxSize:o}}}function A(t,e,i){if(!t.visualVariables)return;const n=[],r=[],s=[],o=[],a=[];for(const c of t.visualVariables)switch(c.type){case"color":r.push(c);break;case"opacity":s.push(c);break;case"rotation":a.push(c);break;case"size":o.push(c)}return r.forEach(t=>{const r=f(t,e,i);n.push({variable:t,value:r})}),s.forEach(t=>{const r=b(t,e,i);n.push({variable:t,value:r})}),a.forEach(t=>{const r=y(t,e,i);n.push({variable:t,value:r})}),o.forEach(t=>{const r=v(t,e,i);n.push({variable:t,value:r})}),n.filter(t=>null!=t.value)}function C(t,e){if(!e)return;let i=0,n=e.length-1;return e.some((e,r)=>t<e?(n=r,!0):(i=r,!1)),[i,n,(t-e[i])/(e[n]-e[i])]}function P(t,e,i){const n=["proportional","proportional","proportional"];for(const r of t){const t=r.useSymbolValue?"symbol-value":v(r,e,i);switch(r.axis){case"width":n[0]=t;break;case"depth":n[1]=t;break;case"height":n[2]=t;break;case"width-and-depth":n[0]=t,n[1]=t;break;case"all":case void 0:case null:n[0]=t,n[1]=t,n[2]=t;break;default:Object(s["a"])(r.axis)}}return n}},d2bb:function(t,e,i){var n=i("e330"),r=i("825a"),s=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(i,[]),e=i instanceof Array}catch(o){}return function(i,n){return r(i),s(n),e?t(i,n):i.__proto__=n,i}}():void 0)},d2f2:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return a}));i("c120");var n=i("ce50"),r=i("b2b2"),s=i("e64d"),o=i("54b4");function a(t,e,i){const r=h(t),o=e,a=c(r,o,i);{let e=null;if(r){const o=s["a"].deriveUnitFromSR(r,t.spatialReference).heightUnit;i||o===r.heightUnit||(e=new n["a"]("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o}))}if(!u(t)||4===a||e)return new n["a"]("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:e})}{let t=null;switch(a){case 1:{const e=r.heightUnit||"unknown",i=o.heightUnit||"unknown";t=new n["a"]("layerview:incompatible-height-unit",`The vertical units of the layer (${e}) must match the vertical units of the scene (${i})`,{layerUnit:e,sceneUnit:i});break}case 2:{const e=r.heightModel||"unknown",i=o.heightModel||"unknown";t=new n["a"]("layerview:incompatible-height-model",`The height model of the layer (${e}) must match the height model of the scene (${i})`,{layerHeightModel:e,sceneHeightModel:i});break}case 3:{const e=r.vertCRS||"unknown",i=o.vertCRS||"unknown";t=new n["a"]("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${e}) must match the vertical datum of the scene (${i})`,{layerDatum:e,sceneDatum:i});break}}if(t)return new n["a"]("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:o,error:t})}return null}function c(t,e,i){if(!l(t)||!l(e))return 4;if(null==t||null==e)return 0;if(!i&&t.heightUnit!==e.heightUnit)return 1;if(t.heightModel!==e.heightModel)return 2;switch(t.heightModel){case"gravity-related-height":return 0;case"ellipsoidal":return t.vertCRS===e.vertCRS?0:3;default:return 4}}function l(t){return null==t||null!=t.heightModel&&null!=t.heightUnit}function u(t){return"heightModelInfo"in t&&null!=t.heightModelInfo||null!=t.spatialReference||!f(t)}function h(t){const e=t.url&&Object(o["e"])(t.url);return null==(t.spatialReference&&t.spatialReference.vcsWkid)&&Object(r["l"])(e)&&"ImageServer"===e.serverType||!d(t)||!t.heightModelInfo?f(t)?s["a"].deriveUnitFromSR(m,t.spatialReference):null:t.heightModelInfo}function d(t){return"heightModelInfo"in t}function p(t){if("unknown"===t.type||!("capabilities"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function f(t){return p(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):y(t)}function b(t){return null!=t.layers||y(t)||p(t)||d(t)}function y(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const m=new s["a"]({heightModel:"gravity-related-height"})},d302:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("9180"),r=i("3349");class s{constructor(t,e,i){this.maxSize=t,this.tileInfoView=e,this.removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const e=this._tilePerId.get(t);if(!e)return null;const i=e.key.level,n=this._tileKeysPerLevel[i];o(this._tilePerId,t);for(let r=0;r<n.length;r++)if(n[r].id===t){n.splice(r,1);break}return e.visible=!0,e}add(t){t.visible=!1;const e=t.key,i=e.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);const n=e.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(e)}prune(t,e,i){let n=this._tilePerId.size;if(n<=this.maxSize)return;let r=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&r>=0;)r!==t&&(n=this._pruneAroundCenterTile(n,e,i,r)),r--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,e,i,t))}_pruneAroundCenterTile(t,e,i,n){const s=this._tileKeysPerLevel[n];if(!s||0===s.length)return t;const{size:o,origin:a}=this.tileInfoView.tileInfo,c=i*o[0],l=i*o[1],u=[0,0],h=[0,0];for(s.sort((t,i)=>(u[0]=a.x+c*(t.col+.5),u[1]=a.y-l*(t.row+.5),h[0]=a.x+c*(i.col+.5),h[1]=a.y-l*(i.row+.5),Object(r["a"])(u,e)-Object(r["a"])(h,e)));s.length>0;){const e=s.pop();if(this._removeTile(e.id),--t===this.maxSize)break}return t}_removeTile(t){const e=this._tilePerId.get(t);this.removedFunc&&this.removedFunc(e),o(this._tilePerId,t)}}function o(t,e){t.delete(e)}var a=i("ba6a"),c=i("ae54");const l=new c["a"](0,0,0,0),u=new Map,h=[],d=[];class p{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=null==t.resampling||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),null!=t.buffer&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new s(t.cacheSize,this.tileInfoView,t=>{this.releaseTile(t)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:e,tileIndex:i}=this,n=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(d.length=0,h.length=0,u.clear(),!n)return;const{minScale:r,maxScale:s}=this.tileInfoView.tileInfo,{spans:o,lodInfo:c}=n,{level:p}=c,{scale:f,center:b,resolution:y}=t.state,m=!t.stationary&&f>this._previousScale;if(this._previousScale=f,this.tiles.length=0,!e&&(f>r||f<s))return this.tiles.length=0,u.clear(),i.forEach(t=>{this.releaseTile(t)}),i.clear(),d.length=0,h.length=0,u.clear(),a["a"].pool.release(n),!0;i.forEach(t=>t.visible=!0);let g=0,v=0;if(o.length>0)for(const{row:a,colFrom:h,colTo:d}of o)for(let t=h;t<=d;t++){g++;const e=l.set(p,a,c.normalizeCol(t),c.getWorldForColumn(t)).id;if(i.has(e)){const t=i.get(e);t.isReady?(u.set(e,t),v++):m||this._addParentTile(e,u)}else{let t;if(this._tileCache&&this._tileCache.has(e)){if(t=this._tileCache.pop(e),this.tileIndex.set(e,t),t.isReady){u.set(e,t),v++;continue}}else t=this.acquireTile(l),this.tileIndex.set(e,t);m||this._addParentTile(e,u)}}const w=v===g;i.forEach((t,e)=>{if(l.set(e),u.has(e))return;const i=this.tileInfoView.intersects(n,l),r="purge"===this.cachePolicy?l.level!==p:l.level>p;!i||!m&&w?!r&&i||h.push(e):t.isReady?r&&"purge"===this.cachePolicy&&this._hasReadyAncestor(l,p)?h.push(e):d.push(e):r&&h.push(e)});for(const a of d){const t=i.get(a);t&&t.isReady&&u.set(a,t)}for(const a of h){const t=i.get(a);this._tileCache?this._tileCache.add(t):this.releaseTile(t),i.delete(a)}return u.forEach(t=>this.tiles.push(t)),i.forEach(t=>{u.has(t.key.id)||(t.visible=!1)}),this._tileCache&&this._tileCache.prune(p,b,y),a["a"].pool.release(n),u.clear(),w}clear(t=!0){const{tileIndex:e}=this;t&&e.forEach(t=>{this.releaseTile(t)}),e.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,e){let i=t,n=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(n=this.tileIndex.get(i),n&&n.isReady){e.has(n.key.id)||e.set(n.key.id,n);break}}else if(this._tileCache&&this._tileCache.has(i)&&(n=this._tileCache.pop(i),this.tileIndex.set(i,n),n&&n.isReady)){e.has(n.key.id)||e.set(n.key.id,n);break}}_hasReadyAncestor(t,e){const i=Object(n["l"])();this.tileInfoView.getTileBounds(i,t,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=e&&r.key.level<t.level){const t=Object(n["l"])();if(this.tileInfoView.getTileBounds(t,r.key,!0),Object(n["f"])(t,i))return!0}return!1}}},d329:function(t,e,i){"use strict";function n(t){return"r"in t&&"g"in t&&"b"in t}function r(t){return"h"in t&&"s"in t&&"v"in t}function s(t){return"l"in t&&"a"in t&&"b"in t}function o(t){return"l"in t&&"c"in t&&"h"in t}function a(t){return"x"in t&&"y"in t&&"z"in t}i.d(e,"a",(function(){return k})),i.d(e,"b",(function(){return x})),i.d(e,"c",(function(){return S})),i.d(e,"d",(function(){return M})),i.d(e,"e",(function(){return _}));const c=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],l=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function u(t,e){const i=[];let n,r;if(t[0].length!==e.length)throw"dimensions do not match";const s=t.length,o=t[0].length;let a=0;for(n=0;n<s;n++){for(a=0,r=0;r<o;r++)a+=t[n][r]*e[r];i.push(a)}return i}function h(t){const e=[t.r/255,t.g/255,t.b/255].map(t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4),i=u(c,e);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function d(t){const e=u(l,[t.x/100,t.y/100,t.z/100]).map(t=>{const e=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(e,0))});return{r:Math.round(255*e[0]),g:Math.round(255*e[1]),b:Math.round(255*e[2])}}function p(t){const e=[t.x/95.047,t.y/100,t.z/108.883].map(t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29);return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function f(t){const e=t.l,i=[(e+16)/116+t.a/500,(e+16)/116,(e+16)/116-t.b/200].map(t=>t>6/29?t**3:3*(6/29)**2*(t-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function b(t){const e=t.l,i=t.a,n=t.b,r=Math.sqrt(i*i+n*n);let s=Math.atan2(n,i);return s=s>0?s:s+2*Math.PI,{l:e,c:r,h:s}}function y(t){const e=t.l,i=t.c,n=t.h;return{l:e,a:i*Math.cos(n),b:i*Math.sin(n)}}function m(t){return p(h(t))}function g(t){return d(f(t))}function v(t){return b(p(h(t)))}function w(t){return d(f(y(t)))}function O(t){const e=t.r,i=t.g,n=t.b,r=Math.max(e,i,n),s=r-Math.min(e,i,n);let o=r,a=0===s?0:r===e?(i-n)/s%6:r===i?(n-e)/s+2:(e-i)/s+4,c=0===s?0:s/o;return a<0&&(a+=6),a*=60,c*=100,o*=100/255,{h:a,s:c,v:o}}function j(t){const e=(t.h+360)%360/60,i=t.s/100,n=t.v/100*255,r=n*i,s=r*(1-Math.abs(e%2-1));let o;switch(Math.floor(e)){case 0:o={r:r,g:s,b:0};break;case 1:o={r:s,g:r,b:0};break;case 2:o={r:0,g:r,b:s};break;case 3:o={r:0,g:s,b:r};break;case 4:o={r:s,g:0,b:r};break;case 5:case 6:o={r:r,g:0,b:s};break;default:o={r:0,g:0,b:0}}return o.r=Math.round(o.r+n-r),o.g=Math.round(o.g+n-r),o.b=Math.round(o.b+n-r),o}function _(t){return n(t)?t:o(t)?w(t):s(t)?g(t):a(t)?d(t):r(t)?j(t):t}function x(t){return r(t)?t:O(_(t))}function S(t){return s(t)?t:m(_(t))}function M(t){return o(t)?t:v(_(t))}function k(t,e){const i=m(t);return i.l*=1-e,g(i)}},d347:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("a4ee"),r=i("fc29"),s=i("af40"),o=i("b2b2"),a=i("477c"),c=i("5815"),l=i("3795"),u=i("9d9d"),h=i("59b2"),d=i("d386");let p=class extends r["a"]{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new s["a"],this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(t,e,i,n=0){const r=0!=(1&n),s=++this.handleId;r||this.installSyncUpdatingWatch(t,e,s);const o=0!=(2&n)?Object(l["a"])(t,e,i,r):t.watch(e,i,r);return this.handles.add(o,s),{remove:()=>this.handles.remove(s)}}addOnCollectionPropertyChange(t,e,i,n=0){const r=0!=(2&n),s=++this.handleId;return this.handles.add([Object(l["b"])(t,e,"after-changes",this.createSyncUpdatingCallback()),Object(l["b"])(t,e,"change",i,r?t=>{i({added:t.items,removed:[],moved:[],target:t})}:void 0)],s),{remove:()=>{this.handles.remove(s)}}}addOnCollectionChange(t,e,i=0){const n=0!=(2&i),r=++this.handleId;return this.handles.add([t.on("after-changes",this.createSyncUpdatingCallback()),t.on("change",e)],r),n&&e({added:t.items,removed:[],moved:[],target:t}),{remove:()=>{this.handles.remove(r)}}}addPromise(t){if(Object(o["k"])(t))return t;const e=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(t)&&(0!==this.pendingPromises.size||this.handles.has(f)||this._set("updating",!1))}},e),this.pendingPromises.add(t),this._set("updating",!0);const i=()=>this.handles.remove(e);return t.then(i,i),t}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}installSyncUpdatingWatch(t,e,i){const n=this.createSyncUpdatingCallback(),r=Object(a["b"])(()=>Object(u["c"])(t,e),n,{sync:!0,equals:()=>!1});return this.handles.add(r,i),r}createSyncUpdatingCallback(){return()=>{this.handles.remove(f),++this.scheduleHandleId;const t=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Object(c["b"])(()=>{t===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(f))}),f)}}};Object(n["a"])([Object(h["b"])({readOnly:!0})],p.prototype,"updating",void 0),p=Object(n["a"])([Object(d["a"])("esri.views.support.WatchUpdatingTracking")],p);const f=-42},d386:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));i("c120");var n=i("7af8"),r=i("c0d3"),s=i("7ed0");const o=new Set,a=new Set;function c(t){return e=>{e.prototype.declaredClass=t,u(e);const i=[],r=[];let s=e.prototype;for(;s;)s.hasOwnProperty("initialize")&&!o.has(s.initialize)&&(o.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!a.has(s.destroy)&&(a.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);o.clear(),a.clear();class c extends e{constructor(...t){if(super(...t),this.constructor===c&&"function"==typeof this.postscript){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let t=i.length-1;t>=0;t--)i[t].call(this)}}),r.length){let t=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!t){t=!0;for(let t=0;t<r.length;t++)r[t].call(this)}}})}this.postscript(...t)}}}return c.__accessorMetadata__=Object(n["a"])(e.prototype),c.prototype.declaredClass=t,c}}function l(t,e){return null==e.get?function(){const e=this.__accessor__.properties.get(t);if(void 0===e)return;Object(r["d"])(e);const i=this.__accessor__.store;return i.has(t)?i.get(t):e.metadata.value}:function(){const e=this.__accessor__.properties.get(t);if(void 0!==e)return e.getComputed()}}function u(t){const e=t.prototype,i=Object(n["a"])(e).properties,r={};for(const n of Object.getOwnPropertyNames(i)){const t=i[n];Object(s["d"])(t),r[n]={enumerable:!0,configurable:!0,get:l(n,t),set(e){const i=this.__accessor__;if(void 0!==i){if(!Object.isFrozen(this)){if(i.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${n}' of ${this.declaredClass}`);if(2===i.lifecycle&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${n}' of ${this.declaredClass}`);i.set(n,e)}}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:e})}}}Object.defineProperties(t.prototype,r)}},d3b7:function(t,e,i){var n=i("00ee"),r=i("6eeb"),s=i("b041");n||r(Object.prototype,"toString",s,{unsafe:!0})},d445:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return o}));var n=i("9ef0"),r=i("36b8");function s(t){const e=Object(r["l"])(t);if("CIMTextSymbol"===e.type)return e.height;let i=0;if(e.symbolLayers)for(const n of e.symbolLayers)Object(r["h"])(n)&&n.size>i?i=n.size:Object(r["j"])(n)&&n.width>i?i=n.width:Object(r["g"])(n);return i}function o(t,e,i){const n=Object(r["l"])(t),o=s(t);0!==o?c(n,e/o,!1,i):a(n,e)}function a(t,e){if("CIMTextSymbol"!==t.type){if(t.symbolLayers)for(const i of t.symbolLayers)switch(i.type){case"CIMPictureMarker":case"CIMVectorMarker":i.size=e;break;case"CIMPictureStroke":case"CIMSolidStroke":i.width=e}}else t.height=e}function c(t,e,i,n){if("CIMTextSymbol"!==t.type){if(i&&t.effects)for(const i of t.effects)h(i,e);if(t.symbolLayers)for(const i of t.symbolLayers)switch(i.type){case"CIMPictureMarker":case"CIMVectorMarker":l(i,e,n);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=n&&n.preserveOutlineWidth||(i.width*=e);break;case"CIMPictureFill":i.height*=e,i.offsetX*=e,i.offsetY*=e;break;case"CIMHatchFill":c(i.lineSymbol,e,!0,{...n,preserveOutlineWidth:!1}),i.offsetX*=e,i.offsetY*=e,i.separation*=e}}else t.height*=e}function l(t,e,i){if(t.markerPlacement&&u(t.markerPlacement,e),t.offsetX*=e,t.offsetY*=e,t.anchorPoint&&"Absolute"===t.anchorPointUnits&&(t.anchorPoint={x:t.anchorPoint.x*e,y:t.anchorPoint.y*e}),t.size*=e,"CIMVectorMarker"===t.type&&t.markerGraphics)for(const n of t.markerGraphics)t.scaleSymbolsProportionally||c(n.symbol,e,!0,i)}function u(t,e){switch(Object(r["i"])(t)&&(t.offset*=e),t.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(t.customEndingOffset*=e,t.offsetAlongLine*=e,t.placementTemplate&&t.placementTemplate.length){const i=t.placementTemplate.map(t=>t*e);t.placementTemplate=i}break;case"CIMMarkerPlacementAlongLineVariableSize":if(t.maxRandomOffset*=e,t.placementTemplate&&t.placementTemplate.length){const i=t.placementTemplate.map(t=>t*e);t.placementTemplate=i}break;case"CIMMarkerPlacementOnLine":t.startPointOffset*=e;break;case"CIMMarkerPlacementAtExtremities":t.offsetAlongLine*=e;break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":t.beginPosition*=e,t.endPosition*=e;break;case"CIMMarkerPlacementPolygonCenter":t.offsetX*=e,t.offsetY*=e;break;case"CIMMarkerPlacementInsidePolygon":t.offsetX*=e,t.offsetY*=e,t.stepX*=e,t.stepY*=e}}function h(t,e){switch(t.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":t.width*=e;break;case"CIMGeometricEffectBuffer":t.size*=e;break;case"CIMGeometricEffectCut":t.beginCut*=e,t.endCut*=e,t.middleCut*=e;break;case"CIMGeometricEffectDashes":if(t.customEndingOffset*=e,t.offsetAlongLine*=e,t.dashTemplate&&t.dashTemplate.length){const i=t.dashTemplate.map(t=>t*e);t.dashTemplate=i}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":t.length*=e;break;case"CIMGeometricEffectMove":t.offsetX*=e,t.offsetY*=e;break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":t.offset*=e;break;case"CIMGeometricEffectRegularPolygon":t.radius*=e;break;case"CIMGeometricEffectTaperedPolygon":t.fromWidth*=e,t.length*=e,t.toWidth*=e;break;case"CIMGeometricEffectWave":t.amplitude*=e,t.period*=e}}function d(t){const e=[];return p(Object(r["l"])(t),e),e.length?new n["a"](Object(r["e"])(e[0])):null}function p(t,e){let i;i="CIMTextSymbol"===t.type?t.symbol:t;const n="CIMPolygonSymbol"===t.type;if(i.symbolLayers)for(const s of i.symbolLayers)if(!(s.colorLocked||n&&(Object(r["j"])(s)||Object(r["h"])(s)&&s.markerPlacement&&Object(r["i"])(s.markerPlacement))))switch(s.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":break;case"CIMVectorMarker":s.markerGraphics.forEach(t=>{p(t.symbol,e)});break;case"CIMSolidStroke":case"CIMSolidFill":f(e,s.color);break;case"CIMHatchFill":p(s.lineSymbol,e)}}function f(t,e){for(const i of t)if(i.join(".")===e.join("."))return;t.push(e)}},d44e:function(t,e,i){var n=i("9bf2").f,r=i("1a2d"),s=i("b622"),o=s("toStringTag");t.exports=function(t,e,i){t&&!i&&(t=t.prototype),t&&!r(t,o)&&n(t,o,{configurable:!0,value:e})}},d4c3:function(t,e,i){var n=i("342f"),r=i("da84");t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==r.Pebble},d4e6:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c}));var n=i("ce50"),r=i("9d1d"),s=i("b90c"),o=i("22f1");function a(t,e,i){try{return u(t)}catch(a){var n;null==i||null==(n=i.messages)||n.push(a)}return null}function c(t,e,i,n){try{const n=l(t);Object(r["c"])(i,n,e)}catch(c){n.messages&&n.messages.push(c)}}function l(t){const e=Object(s["a"])(t);return e?Object(o["b"])(e)?e.map(t=>t.toJSON()):e.map(({scale:t,effects:e})=>({scale:t,value:e.map(t=>t.toJSON())})):null}function u(t){if(!t||0===t.length)return null;if(h(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:d(i.value)});return e}return d(t)}function h(t){const e=t[0];return!!e&&"scale"in e}function d(t){if(!t||!t.length)return"";const e=[];for(const i of t){let t=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":t=[p(i,"amount")];break;case"blur":t=[p(i,"radius","pt")];break;case"hue-rotate":t=[p(i,"angle","deg")];break;case"drop-shadow":t=[p(i,"xoffset","pt"),p(i,"yoffset","pt"),p(i,"blurRadius","pt"),f(i,"color")];break;case"bloom":t=[p(i,"strength"),p(i,"radius","pt"),p(i,"threshold")]}const n=`${i.type}(${t.filter(Boolean).join(" ")})`;Object(s["a"])(n),e.push(n)}return e.join(" ")}function p(t,e,i){if(null==t[e])throw new n["a"]("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function f(t,e){if(null==t[e])throw new n["a"]("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}},d611:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386"));let c=n=class extends s["a"]{constructor(){super(...arguments),this.title=null}clone(){return new n({title:this.title})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],c.prototype,"title",void 0),c=n=Object(r["a"])([Object(a["a"])("esri.renderers.support.LegendOptions")],c);const l=c},d636:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return r}));var n=i("2255");const r=Math.PI/180,s=/SPHEROID\[([^\]]+)]/i,o=n["a"].radius,a=n["a"].eccentricitySquared,c={a1:o*a,a2:o*a*o*a,a3:o*a*a/2,a4:o*a*o*a*2.5,a5:o*a+o*a*a/2,a6:1-a},l={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:n["a"].radius,f:n["a"].flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:n["c"].radius,f:n["c"].flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:n["b"].radius,f:n["b"].flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:n["b"].radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},d784:function(t,e,i){"use strict";i("ac1f");var n=i("e330"),r=i("6eeb"),s=i("9263"),o=i("d039"),a=i("b622"),c=i("9112"),l=a("species"),u=RegExp.prototype;t.exports=function(t,e,i,h){var d=a(t),p=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=p&&!o((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return e=!0,null},i[d](""),!e}));if(!p||!f||i){var b=n(/./[d]),y=e(d,""[t],(function(t,e,i,r,o){var a=n(t),c=e.exec;return c===s||c===u.exec?p&&!o?{done:!0,value:b(e,i,r)}:{done:!0,value:a(i,e,r)}:{done:!1}}));r(String.prototype,t,y[0]),r(u,d,y[1])}h&&c(u[d],"sham",!0)}},d791:function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return y})),i.d(e,"f",(function(){return b})),i.d(e,"g",(function(){return f})),i.d(e,"h",(function(){return P})),i.d(e,"i",(function(){return R})),i.d(e,"j",(function(){return a})),i.d(e,"k",(function(){return m})),i.d(e,"l",(function(){return J})),i.d(e,"m",(function(){return D})),i.d(e,"n",(function(){return d})),i.d(e,"o",(function(){return W})),i.d(e,"p",(function(){return F})),i.d(e,"q",(function(){return H})),i.d(e,"r",(function(){return g})),i.d(e,"s",(function(){return o})),i.d(e,"t",(function(){return c})),i.d(e,"u",(function(){return j})),i.d(e,"v",(function(){return v})),i.d(e,"w",(function(){return w}));var n=i("0b2d"),r=i("4212");function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,i,n,r,s,o,a,c,l,u,h,d,p,f,b,y){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=c,t[8]=l,t[9]=u,t[10]=h,t[11]=d,t[12]=p,t[13]=f,t[14]=b,t[15]=y,t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){const i=e[1],n=e[2],r=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],b=e[13],y=e[14],m=e[15],g=i*a-n*o,v=i*c-r*o,w=i*l-s*o,O=n*c-r*a,j=n*l-s*a,_=r*l-s*c,x=u*b-h*f,S=u*y-d*f,M=u*m-p*f,k=h*y-d*b,I=h*m-p*b,T=d*m-p*y;let E=g*T-v*I+w*k+O*M-j*S+_*x;return E?(E=1/E,t[0]=(a*T-c*I+l*k)*E,t[1]=(r*I-n*T-s*k)*E,t[2]=(b*_-y*j+m*O)*E,t[3]=(d*j-h*_-p*O)*E,t[4]=(c*M-o*T-l*S)*E,t[5]=(i*T-r*M+s*S)*E,t[6]=(y*w-f*_-m*v)*E,t[7]=(u*_-d*w+p*v)*E,t[8]=(o*I-a*M+l*x)*E,t[9]=(n*M-i*I-s*x)*E,t[10]=(f*j-b*w+m*g)*E,t[11]=(h*w-u*j-p*g)*E,t[12]=(a*S-o*k-c*x)*E,t[13]=(i*k-n*S+r*x)*E,t[14]=(b*v-f*O-y*g)*E,t[15]=(u*O-h*v+d*g)*E,t):null}function u(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],b=e[13],y=e[14],m=e[15];return t[0]=a*(d*m-p*y)-h*(c*m-l*y)+b*(c*p-l*d),t[1]=-(n*(d*m-p*y)-h*(r*m-s*y)+b*(r*p-s*d)),t[2]=n*(c*m-l*y)-a*(r*m-s*y)+b*(r*l-s*c),t[3]=-(n*(c*p-l*d)-a*(r*p-s*d)+h*(r*l-s*c)),t[4]=-(o*(d*m-p*y)-u*(c*m-l*y)+f*(c*p-l*d)),t[5]=i*(d*m-p*y)-u*(r*m-s*y)+f*(r*p-s*d),t[6]=-(i*(c*m-l*y)-o*(r*m-s*y)+f*(r*l-s*c)),t[7]=i*(c*p-l*d)-o*(r*p-s*d)+u*(r*l-s*c),t[8]=o*(h*m-p*b)-u*(a*m-l*b)+f*(a*p-l*h),t[9]=-(i*(h*m-p*b)-u*(n*m-s*b)+f*(n*p-s*h)),t[10]=i*(a*m-l*b)-o*(n*m-s*b)+f*(n*l-s*a),t[11]=-(i*(a*p-l*h)-o*(n*p-s*h)+u*(n*l-s*a)),t[12]=-(o*(h*y-d*b)-u*(a*y-c*b)+f*(a*d-c*h)),t[13]=i*(h*y-d*b)-u*(n*y-r*b)+f*(n*d-r*h),t[14]=-(i*(a*y-c*b)-o*(n*y-r*b)+f*(n*c-r*a)),t[15]=i*(a*d-c*h)-o*(n*d-r*h)+u*(n*c-r*a),t}function h(t){const e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=t[9],h=t[10],d=t[11],p=t[12],f=t[13],b=t[14],y=t[15];return(e*o-i*s)*(h*y-d*b)-(e*a-n*s)*(u*y-d*f)+(e*c-r*s)*(u*b-h*f)+(i*a-n*o)*(l*y-d*p)-(i*c-r*o)*(l*b-h*p)+(n*c-r*a)*(l*f-u*p)}function d(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5],l=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],b=e[12],y=e[13],m=e[14],g=e[15];let v=i[0],w=i[1],O=i[2],j=i[3];return t[0]=v*n+w*a+O*h+j*b,t[1]=v*r+w*c+O*d+j*y,t[2]=v*s+w*l+O*p+j*m,t[3]=v*o+w*u+O*f+j*g,v=i[4],w=i[5],O=i[6],j=i[7],t[4]=v*n+w*a+O*h+j*b,t[5]=v*r+w*c+O*d+j*y,t[6]=v*s+w*l+O*p+j*m,t[7]=v*o+w*u+O*f+j*g,v=i[8],w=i[9],O=i[10],j=i[11],t[8]=v*n+w*a+O*h+j*b,t[9]=v*r+w*c+O*d+j*y,t[10]=v*s+w*l+O*p+j*m,t[11]=v*o+w*u+O*f+j*g,v=i[12],w=i[13],O=i[14],j=i[15],t[12]=v*n+w*a+O*h+j*b,t[13]=v*r+w*c+O*d+j*y,t[14]=v*s+w*l+O*p+j*m,t[15]=v*o+w*u+O*f+j*g,t}function p(t,e,i){const n=i[0],r=i[1],s=i[2];let o,a,c,l,u,h,d,p,f,b,y,m;return e===t?(t[12]=e[0]*n+e[4]*r+e[8]*s+e[12],t[13]=e[1]*n+e[5]*r+e[9]*s+e[13],t[14]=e[2]*n+e[6]*r+e[10]*s+e[14],t[15]=e[3]*n+e[7]*r+e[11]*s+e[15]):(o=e[0],a=e[1],c=e[2],l=e[3],u=e[4],h=e[5],d=e[6],p=e[7],f=e[8],b=e[9],y=e[10],m=e[11],t[0]=o,t[1]=a,t[2]=c,t[3]=l,t[4]=u,t[5]=h,t[6]=d,t[7]=p,t[8]=f,t[9]=b,t[10]=y,t[11]=m,t[12]=o*n+u*r+f*s+e[12],t[13]=a*n+h*r+b*s+e[13],t[14]=c*n+d*r+y*s+e[14],t[15]=l*n+p*r+m*s+e[15]),t}function f(t,e,i){const n=i[0],r=i[1],s=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function b(t,e,i,n){let s,o,a,c,l,u,h,d,p,f,b,y,m,g,v,w,O,j,_,x,S,M,k,I,T=n[0],E=n[1],A=n[2],C=Math.sqrt(T*T+E*E+A*A);return C<r["a"]?null:(C=1/C,T*=C,E*=C,A*=C,s=Math.sin(i),o=Math.cos(i),a=1-o,c=e[0],l=e[1],u=e[2],h=e[3],d=e[4],p=e[5],f=e[6],b=e[7],y=e[8],m=e[9],g=e[10],v=e[11],w=T*T*a+o,O=E*T*a+A*s,j=A*T*a-E*s,_=T*E*a-A*s,x=E*E*a+o,S=A*E*a+T*s,M=T*A*a+E*s,k=E*A*a-T*s,I=A*A*a+o,t[0]=c*w+d*O+y*j,t[1]=l*w+p*O+m*j,t[2]=u*w+f*O+g*j,t[3]=h*w+b*O+v*j,t[4]=c*_+d*x+y*S,t[5]=l*_+p*x+m*S,t[6]=u*_+f*x+g*S,t[7]=h*_+b*x+v*S,t[8]=c*M+d*k+y*I,t[9]=l*M+p*k+m*I,t[10]=u*M+f*k+g*I,t[11]=h*M+b*k+v*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function y(t,e,i){const n=Math.sin(i),r=Math.cos(i),s=e[4],o=e[5],a=e[6],c=e[7],l=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+l*n,t[5]=o*r+u*n,t[6]=a*r+h*n,t[7]=c*r+d*n,t[8]=l*r-s*n,t[9]=u*r-o*n,t[10]=h*r-a*n,t[11]=d*r-c*n,t}function m(t,e,i){const n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],c=e[3],l=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r-l*n,t[1]=o*r-u*n,t[2]=a*r-h*n,t[3]=c*r-d*n,t[8]=s*n+l*r,t[9]=o*n+u*r,t[10]=a*n+h*r,t[11]=c*n+d*r,t}function g(t,e,i){const n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],c=e[3],l=e[4],u=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+l*n,t[1]=o*r+u*n,t[2]=a*r+h*n,t[3]=c*r+d*n,t[4]=l*r-s*n,t[5]=u*r-o*n,t[6]=h*r-a*n,t[7]=d*r-c*n,t}function v(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e,i){let n,s,o,a=i[0],c=i[1],l=i[2],u=Math.sqrt(a*a+c*c+l*l);return u<r["a"]?null:(u=1/u,a*=u,c*=u,l*=u,n=Math.sin(e),s=Math.cos(e),o=1-s,t[0]=a*a*o+s,t[1]=c*a*o+l*n,t[2]=l*a*o-c*n,t[3]=0,t[4]=a*c*o-l*n,t[5]=c*c*o+s,t[6]=l*c*o+a*n,t[7]=0,t[8]=a*l*o+c*n,t[9]=c*l*o-a*n,t[10]=l*l*o+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function j(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e,i){const n=e[0],r=e[1],s=e[2],o=e[3],a=n+n,c=r+r,l=s+s,u=n*a,h=n*c,d=n*l,p=r*c,f=r*l,b=s*l,y=o*a,m=o*c,g=o*l;return t[0]=1-(p+b),t[1]=h+g,t[2]=d-m,t[3]=0,t[4]=h-g,t[5]=1-(u+b),t[6]=f+y,t[7]=0,t[8]=d+m,t[9]=f-y,t[10]=1-(u+p),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function M(t,e){const i=k,n=-e[0],r=-e[1],s=-e[2],o=e[3],a=e[4],c=e[5],l=e[6],u=e[7],h=n*n+r*r+s*s+o*o;return h>0?(i[0]=2*(a*o+u*n+c*s-l*r)/h,i[1]=2*(c*o+u*r+l*n-a*s)/h,i[2]=2*(l*o+u*s+a*r-c*n)/h):(i[0]=2*(a*o+u*n+c*s-l*r),i[1]=2*(c*o+u*r+l*n-a*s),i[2]=2*(l*o+u*s+a*r-c*n)),S(t,e,i),t}const k=Object(n["f"])();function I(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function T(t,e){const i=e[0],n=e[1],r=e[2],s=e[4],o=e[5],a=e[6],c=e[8],l=e[9],u=e[10];return t[0]=Math.sqrt(i*i+n*n+r*r),t[1]=Math.sqrt(s*s+o*o+a*a),t[2]=Math.sqrt(c*c+l*l+u*u),t}function E(t,e){const i=e[0]+e[5]+e[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function A(t,e,i,n){const r=e[0],s=e[1],o=e[2],a=e[3],c=r+r,l=s+s,u=o+o,h=r*c,d=r*l,p=r*u,f=s*l,b=s*u,y=o*u,m=a*c,g=a*l,v=a*u,w=n[0],O=n[1],j=n[2];return t[0]=(1-(f+y))*w,t[1]=(d+v)*w,t[2]=(p-g)*w,t[3]=0,t[4]=(d-v)*O,t[5]=(1-(h+y))*O,t[6]=(b+m)*O,t[7]=0,t[8]=(p+g)*j,t[9]=(b-m)*j,t[10]=(1-(h+f))*j,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function C(t,e,i,n,r){const s=e[0],o=e[1],a=e[2],c=e[3],l=s+s,u=o+o,h=a+a,d=s*l,p=s*u,f=s*h,b=o*u,y=o*h,m=a*h,g=c*l,v=c*u,w=c*h,O=n[0],j=n[1],_=n[2],x=r[0],S=r[1],M=r[2],k=(1-(b+m))*O,I=(p+w)*O,T=(f-v)*O,E=(p-w)*j,A=(1-(d+m))*j,C=(y+g)*j,P=(f+v)*_,R=(y-g)*_,L=(1-(d+b))*_;return t[0]=k,t[1]=I,t[2]=T,t[3]=0,t[4]=E,t[5]=A,t[6]=C,t[7]=0,t[8]=P,t[9]=R,t[10]=L,t[11]=0,t[12]=i[0]+x-(k*x+E*S+P*M),t[13]=i[1]+S-(I*x+A*S+R*M),t[14]=i[2]+M-(T*x+C*S+L*M),t[15]=1,t}function P(t,e){const i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,c=r+r,l=i*o,u=n*o,h=n*a,d=r*o,p=r*a,f=r*c,b=s*o,y=s*a,m=s*c;return t[0]=1-h-f,t[1]=u+m,t[2]=d-y,t[3]=0,t[4]=u-m,t[5]=1-l-f,t[6]=p+b,t[7]=0,t[8]=d+y,t[9]=p-b,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,e,i,n,r,s,o){const a=1/(i-e),c=1/(r-n),l=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*c,t[6]=0,t[7]=0,t[8]=(i+e)*a,t[9]=(r+n)*c,t[10]=(o+s)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*l,t[15]=0,t}function L(t,e,i,n,r){const s=1/Math.tan(e/2);let o;return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(o=1/(n-r),t[10]=(r+n)*o,t[14]=2*r*n*o):(t[10]=-1,t[14]=-2*n),t}function N(t,e,i,n){const r=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),c=2/(o+a),l=2/(r+s);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(o-a)*c*.5,t[9]=(r-s)*l*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t}function F(t,e,i,n,r,s,o){const a=1/(e-i),c=1/(n-r),l=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*c,t[14]=(o+s)*l,t[15]=1,t}function D(t,e,i,n){let s,o,c,l,u,h,d,p,f,b;const y=e[0],m=e[1],g=e[2],v=n[0],w=n[1],O=n[2],j=i[0],_=i[1],x=i[2];return Math.abs(y-j)<r["a"]&&Math.abs(m-_)<r["a"]&&Math.abs(g-x)<r["a"]?a(t):(d=y-j,p=m-_,f=g-x,b=1/Math.sqrt(d*d+p*p+f*f),d*=b,p*=b,f*=b,s=w*f-O*p,o=O*d-v*f,c=v*p-w*d,b=Math.sqrt(s*s+o*o+c*c),b?(b=1/b,s*=b,o*=b,c*=b):(s=0,o=0,c=0),l=p*c-f*o,u=f*s-d*c,h=d*o-p*s,b=Math.sqrt(l*l+u*u+h*h),b?(b=1/b,l*=b,u*=b,h*=b):(l=0,u=0,h=0),t[0]=s,t[1]=l,t[2]=d,t[3]=0,t[4]=o,t[5]=u,t[6]=p,t[7]=0,t[8]=c,t[9]=h,t[10]=f,t[11]=0,t[12]=-(s*y+o*m+c*g),t[13]=-(l*y+u*m+h*g),t[14]=-(d*y+p*m+f*g),t[15]=1,t)}function z(t,e,i,n){const r=e[0],s=e[1],o=e[2],a=n[0],c=n[1],l=n[2];let u=r-i[0],h=s-i[1],d=o-i[2],p=u*u+h*h+d*d;p>0&&(p=1/Math.sqrt(p),u*=p,h*=p,d*=p);let f=c*d-l*h,b=l*u-a*d,y=a*h-c*u;return p=f*f+b*b+y*y,p>0&&(p=1/Math.sqrt(p),f*=p,b*=p,y*=p),t[0]=f,t[1]=b,t[2]=y,t[3]=0,t[4]=h*y-d*b,t[5]=d*f-u*y,t[6]=u*b-h*f,t[7]=0,t[8]=u,t[9]=h,t[10]=d,t[11]=0,t[12]=r,t[13]=s,t[14]=o,t[15]=1,t}function V(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function $(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function G(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function U(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function q(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function B(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t[9]=e[9]+i[9]*n,t[10]=e[10]+i[10]*n,t[11]=e[11]+i[11]*n,t[12]=e[12]+i[12]*n,t[13]=e[13]+i[13]*n,t[14]=e[14]+i[14]*n,t[15]=e[15]+i[15]*n,t}function H(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function W(t,e){if(t===e)return!0;const i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],c=t[5],l=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],b=t[12],y=t[13],m=t[14],g=t[15],v=e[0],w=e[1],O=e[2],j=e[3],_=e[4],x=e[5],S=e[6],M=e[7],k=e[8],I=e[9],T=e[10],E=e[11],A=e[12],C=e[13],P=e[14],R=e[15];return Math.abs(i-v)<=r["a"]*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(n-w)<=r["a"]*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(s-O)<=r["a"]*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(o-j)<=r["a"]*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(a-_)<=r["a"]*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(c-x)<=r["a"]*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-S)<=r["a"]*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-M)<=r["a"]*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-k)<=r["a"]*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-I)<=r["a"]*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(p-T)<=r["a"]*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(f-E)<=r["a"]*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(b-A)<=r["a"]*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(y-C)<=r["a"]*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(m-P)<=r["a"]*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(g-R)<=r["a"]*Math.max(1,Math.abs(g),Math.abs(R))}function J(t){const e=r["a"],i=t[0],n=t[1],s=t[2],o=t[4],a=t[5],c=t[6],l=t[8],u=t[9],h=t[10];return Math.abs(1-(i*i+o*o+l*l))<=e&&Math.abs(1-(n*n+a*a+u*u))<=e&&Math.abs(1-(s*s+c*c+h*h))<=e}const K=d,Y=U;Object.freeze({__proto__:null,copy:s,set:o,identity:a,transpose:c,invert:l,adjoint:u,determinant:h,multiply:d,translate:p,scale:f,rotate:b,rotateX:y,rotateY:m,rotateZ:g,fromTranslation:v,fromScaling:w,fromRotation:O,fromXRotation:j,fromYRotation:_,fromZRotation:x,fromRotationTranslation:S,fromQuat2:M,getTranslation:I,getScaling:T,getRotation:E,fromRotationTranslationScale:A,fromRotationTranslationScaleOrigin:C,fromQuat:P,frustum:R,perspective:L,perspectiveFromFieldOfView:N,ortho:F,lookAt:D,targetTo:z,str:V,frob:$,add:G,subtract:U,multiplyScalar:q,multiplyScalarAndAdd:B,exactEquals:H,equals:W,isOrthoNormal:J,mul:K,sub:Y})},d7f2:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("aefa");class r{constructor(t,e){this._storage=new n["c"],this._storage.maxSize=t,e&&this._storage.registerRemoveFunc("",e)}put(t,e){this._storage.put(t,e,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},d81c:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fa8a");const r=Object(n["b"])()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},d822:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("deae"),r=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},s=function(t,e){for(var i=0,n=t.length;i<n;i++){var o=t[i];Array.isArray(o)?s(o,e):null!=o&&!1!==o&&(o.hasOwnProperty("vnodeSelector")||(o=r(o)),e.push(o))}},o=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(1===i.length&&"string"==typeof i[0])return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var r=[];return s(i,r),{vnodeSelector:t,properties:e||void 0,children:r,text:void 0,domNode:null}};function a(t,e,...i){return"function"!=typeof t||Object(n["b"])(t)?o(t,e,...i):t(e,...i)}},d8b2:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return l}));var n=i("f7be"),r=i("2eab"),s=i("e041"),o=i("c8d6"),a=i("bee2");function c(t){const e=t.toJSON();return e.attachmentTypes&&(e.attachmentTypes=e.attachmentTypes.join(",")),e.keywords&&(e.keywords=e.keywords.join(",")),e.globalIds&&(e.globalIds=e.globalIds.join(",")),e.objectIds&&(e.objectIds=e.objectIds.join(",")),e.size&&(e.size=e.size.join(",")),e}function l(t,e){const i={};for(const r of t){const{parentObjectId:t,parentGlobalId:a,attachmentInfos:c}=r;for(const r of c){const{id:c}=r,l=Object(s["b"])(Object(n["a"])(`${e}/${t}/attachments/${c}`)),u=o["a"].fromJSON(r);u.set({url:l,parentObjectId:t,parentGlobalId:a}),i[t]?i[t].push(u):i[t]=[u]}}return i}function u(t,e,i){let n={query:Object(a["a"])({...t.query,f:"json",...c(e)})};return i&&(n={...i,...n,query:{...i.query,...n.query}}),Object(r["default"])(t.path+"/queryAttachments",n)}},d998:function(t,e,i){var n=i("342f");t.exports=/MSIE|Trident/.test(n)},d9b5:function(t,e,i){var n=i("da84"),r=i("d066"),s=i("1626"),o=i("3a9b"),a=i("fdbf"),c=n.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return s(e)&&o(e.prototype,c(t))}},d9fd:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n,r=i("a4ee"),s=i("9d1d"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("fa8a"),l=i("6a0e");const u=new c["a"]({asc:"ascending",desc:"descending"});let h=n=class extends l["a"]{constructor(t){super(t),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],h.prototype,"field",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),Object(r["a"])([Object(o["b"])({type:u.apiValues,json:{read:u.read,write:u.write}})],h.prototype,"order",void 0),h=n=Object(r["a"])([Object(a["a"])("esri.layers.support.OrderByInfo")],h);const d=h;function p(t,e,i){if(!t)return null;const n=t.find(t=>!!t.field);if(!n)return null;const r=new d;return r.read(n,i),[r]}function f(t,e,i,n){const r=t.find(t=>!!t.field);r&&Object(s["c"])(i,[r.toJSON()],e)}const b=t=>{let e=class extends t{constructor(){super(...arguments),this.orderBy=null}};return Object(r["a"])([Object(o["b"])({type:[d],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:p},write:{target:"layerDefinition.orderBy",writer:f}}})],e.prototype,"orderBy",void 0),e=Object(r["a"])([Object(a["a"])("esri.layers.mixins.OrderedLayer")],e),e}},da00:function(t,e,i){"use strict";i.d(e,"a",(function(){return P}));var n,r=i("a4ee"),s=i("1fd7"),o=i("ce50"),a=i("7ffa"),c=i("e92d"),l=i("b2b2"),u=i("9d1d"),h=i("59b2"),d=i("1a3e"),p=i("448d"),f=i("afcf"),b=i("d386"),y=i("09db"),m=i("0f1c"),g=i("cea0"),v=i("c1da"),w=i("0224"),O=i("667b"),j=i("be4d"),_=i("82e4"),x=i("d611"),S=i("99f3"),M=i("82fa"),k=i("fcf2"),I=i("343a"),T=i("ddc2");const E=c["a"].getLogger("esri.renderers.UniqueValueRenderer"),A=Object(g["m"])(S["a"]);let C=n=class extends(Object(j["a"])(O["a"])){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,e){if(!t&&!e)return;if(!t||!e)return{type:"complete",oldValue:t,newValue:e};let i=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let r=0;r<e.length;r++){const s=t.find(t=>t.value===e[r].value);s?Object(m["a"])(s,e[r])?(n.changed.push({type:"complete",oldValue:s,newValue:e[r]}),i=!0):n.unchanged.push({oldValue:s,newValue:e[r]}):(n.added.push(e[r]),i=!0)}for(let r=0;r<t.length;r++)e.find(e=>e.value===t[r].value)||(n.removed.push(t[r]),i=!0);return i?n:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(t){return null==t||"function"==typeof t?t:Object(g["l"])(t)}writeField(t,e,i,n){"string"==typeof t?e[i]=t:n&&n.messages?n.messages.push(new o["a"]("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):E.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}readPortal(t,e,i){return i.portal||w["a"].getDefault()}readStyleOrigin(t,e,i){if(e.styleName)return Object.freeze({styleName:e.styleName});if(e.styleUrl){const t=Object(k["a"])(e.styleUrl,i);return Object.freeze({styleUrl:t})}}writeStyleOrigin(t,e,i,n){t.styleName?e.styleName=t.styleName:t.styleUrl&&(e.styleUrl=Object(k["e"])(t.styleUrl,n))}set uniqueValueInfos(t){this.styleOrigin?E.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap())}addUniqueValueInfo(t,e){if(this.styleOrigin)return void E.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i="object"==typeof t?A(t):new S["a"]({value:t,symbol:Object(s["a"])(e)}),this.uniqueValueInfos.push(i),this._valueInfoMap[i.value]=i}removeUniqueValueInfo(t){if(this.styleOrigin)E.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let e=0;e<this.uniqueValueInfos.length;e++)if(this.uniqueValueInfos[e].value===t+""){delete this._valueInfoMap[t],this.uniqueValueInfos.splice(e,1);break}}async getUniqueValueInfo(t,e){let i=e;return this.valueExpression&&(Object(l["k"])(e)||Object(l["k"])(e.arcade))&&(i={...i,arcade:await Object(M["e"])()}),this._getUniqueValueInfo(t,i)}getSymbol(t,e){if(this.valueExpression&&(Object(l["k"])(e)||Object(l["k"])(e.arcade)))return void E.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(t,e);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(Object(l["k"])(i)||Object(l["k"])(i.arcade))){const t=await Object(M["e"])(),{arcadeUtils:e}=t;e.hasGeometryOperations(this.valueExpression)&&await e.enableGeometryOperations(),i={...i,arcade:t}}const n=this._getUniqueValueInfo(t,i);return n&&n.symbol||this.defaultSymbol}getSymbols(){const t=[];for(const e of this.uniqueValueInfos)e.symbol&&t.push(e.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,e)=>t+e.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((t,e)=>t+e.getMeshHash(),"")}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const t=new n({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:Object(a["a"])(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:Object(a["a"])(this.visualVariables),legendOptions:Object(a["a"])(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:Object(a["a"])(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);const e=Object(a["a"])(this.uniqueValueInfos);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze(Object(a["a"])(this.styleOrigin))),Object.freeze(e)),t._set("uniqueValueInfos",e),t._updateValueInfoMap(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.getSymbols().map(i=>i.collectRequiredFields(t,e)),Object(v["a"])(t,e,this.valueExpression)];Object(v["d"])(t,e,this.field),Object(v["d"])(t,e,this.field2),Object(v["d"])(t,e,this.field3),await Promise.all(i)}populateFromStyle(){return Object(I["b"])(this.styleOrigin,{portal:this.portal}).then(t=>{const e=[];return this._valueInfoMap={},t&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach(i=>{const n=new T["a"]({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==t.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const r=new S["a"]({value:i.name,symbol:n});e.push(r),this._valueInfoMap[i.name]=r}),this._set("uniqueValueInfos",Object.freeze(e)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(t=>this._valueInfoMap[t.value+""]=t)}_getUniqueValueInfo(t,e){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,e):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,e){const{viewingMode:i,scale:n,spatialReference:r,arcade:s}=Object(l["u"])(e,{});let o=this._cache.compiledFunc;const a=Object(l["t"])(s).arcadeUtils;if(!o){const t=a.createSyntaxTree(this.valueExpression);o=a.createFunction(t),this._cache.compiledFunc=o}const c=a.executeFunction(o,a.createExecContext(t,a.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._valueInfoMap[c+""]}_getUnqiueValueInfoForFields(t){const e=this.field,i=t.attributes;let n;if("function"!=typeof e&&this.field2){const t=this.field2,r=this.field3,s=[];e&&s.push(i[e]),t&&s.push(i[t]),r&&s.push(i[r]),n=s.join(this.fieldDelimiter||"")}else"function"==typeof e?n=e(t):e&&(n=i[e]);return this._valueInfoMap[n+""]}static fromPortalStyle(t,e){const i=new n(e&&e.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",e&&e.portal||w["a"].getDefault());const r=i.populateFromStyle();return r.catch(e=>{E.error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",e)}),r}static fromStyleUrl(t,e){const i=new n(e&&e.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));const r=i.populateFromStyle();return r.catch(e=>{E.error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",e)}),r}};Object(r["a"])([Object(h["b"])({readOnly:!0})],C.prototype,"_cache",null),Object(r["a"])([Object(p["a"])({uniqueValue:"unique-value"})],C.prototype,"type",void 0),Object(r["a"])([Object(h["b"])(_["a"])],C.prototype,"backgroundFillSymbol",void 0),Object(r["a"])([Object(h["b"])({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],C.prototype,"field",void 0),Object(r["a"])([Object(d["a"])("field")],C.prototype,"castField",null),Object(r["a"])([Object(y["a"])("field")],C.prototype,"writeField",null),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],C.prototype,"field2",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],C.prototype,"field3",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],C.prototype,"valueExpression",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],C.prototype,"valueExpressionTitle",void 0),Object(r["a"])([Object(h["b"])({type:x["a"],json:{write:!0}})],C.prototype,"legendOptions",void 0),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],C.prototype,"defaultLabel",void 0),Object(r["a"])([Object(h["b"])(Object(u["a"])({..._["b"]},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],C.prototype,"defaultSymbol",null),Object(r["a"])([Object(h["b"])({type:String,json:{write:!0}})],C.prototype,"fieldDelimiter",void 0),Object(r["a"])([Object(h["b"])({type:w["a"],readOnly:!0})],C.prototype,"portal",void 0),Object(r["a"])([Object(f["a"])("portal",["styleName"])],C.prototype,"readPortal",null),Object(r["a"])([Object(h["b"])({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],C.prototype,"styleOrigin",void 0),Object(r["a"])([Object(f["a"])("styleOrigin",["styleName","styleUrl"])],C.prototype,"readStyleOrigin",null),Object(r["a"])([Object(y["a"])("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],C.prototype,"writeStyleOrigin",null),Object(r["a"])([Object(h["b"])({type:[S["a"]],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],C.prototype,"uniqueValueInfos",null),C=n=Object(r["a"])([Object(b["a"])("esri.renderers.UniqueValueRenderer")],C);const P=C},da3a:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("fa8a");const r=new n["a"]({preserveShape:"preserve-shape"});function s(t){const{polylines:e,lengthUnit:i,geodesic:n,calculationType:s}=t.toJSON(),o={};o.polylines=JSON.stringify(e);const a=t.polylines[0].spatialReference;return o.sr=a.wkid?a.wkid:JSON.stringify(a.toJSON()),i&&(o.lengthUnit=i),n&&(o.geodesic=n),s&&(o.calculationType=r.toJSON(s)),o}},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},dac3:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("43e0"),r=i("92af"),s=i("e6b5");class o extends r["a"]{constructor(t){super({...t,constraint:new n["b"](t.coordinateHelper,t.edgeStart,t.edgeEnd)})}get hints(){return[new s["a"](1,this.constraint.start,this.constraint.end)]}}},db52:function(t,e,i){"use strict";i.d(e,"a",(function(){return _}));var n=i("a4ee"),r=i("fa8a"),s=i("7ffa"),o=i("a915"),a=i("59b2"),c=(i("cea0"),i("448d")),l=i("d386"),u=(i("b50f"),i("c120"),i("0d93"));let h=class extends u["a"]{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};Object(n["a"])([Object(c["a"])({esriSLS:"simple-line"},{readOnly:!0})],h.prototype,"type",void 0),Object(n["a"])([Object(a["b"])({type:Number,cast:o["j"],json:{write:!0}})],h.prototype,"width",void 0),h=Object(n["a"])([Object(l["a"])("esri.symbols.LineSymbol")],h);const d=h;var p,f=i("9ef0"),b=i("6a0e"),y=i("afcf"),m=i("09db");let g=p=class extends b["a"]{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,n){"web-map"===(null==n?void 0:n.origin)?e[i]="arrow":e[i]=t}set color(t){this._set("color",t)}readColor(t){return t&&null!=t[0]?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,n){"web-map"===(null==n?void 0:n.origin)||(e[i]=t)}clone(){return new p({color:Object(s["a"])(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${null==(t=this.color)?void 0:t.hash()}.${this.style}`}};Object(n["a"])([Object(a["b"])({type:["begin","end","begin-end"],json:{write:!0}})],g.prototype,"placement",void 0),Object(n["a"])([Object(c["a"])({"line-marker":"line-marker"},{readOnly:!0}),Object(a["b"])({json:{origins:{"web-map":{write:!1}}}})],g.prototype,"type",void 0),Object(n["a"])([Object(a["b"])({type:["arrow","circle","square","diamond","cross","x"]})],g.prototype,"style",void 0),Object(n["a"])([Object(m["a"])("style")],g.prototype,"writeStyle",null),Object(n["a"])([Object(a["b"])({type:f["a"],value:null,json:{write:{allowNull:!0}}})],g.prototype,"color",null),Object(n["a"])([Object(y["a"])("color")],g.prototype,"readColor",null),Object(n["a"])([Object(m["a"])("color")],g.prototype,"writeColor",null),g=p=Object(n["a"])([Object(l["a"])("esri.symbols.LineSymbolMarker")],g);const v=g;var w;const O=new r["a"]({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let j=w=class extends d{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,n,r,s){if(t&&"string"!=typeof t)return t;const a={};return null!=t&&(a.style=t),null!=e&&(a.color=e),null!=i&&(a.width=Object(o["j"])(i)),null!=n&&(a.cap=n),null!=r&&(a.join=r),null!=s&&(a.miterLimit=Object(o["j"])(s)),a}clone(){var t;return new w({color:Object(s["a"])(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(t=this.marker)?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${null==(t=this.color)?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(e=this.marker)?void 0:e.hash()}`}};Object(n["a"])([Object(c["a"])({esriSLS:"simple-line"},{readOnly:!0})],j.prototype,"type",void 0),Object(n["a"])([Object(a["b"])({type:O.apiValues,json:{read:O.read,write:O.write}})],j.prototype,"style",void 0),Object(n["a"])([Object(a["b"])({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:"round"!==t&&(null==i||null==i.origin)})}}})],j.prototype,"cap",void 0),Object(n["a"])([Object(a["b"])({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:"round"!==t&&(null==i||null==i.origin)})}}})],j.prototype,"join",void 0),Object(n["a"])([Object(a["b"])({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":v}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],j.prototype,"marker",void 0),Object(n["a"])([Object(a["b"])({type:Number,json:{read:!1,write:!1}})],j.prototype,"miterLimit",void 0),j=w=Object(n["a"])([Object(l["a"])("esri.symbols.SimpleLineSymbol")],j);const _=j},dbbf:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n=i("f7be"),r=i("ce50"),s=i("9d83"),o=i("b2b2"),a=i("f4cc"),c=i("9c4c"),l=i("49fa");const u={statsWorker:()=>i.e("chunk-e40fb29e").then(i.bind(null,"926b")),geometryEngineWorker:()=>i.e("chunk-252da140").then(i.bind(null,"0f9c")),CSVSourceWorker:()=>Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-9a959fca")]).then(i.bind(null,"d77e")),EdgeProcessingWorker:()=>i.e("chunk-3b31293b").then(i.bind(null,"2273")),ElevationSamplerWorker:()=>Promise.all([i.e("chunk-01941038"),i.e("chunk-a1580416")]).then(i.bind(null,"0959")),FeatureServiceSnappingSourceWorker:()=>Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-1f70f5e4")]).then(i.bind(null,"615f")),GeoJSONSourceWorker:()=>Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-528f064d")]).then(i.bind(null,"054a")),LercWorker:()=>i.e("chunk-21440acd").then(i.bind(null,"b71a")),MemorySourceWorker:()=>Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-cce14d88")]).then(i.bind(null,"1a59")),PBFDecoderWorker:()=>i.e("chunk-fbbf9fbe").then(i.bind(null,"01bf")),Pipeline:()=>Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-e948379e")]).then(i.bind(null,"0c45")),PointCloudWorker:()=>i.e("chunk-3bb87d0e").then(i.bind(null,"aebe")),RasterWorker:()=>Promise.all([i.e("chunk-084afda9"),i.e("chunk-f1516bda")]).then(i.bind(null,"0c00")),SceneLayerWorker:()=>i.e("chunk-2d0bcda5").then(i.bind(null,"2a00")),WFSSourceWorker:()=>Promise.all([i.e("chunk-2d0d03a7"),i.e("chunk-1f46d0f8"),i.e("chunk-62c11016")]).then(i.bind(null,"727a")),WorkerTileHandler:()=>i.e("chunk-145178c0").then(i.bind(null,"54b6"))},{CLOSE:h,ABORT:d,INVOKE:p,RESPONSE:f,OPEN_PORT:b,ON:y}=c["a"];class m{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===c["a"].ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class g{constructor(t,e){this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new m(t=>this._onInvokeMessage(t)),this._client=e.client,this._onMessage=this._onMessage.bind(this),this._channel=e.channel,this._schedule=e.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const e=new MessageChannel;let i;i="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;const n=new g(e.port1,{channel:e,client:i});return"object"==typeof i&&"remoteClient"in i&&(i.remoteClient=n),g.clients.set(n,i),e.port2}static loadWorker(t){const e=u[t];return e?e():Promise.resolve(null)}close(){this._post({type:h}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,e,i){const n=i&&i.signal,s=i&&i.transferList;if(!this._port)return Promise.reject(new r["a"]("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:e}));const o=Object(c["b"])();return new Promise((i,r)=>{const c=Object(a["q"])(n,()=>{var t;const e=this._outJobs.get(o);e&&(this._outJobs.delete(o),null==(t=e.abortHandle)||t.remove(),this._post({type:d,jobId:o}),r(Object(a["d"])()))}),l={resolve:i,reject:r,abortHandle:c,debugInfo:t};this._outJobs.set(o,l),this._post({type:p,jobId:o,methodName:t,abortable:null!=n},e,s)})}on(t,e){const i=new MessageChannel;function n(t){e(t.data)}return this._port.postMessage({type:c["a"].ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",n),i.port1.start(),{remove(){i.port1.postMessage({type:c["a"].CLOSE}),i.port1.close(),i.port1.removeEventListener("message",n)}}}openPort(){const t=new MessageChannel;return this._post({type:b,port:t.port2}),t.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{var e;null==(e=t.abortHandle)||e.remove(),t.reject(Object(a["d"])(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){Object(o["l"])(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const e=Object(c["d"])(t);if(e)switch(e.type){case f:this._onResponseMessage(e);break;case p:this._invokeQueue.push(e);break;case d:this._onAbortMessage(e);break;case h:this._onCloseMessage();break;case b:this._onOpenPortMessage(e);break;case y:this._onOnMessage(e)}}_onAbortMessage(t){const e=this._inJobs,i=t.jobId,n=e.get(i);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),e.delete(i))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&g.clients.get(this)===t&&t.destroy(),g.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:e,jobId:i,data:n,abortable:r}=t,s=r?new AbortController:null,o=this._inJobs;let l,u=this._client,h=u[e];try{if(!h&&e&&-1!==e.indexOf(".")){const t=e.split(".");for(let e=0;e<t.length-1;e++)u=u[t[e]],h=u[t[e+1]]}if("function"!=typeof h)throw new TypeError(e+" is not a function");l=h.call(u,n,{client:this,signal:s?s.signal:null})}catch(d){return void this._post({type:f,jobId:i,error:Object(c["e"])(d)})}Object(a["o"])(l)?(o.set(i,{controller:s,promise:l}),l.then(t=>{o.has(i)&&(o.delete(i),this._post({type:f,jobId:i},t))},t=>{o.has(i)&&(o.delete(i),Object(a["l"])(t)||this._post({type:f,jobId:i,error:Object(c["e"])(t||{message:"Error encountered at method "+e})}))})):this._post({type:f,jobId:i},l)}_onOpenPortMessage(t){new g(t.port,{client:this._client})}_onOnMessage(t){const{port:e}=t,i=this._client.on(t.eventType,t=>{e.postMessage(t)}),n=Object(s["c"])(t.port,"message",t=>{Object(c["d"])(t).type===c["a"].CLOSE&&(n.remove(),i.remove(),e.close())})}_onResponseMessage(t){var e;const{jobId:i,error:n,data:s}=t,o=this._outJobs;if(!o.has(i))return;const a=o.get(i);o.delete(i),null==(e=a.abortHandle)||e.remove(),n?a.reject(r["a"].fromJSON(JSON.parse(n))):a.resolve(s)}_post(t,e,i){return Object(c["c"])(this._port,t,e,i)}}g.kernelInfo={revision:l["b"],version:n["d"],buildDate:l["a"]},g.clients=new Map},dc4a:function(t,e,i){var n=i("59ed");t.exports=function(t,e){var i=t[e];return null==i?void 0:n(i)}},ddb0:function(t,e,i){var n=i("da84"),r=i("fdbc"),s=i("785a"),o=i("e260"),a=i("9112"),c=i("b622"),l=c("iterator"),u=c("toStringTag"),h=o.values,d=function(t,e){if(t){if(t[l]!==h)try{a(t,l,h)}catch(n){t[l]=h}if(t[u]||a(t,u,e),r[e])for(var i in o)if(t[i]!==o[i])try{a(t,i,o[i])}catch(n){t[i]=o[i]}}};for(var p in r)d(n[p]&&n[p].prototype,p);d(s,"DOMTokenList")},ddc2:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n,r=i("a4ee"),s=i("e92d"),o=i("f4cc"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("448d")),l=i("d386"),u=i("0224"),h=i("fcf2"),d=i("0d93"),p=i("505a");const f=s["a"].getLogger("esri.symbols.WebStyleSymbol");let b=n=class extends d["a"]{constructor(t){super(t),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(t,e){this.portal=e?e.portal:void 0,super.read(t,e)}clone(){return new n({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,e){const i=await y();Object(o["u"])(e);const n=i.resolveWebStyleSymbol(this,{portal:this.portal},t,e);return n.catch(t=>{f.error("#fetchSymbol()","Failed to create symbol from style",t)}),n}};function y(){return i.e("chunk-fbb0e4bc").then(i.bind(null,"3e35"))}Object(r["a"])([Object(a["b"])({json:{write:!1}})],b.prototype,"color",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],b.prototype,"styleName",void 0),Object(r["a"])([Object(a["b"])({type:u["a"],json:{write:!1}})],b.prototype,"portal",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{read:h["d"],write:h["f"]}})],b.prototype,"styleUrl",void 0),Object(r["a"])([Object(a["b"])({type:p["a"],json:{read:!1}})],b.prototype,"thumbnail",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{write:!0}})],b.prototype,"name",void 0),Object(r["a"])([Object(c["a"])({styleSymbolReference:"web-style"},{readOnly:!0})],b.prototype,"type",void 0),b=n=Object(r["a"])([Object(l["a"])("esri.symbols.WebStyleSymbol")],b);const m=b},deae:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return c}));var n=i("c649");const r=Symbol("widget"),s=[],o={},a=new WeakMap;function c(t,e){let i=e.children;if(i&&i.length)for(let r=0;r<i.length;++r)i[r]=c(t,i[r]);else i=s;const n=e.vnodeSelector;if(d(n)){const r=e.properties||o,s=r.key||n;return{vnodeSelector:"div",properties:{key:s,afterCreate:l,afterUpdate:u,afterRemoved:h,parentWidget:t,widgetConstructor:n,widgetProperties:{...r,key:s,children:i}},children:void 0,text:void 0,domNode:null}}return e}function l(t,e,i,{parentWidget:r,widgetConstructor:s,widgetProperties:o}){const c=new s(o);c.container=t,a.set(t,c),null==c.afterCreate||c.afterCreate(c,t),r._internalHandles.add(Object(n["c"])(()=>h(t)))}function u(t,e,i,{widgetProperties:n}){const r=a.get(t);r&&(r.set(n),null==r.afterUpdate||r.afterUpdate(r,t))}function h(t){const e=a.get(t);e&&(e.destroy(),a.delete(t))}function d(t){return"function"==typeof t&&t[r]}},df3b:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(t,e,i){this.coordinateHelper=t,this.targetPoint=e,this.constraint=i}}},df75:function(t,e,i){var n=i("ca84"),r=i("7839");t.exports=Object.keys||function(t){return n(t,r)}},dfa0:function(t,e,i){"use strict";i.d(e,"a",(function(){return G})),i.d(e,"b",(function(){return q}));var n=i("ce50"),r=i("c120"),s=i("f4cc"),o=i("67c2"),a=i("dbbf"),c=i("f7be"),l=i("e92d"),u=i("9c4c"),h=i("b2cd"),d=i("1325"),p=(i("1b8f"),i("e041"));const f={};function b(t,e){for(const i of t)if(i.name===e.name)return;t.push(e)}function y(t){var e;const i={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:t.packages&&t.packages.concat()||[],paths:{...t.paths}};return t.hasOwnProperty("async")||(i.async=!0),t.hasOwnProperty("isDebug")||(i.isDebug=!1),t.baseUrl||(i.baseUrl=f.baseUrl),null==(e=f.packages)||e.forEach(t=>{b(i.packages,t)}),i}var m=i("2ab7");class g{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(e=>{this[e]=(...i)=>t[e](...i)})}}class v{constructor(){this._dispatcher=new g,this._workerPostMessage({type:u["a"].HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){Object(m["a"])(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,e,i){this._dispatcher.addEventListener(t,e,i)}removeEventListener(t,e,i){this._dispatcher.removeEventListener(t,e,i)}_workerPostMessage(t){Object(m["a"])(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const e=Object(u["d"])(t);if(e&&e.type===u["a"].OPEN){const{modulePath:t,jobId:i}=e;let n=await a["a"].loadWorker(t);n||(n=await import(t));const r=a["a"].connect(n);this._workerPostMessage({type:u["a"].OPENED,jobId:i,data:r})}}}var w=i("2035"),O=i("49fa");const j=l["a"].getLogger("esri.core.workers"),{HANDSHAKE:_}=u["a"],x='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let S,M;const k="Failed to create Worker. Fallback to execute module in main thread";async function I(){if(!Object(r["a"])("esri-workers"))return T(new v);if(!S&&!M)try{const t=x.replace('"{CONFIGURATION}"',`'${E()}'`);S=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(e){M=e||{}}let t;if(S)try{t=new Worker(S,{name:"esri-worker-"+A++})}catch(e){j.warn(k,M),t=new v}else j.warn(k,M),t=new v;return T(t)}async function T(t){return new Promise(e=>{function i(r){const s=Object(u["d"])(r);s&&s.type===_&&(t.removeEventListener("message",i),t.removeEventListener("error",n),e(t))}function n(e){e.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",n),j.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new v).addEventListener("message",i),t.addEventListener("error",n)}t.addEventListener("message",i),t.addEventListener("error",n)})}function E(){let t;if(null!=d["a"].default){const e={...d["a"]};delete e.default,t=JSON.parse(JSON.stringify(e))}else t=JSON.parse(JSON.stringify(d["a"]));t.assetsPath=Object(p["A"])(t.assetsPath),t.request.interceptors=[],t.log.interceptors=[],t.locale=Object(w["b"])(),t.has={"esri-csp-restrictions":Object(r["a"])("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Object(r["a"])("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":Object(r["a"])("esri-2d-query-centroid-enabled"),"featurelayer-pbf":Object(r["a"])("featurelayer-pbf"),"featurelayer-simplify-thresholds":Object(r["a"])("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Object(r["a"])("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":Object(r["a"])("featurelayer-simplify-mobile-factor"),"esri-atomics":Object(r["a"])("esri-atomics"),"esri-shared-array-buffer":Object(r["a"])("esri-shared-array-buffer"),"esri-tiles-debug":Object(r["a"])("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Object(r["a"])("esri-workers-arraybuffer-transfer"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=Object(p["A"])(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=Object(p["A"])(t.workers.workerPath):t.workers.workerPath=Object(p["A"])(Object(h["a"])("esri/core/workers/RemoteClient.js"));const e=d["a"].workers.loaderConfig,i=y({baseUrl:null==e?void 0:e.baseUrl,locale:Object(w["b"])(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...null==e?void 0:e.has},map:{...null==e?void 0:e.map},paths:{...null==e?void 0:e.paths},packages:(null==e?void 0:e.packages)||[]}),n={version:c["d"],buildDate:O["a"],revision:O["b"]};return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:n})}let A=0;const C=l["a"].getLogger("esri.core.workers"),{ABORT:P,INVOKE:R,OPEN:L,OPENED:N,RESPONSE:F}=u["a"];class D{constructor(t,e){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=e,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",t=>{t.preventDefault(),C.error(t)})}static async create(t){const e=await I();return new D(e,t)}terminate(){this.worker.terminate()}async open(t,e={}){const{signal:i}=e,n=Object(u["b"])();return new Promise((e,r)=>{const o={resolve:e,reject:r,abortHandle:Object(s["q"])(i,()=>{this._outJobs.delete(n),this._post({type:P,jobId:n})})};this._outJobs.set(n,o),this._post({type:L,jobId:n,modulePath:t})})}_onMessage(t){const e=Object(u["d"])(t);if(e)switch(e.type){case N:this._onOpenedMessage(e);break;case F:this._onResponseMessage(e);break;case P:this._onAbortMessage(e);break;case R:this._onInvokeMessage(e)}}_onAbortMessage(t){const e=this._inJobs,i=t.jobId,n=e.get(i);n&&(n.controller&&n.controller.abort(),e.delete(i))}_onInvokeMessage(t){const{methodName:e,jobId:i,data:n,abortable:r}=t,o=r?new AbortController:null,a=this._inJobs,l=c["e"][e];let h;try{if("function"!=typeof l)throw new TypeError(e+" is not a function");h=l.call(null,n,{signal:o?o.signal:null})}catch(d){return void this._post({type:F,jobId:i,error:Object(u["e"])(d)})}Object(s["o"])(h)?(a.set(i,{controller:o,promise:h}),h.then(t=>{a.has(i)&&(a.delete(i),this._post({type:F,jobId:i},t))},t=>{a.has(i)&&(a.delete(i),t||(t={message:"Error encountered at method"+e}),Object(s["l"])(t)||this._post({type:F,jobId:i,error:Object(u["e"])(t||{message:"Error encountered at method "+e})}))})):this._post({type:F,jobId:i},h)}_onOpenedMessage(t){var e;const{jobId:i,data:n}=t,r=this._outJobs.get(i);r&&(this._outJobs.delete(i),null==(e=r.abortHandle)||e.remove(),r.resolve(n))}_onResponseMessage(t){var e;const{jobId:i,error:r,data:s}=t,o=this._outJobs.get(i);o&&(this._outJobs.delete(i),null==(e=o.abortHandle)||e.remove(),r?o.reject(n["a"].fromJSON(JSON.parse(r))):o.resolve(s))}_post(t,e,i){return Object(u["c"])(this.worker,t,e,i)}}let z=Object(r["a"])("esri-workers-debug")?1:Object(r["a"])("host-browser")?navigator.hardwareConcurrency-1:0;z||(z=Object(r["a"])("safari")&&Object(r["a"])("mac")||Object(r["a"])("trident")?7:2);let V=0;const $=[];function G(){W()}async function U(t,e){const i=new o["a"];return await i.open(t,e),i}async function q(t,e={}){if("string"!=typeof t)throw new n["a"]("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(Object(r["a"])("host-webworker")&&!Object(r["a"])("esri-workers")&&(i="local"),"local"===i){let i=await a["a"].loadWorker(t);i||(i=await import(t)),Object(s["u"])(e.signal);const n=e.client||i;return U([a["a"].connect(i)],{...e,client:n})}if(await W(),Object(s["u"])(e.signal),"dedicated"===i){const i=V++%z;return U([await $[i].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const i=Math.min(e.maxNumWorkers,z);if(i<z){const n=new Array(i);for(let r=0;r<i;++r){const i=V++%z;n[r]=$[i].open(t,e)}return U(n,e)}}return U($.map(i=>i.open(t,e)),e)}let B,H=null;async function W(){if(H)return H;B=new AbortController;const t=[];for(let e=0;e<z;e++){const i=D.create(e).then(t=>($[e]=t,t));t.push(i)}return H=Promise.all(t),H}},dff3:function(t,e,i){"use strict";i.d(e,"a",(function(){return j}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("b2b2"),c=i("8048"),l=i("59b2"),u=(i("b50f"),i("c120"),i("cea0")),h=i("afcf"),d=i("d386"),p=i("09db"),f=i("4ae5"),b=i("5996"),y=i("9180"),m=i("7f83"),g=i("9786"),v=i("50e6");const w=new s["a"]({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let O=n=class extends o["a"]{constructor(t){super(t),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(t={}){const{resolutionFactor:e=1,scales:i,size:r=256,spatialReference:s=b["a"].WebMercator,numLODs:o=24}=t;if(!Object(m["l"])(s)){const t=[];if(i)for(let e=0;e<i.length;e++){const n=i[e];t.push({level:e,scale:n,resolution:n})}else{let e=5e-4;for(let i=o-1;i>=0;i--)t.unshift({level:i,scale:e,resolution:e}),e*=2}return new n({dpi:96,lods:t,origin:new f["a"](0,0,s),size:[r,r],spatialReference:s})}const a=Object(m["e"])(s),l=t.origin?new f["a"]({x:t.origin.x,y:t.origin.y,spatialReference:s}):new f["a"](a?{x:a.origin[0],y:a.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),u=96,h=1/(39.37*Object(c["d"])(s)*u),d=[];if(i)for(let n=0;n<i.length;n++){const t=i[n],e=t*h;d.push({level:n,scale:t,resolution:e})}else{let t=Object(m["h"])(s)?512/r*591657527.5917094:256/r*591657527.591555;const i=Math.ceil(o/e);d.push({level:0,scale:t,resolution:t*h});for(let n=1;n<i;n++){const i=t/2**e,r=i*h;d.push({level:n,scale:i,resolution:r}),t=i}}return new n({dpi:u,lods:d,origin:l,size:[r,r],spatialReference:s})}get isWrappable(){const{spatialReference:t,origin:e}=this;if(t&&e){const i=Object(m["e"])(t);return t.isWrappable&&Math.abs(i.origin[0]-e.x)<=i.dx}return!1}readOrigin(t,e){return f["a"].fromJSON({spatialReference:e.spatialReference,...t})}set lods(t){let e=0,i=0;const n=[];this._levelToLOD={},t&&(e=-1/0,i=1/0,t.forEach(t=>{n.push(t.scale),e=t.scale>e?t.scale:e,i=t.scale<i?t.scale:i,this._levelToLOD[t.level]=t})),this._set("scales",n),this._set("minScale",e),this._set("maxScale",i),this._set("lods",t),this._initializeUpsampleLevels()}readSize(t,e){return[e.cols,e.rows]}writeSize(t,e){e.cols=t[0],e.rows=t[1]}zoomToScale(t){const e=this.scales;if(t<=0)return e[0];if(t>=e.length-1)return e[e.length-1];{const i=Math.floor(t),n=i+1;return e[i]/(e[i]/e[n])**(t-i)}}scaleToZoom(t){const e=this.scales,i=e.length-1;let n=0;for(;n<i;n++){const i=e[n],r=e[n+1];if(i<=t)return n;if(r===t)return n+1;if(i>t&&r<t)return n+Math.log(i/t)/Math.log(i/r)}return n}snapScale(t,e=.95){const i=this.scaleToZoom(t);return i%Math.floor(i)>=e?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(t,e,i,n){const r=this.lodAt(t);if(!r)return null;let s,o;if("number"==typeof e)s=e,o=i;else if(Object(m["d"])(e.spatialReference,this.spatialReference))s=e.x,o=e.y,n=i;else{const t=Object(g["d"])(e,this.spatialReference);if(Object(a["k"])(t))return null;s=t.x,o=t.y,n=i}const c=r.resolution*this.size[0],l=r.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:Object(y["l"])()}),n.level=t,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((s-this.origin.x)/c+.001),this.updateTileInfo(n),n}updateTileInfo(t,e=0){let i=this.lodAt(t.level);if(!i&&1===e){const e=this.lods[this.lods.length-1];e.level<t.level&&(i=e)}if(!i)return;const n=t.level-i.level,r=i.resolution*this.size[0]/2**n,s=i.resolution*this.size[1]/2**n;t.id=`${t.level}/${t.row}/${t.col}`,t.extent||(t.extent=Object(y["l"])()),t.extent[0]=this.origin.x+t.col*r,t.extent[1]=this.origin.y-(t.row+1)*s,t.extent[2]=t.extent[0]+r,t.extent[3]=t.extent[1]+s}upsampleTile(t){const e=this._upsampleLevels[t.level];return!(!e||-1===e.parentLevel)&&(t.level=e.parentLevel,t.row=Math.floor(t.row/e.factor+.001),t.col=Math.floor(t.col/e.factor+.001),this.updateTileInfo(t),!0)}getTileBounds(t,e){const{resolution:i}=this.lodAt(e.level),n=i*this.size[0],r=i*this.size[1];return t[0]=this.origin.x+e.col*n,t[1]=this.origin.y-(e.row+1)*r,t[2]=t[0]+n,t[3]=t[1]+r,t}lodAt(t){return this._levelToLOD&&this._levelToLOD[t]||null}clone(){return n.fromJSON(this.write({}))}_initializeUpsampleLevels(){const t=this.lods;this._upsampleLevels=[];let e=null;for(let i=0;i<t.length;i++){const n=t[i];this._upsampleLevels[n.level]={parentLevel:e?e.level:-1,factor:e?e.resolution/n.resolution:0},e=n}}};Object(r["a"])([Object(l["b"])({type:Number,json:{write:!0}})],O.prototype,"compressionQuality",void 0),Object(r["a"])([Object(l["b"])({type:Number,json:{write:!0}})],O.prototype,"dpi",void 0),Object(r["a"])([Object(l["b"])({type:String,json:{read:w.read,write:w.write,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"format",void 0),Object(r["a"])([Object(l["b"])({readOnly:!0})],O.prototype,"isWrappable",null),Object(r["a"])([Object(l["b"])({type:f["a"],json:{write:!0}})],O.prototype,"origin",void 0),Object(r["a"])([Object(h["a"])("origin")],O.prototype,"readOrigin",null),Object(r["a"])([Object(l["b"])({type:[v["a"]],value:null,json:{write:!0}})],O.prototype,"lods",null),Object(r["a"])([Object(l["b"])({readOnly:!0})],O.prototype,"minScale",void 0),Object(r["a"])([Object(l["b"])({readOnly:!0})],O.prototype,"maxScale",void 0),Object(r["a"])([Object(l["b"])({readOnly:!0})],O.prototype,"scales",void 0),Object(r["a"])([Object(l["b"])({cast:t=>Array.isArray(t)?t:"number"==typeof t?[t,t]:[256,256]})],O.prototype,"size",void 0),Object(r["a"])([Object(h["a"])("size",["rows","cols"])],O.prototype,"readSize",null),Object(r["a"])([Object(p["a"])("size",{cols:{type:u["a"]},rows:{type:u["a"]}})],O.prototype,"writeSize",null),Object(r["a"])([Object(l["b"])({type:b["a"],json:{write:!0}})],O.prototype,"spatialReference",void 0),O=n=Object(r["a"])([Object(d["a"])("esri.layers.support.TileInfo")],O);const j=O},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),s=i("da84"),o=i("e330"),a=i("1a2d"),c=i("1626"),l=i("3a9b"),u=i("577e"),h=i("9bf2").f,d=i("e893"),p=s.Symbol,f=p&&p.prototype;if(r&&c(p)&&(!("description"in f)||void 0!==p().description)){var b={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=l(f,this)?new p(t):void 0===t?p():p(t);return""===t&&(b[e]=!0),e};d(y,p),y.prototype=f,f.constructor=y;var m="Symbol(test)"==String(p("test")),g=o(f.toString),v=o(f.valueOf),w=/^Symbol\((.*)\)[^)]+$/,O=o("".replace),j=o("".slice);h(f,"description",{configurable:!0,get:function(){var t=v(this),e=g(t);if(a(b,t))return"";var i=m?j(e,7,-1):O(e,w,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:y})}},e041:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return k})),i.d(e,"c",(function(){return A})),i.d(e,"d",(function(){return gt})),i.d(e,"e",(function(){return vt})),i.d(e,"f",(function(){return O})),i.d(e,"g",(function(){return v})),i.d(e,"h",(function(){return ft})),i.d(e,"i",(function(){return K})),i.d(e,"j",(function(){return W})),i.d(e,"k",(function(){return ct})),i.d(e,"l",(function(){return L})),i.d(e,"m",(function(){return U})),i.d(e,"n",(function(){return wt})),i.d(e,"o",(function(){return C})),i.d(e,"p",(function(){return M})),i.d(e,"q",(function(){return N})),i.d(e,"r",(function(){return P})),i.d(e,"s",(function(){return q})),i.d(e,"t",(function(){return B})),i.d(e,"u",(function(){return H})),i.d(e,"v",(function(){return Q})),i.d(e,"w",(function(){return Z})),i.d(e,"x",(function(){return yt})),i.d(e,"y",(function(){return F})),i.d(e,"z",(function(){return G})),i.d(e,"A",(function(){return z})),i.d(e,"B",(function(){return Y})),i.d(e,"C",(function(){return V})),i.d(e,"D",(function(){return $})),i.d(e,"E",(function(){return S})),i.d(e,"F",(function(){return _})),i.d(e,"G",(function(){return at})),i.d(e,"H",(function(){return mt})),i.d(e,"I",(function(){return ut})),i.d(e,"J",(function(){return it})),i.d(e,"K",(function(){return j}));var n=i("1325"),r=i("ce50"),s=i("e92d"),o=i("b2b2");const a=s["a"].getLogger("esri.core.urlUtils"),c=n["a"].request,l="esri/config: esriConfig.request.proxyUrl is not set.",u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,h=/^\s*http:/i,d=/^\s*https:/i,p=/^\s*file:/i,f=/:\d+$/,b=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,y=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),m=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class g{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=Object(o["d"])(this.uri.match(y));this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),null!=this.authority&&(e=Object(o["d"])(this.authority.match(m)),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}}const v=new g(n["a"].applicationUrl),w={},O=(()=>{const t=Object(o["d"])(v.path),e=t.substring(0,t.lastIndexOf(t.split("/")[t.split("/").length-1]));return`${v.scheme}://${v.host}${null!=v.port?":"+v.port:""}${e}`})();function j(t){const e={path:null,query:null},i=new g(t),n=t.indexOf("?");return null===i.query?e.path=t:(e.path=t.substring(0,n),e.query=_(i.query)),i.fragment&&(e.hash=i.fragment,null===i.query&&(e.path=e.path.substring(0,e.path.length-(i.fragment.length+1)))),e}function _(t){const e=t.split("&"),i={};for(const n of e){if(!n)continue;const t=n.indexOf("=");let e,r;t<0?(e=decodeURIComponent(n),r=""):(e=decodeURIComponent(n.slice(0,t)),r=decodeURIComponent(n.slice(t+1)));let s=i[e];"string"==typeof s&&(s=i[e]=[s]),Array.isArray(s)?s.push(r):i[e]=r}return i}function x(t){return t&&"object"==typeof t&&"toJSON"in t&&"function"==typeof t.toJSON}function S(t,e){return t?e&&"function"==typeof e?Object.keys(t).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(e(i,t[i]))).join("&"):Object.keys(t).map(i=>{const n=t[i];if(null==n)return"";const r=encodeURIComponent(i)+"=",s=e&&e[i];return s?r+encodeURIComponent(s(n)):Array.isArray(n)?n.map(t=>x(t)?r+encodeURIComponent(JSON.stringify(t)):r+encodeURIComponent(t)).join("&"):x(n)?r+encodeURIComponent(JSON.stringify(n)):r+encodeURIComponent(n)}).filter(t=>t).join("&"):""}function M(t=!1){let e,i=c.proxyUrl;if("string"==typeof t){e=Q(t);const n=C(t);n&&(i=n.proxyUrl)}else e=!!t;if(!i)throw a.warn(l),new r["a"]("urlutils:proxy-not-set",l);return e&&rt()&&(i=it(i)),j(i)}function k(t){const e=C(t);let i,n;if(e){const t=T(e.proxyUrl);i=t.path,n=t.query?_(t.query):null}if(i){const e=j(t);t=i+"?"+e.path;const r=S({...n,...e.query});r&&(t=`${t}?${r}`)}return t}const I={path:"",query:""};function T(t){const e=t.indexOf("?");return-1!==e?(I.path=t.slice(0,e),I.query=t.slice(e+1)):(I.path=t,I.query=null),I}function E(t){return(t=st(t=lt(t=T(t).path),!0)).toLowerCase()}function A(t){const e={proxyUrl:t.proxyUrl,urlPrefix:E(t.urlPrefix)},i=c.proxyRules,n=e.urlPrefix;let r=i.length;for(let s=0;s<i.length;s++){const t=i[s].urlPrefix;if(0===n.indexOf(t)){if(n.length===t.length)return-1;r=s;break}0===t.indexOf(n)&&(r=s+1)}return i.splice(r,0,e),r}function C(t){const e=c.proxyRules,i=E(t);for(let n=0;n<e.length;n++)if(0===i.indexOf(e[n].urlPrefix))return e[n]}function P(t,e){return t=R(t),e=R(e),st(t)===st(e)}function R(t){const e=(t=$(t)).indexOf("/sharing");return e>0?t.substring(0,e):t.replace(/\/+$/,"")}function L(t){const e=e=>null==e||e instanceof RegExp&&e.test(t)||"string"==typeof e&&t.startsWith(e),i=c.interceptors;if(i)for(const n of i)if(Array.isArray(n.urls)){if(n.urls.some(e))return n}else if(e(n.urls))return n;return null}function N(t,e,i=!1){const n=bt(t),r=bt(e);return!(!i&&n.scheme!==r.scheme)&&null!=n.host&&null!=r.host&&n.host.toLowerCase()===r.host.toLowerCase()&&n.port===r.port}function F(t){if("string"==typeof t){if(!q(t))return!0;t=bt(t)}if(N(t,v))return!0;const e=c.trustedServers||[];for(let i=0;i<e.length;i++){const n=D(e[i]);for(let e=0;e<n.length;e++)if(N(t,n[e]))return!0}return!1}function D(t){return w[t]||(X(t)||Z(t)?w[t]=[new g(z(t))]:w[t]=[new g("http://"+t),new g("https://"+t)]),w[t]}function z(t,e=O,i){return Z(t)?i&&i.preserveProtocolRelative?t:"http"===v.scheme&&v.authority===U(t).slice(2)?"http:"+t:"https:"+t:X(t)?t:Object(o["d"])(G("/"===t[0]?ot(e):e,t))}function V(t,e=O,i){if(!q(t))return t;const n=$(t),r=n.toLowerCase(),s=$(e).toLowerCase().replace(/\/+$/,""),o=i?$(i).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==s.indexOf(o))return t;const a=(t,e,i)=>-1===(i=t.indexOf(e,i))?t.length:i;let c=a(r,"/",r.indexOf("//")+2),l=-1;for(;r.slice(0,c+1)===s.slice(0,c)+"/"&&(l=c+1,c!==r.length);)c=a(r,"/",c+1);if(-1===l)return t;if(o&&l<o.length)return t;t=n.slice(l);const u=s.slice(l-1).replace(/[^/]+/g,"").length;if(u>0)for(let h=0;h<u;h++)t="../"+t;else t="./"+t;return t}function $(t){return pt(t=dt(t=ht(t=z(t=t.trim()))))}function G(...t){const e=t.filter(o["l"]);if(!e||!e.length)return;const i=[];if(q(e[0])){const t=e[0],n=t.indexOf("//");-1!==n&&(i.push(t.slice(0,n+1)),et(e[0])&&(i[0]+="/"),e[0]=t.slice(n+2))}else"/"===e[0][0]&&i.push("");const n=e.reduce((t,e)=>e?t.concat(e.split("/")):t,[]);for(let r=0;r<n.length;r++){const t=n[r];".."===t&&i.length>0&&".."!==i[i.length-1]?i.pop():(!t&&r===n.length-1||t&&("."!==t||0===i.length))&&i.push(t)}return i.join("/")}function U(t,e=!1){if(B(t)||H(t))return null;let i=t.indexOf("://");if(-1===i&&Z(t))i=2;else{if(-1===i)return null;i+=3}const n=t.indexOf("/",i);return-1!==n&&(t=t.slice(0,n)),e&&(t=st(t,!0)),t}function q(t){return Z(t)||X(t)}function B(t){return null!=t&&"blob:"===t.slice(0,5)}function H(t){return"data:"===t.slice(0,5)}function W(t){const e=K(t);if(!e||!e.isBase64)return null;const i=atob(e.data),n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n.buffer}const J=/^data:(.*?)(;base64)?,(.*)$/;function K(t){const e=t.match(J);if(!e)return null;const[,i,n,r]=e;return{mediaType:i,isBase64:!!n,data:r}}function Y(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}function Z(t){return null!=t&&void 0!==t&&"/"===t[0]&&"/"===t[1]}function X(t){return u.test(t)}function Q(t){return d.test(t)||"https"===v.scheme&&Z(t)}function tt(t){return h.test(t)||"http"===v.scheme&&Z(t)}function et(t){return p.test(t)}function it(t){return Z(t)?"https:"+t:t.replace(h,"https:")}function nt(){return"http"===v.scheme}function rt(){return"https"===v.scheme}function st(t,e=!1){return Z(t)?t.slice(2):(t=t.replace(u,""),e&&t.length>1&&"/"===t[0]&&"/"===t[1]&&(t=t.slice(2)),t)}function ot(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return-1===i?t:t.slice(0,i)}function at(t){let e=0;if(q(t)){const i=t.indexOf("//");-1!==i&&(e=i+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function ct(t,e){if(!t)return"";const i=j(t).path.replace(/\/+$/,""),n=i.substring(i.lastIndexOf("/")+1);if(null==e||!e.length)return n;const r=new RegExp(`.(${e.join("|")})$`,"ig");return n.replace(r,"")}function lt(t){return t&&"/"===t[t.length-1]?t:t+"/"}function ut(t){return t.replace(/\/+$/,"")}function ht(t){if(/^https?:\/\//i.test(t)){const e=T(t);t=(t=e.path.replace(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+="?"+e.query)}return t}function dt(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function pt(t){const e=c.httpsDomains;if(!tt(t))return t;const i=t.indexOf("/",7);let n;if(n=-1===i?t:t.slice(0,i),n=n.toLowerCase().slice(7),f.test(n)){if(!n.endsWith(":80"))return t;n=n.slice(0,-3),t=t.replace(":80","")}return nt()&&n===v.authority&&!b.test(t)||(rt()&&n===v.authority||e&&e.some(t=>n===t||n.endsWith("."+t))||rt()&&!C(t))&&(t=it(t)),t}function ft(t,e,i){if(!(e&&i&&t&&q(t)))return t;const n=t.indexOf("//"),r=t.indexOf("/",n+2),s=t.indexOf(":",n+2),o=Math.min(r<0?t.length:r,s<0?t.length:s);return t.slice(n+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,n+2)}${i}${t.slice(o)}`}function bt(t){return"string"==typeof t?new g(z(t)):(t.scheme||(t.scheme=v.scheme),t)}function yt(t){return jt.test(t)}function mt(t,e){const i=j(t),n=Object.keys(i.query||{});return n.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function gt(t,e,i){const n=j(t),r=n.query||{};return r[e]=String(i),`${n.path}?${S(r)}`}function vt(t,e){const i=j(t),n=i.query||{};for(const s in e)n[s]=e[s];const r=S(n);return r?`${i.path}?${r}`:i.path}function wt(t){if(Object(o["k"])(t))return null;const e=t.match(Ot);return e?e[1]:null}const Ot=/.*?\.([^\/]*)$/,jt=/(^data:image\/svg|\.svg$)/i},e06a:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("cea0"),r=i("3af1"),s=i("3760"),o=i("57dc"),a=i("4ae5"),c=i("1219"),l=i("521c");i("5996"),i("74e2"),i("a9ab");const u={base:s["a"],key:"type",typeMap:{extent:r["a"],multipoint:o["a"],point:a["a"],polyline:l["a"],polygon:c["a"]}};Object(n["k"])(u)},e163:function(t,e,i){var n=i("da84"),r=i("1a2d"),s=i("1626"),o=i("7b0b"),a=i("f772"),c=i("e177"),l=a("IE_PROTO"),u=n.Object,h=u.prototype;t.exports=c?u.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var i=e.constructor;return s(i)&&e instanceof i?i.prototype:e instanceof u?h:null}},e177:function(t,e,i){var n=i("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e1bb:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("b2b2"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("448d")),c=i("d386"),l=i("961d"),u=i("8c11"),h=i("fc29");let d=n=class extends h["a"]{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new n({x:this.x,y:this.y,z:this.z})}};Object(r["a"])([Object(o["b"])({type:Number})],d.prototype,"x",void 0),Object(r["a"])([Object(o["b"])({type:Number})],d.prototype,"y",void 0),Object(r["a"])([Object(o["b"])({type:Number})],d.prototype,"z",void 0),d=n=Object(r["a"])([Object(c["a"])("esri.symbols.support.Symbol3DAnchorPosition3D")],d);var p,f=i("a3af");let b=p=class extends l["a"]{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new p({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:Object(s["l"])(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};Object(r["a"])([Object(o["b"])({type:f["b"],json:{write:!0}})],b.prototype,"material",void 0),Object(r["a"])([Object(o["b"])({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0),Object(r["a"])([Object(o["b"])({type:u["a"],json:{write:!0}})],b.prototype,"resource",void 0),Object(r["a"])([Object(a["a"])({Object:"object"},{readOnly:!0})],b.prototype,"type",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],b.prototype,"width",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],b.prototype,"height",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],b.prototype,"depth",void 0),Object(r["a"])([Object(a["a"])({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),Object(o["b"])({json:{default:"origin"}})],b.prototype,"anchor",void 0),Object(r["a"])([Object(o["b"])({type:d,json:{type:[Number],read:{reader:t=>new d({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],b.prototype,"heading",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{write:!0}})],b.prototype,"roll",void 0),Object(r["a"])([Object(o["b"])({readOnly:!0})],b.prototype,"isPrimitive",null),b=p=Object(r["a"])([Object(c["a"])("esri.symbols.ObjectSymbol3DLayer")],b);const y=b},e1fa:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("1b19"),c=i("b08e");let l=n=class extends a["a"]{constructor(t){super(t),this.type="bar-chart"}clone(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};Object(r["a"])([Object(s["b"])({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:c["a"].write}})],l.prototype,"type",void 0),l=n=Object(r["a"])([Object(o["a"])("esri.popup.content.BarChartMediaInfo")],l);const u=l},e20b:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a}));var n=i("c120");const r=new Set;function s(t,e,i=!1){i&&r.has(e)||(i&&r.add(e),t.warn("🛑 DEPRECATED - "+e))}function o(t,e,i={}){if(Object(n["a"])("esri-deprecation-warnings")){const{moduleName:n}=i;c(t,"Function: "+((n?n+"::":"")+e+"()"),i)}}function a(t,e,i={}){if(Object(n["a"])("esri-deprecation-warnings")){const{moduleName:n}=i;c(t,"Property: "+((n?n+"::":"")+e),i)}}function c(t,e,i={}){if(Object(n["a"])("esri-deprecation-warnings")){const{replacement:n,version:r,see:o,warnOnce:a}=i;let c=e;n&&(c+="\n\t🛠️ Replacement: "+n),r&&(c+="\n\t⚙️ Version: "+r),o&&(c+=`\n\t🔗 See ${o} for more details.`),s(t,c,a)}}},e260:function(t,e,i){"use strict";var n=i("fc6a"),r=i("44d2"),s=i("3f8c"),o=i("69f3"),a=i("9bf2").f,c=i("7dd0"),l=i("c430"),u=i("83ab"),h="Array Iterator",d=o.set,p=o.getterFor(h);t.exports=c(Array,"Array",(function(t,e){d(this,{type:h,target:n(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var f=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!l&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(b){}},e2cc:function(t,e,i){var n=i("6eeb");t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},e330:function(t,e){var i=Function.prototype,n=i.bind,r=i.call,s=n&&n.bind(r);t.exports=n?function(t){return t&&s(r,t)}:function(t){return t&&function(){return r.apply(t,arguments)}}},e42f:function(t,e,i){"use strict";function n(t,e,i,n){let r=null,s=1e3;"number"==typeof e?(s=e,n=i):(r=null!=e?e:null,s=i);let o,a=0;const c=()=>{a=0,t.apply(n,o)},l=(...t)=>{r&&r.apply(n,t),o=t,s?a||(a=setTimeout(c,s)):c()};return l.remove=()=>{a&&(clearTimeout(a),a=0)},l.forceUpdate=()=>{a&&(clearTimeout(a),c())},l.hasPendingUpdates=()=>!!a,l}i.d(e,"a",(function(){return n}))},e431:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return g})),i.d(e,"d",(function(){return N})),i.d(e,"e",(function(){return m})),i.d(e,"f",(function(){return c})),i.d(e,"g",(function(){return M})),i.d(e,"h",(function(){return S})),i.d(e,"i",(function(){return k})),i.d(e,"j",(function(){return l})),i.d(e,"k",(function(){return o})),i.d(e,"l",(function(){return w})),i.d(e,"m",(function(){return v})),i.d(e,"n",(function(){return W})),i.d(e,"o",(function(){return $})),i.d(e,"p",(function(){return s})),i.d(e,"q",(function(){return A})),i.d(e,"r",(function(){return x})),i.d(e,"s",(function(){return j})),i.d(e,"t",(function(){return O})),i.d(e,"u",(function(){return P})),i.d(e,"v",(function(){return U})),i.d(e,"w",(function(){return a})),i.d(e,"x",(function(){return C})),i.d(e,"y",(function(){return K})),i.d(e,"z",(function(){return q})),i.d(e,"A",(function(){return Y})),i.d(e,"B",(function(){return J})),i.d(e,"C",(function(){return F})),i.d(e,"D",(function(){return G}));var n=i("0b2d"),r=i("4212");function s(t){const e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t}function c(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function l(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function u(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function h(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function f(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function b(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function m(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function g(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function v(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}function w(t,e){const i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r}function O(t){const e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function j(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function _(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function x(t,e){const i=e[0],n=e[1],r=e[2];let s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function S(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function M(t,e,i){const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],c=i[2];return t[0]=r*c-s*a,t[1]=s*o-n*c,t[2]=n*a-r*o,t}function k(t,e,i,n){const r=e[0],s=e[1],o=e[2];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=o+n*(i[2]-o),t}function I(t,e,i,n,r,s){const o=s*s,a=o*(2*s-3)+1,c=o*(s-2)+s,l=o*(s-1),u=o*(3-2*s);return t[0]=e[0]*a+i[0]*c+n[0]*l+r[0]*u,t[1]=e[1]*a+i[1]*c+n[1]*l+r[1]*u,t[2]=e[2]*a+i[2]*c+n[2]*l+r[2]*u,t}function T(t,e,i,n,r,s){const o=1-s,a=o*o,c=s*s,l=a*o,u=3*s*a,h=3*c*o,d=c*s;return t[0]=e[0]*l+i[0]*u+n[0]*h+r[0]*d,t[1]=e[1]*l+i[1]*u+n[1]*h+r[1]*d,t[2]=e[2]*l+i[2]*u+n[2]*h+r[2]*d,t}function E(t,e){e=e||1;const i=2*Object(r["b"])()*Math.PI,n=2*Object(r["b"])()-1,s=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t[2]=n*e,t}function A(t,e,i){const n=e[0],r=e[1],s=e[2];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12],t[1]=i[1]*n+i[5]*r+i[9]*s+i[13],t[2]=i[2]*n+i[6]*r+i[10]*s+i[14],t}function C(t,e,i){const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0]+r*i[3]+s*i[6],t[1]=n*i[1]+r*i[4]+s*i[7],t[2]=n*i[2]+r*i[5]+s*i[8],t}function P(t,e,i){const n=i[0],r=i[1],s=i[2],o=i[3],a=e[0],c=e[1],l=e[2];let u=r*l-s*c,h=s*a-n*l,d=n*c-r*a,p=r*d-s*h,f=s*u-n*d,b=n*h-r*u;const y=2*o;return u*=y,h*=y,d*=y,p*=2,f*=2,b*=2,t[0]=a+u+p,t[1]=c+h+f,t[2]=l+d+b,t}function R(t,e,i,n){const r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[0],s[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),s[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function L(t,e,i,n){const r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),s[1]=r[1],s[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function N(t,e,i,n){const r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),s[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),s[2]=r[2],t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function F(t,e){o(D,t),o(z,e),x(D,D),x(z,z);const i=S(D,z);return i>1?0:i<-1?Math.PI:Math.acos(i)}const D=Object(n["f"])(),z=Object(n["f"])();function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function $(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function G(t,e){if(t===e)return!0;const i=t[0],n=t[1],s=t[2],o=e[0],a=e[1],c=e[2];return Math.abs(i-o)<=r["a"]*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=r["a"]*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-c)<=r["a"]*Math.max(1,Math.abs(s),Math.abs(c))}function U(t,e,i){const n=i[0]-e[0],r=i[1]-e[1],s=i[2]-e[2];let o=n*n+r*r+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const q=l,B=u,H=h,W=v,J=w,K=s,Y=O;Object.freeze({__proto__:null,length:s,copy:o,set:a,add:c,subtract:l,multiply:u,divide:h,ceil:d,floor:p,min:f,max:b,round:y,scale:m,scaleAndAdd:g,distance:v,squaredDistance:w,squaredLength:O,negate:j,inverse:_,normalize:x,dot:S,cross:M,lerp:k,hermite:I,bezier:T,random:E,transformMat4:A,transformMat3:C,transformQuat:P,rotateX:R,rotateY:L,rotateZ:N,angle:F,str:V,exactEquals:$,equals:G,direction:U,sub:q,mul:B,div:H,dist:W,sqrDist:J,len:K,sqrLen:Y})},e538:function(t,e,i){var n=i("b622");e.f=n},e64d:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n,r=i("a4ee"),s=i("b50f"),o=i("fa8a"),a=i("6a0e"),c=i("8048"),l=i("0028"),u=i("59b2"),h=(i("c120"),i("cea0"),i("afcf")),d=i("d386"),p=i("09db");const f=Object(o["b"])()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),b=f.jsonValues.slice();Object(s["i"])(b,"orthometric");const y=Object(o["b"])()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let m=n=class extends a["a"]{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return f.write(t,e,i)}readHeightModel(t,e,i){const n=f.read(t);return n||(i&&i.messages&&i.messages.push(v(t,{context:i})),null)}readHeightUnit(t,e,i){const n=y.read(t);return n||(i&&i.messages&&i.messages.push(g(t,{context:i})),null)}readHeightUnitService(t,e,i){const n=Object(c["q"])(t)||y.read(t);return n||(i&&i.messages&&i.messages.push(g(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=Object(c["g"])(e);return new n({heightModel:t.heightModel,heightUnit:i,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new n;return e.read(t,{origin:"web-scene"}),e}};function g(t,e){return new l["a"]("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function v(t,e){return new l["a"]("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}Object(r["a"])([Object(u["b"])({type:f.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b,default:"ellipsoidal"}}}})],m.prototype,"heightModel",void 0),Object(r["a"])([Object(p["a"])("web-scene","heightModel")],m.prototype,"writeHeightModel",null),Object(r["a"])([Object(h["a"])(["web-scene","service"],"heightModel")],m.prototype,"readHeightModel",null),Object(r["a"])([Object(u["b"])({type:y.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y.jsonValues,write:y.write}}}})],m.prototype,"heightUnit",void 0),Object(r["a"])([Object(h["a"])("web-scene","heightUnit")],m.prototype,"readHeightUnit",null),Object(r["a"])([Object(h["a"])("service","heightUnit")],m.prototype,"readHeightUnitService",null),Object(r["a"])([Object(u["b"])({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],m.prototype,"vertCRS",void 0),Object(r["a"])([Object(h["a"])("service","vertCRS",["vertCRS","ellipsoid","geoid"])],m.prototype,"readVertCRS",null),m=n=Object(r["a"])([Object(d["a"])("esri.geometry.HeightModelInfo")],m);const w=m},e657:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n=i("a4ee"),r=i("4adc"),s=(i("b50f"),i("c120"),i("1a3e")),o=i("59b2"),a=i("d386"),c=i("121a"),l=i("6c97"),u=i("ce6d"),h=i("3795"),d=i("c047"),p=i("51d7");let f=class extends u["a"].EventedAccessor{constructor(t){super(t),this._basemapCache={},this.nextBasemap=Object(p["c"])("hybrid",this._basemapCache),this.view=null,this.toggle=this.toggle.bind(this)}initialize(){Object(h["a"])(this,"nextBasemap",t=>{t&&!t.loaded&&t.load().catch(()=>{})})}destroy(){this.view=null,Object(p["b"])(this._basemapCache),this._basemapCache=null}get activeBasemap(){return Object(p["c"])(this.get("view.map.basemap")||"topo",this._basemapCache)}castNextBasemap(t){return Object(p["c"])(t,this._basemapCache)}get state(){return this.get("view.ready")?"ready":"disabled"}toggle(){if("disabled"===this.state)return;const t=this.activeBasemap,e=this.nextBasemap;this.view.map.basemap=e,this.nextBasemap=t,this.emit("toggle",{previous:t,current:e})}static getThumbnailUrl(t){if(!t)return null;const{thumbnailUrl:e}=t;if(e)return e;const i=Object(p["d"])(t);if(i)return d["a"][i].thumbnailUrl;const n=t.baseLayers.find(t=>!!Object(l["b"])(t)().get("portalItem.thumbnailUrl"));return n?Object(l["b"])(n)().get("portalItem.thumbnailUrl"):null}};Object(n["a"])([Object(o["b"])({readOnly:!0})],f.prototype,"activeBasemap",null),Object(n["a"])([Object(o["b"])()],f.prototype,"nextBasemap",void 0),Object(n["a"])([Object(s["a"])("nextBasemap")],f.prototype,"castNextBasemap",null),Object(n["a"])([Object(o["b"])({readOnly:!0})],f.prototype,"state",null),Object(n["a"])([Object(o["b"])()],f.prototype,"view",void 0),Object(n["a"])([Object(o["b"])()],f.prototype,"toggle",null),f=Object(n["a"])([Object(a["a"])("esri.widgets.BasemapToggle.BasemapToggleViewModel")],f);const b=f;var y=i("8750"),m=i("755e"),g=(i("e92d"),i("feab")),v=i("d822");i("702a");const w={base:"esri-basemap-toggle esri-widget",secondaryBasemapImage:"esri-basemap-toggle__image--secondary",container:"esri-basemap-thumbnail esri-basemap-toggle__container",image:"esri-basemap-thumbnail__image esri-basemap-toggle__image",imageLoading:"esri-basemap-toggle__image--loading",overlay:"esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",title:"esri-basemap-thumbnail__title esri-basemap-toggle__title",disabled:"esri-disabled",loaderAnimation:"esri-widget__loader-animation"};function O(t){const e=b.getThumbnailUrl(t);return e?{backgroundImage:"url("+e+")"}:{backgroundImage:""}}const j={title:!1};let _=class extends c["a"]{constructor(t,e){super(t,e),this.activeBasemap=null,this.label=void 0,this.messages=null,this.nextBasemap=null,this.view=null,this.viewModel=new b,this.visibleElements={...j}}castVisibleElements(t){return{...j,...t}}toggle(){}render(){const t=this.viewModel,e="disabled"===t.state?null:t.activeBasemap,i="disabled"===t.state?null:t.nextBasemap,n=i?i.title:"",r=i&&"loaded"!==i.loadStatus;let s;return this.visibleElements.title&&n&&(s=Object(v["a"])("div",{class:w.overlay,key:"esri-basemap-toggle__overlay"},Object(v["a"])("span",{class:w.title,title:n},n))),Object(v["a"])("div",{class:w.base,role:"button","data-basemap-id":i?i.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:0,title:this.label},Object(v["a"])("div",{class:this.classes(w.container,w.secondaryBasemapImage)},Object(v["a"])("div",{class:w.image,styles:O(e)})),Object(v["a"])("div",{class:w.container},Object(v["a"])("div",{class:this.classes(w.image,r?w.imageLoading:null),styles:O(i)},r?Object(v["a"])("span",{"aria-hidden":"true",role:"presentation",class:w.loaderAnimation}):null),s))}_toggle(){this.toggle()}};Object(n["a"])([Object(r["a"])("viewModel.activeBasemap")],_.prototype,"activeBasemap",void 0),Object(n["a"])([Object(o["b"])({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],_.prototype,"label",void 0),Object(n["a"])([Object(o["b"])(),Object(m["a"])("esri/widgets/BasemapToggle/t9n/BasemapToggle")],_.prototype,"messages",void 0),Object(n["a"])([Object(r["a"])("viewModel.nextBasemap")],_.prototype,"nextBasemap",void 0),Object(n["a"])([Object(r["a"])("viewModel.view")],_.prototype,"view",void 0),Object(n["a"])([Object(g["a"])("toggle"),Object(o["b"])({type:b})],_.prototype,"viewModel",void 0),Object(n["a"])([Object(o["b"])()],_.prototype,"visibleElements",void 0),Object(n["a"])([Object(s["a"])("visibleElements")],_.prototype,"castVisibleElements",null),Object(n["a"])([Object(r["a"])("viewModel.toggle")],_.prototype,"toggle",null),Object(n["a"])([Object(y["a"])()],_.prototype,"_toggle",null),_=Object(n["a"])([Object(a["a"])("esri.widgets.BasemapToggle")],_);const x=_},e658:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("a4ee"),r=i("2c4f"),s=i("7d7d"),o=i("e92d"),a=i("59b2"),c=(i("b50f"),i("c120"),i("cea0"),i("d386"));const l="esri.support.TablesMixin",u=o["a"].getLogger(l);function h(t){return t&&"group"===t.type}function d(t,e,i){if(t)for(let n=0,r=t.length;n<r;n++){const r=t.getItemAt(n);if(r[e]===i)return r;if(h(r)){const t=d(r.tables,e,i);if(t)return t}}}const p=t=>{let e=class extends t{constructor(...t){super(...t),this.tables=new r["a"],this.tables.on("after-add",t=>{const e=t.item;e.parent&&e.parent!==this&&"tables"in e.parent&&e.parent.tables.remove(e),e.parent=this,"feature"!==e.type&&u.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",t=>{t.item.parent=null})}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set("tables",Object(s["b"])(t,this._get("tables")))}findTableById(t){return d(this.tables,"id",t)}findTableByUid(t){return d(this.tables,"uid",t)}};return Object(n["a"])([Object(a["b"])()],e.prototype,"tables",null),e=Object(n["a"])([Object(c["a"])(l)],e),e}},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e694:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return v}));var n=i("a4ee"),r=i("fc29"),s=i("b2b2"),o=i("7ffa"),a=i("92ef");class c{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a["a"]),this._values=new Map}clone(t){const e=new c,i=this._originStores[0];i&&i.forEach((t,i)=>{e.set(i,Object(o["a"])(t),0)});for(let n=2;n<a["a"];n++){const i=this._originStores[n];i&&i.forEach((i,r)=>{t&&t.has(r)||e.set(r,Object(o["a"])(i),n)})}return e}get(t,e){const i=void 0===e?this._values:this._originStores[e];return i?i.get(t):void 0}keys(t){const e=null==t?this._values:this._originStores[t];return e?[...e.keys()]:[]}set(t,e,i=6){let n=this._originStores[i];if(n||(n=new Map,this._originStores[i]=n),n.set(t,e),!this._values.has(t)||Object(s["d"])(this._propertyOriginMap.get(t))<=i){const n=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,i),n!==e}return!1}delete(t,e=6){const i=this._originStores[e];if(!i)return;const n=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(let i=e-1;i>=0;i--){const e=this._originStores[i];if(e&&e.has(t)){this._values.set(t,e.get(t)),this._propertyOriginMap.set(t,i);break}}}return n}has(t,e){const i=void 0===e?this._values:this._originStores[e];return!!i&&i.has(t)}revert(t,e){for(;e>0&&!this.has(t,e);)--e;const i=this._originStores[e],n=i&&i.get(t),r=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,e),r!==n}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}var l=i("0964"),u=i("4c37"),h=i("d386");const d=t=>{let e=class extends t{constructor(...t){super(...t);const e=Object(s["d"])(Object(u["a"])(this)),i=e.metadatas,n=e.store,r=new c;e.store=r,n.keys().forEach(t=>{r.set(t,n.get(t),0)}),Object.keys(i).forEach(t=>{e.internalGet(t)&&r.set(t,e.internalGet(t),0)})}read(t,e){Object(l["a"])(this,t,e)}getAtOrigin(t,e){const i=p(this),n=Object(a["d"])(e);if("string"==typeof t)return i.get(t,n);const r={};return t.forEach(t=>{r[t]=i.get(t,n)}),r}originOf(t){return Object(a["b"])(this.originIdOf(t))}originIdOf(t){return p(this).originOf(t)}revert(t,e){const i=p(this),n=Object(a["d"])(e),r=Object(u["a"])(this);let s;s="string"==typeof t?"*"===t?i.keys(n):[t]:t,s.forEach(t=>{r.invalidate(t),i.revert(t,n),r.commit(t)})}};return e=Object(n["a"])([Object(h["a"])("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function p(t){return Object(u["a"])(t).store}let f=class extends(d(r["a"])){};f=Object(n["a"])([Object(h["a"])("esri.core.ReadOnlyMultiOriginJSONSupport")],f);var b=i("c478");const y=t=>{let e=class extends t{constructor(...t){super(...t)}clear(t,e="user"){return m(this).delete(t,Object(a["d"])(e))}write(t={},e){return Object(b["b"])(this,t=t||{},e),t}setAtOrigin(t,e,i){Object(u["a"])(this).setAtOrigin(t,e,Object(a["d"])(i))}removeOrigin(t){const e=m(this),i=Object(a["d"])(t),n=e.keys(i);for(const r of n)e.originOf(r)===i&&e.set(r,e.get(r,i),6)}updateOrigin(t,e){const i=m(this),n=Object(a["d"])(e),r=this.get(t);for(let s=n+1;s<a["a"];++s)i.delete(t,s);i.set(t,r,n)}toJSON(t){return this.write({},t)}};return e=Object(n["a"])([Object(h["a"])("esri.core.WriteableMultiOriginJSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function m(t){return Object(u["a"])(t).store}const g=t=>{let e=class extends(y(d(t))){constructor(...t){super(...t)}};return e=Object(n["a"])([Object(h["a"])("esri.core.MultiOriginJSONSupport")],e),e};let v=class extends(g(r["a"])){};v=Object(n["a"])([Object(h["a"])("esri.core.MultiOriginJSONSupport")],v)},e6b5:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i("c120");var n=i("e92d"),r=i("6706"),s=i("7dcb");n["a"].getLogger("esri.views.interactive.snapping.hints.LineSnappingHint");class o extends s["a"]{constructor(t,e,i,n=!0,r=!0){super(),this.type=t,this.lineStart=e,this.lineEnd=i,this.fadeLeft=n,this.fadeRight=r}equals(t){return t instanceof o&&this.type===t.type&&Object(r["d"])(this.lineStart,t.lineStart)&&Object(r["d"])(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}}},e6c2:function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"b",(function(){return I})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return _}));var n=i("702a");const r="http://www.w3.org/",s=r+"2000/svg",o=r+"1999/xlink";let a,c=[],l=(t,e)=>{let i={};return Object.keys(t).forEach(e=>{i[e]=t[e]}),e&&Object.keys(e).forEach(t=>{i[t]=e[t]}),i},u=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),h=t=>{if("string"!=typeof t)throw new Error("Style values must be strings")},d=(t,e,i)=>{if(""!==e.vnodeSelector)for(let n=i;n<t.length;n++)if(u(t[n],e))return n;return-1},p=(t,e,i,n)=>{let r=t[e];if(""===r.vnodeSelector)return;let s=r.properties;if(!(s?void 0===s.key?s.bind:s.key:void 0))for(let o=0;o<t.length;o++)if(o!==e){let e=t[o];if(u(e,r))throw new Error(`${i.vnodeSelector} had a ${r.vnodeSelector} child ${"added"===n?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},f=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},b=[],y=!1,m=t=>{(t.children||[]).forEach(m),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},g=()=>{y=!1,b.forEach(m),b.length=0},v=t=>{b.push(t),y||(y=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},w=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i){e.style.pointerEvents="none";let n=()=>{e.parentNode&&(e.parentNode.removeChild(e),v(t))};return void i(e,n,t.properties)}}e.parentNode&&(e.parentNode.removeChild(e),v(t))},O=(t,e,i)=>{if(!e)return;let r=i.eventHandlerInterceptor,a=Object.keys(e),c=a.length;for(let l=0;l<c;l++){let c=a[l],u=e[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)S(t,u,!0);else if("classes"===c){let e=Object.keys(u),i=e.length;for(let n=0;n<i;n++){let i=e[n];u[i]&&t.classList.add(i)}}else if("styles"===c){let e=Object.keys(u),n=e.length;for(let r=0;r<n;r++){let n=e[r],s=u[n];s&&(h(s),i.styleApplyer(t,n,s))}}else if("key"!==c&&null!=u){let a=typeof u;"function"===a?(0===c.lastIndexOf("on",0)&&(r&&(u=r(c,u,t,e)),"oninput"===c&&function(){let t=u;u=function(e){t.apply(this,[e]),e.target["oninput-value"]=e.target.value}}()),t[c]=u):i.namespace===s?"href"===c?t.setAttributeNS(o,c,u):t.setAttribute(c,u):"string"===a&&"value"!==c?"innerHTML"===c?t[c]=n["j"].sanitize(u):t.setAttribute(c,u):t[c]=u}}},j=(t,e,i)=>{if(e)for(let n of e)x(n,t,void 0,i)},_=(t,e,i)=>{j(t,e.children,i),e.text&&(t.textContent=e.text),O(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},x=(t,e,i,n)=>{let r,o=0,a=t.vnodeSelector,c=e.ownerDocument;if(""===a)r=t.domNode=c.createTextNode(t.text),void 0!==i?e.insertBefore(r,i):e.appendChild(r);else{for(let u=0;u<=a.length;++u){let h=a.charAt(u);if(u===a.length||"."===h||"#"===h){let h=a.charAt(o-1),d=a.slice(o,u);"."===h?r.classList.add(d):"#"===h?r.id=d:("svg"===d&&(n=l(n,{namespace:s})),void 0!==n.namespace?r=t.domNode=c.createElementNS(n.namespace,d):(r=t.domNode=t.domNode||c.createElement(d),"input"===d&&t.properties&&void 0!==t.properties.type&&r.setAttribute("type",t.properties.type)),void 0!==i?e.insertBefore(r,i):r.parentNode!==e&&e.appendChild(r)),o=u+1}}_(r,t,n)}},S=(t,e,i)=>{e&&e.split(" ").forEach(e=>{e&&t.classList.toggle(e,i)})},M=(t,e,i,r)=>{if(!i)return;let a=!1,c=Object.keys(i),l=c.length;for(let u=0;u<l;u++){let l=c[u],d=i[l],p=e[l];if("class"===l)p!==d&&(S(t,p,!1),S(t,d,!0));else if("classes"===l){let e=t.classList,i=Object.keys(d),n=i.length;for(let t=0;t<n;t++){let n=i[t],r=!!d[n];r!==!!p[n]&&(a=!0,r?e.add(n):e.remove(n))}}else if("styles"===l){let e=Object.keys(d),i=e.length;for(let n=0;n<i;n++){let i=e[n],s=d[i];s!==p[i]&&(a=!0,s?(h(s),r.styleApplyer(t,i,s)):r.styleApplyer(t,i,""))}}else if(d||"string"!=typeof p||(d=""),"value"===l){let e=t[l];e!==d&&(t["oninput-value"]?e===t["oninput-value"]:d!==p)&&(t[l]=d,t["oninput-value"]=void 0),d!==p&&(a=!0)}else if(d!==p){let e=typeof d;"function"===e&&r.eventHandlerInterceptor||(r.namespace===s?"href"===l?t.setAttributeNS(o,l,d):t.setAttribute(l,d):"string"===e?"innerHTML"===l?t[l]=n["j"].sanitize(d):"role"===l&&""===d?t.removeAttribute(l):t.setAttribute(l,d):t[l]!==d&&(t[l]=d),a=!0)}}return a},k=(t,e,i,n,r)=>{if(i===n)return!1;n=n||c;let s,o=(i=i||c).length,l=n.length,h=0,b=0,y=!1;for(;b<l;){let c=h<o?i[h]:void 0,l=n[b];if(void 0!==c&&u(c,l))y=a(c,l,r)||y,h++;else{let c=d(i,l,h+1);if(c>=0){for(s=h;s<c;s++)w(i[s]),p(i,s,t,"removed");y=a(i[c],l,r)||y,h=c+1}else x(l,e,h<o?i[h].domNode:void 0,r),f(l),p(n,b,t,"added")}b++}if(o>h)for(s=h;s<o;s++)w(i[s]),p(i,s,t,"removed");return y};a=(t,e,i)=>{let n=t.domNode,r=!1;if(t===e)return!1;let o=!1;if(""===e.vnodeSelector){if(e.text!==t.text){let t=n.ownerDocument.createTextNode(e.text);return n.parentNode.replaceChild(t,n),e.domNode=t,r=!0,r}e.domNode=n}else 0===e.vnodeSelector.lastIndexOf("svg",0)&&(i=l(i,{namespace:s})),t.text!==e.text&&(o=!0,void 0===e.text?n.removeChild(n.firstChild):n.textContent=e.text),e.domNode=n,o=k(e,n,t.children,e.children,i)||o,o=M(n,t.properties,e.properties,i)||o,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[n,i,e.vnodeSelector,e.properties,e.children]);return o&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(n,e.properties,t.properties),r};let I=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=t;t=i,a(n,i,e)},domNode:t.domNode})},e6cf:function(t,e,i){"use strict";var n,r,s,o,a=i("23e7"),c=i("c430"),l=i("da84"),u=i("d066"),h=i("c65b"),d=i("fea9"),p=i("6eeb"),f=i("e2cc"),b=i("d2bb"),y=i("d44e"),m=i("2626"),g=i("59ed"),v=i("1626"),w=i("861d"),O=i("19aa"),j=i("8925"),_=i("2266"),x=i("1c7e"),S=i("4840"),M=i("2cf4").set,k=i("b575"),I=i("cdf9"),T=i("44de"),E=i("f069"),A=i("e667"),C=i("69f3"),P=i("94ca"),R=i("b622"),L=i("6069"),N=i("605d"),F=i("2d00"),D=R("species"),z="Promise",V=C.getterFor(z),$=C.set,G=C.getterFor(z),U=d&&d.prototype,q=d,B=U,H=l.TypeError,W=l.document,J=l.process,K=E.f,Y=K,Z=!!(W&&W.createEvent&&l.dispatchEvent),X=v(l.PromiseRejectionEvent),Q="unhandledrejection",tt="rejectionhandled",et=0,it=1,nt=2,rt=1,st=2,ot=!1,at=P(z,(function(){var t=j(q),e=t!==String(q);if(!e&&66===F)return!0;if(c&&!B["finally"])return!0;if(F>=51&&/native code/.test(t))return!1;var i=new q((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))},r=i.constructor={};return r[D]=n,ot=i.then((function(){}))instanceof n,!ot||!e&&L&&!X})),ct=at||!x((function(t){q.all(t)["catch"]((function(){}))})),lt=function(t){var e;return!(!w(t)||!v(e=t.then))&&e},ut=function(t,e){if(!t.notified){t.notified=!0;var i=t.reactions;k((function(){var n=t.value,r=t.state==it,s=0;while(i.length>s){var o,a,c,l=i[s++],u=r?l.ok:l.fail,d=l.resolve,p=l.reject,f=l.domain;try{u?(r||(t.rejection===st&&ft(t),t.rejection=rt),!0===u?o=n:(f&&f.enter(),o=u(n),f&&(f.exit(),c=!0)),o===l.promise?p(H("Promise-chain cycle")):(a=lt(o))?h(a,o,d,p):d(o)):p(n)}catch(b){f&&!c&&f.exit(),p(b)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&dt(t)}))}},ht=function(t,e,i){var n,r;Z?(n=W.createEvent("Event"),n.promise=e,n.reason=i,n.initEvent(t,!1,!0),l.dispatchEvent(n)):n={promise:e,reason:i},!X&&(r=l["on"+t])?r(n):t===Q&&T("Unhandled promise rejection",i)},dt=function(t){h(M,l,(function(){var e,i=t.facade,n=t.value,r=pt(t);if(r&&(e=A((function(){N?J.emit("unhandledRejection",n,i):ht(Q,i,n)})),t.rejection=N||pt(t)?st:rt,e.error))throw e.value}))},pt=function(t){return t.rejection!==rt&&!t.parent},ft=function(t){h(M,l,(function(){var e=t.facade;N?J.emit("rejectionHandled",e):ht(tt,e,t.value)}))},bt=function(t,e,i){return function(n){t(e,n,i)}},yt=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=nt,ut(t,!0))},mt=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw H("Promise can't be resolved itself");var n=lt(e);n?k((function(){var i={done:!1};try{h(n,e,bt(mt,i,t),bt(yt,i,t))}catch(r){yt(i,r,t)}})):(t.value=e,t.state=it,ut(t,!1))}catch(r){yt({done:!1},r,t)}}};if(at&&(q=function(t){O(this,B),g(t),h(n,this);var e=V(this);try{t(bt(mt,e),bt(yt,e))}catch(i){yt(e,i)}},B=q.prototype,n=function(t){$(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:et,value:void 0})},n.prototype=f(B,{then:function(t,e){var i=G(this),n=i.reactions,r=K(S(this,q));return r.ok=!v(t)||t,r.fail=v(e)&&e,r.domain=N?J.domain:void 0,i.parent=!0,n[n.length]=r,i.state!=et&&ut(i,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n,e=V(t);this.promise=t,this.resolve=bt(mt,e),this.reject=bt(yt,e)},E.f=K=function(t){return t===q||t===s?new r(t):Y(t)},!c&&v(d)&&U!==Object.prototype)){o=U.then,ot||(p(U,"then",(function(t,e){var i=this;return new q((function(t,e){h(o,i,t,e)})).then(t,e)}),{unsafe:!0}),p(U,"catch",B["catch"],{unsafe:!0}));try{delete U.constructor}catch(gt){}b&&b(U,B)}a({global:!0,wrap:!0,forced:at},{Promise:q}),y(q,z,!1,!0),m(z),s=u(z),a({target:z,stat:!0,forced:at},{reject:function(t){var e=K(this);return h(e.reject,void 0,t),e.promise}}),a({target:z,stat:!0,forced:c||at},{resolve:function(t){return I(c&&this===s?q:this,t)}}),a({target:z,stat:!0,forced:ct},{all:function(t){var e=this,i=K(e),n=i.resolve,r=i.reject,s=A((function(){var i=g(e.resolve),s=[],o=0,a=1;_(t,(function(t){var c=o++,l=!1;a++,h(i,e,t).then((function(t){l||(l=!0,s[c]=t,--a||n(s))}),r)})),--a||n(s)}));return s.error&&r(s.value),i.promise},race:function(t){var e=this,i=K(e),n=i.reject,r=A((function(){var r=g(e.resolve);_(t,(function(t){h(r,e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},e753:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("6706"),r=i("7dcb");class s extends r["a"]{constructor(t){super(),this.intersectionPoint=t}equals(t){return t instanceof s&&Object(n["d"])(this.intersectionPoint,t.intersectionPoint)}}},e87c:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("b2b2"),r=i("b0f5");function s(t,e,i){if(!i||!i.features||!i.hasZ)return;const s=Object(r["a"])(i.geometryType,e,t.outSpatialReference);if(!Object(n["k"])(s))for(const n of i.features)s(n.geometry)}},e893:function(t,e,i){var n=i("1a2d"),r=i("56ef"),s=i("06cf"),o=i("9bf2");t.exports=function(t,e,i){for(var a=r(e),c=o.f,l=s.f,u=0;u<a.length;u++){var h=a[u];n(t,h)||i&&n(i,h)||c(t,h,l(e,h))}}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e92d:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("1325"),r=(i("c120"),i("b2b2")),s=i("b3b6");const o={info:0,warn:1,error:2,none:3};class a{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,a._loggers[this.module]=this;const e=this.module.lastIndexOf(".");-1!==e&&(this._parent=a.getLogger(this.module.slice(0,e)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const e=a._loggers;return a._loggers=t,e},set throttlingDisabled(t){a._throttlingDisabled=t}}}static getLogger(t){let e=a._loggers[t];return e||(e=new a({module:t})),e}_log(t,e,...i){if(this._matchLevel(t)){if("always"!==e&&!a._throttlingDisabled){const n=this._argsToKey(i),r=this._loggedMessages[t].get(n);if("once"===e&&null!=r||"oncePerTick"===e&&r&&r>=a._tickCounter)return;this._loggedMessages[t].set(n,a._tickCounter),a._scheduleTickCounterIncrement()}for(const e of n["a"].log.interceptors)if(e(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,e){let i=this;for(;Object(r["l"])(i);){const e=i[t];if(Object(r["l"])(e))return e;i=i.parent}return e}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,e,...i){console[t](`[${e}]`,...i)}_matchLevel(t){const e=n["a"].log.level?n["a"].log.level:"warn";return o[this._parentWithMember("level",e)]<=o[t]}_argsToKey(...t){const e=(t,e)=>"object"!=typeof e||Array.isArray(e)?e:"[Object]";return Object(s["b"])(JSON.stringify(t,e))}static _scheduleTickCounterIncrement(){a._tickCounterScheduled||(a._tickCounterScheduled=!0,Promise.resolve().then(()=>{a._tickCounter++,a._tickCounterScheduled=!1}))}}a._loggers={},a._tickCounter=0,a._tickCounterScheduled=!1,a._throttlingDisabled=!1},e95a:function(t,e,i){var n=i("b622"),r=i("3f8c"),s=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[s]===t)}},e9a4:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n,r=i("a4ee"),s=i("fc29"),o=i("fa8a"),a=i("7ffa"),c=i("b2b2"),l=i("59b2"),u=(i("cea0"),i("d386")),h=i("3af1"),d=i("5996"),p=i("9786");const f=new o["a"]({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let b=n=class extends s["a"]{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new n({categories:this.categories?Object(a["a"])(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i,n;if(this.categories&&(i=this.categories.map(t=>Array.isArray(t)?JSON.stringify(t):t)),this.extent){const t=Object(p["d"])(this.extent,d["a"].WGS84);Object(c["l"])(t)&&(n=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let r=this.query;!this.disableExtraQuery&&t.extraQuery&&(r="("+r+")"+t.extraQuery);const s={categories:i,bbox:n,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(t=>f.toJSON(t.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};Object(r["a"])([Object(l["b"])()],b.prototype,"categories",void 0),Object(r["a"])([Object(l["b"])()],b.prototype,"disableExtraQuery",void 0),Object(r["a"])([Object(l["b"])({type:h["a"]})],b.prototype,"extent",void 0),Object(r["a"])([Object(l["b"])()],b.prototype,"filter",void 0),Object(r["a"])([Object(l["b"])()],b.prototype,"num",void 0),Object(r["a"])([Object(l["b"])()],b.prototype,"query",void 0),Object(r["a"])([Object(l["b"])()],b.prototype,"sortField",void 0),Object(r["a"])([Object(l["b"])()],b.prototype,"sortOrder",null),Object(r["a"])([Object(l["b"])()],b.prototype,"start",void 0),b=n=Object(r["a"])([Object(u["a"])("esri.portal.PortalQueryParams")],b);const y=b},e9c4:function(t,e,i){var n=i("23e7"),r=i("da84"),s=i("d066"),o=i("2ba4"),a=i("e330"),c=i("d039"),l=r.Array,u=s("JSON","stringify"),h=a(/./.exec),d=a("".charAt),p=a("".charCodeAt),f=a("".replace),b=a(1..toString),y=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,v=function(t,e,i){var n=d(i,e-1),r=d(i,e+1);return h(m,t)&&!h(g,r)||h(g,t)&&!h(m,n)?"\\u"+b(p(t,0),16):t},w=c((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&n({target:"JSON",stat:!0,forced:w},{stringify:function(t,e,i){for(var n=0,r=arguments.length,s=l(r);n<r;n++)s[n]=arguments[n];var a=o(u,null,s);return"string"==typeof a?f(a,y,v):a}})},e9fc:function(t,e,i){"use strict";i.r(e),i.d(e,"executeQuery",(function(){return f})),i.d(e,"executeQueryForCount",(function(){return g})),i.d(e,"executeQueryForExtent",(function(){return v})),i.d(e,"executeQueryForIds",(function(){return m})),i.d(e,"executeQueryPBF",(function(){return b})),i.d(e,"executeQueryPBFBuffer",(function(){return y})),i.d(e,"queryToQueryStringParameters",(function(){return p})),i.d(e,"runQuery",(function(){return w}));var n=i("2eab"),r=i("b2b2"),s=i("e041"),o=i("a9ab"),a=i("a8d5"),c=i("54b4"),l=i("072f"),u=i("e87c"),h=i("bee2");const d="Layer does not support extent calculation.";function p(t,e,i=!1){const n=t.geometry,s=t.toJSON(),a=s,c=t.outSpatialReference;let l,u;if(Object(r["l"])(n)){if(l=n.spatialReference,u=n.spatialReference.wkid||JSON.stringify(n.spatialReference),a.geometryType=Object(o["c"])(n),i&&"extent"===n.type)a.geometry=`${n.xmin},${n.ymin},${n.xmax},${n.ymax}`;else if(i&&"point"===n.type)a.geometry=`${n.x},${n.y}`;else{const t=n.toJSON();delete t.spatialReference,a.geometry=JSON.stringify(t)}a.inSR=u}if(l||(l=c),s.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=s.groupByFieldsForStatistics.join(",")),s.objectIds&&(a.objectIds=s.objectIds.join(",")),s.orderByFields&&(a.orderByFields=s.orderByFields.join(",")),!s.outFields||!s.returnDistinctValues&&(null!=e&&e.returnCountOnly||null!=e&&e.returnExtentOnly||null!=e&&e.returnIdsOnly)?delete a.outFields:-1!==s.outFields.indexOf("*")?a.outFields="*":a.outFields=s.outFields.join(","),s.outSR?a.outSR=s.outSR.wkid||JSON.stringify(s.outSR):n&&(s.returnGeometry||s.returnCentroid)&&(a.outSR=a.inSR),s.returnGeometry&&delete s.returnGeometry,s.outStatistics&&(a.outStatistics=JSON.stringify(s.outStatistics)),s.pixelSize&&(a.pixelSize=JSON.stringify(s.pixelSize)),s.quantizationParameters&&(i&&Object(r["l"])(l)&&Object(r["l"])(t.quantizationParameters)&&Object(r["l"])(t.quantizationParameters.extent)&&l.equals(t.quantizationParameters.extent.spatialReference)&&delete s.quantizationParameters.extent.spatialReference,a.quantizationParameters=JSON.stringify(s.quantizationParameters)),s.parameterValues&&(a.parameterValues=JSON.stringify(s.parameterValues)),s.rangeValues&&(a.rangeValues=JSON.stringify(s.rangeValues)),s.dynamicDataSource&&(a.layer=JSON.stringify({source:s.dynamicDataSource}),delete s.dynamicDataSource),s.timeExtent){const t=s.timeExtent,{start:e,end:i}=t;null==e&&null==i||(a.time=e===i?e:`${null==e?"null":e},${null==i?"null":i}`),delete s.timeExtent}return a}async function f(t,e,i,n){const s=Object(r["l"])(e.timeExtent)&&e.timeExtent.isEmpty?{data:{features:[]}}:await w(t,e,"json",n);return Object(u["a"])(e,i,s.data),s}async function b(t,e,i,n){if(Object(r["l"])(e.timeExtent)&&e.timeExtent.isEmpty)return Promise.resolve({data:i.createFeatureResult()});const s=await y(t,e,n),o=s;return o.data=Object(l["a"])(s.data,i),o}function y(t,e,i){return w(t,e,"pbf",i)}function m(t,e,i){return Object(r["l"])(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):w(t,e,"json",i,{returnIdsOnly:!0})}function g(t,e,i){return Object(r["l"])(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):w(t,e,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function v(t,e,i){return Object(r["l"])(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):w(t,e,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(t=>{const e=t.data;if(e.hasOwnProperty("extent"))return t;if(e.features)throw new Error(d);if(e.hasOwnProperty("count"))throw new Error(d);return t})}function w(t,e,i,o={},l={}){const u="string"==typeof t?Object(s["K"])(t):t,d=e.geometry?[e.geometry]:[];return o.responseType="pbf"===i?"array-buffer":"json",Object(a["a"])(d,null,o).then(t=>{const a=t&&t[0];Object(r["l"])(a)&&((e=e.clone()).geometry=a);const d=Object(c["c"])(u.path),f=Object(h["a"])({...u.query,f:i,...l,...p(e,l,d)});return Object(n["default"])(Object(s["z"])(u.path,"query"),{...o,query:{...f,...o.query}})})}},ea51:function(t,e,i){"use strict";i.r(e),i.d(e,"buffer",(function(){return k})),i.d(e,"clip",(function(){return a})),i.d(e,"contains",(function(){return l})),i.d(e,"convexHull",(function(){return O})),i.d(e,"crosses",(function(){return u})),i.d(e,"cut",(function(){return c})),i.d(e,"densify",(function(){return F})),i.d(e,"difference",(function(){return j})),i.d(e,"disjoint",(function(){return y})),i.d(e,"distance",(function(){return h})),i.d(e,"equals",(function(){return d})),i.d(e,"extendedSpatialReferenceInfo",(function(){return o})),i.d(e,"flipHorizontal",(function(){return R})),i.d(e,"flipVertical",(function(){return L})),i.d(e,"generalize",(function(){return N})),i.d(e,"geodesicArea",(function(){return $})),i.d(e,"geodesicBuffer",(function(){return I})),i.d(e,"geodesicDensify",(function(){return D})),i.d(e,"geodesicLength",(function(){return G})),i.d(e,"intersect",(function(){return x})),i.d(e,"intersects",(function(){return p})),i.d(e,"isSimple",(function(){return v})),i.d(e,"nearestCoordinate",(function(){return T})),i.d(e,"nearestVertex",(function(){return E})),i.d(e,"nearestVertices",(function(){return A})),i.d(e,"offset",(function(){return M})),i.d(e,"overlaps",(function(){return m})),i.d(e,"planarArea",(function(){return z})),i.d(e,"planarLength",(function(){return V})),i.d(e,"relate",(function(){return g})),i.d(e,"rotate",(function(){return P})),i.d(e,"simplify",(function(){return w})),i.d(e,"symmetricDifference",(function(){return _})),i.d(e,"touches",(function(){return f})),i.d(e,"union",(function(){return S})),i.d(e,"within",(function(){return b}));var n=i("f606"),r=i("7590");function s(t){return Array.isArray(t)?t[0].spatialReference:t&&t.spatialReference}function o(t){return n["G"].extendedSpatialReferenceInfo(t)}function a(t,e){return n["G"].clip(r["hydratedAdapter"],s(t),t,e)}function c(t,e){return n["G"].cut(r["hydratedAdapter"],s(t),t,e)}function l(t,e){return n["G"].contains(r["hydratedAdapter"],s(t),t,e)}function u(t,e){return n["G"].crosses(r["hydratedAdapter"],s(t),t,e)}function h(t,e,i){return n["G"].distance(r["hydratedAdapter"],s(t),t,e,i)}function d(t,e){return n["G"].equals(r["hydratedAdapter"],s(t),t,e)}function p(t,e){return n["G"].intersects(r["hydratedAdapter"],s(t),t,e)}function f(t,e){return n["G"].touches(r["hydratedAdapter"],s(t),t,e)}function b(t,e){return n["G"].within(r["hydratedAdapter"],s(t),t,e)}function y(t,e){return n["G"].disjoint(r["hydratedAdapter"],s(t),t,e)}function m(t,e){return n["G"].overlaps(r["hydratedAdapter"],s(t),t,e)}function g(t,e,i){return n["G"].relate(r["hydratedAdapter"],s(t),t,e,i)}function v(t){return n["G"].isSimple(r["hydratedAdapter"],s(t),t)}function w(t){return n["G"].simplify(r["hydratedAdapter"],s(t),t)}function O(t,e=!1){return n["G"].convexHull(r["hydratedAdapter"],s(t),t,e)}function j(t,e){return n["G"].difference(r["hydratedAdapter"],s(t),t,e)}function _(t,e){return n["G"].symmetricDifference(r["hydratedAdapter"],s(t),t,e)}function x(t,e){return n["G"].intersect(r["hydratedAdapter"],s(t),t,e)}function S(t,e=null){return n["G"].union(r["hydratedAdapter"],s(t),t,e)}function M(t,e,i,o,a,c){return n["G"].offset(r["hydratedAdapter"],s(t),t,e,i,o,a,c)}function k(t,e,i,o=!1){return n["G"].buffer(r["hydratedAdapter"],s(t),t,e,i,o)}function I(t,e,i,o,a,c){return n["G"].geodesicBuffer(r["hydratedAdapter"],s(t),t,e,i,o,a,c)}function T(t,e,i=!0){return n["G"].nearestCoordinate(r["hydratedAdapter"],s(t),t,e,i)}function E(t,e){return n["G"].nearestVertex(r["hydratedAdapter"],s(t),t,e)}function A(t,e,i,o){return n["G"].nearestVertices(r["hydratedAdapter"],s(t),t,e,i,o)}function C(t){return"xmin"in t?"center"in t?t.center:null:"x"in t?t:"extent"in t?t.extent.center:null}function P(t,e,i){var r;if(null==t)throw new Error("Illegal Argument Exception");const s=t.spatialReference;if(null==(i=null!=(r=i)?r:C(t)))throw new Error("Illegal Argument Exception");const o=t.constructor.fromJSON(n["G"].rotate(t,e,i));return o.spatialReference=s,o}function R(t,e){var i;if(null==t)throw new Error("Illegal Argument Exception");const r=t.spatialReference;if(null==(e=null!=(i=e)?i:C(t)))throw new Error("Illegal Argument Exception");const s=t.constructor.fromJSON(n["G"].flipHorizontal(t,e));return s.spatialReference=r,s}function L(t,e){var i;if(null==t)throw new Error("Illegal Argument Exception");const r=t.spatialReference;if(null==(e=null!=(i=e)?i:C(t)))throw new Error("Illegal Argument Exception");const s=t.constructor.fromJSON(n["G"].flipVertical(t,e));return s.spatialReference=r,s}function N(t,e,i,o){return n["G"].generalize(r["hydratedAdapter"],s(t),t,e,i,o)}function F(t,e,i){return n["G"].densify(r["hydratedAdapter"],s(t),t,e,i)}function D(t,e,i,o=0){return n["G"].geodesicDensify(r["hydratedAdapter"],s(t),t,e,i,o)}function z(t,e){return n["G"].planarArea(r["hydratedAdapter"],s(t),t,e)}function V(t,e){return n["G"].planarLength(r["hydratedAdapter"],s(t),t,e)}function $(t,e,i){return n["G"].geodesicArea(r["hydratedAdapter"],s(t),t,e,i)}function G(t,e,i){return n["G"].geodesicLength(r["hydratedAdapter"],s(t),t,e,i)}},ea98:function(t,e,i){"use strict";var n=i("23e7"),r=i("e330"),s=i("1d80"),o=i("5926"),a=i("577e"),c=i("d039"),l=r("".charAt),u=c((function(){return"\ud842"!=="𠮷".at(-2)}));n({target:"String",proto:!0,forced:u},{at:function(t){var e=a(s(this)),i=e.length,n=o(t),r=n>=0?n:i+n;return r<0||r>=i?void 0:l(e,r)}})},eb37:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return r}));const n={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function r(t){return n[t]||n[t.toLowerCase()]}function s(t){var e;return null!=(e=n[t])?e:n[t.toLowerCase()]}function o(t){return[...s(t)]}function a(t,e,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?t+(e-t)*n:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function c(t,e,i,n=1){const r=(t%360+360)%360/360,s=i<=.5?i*(e+1):i+e-i*e,o=2*i-s;return[Math.round(255*a(o,s,r+1/3)),Math.round(255*a(o,s,r)),Math.round(255*a(o,s,r-1/3)),n]}function l(t){const e=t.length>5,i=e?8:4,n=(1<<i)-1,r=e?1:17,s=e?9===t.length:5===t.length;let o=Number("0x"+t.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let c;return s&&(c=o&n,o>>=i,a[3]=r*c/255),c=o&n,o>>=i,a[2]=r*c,c=o&n,o>>=i,a[1]=r*c,c=o&n,o>>=i,a[0]=r*c,a}},ebb2:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n,r=i("a4ee"),s=i("6a0e"),o=i("7ffa"),a=i("59b2"),c=i("cea0"),l=i("d386"),u=i("09db");let h=n=class extends s["a"]{constructor(t){super(t),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10}clone(){return new n(Object(o["a"])({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};Object(r["a"])([Object(a["b"])({type:[String],json:{write:!0}})],h.prototype,"attachmentTypes",void 0),Object(r["a"])([Object(a["b"])({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],h.prototype,"attachmentsWhere",void 0),Object(r["a"])([Object(a["b"])({type:[String],json:{write:!0}})],h.prototype,"keywords",void 0),Object(r["a"])([Object(a["b"])({type:[Number],json:{write:!0}})],h.prototype,"globalIds",void 0),Object(r["a"])([Object(a["b"])({json:{write:!0}})],h.prototype,"name",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{read:{source:"resultRecordCount"}}})],h.prototype,"num",void 0),Object(r["a"])([Object(a["b"])({type:[Number],json:{write:!0}})],h.prototype,"objectIds",void 0),Object(r["a"])([Object(a["b"])({type:Boolean,json:{default:!1,write:!0}})],h.prototype,"returnMetadata",void 0),Object(r["a"])([Object(a["b"])({type:[Number],json:{write:!0}})],h.prototype,"size",void 0),Object(r["a"])([Object(a["b"])({type:Number,json:{read:{source:"resultOffset"}}})],h.prototype,"start",void 0),Object(r["a"])([Object(u["a"])("start"),Object(u["a"])("num")],h.prototype,"writeStart",null),Object(r["a"])([Object(a["b"])({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],h.prototype,"where",void 0),h=n=Object(r["a"])([Object(l["a"])("esri.rest.support.AttachmentQuery")],h),h.from=Object(c["m"])(h);const d=h},ecc1:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("a4ee"),r=i("6a0e"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386"));let a=class extends r["a"]{constructor(){super(...arguments),this.type=null}};Object(n["a"])([Object(s["b"])({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=Object(n["a"])([Object(o["a"])("esri.layers.support.FeatureReduction")],a);const c=a},ecd7:function(t,e,i){"use strict";function n(t){return t&&t.release&&"function"==typeof t.release}function r(t){return t&&t.acquire&&"function"==typeof t.acquire}i.d(e,"a",(function(){return s}));class s{constructor(t,e,i,n=1,r=0){if(this.ctor=t,this.acquireFunction=e,this.releaseFunction=i,this.allocationSize=n,this._pool=new Array(r),this._initialSize=r,this.ctor)for(let s=0;s<r;s++)this._pool[s]=new this.ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let e;if(s.test.disabled)e=new this.ctor;else{if(0===this._pool.length){const t=this.allocationSize;for(let e=0;e<t;e++)this._pool[e]=new this.ctor}e=this._pool.pop()}return this.acquireFunction?this.acquireFunction(e,...t):r(e)&&e.acquire(...t),e}release(t){t&&!s.test.disabled&&(this.releaseFunction?this.releaseFunction(t):n(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let e=t;e<this._pool.length;++e){const t=this._pool[e];this._dispose(t)}this._pool.length=t}}_dispose(t){t.dispose&&"function"==typeof t.dispose&&t.dispose()}}s.test={disabled:!1}},ed91:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("1b19"),c=i("b08e");let l=n=class extends a["a"]{constructor(t){super(t),this.type="pie-chart"}clone(){return new n({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};Object(r["a"])([Object(s["b"])({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:c["a"].write}})],l.prototype,"type",void 0),l=n=Object(r["a"])([Object(o["a"])("esri.popup.content.PieChartMediaInfo")],l);const u=l},ee0e:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("556f"),r=i("3af1"),s=i("9180"),o=i("79e4"),a=i("ae54");class c{constructor(t,e){this.key=new a["a"](0,0,0,0),this.bounds=Object(s["l"])(),this.objectIds=new Set,this.key.set(e);const i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.scale=i.scale,this.level=i.level}get id(){return this.key.id}get extent(){return r["a"].fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),e=n["a"].acquire();for(let i=0;i<t.length;i++)e[i]=new c(this.tileInfoView,t[i]);return e}getQuantizationParameters(){return o["a"].fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},eed5:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new n;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}},f069:function(t,e,i){"use strict";var n=i("59ed"),r=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new r(t)}},f11b:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n,r=i("a4ee"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0"),i("d386")),c=i("82e4");let l=n=class extends s["a"]{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new n({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],l.prototype,"description",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],l.prototype,"label",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],l.prototype,"minValue",void 0),Object(r["a"])([Object(o["b"])({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],l.prototype,"maxValue",void 0),Object(r["a"])([Object(o["b"])(c["b"])],l.prototype,"symbol",void 0),l=n=Object(r["a"])([Object(a["a"])("esri.renderers.support.ClassBreakInfo")],l);const u=l},f1a4:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return h}));var n=i("a4ee"),r=i("ce50"),s=i("6a0e"),o=i("59b2"),a=(i("b50f"),i("c120"),i("cea0")),c=i("d386"),l=i("e9a4");let u=class extends s["a"]{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal._request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source)?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal._request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+="&w="+t),e}toJSON(){throw new r["a"]("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,e){let i=Object(a["m"])(l["a"],t);return parseFloat(this.portal.currentVersion)>5?(i=i||new l["a"],this.portal._queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new l["a"],i.query="group:"+this.id+(i.query?" "+i.query:""),this.portal.queryItems(i,e))}_fetchCategorySchemaSet(t,e){return this.portal._fetchSelf(this.portal.authMode,!0,e).then(t=>{const i=t.contentCategorySetsGroupQuery;if(i){const t=new l["a"];return t.disableExtraQuery=!0,t.num=1,t.query=i,this.portal.queryGroups(t,e)}throw new r["a"]("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const n=i.results[0],r=new l["a"];return r.num=1,r.query=`typekeywords:"${t}"`,n.queryItems(r,e)}throw new r["a"]("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(t=>t.total?t.results[0].fetchData("json",e).then(t=>{const e=t&&t.categorySchema;return e&&e.length?e:[]}):[])}};Object(n["a"])([Object(o["b"])()],u.prototype,"access",void 0),Object(n["a"])([Object(o["b"])({type:Date})],u.prototype,"created",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"description",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"id",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"isInvitationOnly",void 0),Object(n["a"])([Object(o["b"])({type:Date})],u.prototype,"modified",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"owner",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"portal",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"snippet",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"sortField",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"sortOrder",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"tags",void 0),Object(n["a"])([Object(o["b"])()],u.prototype,"thumbnail",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],u.prototype,"thumbnailUrl",null),Object(n["a"])([Object(o["b"])()],u.prototype,"title",void 0),Object(n["a"])([Object(o["b"])({readOnly:!0})],u.prototype,"url",null),u=Object(n["a"])([Object(c["a"])("esri.portal.PortalGroup")],u);const h=u},f2e0:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));let n=0;function r(){return++n}},f353:function(t,e,i){"use strict";function n(t){var e;const i=t.layer;return"floorInfo"in i&&null!=(e=i.floorInfo)&&e.floorField&&"floors"in t.view?o(t.view.floors,i.floorInfo.floorField):null}function r(t,e){var i;return"floorInfo"in e&&null!=(i=e.floorInfo)&&i.floorField?o(t,e.floorInfo.floorField):null}function s(t,e){const{definitionExpression:i}=e;return t?i?`(${i}) AND (${t})`:t:i}function o(t,e){if(null==t||!t.length)return null;const i=t.filter(t=>""!==t).map(t=>`'${t}'`);return i.push("''"),`${e} IN (${i.join(",")}) OR ${e} IS NULL`}i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r}))},f36a:function(t,e,i){var n=i("e330");t.exports=n([].slice)},f408:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return c})),i.d(e,"f",(function(){return a})),i.d(e,"g",(function(){return h})),i.d(e,"h",(function(){return l}));var n=i("b2b2"),r=i("8076");function s(t,e){return Object(n["k"])(e)||!e.mode?t?"absolute-height":"on-the-ground":e.mode}function o(t,e){return s(!!Object(n["l"])(t)&&t.hasZ,e)}function a(t){const e=u(t);return o(t.geometry,e)}function c(t){const e=u(t),i=o(t.geometry,e);return{mode:i,offset:Object(n["l"])(e)&&"on-the-ground"!==i?Object(n["u"])(e.offset,0)*Object(r["a"])(Object(n["u"])(e.unit,"meters")):0}}function l(t){if("on-the-ground"===a(t))return!1;const e=u(t),i=Object(n["l"])(e)&&e.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!i||"0"===i)}function u(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function h(t,e,i){if(Object(n["k"])(i)||!i.mode)return;const r=t.hasZ?t.z:0,s=Object(n["l"])(i.offset)?i.offset:0;switch(i.mode){case"absolute-height":return r-s;case"on-the-ground":return 0;case"relative-to-ground":return r-(Object(n["u"])(e.elevationProvider.getElevation(t.x,t.y,t.z,t.spatialReference,"ground"),0)+s);case"relative-to-scene":return r-(Object(n["u"])(e.elevationProvider.getElevation(t.x,t.y,t.z,t.spatialReference,"scene"),0)+s)}}function d(t,e,i,n=null){return f(t,e.x,e.y,e.hasZ?e.z:0,e.spatialReference,i,n)}function p(t,e,i,n,r=null){return f(t,e[0],e[1],e.length>2?e[2]:0,i,n,r)}function f(t,e,i,r,s,o,a=null){if(Object(n["k"])(o))return;const c=Object(n["l"])(a)?a.mode:"absolute-height";return"on-the-ground"===c?0:y(b(e,i,r,s,t,o),e,i,r,s,t,a,c)}function b(t,e,i,r,s,o){const a=Object(n["l"])(o.offset)?o.offset:0;switch(o.mode){case"absolute-height":return i+a;case"on-the-ground":return Object(n["u"])(s.elevationProvider.getElevation(t,e,0,r,"ground"),0);case"relative-to-ground":return i+Object(n["u"])(s.elevationProvider.getElevation(t,e,i,r,"ground"),0)+a;case"relative-to-scene":return i+Object(n["u"])(s.elevationProvider.getElevation(t,e,i,r,"scene"),0)+a}}function y(t,e,i,r,s,o,a,c){const l=Object(n["l"])(a)&&Object(n["l"])(a.offset)?a.offset:0;switch(c){case"absolute-height":return t-l;case"relative-to-ground":return t-(Object(n["u"])(o.elevationProvider.getElevation(e,i,r,s,"ground"),0)+l);case"relative-to-scene":return t-(Object(n["u"])(o.elevationProvider.getElevation(e,i,r,s,"scene"),0)+l)}}},f46e:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("a4ee"),r=i("59b2"),s=(i("b50f"),i("c120"),i("cea0"),i("d386"));function o(t){return"portalItem"in t}const a=t=>{let e=class extends t{get apiKey(){var t;return this._isOverridden("apiKey")?this._get("apiKey"):o(this)?null==(t=this.portalItem)?void 0:t.apiKey:null}set apiKey(t){null!=t?this._override("apiKey",t):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return Object(n["a"])([Object(r["b"])({type:String})],e.prototype,"apiKey",null),e=Object(n["a"])([Object(s["a"])("esri.layers.mixins.APIKeyMixin")],e),e}},f4cc:function(t,e,i){"use strict";i.d(e,"a",(function(){return S})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return l})),i.d(e,"e",(function(){return w})),i.d(e,"f",(function(){return E})),i.d(e,"g",(function(){return A})),i.d(e,"h",(function(){return T})),i.d(e,"i",(function(){return O})),i.d(e,"j",(function(){return j})),i.d(e,"k",(function(){return v})),i.d(e,"l",(function(){return g})),i.d(e,"m",(function(){return d})),i.d(e,"n",(function(){return I})),i.d(e,"o",(function(){return M})),i.d(e,"p",(function(){return b})),i.d(e,"q",(function(){return y})),i.d(e,"r",(function(){return _})),i.d(e,"s",(function(){return x})),i.d(e,"t",(function(){return p})),i.d(e,"u",(function(){return u})),i.d(e,"v",(function(){return f})),i.d(e,"w",(function(){return C})),i.d(e,"x",(function(){return k})),i.d(e,"y",(function(){return m}));var n=i("1729"),r=i("ce50"),s=i("9d83"),o=(i("e92d"),i("b2b2"));function a(t){return Promise.all(t)}function c(t){return new Promise((e,i)=>{try{t(e,i)}catch(n){Promise.resolve().then(()=>i(n))}})}function l(t="Aborted"){return new r["a"]("AbortError",t)}function u(t,e="Aborted"){if(d(t))throw l(e)}function h(t){return Object(o["l"])(t)?"aborted"in t?t:t.signal:t}function d(t){const e=h(t);return Object(o["l"])(e)&&e.aborted}function p(t){if(g(t))throw t}function f(t){if(!g(t))throw t}function b(t,e){const i=h(t);if(!Object(o["k"])(i)){if(!i.aborted)return Object(s["d"])(i,"abort",()=>e());e()}}function y(t,e){const i=h(t);if(!Object(o["k"])(i))return u(i),Object(s["d"])(i,"abort",()=>e(l()))}function m(t,e){const i=h(e);return Object(o["k"])(i)?t:new Promise((i,n)=>{let r=b(e,()=>n(l()));const s=()=>r=Object(o["s"])(r);t.then(s,s),t.then(i,n)})}function g(t){return t&&"AbortError"===t.name}function v(t){return t.catch(t=>{if(!g(t))throw t})}function w(){let t=null;const e=new Promise((e,i)=>{t={promise:void 0,resolve:e,reject:i}});return t.promise=e,t}function O(t){if(!t)return;if("function"!=typeof t.forEach){const e=Object.keys(t);return O(e.map(e=>t[e])).then(t=>{const i={};return e.forEach((e,n)=>i[e]=t[n]),i})}const e=t;return c(t=>{const i=[];let n=e.length;0===n&&t(i),e.forEach(e=>{const r={promise:e||Promise.resolve(e)};i.push(r),r.promise.then(t=>{r.value=t}).catch(t=>{r.error=t}).then(()=>{--n,0===n&&t(i)})})})}function j(t){return O(t).then(t=>t.filter(t=>!!t.value).map(t=>t.value))}function _(t){return Promise.reject(t)}function x(t){return Promise.resolve(t)}function S(t,e,i){const n=new AbortController;return b(i,()=>n.abort()),new Promise((i,r)=>{let s=setTimeout(()=>{s=0,i(e)},t);b(n,()=>{s&&(clearTimeout(s),r(l()))})})}function M(t){return t&&"function"==typeof t.then}function k(t){return I(t)?t:Promise.resolve(t)}function I(t){return t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then}function T(t,e=-1){let i,n,r,s,a=null;const c=(...u)=>{if(i){n=u,s&&s.reject(l()),s=w();const t=Object(o["d"])(s.promise);if(a){const t=a;a=null,t.abort()}return t}if(r=s||w(),s=null,e>0){const n=new AbortController;i=k(t(...u,n.signal));const r=i;S(e).then(()=>{i===r&&(s?n.abort():a=n)})}else i=1,i=k(t(...u));const h=()=>{const t=n;n=r=i=a=null,null!=t&&c(...t)},d=i,p=r;return d.then(h,h),d.then(p.resolve,p.reject),Object(o["d"])(p.promise)};return c}function E(){let t,e;const i=new Promise((i,n)=>{t=i,e=n}),r=e=>{t(e)};return r.resolve=e=>t(e),r.reject=t=>e(t),r.timeout=(t,e)=>n["a"].setTimeout(()=>r.reject(e),t),r.promise=i,r}function A(t,e){let i,n=new AbortController;const r=t(n.signal);let s={promise:r,finished:!1,abort:()=>{n&&(n.abort(),n=null)}};const a=()=>{s&&(s.finished=!0,s=null),Object(o["l"])(i)&&(i.remove(),i=null),n=null};return r.then(a,a),i=b(e,()=>{Object(o["l"])(s)&&s.abort()}),s}function C(t){return Promise.resolve().then(()=>{u(t)})}},f51b:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("4856"),r=i("c1da"),s=i("1289"),o=(i("a7a7"),i("69c9"),i("d099"),i("18bf")),a=(i("3cac"),i("d0e9"),i("9f91")),c=i("8802");const l=["oid","global-id"],u=["oid","global-id","guid"];function h({displayField:t,editFieldsInfo:e,fields:i,objectIdField:r,title:s},o){if(!i)return null;const a=g({editFieldsInfo:e,fields:i,objectIdField:r},o);if(!a.length)return null;const c=O({titleBase:s,fields:i,displayField:t}),l=w();return new n["a"]({title:c,content:l,fieldInfos:a})}const d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],p=(t,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:n})=>n?n.has(t.name):!y(t.name,e)&&(!i||t.name!==i)&&!(l.indexOf(t.type)>-1)&&!d.some(e=>e.test(t.name));function f(t,e){const i=t;return e&&(t=t.filter(t=>-1===e.indexOf(t.type))),t===i&&(t=t.slice()),t.sort(b),t}function b(t,e){return"oid"===t.type?-1:"oid"===e.type?1:j(t)?-1:j(e)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((e.alias||e.name).toLocaleLowerCase())}function y(t,e){if(!t||!e)return!1;const{creationDateField:i,creatorField:n,editDateField:r,editorField:s}=e;return-1!==[i&&i.toLowerCase(),n&&n.toLowerCase(),r&&r.toLowerCase(),s&&s.toLowerCase()].indexOf(t.toLowerCase())}function m(t,e){return t.editable&&-1===u.indexOf(t.type)&&!y(t.name,e)}function g({editFieldsInfo:t,fields:e,objectIdField:i},n){return f(e,(null==n?void 0:n.ignoreFieldTypes)||_).map(e=>new a["a"]({fieldName:e.name,isEditable:m(e,t),label:e.alias,format:v(e),visible:p(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:null==n?void 0:n.visibleFieldNames})}))}function v(t){switch(t.type){case"small-integer":case"integer":case"single":return new c["a"]({digitSeparator:!0,places:0});case"double":return new c["a"]({digitSeparator:!0,places:2});case"date":return new c["a"]({dateFormat:"long-month-day-year"});default:return null}}function w(){return[new o["a"],new s["a"]]}function O(t){const e=Object(r["m"])(t),{titleBase:i}=t;return e?`${i}: {${e.trim()}}`:i}function j(t){return"name"===(t.name&&t.name.toLowerCase())||("name"===(t.alias&&t.alias.toLowerCase())||void 0)}const _=["geometry","blob","raster","guid","xml"]},f547:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return f})),i.d(e,"c",(function(){return v})),i.d(e,"d",(function(){return y})),i.d(e,"e",(function(){return g}));var n=i("2172");function r(t,e){return Object(n["e"])(t,e)}function s(t,e){const i=t.hasZ&&e.hasZ;let n,r,s;if(t.xmin<=e.xmin){if(n=e.xmin,t.xmax<n)return!1}else if(n=t.xmin,e.xmax<n)return!1;if(t.ymin<=e.ymin){if(r=e.ymin,t.ymax<r)return!1}else if(r=t.ymin,e.ymax<r)return!1;if(i&&e.hasZ)if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1;return!0}function o(t,e){const{points:i,hasZ:r}=e,s=r?n["b"]:n["a"];for(const n of i)if(s(t,n))return!0;return!1}const a=[0,0],c=[0,0],l=[0,0],u=[0,0],h=[a,c,l,u],d=[[l,a],[a,c],[c,u],[u,l]];function p(t,e){a[0]=t.xmin,a[1]=t.ymax,c[0]=t.xmax,c[1]=t.ymax,l[0]=t.xmin,l[1]=t.ymin,u[0]=t.xmax,u[1]=t.ymin;for(const i of h)if(Object(n["f"])(e,i))return!0;for(const i of e.rings){if(!i.length)continue;let e=i[0];if(Object(n["a"])(t,e))return!0;for(let r=1;r<i.length;r++){const s=i[r];if(Object(n["a"])(t,s)||m(e,s,d))return!0;e=s}}return!1}function f(t,e){a[0]=t.xmin,a[1]=t.ymax,c[0]=t.xmax,c[1]=t.ymax,l[0]=t.xmin,l[1]=t.ymin,u[0]=t.xmax,u[1]=t.ymin;const i=e.paths;for(const r of i){if(!i.length)continue;let e=r[0];if(Object(n["a"])(t,e))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(Object(n["a"])(t,s)||m(e,s,d))return!0;e=s}}return!1}const b=[0,0];function y(t){for(let e=0;e<t.length;e++){const i=t[e];for(let r=0;r<i.length-1;r++){const n=i[r],s=i[r+1];for(let i=e+1;i<t.length;i++)for(let e=0;e<t[i].length-1;e++){const r=t[i][e],o=t[i][e+1];if(g(n,s,r,o,b)&&!(b[0]===n[0]&&b[1]===n[1]||b[0]===r[0]&&b[1]===r[1]||b[0]===s[0]&&b[1]===s[1]||b[0]===o[0]&&b[1]===o[1]))return!0}}const n=i.length;if(!(n<=4))for(let t=0;t<n-3;t++){let e=n-1;0===t&&(e=n-2);const r=i[t],s=i[t+1];for(let n=t+2;n<e;n++){const t=i[n],e=i[n+1];if(g(r,s,t,e,b)&&!(b[0]===r[0]&&b[1]===r[1]||b[0]===t[0]&&b[1]===t[1]||b[0]===s[0]&&b[1]===s[1]||b[0]===e[0]&&b[1]===e[1]))return!0}}}return!1}function m(t,e,i){for(let n=0;n<i.length;n++)if(g(t,e,i[n][0],i[n][1]))return!0;return!1}function g(t,e,i,n,r){const[s,o]=t,[a,c]=e,[l,u]=i,[h,d]=n,p=h-l,f=s-l,b=a-s,y=d-u,m=o-u,g=c-o,v=y*b-p*g;if(0===v)return!1;const w=(p*m-y*f)/v,O=(b*m-g*f)/v;return w>=0&&w<=1&&O>=0&&O<=1&&(r&&(r[0]=s+w*(a-s),r[1]=o+w*(c-o)),!0)}function v(t){switch(t){case"esriGeometryEnvelope":case"extent":return s;case"esriGeometryMultipoint":case"multipoint":return o;case"esriGeometryPoint":case"point":return r;case"esriGeometryPolygon":case"polygon":return p;case"esriGeometryPolyline":case"polyline":return f}}},f5df:function(t,e,i){var n=i("da84"),r=i("00ee"),s=i("1626"),o=i("c6b6"),a=i("b622"),c=a("toStringTag"),l=n.Object,u="Arguments"==o(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(i){}};t.exports=r?o:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=h(e=l(t),c))?i:u?o(e):"Object"==(n=o(e))&&s(e.callee)?"Arguments":n}},f606:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){const n=e[i];if("string"!=typeof n&&!Array.isArray(n))for(const e in n)if("default"!==e&&!(e in t)){const i=Object.getOwnPropertyDescriptor(n,e);i&&Object.defineProperty(t,e,i.get?i:{enumerable:!0,get:()=>n[e]})}}return Object.freeze(t)}i.r(e),i.d(e,"G",(function(){return s})),i.d(e,"g",(function(){return o}));var r={exports:{}};!function(t,e){function i(){function t(t){if("number"==typeof t)return W.Uc.$g(t);if(null==t)return null;if(null!=it[t])return W.Uc.$g(it[t]);throw Error("Unrecognised Unit Type")}function e(t){if("number"==typeof t)return W.Uc.$g(t);if(null==t)return null;if(null!=nt[t])return W.Uc.$g(nt[t]);throw Error("Unrecognised Unit Type")}function i(t){if(t)switch(t){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function n(t,e,i,n){if(null==i||i.B())return null;switch(i.K()){case W.sn.Point:return t.exportPoint(e,i,n);case W.sn.Polygon:return t.exportPolygon(e,i,n);case W.sn.Polyline:return t.exportPolyline(e,i,n);case W.sn.MultiPoint:return t.exportMultipoint(e,i,n);case W.sn.Envelope:return t.exportExtent(e,i,n)}return null}function r(t,e,i,n){if(i.K()!==W.sn.Point)throw Error("Geometry not Point");return t.exportPoint(e,i,n)}function s(t,e,i){return t.convertToGEGeometry(e,i)}function o(t){var e=t.wkid;t=t.wkt;var i=rt.get(e||t);return null==i&&(-1!==e&&null!=e?(i=W.Gg.create(e),rt.set(e,i)):t&&(i=W.Gg.iP(t),rt.set(t,i))),i}function a(t){var e;if(null==t)return null;var i=o(t);return t=i.Id(),i=i.Ln(),(e={}).tolerance=i,e.unitType=null==t?-1:t.od,e.unitID=null==t?-1:t.Fc(),e.unitBaseFactor=null==t?0:t.bi,e.unitSquareDerivative=null==t?0:W.Uc.TF(t).Fc(),e}function c(t,e,i,r){return null==i?null:(i=W.bc.clip(s(t,st,i),s(t,st,r),o(e)),n(t,st,i,e))}function l(t,e,i,r){i=W.bc.el(s(t,st,i),s(t,st,r),o(e)),r=[];for(var a=0;a<i.length;a++)r.push(n(t,st,i[a],e));return r}function u(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.contains(s(t,st,i),s(t,st,n),o(e))}function h(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.tP(s(t,st,i),s(t,st,n),o(e))}function d(e,i,n,r,a){if(null==n||null==r)throw Error("Illegal Argument Exception");return W.bc.ub(s(e,st,n),s(e,st,r),o(i),t(a))}function p(t,e,i,n){return!(null==i&&null!=n||null==n&&null!=i)&&W.bc.Nb(s(t,st,i),s(t,st,n),o(e))}function f(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.JS(s(t,st,i),s(t,st,n),o(e))}function b(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.touches(s(t,st,i),s(t,st,n),o(e))}function y(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.eY(s(t,st,i),s(t,st,n),o(e))}function m(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.LP(s(t,st,i),s(t,st,n),o(e))}function g(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.tU(s(t,st,i),s(t,st,n),o(e))}function v(t,e,i,n,r){if(null==i||null==n)throw Error("Illegal Argument Exception");return W.bc.sB(s(t,st,i),s(t,st,n),o(e),r)}function w(t,e,i){if(null==i)throw Error("Illegal Argument Exception");return W.bc.US(s(t,st,i),o(e))}function O(t,e,i){if(null==i)throw Error("Illegal Argument Exception");return i=W.bc.YB(s(t,st,i),o(e)),n(t,st,i,e)}function j(t,e,i,r){if(void 0===r&&(r=!1),null==i)throw Error("Illegal Argument Exception");if(Array.isArray(i)){var a=r,c=[];for(r=0;r<i.length;r++)c.push(s(t,st,i[r]));for(i=W.bc.bP(c,a),a=Array(i.length),r=0;r<i.length;r++)a[r]=n(t,st,i[r],e);return a}return r=W.bc.aP(s(t,st,i),o(e)),n(t,st,r,e)}function _(t,e,i,r){if(null==i||null==r)throw Error("Illegal Argument Exception");if(Array.isArray(i)){for(var a=[],c=0;c<i.length;c++)a.push(s(t,st,i[c]));for(i=W.bc.IP(a,s(t,st,r),o(e)),r=Array(i.length),c=0;c<i.length;c++)r[c]=n(t,st,i[c],e);return r}return c=W.bc.km(s(t,st,i),s(t,st,r),o(e)),n(t,st,c,e)}function x(t,e,i,r){if(null==i||null==r)throw Error("Illegal Argument Exception");if(Array.isArray(i)){for(var a=[],c=0;c<i.length;c++)a.push(s(t,st,i[c]));for(i=W.bc.JX(a,s(t,st,r),o(e)),r=Array(i.length),c=0;c<i.length;c++)r[c]=n(t,st,i[c],e);return r}return c=W.bc.fp(s(t,st,i),s(t,st,r),o(e)),n(t,st,c,e)}function S(t,e,i,r){if(null==i||null==r)throw Error("Illegal Argument Exception");if(Array.isArray(i)){for(var a=[],c=0;c<i.length;c++)a.push(s(t,st,i[c]));for(i=W.bc.HS(a,s(t,st,r),o(e)),r=Array(i.length),c=0;c<i.length;c++)r[c]=n(t,st,i[c],e);return r}return c=W.bc.Fa(s(t,st,i),s(t,st,r),o(e)),n(t,st,c,e)}function M(t,e,i,r){if(null==i)return null;var a=[];if(Array.isArray(i)){if(0===i.length)return null;for(r=0;r<i.length;r++)a.push(s(t,st,i[r]))}else a.push(s(t,st,i)),null!=r&&a.push(s(t,st,r));return n(t,st,W.bc.YX(a,o(e)),e)}function k(e,i,r,a,c,l,u,h){var d=0;if(null!=l)switch(l){case"round":d=0;break;case"bevel":d=1;break;case"miter":d=2;break;case"square":d=3}if(Array.isArray(r)){if(null==r)e=null;else if(0===r.length)e=[];else{var p=[];for(l=0;l<r.length;l++)p.push(s(e,st,r[l]));for(r=W.bc.rU(p,o(i),a,d,u,h,t(c)),a=Array(r.length),l=0;l<r.length;l++)a[l]=n(e,st,r[l],i);e=a}return e}return r=W.bc.offset(s(e,st,r),o(i),a,d,u,h,t(c)),n(e,st,r,i)}function I(e,i,r,a,c,l){if(void 0===l&&(l=!1),Array.isArray(r)){if(!Array.isArray(a)){for(var u=[],h=0;h<r.length;h++)u.push(a);a=u}if(a.length!=r.length){if(0==a.length)throw Error("Illegal Argument Exception");u=[];var d=0;for(h=0;h<r.length;h++)void 0===a[h]?u.push(d):(u.push(a[h]),d=a[h]);a=u}return E(e,i,r,a,c,!1,l,"geodesic",NaN)}return r=W.bc.buffer(s(e,st,r),o(i),a,t(c),!1,0,NaN),n(e,st,r,i)}function T(e,r,a,c,l,u,h,d){if(Array.isArray(a)){if(!Array.isArray(c)){for(var p=[],f=0;f<a.length;f++)p.push(c);c=p}if(c.length!==a.length){if(0===c.length)throw Error("Illegal Argument Exception");p=[];var b=0;for(f=0;f<a.length;f++)void 0===c[f]?p.push(b):(p.push(c[f]),b=c[f]);c=p}return E(e,r,a,c,l,!0,u,h,d)}return void 0===h&&(h=NaN),a=W.bc.buffer(s(e,st,a),o(r),c,t(l),!0,i(u),h),n(e,st,a,r)}function E(e,r,a,c,l,u,h,d,p){if(void 0===p&&(p=NaN),null==a)return null;if(0===a.length)return[];for(var f=[],b=0;b<a.length;b++)f.push(s(e,st,a[b]));for(a=W.bc.EN(f,o(r),c,t(l),u,h,i(d),p),c=Array(a.length),b=0;b<a.length;b++)c[b]=n(e,st,a[b],r);return c}function A(t,e,i,n,o){var a;return void 0===o&&(o=!0),i=W.bc.iz(s(t,st,i),s(t,st,n),o),(a={}).coordinate=r(t,st,i.az(),e),a.distance=i.cz(),a.isRightSide=i.Nz(),a.vertexIndex=i.Va(),a.isEmpty=i.B(),a}function C(t,e,i,n){var o;return i=W.bc.jz(s(t,st,i),s(t,st,n)),(o={}).coordinate=r(t,st,i.az(),e),o.distance=i.cz(),o.isRightSide=i.Nz(),o.vertexIndex=i.Va(),o.isEmpty=i.B(),o}function P(t,e,i,n,o,a){var c;for(i=W.bc.kz(s(t,st,i),s(t,st,n),o,a),n=[],o=0;o<i.length;o++)!1===i[o].B()&&n.push(((c={}).coordinate=r(t,st,i[o].az(),e),c.distance=i[o].cz(),c.isRightSide=i[o].Nz(),c.vertexIndex=i[o].Va(),c.isEmpty=i[o].B(),c));return n}function R(e,i,r,a,c,l){return r=W.bc.IQ(s(e,st,r),o(i),a,c,t(l)),n(e,st,r,i)}function L(e,i,r,a,c){return r=W.bc.Rr(s(e,st,r),o(i),a,t(c)),n(e,st,r,i)}function N(e,i,r,a,c,l){return void 0===l&&(l=0),r=W.bc.Ry(s(e,st,r),o(i),a,t(c),l),n(e,st,r,i)}function F(t,i,n,r){if(null==n)throw Error("Illegal Argument Exception");return W.bc.zU(s(t,st,n),o(i),e(r))}function D(e,i,n,r){if(null==n)throw Error("Illegal Argument Exception");return W.bc.AU(s(e,st,n),o(i),t(r))}function z(t,n,r,a,c){if(null==r)throw Error("Illegal Argument Exception");return W.bc.OQ(s(t,st,r),o(n),e(a),i(c))}function V(e,n,r,a,c){if(null==r)throw Error("Illegal Argument Exception");return W.bc.RQ(s(e,st,r),o(n),t(a),i(c))}function $(t){W.FL.bind(t)}function G(t,e,i,n,r){var a=null,c=null;if(n){if(!r)throw W.i.O("AOI missing Spatial Reference");a=s(t,st,n),c=o(r).gh()}return null!==(t=W.hu.OR(o(e).gh(),o(i).gh(),a,c))?t:null}function U(t,e,i,n,r){var a=null,c=null;if(n){if(!r)throw W.i.O("AOI missing Spatial Reference");a=s(t,st,n),c=o(r).gh()}return W.hu.PR(o(e).gh(),o(i).gh(),a,c)}function q(t,e,i,n,r){if(void 0===r&&(r=null),!1===this.zY)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(r){var s=r.getCachedGeTransformation(i,n);if(!s)t:{if(s=r,r=null,s){var a=s.getGTListEntry();if(null!==a){r=new W.pC(null);for(var c=0,l=a.steps;c<l.length;c++){a=l[c];var u=new W.Bx(a.geogtran);a.isInverse&&u.Lz(),r.add(u)}r=W.xr.Or(o(i).gh(),o(n).gh(),r),s.assignCachedGe(i,n,r),s=r;break t}}if(null===r&&s&&s.steps&&0<s.steps.length){for(r=new W.pC(null),c=0,l=s.steps;c<l.length;c++)-1!=(a=l[c]).wkid&&null!=a.wkid?r.add(W.Bx.create(a.wkid,a.isInverse)):r.add(W.Bx.mP(a.wkt,a.isInverse));r=W.xr.Or(o(i).gh(),o(n).gh(),r),s.assignCachedGe(i,n,r),s=r}else s=W.xr.Or(o(i).gh(),o(n).gh(),r)}for(i=[],a=0;a<e.length;a++)r=e[a],i.push(B(t,r,n,s))}else for(s=W.xr.Or(o(i).gh(),o(n).gh(),null),i=[],a=0;a<e.length;a++)r=e[a],i.push(B(t,r,n,s));return i}function B(t,e,i,r){return e=W.bc.Ah(s(t,st,e),r),n(t,st,e,i)}var H,W,J,K,Y=this&&this.__extends||function(){function t(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)}return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){var e;(e=t.sn||(t.sn={}))[e.Unknown=0]="Unknown",e[e.Point=33]="Point",e[e.Line=322]="Line",e[e.Envelope=197]="Envelope",e[e.MultiPoint=550]="MultiPoint",e[e.Polyline=1607]="Polyline",e[e.Polygon=1736]="Polygon",function(t){t[t.enumMild=0]="enumMild",t[t.enumMedium=1]="enumMedium",t[t.enumHot=2]="enumHot"}(t.QK||(t.QK={}));var i=function(){function e(){this.description=null,this.PA=0}return e.prototype.K=function(){return 0},e.prototype.Eb=function(){return-1},e.prototype.kg=function(t){this.wc(),t!=this.description&&this.un(t)},e.prototype.un=function(){},e.prototype.Ll=function(e){this.wc(),e!=this.description&&(e=t.ee.uR(this.description,e))!=this.description&&this.un(e)},e.prototype.hasAttribute=function(t){return this.description.hasAttribute(t)},e.prototype.se=function(e){this.wc(),this.description.hasAttribute(e)||(e=t.ee.tR(this.description,e),this.un(e))},e.prototype.Ug=function(){return null},e.prototype.dn=function(){},e.prototype.A=function(){},e.prototype.Ro=function(){},e.prototype.yc=function(t){this.A(t)},e.prototype.B=function(){return!0},e.prototype.Pa=function(){},e.prototype.Pc=function(){},e.prototype.Ja=function(){return null},e.prototype.copyTo=function(){},e.prototype.He=function(){return 0},e.prototype.Rb=function(){return 0},e.prototype.aG=function(){return this.hasAttribute(1)},e.uf=function(t){return 1+((192&t)>>6)>>1},e.Sn=function(t){return 0!=(32&t)},e.KS=function(t){return 0!=(128&t)},e.zd=function(t){return 0!=(256&t)},e.yj=function(t){return 0!=(512&t)},e.Ic=function(t){return 0!=(1024&t)},e.prototype.Pf=function(){var t=this.Ja();return this.copyTo(t),t},e.prototype.mg=function(){return null},e.ig=function(t){var e=t.Ja();return t.copyTo(e),e},e.prototype.wc=function(){0<=this.PA&&(this.PA+=2147483649)},e.yx=function(i){var n=i.K();if(e.yj(n))return i.I();if(i.B())return 0;if(197==n)return 4;if(33==n)return 1;if(e.zd(n))return 2;throw t.i.ga("missing type")},e}();t.ba=i}(W||(W={})),J=W||(W={}),K=function(){function t(){this.y=this.x=0}return t.construct=function(e,i){var n=new t;return n.x=e,n.y=i,n},t.bl=function(e){var i=new t;return i.x=e.x,i.y=e.y,i},t.prototype.na=function(t,e){this.x=t,this.y=e},t.prototype.N=function(t){this.x=t.x,this.y=t.y},t.prototype.hq=function(t,e){return this.x===t&&this.y===e},t.prototype.Mz=function(t){return 2220446049250313e-31>=Math.abs(this.x-t.x)&&2220446049250313e-31>=Math.abs(this.y-t.y)},t.prototype.rb=function(t){return this.x===t.x&&this.y===t.y},t.prototype.Nb=function(e){return e==this||e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.vc=function(t,e){this.x=t.x-e.x,this.y=t.y-e.y},t.prototype.add=function(t,e){void 0!==e?(this.x=t.x+e.x,this.y=t.y+e.y):(this.x+=t.x,this.y+=t.y)},t.prototype.Uq=function(){this.x=-this.x,this.y=-this.y},t.prototype.mt=function(t){this.x=-t.x,this.y=-t.y},t.prototype.ES=function(t,e,i){this.x=t.x*(1-i)+e.x*i,this.y=t.y*(1-i)+e.y*i},t.prototype.Ct=function(t,e){this.x=this.x*t+e.x,this.y=this.y*t+e.y},t.prototype.wW=function(t,e,i){this.x=e.x*t+i.x,this.y=e.y*t+i.y},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.compare=function(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x=1,this.y=0),this.x/=t,this.y/=t},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.Sk=function(){return this.x*this.x+this.y*this.y},t.ub=function(t,e){return Math.sqrt(this.zc(t,e))},t.Jy=function(t,e,i,n){return t-=i,e-=n,Math.sqrt(t*t+e*e)},t.prototype.Rh=function(t){return this.x*t.x+this.y*t.y},t.prototype.YC=function(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)},t.prototype.xi=function(t){return this.x*t.y-this.y*t.x},t.prototype.Bt=function(t,e){var i=-this.x*e+this.y*t;this.x=this.x*t+this.y*e,this.y=i},t.prototype.Iv=function(){var t=this.x;this.x=-this.y,this.y=t},t.prototype.EG=function(t){this.x=-t.y,this.y=t.x},t.prototype.cr=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.ru=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3},t.ou=function(t,e){var i=t.ru(),n=e.ru();return n==i?0>(t=t.xi(e))?1:0<t?-1:0:i<n?-1:1},t.zc=function(t,e){var i=t.x-e.x;return i*i+(t=t.y-e.y)*t},t.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},t.prototype.Sc=function(){this.y=this.x=NaN},t.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},t.prototype.offset=function(e,i){var n=t.ub(e,i),r=t.construct(this.x,this.y);if(0==n)return t.ub(r,e);var s=new t;return s.N(i),s.sub(e),r.sub(e),r.xi(s)/n},t.Wq=function(t,e,i){var n=new J.Xb;n.set(e.x),n.sub(t.x);var r=new J.Xb;r.set(i.y),r.sub(t.y);var s=new J.Xb;s.set(e.y),s.sub(t.y);var o=new J.Xb;return o.set(i.x),o.sub(t.x),n.Ag(r),s.Ag(o),n.sub(s),n.qs()?(n=new J.ip(e.x),r=new J.ip(t.x),s=new J.ip(t.y),n=n.jt(r),t=(t=new J.ip(i.y)).jt(s),e=(e=new J.ip(e.y)).jt(s),i=(i=new J.ip(i.x)).jt(r),n=n.nr(t),e=e.nr(i),(n=n.nr(e)).dT()?-1:n.XR()?1:0):0>(i=n.value())?-1:0<i?1:0},t.prototype.dc=function(){return J.P.vj(J.P.vj())},t}(),J.h=K,function(t){var e=function(){function t(t){this.zy=this.Nt=0,this.CX=t}return t.prototype.reset=function(){this.zy=this.Nt=0},t.prototype.add=function(t){t-=this.zy;var e=this.Nt+t;this.zy=e-this.Nt-t,this.Nt=e},t.prototype.sub=function(t){this.add(-t)},t.prototype.tm=function(){return this.CX+this.Nt},t}();t.Dx=e,t.mc=function(){function t(){}return t.Dn=function(t,e){return 0<=e?Math.abs(t):-Math.abs(t)},t.sign=function(t){return 0>t?-1:0<t?1:0},t.JK=function(t){return t-360*Math.floor(t/360)},t.round=function(t){return Math.floor(t+.5)},t.nx=function(t){return t*t},t.jq=function(t,e,i){return.5>=i?t+(e-t)*i:e-(e-t)*(1-i)},t.GG=function(t,e,i,n){.5>=i?(n.x=t.x+(e.x-t.x)*i,n.y=t.y+(e.y-t.y)*i):(n.x=e.x-(e.x-t.x)*(1-i),n.y=e.y-(e.y-t.y)*(1-i))},t.bT=function(t,e,i,n,r,s){.5>=r?(s.x=t+(i-t)*r,s.y=e+(n-e)*r):(s.x=i-(i-t)*(1-r),s.y=n-(n-e)*(1-r))},t}()}(W||(W={})),function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.sa=0,t.oa=0,t.qa=0,t.ma=0,t.la=null,t}return Y(i,e),i.prototype.ac=function(){return t.h.construct(this.sa,this.oa)},i.prototype.$p=function(t){t.x=this.sa,t.y=this.oa},i.prototype.Ec=function(t){this.gm(0,t)},i.prototype.SB=function(e,i){this.gm(0,t.h.construct(e,i))},i.prototype.Uo=function(t){this.$C(0,t)},i.prototype.setStart=function(t){this.mD(0,t)},i.prototype.xv=function(t,e){return this.Pd(0,t,e)},i.prototype.RB=function(t,e,i){this.vn(0,t,e,i)},i.prototype.xc=function(){return t.h.construct(this.qa,this.ma)},i.prototype.Ur=function(t){t.x=this.qa,t.y=this.ma},i.prototype.Rc=function(t){this.gm(1,t)},i.prototype.Sl=function(e,i){this.gm(1,t.h.construct(e,i))},i.prototype.Qo=function(t){this.$C(1,t)},i.prototype.setEnd=function(t){this.mD(1,t)},i.prototype.hv=function(t,e){return this.Pd(1,t,e)},i.prototype.IB=function(t,e,i){this.vn(1,t,e,i)},i.prototype.Eb=function(){return 1},i.prototype.B=function(){return this.Bc()},i.prototype.Pa=function(){},i.prototype.He=function(){return 0},i.prototype.Fa=function(t,e,i,n,r){return this.CM(t,e,i,n,r)},i.prototype.isIntersecting=function(t,e){return 0!=this.Br(t,e,!1)},i.prototype.rs=function(t,e){return this.su(t,e,!1)},i.prototype.su=function(){return null},i.prototype.Bc=function(){return!1},i.prototype.Zx=function(e){if(this.wc(),null==this.la&&0<e)this.la=t.P.lg(2*e);else if(null!=this.la&&this.la.length<2*e){for(var i=this.la.slice(0),n=this.la.length;n<2*e;n++)i[n]=0;this.la=i}},i.ZL=function(t,e,i){if(0<i)var n=0;for(var r=0;r<i;r++)e[0+n]=t[0],n++},i.prototype.gm=function(t,e){0!=t?(this.qa=e.x,this.ma=e.y):(this.sa=e.x,this.oa=e.y)},i.prototype.un=function(e){if(null!=this.la){for(var n=t.ee.Jw(e,this.description),r=[],s=i.Ig(this.description,0),o=i.Ig(this.description,1),a=i.Ig(e,0),c=i.Ig(e,1),l=0,u=1,h=e.Ba;u<h;u++){var d=e.qd(u),p=t.ua.Wa(d);if(-1==n[u]){var f=t.ua.te(d);for(d=0;d<p;d++)r[a+l]=f,r[c+l]=f,l++}else for(f=this.description.$j(n[u])-2,d=0;d<p;d++)r[a+l]=this.la[s+f],r[c+l]=this.la[o+f],l++,f++}this.la=r}this.description=e},i.prototype.$C=function(e,i){if(this.Bc())throw t.i.ga("empty geometry");i.kg(this.description),i.Bc()&&i.up();for(var n=0;n<this.description.Ba;n++)for(var r=this.description.Fd(n),s=0,o=t.ua.Wa(r);s<o;s++){var a=this.Pd(e,r,s);i.setAttribute(r,s,a)}},i.prototype.mD=function(e,i){if(this.wc(),i.Bc())throw t.i.ga("empty geometry");for(var n=i.description,r=0,s=n.Ba;r<s;r++)for(var o=n.Fd(r),a=t.ua.Wa(o),c=0;c<a;c++){var l=i.Vc(o,c);this.vn(e,o,c,l)}},i.prototype.Pd=function(e,n,r){if(this.Bc())throw t.i.ga("This operation was performed on an Empty Geometry.");if(0==n)return 0!=e?0!=r?this.ma:this.qa:0!=r?this.oa:this.sa;if(r>=t.ua.Wa(n))throw t.i.re();var s=this.description.Qf(n);return 0<=s?(null!=this.la&&this.Zx(this.description.Be.length-2),this.la[i.Ig(this.description,e)+this.description.$j(s)-2+r]):t.ua.te(n)},i.prototype.vn=function(e,n,r,s){if(this.wc(),r>=t.ua.Wa(n))throw t.i.re();var o=this.description.Qf(n);0>o&&(this.se(n),o=this.description.Qf(n)),0==n?0!=e?0!=r?this.ma=s:this.qa=s:0!=r?this.oa=s:this.sa=s:(null==this.la&&this.Zx(this.description.Be.length-2),this.la[i.Ig(this.description,e)+this.description.$j(o)-2+r]=s)},i.prototype.copyTo=function(e){if(e.K()!=this.K())throw t.i.O();e.description=this.description,e.Zx(this.description.Be.length-2),i.ZL(this.la,e.la,2*(this.description.Be.length-2)),e.sa=this.sa,e.oa=this.oa,e.qa=this.qa,e.ma=this.ma,e.wc(),this.pp(e)},i.prototype.Ug=function(e,i){var n=new t.Oc;return this.Bc()?(n.Pa(),n):(n.pa=this.Pd(0,e,i),n.wa=n.pa,n.Lk(this.Pd(1,e,i)),n)},i.prototype.RI=function(t){this.Bc()?t.Pa():(t.pa=this.Pd(0,0,0),t.wa=t.pa,t.Lk(this.Pd(1,0,0)))},i.prototype.Uw=function(e,i){i.kg(this.description),i.Db(this.ic(e));for(var n=1,r=this.description.Ba;n<r;n++)for(var s=this.description.Fd(n),o=t.ua.Wa(s),a=0;a<o;a++){var c=this.Vc(e,s,a);i.setAttribute(s,a,c)}},i.prototype.xM=function(t){if(this.description!=t.description||this.sa!=t.sa||this.qa!=t.qa||this.oa!=t.oa||this.ma!=t.ma)return!1;for(var e=0;e<2*(this.description.Be.length-2);e++)if(this.la[e]!=t.la[e])return!1;return!0},i.prototype.tG=function(){return this.sa==this.qa&&this.oa==this.ma},i.prototype.reverse=function(){var e=this.sa;this.sa=this.qa,this.qa=e,e=this.oa,this.oa=this.ma,this.ma=e,e=1;for(var i=this.description.Ba;e<i;e++)for(var n=this.description.qd(e),r=0,s=t.ua.Wa(n);r<s;r++){var o=this.Pd(0,n,r),a=this.Pd(1,n,r);this.vn(0,n,r,a),this.vn(1,n,r,o)}},i.prototype.Br=function(e,i,n){var r=e.K();if(322===this.K()){if(322==r)return t.zb.GM(this,e,i,n);throw t.i.Ra()}throw t.i.Ra()},i.prototype.CM=function(e,i,n,r,s){var o=e.K();if(322===this.K()){if(322==o)return t.zb.Xx(this,e,i,n,r,s);throw t.i.Ra()}throw t.i.Ra()},i.prototype.Rx=function(){return null},i.Ig=function(t,e){return e*(t.Be.length-2)},i.prototype.ic=function(e,i){if(void 0===i)return i=new t.h,this.ic(e,i),i;t.mc.bT(this.sa,this.oa,this.qa,this.ma,e,i)},i.prototype.fe=function(){return null},i.prototype.XF=function(){return null},i.prototype.fq=function(){return null},i.prototype.Ci=function(){return null},i.prototype.Qn=function(){return null},i.prototype.jg=function(){return null},i.prototype.Sx=function(t,e){return void 0!==e?this.tx(e)-this.tx(t):this.tx(t)},i.prototype.pp=function(){},i.prototype.el=function(){return null},i.prototype.bh=function(){},i.prototype.Vc=function(){return null},i.prototype.Me=function(){return null},i.prototype.tx=function(){return null},i.prototype.FG=function(){return null},i.prototype.ub=function(t,e){if(!e&&0!=this.Br(t,0,!1))return 0;e=17976931348623157e292;var i=this.ac(),n=t.fe(i,!1);return i.sub(t.ic(n)),(i=i.length())<e&&(e=i),i=this.xc(),n=t.fe(i,!1),i.sub(t.ic(n)),(i=i.length())<e&&(e=i),i=t.ac(),n=this.fe(i,!1),i.sub(this.ic(n)),(i=i.length())<e&&(e=i),i=t.xc(),n=this.fe(i,!1),i.sub(this.ic(n)),(i=i.length())<e&&(e=i),e},i.prototype.mg=function(){return t.ri.im(this,null)},i}(t.ba);t.KC=e}(W||(W={})),new W.h,function(t){var e;(e=t.SK||(t.SK={}))[e.Unknown=-1]="Unknown",e[e.Not=0]="Not",e[e.Weak=1]="Weak",e[e.Strong=2]="Strong",function(t){t[t.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",t[t.IsWeakSimple=2]="IsWeakSimple",t[t.IsStrongSimple=4]="IsStrongSimple",t[t.DirtyOGCFlags=8]="DirtyOGCFlags",t[t.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",t[t.DirtyExactIntervals=64]="DirtyExactIntervals",t[t.DirtyLooseIntervals=128]="DirtyLooseIntervals",t[t.DirtyIntervals=192]="DirtyIntervals",t[t.DirtyIsEnvelope=256]="DirtyIsEnvelope",t[t.DirtyLength2D=512]="DirtyLength2D",t[t.DirtyRingAreas2D=1024]="DirtyRingAreas2D",t[t.DirtyCoordinates=1993]="DirtyCoordinates",t[t.DirtyAllInternal=65535]="DirtyAllInternal",t[t.DirtyAll=16777215]="DirtyAll"}(t.EK||(t.EK={}));var i=function(e){function i(){var t=e.call(this)||this;return t.Jm=65535,t.xa=0,t.Qg=-1,t.Cb=null,t}return Y(i,e),i.prototype.pp=function(){},i.prototype.Yx=function(){},i.prototype.dy=function(){},i.prototype.I=function(){return this.xa},i.prototype.B=function(){return this.Bc()},i.prototype.Bc=function(){return 0==this.xa},i.prototype.ak=function(t){return 0!=(this.Jm&t)},i.prototype.Nf=function(t,e){this.Jm=e?this.Jm|t:this.Jm&~t},i.prototype.rc=function(){this.ak(32)&&this.UM()},i.prototype.ux=function(){if(this.Bc())throw t.i.ga("This operation was performed on an Empty Geometry.")},i.prototype.we=function(e,i){if(0>e||e>=this.xa)throw t.i.ga("index out of bounds");this.rc(),i.kg(this.description),i.B()&&i.up();for(var n=0;n<this.description.Ba;n++)for(var r=this.description.Fd(n),s=0,o=t.ua.Wa(r);s<o;s++){var a=this.Aa[n].Bg(o*e+s);i.setAttribute(r,s,a)}},i.prototype.Ht=function(e,i){this.rc();for(var n=i.description,r=0;r<n.Ba;r++)for(var s=n.Fd(r),o=t.ua.Wa(s),a=0;a<o;a++){var c=i.Vc(s,a);this.setAttribute(s,e,a,c)}},i.prototype.D=function(e,i){if(0>e||e>=this.I())throw t.i.re();this.rc(),this.Aa[0].uc(2*e,i)},i.prototype.Oa=function(e){var i=new t.h;return this.D(e,i),i},i.prototype.Hc=function(t,e){this.Aa[0].uc(2*t,e)},i.prototype.Db=function(e,i,n){if(0>e||e>=this.xa)throw t.i.re();this.rc();var r=this.Aa[0];void 0!==n?(r.write(2*e,i),r.write(2*e+1,n)):r.Ut(2*e,i),this.Qc(1993)},i.prototype.xz=function(){if(void 0>=this.I())throw t.i.re();this.rc();var e=this.Aa[0],i=new t.Od;return i.x=e.read(NaN),i.y=e.read(NaN),i.z=this.hasAttribute(1)?this.Aa[1].Bg(void 0):t.ua.te(1),i},i.prototype.XB=function(e){if(0>e||e>=this.I())throw t.i.re();this.se(1),this.rc(),this.Qc(1993);var i=this.Aa[0];i.write(2*e,(void 0).x),i.write(2*e+1,(void 0).y),this.Aa[1].rr(e,(void 0).z)},i.prototype.Vc=function(e,i,n){if(0>i||i>=this.xa)throw t.i.re();var r=t.ua.Wa(e);if(n>=r)throw t.i.re();this.rc();var s=this.description.Qf(e);return 0<=s?this.Aa[s].Bg(i*r+n):t.ua.te(e)},i.prototype.qF=function(t,e){return this.Vc(t,e,void 0)},i.prototype.setAttribute=function(e,i,n,r){if(0>i||i>=this.xa)throw t.i.re();var s=t.ua.Wa(e);if(n>=s)throw t.i.re();this.se(e),this.rc(),e=this.description.Qf(e),this.Qc(1993),this.Aa[e].rr(i*s+n,r)},i.prototype.vb=function(t){return this.ux(),this.se(t),this.rc(),this.Aa[this.description.Qf(t)]},i.prototype.kn=function(e,i){if(null!=i&&t.ua.Vp(e)!=i.Vp())throw t.i.O();this.se(e),e=this.description.Qf(e),null==this.Aa&&(this.Aa=t.Zc.iI(this.description.Ba)),this.Aa[e]=i,this.Qc(16777215)},i.prototype.un=function(e){var i=null;if(null!=this.Aa){var n=t.ee.Jw(e,this.description);i=[];for(var r=0,s=e.Ba;r<s;r++)-1!=n[r]&&(i[r]=this.Aa[n[r]])}this.description=e,this.Aa=i,this.Qg=-1,this.Qc(16777215)},i.prototype.sD=function(e){this.xu(!0),e instanceof t.l?this.aa.A(e):this.aa.Ro(e)},i.prototype.TM=function(e){this.xu(!1),e instanceof t.l?this.aa.A(e):this.aa.Ro(e)},i.prototype.dn=function(t){this.xu(!0),this.aa.copyTo(t)},i.prototype.A=function(t){this.sD(t)},i.prototype.Ro=function(t){this.sD(t)},i.prototype.yc=function(t){this.TM(t)},i.prototype.Ug=function(e,i){var n=new t.Oc;return this.Bc()?(n.Pa(),n):(this.xu(!0),this.aa.Ug(e,i))},i.prototype.dc=function(){var e=this.description.dc();if(!this.Bc())for(var i=this.I(),n=0,r=this.description.Ba;n<r;n++)e=this.Aa[n].Bn(e,0,i*t.ua.Wa(this.description.Fd(n)));return e},i.prototype.Nb=function(e){if(e==this)return!0;if(!(e instanceof i&&this.description.Nb(e.description))||this.Bc()!=e.Bc())return!1;if(this.Bc())return!0;var n=this.I();if(n!=e.I())return!1;for(var r=0;r<this.description.Ba;r++){var s=this.description.qd(r),o=this.vb(s),a=e.vb(s);if(!o.Nb(a,0,n*t.ua.Wa(s)))return!1}return!0},i.prototype.copyTo=function(e){if(e.K()!=this.K())throw t.i.O();this.WC(e)},i.prototype.WC=function(e){this.rc(),e.description=this.description,e.Aa=null;var i=this.description.Ba,n=null;if(null!=this.Aa){n=[];for(var r=0;r<i;r++)null!=this.Aa[r]&&(n[r]=this.Aa[r].AB(this.I()*t.ua.Wa(this.description.Fd(r))))}null!=this.aa?(e.aa=this.aa.Ja(),this.aa.copyTo(e.aa)):e.aa=null,e.xa=this.xa,e.Jm=this.Jm,e.Aa=n;try{this.pp(e)}catch(s){throw e.Pa(),t.i.gu()}},i.prototype.oD=function(){this.xa=0,this.Qg=-1,this.Aa=null,this.Qc(16777215)},i.prototype.Qc=function(t){16777215==t&&(this.Qg=-1,this.Yx()),this.Jm|=t,this.dM(),this.wc()},i.prototype.xu=function(e){if(this.rc(),this.ak(192))if(null==this.aa?this.aa=new t.Gh(this.description):this.aa.kg(this.description),this.B())this.aa.Pa();else{this.cy(e);for(var i=1;i<this.description.Ba;i++)for(var n=this.description.Fd(i),r=t.ua.Wa(n),s=this.Aa[i],o=0;o<r;o++){var a=new t.Oc;a.Pa();for(var c=0;c<this.xa;c++){var l=s.Bg(c*r+o);a.$b(l)}this.aa.setInterval(n,o,a)}e&&this.Nf(192,!1)}},i.prototype.cy=function(){this.aa.Pa();for(var e=this.Aa[0],i=new t.h,n=0;n<this.xa;n++)e.uc(2*n,i),this.aa.$b(i)},i.prototype.Ap=function(e){e.Pa();for(var i=this.Aa[0],n=new t.h,r=0;r<this.xa;r++)i.uc(2*r,n),e.$b(n)},i.prototype.UM=function(){if(this.Qg<this.xa){null==this.Aa&&(this.Aa=t.Zc.iI(this.description.Ba)),this.Qg=2147483647;for(var e=0;e<this.description.Ba;e++){var i=this.description.Fd(e);if(null!=this.Aa[e]){var n=t.ua.Wa(i),r=t.P.truncate(this.Aa[e].size/n);r<this.xa&&(r=t.P.truncate(this.Qg>this.xa+5?(5*this.xa+3)/4:this.xa),this.Aa[e].resize(r*n,t.ua.te(i))),r<this.Qg&&(this.Qg=r)}else this.Aa[e]=t.Zc.QE(i,this.xa),this.Qg=this.xa}}this.dy(),this.Nf(32,!1)},i.prototype.fm=function(e){if(0>e)throw t.i.O();e!=this.xa&&(this.xa=e,this.Qc(65535))},i.prototype.qm=function(t){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.GT>=t)return this.ak(8)?1:2}return-1},i.prototype.Dh=function(e,i){if(this.GT=i,-1==e)this.Nf(1,!0),this.Nf(8,!0);else if(this.Nf(1,!1),this.Nf(8,!0),0==e)this.Nf(2,!1),this.Nf(4,!1);else if(1==e)this.Nf(2,!0),this.Nf(4,!1);else{if(2!=e)throw t.i.ga("internal error.");this.Nf(2,!0),this.Nf(4,!0)}},i.prototype.dM=function(){null!=this.Cb&&(this.Cb=null)},i.prototype.cD=function(e,i,n,r){if(0>e||e>=this.xa)throw t.i.ga("index out of bounds");if(0>i||i>=this.xa)throw t.i.ga("index out of bounds");this.rc(),r.kg(this.description),r.B()&&r.up();for(var s=0;s<this.description.Ba;s++)for(var o=this.description.Fd(s),a=0,c=t.ua.Wa(o);a<c;a++){var l=this.Aa[s].Bg(c*e+a),u=this.Aa[s].Bg(c*i+a);r.setAttribute(o,a,t.mc.jq(l,u,n))}},i.prototype.Ar=function(t,e){var i=this.Aa[0].o,n=i[2*t]-i[2*e];return t=i[2*t+1]-i[2*e+1],Math.sqrt(n*n+t*t)},i.prototype.Eh=function(e,i){if(0>e||e>=this.xa)throw t.i.re();if(i.B())throw t.i.O();this.rc();for(var n=i.description,r=0;r<n.Ba;r++)for(var s=n.qd(r),o=t.ua.Wa(s),a=0;a<o;a++){var c=i.Vc(s,a);this.setAttribute(s,e,a,c)}},i.prototype.mu=function(){return null},i.prototype.gj=function(){return null},i}(t.ba);t.Ex=i}(W||(W={})),function(t){var e=function(){function e(){this.ob=this.$n=null,this.Vm=124234251,this.Sv=!0,this.Ne=-1,this.ob=new t.ad(7),this.$n=null}return e.prototype.Wo=function(t){this.$n=t},e.prototype.JP=function(){this.Sv=!1},e.prototype.Ee=function(t){this.ob.Ee(t)},e.prototype.Qr=function(t){var e=this.ob.De();return this.fX(e),this.iX(t,e),e},e.prototype.EP=function(t){this.ob.kd(t)},e.prototype.addElement=function(t,e){return-1==e&&(-1==this.Ne&&(this.Ne=this.Qr(-1)),e=this.Ne),this.xD(t,0,e)},e.prototype.BD=function(t){return-1==this.Ne&&(this.Ne=this.Qr(-1)),this.xD(t,1,this.Ne)},e.prototype.yn=function(t){-1==this.Ne&&(this.Ne=this.Qr(-1));var e=this.Ne,i=this.ob.o;if(-1==e||-1==i[7*e])return t=this.ob.Nl([-1,-1,-1,t,this.il(),-1,-1]),(i=this.ob.o)[7*e]=t,this.xp(-1,t,e,i),t;var n=-1==e?-1:i[7*e+2];return t=this.ob.Nl([-1,-1,n,t,this.il(),-1,-1]),(i=this.ob.o)[7*n+1]=t,this.jy(t,i),-1===i[7*t+2]&&(i[7*e]=t),this.xp(-1,t,e,i),t},e.prototype.Au=function(e,i,n,r){var s=-1;-1==s&&(-1==this.Ne&&(this.Ne=this.Qr(-1)),s=this.Ne);var o=this.ob.o;if(-1==s||-1==o[7*s])return n=this.ob.Nl([-1,-1,-1,n,this.il(),-1,-1]),(o=this.ob.o)[7*s]=n,this.xp(-1,n,s,o),n;if(r){r=-1!=i?this.$n.compare(this,n,i):-1;var a=-1!=e?this.$n.compare(this,n,e):1}else r=-1,a=1;if(0==r||0==a)return o[7*s+3]=0==r?i:e,-1;for((-1!=i&&-1!=e?this.Vm>t.P.WA(this.Vm)>>1:-1!=i)?e=i:r=a,i=!0;;){if(0>r){if(-1==(a=o[7*e])){r=e,n=this.ob.Nl([-1,-1,e,n,this.il(),-1,-1]),(o=this.ob.o)[7*e]=n;break}e=a}else{if(-1==(a=o[7*e+1])){r=o[7*e+6],n=this.ob.Nl([-1,-1,e,n,this.il(),-1,-1]),(o=this.ob.o)[7*e+1]=n;break}e=a}i&&(r*=-1,i=!1)}return this.jy(n,o),-1===o[7*n+2]&&(o[7*s]=n),this.xp(r,n,s,o),n},e.prototype.xF=function(){return this.aR(this.Ne)},e.prototype.wd=function(t,e){e=-1==e?this.Ne:e,this.Sv?this.DP(t,e):this.XX(t,e)},e.prototype.search=function(t,e){for(e=this.tv(e);-1!=e;){var i=this.$n.compare(this,t,e);if(0==i)return e;e=0>i?this.nl(e):this.Zp(e)}return-1},e.prototype.xW=function(t){for(var e=this.tv(-1),i=-1;-1!=e;){var n=t.compare(this,e);if(0==n)return e;0>n?e=this.nl(e):(i=e,e=this.Zp(e))}return i},e.prototype.mJ=function(t){for(var e=this.tv(-1),i=-1;-1!=e;){var n=t.compare(this,e);if(0==n)return e;0>n?(i=e,e=this.nl(e)):e=this.Zp(e)}return i},e.prototype.ka=function(t){return this.ob.U(t,3)},e.prototype.nl=function(t){return this.ob.U(t,0)},e.prototype.Zp=function(t){return this.ob.U(t,1)},e.prototype.getParent=function(t){return this.ob.U(t,2)},e.prototype.lb=function(t){return this.ob.U(t,6)},e.prototype.xe=function(t){return this.ob.U(t,5)},e.prototype.sc=function(t){return-1==t?this.ml(this.Ne):this.ml(t)},e.prototype.Gc=function(t){return-1==t?this.$r(this.Ne):this.$r(t)},e.prototype.QR=function(t){return-1==t?this.UF(this.Ne):this.UF(t)},e.prototype.Tj=function(t,e){this.HB(t,e)},e.prototype.tv=function(t){return-1==t?this.QF(this.Ne):this.QF(t)},e.prototype.clear=function(){this.ob.nj(!1),this.Ne=-1},e.prototype.size=function(t){return-1==t?this.SF(this.Ne):this.SF(t)},e.prototype.CN=function(t,e){for(var i=e[7*t],n=e[7*t+1],r=e[7*t+4];-1!=i||-1!=n;){var s=-1!=i?e[7*i+4]:2147483647;if(n=-1!=n?e[7*n+4]:2147483647,r<=Math.min(s,n))break;s<=n?this.kJ(i,e):this.jJ(t,e),i=e[7*t],n=e[7*t+1]}},e.prototype.jy=function(t,e){if(this.Sv)for(var i=e[7*t+4],n=e[7*t+2];-1!=n&&e[7*n+4]>i;)e[7*n]==t?this.kJ(t,e):this.jJ(n,e),n=e[7*t+2]},e.prototype.jJ=function(t,e){var i=e[7*t+1];e[7*i+2]=e[7*t+2],e[7*t+2]=i;var n=e[7*i];e[7*t+1]=n,-1!=n&&(e[7*n+2]=t),e[7*i]=t,-1!=(n=e[7*i+2])&&(e[7*n]==t?e[7*n]=i:e[7*n+1]=i)},e.prototype.kJ=function(t,e){var i=e[7*t+2];e[7*t+2]=e[7*i+2],e[7*i+2]=t;var n=e[7*t+1];e[7*i]=n,-1!=n&&(e[7*n+2]=i),e[7*t+1]=i,-1!=(n=e[7*t+2])&&(e[7*n]===i?e[7*n]=t:e[7*n+1]=t)},e.prototype.Pk=function(t,e){this.ob.T(t,2,e)},e.prototype.MB=function(t,e){this.ob.T(t,0,e)},e.prototype.QB=function(t,e){this.ob.T(t,1,e)},e.prototype.PB=function(t,e){this.ob.T(t,5,e)},e.prototype.ex=function(t,e){this.ob.T(t,6,e)},e.prototype.PJ=function(t,e){this.ob.T(e,0,t)},e.prototype.fX=function(t){this.ob.T(t,4,0)},e.prototype.iX=function(t,e){this.ob.T(e,5,t)},e.prototype.QF=function(t){return-1==t?-1:this.ob.U(t,0)},e.prototype.ml=function(t){return-1==t?-1:this.ob.U(t,1)},e.prototype.$r=function(t){return-1==t?-1:this.ob.U(t,2)},e.prototype.aR=function(t){return-1==t?-1:this.ob.U(t,3)},e.prototype.SF=function(t){return-1==t?0:this.ob.U(t,4)},e.prototype.UF=function(t){return this.ob.U(t,5)},e.prototype.Qw=function(){return this.ob.Nl([-1,-1,-1,void 0,this.il(),-1,-1])},e.prototype.hl=function(t){-1!=t&&this.ob.kd(t)},e.prototype.il=function(){return this.Vm=t.P.WA(this.Vm),1073741823&this.Vm},e.prototype.xD=function(t,e,i){var n=this.ob.o;if(-1==i||-1==n[7*i])return t=this.ob.Nl([-1,-1,-1,t,this.il(),-1,-1]),(n=this.ob.o)[7*i]=t,this.xp(-1,t,i,n),t;for(var r=-1==i?-1:n[7*i];;){var s=-1==e?1:this.$n.compare(this,t,r);if(0>s){if(-1==(s=this.nl(r))){e=r,t=this.ob.Nl([-1,-1,r,t,this.il(),-1,-1]),(n=this.ob.o)[7*r]=t;break}r=s}else{if(1==e&&0==s)return n[7*i+3]=r,-1;if(-1==(s=n[7*r+1])){e=n[7*r+6],t=this.ob.Nl([-1,-1,r,t,this.il(),-1,-1]),(n=this.ob.o)[7*r+1]=t;break}r=s}}return this.jy(t,n),-1===n[7*t+2]&&(n[7*i]=t),this.xp(e,t,i,n),t},e.prototype.xp=function(t,e,i,n){if(-1!=t){var r=n[7*t+5];n[7*t+5]=e}else r=-1==i?-1:n[7*i+2];n[7*e+5]=r,-1!=r&&(n[7*r+6]=e),n[7*e+6]=t,t==(-1==i?-1:n[7*i+1])&&(n[7*i+1]=e),-1==t&&(n[7*i+2]=e),n[7*i+4]=(-1==i?0:n[7*i+4])+1},e.prototype.uB=function(t,e){var i=this.ob.o,n=i[7*t+5];t=i[7*t+6],-1!=n?i[7*n+6]=t:i[7*e+1]=t,-1!=t?i[7*t+5]=n:i[7*e+2]=n,i[7*e+4]=-1===e?-1:i[7*e+4]-1},e.prototype.XX=function(e,i){this.uB(e,i);var n=this.nl(e),r=this.Zp(e),s=this.getParent(e),o=e;if(-1!=n&&-1!=r){this.Vm=t.P.WA(this.Vm);var a=1073741823<this.Vm?this.lb(e):this.xe(e),c=this.getParent(a)==e;this.ob.$B(e,a,0),this.ob.$B(e,a,1),this.ob.$B(e,a,2),-1!=s?this.nl(s)==e?this.MB(s,a):this.QB(s,a):this.PJ(a,i),c?(n==a?(this.MB(a,e),this.Pk(r,a)):r==a&&(this.QB(a,e),this.Pk(n,a)),this.Pk(e,a),s=a):(this.Pk(n,a),this.Pk(r,a),s=this.getParent(e),o=a),n=this.nl(e),r=this.Zp(e),-1!=n&&this.Pk(n,e),-1!=r&&this.Pk(r,e)}n=-1!=n?n:r,-1==s?this.PJ(n,i):this.nl(s)==o?this.MB(s,n):this.QB(s,n),-1!=n&&this.Pk(n,s),this.hl(e)},e.prototype.DP=function(t,e){var i=this.ob.o;i[7*t+4]=2147483647;var n=-1,r=-1,s=-1===e?-1:i[7*e],o=s==t;if(o&&(n=i[7*s],r=i[7*s+1],-1==n&&-1==r))return this.uB(s,e),this.hl(s),void(i[7*e]=-1);this.CN(t,i),-1!=(s=i[7*t+2])&&(i[7*s]==t?i[7*s]=-1:i[7*s+1]=-1),this.uB(t,e),this.hl(t),o&&(i[7*e]=-1==n||-1!=i[7*n+2]?r:n)},e.prototype.HB=function(t,e){this.ob.T(t,3,e)},e}();t.Yj=e}(W||(W={})),function(t){var e=function(){function e(t,e){void 0!==t&&this.L(t,e)}return e.prototype.L=function(t,e){this.pa=t,this.wa=e,this.normalize()},e.prototype.isIntersecting=function(t){return this.pa<=t.pa?this.wa>=t.pa:t.wa>=this.pa},e.prototype.move=function(t){this.B()||(this.pa+=t,this.wa+=t)},e.prototype.normalize=function(){if(!isNaN(this.pa)){if(this.pa>this.wa){var t=this.pa;this.pa=this.wa,this.wa=t}isNaN(this.wa)&&this.Pa()}},e.prototype.Pa=function(){this.wa=this.pa=NaN},e.prototype.B=function(){return isNaN(this.pa)},e.prototype.$b=function(t){"number"==typeof t?this.B()?this.wa=this.pa=t:this.Lk(t):t.B()||(this.B()?(this.pa=t.pa,this.wa=t.wa):(this.pa>t.pa&&(this.pa=t.pa),this.wa<t.wa&&(this.wa=t.wa),this.pa>this.wa&&this.Pa()))},e.prototype.Lk=function(t){t<this.pa?this.pa=t:t>this.wa&&(this.wa=t)},e.prototype.contains=function(t){return"number"==typeof t?t>=this.pa&&t<=this.wa:t.pa>=this.pa&&t.wa<=this.wa},e.prototype.Fa=function(t){this.B()||t.B()?this.Pa():(this.pa<t.pa&&(this.pa=t.pa),this.wa>t.wa&&(this.wa=t.wa),this.pa>this.wa&&this.Pa())},e.prototype.X=function(t){this.B()||(this.pa-=t,this.wa+=t,this.wa<this.pa&&this.Pa())},e.prototype.zr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.pa)+Math.abs(this.wa)+1)},e.prototype.EB=function(t,e){t>e?(this.pa=e,this.wa=t):(this.pa=t,this.wa=e)},e.prototype.Jt=function(e){return t.P.Rk(e,this.pa,this.wa)},e.prototype.S=function(){return this.wa-this.pa},e.prototype.tf=function(){return.5*(this.pa+this.wa)},e.prototype.Nb=function(t){return t==this||t instanceof e&&(!(!this.B()||!t.B())||this.pa==t.pa&&this.wa==t.wa)},e.prototype.dc=function(){return t.P.vj(t.P.vj())},e}();t.Oc=e}(W||(W={})),function(t){var e=new t.Oc,i=new t.Oc,n=function(){this.ne=null,this.pb=-1,this.tb=new t.zb,this.kA=55555555,this.Uv=this.Wv=!1,this.Vf=new t.Oc,this.Vf.EB(0,0)};t.xY=n;var r=function(){function r(e,i,r){this.g=e,this.Hk=NaN,this.FH=this.Mq=0,this.GH=NaN,this.ra=i,this.Pq=10*i,this.HH=this.IH=NaN,this.rg=!1,this.Fm=this.gt=this.Mo=this.Ys=this.Xs=-1,this.bA=r,this.NA=new n,this.QH=new n,t.P.truncate(3*e.gd/2)}return r.prototype.eG=function(t,e,i,n){t.ne=null===n?null:n[i[5*e]],t.Uv=null!=t.ne,t.Uv||(-1!==(n=i[5*e+2])&&this.g.cW(i[5*e],i[5*n],t.tb),t.ne=t.tb,t.Vf.EB(t.tb.sa,t.tb.qa),t.Vf.wa+=this.ra,t.tb.jI(),t.Wv=t.tb.ma==t.tb.oa,t.Wv||(t.kA=(t.tb.qa-t.tb.sa)/(t.tb.ma-t.tb.oa)))},r.prototype.GO=function(t,e){var i=t.Br(e,this.ra,!0);return 0!=i?2==i?this.Ly():this.yi():(t.$p(X),t.Ur(Q),e.$p(tt),e.Ur(et),Z.na(this.Mq,this.Hk),X.rb(tt)&&this.Hk==X.y?0>Q.compare(et)?Z.N(Q):Z.N(et):X.rb(et)&&this.Hk==X.y?0>Q.compare(tt)?Z.N(Q):Z.N(tt):tt.rb(Q)&&this.Hk==tt.y?0>X.compare(et)?Z.N(X):Z.N(et):Q.rb(et)&&this.Hk==Q.y&&(0>X.compare(tt)?Z.N(X):Z.N(tt)),t.Me(Z.y,Z.x)<e.Me(Z.y,Z.x)?-1:1)},r.prototype.EO=function(t,e){if(t.tb.oa==e.tb.oa&&t.tb.sa==e.tb.sa)return t.tb.ma==e.tb.ma&&t.tb.qa==e.tb.qa?this.bA?this.Ly():0:this.HE(t,e);if(t.tb.ma==e.tb.ma&&t.tb.qa==e.tb.qa)return this.GE(t,e);var i=this.GE(t,e);return t=this.HE(t,e),0>i&&0>t?-1:0<i&&0<t?1:this.yi()},r.prototype.AO=function(t,e){if(t.qa>e.qa){if(e.qa>e.sa&&e.ma-e.oa<2*this.ra&&t.wi(e.qa,e.ma,this.ra))return this.yi()}else if((e.ma-e.oa)/(e.qa-e.sa)*(t.qa-t.sa)<this.Pq&&e.wi(t.qa,t.ma,this.ra))return this.yi();return 1},r.prototype.BO=function(t,e){if(t.sa<e.sa){if(e.qa>e.sa&&e.ma-e.oa<2*this.ra&&t.wi(e.qa,e.ma,this.ra))return this.yi()}else if((e.ma-e.oa)/(e.qa-e.sa)*(t.sa-t.qa)<this.Pq&&e.wi(t.sa,t.oa,this.ra))return this.yi();return-1},r.prototype.CO=function(e,i){var n=new t.h;n.vc(i.xc(),i.ac()),n.cr(),n.normalize();var r=new t.h;r.vc(e.ac(),i.ac());var s=new t.h;s.vc(e.xc(),i.ac()),r=r.Rh(n),n=s.Rh(n),s=Math.abs(r);var o=Math.abs(n);if(s<o){if(s<this.Pq&&i.wi(e.sa,e.oa,this.ra))return this.yi()}else if(o<this.Pq&&i.wi(e.qa,e.ma,this.ra))return this.yi();return 0>r&&0>n?-1:0<r&&0<n?1:this.yi()},r.prototype.FE=function(t,e){return t.oa==e.oa&&t.sa==e.sa?this.AO(t,e):t.ma==e.ma&&t.qa==e.qa?this.BO(t,e):this.CO(t,e)},r.prototype.DO=function(t,e){return t.ma==e.ma&&t.qa==e.qa&&t.oa==e.oa&&t.sa==e.sa?this.bA?this.Ly():0:this.yi()},r.prototype.GE=function(t,e){var i=1;if(t.tb.oa<e.tb.oa){i=-1;var n=t;t=e,e=n}t=t.tb,n=e.tb;var r=t.sa-n.sa;e=e.kA*(t.oa-n.oa);var s=this.Pq;return r<e-s?-i:r>e+s?i:n.wi(t.sa,t.oa,this.ra)?this.yi():r<e?-i:i},r.prototype.HE=function(t,e){var i=1;if(e.tb.ma<t.tb.ma){i=-1;var n=t;t=e,e=n}t=t.tb,n=e.tb;var r=t.qa-n.sa;e=e.kA*(t.ma-n.oa);var s=this.Pq;return r<e-s?-i:r>e+s?i:n.wi(t.qa,t.ma,this.ra)?this.yi():r<e?-i:i},r.prototype.Ly=function(){return this.rg=!0,this.Oi=new t.Nd(5,this.Mo,this.gt),-1},r.prototype.yi=function(){return this.rg=!0,this.bA?this.Oi=new t.Nd(4,this.Mo,this.gt):this.gt=this.Mo=this.Ys=this.Xs=-1,-1},r.prototype.FO=function(t,n,r,s){if(this.rg)return-1;var o=this.GH==this.Hk&&this.FH==this.Mq;if(o&&t==this.Xs)var a=this.HH;else a=NaN,this.Xs=-1;return o&&n==this.Ys?o=this.IH:(o=NaN,this.Ys=-1),r.ne.RI(e),s.ne.RI(i),e.wa<i.pa?-1:i.wa<e.pa?1:(this.GH=this.Hk,this.FH=this.Mq,isNaN(a)&&(this.Xs=t,this.HH=a=t=r.ne.Me(this.Hk,this.Mq)),isNaN(o)&&(this.Ys=n,this.IH=o=t=s.ne.Me(this.Hk,this.Mq)),Math.abs(a-o)<=this.ra?this.GO(r.ne,s.ne):a<o?-1:a>o?1:0)},r.prototype.Lr=function(){this.rg=!1},r.prototype.tm=function(){return this.Oi},r.prototype.SJ=function(t,e){this.Hk=t,this.Mq=e,this.gt=this.Mo=this.Ys=this.Xs=-1},r.prototype.compare=function(t,e,i){return this.rg?-1:(t=t.ka(i),this.Fm=i,this.JE(e,e,t,t))},r.prototype.JE=function(t,e,i,n){if(this.Mo==e)var r=this.NA;else this.Mo=e,r=this.NA,this.NA.pb=t,this.eG(r,e,this.g.ud.o,this.g.Te);if(null==s){this.gt=n;var s=this.QH;this.QH.pb=i,this.eG(s,n,this.g.ud.o,this.g.Te)}return r.Uv||s.Uv?this.FO(e,n,r,s):r.Vf.wa<s.Vf.pa?-1:s.Vf.wa<r.Vf.pa?1:(t=r.Wv?1:0,0==(t|=s.Wv?2:0)?this.EO(r,s):1==t?this.FE(r.tb,s.tb):2==t?-1*this.FE(s.tb,r.tb):this.DO(r.tb,s.tb))},r}();t.MC=r}(W||(W={})),function(t){var e=function(){function e(e,i){this.g=e,this.ra=i,this.rg=!1,this.Mo=-1,this.Vf=new t.Oc,this.Iq=new t.h,this.Iq.Sc(),this.ie=new t.zb,this.Fm=-1,this.vA=17976931348623157e292}return e.prototype.Lr=function(){this.rg=!1,this.vA=17976931348623157e292},e.prototype.Eh=function(t){this.Iq.N(t)},e.prototype.compare=function(t,e){return this.KE(e,t.ka(e))},e.prototype.KE=function(e,i){var n=null!=this.g.cc(i);if(n||(this.g.fd(i,this.ie),this.Vf.EB(this.ie.sa,this.ie.qa)),n)throw t.i.ga("not implemented");if(this.Iq.x+this.ra<this.Vf.pa)return-1;if(this.Iq.x-this.ra>this.Vf.wa)return 1;if(this.ie.oa==this.ie.ma)return this.Fm=e,this.rg=!0,0;this.ie.jI(),n=this.ie.ac(),(i=new t.h).vc(this.ie.xc(),n),i.cr();var r=new t.h;return r.vc(this.Iq,n),n=i.Rh(r),(n/=i.length())<10*-this.ra?-1:n>10*this.ra?1:this.ie.rs(this.Iq,this.ra)&&((i=Math.abs(n))<this.vA&&(this.Fm=e,this.vA=i),this.rg=!0,i<.25*this.ra)?0:0>n?-1:1},e}();t.TL=e}(W||(W={})),function(t){function e(t,e,i,n){i=new Float64Array(t.subarray(i,n)),t.set(i,e)}var i=function(){function i(t){this.Pb=this.pk=!1,this.o=null;var e=t;2>e&&(e=2),this.o=new Float64Array(e),this.size=t}return i.prototype.rotate=function(e,i,n){if(this.Pb)throw t.i.ga("invalid_call");if(i<e||i>n||e>n)throw t.i.O();e!=i&&n!=i&&(this.oi(e,i-e,1),this.oi(i,n-i,1),this.oi(e,n-e,1))},i.rf=function(t,e){var n=new i(t),r=n.o;if(2>t&&(t=2),0!==e)for(var s=0;s<t;s++)r[s]=e;return n},i.Cn=function(t){var e=new i(0);return e.o=new Float64Array(t.o),e.size=t.size,e},i.Mr=function(t,e){var n=new i(0);return n.size=t.size,n.size>e&&(n.size=e),2>(e=n.size)&&(e=2),n.o=new Float64Array(e),n.o.set(t.o.length<=e?t.o:t.o.subarray(0,e),0),n},i.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Float64Array(t):t<=this.o.length||(0<this.o.length?((t=new Float64Array(t)).set(this.o),this.o=t):this.o=new Float64Array(t)))},i.prototype.read=function(t){return this.o[t]},i.prototype.uc=function(t,e){e.x=this.o[t],e.y=this.o[t+1]},i.prototype.get=function(t){return this.o[t]},i.prototype.write=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.set=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.Ut=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i.x,this.o[e+1]=i.y},i.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},i.prototype.AB=function(t){return i.Mr(this,t)},i.prototype.Bg=function(t){return this.read(t)},i.prototype.resize=function(e,i){if(void 0===i&&(i=0),this.pk)throw t.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var n=new Float64Array(this.o,0,e);this.o=n}}else{e>this.o.length&&(n=t.P.truncate(64>e?Math.max(2*e,4):5*e/4),(n=new Float64Array(n)).set(this.o),this.o=n),n=this.o;for(var r=this.size;r<e;r++)n[r]=i}this.size=e},i.prototype.Ch=function(e){if((null==this.o||e>this.o.length)&&this.resize(e),this.pk)throw t.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},i.prototype.rr=function(t,e){this.write(t,e)},i.prototype.Bn=function(e,i,n){for(var r=this.size;i<r&&i<n;i++)e=t.P.vj(this.read(i));return e},i.prototype.Nb=function(t,e,n){if(null==t||!(t instanceof i))return!1;var r=this.size,s=t.size;if(n>r||n>s&&r!=s)return!1;for(n>r&&(n=r);e<n;e++)if(this.read(e)!=t.read(e))return!1;return!0},i.prototype.addRange=function(e,i,n,r,s){if(this.Pb)throw t.i.Hb();if(!r&&(1>s||0!=n%s))throw t.i.O();var o=this.size;if(this.resize(o+n),r)this.o.set(e.o.subarray(i,i+n),o);else{r=n;for(var a=0;a<n;a+=s){r-=s;for(var c=0;c<s;c++)this.o[o+a+c]=e.o[i+r+c]}}},i.prototype.Nn=function(i,n,r,s,o,a,c){if(this.Pb)throw t.i.Hb();if(!o&&(1>a||0!=s%a))throw t.i.O();var l=this.size-c;if(l<s&&this.resize(this.size+s-l),e(this.o,i+s,i,i+(c-i)),this.o==n.o&&i<r&&(r+=s),o)this.o.set(n.o.subarray(r,r+s),i);else for(o=s,c=0;c<s;c+=a)for(o-=a,l=0;l<a;l++)this.o[i+c+l]=n.o[r+o+l]},i.prototype.Dz=function(i,n,r,s,o,a){if(this.Pb)throw t.i.Hb();if(0>a&&(a=this.size),this.size+2*s>this.o.length?this.resize(this.size+2*s):this.size+=2*s,e(this.o,i+2*s,i,i+(a-i)),o)for(o=0;o<s;o++)a=n[r++],this.o[i++]=a.x,this.o[i++]=a.y;else{o=0;for(var c=s-1;o<s;++o)a=n[r+c],this.o[i++]=a.x,this.o[i++]=a.y,c--}},i.prototype.Mn=function(i,n,r,s){if(this.Pb)throw t.i.Hb();for(s-=i,e(this.o,i+s,i,i+s),s=0;s<r;s++)this.o[i+s]=n},i.prototype.wj=function(i,n,r){if(this.Pb)throw t.i.Hb();e(this.o,i+2,i,i+(r-i)),this.o[i]=n.x,this.o[i+1]=n.y},i.prototype.Vt=function(e,i,n,r,s,o){if(0>e||0>i||0>r)throw t.i.O();if(!s&&(0>=o||0!=i%o))throw t.i.O();if(n.size<r+i)throw t.i.O();if(0!=i)if(this.size<i+e&&this.resize(i+e),n==this)this.Cr(e,i,r,s,o);else if(s)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r++;else if(r=r+i-o,1==o)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r--;else for(s=0,i=t.P.truncate(i/o);s<i;s++){for(var a=0;a<o;a++)this.o[e+a]=n.o[r+a];e+=o,r-=o}},i.prototype.Fn=function(i,n,r){if(this.Pb)throw t.i.Hb();if(i+n>this.size)throw t.i.Hb();0<r-(i+n)&&e(this.o,i,i+n,i+(r-(i+n))+n),this.size-=n},i.prototype.oi=function(e,i,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=i%n)throw t.i.Hb();for(var r=i>>1,s=0;s<r;s+=n){i-=n;for(var o=0;o<n;o++){var a=this.o[e+s+o];this.o[e+s+o]=this.o[e+i+o],this.o[e+i+o]=a}}},i.prototype.Xj=function(e,i,n){if(0>i||0>n||0>i||n+i>this.size)throw t.i.O();for(var r=i;r<i+n;r++)this.o[r]=e},i.prototype.Cr=function(e,i,n,r,s){if(!(r&&e==n||(this.o.set(this.o.subarray(n,n+i),e),r)))for(n=e,e=e+i-s,r=0,i=t.P.truncate(i/2);r<i;r++){for(var o=0;o<s;o++){var a=this.o[n+o];this.o[n+o]=this.o[e+o],this.o[e+o]=a}n+=s,e-=s}},i.prototype.oC=function(e,i,n,r,s){if(0>e||0>i||0>r)throw t.i.O();if(0!=i)for(this.size<(i<<1)+e&&this.resize((i<<1)+e),s||(e+=i-1<<1),s=s?2:-2,i+=r;r<i;r++)this.o[e]=n[r].x,this.o[e+1]=n[r].y,e+=s},i.prototype.nC=function(e,i,n){if(0>e||0>i)throw t.i.O();if(0!=i){this.size<(i<<1)+e&&this.resize((i<<1)+e),i+=0;for(var r=0;r<i;r++)this.o[e]=n[r][0],this.o[e+1]=n[r][1],e+=2}},i.prototype.Ww=function(e,i,n,r,s){if(0>e||0>i||0>r||this.size<i+e)throw t.i.O();if(s)for(s=0;s<i;s++)n[r+s]=this.o[e+s];else for(r=r+i-1;e<i;e++)n[r]=this.o[e],r--},i.prototype.oB=function(e,i,n){if(0>e||0>i||this.size<(i>>1)+e)throw t.i.O();if(0!=i){i=0+i;for(var r=0;r<i;r++)n[r][0]=this.o[e],n[r][1]=this.o[e+1],e+=2}},i.prototype.clear=function(t){t?this.resize(0):this.Ch(0)},i.prototype.hx=function(){this.pk=this.Pb=!0},i.prototype.Wd=function(t,e,i){Array.prototype.sort.call(this.o.subarray(t,e),i)},i.prototype.Vp=function(){return 1},i}();t.ce=i}(W||(W={})),function(t){function e(t,e,i,n){i=new Int32Array(t.subarray(i,n)),t.set(i,e)}t.fY=function(){this.random=1973};var i=function(){function i(t){this.Pb=this.pk=!1,this.o=null;var e=t;2>e&&(e=2),this.o=new Int32Array(e),this.size=t}return i.prototype.rotate=function(e,i,n){if(this.Pb)throw t.i.ga("invalid_call");if(i<e||i>n||e>n)throw t.i.O();e!=i&&n!=i&&(this.oi(e,i-e,1),this.oi(i,n-i,1),this.oi(e,n-e,1))},i.rf=function(t,e){var n=new i(t),r=n.o;if(2>t&&(t=2),0!==e)for(var s=0;s<t;s++)r[s]=e;return n},i.Cn=function(t){var e=new i(0);return e.o=new Int32Array(t.o),e.size=t.size,e},i.Mr=function(t,e){var n=new i(0);return n.size=t.size,n.size>e&&(n.size=e),2>(e=n.size)&&(e=2),n.o=new Int32Array(e),n.o.set(t.o.length<=e?t.o:t.o.subarray(0,e),0),n},i.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int32Array(t):t<=this.o.length||(0<this.o.length?((t=new Int32Array(t)).set(this.o),this.o=t):this.o=new Int32Array(t)))},i.prototype.read=function(t){return this.o[t]},i.prototype.uc=function(t,e){e.x=this.o[t],e.y=this.o[t+1]},i.prototype.get=function(t){return this.o[t]},i.prototype.write=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.set=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.Ut=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i.x,this.o[e+1]=i.y},i.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},i.prototype.AB=function(t){return i.Mr(this,t)},i.prototype.Bg=function(t){return this.read(t)},i.prototype.resize=function(e,i){if(void 0===i&&(i=0),this.pk)throw t.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var n=new Int32Array(this.o,0,e);this.o=n}}else{e>this.o.length&&(n=t.P.truncate(64>e?Math.max(2*e,4):5*e/4),(n=new Int32Array(n)).set(this.o),this.o=n),n=this.o;for(var r=this.size;r<e;r++)n[r]=i}this.size=e},i.prototype.Ch=function(e){if((null==this.o||e>this.o.length)&&this.resize(e),this.pk)throw t.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},i.prototype.rr=function(t,e){this.write(t,e)},i.prototype.Bn=function(e,i,n){for(var r=this.size;i<r&&i<n;i++)e=t.P.Uh(this.read(i),e);return e},i.prototype.Nb=function(t,e,n){if(null==t||!(t instanceof i))return!1;var r=this.size,s=t.size;if(n>r||n>s&&r!=s)return!1;for(n>r&&(n=r);e<n;e++)if(this.read(e)!=t.read(e))return!1;return!0},i.prototype.addRange=function(e,i,n,r,s){if(this.Pb)throw t.i.Hb();if(!r&&(1>s||0!=n%s))throw t.i.O();var o=this.size;if(this.resize(o+n),r)this.o.set(e.o.subarray(i,i+n),o);else{r=n;for(var a=0;a<n;a+=s){r-=s;for(var c=0;c<s;c++)this.o[o+a+c]=e.o[i+r+c]}}},i.prototype.Nn=function(i,n,r,s,o,a,c){if(this.Pb)throw t.i.Hb();if(!o&&(1>a||0!=s%a))throw t.i.O();if(e(this.o,i+s,i,i+(c-i)),this.o==n.o&&i<r&&(r+=s),o)this.o.set(n.o.subarray(r,r+s),i);else for(o=s,c=0;c<s;c+=a){o-=a;for(var l=0;l<a;l++)this.o[i+c+l]=n.o[r+o+l]}},i.prototype.Dz=function(i,n,r,s,o,a){if(this.Pb)throw t.i.Hb();if(0>a&&(a=this.size),this.size+2*s>this.o.length?this.resize(this.size+2*s):this.size+=2*s,e(this.o,i+2*s,i,i+(a-i)),o)for(o=0;o<s;o++)a=n[r++],this.o[i++]=a.x,this.o[i++]=a.y;else{o=0;for(var c=s-1;o<s;++o)a=n[r+c],this.o[i++]=a.x,this.o[i++]=a.y,c--}},i.prototype.Mn=function(i,n,r,s){if(this.Pb)throw t.i.Hb();for(s-=i,e(this.o,i+s,i,i+s),s=0;s<r;s++)this.o[i+s]=n},i.prototype.wj=function(i,n,r){if(this.Pb)throw t.i.Hb();e(this.o,i+2,i,i+(r-i)),this.o[i]=n.x,this.o[i+1]=n.y},i.prototype.Vt=function(e,i,n,r,s,o){if(0>e||0>i||0>r)throw t.i.O();if(!s&&(0>=o||0!=i%o))throw t.i.O();if(n.size<r+i)throw t.i.O();if(0!=i)if(this.size<i+e&&this.resize(i+e),n==this)this.Cr(e,i,r,s,o);else if(s)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r++;else if(r=r+i-o,1==o)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r--;else for(s=0,i=t.P.truncate(i/o);s<i;s++){for(var a=0;a<o;a++)this.o[e+a]=n.o[r+a];e+=o,r-=o}},i.prototype.Fn=function(i,n,r){if(this.Pb)throw t.i.Hb();if(i+n>this.size)throw t.i.Hb();0<r-(i+n)&&e(this.o,i,i+n,i+(r-(i+n))+n),this.size-=n},i.prototype.oi=function(e,i,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=i%n)throw t.i.Hb();for(var r=i>>1,s=0;s<r;s+=n){i-=n;for(var o=0;o<n;o++){var a=this.o[e+s+o];this.o[e+s+o]=this.o[e+i+o],this.o[e+i+o]=a}}},i.prototype.Xj=function(e,i,n){if(0>i||0>n||0>i||n+i>this.size)throw t.i.O();for(var r=i;r<i+n;r++)this.o[r]=e},i.prototype.Cr=function(e,i,n,r,s){if(!(r&&e==n||(this.o.set(this.o.subarray(n,n+i),e),r)))for(n=e,e=e+i-s,r=0,i=t.P.truncate(i/2);r<i;r++){for(var o=0;o<s;o++){var a=this.o[n+o];this.o[n+o]=this.o[e+o],this.o[e+o]=a}n+=s,e-=s}},i.prototype.oC=function(e,i,n,r,s){if(0>e||0>i||0>r)throw t.i.O();if(0!=i)for(this.size<(i<<1)+e&&this.resize((i<<1)+e),s||(e+=i-1<<1),s=s?2:-2,i+=r;r<i;r++)this.o[e]=n[r].x,this.o[e+1]=n[r].y,e+=s},i.prototype.Ww=function(e,i,n,r,s){if(0>e||0>i||0>r||this.size<i+e)throw t.i.O();if(s)for(s=0;s<i;s++)n[r+s]=this.o[e+s];else for(r=r+i-1;e<i;e++)n[r]=this.o[e],r--},i.prototype.clear=function(t){t?this.resize(0):this.Ch(0)},i.prototype.hx=function(){this.pk=this.Pb=!0},i.prototype.Wd=function(t,e,n){10>e-t?i.jG(this.o,t,e,n):i.kB(this.o,t,e-1,n)},i.prototype.Vp=function(){return 2},i.prototype.Gc=function(){return this.o[this.size-1]},i.prototype.Jf=function(){this.resize(this.size-1)},i.prototype.PW=function(t){this.o[this.size-1]=t},i.prototype.IV=function(t){t<this.size-1&&(this.o[t]=this.o[this.size-1]),this.resize(this.size-1)},i.prototype.dF=function(t){for(var e=0,i=this.size;e<i;e++)if(this.o[e]==t)return e;return-1},i.prototype.$F=function(t){return 0<=this.dF(t)},i.jG=function(t,e,i,n){for(var r=e;r<i;r++){for(var s=t[r],o=r-1;o>=e&&0<n(t[o],s);)t[o+1]=t[o],o--;t[o+1]=s}},i.rx=function(t,e,i){var n=t[i];t[i]=t[e],t[e]=n},i.kB=function(t,e,n,r){if(!(e>=n))for(;;){if(9>n-e){i.jG(t,e,n+1,r);break}var s=t[e];i.rx(t,e,n);for(var o=e,a=e;a<n;a++)0>=r(t[a],s)&&(i.rx(t,o,a),o+=1);i.rx(t,o,n),o-e<n-o?(i.kB(t,e,o-1,r),e=o+1):(i.kB(t,o+1,n,r),n=o-1)}},i}();t.ja=i}(W||(W={})),function(t){function e(t,e,i,n){i=new Int8Array(t.subarray(i,n)),t.set(i,e)}var i=function(){function i(t){this.o=null;var e=t;2>e&&(e=2),this.o=new Int8Array(e),this.size=t}return i.prototype.rotate=function(e,i,n){if(this.Pb)throw t.i.ga("invalid_call");if(i<e||i>n||e>n)throw t.i.O();e!=i&&n!=i&&(this.oi(e,i-e,1),this.oi(i,n-i,1),this.oi(e,n-e,1))},i.rf=function(t,e){var n=new i(t),r=n.o;if(2>t&&(t=2),0!==e)for(var s=0;s<t;s++)r[s]=e;return n},i.Cn=function(t){var e=new i(0);return e.o=new Int8Array(t.o),e.size=t.size,e},i.Mr=function(t,e){var n=new i(0);return n.size=t.size,n.size>e&&(n.size=e),2>(e=n.size)&&(e=2),n.o=new Int8Array(e),n.o.set(t.o.length<=e?t.o:t.o.subarray(0,e),0),n},i.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int8Array(t):t<=this.o.length||(0<this.o.length?((t=new Int8Array(t)).set(this.o),this.o=t):this.o=new Int8Array(t)))},i.prototype.read=function(t){return this.o[t]},i.prototype.uc=function(t,e){e.x=this.o[t],e.y=this.o[t+1]},i.prototype.get=function(t){return this.o[t]},i.prototype.write=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.set=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.Ut=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i.x,this.o[e+1]=i.y},i.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},i.prototype.AB=function(t){return i.Mr(this,t)},i.prototype.Bg=function(t){return this.read(t)},i.prototype.resize=function(e,i){if(void 0===i&&(i=0),this.pk)throw t.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var n=new Int8Array(this.o,0,e);this.o=n}}else{e>this.o.length&&(n=t.P.truncate(64>e?Math.max(2*e,4):5*e/4),(n=new Int8Array(n)).set(this.o),this.o=n),n=this.o;for(var r=this.size;r<e;r++)n[r]=i}this.size=e},i.prototype.Ch=function(e){if((null==this.o||e>this.o.length)&&this.resize(e),this.pk)throw t.i.ga("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},i.prototype.rr=function(t,e){this.write(t,e)},i.prototype.Bn=function(e,i,n){for(var r=this.size;i<r&&i<n;i++)e=t.P.Uh(this.read(i),e);return e},i.prototype.Nb=function(t,e,n){if(null==t||!(t instanceof i))return!1;var r=this.size,s=t.size;if(n>r||n>s&&r!=s)return!1;for(n>r&&(n=r);e<n;e++)if(this.read(e)!=t.read(e))return!1;return!0},i.prototype.addRange=function(e,i,n,r,s){if(this.Pb)throw t.i.Hb();if(!r&&(1>s||0!=n%s))throw t.i.O();var o=this.size;if(this.resize(o+n),r)this.o.set(e.o.subarray(i,i+n),o);else{r=n;for(var a=0;a<n;a+=s){r-=s;for(var c=0;c<s;c++)this.o[o+a+c]=e.o[i+r+c]}}},i.prototype.Nn=function(i,n,r,s,o,a,c){if(this.Pb)throw t.i.Hb();if(!o&&(1>a||0!=s%a))throw t.i.O();if(e(this.o,i+s,i,i+(c-i)),this.o==n.o&&i<r&&(r+=s),o)this.o.set(n.o.subarray(r,r+s),i);else for(o=s,c=0;c<s;c+=a){o-=a;for(var l=0;l<a;l++)this.o[i+c+l]=n.o[r+o+l]}},i.prototype.Mn=function(i,n,r,s){if(this.Pb)throw t.i.Hb();for(s-=i,e(this.o,i+s,i,i+s),s=0;s<r;s++)this.o[i+s]=n},i.prototype.Dz=function(i,n,r,s,o,a){if(this.Pb)throw t.i.Hb();if(0>a&&(a=this.size),this.size+2*s>this.o.length?this.resize(this.size+2*s):this.size+=2*s,e(this.o,i+2*s,i,i+(a-i)),o)for(o=0;o<s;o++)a=n[r++],this.o[i++]=a.x,this.o[i++]=a.y;else{o=0;for(var c=s-1;o<s;++o)a=n[r+c],this.o[i++]=a.x,this.o[i++]=a.y,c--}},i.prototype.wj=function(i,n,r){if(this.Pb)throw t.i.Hb();e(this.o,i+2,i,i+(r-i)),this.o[i]=n.x,this.o[i+1]=n.y},i.prototype.Vt=function(e,i,n,r,s,o){if(0>e||0>i||0>r)throw t.i.O();if(!s&&(0>=o||0!=i%o))throw t.i.O();if(n.size<r+i)throw t.i.O();if(0!=i)if(this.size<i+e&&this.resize(i+e),n==this)this.Cr(e,i,r,s,o);else if(s)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r++;else if(r=r+i-o,1==o)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r--;else for(s=0,i=t.P.truncate(i/o);s<i;s++){for(var a=0;a<o;a++)this.o[e+a]=n.o[r+a];e+=o,r-=o}},i.prototype.Fn=function(i,n,r){if(this.Pb)throw t.i.Hb();if(i+n>this.size)throw t.i.Hb();0<r-(i+n)&&e(this.o,i,i+n,i+(r-(i+n))+n),this.size-=n},i.prototype.oi=function(e,i,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=i%n)throw t.i.Hb();for(var r=i>>1,s=0;s<r;s+=n){i-=n;for(var o=0;o<n;o++){var a=this.o[e+s+o];this.o[e+s+o]=this.o[e+i+o],this.o[e+i+o]=a}}},i.prototype.Xj=function(e,i,n){if(0>i||0>n||0>i||n+i>this.size)throw t.i.O();for(var r=i;r<i+n;r++)this.o[r]=e},i.prototype.Cr=function(e,i,n,r,s){if(!(r&&e==n||(this.o.set(this.o.subarray(n,n+i),e),r)))for(n=e,e=e+i-s,r=0,i=t.P.truncate(i/2);r<i;r++){for(var o=0;o<s;o++){var a=this.o[n+o];this.o[n+o]=this.o[e+o],this.o[e+o]=a}n+=s,e-=s}},i.prototype.oC=function(e,i,n,r,s){if(0>e||0>i||0>r)throw t.i.O();if(0!=i)for(this.size<(i<<1)+e&&this.resize((i<<1)+e),s||(e+=i-1<<1),s=s?2:-2,i+=r;r<i;r++)this.o[e]=n[r].x,this.o[e+1]=n[r].y,e+=s},i.prototype.Ww=function(e,i,n,r,s){if(0>e||0>i||0>r||this.size<i+e)throw t.i.O();if(s)for(s=0;s<i;s++)n[r+s]=this.o[e+s];else for(r=r+i-1;e<i;e++)n[r]=this.o[e],r--},i.prototype.clear=function(t){t?this.resize(0):this.Ch(0)},i.prototype.hx=function(){this.pk=this.Pb=!0},i.prototype.Wd=function(t,e,i){e=this.o.subarray(t,e),Array.prototype.sort.call(e,i),this.o.set(e,t)},i.prototype.rJ=function(e,i){if(this.Pb)throw t.i.ga("invalid call. Attribute Stream is read only.");this.o[e]|=i},i.prototype.CE=function(e,i){if(this.Pb)throw t.i.ga("invalid call. Attribute Stream is read only.");this.o[e]&=~i},i.prototype.Vp=function(){return 1},i}();t.rn=i}(W||(W={})),function(t){t.Zc=function(){function e(){}return e.Nr=function(e,i){return t.rn.rf(e,i)},e.En=function(e,i){return t.ce.rf(e,i)},e.hP=function(e,i,n){switch(e){case 1:e=t.ce.rf(i,n);break;case 2:e=t.ja.rf(i,n);break;case 4:e=t.rn.rf(i,n);break;default:throw t.i.Ra()}return e},e.QE=function(i,n){return e.hP(t.ua.Vp(i),n*t.ua.Wa(i),t.ua.te(i))},e.Ph=function(e,i){return t.ja.rf(e,i)},e.iI=function(t){var e,i=[];for(e=0;e<t;e++)i.push(null);return i},e}()}(W||(W={})),function(t){t.ha=function(t){void 0===t&&(t=0),this.u=t}}(W||(W={})),function(t){t.FL=function(){function e(){}return e.bind=function(e){t.Tc=e.PeDefs,t.qf=e.PeFactory,t.FC=e.PeVertcs,t.fj=e.PeCSTransformations,t.EC=e.PeGTTransformations,t.DL=e.PeGeogtran,t.CL=e.PeFactoryCodechange,t.DC=e.PeGCSExtent,t.Eg=e.PePCSInfo,t.EL=e.PeHorizon,t.BL=e.PeCoordsys,t.mp=e.PeGTlistExtended,t.mp.PE_GTLIST_OPTS_USE_DEFAULT=128,t.qf.initialize(null),t.Kx=e.PeGTlistExtendedEntry,t.qf.fromString(t.Tc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},e}(),t.qf=null,t.FC=null,t.BL=null,t.EL=null,t.Eg=null,t.mp=null,t.Kx=null,t.DC=null,t.CL=null,t.DL=null,t.Tc=null,t.EC=null,t.fj=null}(W||(W={})),function(t){var e=function(){function t(){}return t.Mb=function(e,i){return 0<=i?t.R(e):-t.R(e)},t.R=function(t){return 0>t?-t:t},t.ui=function(t){return 3552713678800501e-30>t},t.CC=function(e,i,n){return t.R(e-i)<=n*(1+(t.R(e)+t.R(i))/2)},t.$=function(e,i){return t.CC(e,i,3552713678800501e-30)},t.xL=function(e){return 3552713678800501e-30>=t.R(e)},t.Dd=function(e){return t.xL(e)},t}();t.s=e,t.F=function(){function i(){}return i.hp=function(t,i){var n=0;return 0!=(t=e.R(t))+(i=e.R(i))&&(t>i?(n=i/t,n=t*Math.sqrt(1+n*n)):(n=t/i,n=i*Math.sqrt(1+n*n))),n},i.Yq=function(t,n,r,s,o){for(var a=[0,0,0],c=[0,0,0],l=0;2>=l;l++)n[l]-=t[l],r[l]-=n[l];r=a[1]*c[2]-a[2]*c[1],n=a[2]*c[0]-a[0]*c[2],a=a[0]*c[1]-a[1]*c[0],t=-1*(r*t[0]+n*t[1]+a*t[2]),s[0]=r,s[1]=n,s[2]=a,s[3]=t,c=i.qn(s),s[0]/=c,s[1]/=c,s[2]/=c,s[3]/=c,0!=o&&(c=e.Dd(a)?e.Dd(t)?e.Mb(1,n):-e.Mb(1,t):e.Mb(1,a),c*=e.Mb(1,o),s[0]*=c,s[1]*=c,s[2]*=c,s[3]*=c)},i.xx=function(t,e,i){i[0]=t[1]*e[2]-e[1]*t[2],i[1]=t[2]*e[0]-e[2]*t[0],i[2]=t[0]*e[1]-e[0]*t[1]},i.Tt=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.qn=function(t){return i.hp(i.hp(t[0],t[1]),t[2])},i.dl=function(t,e,n,r,s,o,a,c){t=i.n(t,e,n);var l=Math.cos(n);o.u=(t+s)*l*Math.cos(r),a.u=(t+s)*l*Math.sin(r),c.u=(t*(1-e)+s)*Math.sin(n)},i.bO=function(t,n,r,s,o,a,c){var l=i.hp(n,r),u=1*Math.sqrt(1-t),h=u/1;if(e.$(l,0))a.u=0,o.u=e.Mb(1.570796326794897,s),c.u=e.R(s)-u;else{a.u=Math.atan2(r,n),r=Math.atan2(1*s,u*l),a=Math.cos(r);var d=Math.sin(r);n=u*t/(1-t),t*=1,r=Math.atan2(s+n*d*d*d,l-t*a*a*a),3.141592653589793<e.R(r)&&(r=e.Mb(3.141592653589793,r)-r),r=Math.atan(h*Math.tan(r)),d=Math.sin(r),a=Math.cos(r),o.u=Math.atan2(s+n*d*d*d,l-t*a*a*a),1.570796326794897<e.R(o.u)&&(o.u=e.Mb(3.141592653589793,o.u)-o.u),r=Math.atan(h*Math.tan(o.u)),d=Math.sin(r),a=Math.cos(r),c.u=(s-u*d)*Math.sin(o.u)+(l-1*a)*Math.cos(o.u)}},i.n=function(t,e,i){return i=Math.sin(i),t/Math.sqrt(1-e*i*i)},i.ot=function(t,e){return Math.atan2(Math.sin(e)*(1-t),Math.cos(e))},i.Rj=function(t,e){return Math.atan2(Math.sin(e),Math.cos(e)*(1-t))},i.Tq=function(t,n){if(e.ui(t)||0==n||e.$(e.R(n),1.570796326794897))return n;if(.006884661117170036>t){var r=Math.sqrt(1-t),s=(1-r)/(1+r),o=s*s,a=s*o,c=s*a,l=s*c,u=s*l,h=s*u,d=1.572916666666667*a-3.2578125*l+4.295068359375*h;t=2.142578125*c-6.071484375*u,r=3.129296875*l-11.249837239583334*h;var p=4.775276692708333*u,f=7.958636765252976*h,b=Math.cos(2*n);return n+Math.sin(2*n)*(1.5*s-.84375*a+.525390625*l-.2688395182291667*h-d+r-f+b*(2*(1.3125*o-1.71875*c+1.650146484375*u)-4*t+6*p+b*(4*d-12*r+24*f+b*(8*t-32*p+b*(16*r-80*f+b*(32*p+64*b*f))))))}for(r=1-t,s=t/2,a=(o=e.R(n))*i.$u(t)/(1.570796326794897*r),c=9999,u=o,o=0;1e-16<c&&50>o;o++)h=i.w(t,u),l=u-(d=(l=(i.cG(u,t)-s*Math.sin(2*u)/h)/r-a)/(h=1/(h*h*h))),c=e.R(d),u=l;return 0<=n?u:-u},i.gW=function(t,n){return e.ui(n)?t:t*i.$u(n)/1.570796326794897},i.ca=function(t){return 0>(t=i.hF(t,6.283185307179586))?t+6.283185307179586:3.141592653589793>e.R(t)||e.$(e.R(t),3.141592653589793)?t:t-6.283185307179586},i.hF=function(t,e){return t-Math.floor(t/e)*e},i.Bh=function(t,e){if(.006884661117170036>e){var n=(e=(1-(e=Math.sqrt(1-e)))/(1+e))*e,r=n*n;return t/(1+e)*(1+.25*n+.015625*r+.00390625*n*r)*1.570796326794897}return t*i.$u(e)},i.Xq=function(t,n){var r=e.Mb(1,Math.sin(n));return n=1.570796326794897>=(n=e.R(i.hF(n,3.141592653589793)))?n:3.141592653589793-n,(e.$(n,1.570796326794897)?n:Math.atan(Math.sqrt(1-t)*Math.tan(n)))*r},i.q=function(t,e,n){if(.006884661117170036>e){var r=(e=(1-(e=Math.sqrt(1-e)))/(1+e))*e,s=e*r,o=e*s,a=e*o,c=e*a,l=e*c,u=-.7291666666666666*s+.2278645833333333*a+.03987630208333334*l,h=.615234375*o-.21533203125*c,d=-.54140625*a+.20302734375*l,p=.48876953125*c,f=-.4488699776785715*l,b=Math.cos(2*n);return t/(1+e)*((1+.25*r+.015625*o+.00390625*c)*n+Math.sin(2*n)*(-1.5*e+.1875*s+.0234375*a+.00732421875*l-u+d-f+b*(2*(.9375*r-.234375*o-.03662109375*c)-4*h+6*p+b*(4*u-12*d+24*f+b*(8*h-32*p+b*(16*d-80*f+b*(32*p+64*b*f)))))))}return t*(i.cG(n,e)-.5*e*Math.sin(2*n)/i.w(e,n))},i.w=function(t,e){return e=Math.sin(e),Math.sqrt(1-t*e*e)},i.$u=function(t){return e.CC(t,1,2220446049250313e-31)?1:1>t?i.Yw(0,1-t)-t/3*i.Vw(0,1-t):NaN},i.cG=function(n,r){var s=e.Mb(1,n);n=e.R(n);var o=Math.floor(n/1.570796326794897);if(1<r)r=0==n?0:NaN;else if(e.Dd(o))r=(n=i.sin(n))*i.Yw(1-n*n,1-r*n*n)-r/3*n*n*n*i.Vw(1-n*n,1-r*n*n);else{var a=t.P.truncate(o%2),c=i.$u(r);r=0<a?c*(o+1)-(r=(n=Math.sin(1.570796326794897*(o+1)-n))*i.Yw(1-n*n,1-r*n*n)-r/3*n*n*n*i.Vw(1-n*n,1-r*n*n)):c*o+(r=(n=Math.sin(n-1.570796326794897*o))*i.Yw(1-n*n,1-r*n*n)-r/3*n*n*n*i.Vw(1-n*n,1-r*n*n))}return r*s},i.sin=function(t){t=i.ca(t);var n=e.Mb(1,t);return t=e.R(t),e.$(t,3.141592653589793)?0:e.$(t,1.570796326794897)?1*n:Math.sin(t)*n},i.Vw=function(t,i){var n,r,s,o,a=t,c=i,l=1;for(i=0,t=1;r=((n=.2*(a+c+3*l))-a)/n,s=(n-c)/n,o=(n-l)/n,!(1e-4>e.R(r)&&1e-4>e.R(s)&&1e-4>e.R(o));)o=Math.sqrt(c),i+=t/((n=Math.sqrt(l))*(l+(o=Math.sqrt(a)*(o+n)+o*n))),t*=.25,a=.25*(a+o),c=.25*(c+o),l=.25*(l+o);return c=(a=r*s)-(l=o*o),3*i+t*(1+(l=a-6*l)*(.10227272727272728*l-.2142857142857143-.1730769230769231*o*(r=l+c+c))+o*(.1666666666666667*r+o*(-.4090909090909091*c+.1153846153846154*o*a)))/(n*Math.sqrt(n))},i.Yw=function(t,i){for(var n,r,s,o,a=1;r=2-((n=(t+i+a)/3)+t)/n,s=2-(n+i)/n,o=2-(n+a)/n,!(1e-4>e.R(r)&&1e-4>e.R(s)&&1e-4>e.R(o));a=.25*(a+n))n=Math.sqrt(i),r=Math.sqrt(a),t=.25*(t+(n=Math.sqrt(t)*(n+r)+n*r)),i=.25*(i+n);return(1+(.04166666666666666*(t=r*s-o*o)-.1-.06818181818181818*(i=r*s*o))*t+.07142857142857142*i)/Math.sqrt(n)},i.Rw=function(t,i){if(e.ui(t)||0==i||e.$(e.R(i),1.570796326794897))return i;if(.006884661117170036>t){var n=t*t,r=t*n,s=t*r,o=t*s,a=t*o,c=t*a,l=-(.02708333333333333*r+.03430059523809524*s+.03149181547619048*o+.02634359154541446*a+.02156896735835538*c),u=.007669890873015873*s+.01299603174603175*o+.0148051353064374*a+.01454454953803912*c,h=-(.002275545634920635*o+.004830845032667949*a+.006558395368616723*c),d=.0006957236677288761*a+.001775193002406544*c,p=-.000217324089394402*c,f=Math.cos(2*i);return i+Math.sin(2*i)*(-(.5*t+.2083333333333333*n+.09375*r+.04878472222222222*s+.02916666666666667*o+.01938905423280423*a+.01388255931712963*c)-l+h-p+f*(2*(.1041666666666667*n+.0875*r+.06050347222222222*s+.04151785714285714*o+.02958958540013228*a+.02203667534722222*c)-4*u+6*d+f*(4*l-12*h+24*p+f*(8*u-32*d+f*(16*h-80*p+f*(32*d+64*f*p))))))}return 0==i||e.$(e.R(i),1.570796326794897)?n=i:(s=(r=Math.sqrt(t))*Math.sin(i),n=Math.tan(.7853981633974483+i/2)*Math.pow((1-s)/(1+s),r/2),n=2*Math.atan(n)-1.570796326794897),n},i.qO=function(t,i){if(e.ui(t)||0==i||e.$(e.R(i),1.570796326794897))return i;if(.006884661117170036>t){var n=t*(d=t*(h=t*(f=t*t))),r=t*(p=t*n),s=.05833333333333333*h+.07232142857142858*d+.05634300595238095*n+.0355325796406526*p+.020235546186067*r,o=.02653149801587302*d+.04379960317460317*n+.0429211791776896*p+.03255384637546096*r,a=.01294022817460318*n+.02668104344536636*p+.03155651254609588*r,c=.00659454790965208*p+.0163075268674227*r,l=.003463473736911237*r,u=Math.cos(2*i);return i+Math.sin(2*i)*(.5*t+.2083333333333333*f+.08333333333333333*h+.03611111111111111*d+.01875*n+.01195601851851852*p+.008863673941798942*r-s+a-l+u*(2*(.1458333333333333*f+.1208333333333333*h+.07039930555555556*d+.03616071428571429*n+.01839451058201058*p+.01017113095238095*r)-4*o+6*c+u*(4*s-12*a+24*l+u*(8*o-32*c+u*(16*a-80*l+u*(32*c+64*u*l))))))}var h=Math.sqrt(t),d=h/2,p=Math.tan(.7853981633974483+i/2);t=0,s=1;for(var f=i;0!=s;f=r)n=h*Math.sin(f),r=p*Math.pow((1+n)/(1-n),d),r=2*Math.atan(r)-1.570796326794897,t++,(e.$(r,f)||3e4<t)&&(s=0);return f},i}()}(W||(W={})),function(t){var e=function(){function e(e){this.wl=this.Vs=null,this.Jv=!1,this.AA=this.BA=0,this.zH=new t.h,this.PH=new t.h,this.EA=!1,this.xq=new t.l,this.oH=this.tw=0,this.uw=null,this.Bl=!1,this.Fo=null,this.Xz=0,this.Re=e,this.Bs=t.Ab.yv(this.Re,0,!0),this.zH.Sc(),this.PH.Sc(),this.JH=NaN;var i=e.getCode();0<i?(this.Kk=i,t.qf.getCode(e)):this.Kk=t.qf.getCode(e),0>this.Kk&&(this.Kk=0);var n=this.Re.getType();if(this.bH=n==t.Tc.PE_TYPE_PROJCS?2:1,n==t.Tc.PE_TYPE_PROJCS&&!e.loadConstants())throw t.i.O("PeProjcs.loadConstants failed");i=n==t.Tc.PE_TYPE_GEOGCS?this.Re:this.Re.getGeogcs(),n!=t.Tc.PE_TYPE_GEOGCS&&t.qf.getCode(i),this.Fo=e.getUnit(),this.JH=i.getPrimem().getLongitude(),this.oH=e=i.getUnit().getUnitFactor(),e=Math.PI/(180*e),1e-10>Math.abs(e-1)&&(e=1),this.AA=e,0!=(n&t.Tc.PE_TYPE_PROJCS)?(i=this.Re,this.BA=1/i.getUnit().getUnitFactor(),this.tw=.001/this.Re.getUnit().getUnitFactor(),this.uw=t.Eg.generate(i,t.Eg.PE_PCSINFO_OPTION_NONE),this.Bl=this.uw.isPannableRectangle(),this.Xz=t.Ab.iN(this.uw.getCentralMeridian(),this.AA)):(this.EA=this.Bl=!0,this.BA=0,n=1/i.getUnit().getUnitFactor(),this.tw=.001/i.getDatum().getSpheroid().getAxis()*n,this.Xz=0),this.Bl&&(this.vx(),this.vK(),this.bY(),this.uK(),this.$X(),this.aY())}return e.prototype.bs=function(){return this.Kk},e.prototype.kk=function(){return this.uw},e.Ky=function(t,e){return t==e||null!=t&&null!=e&&0==t.Kk&&0==e.Kk&&t.Bs===e.Bs},e.prototype.Xc=function(){return this.Bl},e.prototype.hh=function(t){t.L(this.to)},e.prototype.qv=function(){return this.to.v},e.prototype.pv=function(){return this.to.C},e.prototype.yR=function(t){t.L(this.vw)},e.prototype.$X=function(){var e=this.Re.getType();if(e==t.Tc.PE_TYPE_PROJCS){e=this.Re;var i=this.kk().getCentralMeridian(),n=e.getGeogcs();if(null==n)throw t.i.ga("internal error");i=[[i+(n=1/n.getUnit().getUnitFactor()*Math.PI),0]],t.fj.geogToProj(e,1,i),i=i[0][0],n=e.getParameters()[t.Tc.PE_PARM_X0].getValue();var r=this.ol();e=new t.l,r.A(e),i=(r=Math.abs(i-n))+n,n=-1*r+n,r=e.H,e=e.G;var s=new t.l;s.L(n,e,i,r),null==this.to&&(this.to=s)}else{if(e!=t.Tc.PE_TYPE_GEOGCS)throw t.i.ga("internal error");n=1/this.Re.getUnit().getUnitFactor()*Math.PI,(e=new t.l).L(-n,-n/2,n,n/2),null==this.to&&(this.to=e)}},e.prototype.aY=function(){var e=this.Re.getType();if(e==t.Tc.PE_TYPE_PROJCS){var i=this.Re;if(e=this.kk().getCentralMeridian(),null==(i=i.getGeogcs()))throw t.i.ga("internal error");i=1/i.getUnit().getUnitFactor()*Math.PI;var n=this.Wr(),r=new t.l;n.A(r),(n=new t.l).L(e-i,r.G,e+i,r.H),null==this.vw&&(this.vw=n)}else{if(e!=t.Tc.PE_TYPE_GEOGCS)throw t.i.ga("internal error");i=1/this.Re.getUnit().getUnitFactor()*Math.PI,(e=new t.l).L(-i,-i/2,i,i/2),null==this.vw&&(this.vw=e)}},e.prototype.bf=function(){return this.AA},e.prototype.rm=function(){return this.BA},e.prototype.Wr=function(){if(this.Bl)return this.wl;var t=this.wl;return null!=t?t:(this.vx(),this.wl)},e.prototype.Xr=function(){return this.Bl?null:(null!=this.wl||this.vx(),this.PG)},e.prototype.vx=function(){if(this.Re.getType()==t.Tc.PE_TYPE_PROJCS){var e=this.Re,i=e.getGeogcs(),n=e.horizonGcsGenerate();if(null!=n){var r=n[0].getNump(),s=n[0].getKind();e=0<n[0].getInclusive();var o=this.bf(),a=90*o,c=360*o,l=370*o,u=180*o*t.Tc.PE_HORIZON_DELTA/Math.PI,h=new t.l,d=null;if(1<r)for(var p=1;p<r;p++)if(n[p].getKind()==t.Tc.PE_HORIZON_LINE){null==d&&(d=new t.Ua);var f=n[p].getCoord();d.qx(f[0][0],f[0][1]),d.zj(f[1][0],f[1][1])}if(s==t.Tc.PE_HORIZON_RECT)n=n[0].getCoord(),h.L(n[0][0],n[0][1]),h.$b(n[1][0],n[1][1]),Math.abs(h.H-a)<1e-7*u&&(h.H=a),Math.abs(h.G+a)<1e-7*u&&(h.G=-a),h.S()>l&&(n=-400*o,h.L(n,h.G,n+5*c,h.H)),n=new t.Gh(h),null==this.wl&&(this.wl=n,this.Jv=e);else{if(l=new t.Ea,c=this.kk().isGcsHorizonMultiOverlap(),h=t.hu.UE(i,t.iu.Integer64),c){for(l=new t.ZK,u=t.Hh.local().W(l,h,null),p=0;p<r;p++)if(n[p].getKind()==t.Tc.PE_HORIZON_POLY){for(i=n[p].getSize(),o=n[p].getCoord(),s=[],a=0;a<i;a++)s[a]=t.h.construct(o[a][0],o[a][1]);n[p].getInclusive(),c&&((o=new t.Ea).Zk(s,i-1),l.NX(o),u.qe())}l=u.next()}else for(p=0;p<r;p++)if(n[p].getKind()==t.Tc.PE_HORIZON_POLY){for(i=n[p].getSize(),o=n[p].getCoord(),c=[],a=0;a<i;a++)c[a]=t.h.construct(o[a][0],o[a][1]);n[p].getInclusive(),l.Zk(c,i-1)}e?t.Wk.local().xn(l,h,1):t.lp.local().xn(l,h,1),t.ej.local().xn(l,h,1),null==this.wl&&(this.wl=l,this.Jv=e,this.PG=d)}}}},e.prototype.jv=function(){return this.Bl||null==this.wl&&this.vx(),this.Jv},e.prototype.vK=function(){if(2==this.bH){var e=this.Re.horizonPcsGenerate();if(null!=e){var i=e[0].getKind();e[0].getInclusive();var n=e[0].getNump(),r=!1;if(i==t.Tc.PE_HORIZON_RECT)e=e[0].getCoord(),(n=new t.l).L(e[0][0],e[0][1]),n.$b(e[1][0],e[1][1]),e=new t.Gh(n);else{for(i=-1,r=0;r<n;r++)e[r].getKind()==t.Tc.PE_HORIZON_POLY&&(i=r);for(r=e[i].getSize()-1,e=e[i].getCoord(),n=[],i=0;i<r;i++)n[i]=t.h.construct(e[i][0],e[i][1]);e=i=new t.Ea,i.Zk(n,r),r=!0}this.kk().isDensificationNeeded()&&(n=1e5*this.rm(),e=t.Zl.local().W(e,n,null)),r&&(r=new t.Gh,e.dn(r),e.He(),e.Rb(),e.hR(),t.Wk.local().xn(e,null,1)),null==this.Vs&&(this.Vs=e)}}},e.prototype.ol=function(){if(this.Bl)return this.Vs;var t=this.Vs;return null!=t?t:(this.vK(),this.Vs)},e.prototype.bY=function(){if(this.Re.getType()==t.Tc.PE_TYPE_PROJCS){var e=90*this.bf();e=[[0,e],[0,-e]],t.fj.geogToProj(this.Re,2,e);var i=this.kk(),n=i.getNorthPoleLocation()!=t.Eg.PE_POLE_OUTSIDE_BOUNDARY;i=i.getSouthPoleLocation()!=t.Eg.PE_POLE_OUTSIDE_BOUNDARY,this.EA||(n&&this.zH.na(e[0][0],e[0][1]),i&&this.PH.na(e[1][0],e[1][1]))}this.EA=!0},e.prototype.uK=function(){if(1==this.bH){var e=400*this.bf();this.xq.L(-e,-e,e,e)}else e=t.Eg.generate(this.Re,t.Eg.PE_PCSINFO_OPTION_DOMAIN),e=t.l.construct(e.getDomainMinx(),e.getDomainMiny(),e.getDomainMaxx(),e.getDomainMaxy()),this.xq.B()&&this.xq.L(e)},e.prototype.$Q=function(t){this.Bl&&t.L(this.xq),this.xq.B()&&this.uK(),t.L(this.xq)},e.prototype.Wp=function(){return this.JH},e.prototype.Ai=function(){return this.Xz},e.prototype.Id=function(){return this.Fo},e.prototype.Yr=function(){return this.oH},e}();t.GC=e}(W||(W={})),function(t){var e=function(){function e(e){this.AT=e,this.Bs=t.Ab.yv(e,0,!0);var i=e.getCode();this.ts=0<i?i:t.qf.getCode(e),0>this.ts&&(this.ts=0),this.Fo=i=this.AT.getUnit(),this.AH=1/i.getUnitFactor(),t.qf.getCode(e)}return e.Ky=function(t,e){return t==e||null!=t&&null!=e&&0==t.ts&&0==e.ts&&t.Bs===e.Bs},e.prototype.bs=function(){return this.ts},e}();t.HL=e}(W||(W={})),function(t){t.Zg=function(){function e(){}return e.ub=function(e,i,n,r,s,o,a,c){if(null!=o||null!=a||null!=c){r=t.F.ca(r),i=t.F.ca(i),n=t.F.ca(n),s=t.F.ca(s),1.570796326794897<t.s.R(n)&&(n=t.s.Mb(3.141592653589793,n)-n,i=t.F.ca(i+3.141592653589793)),1.570796326794897<t.s.R(s)&&(s=t.s.Mb(3.141592653589793,s)-s,r=t.F.ca(r+3.141592653589793));var l=t.F.ca(r-i);if(t.s.$(n,s)&&(t.s.$(i,r)||t.s.$(t.s.R(n),1.570796326794897)))null!=o&&(o.u=0),null!=a&&(a.u=0),null!=c&&(c.u=0);else{if(t.s.$(n,-s)){if(t.s.$(t.s.R(n),1.570796326794897))return null!=o&&(o.u=3.141592653589793*e),null!=a&&(a.u=0<n?t.F.ca(3.141592653589793-t.F.ca(r)):t.F.ca(r)),void(null!=c&&(c.u=0<n?t.F.ca(r):t.F.ca(3.141592653589793-t.F.ca(r))));if(t.s.$(t.s.R(l),3.141592653589793))return null!=o&&(o.u=3.141592653589793*e),null!=a&&(a.u=0),void(null!=c&&(c.u=0))}var u=1.570796326794897==t.s.R(n)?0:Math.cos(n),h=Math.sin(n),d=1.570796326794897==t.s.R(s)?0:Math.cos(s),p=Math.sin(s),f=1.570796326794897==t.s.R(l)?0:Math.cos(l),b=3.141592653589793==t.s.R(l)?0:Math.sin(l);if(null!=o){var y=Math.sin((s-n)/2);l=Math.sin(l/2),o.u=2*Math.asin(Math.sqrt(y*y+u*d*l*l))*e}null!=a&&(a.u=t.s.$(t.s.R(n),1.570796326794897)?0>n?r:t.F.ca(3.141592653589793-r):Math.atan2(d*b,u*p-h*d*f)),null!=c&&(t.s.$(t.s.R(s),1.570796326794897)?c.u=0>s?i:t.F.ca(3.141592653589793-i):(c.u=Math.atan2(u*b,p*u*f-d*h),c.u=t.F.ca(c.u+3.141592653589793)))}}},e.sf=function(e,i,n,r,s,o,a){if(null!=o||null!=a){i=t.F.ca(i),n=t.F.ca(n),1.570796326794897<t.s.R(n)&&(n=t.s.Mb(3.141592653589793,n)-n,i=t.F.ca(i+3.141592653589793)),t.s.$(t.s.R(n),1.570796326794897)&&(i=0),s=t.F.ca(s);var c=t.s.$(t.s.R(s),1.570796326794897)?0:Math.cos(s),l=t.s.$(t.s.R(s),3.141592653589793)?0:Math.sin(s),u=t.s.$(t.s.R(n),1.570796326794897)?0:Math.cos(n),h=Math.sin(n);e=r/e,r=t.s.$(t.s.R(e),1.570796326794897)?0:Math.cos(e);var d=t.s.$(t.s.R(e),3.141592653589793)?0:Math.sin(e),p=Math.asin(h*r+u*d*c);null!=a&&(a.u=p),null!=o&&(o.u=t.s.$(t.s.R(p),1.570796326794897)?t.s.$(n,-p)?0>p?s:t.F.ca(3.141592653589793-s):i:t.s.$(t.s.R(n),1.570796326794897)&&t.s.$(e,3.141592653589793)?0>n?s:t.F.ca(3.141592653589793-s):t.F.ca(i+Math.atan2(d*l,u*r-h*d*c)))}},e}()}(W||(W={})),function(t){t.Xk=function(){function e(){}return e.ub=function(e,i,n,r,s,o,a,c,l){var u=new t.ha(0),h=new t.ha(0),d=[0,0,0],p=[0,0,0],f=[0,0,0],b=new t.ha(0),y=new t.ha(0),m=new t.ha(0),g=new t.ha(0),v=new t.ha(0);if(null!=a||null!=c||null!=l)if(t.s.ui(i))t.Zg.ub(e,n,r,s,o,a,c,l);else{s=t.F.ca(s),n=t.F.ca(n);var w=t.F.ca(s-n);if(t.s.$(r,o)&&(t.s.$(n,s)||t.s.$(t.s.R(r),1.570796326794897)))null!=a&&(a.u=0),null!=c&&(c.u=0),null!=l&&(l.u=0);else{if(t.s.$(r,-o)){if(t.s.$(t.s.R(r),1.570796326794897))return null!=a&&(a.u=2*t.F.Bh(e,i)),null!=c&&(c.u=0<r?t.F.ca(3.141592653589793-t.F.ca(s)):t.F.ca(s)),void(null!=l&&(l.u=0<r?t.F.ca(s):t.F.ca(3.141592653589793-t.F.ca(s))));t.s.$(t.s.R(w),3.141592653589793)&&(null!=a&&(a.u=2*t.F.Bh(e,i)),null!=c&&(c.u=0),null!=l&&(l.u=0))}else(t.s.$(t.s.R(r),1.570796326794897)||t.s.$(t.s.R(o),1.570796326794897))&&(t.s.$(t.s.R(r),1.570796326794897)?n=s:s=n);var O=0;if(0>w){O=1;var j=n;n=s,s=j,j=r,r=o,o=j}w=t.F.ot(i,r);var _=t.F.ot(i,o);null==c&&null==l||(t.Zg.ub(e,n,w,s,_,null,u,h),u=Math.atan2(Math.sin(u.u)*Math.cos(r-w),Math.cos(u.u)),h=Math.atan2(Math.sin(h.u)*Math.cos(o-_),Math.cos(h.u)),0!=O&&(j=u,u=h,h=j),null!=c&&(c.u=u),null!=l&&(l.u=h)),null!=a&&(t.F.dl(1,i,r,n,0,m,g,v),d[0]=m.u,d[1]=g.u,d[2]=v.u,t.F.dl(1,i,o,s,0,m,g,v),p[0]=m.u,p[1]=g.u,p[2]=v.u,f[0]=d[1]*p[2]-p[1]*d[2],f[1]=-(d[0]*p[2]-p[0]*d[2]),f[2]=d[0]*p[1]-p[0]*d[1],i=1-t.F.w(i,t.F.Xq(i,t.F.Rj(i,Math.acos(f[2]/Math.sqrt(f[0]*f[0]+f[1]*f[1]+f[2]*f[2]))))),i*=2-i,c=Math.atan2(-f[1],-f[0]),f=t.F.ca(c-1.570796326794897),c=t.F.ca(c+1.570796326794897),f=t.s.R(t.F.ca(n-f))<=t.s.R(t.F.ca(n-c))?f:c,t.Zg.ub(1,f,0,n,w,b,null,null),t.Zg.ub(1,f,0,s,_,y,null,null),3.141592653589793<b.u+y.u&&(f=t.F.ca(f+3.141592653589793),t.Zg.ub(1,f,0,n,w,b,null,null),t.Zg.ub(1,f,0,s,_,y,null,null)),b.u*=t.s.Mb(1,r),y.u*=t.s.Mb(1,o),b.u=t.F.Rj(i,b.u),y.u=t.F.Rj(i,y.u),n=t.F.q(e,i,b.u),e=t.F.q(e,i,y.u),a.u=t.s.R(e-n))}}},e.sf=function(e,i,n,r,s,o,a,c){var l=0,u=new t.ha(0),h=new t.ha(0),d=[0,0,0],p=[0,0,0],f=new t.ha(0),b=new t.ha(0),y=new t.ha(0);if(null!=a||null!=c)if(t.s.ui(i))t.Zg.sf(e,n,r,s,o,a,c);else if(t.s.Dd(s))null!=a&&(a.u=n),null!=c&&(c.u=r);else if(o=t.F.ca(o),0>s&&(s=t.s.R(s),o=t.F.ca(o+3.141592653589793)),n=t.F.ca(n),r=t.F.ca(r),1.570796326794897<t.s.R(r)&&(n=t.F.ca(n+3.141592653589793),r=t.s.Mb(3.141592653589793,r)-r),t.s.$(t.s.R(r),1.570796326794897)&&(n=0),t.s.Dd(r)){var m=t.s.R(1.570796326794897-t.s.R(o));m=t.F.Rj(i,m),m=1-t.F.w(i,t.F.Xq(i,m)),m*=2-m,e=s/t.F.Bh(e,m)*1.570796326794897,e=t.F.Tq(m,e),e=t.F.ot(m,e),t.Zg.sf(1,n,r,e,o,a,u),null!=c&&(l=u.u),null!=c&&(c.u=t.F.Rj(i,l))}else if(t.s.$(t.s.R(r),1.570796326794897))u=2*(l=t.F.Bh(e,i)),o=0<(e=t.s.Mb(1.570796326794897,r))?t.F.ca(3.141592653589793-o):o,r=l-s,t.s.R(r)<=l?null!=a&&(a.u=o):(r=Math.floor(s/u),0==t.P.truncate(r%2)?(null!=a&&(a.u=o),s-=r*u):(null!=a&&(a.u=t.F.ca(o+3.141592653589793)),s=(r+1)*u-s),r=l-s),null!=c&&(c.u=t.F.Tq(i,r/l*e));else{m=t.F.ot(i,r),o=Math.atan2(Math.sin(o),Math.cos(o)*Math.cos(r-m));var g=t.P.truncate(t.s.Mb(1,m))*(1.570796326794897>=t.s.R(o)?1:-1);o=t.F.ca(n+Math.atan(Math.tan(o)*-Math.sin(m))),t.Zg.ub(e,o,0,n,m,null,h,null),m=t.s.R(1.570796326794897-t.s.R(h.u)),m=t.F.Rj(i,m),m=1-t.F.w(i,t.F.Xq(i,m)),m*=2-m,t.F.dl(1,i,0,o,0,f,b,y),d[0]=f.u,d[1]=b.u,d[2]=y.u,t.F.dl(1,i,r,n,0,f,b,y),p[0]=f.u,p[1]=b.u,p[2]=y.u,r=Math.acos((d[0]*p[0]+d[1]*p[1]+d[2]*p[2])/Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])),r=t.F.Rj(m,r),s=0<(r=t.F.q(e,m,r)+s*g)?h.u:t.F.ca(h.u+3.141592653589793),e=t.s.R(r)/t.F.Bh(e,m)*1.570796326794897,e=t.F.Tq(m,e),e=t.F.ot(m,e),t.Zg.sf(1,o,0,e,s,a,u),null!=c&&(l=u.u),null!=c&&(c.u=t.F.Rj(i,l))}},e}()}(W||(W={})),function(t){t.du=function(){function e(){}return e.ub=function(e,i,n,r,s,o,a,c,l){var u=0,h=0,d=0;if(null!=a||null!=c||null!=l)if(t.s.ui(i))t.Zg.ub(e,n,r,s,o,a,c,l);else{var p=t.F.ca(s-n);if(t.s.$(r,o)&&(t.s.Dd(p)||t.s.$(t.s.R(r),1.570796326794897)))null!=a&&(a.u=0),null!=c&&(c.u=0),null!=l&&(l.u=0);else{if(t.s.$(r,-o)){if(t.s.$(t.s.R(r),1.570796326794897))return null!=a&&(a.u=2*t.F.Bh(e,i)),null!=c&&(c.u=0<r?t.F.ca(3.141592653589793-t.F.ca(s)):t.F.ca(s)),void(null!=l&&(l.u=0<r?t.F.ca(s):t.F.ca(3.141592653589793-t.F.ca(s))));t.s.$(t.s.R(p),3.141592653589793)&&(null!=a&&(a.u=2*t.F.Bh(e,i)),null!=c&&(c.u=0),null!=l&&(l.u=0))}else{if(t.s.$(t.s.R(r),1.570796326794897)||t.s.$(t.s.R(o),1.570796326794897))return void t.Xk.ub(e,i,n,r,s,o,a,c,l);if(t.s.Dd(p)||t.s.$(t.s.R(p),3.141592653589793))return void t.Xk.ub(e,i,n,r,s,o,a,c,l)}var f=1-Math.sqrt(1-i),b=i/(1-i),y=e*(1-f);e=t.F.Xq(i,r);var m=t.F.Xq(i,o);i=1.570796326794897==t.s.R(e)?0:Math.cos(e);var g=Math.sin(e),v=1.570796326794897==t.s.R(m)?0:Math.cos(m),w=Math.sin(m),O=p,j=Math.cos(O),_=Math.sin(O),x=1,S=0;do{var M=O,k=Math.sqrt(Math.pow(v*_,2)+Math.pow(i*w-g*v*j,2)),I=g*w+i*v*j,T=Math.atan2(k,I);if(0==k){x=0;break}var E=i*v*_/k;if(u=Math.cos(Math.asin(E)),h=I-2*g*w/(u*=u),1<t.s.R(h)&&(h=t.s.Mb(1,h)),O=p+(1-(O=f/16*u*(4+f*(4-3*u))))*f*E*(T+O*k*(h+O*I*(2*(d=h*h)-1))),j=Math.cos(O),_=Math.sin(O),S++,3.141592653589793<t.s.R(O)&&30<S){x=0;break}}while(5e3>=S&&!t.s.$(M,O));if(0!=x)f=(b*=u)*(256+b*(b*(74-47*b)-128))/1024,null!=a&&(a.u=y*(1+b*(4096+b*(b*(320-175*b)-768))/16384)*(T-f*k*(h+f/4*(I*(2*d-1)-f/6*h*(4*k*k-3)*(4*d-3))))),null!=c&&(c.u=t.s.$(t.s.R(r),1.570796326794897)?0>r?s:t.F.ca(3.141592653589793-s):Math.atan2(v*_,i*w-g*v*j)),null!=l&&(t.s.$(t.s.R(o),1.570796326794897)?l.u=0>o?n:t.F.ca(3.141592653589793-n):(l.u=Math.atan2(i*_,i*w*j-g*v),l.u=t.F.ca(l.u+3.141592653589793)));else{O=t.s.Mb(3.141592653589793,p),I=g*w-i*v,T=Math.acos(I),k=Math.sin(T),u=1,S=E=0;do{d=E,j=1-.25*(E=f*(u*=u)*(1+f+f*f))+.1875*(h=f*f*(j=u*u)*(1+2.25*f))-.1953125*(x=f*f*f*j*u),E=.25*E-.25*h+.29296875*x,_=.03125*h-.05859375*x,x*=.00651041666666667,h=I-2*g*w/u,1<t.s.R(h)&&(h=t.s.Mb(1,h)),u=Math.acos(h),I=Math.cos(2*u),M=Math.cos(3*u),_=(E=t.s.$(r,-o)?t.F.ca(3.141592653589793-p)/(3.141592653589793*f*j):t.F.ca(O-p)/(f*(j*T+E*k*h+_*Math.sin(2*T)*I+x*Math.sin(3*T)*M)))*k/(i*v),O=1.570796326794897<t.s.R(p)?t.s.Mb(3.141592653589793,_)-Math.asin(_):Math.asin(_),j=Math.cos(O),k=Math.sqrt(Math.pow(v*_,2)+Math.pow(i*w-g*v*j,2)),T=3.141592653589793-Math.asin(t.s.R(k)),I=Math.cos(T),u=Math.cos(Math.asin(E)),S++}while(70>=S&&!t.s.$(d,E));null!=a&&(j=1+(b*=u*=u)*(4096+b*(b*(320-175*b)-768))/16384,t.s.$(r,-o)?a.u=3.141592653589793*y*j:(h=I-2*g*w/u,u=Math.acos(h),I=Math.cos(2*u),M=Math.cos(3*u),a.u=y*(j*T+b*(b*(128+b*(35*b-60))-512)/2048*k*h+b*(5*b-4)/6144*b*b*Math.sin(2*T)*I+x*Math.sin(3*T)*M+-762939453125e-16*b*b*b*b*Math.sin(4*T)*Math.cos(4*u)))),null!=c&&(t.s.Dd(r)&&t.s.Dd(o)?(u=Math.sqrt(1-E*E),c.u=Math.acos(u),0>p&&(c.u*=-1)):t.s.$(t.s.R(r),1.570796326794897)?c.u=0>r?s:t.F.ca(3.141592653589793-s):(a=E/i,y=Math.sqrt(1-a*a),0>i*w-g*v*Math.cos(O)&&(y*=-1),c.u=Math.atan2(a,y),t.s.$(r,-o)&&t.s.R(t.F.ca(n-s))>3.141592653589793*(1-f*Math.cos(r))&&(0<r&&1.570796326794897>t.s.R(c.u)||0>r&&1.570796326794897<t.s.R(c.u))&&(c.u=t.s.Mb(3.141592653589793,c.u)-c.u))),null!=l&&(t.s.Dd(r)&&t.s.Dd(o)?(u=Math.sqrt(1-E*E),l.u=Math.acos(u),0<=p&&(l.u*=-1)):t.s.$(t.s.R(o),1.570796326794897)?l.u=0>o?n:t.F.ca(3.141592653589793-n):(p=E/v,a=Math.sqrt(1-p*p),y=Math.sin(O/2),0>Math.sin(m-e)-2*i*w*y*y&&(a*=-1),l.u=Math.atan2(p,a),l.u=t.F.ca(l.u+3.141592653589793),t.s.$(r,-o)&&!t.s.Dd(r)&&!t.s.$(t.s.R(r),1.570796326794897)&&t.s.R(t.F.ca(n-s))>3.141592653589793*(1-f*Math.cos(r))&&(null!=c?y=c.u:(a=E/i,y=Math.sqrt(1-a*a),0>i*w-g*v*Math.cos(O)&&(y*=-1),y=Math.atan2(a,y),t.s.$(r,-o)&&t.s.R(t.F.ca(n-s))>3.141592653589793*(1-f*Math.cos(r))&&(0<r&&1.570796326794897>t.s.R(y)||0>r&&1.570796326794897<t.s.R(y))&&(y=t.s.Mb(3.141592653589793,y)-y)),1.570796326794897>=t.s.R(y)&&1.570796326794897<t.s.R(l.u)||1.570796326794897<=t.s.R(y)&&1.570796326794897>t.s.R(l.u))&&(l.u=-1*t.F.ca(l.u+3.141592653589793))))}}}},e.sf=function(e,i,n,r,s,o,a,c){if(null!=a||null!=c)if(t.s.ui(i))t.Zg.sf(e,n,r,s,o,a,c);else if(o=t.F.ca(o),t.s.$(t.s.R(r),1.570796326794897)||t.s.Dd(o)||t.s.$(t.s.R(o),3.141592653589793))t.Xk.sf(e,i,n,r,s,o,a,c);else{var l=1.570796326794897==t.s.R(o)?0:Math.cos(o),u=3.141592653589793==t.s.R(o)?0:Math.sin(o);t.s.$(t.s.R(r),1.570796326794897)&&(n=0),o=1-Math.sqrt(1-i);var h=t.F.Xq(i,r);r=1.570796326794897==t.s.R(h)?0:Math.cos(h);var d=Math.sin(h);h=Math.atan2(Math.tan(h),l);var p=r*u,f=p*p,b=1-f,y=i/(1-i)*b,m=(i=y*(256+y*(y*(74-47*y)-128))/1024)/4,g=i/6,v=s/(e*(1-o)*(1+y*(4096+y*(y*(320-175*y)-768))/16384)),w=v;do{var O=w;s=1.570796326794897==t.s.R(w)?0:Math.cos(w);var j=(y=3.141592653589793==t.s.R(w)?0:Math.sin(w))*y;w=i*y*((e=Math.cos(2*h+w))+m*(s*(2*(w=e*e)-1)-g*e*(4*j-3)*(4*w-3)))+v}while(!t.s.$(O,w));s=1.570796326794897==t.s.R(w)?0:Math.cos(w),y=3.141592653589793==t.s.R(w)?0:Math.sin(w),null!=a&&(u=Math.atan2(y*u,r*s-d*y*l),b=o/16*b*(4+o*(4-3*b)),e=Math.cos(2*h+w),a.u=t.F.ca(n+(u-(1-b)*o*p*(w+b*y*(e+b*s*(2*e*e-1)))))),null!=c&&(b=d*y-r*s*l,b=(1-o)*Math.sqrt(f+b*b),c.u=Math.atan2(d*s+r*y*l,b))}},e}()}(W||(W={})),function(t){t.HC=function(){function e(){}return e.ub=function(e,i,n,r,s,o,a,c,l){var u=t.F.ca(s-n),h=t.s.$(t.s.R(r),1.570796326794897),d=t.s.$(t.s.R(o),1.570796326794897);if(t.s.$(r,o)&&(t.s.Dd(u)||h))null!=a&&(a.u=0),null!=c&&(c.u=0),null!=l&&(l.u=0);else{if(t.s.ui(i)){var p=Math.sin(r),f=Math.sin(o);p=Math.sqrt((1+p)/(1-p)),f=Math.sqrt((1+f)/(1-f)),p=Math.log(f)-Math.log(p),p=Math.atan2(u,p),null!=a&&(a.u=t.s.$(r,o)?t.s.R(e*Math.cos(r)*u):t.s.R((e*o-e*r)/Math.cos(p)))}else f=t.F.Rw(i,o),p=Math.sin(t.F.Rw(i,r)),f=Math.sin(f),p=Math.sqrt((1+p)/(1-p)),f=Math.sqrt((1+f)/(1-f)),p=Math.log(f)-Math.log(p),p=Math.atan2(u,p),null!=a&&(t.s.$(r,o)?a.u=t.s.R(e*u*Math.cos(r)/t.F.w(i,r)):(u=t.F.q(e,i,r),e=t.F.q(e,i,o),a.u=t.s.R((e-u)/Math.cos(p))));null==c&&null==l||(a=t.F.ca(p+3.141592653589793),h&&d||!h&&!d||(h?p=0>r?s:t.F.ca(3.141592653589793-s):d&&(a=0>o?n:t.F.ca(3.141592653589793-n))),null!=c&&(c.u=p),null!=l&&(l.u=a))}},e.sf=function(e,i,n,r,s,o,a,c){o=t.F.ca(o),0>s&&(s=t.s.R(s),o=t.F.ca(o+3.141592653589793)),t.s.ui(i)?t.s.$(t.s.R(r),1.570796326794897)?(n=0>r?o:t.F.ca(3.141592653589793-o),3.141592653589793>=(o=s/e%6.283185307179586)?e=r-t.s.Mb(o,r):(n=t.F.ca(n+3.141592653589793),e=-r+t.s.Mb(o-3.141592653589793,r))):t.s.$(t.s.R(o),1.570796326794897)?(n=t.F.ca(n+t.s.Mb(s,o)/(e*Math.cos(r))),e=r):(e=r+s*Math.cos(o)/e,1.570796326794897<t.s.R(e)&&(e=1.570796326794897),t.s.$(t.s.R(e),1.570796326794897)&&(t.s.Dd(o)||t.s.$(t.s.R(o),3.141592653589793))||(1.570796316258184<t.s.R(e)&&(e=t.s.Mb(1.570796316258184,e)),i=Math.sin(r),r=Math.sin(e),i=Math.sqrt((1+i)/(1-i)),r=Math.sqrt((1+r)/(1-r)),i=Math.log(r)-Math.log(i),n=t.F.ca(n+Math.tan(o)*i))):t.s.$(t.s.R(r),1.570796326794897)?(n=0>r?o:t.F.ca(3.141592653589793-o),o=s/t.F.gW(e,i),3.141592653589793>=(o%=6.283185307179586)?e=r-t.s.Mb(o,r):(n=t.F.ca(n+3.141592653589793),e=-r+t.s.Mb(o-3.141592653589793,r)),e=t.F.Tq(i,e)):t.s.$(t.s.R(o),1.570796326794897)?(n=t.F.ca(n+t.s.Mb(s,o)*t.F.w(i,r)/(e*Math.cos(r))),e=r):(e=1.570796326794897*(s*Math.cos(o)+t.F.q(e,i,r))/t.F.Bh(e,i),1.570796326794897<t.s.R(e)&&(e=t.s.Mb(1.570796326794897,e)),e=t.F.Tq(i,e),t.s.$(t.s.R(e),1.570796326794897)&&(t.s.Dd(o)||t.s.$(t.s.R(o),3.141592653589793))||(s=t.F.Rw(i,r),r=t.F.Rw(i,e),1.570796316258184<t.s.R(r)&&(r=t.s.Mb(1.570796316258184,e),e=t.F.qO(i,r)),i=Math.sin(s),r=Math.sin(r),i=Math.sqrt((1+i)/(1-i)),r=Math.sqrt((1+r)/(1-r)),i=Math.log(r)-Math.log(i),n=t.F.ca(n+Math.tan(o)*i))),null!=a&&(a.u=n),null!=c&&(c.u=e)},e}()}(W||(W={})),function(t){t.kb=function(){function e(){}return e.Sy=function(e,i,n,r,s,o,a){t.du.ub(e,i,n,r,s,o,null,a,null)},e.zi=function(e,i,n,r,s,o,a,c){t.du.sf(e,i,n,r,s,o,a,c)},e.xd=function(e,i,n,r,s,o,a,c,l,u){switch(u){case 2:t.Xk.ub(e,i,n,r,s,o,a,c,l);break;case 3:t.IC.ub(e,i,n,r,s,o,a,c,l);break;case 1:t.HC.ub(e,i,n,r,s,o,a,c,l);break;default:t.du.ub(e,i,n,r,s,o,a,c,l)}},e.pj=function(e,i,n,r,s,o,a,c,l){switch(l){case 2:t.Xk.sf(e,i,n,r,s,o,a,c);break;case 3:t.IC.sf(e,i,n,r,s,o,a,c);break;case 1:t.HC.sf(e,i,n,r,s,o,a,c);break;default:t.du.sf(e,i,n,r,s,o,a,c)}},e}()}(W||(W={})),function(t){var e=function(){function e(){this.y=this.x=null}return e.construct=function(i){var n=new e;return n.x=new t.Xb,n.x.set(i.x),n.y=new t.Xb,n.y.set(i.y),n},e.NE=function(i,n){var r=new e;return r.x=new t.Xb,r.x.set(i),r.y=new t.Xb,r.y.set(n),r},e.prototype.qg=function(){return this.x.qg()&&this.y.qg()},e.prototype.value=function(){return t.h.construct(this.x.value(),this.y.value())},e}();t.jY=e;var i=function(){function e(){this.z=this.y=this.x=null}return e.construct=function(i){var n=new e;return n.x=new t.Xb,n.x.set(i.x),n.y=new t.Xb,n.y.set(i.y),n.z=new t.Xb,n.z.set(i.z),n},e.NE=function(i,n,r){var s=new e;return s.x=new t.Xb,s.x.set(i),s.y=new t.Xb,s.y.set(n),s.z=new t.Xb,s.z.set(r),s},e.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},e.prototype.value=function(){return new t.Od(this.x.value(),this.y.value(),this.z.value())},e.prototype.Rh=function(e){var i=new t.Xb,n=new t.Xb,r=new t.Xb;return i.Ml(this.x,e.x),n.Ml(this.y,e.y),r.Ml(this.z,e.z),(e=new t.Xb).WM(i,n),e.add(r),e},e.prototype.VE=function(i){var n=new e;n.x.Ml(this.y,i.z),n.y.Ml(this.z,i.x),n.z.Ml(this.x,i.y);var r=new t.Xb,s=new t.Xb,o=new t.Xb;return r.Ml(this.z,i.y),s.Ml(this.x,i.z),o.Ml(this.y,i.x),n.x.sub(r),n.y.sub(s),n.z.sub(o),n},e}();t.kY=i,t.Mx=function(){function n(){}return n.wP=function(t,e,i){var r=e.x;e=e.y,n.dl(1,t,Math.cos(r),Math.sin(r),Math.cos(e),Math.sin(e),i)},n.vP=function(e,i){var r=new t.Od;return n.wP(e,i,r),r},n.dl=function(t,e,i,n,r,s,o){t/=Math.sqrt(1-e*s*s),o.L(t*r*i,t*r*n,t*(1-e)*s)},n.Zu=function(e,n){var r=new t.Xb,s=new t.Xb,o=new t.Xb,a=new t.Xb;r.cos(n.x),s.sin(n.x),o.cos(n.y),a.sin(n.y);var c=new t.Xb;return c.set(a),c.Ag(a),c.Oo(e),c.Oo(-1),c.cN(),c.sqrt(),(n=new t.Xb).set(1),n.lm(c),(c=new t.Xb).set(n),c.Ag(o),c.Ag(r),(r=new t.Xb).set(n),r.Ag(o),r.Ag(s),(s=new t.Xb).set(n),s.Oo(1-e),s.Ag(a),i.NE(c,r,s)},n.IS=function(i,r,s,o){if(Math.abs(r.x-s.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(s.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(s.y)==.5*Math.PI)&&r.x!=s.x)return NaN;if(o=n.XA(o,Math.min(r.x,s.x),Math.max(r.x,s.x)),!new t.Oc(r.x,s.x).contains(o))return NaN;var a=e.construct(r);if(s=e.construct(s),a=n.Zu(i,a),s=n.Zu(i,s),(s=a.VE(s)).z.qg())return r.y;var c=new t.Xb;c.set(s.x),c.lm(s.z),c.Oo(-1);var l=new t.Xb;l.set(s.y),l.lm(s.z),l.Oo(-1);var u=new t.Xb;return u.set(l),u.Ag(l),(a=new t.Xb).set(c),a.Ag(c),a.add(u),a.sqrt(),a.qg()||c.qg()&&l.qg()?r.y:(r=Math.atan2(l.value(),c.value()),r=Math.atan2(a.value()*Math.cos(r-o),1-i),o=n.vP(i,t.h.construct(o,r)),i=new t.Od(o.x,o.y,-o.z),o=s.value().Rh(o),i=s.value().Rh(i),Math.abs(i)<Math.abs(o)&&(r=-r),r)},n.Jz=function(i,r,s,o,a){if(a[0]=NaN,a[1]=NaN,Math.abs(r.x-s.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(s.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(s.y)==.5*Math.PI)&&r.x!=s.x||Math.abs(o)>=.5*Math.PI||0<r.y&&0<s.y&&r.y>o&&s.y>o||0>r.y&&0>s.y&&r.y<o&&s.y<o)return 0;var c=e.construct(r),l=e.construct(s);c=n.Zu(i,c),l=n.Zu(i,l);var u=c.VE(l);if(u.z.qg())return new t.Oc(r.y,s.y).contains(o)?(a[0]=r.x,1):0;(l=new t.Xb).set(u.x),l.lm(u.z),l.Oo(-1),(c=new t.Xb).set(u.y),c.lm(u.z),c.Oo(-1),(u=new t.Xb).set(c),u.Ag(c);var h=new t.Xb;return h.set(l),h.Ag(l),h.add(u),h.sqrt(),h.qg()||l.qg()&&c.qg()?0==o?(a[0]=r.x,a[1]=s.x,2):0:(i=(1-i)*Math.tan(o)/h.value(),1<Math.abs(i)?0:(i=Math.acos(i),u=Math.atan2(c.value(),l.value()),l=Math.min(r.x,s.x),c=Math.max(r.x,s.x),s=n.XA(u-i,l,c),i=0!=o?n.XA(u+i,l,c):s,o=0,l<=s&&s<=c&&(a[o]=s,o++),i!=s&&l<=i&&i<=c&&(a[o]=i,2==++o&&Math.abs(a[0]-r.x)>Math.abs(a[1]-r.x)&&(r=a[0],a[0]=a[1],a[1]=r)),o))},n.XA=function(t,e,i){return t>i?t-=2*(e=Math.ceil((t-i)/(2*Math.PI)))*Math.PI:t<e&&(t+=2*(e=Math.ceil((e-t)/(2*Math.PI)))*Math.PI),t},n}()}(W||(W={})),function(t){t.PK=function(){function e(){}return e.OX=function(i,n){var r=8,s=[0,0,0,0],o=new t.h;o.N(n),o.scale(9102==t.cb.tc(i).Id().Fc()?1:t.cb.tc(i).Id().bi/3.141592653589793*180),-180>o.x?(o.x-=o.x%360,-180>o.x&&(o.x+=360)):180<o.x&&(o.x-=o.x%360,180<o.x&&(o.x-=360)),90<o.y&&(o.y=90),-90>o.y&&(o.y=-90);for(var a=-180,c=180,l=(i=5*r)-1,u=(n=(i+31)/32)-1;0<=u;u--)for(var h=l-32*u,d=Math.min(32,i-32*u),p=1;p<d;p+=2){var f=.5*(c+a);o.x>=f?(s[u]|=1<<h,a=f):c=f,h-=2,l-=2}for(a=-90,c=90,l=i-2,u=n-1;0<=u;u--)for(h=l-32*u,d=Math.min(32,i-32*u),p=0;p<d;p+=2)f=.5*(c+a),o.y>=f?(s[u]|=1<<h,a=f):c=f,h-=2,l-=2;return e.SP(s,r,r)},e.SP=function(t,e,i){for(var n=[],r=0;r<e;r++)n[r]="";for(var s=r=0,o=0;o<e;o++){var a=t[r]>>s&31;if(31<(s+=5)){var c=37-s;a&=(1<<c)-1,s-=32,a|=(t[++r]&(1<<s)-1)<<c}n[e-1-o]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[a]}if(i>e)for(o=0;o<i-e;o++)n.push("0");else i<e&&(n.length=i);return n.join("")},e}()}(W||(W={})),function(t){var e={gcstol:[0,2e-9,1,2.241706620489156e-9,2,2.313672246530541e-9,3,8.98240164660333e-9,4,8.982433838020134e-9,5,8.982439417325895e-9,6,8.982466029667677e-9,7,8.982476760268133e-9,8,8.982492642167149e-9,9,8.98251968292634e-9,10,8.98253685210448e-9,11,8.982546725256576e-9,12,8.982557456049832e-9,13,8.98257333682596e-9,14,8.982575482995276e-9,15,8.982578488197342e-9,16,8.982579775336987e-9,17,8.9825840676828e-9,18,8.982599090925448e-9,19,8.982605529473397e-9,20,8.982609220517402e-9,21,8.982611968030573e-9,22,8.982616260407152e-9,23,8.982620552787834e-9,24,8.982633429954492e-9,25,8.982637722351582e-9,26,8.98264416095491e-9,27,8.982646307158072e-9,28,8.982654891980968e-9,29,8.982667769246082e-9,30,8.982674207892485e-9,31,8.982680646548117e-9,32,8.982682792768713e-9,33,8.982685798042582e-9,34,8.982689231436652e-9,35,8.98269137766135e-9,36,8.98269266624163e-9,37,8.982705114087017e-9,38,8.982706830791106e-9,39,8.982711958374661e-9,40,8.982712839964735e-9,41,8.982717991496125e-9,42,8.982721424914803e-9,43,8.982723571154887e-9,44,8.982727863638127e-9,45,8.982730868942154e-9,46,8.982734302370678e-9,47,8.982745033612112e-9,48,8.982751472369276e-9,49,8.982755764879183e-9,50,8.982762203651733e-9,51,8.982764776628385e-9,52,8.982766496171896e-9,53,8.98277722749025e-9,54,8.98278152002477e-9,55,8.98279933943848e-9,56,8.9829143024805e-9,57,8.982922161948598e-9,58,8.98292327314211e-9,59,8.982925667349601e-9,60,8.982932222965576e-9,61,8.982961298941316e-9,62,8.982965524049989e-9,63,8.982994818246099e-9,64,8.982994895706967e-9,65,8.98299489597736e-9,66,8.983000733443498e-9,67,8.983055097289157e-9,68,8.983064111047368e-9,69,8.983111996941178e-9,70,8.983120447446023e-9,71,8.98312748954554e-9,72,8.983134531656096e-9,73,8.983141573777694e-9,74,8.983148615910332e-9,75,8.983152841195215e-9,76,8.983153545409748e-9,77,8.983153827095593e-9,78,8.98315396793852e-9,79,8.983154249624393e-9,80,8.983155658054012e-9,81,8.983960794340072e-9,82,8.984061344391998e-9,83,8.984072829255685e-9,84,8.984194981201908e-9,85,8.984275233099427e-9,86,8.984326127007554e-9,87,8.984330099816539e-9,88,8.98433275258421e-9,89,8.984333047023206e-9,90,8.984333885258723e-9,91,8.984337959508212e-9,92,8.984365176209457e-9,93,8.984727360418079e-9,94,8.984901041679577e-9,95,8.98542662091587e-9,96,8.98610024130669e-9,97,8.992894229037531e-9,98,8.993203677616635e-9,99,8.993206178094346e-9,100,8.993216059187305e-9,101,8.99322029394808e-9,102,8.994627867045891e-9,103,9.467559984315793e-9,104,9.46881168618118e-9,105,9.980888154931644e-9,106,9.981105353606775e-9,107,9.983807356573187e-9,108,1.687060485811522e-8,109,1.688447560354875e-8,110,2.176606011487185e-8,111,2.225078816042032e-8,112,2.348476432064694e-8,113,2.348765250187846e-8,114,2.378108974103778e-8,115,3.14559636297708e-8,116,3.297788621680806e-8,117,3.667892343788279e-8,118,4.235973644320739e-8,119,4.794625900676345e-8,120,7.262742998235812e-8,121,7.499447580246377e-8,122,7.525056410964318e-8,123,7.979913581209237e-8,124,9.662020153976783e-8,125,9.799175562353741e-8,126,9.897353517547472e-8,127,1.02313891987647e-7,128,1.081460541960784e-7,129,1.21905913857622e-7,130,2.246893314238523e-7,131,2.297344808062643e-7,132,2.42984645941825e-7,133,2.754604784282804e-7,134,2.884548130346993e-7,135,3.370339971357784e-7,136,4.307953346848296e-7,137,5.208707228462029e-7,138,5.509209568565608e-7,139,6.452227422644406e-7,140,6.740679942715567e-7,141,6.861770001566745e-7,142,7.252630318111686e-7,143,7.441010326374328e-7,144,7.742672907173287e-7,145,9.629542775307953e-7,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6.666666666666667e-9,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},i={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};t.yr=function(){function t(){}return t.Ny=function(e){!1===t.zp&&t.yt();var i=t.xQ(e);if(-1==i){var n=t.zx(e);n!=e&&(i=t.Ny(n))}return-1==i&&(n=t.xK(e))!=e&&(i=t.Ny(n)),i},t.xQ=function(e){return void 0!==t.Gw[e]?t.Gw[e]:-1},t.uQ=function(e){!1===t.zp&&t.yt();var i=t.fF(e);if(1e38==i){var n=t.zx(e);if(n!=e&&(i=t.fF(n)),1e38==i)return 1e-10}return i},t.PS=function(e){if(void 0!==t.Js[e])return!0;var i=t.zx(e);return i!=e&&void 0!==t.Js[i]},t.RS=function(e){if(void 0!==t.yo[e])return!0;var i=t.zx(e);return i!=e&&void 0!==t.yo[i]},t.fF=function(e){return!1===t.zp&&t.yt(),void 0!==t.Js[e]?t.Js[e]:void 0!==t.yo[e]?t.yo[e]:1e38},t.xK=function(e){return!1===t.zp&&t.yt(),void 0!==t.QA[e]?t.QA[e]:e},t.zx=function(e){return!1===t.zp&&t.yt(),void 0!==t.RA[e]?t.RA[e]:e},t.yt=function(){for(var n,r=e,s=0;s<r.pcsid.length;s+=2)t.yo[r.pcsid[s]]=r.pcstol[2*r.pcsid[s+1]+1];for(s=0;s<r.pcsidc.length;s+=1)for(var o=(n=r.pcsidc[s])[0];o<=n[1];o++)t.yo[o]=r.pcstol[2*n[2]+1];for(s=0;s<r.gcsid.length;s+=2)t.Js[r.gcsid[s]]=r.gcstol[2*r.gcsid[s+1]+1];for(s=0;s<r.gcsidc.length;s+=1)for(o=(n=r.gcsidc[s])[0];o<=n[1];o++)t.yo[o]=r.gcstol[2*n[2]+1];for(s=0;s<i.c.length;s+=1)for(o=(n=i.c[s])[0];o<=n[1];o++)t.Gw[o]=n[2];for(s=0;s<i.nc.length;s+=2)t.Gw[i.nc[s]]=i.nc[s+1];for(i=null,s=0;s<r.newtoold.length;s+=2)t.QA[r.newtoold[s+1]]=r.newtoold[s],t.RA[r.newtoold[s]]=r.newtoold[s+1];e=null,t.zp=!0},t.zp=!1,t.Js=[],t.yo=[],t.QA=[],t.RA=[],t.Gw=[],t}()}(W||(W={})),function(t){function e(t){return 0===t.length?'""':'"'==t[0]||"."==t[0]||"0"<=t[0]&&"9">=t[0]?t:'"'+t.trim()+'"'}var i=[];t.PC=function(){function n(){}return n.wQ=function(r){try{for(var s=0;s<i.length;s++)if(i[s].wkttext===r)return i[s].unit;for(var o,a=s="",c=!1,l=0;l<r.length;l++){var u=r[l];!0===c?'"'==u?'"'==r[l+1]?s+=u:c=c=!1:s+=u:/[\s]/.test(u)||(","==u?(a=""!==s?a+(e(s)+","):a+",",s=""):")"==u||"]"==u?(a=""!==s?a+(e(s)+"]}"):a+"]}",s=""):"("==u||"["==u?(a+='{ "entity": "'+s.toUpperCase().trim()+'", "values":[',s=""):'"'==u?(c=!0,s=""):s+=u)}o=JSON.parse(a);var h=n.eF(o);if(null===h)return null;for(o=null,u=0;u<h.values.length;u++)if("object"==typeof h.values[u]&&"UNIT"===h.values[u].entity){o=h.values[u];break}if(null===o)return null;var d=t.Uc.RO("GEOGCS"===h.entity?1:0,o.values[1],o.values[2]);return i.push({wkttext:r,unit:d}),10<i.length&&i.shift(),d}catch(p){return null}},n.eF=function(t){if(null===t)return null;if("GEOGCS"===t.entity||"PROJCS"===t.entity)return t;for(var e=[],i=0;i<t.values.length;i++)if("object"==typeof t.values[i]&&void 0!==t.values[i].entity){if("GEOGCS"===t.values[i].entity||"PROJCS"==t.values[i].entity)return t.values[i];e.push(t.values[i])}for(t=0;t<e.length;t++)if(null!==(i=n.eF(e[t])))return i;return null},n.vQ=function(t){var e=-1;if(null!=t&&0<t.length){var i=t.indexOf("PROJCS");if(0<=i){var n=0;if(0<=(i=t.lastIndexOf("UNIT"))&&0<(i=t.indexOf(",",i+4))){i++;var r=t.indexOf("]",i+1);if(0<r)try{n=parseFloat(t.substring(i,r))}catch(o){n=0}}0<n&&(e=.001/n)}else if(0<=(i=t.indexOf("GEOGCS"))){var s=0;if(n=0,0<(i=t.indexOf("SPHEROID",i+6))&&0<(i=t.indexOf(",",i+8))){if(i++,0<(r=t.indexOf(",",i+1)))try{s=parseFloat(t.substring(i,r))}catch(o){s=0}if(0<s&&0<=(i=t.indexOf("UNIT",r+1))&&0<(i=t.indexOf(",",i+4))&&(i++,0<(r=t.indexOf("]",i+1))))try{n=parseFloat(t.substring(i,r))}catch(o){n=0}}0<s&&0<n&&(e=.001/(s*n))}}return e},n}()}(W||(W={})),function(t){var e;(e=t.XK||(t.XK={}))[e.NONE=0]="NONE",e[e.LINEAR=1]="LINEAR",e[e.ANGULAR=2]="ANGULAR",function(t){t[t.enumFloat=0]="enumFloat",t[t.enumDouble=1]="enumDouble",t[t.enumInt32=2]="enumInt32",t[t.enumInt64=3]="enumInt64",t[t.enumInt8=4]="enumInt8",t[t.enumInt16=5]="enumInt16"}(t.IL||(t.IL={})),function(t){t[t.POSITION=0]="POSITION",t[t.Z=1]="Z",t[t.M=2]="M",t[t.ID=3]="ID",t[t.NORMAL=4]="NORMAL",t[t.TEXTURE1D=5]="TEXTURE1D",t[t.TEXTURE2D=6]="TEXTURE2D",t[t.TEXTURE3D=7]="TEXTURE3D",t[t.ID2=8]="ID2",t[t.MAXSEMANTICS=10]="MAXSEMANTICS"}(t.Jh||(t.Jh={}));var i=function(){function e(t,i){if(this.Ws=this.Be=null,this.Qq=this.Ba=0,this.vh=this.cg=null,this.yl=0,void 0!==i){for(this.Ba=i.Ba,this.Qq=i.Qq,this.cg=i.cg.slice(0),this.vh=i.vh.slice(0),this.yl=i.yl,this.Ws=[],t=i=0;t<this.Ba;t++)this.Ws[t]=i,i+=e.Wa(this.cg[t]);for(this.Qq=i,this.Be=[],t=0;t<this.Ba;t++){i=e.Wa(this.qd(t));for(var n=e.te(this.qd(t)),r=0;r<i;r++)this.Be[this.Ws[t]+r]=n}}else this.Qq=this.Ba=0}return e.prototype.qd=function(e){if(0>e||e>this.Ba)throw t.i.O();return this.cg[e]},e.prototype.Qf=function(t){return this.vh[t]},e.gz=function(t){return e.BM[t]},e.Vp=function(t){return e.KM[t]},e.Wa=function(t){return e.jM[t]},e.prototype.hasAttribute=function(t){return 0<=this.vh[t]},e.prototype.aG=function(){return this.hasAttribute(1)},e.te=function(t){return e.XC[t]},e.prototype.CR=function(t){return this.Ws[t]},e.vG=function(t,i){return e.XC[t]===i},e.prototype.Nb=function(t){return this===t},e.prototype.Bn=function(){for(var e=t.P.Uh(this.cg[0]),i=1;i<this.Ba;i++)e=t.P.Uh(this.cg[i],e);return e},e.prototype.$j=function(t){return this.Ws[t]},e.prototype.dc=function(){return this.yl},e.prototype.Fd=function(t){return this.cg[t]},e.XC=[0,0,NaN,0,0,0,0,0,0],e.BM=[1,1,1,0,2,1,1,1,0],e.KM=[1,1,1,2,0,0,0,0,2],e.jM=[2,1,1,1,3,1,2,3,2],e}();t.ua=i}(W||(W={})),function(t){function e(t,e,n){var s=e-(t=new a(t)).e,o=t.c;for(o.length>++e&&i(t,s,a.fu),o[0]?n?s=e:(o=t.c,s=t.e+s+1):++s;o.length<s;o.push(0));return s=t.e,1===n||n&&(e<=s||s<=r)?(0>t.Cd&&o[0]?"-":"")+(1<o.length?o[0]+"."+o.join("").slice(1):o[0])+(0>s?"e":"e+")+s:t.toString()}function i(t,e,i,r){var s=t.c,o=t.e+e+1;if(1===i?r=5<=s[o]:2===i?r=5<s[o]||5==s[o]&&(r||0>o||void 0!==s[o+1]||1&s[o-1]):3===i?r=r||void 0!==s[o]||0>o:(r=!1,0!==i&&n("!Big.RM!")),1>o||!s[0])r?(t.e=-e,t.c=[1]):t.c=[t.e=0];else{if(s.length=o--,r)for(;9<++s[o];)s[o]=0,o--||(++t.e,s.unshift(1));for(o=s.length;!s[--o];s.pop());}return t}function n(t){throw(t=Error(t)).name="BigError",t}var r=-7,s=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function t(e){if(e instanceof t)this.Cd=e.Cd,this.e=e.e,this.c=e.c.slice();else{var i,r,s;for(0===e&&0>1/e?e="-0":o.test(e+="")||n(NaN),this.Cd="-"==e.charAt(0)?(e=e.slice(1),-1):1,-1<(i=e.indexOf("."))&&(e=e.replace(".","")),0<(r=e.search(/e/i))?(0>i&&(i=r),i+=+e.slice(r+1),e=e.substring(0,r)):0>i&&(i=e.length),r=0;"0"==e.charAt(r);r++);if(r==(s=e.length))this.c=[this.e=0];else{for(;"0"==e.charAt(--s););for(this.e=i-r-1,this.c=[],i=0;r<=s;this.c[i++]=+e.charAt(r++));}}}return t.prototype.abs=function(){var e=new t(this);return e.Cd=1,e},t.prototype.cmp=function(e){var i=this.c,n=(e=new t(e)).c,r=this.Cd,s=e.Cd,o=this.e,a=e.e;if(!i[0]||!n[0])return i[0]?r:n[0]?-s:0;if(r!=s)return r;if(e=0>r,o!=a)return o>(a^e)?1:-1;for(r=-1,s=(o=i.length)<(a=n.length)?o:a;++r<s;)if(i[r]!=n[r])return i[r]>(n[r]^e)?1:-1;return o==a?0:o>(a^e)?1:-1},t.prototype.lm=function(e){var r=this.c,s=(e=new t(e)).c,o=this.Cd==e.Cd?1:-1,a=t.tr;if((a!==~~a||0>a||1e6<a)&&n("!Big.DP!"),!r[0]||!s[0])return r[0]==s[0]&&n(NaN),s[0]||n(o/0),new t(0*o);var c,l,u=s.slice(),h=c=s.length,d=r.length,p=r.slice(0,c),f=p.length,b=e,y=b.c=[],m=0,g=a+(b.e=this.e-e.e)+1;for(b.Cd=o,o=0>g?0:g,u.unshift(0);f++<c;p.push(0));do{for(l=0;10>l;l++){if(c!=(f=p.length))var v=c>f?1:-1;else{var w=-1;for(v=0;++w<c;)if(s[w]!=p[w]){v=s[w]>p[w]?1:-1;break}}if(!(0>v))break;for(e=f==c?s:u;f;){if(p[--f]<e[f]){for(w=f;w&&!p[--w];p[w]=9);--p[w],p[f]+=10}p[f]-=e[f]}for(;!p[0];p.shift());}y[m++]=v?l:++l,p[0]&&v?p[f]=r[h]||0:p=[r[h]]}while((h++<d||void 0!==p[0])&&o--);return y[0]||1==m||(y.shift(),b.e--),m>g&&i(b,a,t.fu,void 0!==p[0]),b},t.prototype.XR=function(){return 0<this.cmp(0)},t.prototype.dT=function(){return 0>this.cmp(0)},t.prototype.jt=function(e){var i,n=this.Cd,r=(e=new t(e)).Cd;if(n!=r)return e.Cd=-r,this.lI(e);var s=this.c.slice(),o=this.e,a=e.c,c=e.e;if(!s[0]||!a[0])return a[0]?(e.Cd=-r,e):new t(s[0]?this:0);if(n=o-c){for((i=0>n)?(n=-n,o=s):(c=o,o=a),o.reverse(),r=n;r--;o.push(0));o.reverse()}else for(o=((i=s.length<a.length)?s:a).length,n=r=0;r<o;r++)if(s[r]!=a[r]){i=s[r]<a[r];break}if(i&&(o=s,s=a,a=o,e.Cd=-e.Cd),0<(r=(o=a.length)-(i=s.length)))for(;r--;s[i++]=0);for(r=i;o>n;){if(s[--o]<a[o]){for(i=o;i&&!s[--i];s[i]=9);--s[i],s[o]+=10}s[o]-=a[o]}for(;0==s[--r];s.pop());for(;0==s[0];)s.shift(),--c;return s[0]||(e.Cd=1,s=[c=0]),e.c=s,e.e=c,e},t.prototype.lI=function(e){var i=this.Cd,n=(e=new t(e)).Cd;if(i!=n)return e.Cd=-n,this.jt(e);n=this.e;var r=this.c,s=e.e,o=e.c;if(!r[0]||!o[0])return o[0]?e:new t(r[0]?this:0*i);if(r=r.slice(),i=n-s){for(0<i?(s=n,n=o):(i=-i,n=r),n.reverse();i--;n.push(0));n.reverse()}for(0>r.length-o.length&&(n=o,o=r,r=n),i=o.length,n=0;i;)n=(r[--i]=r[i]+o[i]+n)/10|0,r[i]%=10;for(n&&(r.unshift(n),++s),i=r.length;0==r[--i];r.pop());return e.c=r,e.e=s,e},t.prototype.pow=function(e){var i=this,r=new t(1),s=r,o=0>e;for((e!==~~e||-1e6>e||1e6<e)&&n("!pow!"),e=o?-e:e;1&e&&(s=s.nr(i)),e>>=1;)i=i.nr(i);return o?r.lm(s):s},t.prototype.round=function(e,r){var s=this;return null==e?e=0:(e!==~~e||0>e||1e6<e)&&n("!round!"),i(s=new t(s),e,null==r?t.fu:r),s},t.prototype.sqrt=function(){var e=this.c,r=this.Cd,s=this.e,o=new t("0.5");if(!e[0])return new t(this);0>r&&n(NaN),0==(r=Math.sqrt(this.toString()))||r==1/0?((r=e.join("")).length+s&1||(r+="0"),(e=new t(Math.sqrt(r).toString())).e=((s+1)/2|0)-(0>s||1&s)):e=new t(r.toString()),r=e.e+(t.tr+=4);do{s=e,e=o.nr(s.lI(this.lm(s)))}while(s.c.slice(0,r).join("")!==e.c.slice(0,r).join(""));return i(e,t.tr-=4,t.fu),e},t.prototype.nr=function(e){var i=this.c,n=(e=new t(e)).c,r=i.length,s=n.length,o=this.e,a=e.e;if(e.Cd=this.Cd==e.Cd?1:-1,!i[0]||!n[0])return new t(0*e.Cd);if(e.e=o+a,r<s){var c=i;i=n,n=c,a=r,r=s,s=a}for(c=Array(a=r+s);a--;c[a]=0);for(o=s;o--;){for(s=0,a=r+o;a>o;)s=c[a]+n[o]*i[a-o-1]+s,c[a--]=s%10,s=s/10|0;c[a]=(c[a]+s)%10}for(s&&++e.e,c[0]||c.shift(),o=c.length;!c[--o];c.pop());return e.c=c,e},t.prototype.toString=function(){var t=this.e,e=this.c.join(""),i=e.length;if(t<=r||t>=s)e=e.charAt(0)+(1<i?"."+e.slice(1):"")+(0>t?"e":"e+")+t;else if(0>t){for(;++t;e="0"+e);e="0."+e}else if(0<t)if(++t>i)for(t-=i;t--;e+="0");else t<i&&(e=e.slice(0,t)+"."+e.slice(t));else 1<i&&(e=e.charAt(0)+"."+e.slice(1));return 0>this.Cd&&this.c[0]?"-"+e:e},t.prototype.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||0>t||1e6<t)&&n("!toExp!"),e(this,t,1)},t.prototype.toFixed=function(t){var i=r,o=s;if(r=-(s=1/0),null==t)var a=this.toString();else t===~~t&&0<=t&&1e6>=t&&(a=e(this,this.e+t),0>this.Cd&&this.c[0]&&0>a.indexOf("-")&&(a="-"+a));return r=i,s=o,a||n("!toFix!"),a},t.prototype.toPrecision=function(t){return null==t?this.toString():((t!==~~t||1>t||1e6<t)&&n("!toPre!"),e(this,t-1,2))},t.tr=20,t.fu=1,t}();t.ip=a}(W||(W={})),function(t){var e=function(){function e(t){this.lf=t}return e.prototype.qr=function(e,i,n){var r=new t.h,s=new t.h,o=this.lf;n.Wd(e,i,(function(t,e){return o.uc(2*t,r),o.uc(2*e,s),r.compare(s)}))},e.prototype.bq=function(t){return this.lf.read(2*t+1)},e}();t.ri=function(){function i(){}return i.cq=function(e){if(e.B())return!1;var n=e.K();return 1736==n?0!=e.He():1607==n?(n=[!1],i.kE(e,!0,n),n[0]):!(197!=n&&(!t.ba.zd(n)||e.tG()))},i.im=function(e){var n=e.K();if(1736==n)return n=new t.Ua(e.description),e.B()||e.WC(n),n;if(1607==n)return i.kE(e,!1,null);if(197==n)return n=new t.Ua(e.description),e.B()||n.bd(e,!1),n;if(t.ba.zd(n)){if(n=new t.de(e.description),!e.B()&&!e.tG()){var r=new t.Ta;e.Uo(r),n.add(r),e.Qo(r),n.add(r)}return n}if(t.ba.Sn(n))return null;throw t.i.O()},i.kE=function(i,n,r){null!=r&&(r[0]=!1);var s=null;if(n||(s=new t.de(i.description)),!i.B()){var o=new t.ja(0);o.Jb(2*i.ea());for(var a=0,c=i.ea();a<c;a++)if(0<i.Ka(a)&&!i.On(a)){var l=i.Ca(a);o.add(l),l=i.Wc(a)-1,o.add(l)}if(0<o.size){c=new t.Yt,a=i.vb(0),c.sort(o,0,o.size,new e(a)),c=new t.h,a.uc(2*o.get(0),c),l=0;for(var u=1,h=new t.Ta,d=new t.h,p=1,f=o.size;p<f;p++)if(a.uc(2*o.get(p),d),d.rb(c))o.get(l)>o.get(p)?(o.set(l,2147483647),l=p):o.set(p,2147483647),u++;else{if(0==(1&u))o.set(l,2147483647);else if(n)return null!=r&&(r[0]=!0),null;c.N(d),l=p,u=1}if(0==(1&u))o.set(l,2147483647);else if(n)return null!=r&&(r[0]=!0),null;if(!n)for(o.Wd(0,o.size,(function(t,e){return t-e})),p=0,f=o.size;p<f&&2147483647!=o.get(p);p++)i.we(o.get(p),h),s.add(h)}}return n?null:s},i}()}(W||(W={})),function(t){var e=function(){function e(){this.zf=new t.ja(0),this.zs=new t.ja(0),this.wH=1,this.Fs=NaN}return e.prototype.sort=function(t,e,i,n){if(32>i-e)n.qr(e,i,t);else{var r=!0;try{for(var s=1/0,o=-1/0,a=e;a<i;a++){var c=n.bq(t.get(a));c<s&&(s=c),c>o&&(o=c)}if(this.reset(i-e,s,o,i-e)){for(a=e;a<i;a++){var l=t.get(a);c=n.bq(l);var u=this.rF(c);this.zf.set(u,this.zf.get(u)+1),this.zs.write(a-e,l)}var h=this.zf.get(0);this.zf.set(0,0),a=1;for(var d=this.zf.size;a<d;a++){var p=this.zf.get(a);this.zf.set(a,h),h+=p}for(a=e;a<i;a++){l=this.zs.read(a-e),c=n.bq(l),u=this.rF(c);var f=this.zf.get(u);t.set(f+e,l),this.zf.set(u,f+1)}r=!1}}catch(b){this.zf.resize(0),this.zs.resize(0)}if(r)n.qr(e,i,t);else{for(a=i=0,d=this.zf.size;a<d;a++)r=i,(i=this.zf.get(a))>r&&n.qr(e+r,e+i,t);100<this.zf.size&&(this.zf.resize(0),this.zs.resize(0))}}},e.prototype.reset=function(t,i,n,r){return!(2>t||n==i)&&(t=Math.min(e.$K,t),this.zf.Jb(t),this.zf.resize(t),this.zf.Xj(0,0,this.zf.size),this.wH=i,this.zs.resize(r),this.Fs=(n-i)/(t-1),!0)},e.prototype.rF=function(e){return t.P.truncate((e-this.wH)/this.Fs)},e.$K=65536,e}();t.Yt=e}(W||(W={})),function(t){var e,i;(i=e||(e={}))[i.enum_line=1]="enum_line",i[i.enum_arc=2]="enum_arc",i[i.enum_dummy=4]="enum_dummy",i[i.enum_concave_dip=8]="enum_concave_dip",i[i.enum_connection=3]="enum_connection";var n=function(){function e(){}return e.Su=function(i,n,r,s,o,a){var c=new e;return c.Km=new t.h,c.Xm=new t.h,c.bw=new t.h,c.Km.N(i),c.Xm.N(n),c.bw.N(r),c.Do=s,c.rh=o,c.th=a,c},e.construct=function(i,n,r,s){var o=new e;return o.Km=new t.h,o.Xm=new t.h,o.bw=new t.h,o.Km.N(i),o.Xm.N(n),o.bw.Sc(),o.Do=4,o.rh=r,o.th=s,o},e}(),r=function(){function e(t,e,i,n,r,s){this.Zv=null,this.za=0,this.yA=t,this.UH=this.SH=0,this.La=e,this.Nj=i,this.vk=n,this.Fq=r,this.Vb=s}return e.prototype.next=function(){for(var e=new t.Ta;;){if(this.za==this.yA.I())return null;if(this.yA.we(this.za,e),this.za++,!e.B())break}var i=!1;if(null==this.Zv&&(this.SH=e.Mg(),this.UH=e.jh(),this.Zv=a.buffer(e,this.La,this.Nj,this.vk,this.Fq,this.Vb),i=!0),this.za<this.yA.I()){var n=new t.Ea;this.Zv.copyTo(n)}else n=this.Zv;if(!i){i=new t.Ed;var r=e.Mg()-this.SH;e=e.jh()-this.UH,i.gg(r,e),n.Pc(i)}return n},e.prototype.Ma=function(){return 0},e.prototype.qe=function(){},e}(),s=function(){function e(t,e){this.Xa=t,this.za=0,this.qq=e}return e.prototype.next=function(){var e=this.Xa.Y;if(this.za<e.ea()){var i=this.za;if(this.za++,!e.On(i))for(var n=e.Oa(e.Wc(i)-1);this.za<e.ea();){var r=e.Oa(e.Ca(this.za));if(e.On(this.za))break;if(r!=n)break;n=e.Oa(e.Wc(this.za)-1),this.za++}if(1==this.za-i)return this.Xa.cE(this.Xa.Y,i,this.qq);for((n=new t.Ua(this.Xa.Y.description)).addPath(this.Xa.Y,i,!0),i+=1;i<this.za;i++)n.Fr(this.Xa.Y,i,0,e.sv(i),!1);return this.Xa.cE(n,0,this.qq)}return null},e.prototype.Ma=function(){return 0},e.prototype.qe=function(){},e}(),o=function(){function t(t){this.Xa=t,this.za=0}return t.prototype.next=function(){var t=this.Xa.Y;if(this.za<t.ea()){var e=this.za;for(t.Kr(this.za),this.za++;this.za<t.ea()&&!(0<t.Kr(this.za));)this.za++;return 0==e&&this.za==t.ea()?this.Xa.ky(t,0,t.ea()):this.Xa.ky(t,e,this.za)}return null},t.prototype.Ma=function(){return 0},t.prototype.qe=function(){},t}(),a=function(){function e(t){this.Ls=this.mw=this.Ms=this.Jd=null,this.$d=[],this.Vb=t,this.sb=this.Lv=this.zT=this.La=this.nA=this.ct=this.ra=0,this.iA=this.vk=-1,this.qq=!0}return e.buffer=function(i,n,r,s,o,a){if(null==i)throw t.i.O();if(0>s)throw t.i.O();if(i.B())return new t.Ea(i.description);var c=new t.l;return i.yc(c),0<n&&c.X(n,n),(a=new e(a)).Nj=r,a.Y=i,a.ra=t.ta.Xd(r,c,!0),a.ct=t.ta.Xd(null,c,!0),a.La=n,a.zT=i.K(),0>=o&&(o=96),a.sb=Math.abs(a.La),a.Lv=0!=a.sb?1/a.sb:0,isNaN(s)||0==s?s=1e-5*a.sb:s>.5*a.sb&&(s=.5*a.sb),12>o&&(o=12),(i=Math.abs(n)*(1-Math.cos(Math.PI/o)))>s?s=i:(i=Math.PI/Math.acos(1-s/Math.abs(n)))<o-1&&12>(o=t.P.truncate(i))&&(o=12,s=Math.abs(n)*(1-Math.cos(Math.PI/o))),a.vk=s,a.Fq=o,a.nA=Math.min(a.ct,.25*s),a.dE()},e.prototype.dv=function(){if(null==this.Jd)this.Jd=[];else if(0!==this.Jd.length)return;var e=this.iE();e=t.P.truncate((e+3)/4);var i=.5*Math.PI/e;this.iA=i;for(var n=0;n<4*e;n++)this.Jd.push(null);var r=Math.cos(i);i=Math.sin(i);var s=t.h.construct(0,1);for(n=0;n<e;n++)this.Jd[n+0*e]=t.h.construct(s.y,-s.x),this.Jd[n+1*e]=t.h.construct(-s.x,-s.y),this.Jd[n+2*e]=t.h.construct(-s.y,s.x),this.Jd[n+3*e]=s,(s=t.h.construct(s.x,s.y)).Bt(r,i)},e.prototype.dE=function(){var e=this.Y.K();if(t.ba.zd(e))return(e=new t.Ua(this.Y.description)).oc(this.Y,!0),this.Y=e,this.dE();if(this.La<=this.ra){if(!t.ba.KS(e))return new t.Ea(this.Y.description);if(0>=this.La&&(e=new t.l,this.Y.A(e),e.S()<=2*-this.La||e.da()<=2*this.La))return new t.Ea(this.Y.description)}switch(this.Y.K()){case 33:return this.HN();case 550:return this.GN();case 1607:return this.JN();case 1736:return this.IN();case 197:return this.DN();default:throw t.i.Ra()}},e.prototype.JN=function(){if(this.wG(this.Y)){var e=new t.Ta;this.Y.we(0,e);var i=new t.l;return this.Y.A(i),e.Db(i.tf()),this.Hu(e)}return this.Y=this.MV(this.Y),e=new s(this,this.qq),t.Hh.local().W(e,this.Nj,this.Vb).next()},e.prototype.IN=function(){if(0==this.La)return this.Y;var e=t.$l.local();if(this.dv(),this.Y=e.W(this.Y,null,!1,this.Vb),0>this.La){var i=this.Y;return i=this.ky(i,0,i.ea()),e.W(i,this.Nj,!1,this.Vb)}return this.wG(this.Y)?(e=new t.Ta,this.Y.we(0,e),i=new t.l,this.Y.A(i),e.Db(i.tf()),this.Hu(e)):(e=new o(this),t.Hh.local().W(e,this.Nj,this.Vb).next())},e.prototype.ky=function(i,n,r){for(var s=new t.Ea(i.description);n<r;n++)if(!(1>i.Ka(n))){var o=i.Kr(n),a=new t.l;if(i.Sj(n,a),0<this.La){if(0<o)if(this.xG(i,n))o=new t.Ta,i.we(i.Ca(n),o),o.Db(a.tf()),this.zu(s,o);else{var c=o=new t.Ua(i.description);c=t.$t.BG(this.Y,n)||2==this.An(this.Y,n,c,!0,1)?this.bE(i,n):this.zn(o),s.add(c,!1)}else if(!(a.S()+this.ra<=2*this.sb||a.da()+this.ra<=2*this.sb||(c=o=new t.Ua(i.description),this.An(this.Y,n,c,!0,1),o.B()))){var l=new t.l;for(l.L(a),l.X(this.sb,this.sb),c.vp(l),a=1,o=(c=this.zn(o)).ea();a<o;a++)s.addPath(c,a,!0)}}else if(0<o){if(!(a.S()+this.ra<=2*this.sb||a.da()+this.ra<=2*this.sb||(c=o=new t.Ua(i.description),this.An(this.Y,n,c,!0,-1),o.B())))for(l=new t.l,c.yc(l),l.X(this.sb,this.sb),c.vp(l),a=1,o=(c=this.zn(o)).ea();a<o;a++)s.addPath(c,a,!0)}else for(c=o=new t.Ua(i.description),this.An(this.Y,n,c,!0,-1),a=0,o=(c=this.zn(o)).ea();a<o;a++)s.addPath(c,a,!0)}if(0<this.La)return 1<s.ea()?s=this.zn(s):e.jx(s);if(i=new t.l,s.yc(i),s.B())return e.jx(s);for(i.X(this.sb,this.sb),s.vp(i),s=this.zn(s),i=new t.Ea(s.description),a=1,o=s.ea();a<o;a++)i.addPath(s,a,!1);return e.jx(i)},e.prototype.HN=function(){return this.Hu(this.Y)},e.prototype.Hu=function(e){var i=new t.Ea(this.Y.description);return this.zu(i,e),this.gX(i)},e.prototype.GN=function(){var e=new r(this.Y,this.La,this.Nj,this.vk,this.Fq,this.Vb);return t.Hh.local().W(e,this.Nj,this.Vb).next()},e.prototype.DN=function(){var e=new t.Ea(this.Y.description);if(0>=this.La){if(0==this.La)e.bd(this.Y,!1);else{var i=new t.Gh;this.Y.dn(i),i.X(this.La,this.La),e.bd(i,!1)}return e}return e.bd(this.Y,!1),this.Y=e,this.bE(e,0)},e.prototype.bE=function(i,n){this.dv();var r=new t.Ea(i.description),s=new t.h,o=new t.h,a=new t.h,c=new t.h,l=new t.h,u=new t.h,h=new t.h,d=new t.h,p=i.Ka(n),f=i.Ca(n),b=0;for(n=i.Ka(n);b<n;b++){if(i.D(f+b,o),i.D(f+(b+1)%p,c),i.D(f+(b+2)%p,u),h.vc(c,o),0==h.length())throw t.i.Ra();if(h.Iv(),h.normalize(),h.scale(this.sb),s.add(h,o),a.add(h,c),0==b?r.Mt(s):r.Di(s),r.Di(a),d.vc(u,c),0==d.length())throw t.i.Ra();d.Iv(),d.normalize(),d.scale(this.sb),l.add(d,c),this.yD(r,c,a,l,!1)}return e.jx(r)},e.prototype.cE=function(e,i,n){if(this.dv(),1>e.Ka(i))return null;if(this.xG(e,i)&&0<this.La){n=new t.Ta,e.we(e.Ca(i),n);var r=new t.l;return e.Sj(i,r),n.Db(r.tf()),this.Hu(n)}if(r=new t.Ua(e.description),e.On(i))this.An(e,i,r,n,1),this.An(e,i,r,n,-1);else{var s=new t.Ua(e.description);s.addPath(e,i,!1),s.Fr(e,i,0,e.sv(i),!1),this.An(s,0,r,n,1)}return this.zn(r)},e.prototype.Zq=function(){if(this.Zs++,0==this.Zs%1024&&null!=this.Vb&&!this.Vb.progress(-1,-1))throw t.i.gu("user_canceled")},e.prototype.zn=function(e){return t.Hg.Mk(e,this.ct,!0,!0,this.Vb)},e.prototype.iE=function(){if(0==this.vk)return this.Fq;var e=1-this.vk*Math.abs(this.Lv);return 4>(e=-1>e?4:2*Math.PI/Math.acos(e)+.5)?e=4:e>this.Fq&&(e=this.Fq),t.P.truncate(e)},e.prototype.yD=function(e,i,n,r,s){this.dv();var o=new t.h;o.vc(n,i),o.scale(this.Lv);var a=new t.h;a.vc(r,i),a.scale(this.Lv),0>(o=Math.atan2(o.y,o.x)/this.iA)&&(o=this.Jd.length+o),o=this.Jd.length-o,0>(a=Math.atan2(a.y,a.x)/this.iA)&&(a=this.Jd.length+a),(a=this.Jd.length-a)<o&&(a+=this.Jd.length);var c=t.P.truncate(a);a=t.P.truncate(Math.ceil(o)),(o=new t.h).N(this.Jd[a%this.Jd.length]),o.Ct(this.sb,i);var l=10*this.ra;for(o.sub(n),o.length()<l&&(a+=1),o.N(this.Jd[c%this.Jd.length]),o.Ct(this.sb,i),o.sub(r),o.length()<l&&--c,n=c-a,n++,c=0,a%=this.Jd.length;c<n;c++,a=(a+1)%this.Jd.length)o.N(this.Jd[a]),o.Ct(this.sb,i),e.Di(o),this.Zq();s&&e.Di(r)},e.prototype.An=function(e,i,r,s,o){var a=new t.hd,c=a.eN(e,i);if(a.Ip(this.nA,!1,!1),2>a.I(c))return 0>o||(o=e,a=new t.Ta,o.we(o.Ca(i),a),this.zu(r,a)),1;var l=a.Oa(a.Ya(a.Ob(c))),u=new t.Ed;if(u.gg(-l.x,-l.y),a.Pc(u),s&&(this.lQ(a,c,o),2>a.I(c)))return 0>o||(o=e,a=new t.Ta,o.we(o.Ca(i),a),this.zu(r,a)),1;this.$d.length=0;var h=a.Ob(c);i=a.Ya(h);var d=1==o?a.Na(i):a.V(i);e=1==o?a.V(i):a.Na(i);var p=!0;s=new t.h,c=new t.h;var f=new t.h,b=new t.h,y=new t.h,m=new t.h,g=new t.h,v=new t.h,w=new t.h,O=new t.h,j=this.sb;h=a.Ka(h);for(var _=0;_<h;_++)a.D(e,c),p&&(a.D(i,s),a.D(d,f),v.vc(s,f),v.normalize(),O.EG(v),O.scale(j),b.add(O,s)),g.vc(c,s),g.normalize(),w.EG(g),w.scale(j),y.add(s,w),d=v.xi(g),p=v.Rh(g),0>d||0>p&&0==d?this.$d.push(n.Su(b,y,s,2,this.$d.length+1,this.$d.length-1)):b.rb(y)||(this.$d.push(n.construct(b,s,this.$d.length+1,this.$d.length-1,"dummy")),this.$d.push(n.construct(s,y,this.$d.length+1,this.$d.length-1,"dummy"))),m.add(c,w),this.$d.push(n.Su(y,m,s,1,this.$d.length+1,this.$d.length-1)),b.N(m),O.N(w),f.N(s),s.N(c),v.N(g),d=i,i=e,p=!1,e=1==o?a.V(i):a.Na(i);return this.$d[this.$d.length-1].rh=0,this.$d[0].th=this.$d.length-1,this.OV(r),u.gg(l.x,l.y),r.QD(u,r.ea()-1),1},e.prototype.OV=function(t){for(var e=this.rO(),i=!0,n=e+1,r=e;n!=e;r=n){var s=this.$d[r];n=-1!=s.rh?s.rh:(r+1)%this.$d.length,0!=s.Do&&(i&&t.Mt(s.Km),2==s.Do?this.yD(t,s.bw,s.Km,s.Xm,!0):t.Di(s.Xm),i=!1)}},e.prototype.rO=function(){null==this.Ls&&(this.Ls=[null,null,null,null,null,null,null,null,null]);for(var e=0,i=0,n=this.$d.length;i<n;){var r=this.$d[i];if(0!=(3&r.Do)){e=i;break}i=r.rh}for(n=e+1,i=e;n!=e;i=n){n=(r=this.$d[i]).rh;for(var s=1,o=null;n!=i&&0==(3&(o=this.$d[n]).Do);)n=o.rh,s++;1!=s&&1==(r.Do&o.Do)&&(null==this.Ms&&(this.Ms=new t.zb,this.mw=new t.zb),this.Ms.Ec(r.Km),this.Ms.Rc(r.Xm),this.mw.Ec(o.Km),this.mw.Rc(o.Xm),1==this.Ms.Fa(this.mw,this.Ls,null,null,this.ct)&&(r.Xm.N(this.Ls[0]),o.Km.N(this.Ls[0]),r.rh=n,o.th=i))}return e},e.prototype.Gv=function(e,i,n){var r=new t.h;if(r.vc(n,e),n=r.length(),0<(n=this.sb*this.sb-n*n*.25)){n=Math.sqrt(n),r.normalize(),r.cr();var s=new t.h;if(s.vc(i,e),s.Rh(r)+n>=this.sb)return!0}return!1},e.prototype.lQ=function(e,i,n){for(var r=0;1>r;r++){var s=!1,o=e.Ob(i),a=e.Ka(o);if(0==a)break;var c=a;if(3>a)break;!e.ec(o)&&(c=a-1),o=e.Ya(o),a=0<n?e.Na(o):e.V(o);for(var l=0<n?e.V(o):e.Na(o),u=a,h=!0,d=new t.h,p=new t.h,f=new t.h,b=new t.h,y=new t.h,m=t.h.construct(0,0),g=new t.h,v=new t.h,w=new t.h,O=new t.h,j=this.sb,_=0,x=0;x<c&&(e.D(l,p),h&&(e.D(o,d),e.D(a,f),u=a),v.vc(d,f),v.normalize(),g.vc(p,d),g.normalize(),u!=l);){var S=v.xi(g),M=v.Rh(g),k=!0;if(0>S||0>M&&0==S||!this.Gv(f,d,p)||(m.N(p),k=!1,++_,s=!0),k){if(0<_)for(;(S=0<n?e.Na(u):e.V(u))!=o;){if(e.D(S,b),!this.Gv(b,f,m)){S!=l&&this.Gv(b,f,p)&&this.Gv(b,d,p)&&(f.N(b),u=S,k=!1,++_);break}f.N(b),u=S,k=!1,++_}if(!k)continue;if(0<_){for(u=0<n?e.Na(a):e.V(a),h=1;h<_;h++)k=0<n?e.Na(u):e.V(u),e.pd(u,!0),u=k;w.vc(d,f),_=j*j-(_=w.length())*_*.25,j-(_=Math.sqrt(_))>.5*this.vk?(y.add(f,d),y.scale(.5),w.normalize(),w.cr(),O.N(w),O.scale(j-_),y.add(O),e.mf(a,y)):e.pd(a,!0),_=0}f.N(d),u=o}d.N(p),a=o,o=l,l=0<n?e.V(o):e.Na(o),x++,h=!1}if(0<_){for(u=0<n?e.Na(a):e.V(a),h=1;h<_;h++)k=0<n?e.Na(u):e.V(u),e.pd(u,!0),u=k;y.add(f,d),y.scale(.5),w.vc(d,f),_=j*j-(_=w.length())*_*.25,_=Math.sqrt(_),w.normalize(),w.cr(),O.N(w),O.scale(j-_),y.add(O),e.mf(a,y)}if(e.Ip(this.nA,!1,!1),!s)break}},e.prototype.xG=function(e,i){if(1==e.Ka(i))return!0;var n=new t.l;return e.Sj(i,n),Math.max(n.S(),n.da())<.5*this.vk},e.prototype.wG=function(e){var i=new t.l;return e.A(i),Math.max(i.S(),i.da())<.5*this.vk},e.prototype.MV=function(e){for(var i=0,n=0,r=(e=t.wC.local().W(e,.25*this.vk,!1,this.Vb)).ea();n<r;n++)i=Math.max(e.Ka(n),i);return 32>i?(this.qq=!1,e):(this.qq=!0,t.Hg.Mk(e,this.ct,!1,!0,this.Vb))},e.prototype.zu=function(e,i){if(i=i.D(),null!=this.Jd&&0!==this.Jd.length){var n=new t.h;n.N(this.Jd[0]),n.Ct(this.sb,i),e.Mt(n);for(var r=1,s=this.Jd.length;r<s;r++)n.N(this.Jd[r]),n.Ct(this.sb,i),e.Di(n)}else{r=this.iE(),n=t.P.truncate((r+3)/4),r=.5*Math.PI/n,s=Math.cos(r);for(var o=Math.sin(r),a=new t.h,c=3;0<=c;c--){switch(a.na(0,this.sb),c){case 0:for(r=0;r<n;r++)e.zj(a.x+i.x,a.y+i.y),a.Bt(s,o);break;case 1:for(r=0;r<n;r++)e.zj(-a.y+i.x,a.x+i.y),a.Bt(s,o);break;case 2:for(r=0;r<n;r++)e.zj(-a.x+i.x,-a.y+i.y),a.Bt(s,o);break;default:for(e.qx(a.y+i.x,-a.x+i.y),r=1;r<n;r++)a.Bt(s,o),e.zj(a.y+i.x,-a.x+i.y)}this.Zq()}}},e.jx=function(t){return t.Dh(1,0),t},e.prototype.gX=function(t){return t.Dh(2,this.ra),t.hm(),t},e}();t.zK=a}(W||(W={})),function(t){var e=function(){function e(e){this.Da=e,this.g=new t.hd,this.ed=new t.ja(0)}return e.prototype.Mh=function(t,e,i){switch(e){case 0:if(t.v<i&&t.C<=i)break;return t.v>=i?1:-1;case 1:if(t.G<i&&t.H<=i)break;return t.G>=i?1:-1;case 2:if(t.v>=i&&t.C>i)break;return t.C<=i?1:-1;case 3:if(!(t.G>=i&&t.H>i))return t.H<=i?1:-1}return 0},e.prototype.uy=function(t,e){return 1736==t.K()?this.wy(t,e):this.xy(t)},e.prototype.wy=function(e,i){if(0==this.Da.S()||0==this.Da.da())return e.Ja();var n=new t.l;e.yc(n),this.Y=this.g.Ib(e);var r=new t.l,s=new t.l,o=new t.h,a=new t.h,c=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0];new t.hg;var u=new t.zb,h=new t.ja(0);h.Jb(Math.min(100,e.I()));for(var d=!1,p=0;!d&&4>p;p++){var f=!1,b=0!=(1&p),y=0;switch(p){case 0:y=this.Da.v,f=n.v<=y&&n.C>=y;break;case 1:y=this.Da.G,f=n.G<=y&&n.H>=y;break;case 2:y=this.Da.C,f=n.v<=y&&n.C>=y;break;case 3:y=this.Da.H,f=n.G<=y&&n.H>=y}if(f)for(d=!0,f=this.g.Ob(this.Y);-1!=f;){var m=-1,g=-1,v=this.g.Ya(f),w=v;do{var O=this.g.cc(w);null==O&&(O=u,this.g.D(w,o),O.Ec(o),this.g.D(this.g.V(w),a),O.Rc(a)),O.A(r);var j=this.Mh(r,p,y),_=0,x=-1;if(-1==j){_=0<(O=O.fq(b,y,c,l))?this.g.Wl(w,l,O):0,_+=1;var S=w,M=this.g.V(S);for(O=0;O<_;O++){if(this.g.D(S,o),this.g.D(M,a),null==(x=this.g.cc(S))&&((x=u).Ec(o),x.Rc(a)),x.A(s),-1==(x=this.Mh(s,p,y))){if(b)(x=Math.abs(o.y-y))<(k=Math.abs(a.y-y))?(o.y=y,this.g.mf(S,o)):(a.y=y,this.g.mf(M,a));else{x=Math.abs(o.x-y);var k=Math.abs(a.x-y);x<k?(o.x=y,this.g.mf(S,o)):(a.x=y,this.g.mf(M,a))}null==(x=this.g.cc(S))&&((x=u).Ec(o),x.Rc(a)),x.A(s),x=this.Mh(s,p,y)}k=m,m=x,-1==g&&(g=m),0==k&&1==m||1==k&&0==m||0!=k||0!=m||h.add(S),1==m&&(d=!1),x=S=M,M=this.g.V(M)}}0==_&&(k=m,m=j,-1==g&&(g=m),0==k&&1==m||1==k&&0==m||0!=k||0!=m||h.add(w),1==m&&(d=!1),x=this.g.V(w)),w=x}while(w!=v);for(0==g&&0==m&&h.add(v),O=0,m=h.size;O<m;O++)g=h.get(O),this.g.pd(g,!1);h.clear(!1),f=3>this.g.Ka(f)?this.g.ar(f):this.g.Sb(f)}}return d?e.Ja():(this.zB(),0<i&&this.Hy(i),this.g.Ke(this.Y))},e.prototype.xy=function(e){var i=new t.l,n=new t.l,r=[0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0],o=new t.hg,a=e,c=new t.l;e.yc(c);for(var l=0;4>l;l++){var u=!1,h=0!=(1&l),d=0;switch(l){case 0:d=this.Da.v,u=c.v<=d&&c.C>=d;break;case 1:d=this.Da.G,u=c.G<=d&&c.H>=d;break;case 2:d=this.Da.C,u=c.v<=d&&c.C>=d;break;case 3:d=this.Da.H,u=c.G<=d&&c.H>=d}if(u){u=a,a=e.Ja(),(u=u.Ha()).$i();for(var p,f=new t.h;u.ab();)for(var b,y=!0;u.Ia();){var m=u.ia();m.A(i);var g=this.Mh(i,l,d);if(-1==g){if(0<(g=m.fq(h,d,r,s))){var v=0;p=m.ac();for(var w=0;w<=g;w++)if(v!=(b=w<g?s[w]:1)){m.bh(v,b,o);var O=o.get();O.Ec(p),w<g&&(h?(f.x=r[w],f.y=d):(f.x=d,f.y=r[w]),O.Rc(f)),O.A(n);var j=this.Mh(n,l,d);if(-1==j){if(p=O.ac(),v=O.xc(),h)(j=Math.abs(p.y-d))<(_=Math.abs(v.y-d))?(p.y=d,O.Ec(p)):(v.y=d,O.Rc(v));else{j=Math.abs(p.x-d);var _=Math.abs(v.x-d);j<_?(p.x=d,O.Ec(p)):(v.x=d,O.Rc(v))}O.A(n),j=this.Mh(n,l,d)}p=O.xc(),v=b,1==(b=j)?(a.oc(O,y),y=!1):y=!0}}}else 1==(b=g)?(a.oc(m,y),y=!1):y=!0}}}return a},e.prototype.zB=function(){this.ki=-1,this.Xl(!1,this.Da.v),this.Xl(!1,this.Da.C),this.Xl(!0,this.Da.G),this.Xl(!0,this.Da.H),this.ed.resize(0),this.ed.Jb(100),this.ki=this.g.Hd();for(var e=new t.h,i=this.g.Ob(this.Y);-1!=i;i=this.g.Sb(i))for(var n=this.g.Ya(i),r=0,s=this.g.Ka(i);r<s;r++,n=this.g.V(n))this.g.D(n,e),(this.Da.v==e.x||this.Da.C==e.x||this.Da.G==e.y||this.Da.H==e.y)&&(this.g.Sa(n,this.ki,this.ed.size),this.ed.add(n));this.Pl(!1,this.Da.v),this.Pl(!1,this.Da.C),this.Pl(!0,this.Da.G),this.Pl(!0,this.Da.H),this.Oy()},e.prototype.Hy=function(e){for(var i=new t.h,n=new t.h,r=t.P.lg(2048,0),s=this.g.Ob(this.Y);-1!=s;s=this.g.Sb(s)){var o=this.g.Ya(s),a=o;do{var c=this.g.V(a);this.g.D(a,i);var l=-1;if(i.x==this.Da.v?(this.g.D(c,n),n.x==this.Da.v&&(l=1)):i.x==this.Da.C&&(this.g.D(c,n),n.x==this.Da.C&&(l=1)),i.y==this.Da.G?(this.g.D(c,n),n.y==this.Da.G&&(l=0)):i.y==this.Da.H&&(this.g.D(c,n),n.y==this.Da.H&&(l=0)),-1!=l&&(l=t.h.ub(i,n),!(1>=(l=t.P.truncate(Math.min(Math.ceil(l/e),2048)))))){for(var u=1;u<l;u++)r[u-1]=1*u/l;this.g.Wl(a,r,l-1)}a=c}while(a!=o)}},e.prototype.Xl=function(e,i){var n=this.g.Hd(),r=new t.h,s=new t.ja(0);s.Jb(100);for(var o=this.g.Ob(this.Y);-1!=o;o=this.g.Sb(o))for(var a=this.g.Ya(o),c=0,l=this.g.Ka(o);c<l;c++){var u=this.g.V(a);this.g.D(a,r),(e?r.y==i:r.x==i)&&(this.g.D(u,r),(e?r.y==i:r.x==i)&&(1!=this.g.Qa(a,n)&&(s.add(a),this.g.Sa(a,n,1)),1!=this.g.Qa(u,n)&&(s.add(u),this.g.Sa(u,n,1)))),a=u}if(this.g.Ud(n),!(3>s.size)){var h=this;s.Wd(0,s.size,(function(t,e){return h.Nh(t,e)})),n=new t.h,o=new t.h,a=new t.h,o.Sc();var d=-1;c=new t.ja(0),l=new t.ja(0),u=this.g.Hd();for(var p=this.g.Hd(),f=0,b=s.size;f<b;f++){var y=s.get(f);if(this.g.D(y,r),!r.rb(o)){if(-1!=d){for(var m=d;m<f;m++){d=s.get(m);var g=this.g.V(d);y=this.g.Na(d);var v=!1;0>this.Nh(d,g)&&(this.g.D(g,n),e?n.y==i:n.x==i)&&(c.add(d),v=!0,this.g.Sa(d,p,1)),0>this.Nh(d,y)&&(this.g.D(y,n),e?n.y==i:n.x==i)&&(v||c.add(d),this.g.Sa(d,u,1))}for(m=0,v=c.size;m<v;m++){if(d=c.get(m),y=this.g.Qa(d,u),g=this.g.Qa(d,p),1==y){y=this.g.Na(d),this.g.D(y,a);var w=[0];if(w[0]=0,!a.rb(r)){var O=t.h.ub(o,a);w[0]=t.h.ub(a,r)/O,0==w[0]?w[0]=2220446049250313e-31:1==w[0]&&(w[0]=.9999999999999998),this.g.Wl(y,w,1),y=this.g.Na(d),this.g.mf(y,r),l.add(y),this.g.Sa(y,u,1),this.g.Sa(y,p,-1)}}1==g&&(g=this.g.V(d),this.g.D(g,a),(w=[0])[0]=0,a.rb(r)||(O=t.h.ub(o,a),w[0]=t.h.ub(o,r)/O,0==w[0]?w[0]=2220446049250313e-31:1==w[0]&&(w[0]=.9999999999999998),this.g.Wl(d,w,1),y=this.g.V(d),this.g.mf(y,r),l.add(y),this.g.Sa(y,u,-1),this.g.Sa(y,p,1)))}d=c,c=l,(l=d).clear(!1)}d=f,o.N(r)}}this.g.Ud(u),this.g.Ud(p)}},e.prototype.Pl=function(e,i){var n=new t.h,r=new t.ja(0);r.Jb(100);for(var s=this.g.Hd(),o=0,a=this.ed.size;o<a;o++){var c=this.ed.get(o);if(-1!=c){var l=this.g.V(c);this.g.D(c,n),(e?n.y==i:n.x==i)&&(this.g.D(l,n),(e?n.y==i:n.x==i)&&(-2!=this.g.Qa(c,s)&&(r.add(c),this.g.Sa(c,s,-2)),-2!=this.g.Qa(l,s)&&(r.add(l),this.g.Sa(l,s,-2))))}}if(0!=r.size){var u=this;for(r.Wd(0,r.size,(function(t,e){return u.Nh(t,e)})),o=0,a=r.size;o<a;o++){var h=r.get(o);this.g.Sa(h,s,o)}c=new t.h,(l=new t.h).Sc();var d=-1;for(o=0,a=r.size;o<a;o++)if(-1!=(h=r.get(o))&&(this.g.D(h,n),!n.rb(l))){if(-1!=d)for(;;){h=!1;for(var p=1<o-d?o-1:o,f=d;f<p;f++){var b=r.get(f);if(-1!=b){var y=-1,m=this.g.V(b);0>this.Nh(b,m)&&(this.g.D(m,c),e?c.y==i:c.x==i)&&(y=m),m=-1;var g=this.g.Na(b);if(0>this.Nh(b,g)&&(this.g.D(g,c),e?c.y==i:c.x==i)&&(m=g),-1!=y&&-1!=m)this.Lh(b,r,s),this.g.pd(b,!1),this.Lh(y,r,s),this.g.pd(y,!1),h=!0;else if(-1!=y||-1!=m){for(g=f+1;g<o;g++){var v=r.get(g);if(-1!=v){var w=this.g.V(v),O=-1;0>this.Nh(v,w)&&(this.g.D(w,c),e?c.y==i:c.x==i)&&(O=w),w=this.g.Na(v);var j=-1;if(0>this.Nh(v,w)&&(this.g.D(w,c),e?c.y==i:c.x==i)&&(j=w),-1!=O&&-1!=j){this.Lh(v,r,s),this.g.pd(v,!1),this.Lh(O,r,s),this.g.pd(O,!1),h=!0;break}if(-1!=y&&-1!=j){this.zt(r,b,y,v,j,s),h=!0;break}if(-1!=m&&-1!=O){this.zt(r,v,O,b,m,s),h=!0;break}}}if(h)break}}}if(!h)break}d=o,l.N(n)}}this.g.Ud(s)},e.prototype.Lh=function(t,e,i){i=this.g.Qa(t,i),e.set(i,-1),i=this.g.Qa(t,this.ki),this.ed.set(i,-1),-1!=(e=this.g.cd(t))&&this.g.Ya(e)==t&&(this.g.Kf(e,-1),this.g.Xg(e,-1))},e.prototype.zt=function(t,e,i,n,r,s){this.g.Cc(e,n),this.g.Dc(n,e),this.g.Dc(i,r),this.g.Cc(r,i),this.Lh(n,t,s),this.g.ni(n,!1),this.Lh(r,t,s),this.g.ni(r,!0)},e.prototype.Oy=function(){for(var t=0,e=this.ed.size;t<e;t++){var i=this.ed.get(t);-1!=i&&this.g.bj(i,-1)}for(var n=0,r=0,s=this.g.Ob(this.Y);-1!=s;){var o=this.g.Ya(s);if(-1==o||s!=this.g.cd(o)){var a=s;s=this.g.Sb(s),this.g.Kf(a,-1),this.g.br(a)}else{i=o,a=0;do{this.g.bj(i,s),a++,i=this.g.V(i)}while(i!=o);2>=a?(i=this.g.Qa(o,this.ki),this.ed.set(i,-1),o=this.g.pd(o,!1),2==a&&(i=this.g.Qa(o,this.ki),this.ed.set(i,-1),this.g.pd(o,!1)),a=s,s=this.g.Sb(s),this.g.Kf(a,-1),this.g.br(a)):(this.g.ep(s,!1),this.g.Xg(s,this.g.Na(o)),this.g.Wj(s,a),r+=a,n++,s=this.g.Sb(s))}}for(t=0,e=this.ed.size;t<e;t++)if(-1!=(i=this.ed.get(t))&&-1==(s=this.g.cd(i))){s=this.g.wf(this.Y,-1),a=0,o=i;do{this.g.bj(i,s),a++,i=this.g.V(i)}while(i!=o);2>=a?(i=this.g.Qa(o,this.ki),this.ed.set(i,-1),o=this.g.pd(o,!1),2==a&&(0<=(i=this.g.Qa(o,this.ki))&&this.ed.set(i,-1),this.g.pd(o,!1)),a=s,this.g.Kf(a,-1),this.g.br(a)):(this.g.mn(s,!0),this.g.Wj(s,a),this.g.Kf(s,o),this.g.Xg(s,this.g.Na(o)),this.g.ep(s,!1),r+=a,n++)}for(this.g.Tl(this.Y,n),this.g.Uj(this.Y,r),t=0,e=this.g.ld;-1!=e;e=this.g.ve(e))t+=this.g.I(e);this.g.VB(t)},e.vy=function(t,i,n){return new e(i).uy(t,n)},e.clip=function(i,n,r,s){if(i.B())return i;if(n.B())return i.Ja();if(33==(r=i.K()))return s=i.D(),n.contains(s)?i:i.Ja();if(197==r)return s=new t.l,i.A(s),s.Fa(n)?(n=new t.Gh,i.copyTo(n),n.Yo(s),n):i.Ja();var o=new t.l;if(i.yc(o),n.contains(o))return i;if(!n.isIntersecting(o))return i.Ja();if(null!=(o=i.Cb)&&null!=(o=o.Fk)){if(1==(o=o.So(n))){if(1736!=r)throw t.i.Ra();return(i=new t.Ea(i.description)).vp(n),i}if(0==o)return i.Ja()}switch(r){case 550:r=null,o=i.I();for(var a=i.vb(0),c=0,l=0;l<o;l++)s=new t.h,a.uc(2*l,s),n.contains(s)||(0==c&&(r=i.Ja()),c<l&&r.Gd(i,c,l),c=l+1);return 0<c&&r.Gd(i,c,o),0==c?i:r;case 1736:case 1607:return e.vy(i,n,s);default:throw t.i.Ra()}},e.prototype.Nh=function(e,i){var n=new t.h;return this.g.D(e,n),e=new t.h,this.g.D(i,e),n.compare(e)},e}();t.Vd=e}(W||(W={})),function(t){var e=function(){function e(e,i){this.Da=e,this.g=new t.hd,this.ed=new t.ja(0),this.nd=i}return e.prototype.Mh=function(t,e,i){switch(e){case 0:if(t.v<i&&t.C<=i)break;return t.v>=i?1:-1;case 1:if(t.G<i&&t.H<=i)break;return t.G>=i?1:-1;case 2:if(t.v>=i&&t.C>i)break;return t.C<=i?1:-1;case 3:if(!(t.G>=i&&t.H>i))return t.H<=i?1:-1}return 0},e.prototype.uy=function(t,e){return 1736==t.K()?this.wy(t,e):this.xy(t)},e.prototype.wy=function(e,i){if(0==this.Da.S()||0==this.Da.da())return e.Ja();var n=new t.l;e.yc(n),this.Y=this.g.Ib(e);var r=new t.l,s=new t.l,o=new t.h,a=new t.h,c=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],u=new t.zb,h=new t.ja(0);h.Jb(256);for(var d=!1,p=0;!d&&4>p;p++){var f=!1,b=0!=(1&p),y=0;switch(p){case 0:y=this.Da.v,f=n.v<=y&&n.C>=y;break;case 1:y=this.Da.G,f=n.G<=y&&n.H>=y;break;case 2:y=this.Da.C,f=n.v<=y&&n.C>=y;break;case 3:y=this.Da.H,f=n.G<=y&&n.H>=y}if(f)for(d=!0,f=this.g.Ob(this.Y);-1!=f;){var m=!0,g=-1,v=-1,w=this.g.Ya(f),O=w;do{var j=this.g.cc(O);null==j&&(j=u,this.g.D(O,o),j.Ec(o),this.g.D(this.g.V(O),a),j.Rc(a)),j.A(r);var _=this.Mh(r,p,y),x=0,S=-1;if(-1==_){x=0<(j=j.fq(b,y,c,l))?this.g.zX(O,l,j):0,x+=1;var M=O,k=this.g.V(M);for(j=0;j<x;j++){if(this.g.D(M,o),this.g.D(k,a),null==(S=this.g.cc(M))&&((S=u).Ec(o),S.Rc(a)),S.A(s),-1==(S=this.Mh(s,p,y))){if(b)(S=Math.abs(o.y-y))<(I=Math.abs(a.y-y))?(o.y=y,this.g.mf(M,o)):(a.y=y,this.g.mf(k,a));else{S=Math.abs(o.x-y);var I=Math.abs(a.x-y);S<I?(o.x=y,this.g.mf(M,o)):(a.x=y,this.g.mf(k,a))}null==(S=this.g.cc(M))&&((S=u).Ec(o),S.Rc(a)),S.A(s),S=this.Mh(s,p,y)}I=g,g=S,-1==v&&(v=g),0==I&&1==g||1==I&&0==g||0!=I||0!=g||h.add(M),1==g&&(m=d=!1),S=M=k,k=this.g.V(k)}}if(0==x&&(I=g,g=_,-1==v&&(v=g),0==I&&1==g||1==I&&0==g||0!=I||0!=g||h.add(O),1==g&&(m=d=!1),S=this.g.V(O)),O=S,256<=h.size){for(j=1,_=h.size-1;j<_;j++)x=h.get(j),this.g.pd(x,!1);h.set(1,h.Gc()),h.Ch(2)}}while(O!=w);if(!m)for(0==v&&0==g&&h.add(w),j=0,_=h.size;j<_;j++)x=h.get(j),this.g.pd(x,!1);h.clear(!1),f=m||0==this.g.Ka(f)?this.g.ar(f):this.g.Sb(f)}}return d?e.Ja():(this.zB(),0<i&&this.Hy(i),this.g.Ke(this.Y))},e.prototype.xy=function(e){var i=new t.l,n=new t.l,r=[0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0],o=new t.hg,a=e,c=new t.l;e.yc(c);for(var l=new t.h,u=new t.h,h=null,d=null,p=0;4>p;p++){var f=!1,b=0!=(1&p),y=0;switch(p){case 0:y=this.Da.v,f=c.v<=y&&c.C>=y;break;case 1:y=this.Da.G,f=c.G<=y&&c.H>=y;break;case 2:y=this.Da.C,f=c.v<=y&&c.C>=y;break;case 3:y=this.Da.H,f=c.G<=y&&c.H>=y}if(f)for(f=a,a=e.Ja(),(f=f.Ha()).$i();f.ab();)for(var m,g=!0;f.Ia();){var v=f.ia();v.A(i);var w=this.Mh(i,p,y);if(-1==w){if(0<(w=v.fq(b,y,r,s))){var O=0;v.$p(l);for(var j=0;j<=w;j++)if(O!=(m=j<w?s[j]:1)){v.bh(O,m,o);var _=o.get();_.Ec(l),j<w&&(b?(u.x=r[j],u.y=y):(u.x=y,u.y=r[j]),_.Rc(u)),_.A(n);var x=this.Mh(n,p,y);-1==x&&(null==h&&(h=new t.h),null==d&&(d=new t.h),_.$p(h),_.Ur(d),b?(O=Math.abs(h.y-y))<(x=Math.abs(d.y-y))?(h.y=y,_.Ec(h)):(d.y=y,_.Rc(d)):(O=Math.abs(h.x-y))<(x=Math.abs(d.x-y))?(h.x=y,_.Ec(h)):(d.x=y,_.Rc(d)),_.A(n),x=this.Mh(n,p,y)),_.Ur(l),O=m,1==(m=x)?(a.oc(_,g),g=!1):g=!0}}}else 1==(m=w)?(a.oc(v,g),g=!1):g=!0}}return a},e.prototype.zB=function(){this.ki=-1,this.Xl(!1,this.Da.v),this.Xl(!1,this.Da.C),this.Xl(!0,this.Da.G),this.Xl(!0,this.Da.H),this.ed.resize(0),this.ed.Jb(100),this.ki=this.g.Hd();for(var e=new t.h,i=this.g.Ob(this.Y);-1!=i;i=this.g.Sb(i))for(var n=this.g.Ya(i),r=0,s=this.g.Ka(i);r<s;r++,n=this.g.V(n))this.g.D(n,e),(this.Da.v==e.x||this.Da.C==e.x||this.Da.G==e.y||this.Da.H==e.y)&&(this.g.Sa(n,this.ki,this.ed.size),this.ed.add(n));this.Pl(!1,this.Da.v),this.Pl(!1,this.Da.C),this.Pl(!0,this.Da.G),this.Pl(!0,this.Da.H),this.Oy()},e.prototype.Hy=function(e){for(var i=new t.h,n=new t.h,r=null,s=null,o=t.P.lg(2048,0),a=this.g.Ob(this.Y);-1!=a;a=this.g.Sb(a)){var c=this.g.Ya(a),l=c;do{var u=this.g.V(l);this.g.D(l,i);var h=-1;if(i.x==this.Da.v?(this.g.D(u,n),n.x==this.Da.v&&(h=1)):i.x==this.Da.C&&(this.g.D(u,n),n.x==this.Da.C&&(h=1)),i.y==this.Da.G?(this.g.D(u,n),n.y==this.Da.G&&(h=0)):i.y==this.Da.H&&(this.g.D(u,n),n.y==this.Da.H&&(h=0)),-1!=h){if(null==r&&(r=new t.h),null==s&&(s=new t.h),r.N(i),s.na(0,0),0==h){var d=i.x-this.Da.v;s.x=t.mc.sign(n.x-i.x),r.x=e*t.mc.Dn(Math.floor(Math.abs(d/e)),d)+this.Da.v,0>r.x&&(r.x+=e)}else d=i.y-this.Da.G,s.y=t.mc.sign(n.y-i.y),r.y=e*t.mc.Dn(Math.floor(Math.abs(d/e)),d)+this.Da.G,0>r.y&&(r.y+=e);d=0!=h?n.y-i.y:n.x-i.x;var p=Math.abs(d);if(65536<p/e)throw t.i.ga("internal error");if(0<p){p=t.P.truncate(p/e)+2,o.length<p&&(o=t.P.lg(p));for(var f=p=0;;f++){var b=new t.h;if(b.x=r.x+s.x*f*e,b.y=r.y+s.y*f*e,1<=(b=(0!=h?b.y-i.y:b.x-i.x)/d))break;0>=b||(o[p]=b,p++)}0!=p&&this.g.Wl(l,o,p)}}l=u}while(l!=c)}},e.prototype.Xl=function(e,i){for(var n=-1,r=new t.h,s=null,o=this.g.Ob(this.Y);-1!=o;o=this.g.Sb(o))for(var a=this.g.Ya(o),c=0,l=this.g.Ka(o);c<l;c++){var u=this.g.V(a);this.g.D(a,r),(e?r.y==i:r.x==i)&&(this.g.D(u,r),(e?r.y==i:r.x==i)&&(-1==n&&(n=this.g.Hd()),null==s&&(s=new t.ja(0)).Jb(100),1!=this.g.Qa(a,n)&&(s.add(a),this.g.Sa(a,n,1)),1!=this.g.Qa(u,n)&&(s.add(u),this.g.Sa(u,n,1)))),a=u}if(-1!=n&&this.g.Ud(n),!(null==s||3>s.size)){var h=this;s.Wd(0,s.size,(function(t,e){return h.Nh(t,e)})),n=new t.h,o=new t.h,a=new t.h,o.Sc();var d=-1;c=new t.ja(0),l=new t.ja(0),u=null;for(var p=this.g.Hd(),f=this.g.Hd(),b=0,y=s.size;b<y;b++){var m=s.get(b);if(this.g.D(m,r),!r.rb(o)){if(-1!=d){for(var g=d;g<b;g++){d=s.get(g);var v=this.g.V(d);m=this.g.Na(d);var w=!1;this.g.D(v,n),0>o.compare(n)&&(e?n.y==i:n.x==i)&&(c.add(d),w=!0,this.g.Sa(d,f,1)),this.g.D(m,n),0>o.compare(n)&&(e?n.y==i:n.x==i)&&(w||c.add(d),this.g.Sa(d,p,1))}for(g=0,w=c.size;g<w;g++){if(d=c.get(g),m=this.g.Qa(d,p),v=this.g.Qa(d,f),1==m&&(m=this.g.Na(d),this.g.D(m,a),!a.rb(r))){null==u&&(u=[]);var O=t.h.ub(o,a);u[0]=t.h.ub(a,r)/O,0==u[0]?u[0]=2220446049250313e-31:1==u[0]&&(u[0]=.9999999999999998),this.g.Wl(m,u,1),m=this.g.Na(d),this.g.mf(m,r),l.add(m),this.g.Sa(m,p,1),this.g.Sa(m,f,-1)}1==v&&(v=this.g.V(d),this.g.D(v,a),a.rb(r)||(null==u&&(u=[]),O=t.h.ub(o,a),u[0]=t.h.ub(o,r)/O,0==u[0]?u[0]=2220446049250313e-31:1==u[0]&&(u[0]=.9999999999999998),this.g.Wl(d,u,1),m=this.g.V(d),this.g.mf(m,r),l.add(m),this.g.Sa(m,p,-1),this.g.Sa(m,f,1)))}d=c,c=l,(l=d).clear(!1)}d=b,o.N(r)}}this.g.Ud(p),this.g.Ud(f)}},e.prototype.Pl=function(e,i){for(var n=new t.h,r=null,s=-1,o=0,a=this.ed.size;o<a;o++){var c=this.ed.get(o);if(-1!=c){var l=this.g.V(c);this.g.D(c,n),(e?n.y==i:n.x==i)&&(this.g.D(l,n),(e?n.y==i:n.x==i)&&(-1==s&&(s=this.g.Hd()),null==r&&(r=new t.ja(0)).Jb(100),-2!=this.g.Qa(c,s)&&(r.add(c),this.g.Sa(c,s,-2)),-2!=this.g.Qa(l,s)&&(r.add(l),this.g.Sa(l,s,-2))))}}if(null==r)-1!=s&&this.g.Ud(s);else{var u=this;for(r.Wd(0,r.size,(function(t,e){return u.Nh(t,e)})),o=0,a=r.size;o<a;o++){var h=r.get(o);this.g.Sa(h,s,o)}c=new t.h,(l=new t.h).Sc();var d=-1;for(o=0,a=r.size;o<a;o++)if(-1!=(h=r.get(o))&&(this.g.D(h,n),!n.rb(l))){if(-1!=d)for(;;){h=!1;for(var p=1<o-d?o-1:o,f=d;f<p;f++){var b=r.get(f);if(-1!=b){var y=-1,m=this.g.V(b);this.g.D(m,c),0>l.compare(c)&&(e?c.y==i:c.x==i)&&(y=m),m=-1;var g=this.g.Na(b);if(this.g.D(g,c),0>l.compare(c)&&(e?c.y==i:c.x==i)&&(m=g),-1!=y&&-1!=m)this.Lh(b,r,s),this.g.pd(b,!1),this.Lh(y,r,s),this.g.pd(y,!1),h=!0;else if(-1!=y||-1!=m){for(g=f+1;g<o;g++){var v=r.get(g);if(-1!=v){var w=this.g.V(v),O=-1;this.g.D(w,c),0>l.compare(c)&&(e?c.y==i:c.x==i)&&(O=w),w=this.g.Na(v);var j=-1;if(this.g.D(w,c),0>l.compare(c)&&(e?c.y==i:c.x==i)&&(j=w),-1!=O&&-1!=j){this.Lh(v,r,s),this.g.pd(v,!1),this.Lh(O,r,s),this.g.pd(O,!1),h=!0;break}if(-1!=y&&-1!=j){this.zt(r,b,y,v,j,s),h=!0;break}if(-1!=m&&-1!=O){this.zt(r,v,O,b,m,s),h=!0;break}}}if(h)break}}}if(!h)break}d=o,l.N(n)}this.g.Ud(s)}},e.prototype.Lh=function(t,e,i){i=this.g.Qa(t,i),e.set(i,-1),i=this.g.Qa(t,this.ki),this.ed.set(i,-1),-1!=(e=this.g.cd(t))&&this.g.Ya(e)==t&&(this.g.Kf(e,-1),this.g.Xg(e,-1))},e.prototype.zt=function(t,e,i,n,r,s){this.g.Cc(e,n),this.g.Dc(n,e),this.g.Dc(i,r),this.g.Cc(r,i),this.Lh(n,t,s),this.g.ni(n,!1),this.Lh(r,t,s),this.g.ni(r,!0)},e.prototype.Oy=function(){for(var t=0,e=this.ed.size;t<e;t++){var i=this.ed.get(t);-1!=i&&this.g.bj(i,-1)}for(var n=0,r=0,s=this.g.Ob(this.Y);-1!=s;){var o=this.g.Ya(s);if(-1==o||s!=this.g.cd(o)){var a=s;s=this.g.Sb(s),this.g.Kf(a,-1),this.g.br(a)}else{i=o,a=0;do{this.g.bj(i,s),a++,i=this.g.V(i)}while(i!=o);this.g.ep(s,!1),this.g.Xg(s,this.g.Na(o)),this.g.Wj(s,a),r+=a,n++,s=this.g.Sb(s)}}for(t=0,e=this.ed.size;t<e;t++)if(-1!=(i=this.ed.get(t))&&-1==(s=this.g.cd(i))){s=this.g.wf(this.Y,-1),a=0,o=i;do{this.g.bj(i,s),a++,i=this.g.V(i)}while(i!=o);2>=a?(i=this.g.Qa(o,this.ki),this.ed.set(i,-1),o=this.g.pd(o,!1),2==a&&(0<=(i=this.g.Qa(o,this.ki))&&this.ed.set(i,-1),this.g.pd(o,!1)),a=s,this.g.Kf(a,-1),this.g.br(a)):(this.g.mn(s,!0),this.g.Wj(s,a),this.g.Kf(s,o),this.g.Xg(s,this.g.Na(o)),this.g.ep(s,!1),r+=a,n++)}for(this.g.Tl(this.Y,n),this.g.Uj(this.Y,r),t=0,e=this.g.ld;-1!=e;e=this.g.ve(e))t+=this.g.I(e);this.g.VB(t)},e.vy=function(t,i,n,r){return new e(i,r).uy(t,n)},e.clip=function(t,i,n,r,s){return e.Pu(t,i,null,n,r,s)},e.Pu=function(i,n,r,s,o,a){var c=i.K();if(33==c)return o=i.D(),n.contains(o)?i:i.Ja();if(197==c)return o=new t.l,i.A(o),o.Fa(n)?(n=new t.Gh,i.copyTo(n),n.Yo(o),n):i.Ja();if(i.B())return i;if(n.B())return i.Ja();var l=new t.l;if(i.yc(l),n.contains(l))return i;if(!n.isIntersecting(l))return i.Ja();if((null!=r||isNaN(s))&&t.ta.ny(r,n,!1),!t.ba.yj(c))throw t.i.O();if(null!=(r=i.Cb)&&null!=(r=r.Fk)){if(1==(r=r.So(n))){if(1736!=c)throw t.i.ga("internal error");return(i=new t.Ea(i.description)).vp(n),i}if(0==r)return i.Ja()}switch(c){case 550:for(a=null,c=i.I(),r=i.vb(0),s=0,o=new t.h,l=0;l<c;l++)r.uc(2*l,o),n.contains(o)||(0==s&&(a=i.Ja()),s<l&&a.Gd(i,s,l),s=l+1);return 0<s&&a.Gd(i,s,c),0==s?i:a;case 1736:case 1607:return e.vy(i,n,o,a);default:throw t.i.ga("internal error")}},e.prototype.Nh=function(e,i){var n=new t.h;return this.g.D(e,n),e=new t.h,this.g.D(i,e),n.compare(e)},e}();t.si=e}(W||(W={})),function(t){var e=new t.h,i=function(){function e(e,i,n,r,s){this.Rm=new t.h,this.Dk=new t.h,this.Qi=new t.h,this.g=e,this.Bw=n,this.oo=r,this.Rm=i,this.Al=s,this.Dk.Sc(),this.Qi.Sc()}return e.prototype.pE=function(e){this.g.D(e,this.Dk),e=t.P.truncate((this.Dk.x-this.Rm.x)*this.oo+.5);var i=t.P.truncate((this.Dk.y-this.Rm.y)*this.oo+.5);return n.bG(e,i)},e.prototype.ez=function(t){return this.g.Qa(t,this.Al)},e.prototype.Ky=function(t,e){return this.g.D(t,this.Dk),this.g.D(e,this.Qi),n.Dv(this.Dk.x,this.Dk.y,this.Qi.x,this.Qi.y,this.Bw)},e}();t.gY=function(){};var n=function(){function n(){this.Rm=new t.h,this.rq=[0,0,0,0],this.ys=[0,0,0,0],this.ro=this.Al=-1}return n.aQ=function(t,e){var i=new n;return i.g=t,i.ra=e,i.Bw=e*e,i.aw=2*e,i.oo=1/i.aw,i.tO()},n.Dv=function(t,e,i,n,r){return(t-=i)*t+(e-=n)*e<=r},n.bG=function(e,i){return t.P.Uh(i,t.P.Uh(e))},n.prototype.vO=function(i,r){this.g.Hc(i,e);for(var s=(e.y-this.Rm.y)*this.oo,o=t.P.truncate((e.x-this.Rm.x)*this.oo),a=t.P.truncate(s),c=s=0;1>=c;c+=1)for(var l=0;1>=l;l+=1){var u=n.bG(o+c,a+l),h=this.zl.iR(u);-1!=h&&(this.rq[s]=h,this.ys[s]=u,s++)}for(o=s-1;1<=o;o--)for(h=this.rq[o],a=o-1;0<=a;a--)if(h==this.rq[a]){this.ys[a]=-1,o!=--s&&(this.ys[o]=this.ys[s],this.rq[o]=this.rq[s]);break}for(a=0;a<s;a++)this.wO(i,this.ys[a],e,this.rq[a],r)},n.prototype.wO=function(e,i,r,s,o){for(var a=new t.h;-1!=s;s=this.zl.wR(s)){var c=this.zl.ka(s);e==c||-1!=i&&this.g.Qa(c,this.Al)!=i||(this.g.Hc(c,a),n.Dv(r.x,r.y,a.x,a.y,this.Bw)&&o.add(s))}},n.prototype.Zm=function(t,e,i){var n=this.g.Qa(t,this.ro),r=this.g.Qa(e,this.ro);return-1==n&&(n=this.Ad.Qh(),this.Ad.addElement(n,t),this.g.Sa(t,this.ro,n)),-1==r?this.Ad.addElement(n,e):this.Ad.By(n,r),this.g.Sa(e,this.ro,-2),e=this.OT(t,e),i&&(i=this.lw.pE(t),this.g.Sa(t,this.Al,i)),e},n.MT=function(e,i,r){e.Nb(i),r=e;var s=new t.h;n.NT(e.D(),i.D(),s),r.Db(s)},n.NT=function(t,e,i){var n=t.x;t.x!=e.x&&(n=(1*t.x+1*e.x)/2);var r=t.y;t.y!=e.y&&(r=(1*t.y+1*e.y)/2),i.na(n,r)},n.prototype.OT=function(e,i){var n=new t.h;this.g.D(e,n);var r=new t.h;this.g.D(i,r);var s=this.g.VF(e),o=s+(i=this.g.VF(i)),a=0,c=n.x;n.x!=r.x&&(c=(n.x*s+r.x*i)/o,a++);var l=n.y;return n.y!=r.y&&(l=(n.y*s+r.y*i)/o,a++),0<a&&this.g.Db(e,c,l),this.g.jX(e,o),0!=a},n.prototype.tO=function(){var e=this.g.gd,n=this.g.AF();for(this.Rm=n.hz(),n=Math.max(n.da(),n.S())/2147483646,this.aw<n&&(this.aw=n,this.oo=1/this.aw),this.Ad=new t.bu,this.Ad.At(t.P.truncate(this.g.gd/3+1)),this.Ad.hn(t.P.truncate(this.g.gd/3+1)),this.Al=this.g.Hd(),this.ro=this.g.Hd(),this.lw=new i(this.g,this.Rm,this.Bw,this.oo,this.Al),this.zl=new t.WK(t.P.truncate(4*e/3),this.lw),this.zl.qW(this.g.gd),e=!1,n=this.g.ld;-1!=n;n=this.g.ve(n))for(var r=this.g.Ob(n);-1!=r;r=this.g.Sb(r))for(var s=this.g.Ya(r),o=0,a=this.g.Ka(r);o<a;o++){var c=this.lw.pE(s);this.g.Sa(s,this.Al,c),this.zl.addElement(s,c),s=this.g.V(s)}var l=new t.ja(0);for(l.Jb(10),n=this.g.ld;-1!=n;n=this.g.ve(n))for(r=this.g.Ob(n);-1!=r;r=this.g.Sb(r))for(s=this.g.Ya(r),o=0,a=this.g.Ka(r);o<a;o++){if(-2!=this.g.Qa(s,this.ro))for(c=this.g.Qa(s,this.Al),this.zl.kd(s,c);this.vO(s,l),0!=l.size;){c=!1;for(var u=0,h=l.size;u<h;u++){var d=l.get(u),p=this.zl.ka(d);this.zl.wd(d),c=this.Zm(s,p,u+1==h)||c}if(e=e||c,l.clear(!1),!c)break}s=this.g.V(s)}return e&&this.nN(),this.lw=this.zl=null,this.g.Ud(this.Al),this.g.Ud(this.ro),e},n.prototype.nN=function(){for(var e=new t.h,i=this.Ad.je;-1!=i;i=this.Ad.lz(i)){var n=this.Ad.sc(i);for(this.g.D(this.Ad.ka(n),e),n=this.Ad.lb(n);-1!=n;n=this.Ad.lb(n))this.g.mf(this.Ad.ka(n),e)}},n}();t.Zt=n}(W||(W={})),function(t){var e=function(){function e(t){void 0===t&&(t=null),this.yg=null,this.Pb=!1,this.yg=null===t?[]:t}return e.prototype.copyTo=function(e){if(e.Pb)throw t.i.ga("CompositeGeographicTransformation is read-only");for(var i=0;i<this.yg.length;i++)e.yg.push(this.yg[i].Pf())},e.prototype.count=function(){return this.yg.length},e.prototype.add=function(e){if(this.Pb)throw t.i.ga("CompositeGeographicTransformation is read-only");this.yg.push(e.Pf())},e.prototype.clear=function(){if(this.Pb)throw t.i.ga("CompositeGeographicTransformation is read-only");this.yg.length=0},e.prototype.remove=function(e){if(this.Pb)throw t.i.ga("CompositeGeographicTransformation is read-only");this.yg.splice(e,1)},e.prototype.ig=function(){var t=new e;return this.copyTo(t),t},e.prototype.Pf=function(){return this.ig()},e.prototype.transform=function(e,i,n,r){if(e.length<i)throw t.i.ga("invalid Argument");var s=n;for(n=0;n<this.yg.length;n++){var o=this.yg[n];if(null!=o.sm()){var a=o.Vn,c=a?1:0,l=a?o.sm().getGeogcs2():o.sm().getGeogcs1();if(l=s/(l=l.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(l-1))for(s=0;s<i;s++)e[s][0]*=l,e[s][1]*=l;t.EC.geogToGeog(o.sm(),i,e,null,c),s=(a?o.sm().getGeogcs1():o.sm().getGeogcs2()).getUnit().getUnitFactor()}}if(l=s/r,3552713678800501e-30<Math.abs(l-1))for(s=0;s<i;s++)e[s][0]*=l,e[s][1]*=l;return i},e.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof e)||this.yg.length!=t.yg.length)return!1;for(var i=0;i<this.yg.length;i++)if(!this.yg[i].Nb(t.yg[i]))return!1;return!0},e.prototype.hx=function(){this.Pb=!0},e.prototype.toString=function(){for(var t="CGT ("+this.count()+") ",e=0,i=this.count();e<i;++e)t+=this.yg[e].toString()+", ";return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},e.create=function(){return new e},e}();t.pC=e}(W||(W={})),function(t){var e,i=Math.PI,n=2*Math.PI,r=Math.PI/2,s=function(){function t(){}return t.LO=function(e,i){var n=new t;return n.x=e,n.y=i,n.type=0,n.Vh=0,n},t.bl=function(e){var i=new t;return i.x=e.x,i.y=e.y,i.type=0,i.Vh=0,i},t.KO=function(e){var i=new t;return i.x=e.x,i.y=e.y,i.type=e.type,i.Vh=e.Vh,i},t.Qd=function(e,i,n){var r=new t;return r.x=e.x+i*Math.cos(n),r.y=e.y+i*Math.sin(n),r.type=e.type,r.Vh=e.Vh,r},t.Ru=function(e,i){var n=new t;return n.x=.5*(e.x+i.x),n.y=.5*(e.y+i.y),n.type=e.type,n.Vh=e.Vh,n},t.LE=function(e,i){var n=new t;return n.x=e.x+.001*(i.x-e.x),n.y=e.y+.001*(i.y-e.y),n.type=e.type,n.Vh=e.Vh,n},t}(),o=function(){};(e=t.YK||(t.YK={}))[e.Round=0]="Round",e[e.Bevel=1]="Bevel",e[e.Miter=2]="Miter",e[e.Square=3]="Square";var a=function(){function e(t){this.HA=this.Zb=this.wg=null,this.nd=t}return e.W=function(i,n,r,s,o,a){if(null==i)throw t.i.O();if(1>i.Eb())throw t.i.O();return 0==n||i.B()?i:((a=new e(a)).lo=i,a.La=n,a.ra=o,a.Li=r,a.wA=s,a.Px())},e.prototype.XL=function(){var e=this.lo,i=e.ac(),n=e.xc(),r=new t.h;return r.vc(n,i),r.normalize(),r.Iv(),r.scale(this.La),i.add(r),n.add(r),r=e.Ja(),e.Ec(i),e.Rc(n),r},e.prototype.WL=function(){var e=this.lo;if(0<this.La&&2!=this.Li){var i=new t.Ea;return i.bd(e,!1),this.lo=i,this.Px()}return(e=new t.Gh(e.aa)).X(this.La,this.La),e},e.prototype.lJ=function(t,e,i,n){return(e.x-t.x)*(n.x-i.x)+(e.y-t.y)*(n.y-i.y)},e.prototype.hc=function(t,e){if(void 0===e)this.Zb.push(t),this.gf++;else if(0==this.gf)this.hc(t);else{var i=this.Cw,n=this.wg[0==e?i-1:e-1],o=this.wg[e],a=this.lJ(n,o,this.Zb[this.gf-1],t);0<a?this.hc(t):0>a&&(0<this.lJ(n,o,o,this.Zb[this.gf-1])?(o=this.wg[0==e?i-2:1==e?i-1:e-2],i=s.Qd(n,this.La,Math.atan2(n.y-o.y,n.x-o.x)-r),this.Zb[this.gf-1]=i,1==this.Li||2==this.Li?(i=s.Ru(i,n),this.hc(i),i=s.Qd(n,this.La,this.Kv+r),(n=s.Ru(i,n)).type|=256,this.hc(n)):(i=s.Qd(n,this.La,this.Kv+r)).type|=256,this.hc(i),this.hc(t,e)):(i=s.Qd(o,this.La,this.Kv+r),this.hc(i),1==this.Li||2==this.Li?(i=s.Ru(i,o),this.hc(i),i=s.Qd(o,this.La,this.Wz-r),(n=s.Ru(i,o)).type|=256,this.hc(n)):(i=s.Qd(o,this.La,this.Wz-r)).type|=256,this.hc(i)))}},e.prototype.eE=function(){var e,o=this.Cw;this.gf=0;var a=.5*this.ra,c=0,l=0;for(e=0;e<o;e++){var u=this.wg[e],h=0==e?this.wg[o-1]:this.wg[e-1],d=e==o-1?this.wg[0]:this.wg[e+1],p=h.x-u.x,f=h.y-u.y,b=d.x-u.x,y=d.y-u.y,m=Math.atan2(f,p),g=Math.atan2(y,b);if(this.Kv=m,this.Wz=g,0==e&&(c=m,l=g),p=p*y-b*f,f=g,g<m&&(g+=n),0<p*this.La)1==this.Li||2==this.Li?(m=s.Qd(u,this.La,m+r),this.hc(m),m=s.LE(u,m),this.hc(m),m=s.Qd(u,this.La,g-r),(u=s.LE(u,m)).type|=256,this.hc(u),this.hc(m)):(p=.5*(g-m),p=this.La/Math.abs(Math.sin(p)),m=s.Qd(u,p,.5*(m+g)),this.hc(m,e));else if(0!=(512&u.type)){for(p=1-a/Math.abs(this.La),h=1,d=0>this.La?-i:i,-1<p&&1>p&&(.017453292519943295>(f=2*Math.acos(p))&&(f=.017453292519943295),1<(h=t.P.truncate(i/f+1.5))&&(d/=h)),f=m+r,m=s.Qd(u,this.La,f),0==e&&(m.type|=1024),this.hc(m,e),p=this.La/Math.cos(d/2),f+=d/2,(m=s.Qd(u,p,f)).type|=1024,this.hc(m);0<--h;)f+=d,(m=s.Qd(u,p,f)).type|=1024,this.hc(m);(m=s.Qd(u,this.La,g-r)).type|=1024,this.hc(m)}else if(1==this.Li)m=s.Qd(u,this.La,m+r),this.hc(m,e),m=s.Qd(u,this.La,g-r),this.hc(m);else if(0==this.Li)for(p=1-a/Math.abs(this.La),h=1,d=g-r-(m+r),-1<p&&1>p&&(.017453292519943295>(f=2*Math.acos(p))&&(f=.017453292519943295),1<(h=t.P.truncate(Math.abs(d)/f+1.5))&&(d/=h)),p=this.La/Math.cos(.5*d),f=m+r+.5*d,m=s.Qd(u,p,f),this.hc(m,e);0<--h;)f+=d,m=s.Qd(u,p,f),this.hc(m);else 2==this.Li?(p=h.x-u.x,f=h.y-u.y,.99999999<(h=(p*(b=d.x-u.x)+f*(y=d.y-u.y))/Math.sqrt(p*p+f*f)/Math.sqrt(b*b+y*y))?(m=s.Qd(u,1.4142135623730951*this.La,g-.25*i),this.hc(m,e),m=s.Qd(u,1.4142135623730951*this.La,g+.25*i),this.hc(m)):(h=Math.abs(this.La/Math.sin(.5*Math.acos(h))))>(d=Math.abs(this.wA*this.La))?(p=.5*(g-m),p=this.La/Math.abs(Math.sin(p)),m=s.Qd(u,p,.5*(m+g)),g=t.h.construct(m.x,m.y),m=t.h.construct(u.x,u.y),(u=new t.h).vc(g,m),(g=new t.h).wW(d/u.length(),u,m),m=(h-d)*Math.abs(this.La)/Math.sqrt(h*h-this.La*this.La),0<this.La?u.Iv():u.cr(),u.scale(m/u.length()),(m=new t.h).add(g,u),(h=new t.h).vc(g,u),m=s.bl(m),this.hc(m,e),m=s.bl(h),this.hc(m)):(p=.5*(g-m),p=this.La/Math.abs(Math.sin(p)),m=s.Qd(u,p,.5*(m+g)),this.hc(m,e))):(g=f,0<this.La?(g>m&&(g-=n),h=m-g<r):(g<m&&(g+=n),h=g-m<r),h?(f=0>(p=1.4142135623730951*this.La)?m+.25*i:m+.75*i,m=s.Qd(u,p,f),this.hc(m,e),f=0>p?g-.25*i:g-.75*i,m=s.Qd(u,p,f),this.hc(m)):(p=.5*(g-m),p=this.La/Math.abs(Math.sin(p)),g<m&&(g+=n),m=s.Qd(u,p,(m+g)/2),this.hc(m,e)))}return this.Kv=c,this.Wz=l,this.hc(this.Zb[0],0),u=s.KO(this.Zb[this.gf-1]),this.Zb[0]=u,this.mW()},e.prototype.Bu=function(e,i){if(!(2>i))for(var n=0;n<i;n++){var r=this.Zb[e+n];0!=n?this.HA.Di(t.h.construct(r.x,r.y)):this.HA.Mt(t.h.construct(r.x,r.y))}},e.prototype.YL=function(t,e,i){var n=t.Ca(e),r=t.Wc(e);if(this.Zb=[],this.HA=i,t.ec(e)){for(e=t.Oa(n);t.Oa(r-1).rb(e);)r--;if(2<=r-n){for(this.Cw=r-n,this.wg=[],e=n;e<r;e++)this.wg.push(s.bl(t.Oa(e)));this.eE()&&this.Bu(0,this.gf-1)}}else{for(e=t.Oa(n);n<r&&t.Oa(n+1).rb(e);)n++;for(e=t.Oa(r-1);n<r&&t.Oa(r-2).rb(e);)r--;if(2<=r-n){for(this.Cw=2*(r-n)-2,this.wg=[],(i=s.bl(t.Oa(n))).type|=1536,this.wg.push(i),e=n+1;e<r-1;e++)i=s.bl(t.Oa(e)),this.wg.push(i);for((i=s.bl(t.Oa(r-1))).type|=512,this.wg.push(i),e=r-2;e>=n+1;e--)(i=s.bl(t.Oa(e))).type|=1024,this.wg.push(i);if(this.eE())if(2<=this.Zb.length){for(t=-1,(r=0!=(1024&this.Zb[this.gf-1].type))||(t=0),e=1;e<this.gf;e++)(n=0!=(1024&this.Zb[e].type))?r||1<(r=e-1)-t+1&&this.Bu(t,r-t+1):r&&(t=e-1),r=n;r||1<(r=this.gf-1)-t+1&&this.Bu(t,r-t+1)}else t=0,r=this.gf-1,0<=t&&1<=r-t&&this.Bu(t,r-t+1)}}this.wg=null,this.Cw=0,this.Zb=null,this.gf=0},e.prototype.mW=function(){for(var t=!1,e=0;e<this.gf;e++){var i=this.Zb[e];i.rh=e+1,i.th=e-1,this.Zb[e]=i}for((i=this.Zb[0]).th=this.gf-2,this.Zb[0]=i,(i=this.Zb[this.gf-2]).rh=0,this.Zb[this.gf-2]=i,e=i=0;e<this.gf;e++)if(0!=(256&this.Zb[i].type)){var n=this.yP(i);if(-1==n){t=!0;break}i=n}else i=this.Zb[i].rh;return!t&&(this.IO(i),!0)},e.prototype.yP=function(t){for(var e,i,n=this.gf-1,r=t,s=1;s<=n-2;s++){e=r=this.Zb[r].rh,i=t;for(var o=1;o<=s;o++){if(i=this.Zb[i].th,0==(256&this.Zb[i].type)&&0==(256&this.Zb[e].type)){var a=this.YR(i,e);if(-1!=a)return a}e=this.Zb[e].th}}return-1},e.prototype.YR=function(e,i){var n=this.Zb[this.Zb[e].th],r=this.Zb[e],s=this.Zb[this.Zb[i].th],a=this.Zb[i];if(!this.yW(n,r,s,a))return-1;var c=new o;return this.pQ(n,r,s,a,c)&&!c.UD&&t.P.UJ((r.x-n.x)*(a.y-s.y)-(r.y-n.y)*(a.x-s.x))!=t.P.UJ(this.La)?(n=this.Zb[e].th,c.cn.type=r.type,c.cn.rh=i,c.cn.th=n,this.Zb[e]=c.cn,c.cn=this.Zb[i],c.cn.th=e,this.Zb[i]=c.cn,i):-1},e.prototype.yW=function(t,e,i,n){return Math.max(t.x,e.x)>=Math.min(i.x,n.x)&&Math.max(i.x,n.x)>=Math.min(t.x,e.x)&&Math.max(t.y,e.y)>=Math.min(i.y,n.y)&&Math.max(i.y,n.y)>=Math.min(t.y,e.y)},e.prototype.pQ=function(t,e,i,n,r){r.UD=!1;var o=(e.y-t.y)*(n.x-i.x)-(e.x-t.x)*(n.y-i.y),a=(i.y-t.y)*(e.x-t.x)-(i.x-t.x)*(e.y-t.y);if(0<=(o=0==o?2:a/o)&&1>=o){var c=o;if(o=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y),a=(t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y),0<=(o=0==o?2:a/o)&&1>=o)return r.cn=s.LO(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)),r.cn.Vh=i.Vh+c*(n.Vh-i.Vh),0!=c&&1!=c||0!=o&&1!=o||(r.UD=!0),r.KY=o,r.LY=c,!((0==c||1==c)&&0<o&&1>o||(0==o||1==o)&&0<c&&1>c)}return!1},e.prototype.IO=function(t){for(;this.Zb[t].th<t;)t=this.Zb[t].th;var e=0,i=t;do{i=this.Zb[i],this.Zb[e]=i,i=i.rh,e++}while(i!=t);this.Zb[e]=this.Zb[0],this.gf=e+1},e.prototype.SC=function(t){var e=this.lo,i=e.Ha();if(null!=i){i.$i();for(var n=-1;i.ab();)n++,this.YL(e,n,t)}},e.prototype.Px=function(){var e=this.lo.K();return 322==e?this.XL():197==e?this.WL():t.ba.zd(e)?((e=new t.Ua).oc(this.lo,!0),this.lo=e,this.Px()):1607==e?(e=new t.Ua,this.SC(e),e):1736==e?(e=new t.Ea,this.SC(e),e):null},e}();t.AK=a}(W||(W={})),function(t){var e=function(){function t(t){this.qk=t}return t.prototype.D=function(t,e){this.qk.g.D(t,e)},t.prototype.wd=function(t){var e=this.qk.Ga.ka(t);this.qk.Ga.wd(t,-1),this.qk.g.pd(e,!1)},t}(),i=function(){function t(t){this.qk=t}return t.prototype.D=function(t,e){this.qk.yT.D(t,e)},t.prototype.wd=function(t){this.qk.Ga.wd(t,-1)},t}(),n=function(){function t(t){this.qk=t}return t.prototype.D=function(t,e){e.N(this.qk.BT[t])},t.prototype.wd=function(t){this.qk.Ga.wd(t,-1)},t}(),r=function(){function r(r){void 0===r?(this.Ga=new t.Yj,this.Ga.Ee(20),this.g=new t.hd,this.mT=this.g.Kg(550),this.Ts=this.g.wf(this.mT,-1),this.Yh=new e(this)):r instanceof Array?(this.Ga=new t.Yj,this.Ga.Ee(20),this.BT=r,this.Yh=new n(this)):(this.Ga=new t.Yj,this.Ga.Ee(20),this.yT=r,this.Yh=new i(this))}return r.prototype.Ib=function(e){var i=e.K();if(t.Ex.yj(i))this.bN(e);else if(t.Vk.zd(i))this.gN(e);else if(197==i)this.ZM(e);else{if(33!=i)throw t.i.O("invalid shape type");this.fN(e)}},r.prototype.VQ=function(){var e=new t.Ta,i=this.Ga.sc(-1),n=new t.Ea(this.g.ht);for(this.g.Wi(this.Ga.ka(i),e),n.nf(e),i=this.Ga.lb(i);-1!=i;i=this.Ga.lb(i))this.g.Wi(this.Ga.ka(i),e),n.lineTo(e);return n},r.JO=function(e){var i=new r(e),n=e.I(),s=1,o=new t.h,a=new t.h,c=new t.h;for(e.D(0,o);e.D(s,a),a.Mz(o)&&s<n-1;)s++;for(i.Ga.addElement(0,-1),i.Ga.yn(s),n=s+1;n<e.I();n++)e.D(n,c),-1!=(s=i.iC(c))&&i.Ga.Tj(s,n);for(c=new t.Ta,s=i.Ga.sc(-1),n=new t.Ea(e.description),e.we(i.Ga.ka(s),c),n.nf(c),s=i.Ga.lb(s);-1!=s;s=i.Ga.lb(s))e.we(i.Ga.ka(s),c),n.lineTo(c);return n},r.construct=function(t,e,i){for(var n=new r(t),s=1,o=t[0];t[s].Mz(o)&&s<e-1;)s++;for(n.Ga.addElement(0,-1),n.Ga.yn(s),s+=1;s<e;s++)-1!=(o=n.iC(t[s]))&&n.Ga.Tj(o,s);for(t=0,e=n.Ga.sc(-1);-1!=e;e=n.Ga.lb(e))i[t++]=n.Ga.ka(e);return t},r.BG=function(e,i){var n=e.Ca(i),s=e.Wc(i);if(i=!e.ec(i)&&e.On(i),e=e.vb(0),s*=2,i&&(s-=2),6>s-(n*=2))return!0;i=new t.h;var o=new t.h,a=new t.h;e.uc(n,i),e.uc(n+2,o),e.uc(n+4,a);var c=r.Xu(o,a,i);if(c.qs()||!r.wm(c.value()))return!1;var l=t.h.construct(o.x,o.y),u=new t.h;for(n+=6;n<s;n+=2){if(u.N(o),o.N(a),e.uc(n,a),(c=r.Xu(o,a,i)).qs()||!r.wm(c.value()))return!1;if((c=r.Xu(l,a,i)).qs()||!r.wm(c.value()))return!1;if((c=r.Xu(o,a,u)).qs()||!r.wm(c.value()))return!1}return!0},r.prototype.bN=function(e){for(var i=new t.Ta,n=new t.h,r=0;r<e.I();r++){e.D(r,n);var s=this.Er(n);if(-1!=s){e.we(r,i);var o=this.g.hc(this.Ts,i);this.Ga.Tj(s,o)}}},r.prototype.ZM=function(e){for(var i=new t.Ta,n=new t.h,r=0;4>r;r++){e.gB(r,n);var s=this.Er(n);if(-1!=s){e.If(r,i);var o=this.g.hc(this.Ts,i);this.Ga.Tj(s,o)}}},r.prototype.gN=function(e){var i=new t.Ta,n=e.ac();if(-1!=(n=this.Er(n))){e.Uo(i);var r=this.g.hc(this.Ts,i);this.Ga.Tj(n,r)}n=e.xc(),-1!=(n=this.Er(n))&&(e.Qo(i),e=this.g.hc(this.Ts,i),this.Ga.Tj(n,e))},r.prototype.fN=function(t){var e=t.D();-1!=(e=this.Er(e))&&(t=this.g.hc(this.Ts,t),this.Ga.Tj(e,t))},r.prototype.Er=function(t){var e=-1;if(0==this.Ga.size(-1))return this.Ga.addElement(-4,-1);if(1==this.Ga.size(-1)){var i=this.g.Oa(this.Ga.ka(this.Ga.sc(-1)));return t.Mz(i)||(e=this.Ga.yn(-5)),e}return this.iC(t)},r.prototype.iC=function(e){var i=-1;do{var n=this.Ga.sc(-1),s=this.Ga.Gc(-1),o=this.Ga.ka(n),a=this.Ga.ka(s),c=new t.h,l=new t.h;if(this.Yh.D(o,c),this.Yh.D(a,l),o=t.h.Wq(l,e,c),r.wm(o))i=this.Ga.yn(-1),(c=this.gC(e,s,n))!=n&&this.hC(e,n,this.Ga.xe(c));else if(r.uG(o)){l=this.Ga.tv(-1);var u=this.Ga.sc(-1),h=this.Ga.Gc(-1);for(o=new t.h,a=new t.h;u!=this.Ga.xe(h);){var d=this.Ga.ka(l);this.Yh.D(d,o),d=t.h.Wq(o,e,c),r.uG(d)?(h=l,l=this.Ga.nl(l)):(u=l,l=this.Ga.Zp(l))}if(l=h,c=u,d=this.Ga.ka(l),u=this.Ga.ka(c),this.Yh.D(d,o),this.Yh.D(u,a),c!=n&&(o=t.h.Wq(a,e,o),!r.wm(o)))continue;i=this.Ga.Au(c,l,-2,!1),this.hC(e,l,s),this.gC(e,c,n)}else null==this.tb&&(this.tb=new t.zb),this.tb.Ec(l),this.tb.Rc(c),0>(c=this.tb.fe(e,!0))?(c=this.Ga.xe(s),this.Ga.wd(s,-1),i=this.Ga.yn(-3),this.gC(e,c,n)):1<c&&(c=this.Ga.lb(n),this.Ga.wd(n,-1),i=this.Ga.Au(-1,c,-3,!1),this.hC(e,c,s))}while(0);return i},r.prototype.hC=function(e,i,n){if(i!=n){var s=this.Ga.ka(i),o=this.Ga.lb(i),a=new t.h,c=new t.h;for(this.Yh.D(s,a);i!=n&&2<this.Ga.size(-1)&&(this.Yh.D(this.Ga.ka(o),c),s=t.h.Wq(c,e,a),!r.wm(s));)s=i,i=o,a.N(c),o=this.Ga.lb(i),this.Yh.wd(s)}},r.prototype.gC=function(e,i,n){if(i==n)return n;var s=this.Ga.ka(i),o=this.Ga.xe(i),a=new t.h,c=new t.h;for(this.Yh.D(s,a);i!=n&&2<this.Ga.size(-1)&&(this.Yh.D(this.Ga.ka(o),c),s=t.h.Wq(a,e,c),!r.wm(s));)s=i,i=o,a.N(c),o=this.Ga.xe(i),this.Yh.wd(s);return i},r.Xu=function(e,i,n){var r=new t.Xb;r.set(i.x),r.sub(e.x);var s=new t.Xb;s.set(n.y),s.sub(e.y);var o=new t.Xb;return o.set(i.y),o.sub(e.y),(i=new t.Xb).set(n.x),i.sub(e.x),r.Ag(s),o.Ag(i),r.sub(o),r},r.wm=function(t){return 0>t},r.uG=function(t){return 0<t},r}();t.$t=r}(W||(W={})),function(t){var e=function(){function e(t){this.g=null,this.lH=!0,this.nd=t}return e.pU=function(e,i,n){return e=t.ta.Gr(e),t.Zt.Dv(i.Mg(),i.jh(),n.Mg(),n.jh(),t.mc.nx(e))},e.uO=function(e,i){var n=new t.Ta;return t.Zt.MT(e,i,n),n},e.W=function(t,i,n,r){return(n=new e(n)).g=t,n.ra=i,n.lH=r,n.wM()},e.prototype.fM=function(e){return t.Zt.aQ(this.g,e)},e.prototype.kM=function(e){return t.au.W(this.g,e,this.nd)},e.prototype.wM=function(){var e=this.ra,i=t.ta.Gr(e),n=1.00001*(e=t.ta.jN(e));e*=1.000001;for(var r=!1,s=30<this.g.gd+10?1e3:(this.g.gd+10)*(this.g.gd+10),o=0,a=this.g.aS();;o++){if(o>s)throw t.i.ga("Internal Error: max number of iterations exceeded");var c=this.fM(i);if(r=r||c,this.lH&&(c=0!=this.g.Ip(i,!0,!1),r=r||c),c=!1,(0==o||a||t.au.cI(!0,this.g,e,null,this.nd))&&(c=this.kM(n),r=r||c),!c)break;t.np.Bp(this.nd)}return r},e}();t.Tk=e}(W||(W={})),function(t){var e=function(){function e(t){this.ae=this.Nc=null,this.Zs=0,this.Vb=t,this.Yz=!0}return e.prototype.vv=function(t,e){var i=this.g.cc(t);if(null==i){if(!this.g.fd(t,e))return null;i=e}return i},e.prototype.Zq=function(){var e;void 0===e&&(e=!1),this.Zs++,(e||0==(4095&this.Zs))&&(this.Zs=0,t.np.Bp(this.Vb))},e.prototype.fP=function(){var e=this.g.$q(!1),i=!1,n=new t.zb,r=new t.zb,s=new t.l;s.Pa();var o=new t.l;o.Pa();for(var a=new t.Ta,c=new t.LC,l=e.next();-1!=l;l=e.next()){t.np.Bp(this.Vb);var u=null,h=!1;if(!t.ba.Sn(this.g.jc(e.ck))){if(null==(u=this.vv(l,n)))continue;if(u.A(s),s.X(this.ra,this.ra),u.Ci(this.ra)){if(!u.Ci(0))continue;h=!0,u=null}}var d=this.g.$q(e),p=d.next();for(-1!=p&&(p=d.next());-1!=p;p=d.next()){var f=null,b=!1;if(!t.ba.Sn(this.g.jc(d.ck))){if(null==(f=this.vv(p,r)))continue;if(f.A(o),f.Ci(this.ra)){if(!f.Ci(0))continue;b=!0,f=null}}var y=0,m=0;if(null!=u&&null!=f)s.zG(o)&&(c.Po(u),c.Po(f),c.Fa(this.ra,!1),0<(y=c.ql(0))+(m=c.ql(1))&&(this.g.lr(l,c,0,!0),this.g.lr(p,c,1,!0)),c.clear());else if(null!=u){var g=new t.h;if(this.g.D(p,g),s.contains(g)){if(c.Po(u),this.g.Wi(p,a),c.Fz(this.ra,a,!1),0<(y=c.ql(0)))if(this.g.lr(l,c,0,!0),b){for(b=-1,g=this.g.V(p);-1!=g&&g!=p&&(b=g,null!=(f=this.vv(g,r))&&f.Ci(0));g=this.g.V(g));for(g=p;-1!=g&&(this.g.Eh(g,c.Cf),g!=b);g=this.g.V(g));}else this.g.Eh(p,c.Cf);c.clear()}}else{if(null==f)continue;if(g=new t.h,this.g.D(l,g),o.X(this.ra,this.ra),o.contains(g)){if(c.Po(f),this.g.Wi(l,a),c.Fz(this.ra,a,!1),0<(m=c.ql(0)))if(this.g.lr(p,c,0,!0),h){for(b=-1,g=this.g.V(l);-1!=g&&g!=l&&(b=g,null!=(f=this.vv(g,r))&&f.Ci(0));g=this.g.V(g));for(g=l;-1!=g&&(this.g.Eh(g,c.Cf),g!=b);g=this.g.V(g));}else this.g.Eh(l,c.Cf);c.clear()}}if(0!=y+m){if(0!=y){if(null==(u=this.g.cc(l))){if(!this.g.fd(l,n))continue;u=n,n.A(s)}else u.A(s);if(u.Ci(this.ra))break}i=!0}}}return i},e.prototype.gP=function(){return this.GU()},e.prototype.GU=function(){return(new t.JC).DX(this.g,this.ra)},e.prototype.dI=function(){var e=!1;null==this.Nc&&(this.Nc=new t.Yj);var i=new t.ja(0);i.Jb(this.g.gd+1);for(var n=this.g.$q(),r=n.next();-1!=r;r=n.next())i.add(r);this.g.mx(i,i.size),i.add(-1),n=this.g.Hd(),r=this.g.Hd(),this.ae=new t.MC(this.g,this.ra,!this.Yz),this.Nc.Wo(this.ae);var s=new t.ja(0),o=new t.ja(0),a=0;new t.h;var c=this.g.ud;this.g.wb.rc();for(var l,u,h=this.g.wb.Aa[0].o,d=i.get(a++);-1!=d;){var p=l=h[2*(u=c.U(d,0))],f=u=h[2*u+1];do{var b=c.U(d,2),y=c.U(d,1);if(-1!=b){var m=c.U(b,0),g=h[2*m];0>(f<(m=h[2*m+1])?-1:f>m?1:p<g?-1:p>g?1:0)&&(o.add(d),o.add(b))}-1!=y&&(g=h[2*(m=c.U(y,0))],0>(f<(m=h[2*m+1])?-1:f>m?1:p<g?-1:p>g?1:0)&&(o.add(y),o.add(y))),-1!=(g=this.g.Qa(d,n))&&(s.add(g),this.g.Sa(d,n,-1)),-1!=(g=this.g.Qa(d,r))&&(s.add(g),this.g.Sa(d,r,-1)),-1!==(d=i.get(a++))&&(p=h[2*(f=c.U(d,0))],f=h[2*f+1])}while(-1!=d&&p===l&&f===u);for(p=1==s.size&&2==o.size,g=f=-1,b=0,y=s.size;b<y;b++){m=s.get(b);var v=this.Nc.xe(m);if(-1==v||s.$F(v)||(f=v),-1==(m=this.Nc.lb(m))||s.$F(m)||(g=m),-1!=f&&-1!=g)break}for(this.ae.SJ(u,l),b=0,y=s.size;b<y;b++)m=s.get(b),this.Nc.wd(m,-1);if(s.clear(!1),!p&&-1!=f&&-1!=g&&this.iO(f,g)){e=!0,this.Oi=this.ae.tm();break}for(b=0,y=o.size;b<y;b+=2){if(u=o.get(b),l=o.get(b+1),p?(u=this.Nc.Au(f,g,u,!0),p=!1):u=this.Nc.addElement(u,-1),this.ae.rg){this.Oi=this.ae.tm(),e=!0;break}-1==this.g.Qa(l,n)?this.g.Sa(l,n,u):this.g.Sa(l,r,u)}if(e)break;o.Ch(0)}return this.g.Ud(n),this.g.Ud(r),e},e.prototype.iO=function(t,e){return this.ae.compare(this.Nc,this.Nc.ka(t),e),t=this.ae.rg,this.ae.Lr(),t},e.qE=function(e){for(var i=e.ld;-1!=i;i=e.ve(i))if(t.ba.Ic(e.jc(i)))return!0;return!1},e.YP=function(t,i,n,r){return!!e.qE(t)&&((i=new e(r)).g=t,i.ra=n,15>t.gd?t=i.fP():i.gP())},e.W=function(t,i,n){return e.YP(t,t.AF(),i,n)},e.cI=function(i,n,r,s,o){if(!e.qE(n))return!1;var a=new e(o);if(a.g=n,a.ra=r,a.Yz=i,a.dI())return null!=s&&s.Xt(a.Oi),!0;var c=new t.Ed;return c.TB(),n.Pc(c),(a=new e(o)).g=n,a.ra=r,a.Yz=i,i=a.dI(),c.TB(),n.Pc(c),!!i&&(null!=s&&s.Xt(a.Oi),!0)},e.Ol=function(t,e){return!(16>(t=t.I()))&&2*t+Math.log(t)*Math.LOG10E/Math.log(2)*e<1*t*e},e.dP=function(i,n,r,s){if(t.ba.Ic(n.K()))return new e(s).eP(i,n,r);throw t.i.ga("crack_A_with_B")},e.prototype.eP=function(n,r,s){var o=new t.l;n.yc(o);var a=new t.l;if(r.yc(a),a.X(s,s),!a.isIntersecting(o))return n;var c=n.Cb,l=null;null!=c&&(l=c.Gb),e.Ol(n,n.I())&&(l=t.ta.kj(n,a));var u=null!=l?l.getIterator():null,h=r.Ha();r=n.Ha();var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=[];h.ab();)for(;h.Ia();){var p=h.ia();if(null!=l){for(u.Vo(p,s),c=u.next();-1!=c;c=u.next())if(this.Zq(),r.Wb(l.ka(c),-1),r.Ia()){var f=(c=r.ia()).Fa(p,null,d,null,s);for(c=0;c<f;++c){var b=d[c];if(0!=b&&1!=b){var y=r.xb(),m=new i;m.t=b,m.index=y,a.push(m)}}}}else{var g=new t.l;if(p.yc(g),g.X(s,s),o.isIntersecting(g))for(r.$i();r.ab();)for(;r.Ia();)if(this.Zq(),c=r.ia(),b=new t.l,c.yc(b),b.isIntersecting(g))for(f=c.Fa(p,null,d,null,s),c=0;c<f;++c)0!=(b=d[c])&&1!=b&&(y=r.xb(),(m=new i).t=b,m.index=y,a.push(m))}}if(0==a.length)return n;for(a=a.sort(i.yy),n=n.Ja(),r.$i();r.ab()&&!r.Ia(););for(s=r.ia(),o=new t.hg,l=-1,c=0,u=a.length;c<u;){for(d=a[c].index,h=c+1;h<u&&a[h].index==d;)++h;for(;r.xb()<d;){if(this.Zq(),p=r.Ia(),b=r.gb,(g=p||!r.Pn()||r.Qn())&&n.oc(s,l!=b),l=b,!p)for(;r.ab()&&!r.Ia(););s=r.ia()}for(d=0;c<h;c++)(b=a[c].t)!=d&&(s.bh(d,b,o),d=b,b=r.gb,n.oc(o.get(),l!=b),l=b);if((g=(p=r.Ia())||!r.Pn()||r.Qn())&&(s.bh(d,1,o),n.oc(o.get(),!1)),p)s=r.ia();else{for(;r.ab()&&!r.Ia(););s=r.Ia()?r.ia():null}c=h}for(null!=s&&(b=r.gb,(g=(p=r.Ia())||!r.Pn()||r.Qn())&&n.oc(s,l!=b),l=b),p=r.Ia();;){if(!p){for(;r.ab()&&!(p=r.Ia()););if(!p)break}s=r.ia(),b=r.gb,(g=(p=r.Ia())||!r.Pn()||r.Qn())&&n.oc(s,l!=b),l=b}return n},e}();t.au=e;var i=function(){function t(){}return t.yy=function(t,e){return t.index==e.index?t.t>e.t?1:t.t<e.t?-1:0:t.index>e.index?1:-1},t}()}(W||(W={})),function(t){var e;(e=t.CK||(t.CK={}))[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Coincident=2]="Coincident",e[e.Undefined=3]="Undefined",e[e.Uncut=4]="Uncut";var i=function(t,e,i,n,r,s,o,a,c,l,u){this.Y=t,this.bt=e,this.Os=i,this.tg=n,this.Nm=l,this.Cl=u};t.iY=i;var n=function(){function e(t,e){this.BH=t,this.Ii=e}return e.prototype.iM=function(e,i){var n=new t.h;this.Ii.D(e,n);var r=new t.h;return this.Ii.D(i,r),0!=(n=n.compare(r))?n:(e=this.Ii.Qa(e,this.BH))<(i=this.Ii.Qa(i,this.BH))?-1:e==i?0:1},e}(),r=function(t,e,i,n,r,s,o,a,c){this.tg=t,this.Os=e,this.IA=i,this.MH=n,this.Fi=r,this.Cl=s,this.Nm=o,this.NH=a,this.ET=c};t.hY=r,t.DK=function(){function e(){}return e.BK=function(n,r,s,o,a,c){if(r.B())n=new i(r,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),a.push(n);else if(s.B())n=new i(r,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),a.push(n);else{var l=new t.hd;if(l.Ib(r),l.Ib(s),t.Tk.W(l,o,c,!0),0==l.gd)n=new i(r.Ja(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),a.push(n);else{for(r=0,s=l.Hd(),o=l.ld;-1!=o;o=l.ve(o))for(c=l.Ob(o);-1!=c;c=l.Sb(c))for(var u=l.Ya(c),h=0,d=l.Ka(c);h<d;u=l.V(u),h++)l.Sa(u,s,r++);r=e.zM(s,l),e.VL(n,r,l,a)}}},e.zM=function(i,r){for(var s=r.gd,o=new t.ja(0),a=r.ld;-1!=a;a=r.ve(a))for(var c=r.Ob(a);-1!=c;c=r.Sb(c))for(var l=r.Ya(c),u=0,h=r.Ka(c);u<h;l=r.V(l),u++)o.add(l);var d=new n(i,r);o.Wd(0,s,(function(t,e){return d.iM(t,e)})),i=[];var p=[],f=r.Hd(),b=r.Hd();a=r.ld,c=r.ve(a),h=new t.h;var y=new t.h,m=o.get(0),g=r.cd(m),v=r.Rf(g);r.D(m,h);var w=1;for(l=0;w<s-1;){var O=!1;for(u=w;u<s;u++)if(u!=l){var j=o.get(u),_=r.cd(j),x=r.Rf(_);if(r.D(j,y),!h.rb(y))break;v==a&&x==c&&(O=e.mM(f,b,r,i,p,g,m,_,j))}if(O||l==w-1){if(O&&l==w-1&&w--,++l==s)break;m=o.get(l),g=r.cd(m),v=r.Rf(g),r.D(m,h)}O||(w=l+1)}for(s=[],a=r.ld;-1!=a;a=r.ve(a))for(c=r.Ob(a);-1!=c;c=r.Sb(c))for(o=r.Ya(c),u=0,h=r.Ka(c);u<h;o=r.V(o),u++){if(0<=(l=r.Qa(o,b)))for(;l<p.length&&p[l].tg==o;)s.push(p[l++]);if(0<=(l=r.Qa(o,f)))for(;l<i.length&&i[l].tg==o;)s.push(i[l++])}return r.Ud(f),r.Ud(b),s},e.mM=function(t,i,n,r,s,o,a,c,l){var u=n.sj(o),h=n.sj(c),d=n.Ya(o),p=n.Ya(c),f=n.Na(a),b=n.Na(l),y=!1,m=!1,g=!1,v=!1;return a!=d&&(l!=p&&(y=e.nM(t,n,r,o,f,c,b)),l!=h&&(m=e.oM(t,n,r,o,f,c,l))),a!=u&&(l!=p&&(g=e.pM(i,n,s,o,a,c,b,d)),l!=h&&(v=e.qM(i,n,s,o,a,c,l,d))),y&&m&&g?(t=r.length-1,2==s[v?s.length-2:s.length-1].Fi&&(r[t-1]=r[t],--r.length)):y&&m&&v&&2==s[s.length-1].Fi&&(s=r[r.length-1],--r.length,n.Qa(s.tg,t)==r.length&&n.Sa(s.tg,t,-1)),y||m||g||v},e.nM=function(e,i,n,s,o,a,c){var l=new t.zb,u=new t.zb,h=[0,0],d=[0,0],p=i.cc(o);return null==p&&(i.fd(o,l),p=l),null==(l=i.cc(c))&&(i.fd(c,u),l=u),2>(p=p.Fa(l,null,h,d,0))&&(s=new r(o,s,h[0],NaN,p,c,a,d[0],NaN),n.push(s),0>(s=i.Qa(o,e))&&i.Sa(o,e,n.length-1)),!0},e.oM=function(e,i,n,s,o,a,c){var l=new t.zb,u=new t.zb,h=[0,0],d=[0,0],p=i.cc(o);return null==p&&(i.fd(o,l),p=l),null==(l=i.cc(c))&&(i.fd(c,u),l=u),2>(p=p.Fa(l,null,h,d,0))&&(s=new r(o,s,h[0],NaN,p,c,a,d[0],NaN),n.push(s),0>(s=i.Qa(o,e))&&i.Sa(o,e,n.length-1),!0)},e.pM=function(e,i,n,s,o,a,c,l){var u=new t.zb,h=new t.zb,d=[0,0],p=[0,0],f=i.cc(o);return null==f&&(i.fd(o,u),f=u),null==(u=i.cc(c))&&(i.fd(c,h),u=h),2==(f=f.Fa(u,null,d,p,0))?(s=new r(o,s,d[0],d[1],f,c,a,p[0],p[1]),n.push(s),0>(s=i.Qa(o,e))&&i.Sa(o,e,n.length-1),!0):(h=!1,o==l&&(s=new r(o,s,d[0],NaN,f,c,a,p[0],NaN),n.push(s),0>(s=i.Qa(o,e))&&i.Sa(o,e,n.length-1),h=!0),h)},e.qM=function(e,i,n,s,o,a,c,l){var u=new t.zb,h=new t.zb,d=[0,0],p=[0,0],f=i.cc(o);return null==f&&(i.fd(o,u),f=u),null==(u=i.cc(c))&&(i.fd(c,h),u=h),2==(f=f.Fa(u,null,d,p,0))?(s=new r(o,s,d[0],d[1],f,c,a,p[0],p[1]),n.push(s),0>(s=i.Qa(o,e))&&i.Sa(o,e,n.length-1),!0):(h=!1,o==l&&(s=new r(o,s,d[0],NaN,f,c,a,p[0],NaN),n.push(s),0>(s=i.Qa(o,e))&&i.Sa(o,e,n.length-1),h=!0),h)},e.VL=function(n,r,s,o){var a=[];a[0]=new t.h,a[1]=new t.h,a[2]=new t.h,a[3]=new t.h;var c=new t.h,l=new t.h,u=new t.h,h=new t.h,d=null;null!=o&&(d=new t.hg).Pr();var p=0,f=null,b=new t.zb;new t.zb;for(var y=s.Ob(s.ld);-1!=y;y=s.Sb(y)){for(var m=4,g=-1,v=-1,w=-1,O=-1,j=NaN,_=!0,x=!1,S=!0,M=!0,k=!0,I=0,T=y,E=0,A=s.Ya(y),C=s.Ka(y),P=0;P<C;A=s.V(A),P++){var R=s.cc(A);if(null==R){if(!s.fd(A,b))continue;R=b}-1==v&&(v=A);for(var L=0;p<r.length&&A==r[p].tg;){g=r[p].Os;var N=r[p].tg,F=r[p].IA,D=r[p].Nm,z=r[p].Cl,V=r[p].NH;if(2==r[p].Fi){if(x||(T=g,v=N,E=F,w=D,O=z,j=V,m=2,null!=o?f=new t.Ua:I=0,k=!1,M=!0),F=r[p].MH,V=r[p].ET,null!=o?(R.bh(L,r[p].MH,d),f.oc(d.get(),M)):I++,L=F,x=!0,M=_=!1,p+1==r.length||2!=r[p+1].Fi||r[p+1].tg==N&&r[p+1].IA!=L){if(null!=o){var $=new i(f,2,g,N,F,m,T,v,E,D,z,V,w,O,j);o.push($)}else null.add(I);T=g,v=N,E=F,w=D,O=z,j=V,m=2,x=_=!1,M=k=!0}}else{var G=s.V(N);if(p<r.length-1&&r[p+1].tg==G&&r[p+1].Cl==z&&2==r[p+1].Fi)F!=L&&(k&&(null!=o?f=new t.Ua:I=0),_=0<p&&r[p-1].Os==g?1==m?0:0==m?1:3:3,null!=o?(R.bh(L,F,d),f.oc(d.get(),M),$=new i(f,_,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):(I++,null.add(I)),L=F,T=g,v=N,E=F,w=D,O=z,j=V,m=_,_=S=!1,M=k=!0);else if(!e.uM(n,s,r,p,c,l)){e.rM(s,r,p,y,A,u,h);var U=!1;if(G=!1,$=!0,!(c.rb(u)||l.rb(u)||c.rb(h)||l.rb(h))){a[0].N(c),a[1].N(l),a[2].N(u),a[3].N(h),a.sort(t.h.ou);var q=a[0],B=a[1],H=a[2],W=a[3];q.rb(c)?B.rb(l)?n?(G=U=!0,$=!1):U=!1:W.rb(l)?n?$=G=U=!0:U=!1:(U=!0,$=B.rb(u)):B.rb(c)?H.rb(l)?n?(G=U=!0,$=!1):U=!1:q.rb(l)?n?$=G=U=!0:U=!1:(U=!0,$=H.rb(u)):H.rb(c)?W.rb(l)?n?(G=U=!0,$=!1):U=!1:B.rb(l)?n?$=G=U=!0:U=!1:(U=!0,$=W.rb(u)):q.rb(l)?n?(G=U=!0,$=!1):U=!1:H.rb(l)?n?$=G=U=!0:U=!1:(U=!0,$=q.rb(u))}U&&(U=A==N,(F!=L||U&&0==L)&&(k&&(null!=o?f=new t.Ua:I=0),null!=o?(R.bh(L,F,d),f.oc(d.get(),M)):I++),$?1!=m?((F!=L||U&&0==L)&&(null!=o?($=new i(f,1,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):null.add(I)),G?(p>=r.length-2||r[p+2].Os!=g)&&(m=0):m=1):((F!=L||U&&0==L)&&(null!=o?($=new i(f,3,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):null.add(I)),m=1):0!=m?((F!=L||U&&0==L)&&(null!=o?($=new i(f,0,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):null.add(I)),G?(p>=r.length-2||r[p+2].Os!=g)&&(m=1):m=0):((F!=L||U&&0==L)&&(null!=o?($=new i(f,3,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):null.add(I)),m=0),(F!=L||U&&0==L)&&(L=F,T=g,v=N,E=F,w=D,O=z,j=V,_=S=!1,M=k=!0))}}p++}1!=L&&(k&&(null!=o?f=new t.Ua:I=0),null!=o?(R.bh(L,1,d),f.oc(d.get(),M)):I++,M=k=!1,S=!0)}S&&(F=1,N=s.sj(y),N=s.Na(N),z=D=-1,V=NaN,_?null!=o?($=new i(f,4,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):null.add(I):(_=1==m?0:0==m?1:3,null!=o?($=new i(f,_,g,N,F,m,T,v,E,D,z,V,w,O,j),o.push($)):null.add(I)))}},e.uM=function(i,n,r,s,o,a){var c=r[s].NH;if(1==c)return e.sM(i,n,r,s,o,a);if(0==c)return e.tM(i,n,r,s,o,a);throw t.i.Ra()},e.sM=function(e,i,n,r,s,o){var a=new t.zb,c=n[r].tg,l=n[r].Nm,u=n[r].Cl,h=-1,d=-1,p=-1,f=-1;if(!e&&0<r){var b=n[r-1];h=b.tg,d=b.Nm,p=b.Cl,f=b.Fi}var y=-1,m=-1,g=-1,v=-1;r<n.length-1&&(y=(b=n[r+1]).tg,m=b.Nm,g=b.Cl,v=b.Fi);var w=i.V(c);return b=i.V(u),e?r==n.length-1||y!=c||m!=l||g!=b||2==v?(null==(e=i.cc(u))&&(i.fd(u,a),e=a),o.N(e.jg()),s.mt(o),o.normalize(),s.normalize(),!1):(null==(e=i.cc(u))&&(i.fd(u,a),e=a),s.N(e.jg()),null==(e=i.cc(b))&&(i.fd(b,a),e=a),o.N(e.jg()),s.Uq(),o.normalize(),s.normalize(),!1):0<r&&h==c&&d==l&&p==b&&2==f||r<n.length-1&&y==w&&m==l&&g==b&&2==v?(null==(e=i.cc(u))&&(i.fd(u,a),e=a),o.N(e.jg()),s.mt(o),o.normalize(),s.normalize(),!1):!(r<n.length-1&&y==c&&m==l&&g==b)||(null==(e=i.cc(u))&&(i.fd(u,a),e=a),s.N(e.jg()),null==(e=i.cc(b))&&(i.fd(b,a),e=a),o.N(e.jg()),s.Uq(),o.normalize(),s.normalize(),!1)},e.tM=function(e,i,n,r,s,o){var a=new t.zb,c=n[r].tg,l=n[r].Nm,u=n[r].Cl,h=-1,d=-1,p=-1,f=-1;if(!e&&r<n.length-1){var b=n[r+1];h=b.tg,d=b.Nm,p=b.Cl,f=b.Fi}var y=-1,m=-1,g=-1;b=-1,0<r&&(y=(b=n[r-1]).tg,m=b.Nm,g=b.Cl,b=b.Fi);var v=i.V(c),w=i.Na(u);return e?0!=r&&y==c&&m==l&&g==w&&2!=b||(null==(e=i.cc(u))&&(i.fd(u,a),e=a),o.N(e.jg()),s.mt(o),o.normalize(),s.normalize(),!1):!(0<r&&y==c&&m==l&&g==w&&2==b||r<n.length-1&&h==v&&d==l&&p==w&&2==f)||(null==(e=i.cc(u))&&(i.fd(u,a),e=a),o.N(e.jg()),s.mt(o),o.normalize(),s.normalize(),!1)},e.rM=function(e,i,n,r,s,o,a){var c=new t.zb,l=e.cc(s);if(null==l&&(e.fd(s,c),l=c),i=(n=i[n]).tg,n=n.IA,s=e.V(i),1==n)o.N(l.jg()),-1!=s&&s!=e.sj(r)?(null==(l=e.cc(s))&&(e.fd(s,c),l=c),a.N(l.jg()),null==(l=e.cc(i))&&e.fd(i,c)):a.N(o),o.Uq(),a.normalize(),o.normalize();else{if(0!=n)throw t.i.Ra();a.N(l.jg()),o.mt(a),a.normalize(),o.normalize()}},e}()}(W||(W={})),function(t){var e;(e=t.UL||(t.UL={}))[e.Linear=0]="Linear",e[e.Angular=1]="Angular",e[e.Area=2]="Area";var i=function(){function e(t,e,i){this.od=e,this.bi=i,this.pA=t}return e.prototype.Nb=function(t){return t instanceof e&&this.bi===t.bi},e.TF=function(t){return 0!==t.od?null:-1===t.pA?new e(-1,2,t.bi*t.bi):e.$g(a[t.pA])},e.$g=function(t){return void 0===(t=o[t])?null:t},e.RO=function(t,i,n){var r=null;if(null!=n)try{"EPSG"===n.values[0]&&(r=e.$g(parseInt(n.values[1])))}catch(s){}return null===r&&(r=new e(-1,t,i)),r},e.prototype.Fc=function(){return this.pA},e.prototype.uF=function(e){if(e.od!=this.od)throw t.i.Hb();return this.bi/e.bi},e.Oh=function(t,e,i){return e.uF(i)*t},e.PE=function(t,e,i,n,r){for(i=i.uF(n),n=0;n<e;n++)r[n]=t[n]*i},e}();t.Uc=i;for(var n=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1.244521604938272e-7,109465,1e-12,109466,1e-18],r=[1031,4.84813681109536e-9,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],s=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],o=[],a=[],c=0;c<n.length;c+=2)o[n[c]]=new i(n[c],2,n[c+1]);for(n=null,c=0;c<r.length;c+=2)o[r[c]]=new i(r[c],1,r[c+1]);for(r=null,c=0;c<s.length;c+=3)o[s[c]]=new i(s[c],0,s[c+1]),a[s[c]]=s[c+2];s=null}(W||(W={})),function(t){var e=function(){function t(){this.yb=this.pb=0}return t.prototype.set=function(t,e){void 0!==e?(this.pb=t,this.yb=e):"number"==typeof t?(this.pb=t,this.yb=0):(this.pb=t.pb,this.yb=t.yb)},t.prototype.value=function(){return this.pb},t.prototype.add=function(t){var e=this.pb+t.pb;t=this.yb+t.yb+2220446049250313e-31*Math.abs(e),this.pb=e,this.yb=t},t.prototype.cN=function(){var t=this.pb+1,e=this.yb+2220446049250313e-31*Math.abs(t);this.pb=t,this.yb=e},t.prototype.WM=function(t,e){this.pb=t.pb+e.pb,this.yb=t.yb+e.yb+2220446049250313e-31*Math.abs(this.pb)},t.prototype.sub=function(t){if("number"==typeof t){var e=this.pb-t;t=this.yb+2220446049250313e-31*Math.abs(e)}else e=this.pb-t.pb,t=this.yb+t.yb+2220446049250313e-31*Math.abs(e);this.pb=e,this.yb=t},t.prototype.Ag=function(t){var e=this.pb*t.pb;this.yb=this.yb*Math.abs(t.pb)+t.yb*Math.abs(this.pb)+this.yb*t.yb+2220446049250313e-31*Math.abs(e),this.pb=e},t.prototype.Oo=function(t){var e=this.pb*t;this.yb=this.yb*Math.abs(t)+2220446049250313e-31*Math.abs(e),this.pb=e},t.prototype.Ml=function(t,e){var i=Math.abs(t.pb)*Math.abs(e.pb);this.yb=t.yb*Math.abs(e.pb)+e.yb*Math.abs(t.pb)+t.yb*e.yb+2220446049250313e-31*Math.abs(i),this.pb=i},t.prototype.lm=function(t){var e=Math.abs(t.pb),i=this.pb/t.pb,n=(this.yb+Math.abs(i)*t.yb)/e;t.yb>.01*e&&(n*=1+(1+(t=t.yb/e))*t),this.pb=i,this.yb=n+2220446049250313e-31*Math.abs(i)},t.prototype.sqrt=function(){if(0<=this.pb){var t=Math.sqrt(this.pb),e=this.pb>10*this.yb?.5*this.yb/t:this.pb>this.yb?t-Math.sqrt(this.pb-this.yb):Math.max(t,Math.sqrt(this.pb+this.yb)-t);e+=2220446049250313e-31*Math.abs(t)}else this.pb<-1*this.yb?e=t=NaN:(t=0,e=Math.sqrt(this.yb));this.pb=t,this.yb=e},t.prototype.sin=function(t){var e=Math.sin(t.pb),i=Math.cos(t.pb);this.pb=e,e=Math.abs(e),this.yb=(Math.abs(i)+.5*e*t.yb)*t.yb+2220446049250313e-31*e},t.prototype.cos=function(t){var e=Math.sin(t.pb),i=Math.cos(t.pb);this.pb=i,i=Math.abs(i),this.yb=(Math.abs(e)+.5*i*t.yb)*t.yb+2220446049250313e-31*i},t.prototype.qg=function(){return Math.abs(this.pb)<=this.yb},t.prototype.qs=function(){return this.qg()&&0!=this.yb},t}();t.Xb=e}(W||(W={}));var Z=new W.h,X=new W.h,Q=new W.h,tt=new W.h,et=new W.h;!function(t){var e,i;(i=e||(e={}))[i.closedPath=1]="closedPath",i[i.exteriorPath=2]="exteriorPath",i[i.ringAreaValid=4]="ringAreaValid";var n=function(){function e(t,e,i,n,r,s,o){void 0!==e?(this.ib=t,this.ck=e,this.cl=i,this.ji=n,this.za=s,this.cA=o,this.fw=r):(this.ib=t.ib,this.ck=t.ck,this.cl=t.cl,this.ji=t.ji,this.za=t.za,this.cA=t.cA,this.fw=t.fw),this.UG=!0}return e.prototype.next=function(){return this.UG?(this.UG=!1,this.ji):-1!=this.ji?(this.ji=this.ib.V(this.ji),this.za++,-1!=this.ji&&this.ji!=this.fw?this.ji:this.QT()):-1},e.prototype.QT=function(){for(this.cl=this.ib.Sb(this.cl),this.za=0;-1!=this.ck;){for(;-1!=this.cl;this.cl=this.ib.Sb(this.cl))if(this.fw=this.ji=this.ib.Ya(this.cl),-1!=this.ji)return this.ji;if(this.ck=this.ib.ve(this.ck),-1==this.ck)break;this.cA&&!t.ba.Ic(this.ib.jc(this.ck))||(this.cl=this.ib.Ob(this.ck))}return-1},e.sP=function(t,i,n,r,s,o,a){return new e(t,i,n,r,s,o,a)},e}();t.nY=n,e=function(){function e(){this.ko=this.Cm=this.wk=this.dd=this.Ck=this.wo=this.Pi=this.md=this.ci=this.Tg=this.Te=this.Kl=null,this.rw=this.ld=-1,this.gd=0,this.aA=!1,this.ht=this.it=this.wb=null}return e.prototype.Th=function(t){return null!=this.Te?this.Te[t]:null},e.prototype.Yg=function(t,e){if(null==this.Te){if(null==e)return;this.Te=[];for(var i=0,n=this.wb.I();i<n;i++)this.Te.push(null)}this.Te[t]=e},e.prototype.cp=function(t,e){this.md.T(t,1,e)},e.prototype.bp=function(t,e){this.md.T(t,2,e)},e.prototype.OB=function(t,e){this.md.T(t,6,e)},e.prototype.Up=function(t){return this.md.U(t,6)},e.prototype.fx=function(t,e){this.md.T(t,7,e)},e.prototype.rv=function(t){return this.md.U(t,0)},e.prototype.GJ=function(t,e){this.dd.T(t,1,e)},e.prototype.KJ=function(t,e){this.dd.T(t,0,e)},e.prototype.BF=function(t){return this.dd.U(t,7)},e.prototype.$o=function(t,e){this.dd.T(t,3,e)},e.prototype.ap=function(t,e){this.dd.T(t,4,e)},e.prototype.kU=function(e){null==this.dd&&(this.dd=new t.ad(8));var i=this.dd.De();return this.dd.T(i,2,e),this.dd.T(i,5,0),this.dd.T(i,6,0),this.dd.T(i,7,i),i},e.prototype.GQ=function(t){this.dd.kd(t)},e.prototype.mU=function(e){null==this.md&&(this.md=new t.ad(8),this.ud=new t.ad(5),this.Pi=new t.ce(0),this.wo=new t.ce(0));var i=this.md.De();return this.md.T(i,0,i),this.md.T(i,3,0),this.md.T(i,6,0),this.fx(i,e),i>=this.Pi.size&&(e=16>i?16:t.P.truncate(3*i/2),this.Pi.resize(e),this.wo.resize(e)),this.Pi.set(i,0),this.wo.set(i,0),i},e.prototype.kF=function(t){this.md.kd(t)},e.prototype.Qy=function(t){this.ud.kd(t),this.gd--},e.prototype.gI=function(e){null==this.md&&(this.md=new t.ad(8),this.ud=new t.ad(5),this.Pi=new t.ce(0),this.wo=new t.ce(0));var i=this.ud.De(),n=0<=e?e:i;if(this.ud.T(i,0,n),0>e){if(n>=this.wb.I()){if(e=16>n?16:t.P.truncate(3*n/2),this.wb.resize(e),null!=this.Te)for(var r=0;r<e;r++)this.Te.push(null);null!=this.Tg&&this.Tg.resize(e),this.it=this.wb.vb(0)}this.wb.Db(n,-1e38,-1e38),null!=this.Te&&(this.Te[n]=null),null!=this.Tg&&this.Tg.write(n,1)}return this.ud.T(i,4,2*n),this.gd++,i},e.prototype.xj=function(t,e,i){var n=-1!=e?this.Na(e):this.sj(t),r=-1!=n?this.V(n):-1,s=this.gI(null==i?this.gd:-1),o=this.Va(s);return null!=i&&this.wb.Ht(o,i),this.bj(s,t),this.Cc(s,r),this.Dc(s,n),-1!=r&&this.Dc(r,s),-1!=n&&this.Cc(n,s),i=this.ec(t),n=this.Ya(t),-1==e&&this.Xg(t,s),e==n&&this.Kf(t,s),i&&-1==r&&(this.Cc(s,s),this.Dc(s,s)),this.Wj(t,this.Ka(t)+1),t=this.Rf(t),this.Uj(t,this.I(t)+1),s},e.prototype.pm=function(){return null==this.ko&&(this.ko=new t.Ta(this.wb.description)),this.ko},e.prototype.Zo=function(t,e){this.dd.T(t,2,-134217729&this.dd.U(t,2)||(1==e?134217728:0))},e.prototype.Jn=function(t){return 0!=(134217728&this.dd.U(t,2))?1:0},e.prototype.$M=function(t){var e=this.Kg(t.K(),t.description);return 1736==t.K()&&this.Zo(e,t.Jn()),this.MD(e,t),e},e.prototype.aN=function(t){var e=this.Kg(t.K(),t.description);return this.ND(e,t),e},e.prototype.NV=function(e,i){null==this.md&&(this.md=new t.ad(8),this.ud=new t.ad(5),this.Pi=new t.ce(0),this.wo=new t.ce(0)),this.md.Ee(this.md.Jg+e),this.ud.Ee(this.ud.Jg+i),this.Pi.Jb(this.Pi.size+e),this.wo.Jb(this.wo.size+e)},e.prototype.MD=function(e,i){this.NV(i.ea(),i.I()),this.Kl.Gd(i,0,i.I()),this.it=this.wb.vb(0);for(var n=null!=this.Te&&null!=i.Se,r=0,s=i.ea();r<s;r++)if(!(2>i.Ka(r))){var o=this.wf(e,-1);this.mn(o,i.ec(r));for(var a=i.Ca(r),c=i.Wc(r);a<c;a++){var l=this.xj(o,-1,null);if(n)if(l=this.Va(l),0!=(1&i.RF(a)))this.Yg(l,null);else{var u=new t.hg;i.cc(a,u,!0),this.Yg(l,u.get())}}}},e.prototype.ND=function(t,e){this.Kl.Gd(e,0,e.I()),this.it=this.wb.vb(0),t=this.wf(t,-1);var i=0;for(e=e.I();i<e;i++)this.xj(t,-1,null)},e.prototype.BX=function(e,i,n){var r=this.V(e);if(-1==r)throw t.i.Ra();for(var s=this.pm(),o=this.cd(e),a=0,c=i.ql(n);a<c;a++){var l=this.Va(e),u=this.V(e),h=i.Xp(n,a);0==a&&(h.Uo(s),this.Eh(e,s)),322==h.K()?this.Yg(l,null):this.Yg(l,t.ba.ig(h)),h.Qo(s),a<c-1?e=this.xj(o,u,s):this.Eh(r,s)}},e.prototype.AX=function(e,i,n){var r=this.V(e);if(-1==r)throw t.i.Ra();for(var s=this.pm(),o=this.cd(e),a=0,c=i.ql(n);a<c;a++){var l=this.Va(e),u=this.V(e),h=i.Xp(n,c-a-1);0==a&&(h.Qo(s),this.Eh(e,s)),322==h.K()?this.Yg(l,null):this.Yg(l,t.ba.ig(h)),h.Uo(s),a<c-1?e=this.xj(o,u,s):this.Eh(r,s)}},e.prototype.AF=function(){var e=new t.l;e.Pa();for(var i=this.$q(),n=new t.h,r=!0,s=i.next();-1!=s;s=i.next())this.D(s,n),r?e.$b(n.x,n.y):e.Lk(n.x,n.y),r=!1;return e},e.prototype.Ib=function(e){var i=e.K();if(t.ba.Ic(i))return this.$M(e);if(550==i)return this.aN(e);throw t.i.Ra()},e.prototype.mN=function(e,i){var n=i.K();if(t.ba.Ic(n))this.MD(e,i);else{if(550!=n)throw t.i.Ra();this.ND(e,i)}},e.prototype.eN=function(e,i){var n=this.Kg(1736,e.description);if(2>e.Ka(i))return n;this.Kl.Gd(e,e.Ca(i),e.Wc(i)),this.it=this.wb.vb(0);var r=this.wf(n,-1);this.mn(r,e.ec(i)||!0);var s=null!=this.Te&&null!=e.Se,o=e.Ca(i);for(i=e.Wc(i);o<i;o++){var a=this.xj(r,-1,null);if(s)if(a=this.Va(a),0!=(1&e.RF(o)))this.Yg(a,null);else{var c=new t.hg;e.cc(o,c,!0),this.Yg(a,c.get())}}return n},e.prototype.Ke=function(e){var i=this.jc(e),n=t.RK.Kg(i,this.Kl.description),r=this.I(e);if(0==r)return n;if(t.ba.Ic(i)){i=this.ea(e);for(var s=t.Zc.Ph(i+1),o=t.Zc.Nr(i+1,0),a=n.description,c=0,l=a.Ba;c<l;c++){for(var u=a.qd(c),h=t.ua.Wa(u),d=t.Zc.QE(u,r),p=this.wb.vb(u),f=0,b=0,y=0,m=this.Ob(e);-1!=m;m=this.Sb(m)){var g=0;this.ec(m)&&(g|=1),this.OS(m)&&(g|=4),0!=g&&o.rJ(b,g);var v=this.Ka(m);if(s.write(b++,y),y+=v,0==u){v=p;var w=d,O=new t.h;for(g=this.Ya(m);f<y;g=this.V(g),f++){var j=this.Va(g);v.uc(2*j,O),w.Ut(2*f,O)}}else for(g=this.Ya(m);f<y;g=this.V(g),f++)for(j=this.Va(g),w=0;w<h;w++)O=p.Bg(j*h+w),d.rr(f*h+w,O)}n.kn(u,d),s.write(i,r)}n.HJ(o),n.IJ(s),n.Qc(16777215)}else if(550==i){for(a=n.description,n.resize(r),c=0,l=a.Ba;c<l;c++){for(u=a.qd(c),h=t.ua.Wa(u),d=n.vb(u),p=this.wb.vb(u),f=0,m=this.Ob(e),v=this.Ka(m),g=this.Ya(m);f<v;g=this.V(g),f++)for(j=this.Va(g),w=0;w<h;w++)O=p.Bg(j*h+w),d.rr(f*h+w,O);n.kn(u,d)}n.Qc(16777215)}return n},e.prototype.vB=function(t){for(var e=this.Ob(t);-1!=e;e=this.ar(e));e=this.GR(t);var i=this.ve(t);-1!=e?this.GJ(e,i):this.ld=i,-1!=i?this.KJ(i,e):this.rw=e,this.GQ(t)},e.prototype.Kg=function(e,i){return void 0===i?this.SE(e,t.ee.og()):this.SE(e,i)},e.prototype.SE=function(e,i){return e=this.kU(e),null==this.wb?this.wb=this.Kl=new t.de(i):this.Kl.Ll(i),this.ht=this.Kl.description,this.aA=1<this.ht.Ba,-1==this.ld?this.ld=e:(this.KJ(e,this.rw),this.GJ(this.rw,e)),this.rw=e},e.prototype.ve=function(t){return this.dd.U(t,1)},e.prototype.GR=function(t){return this.dd.U(t,0)},e.prototype.jc=function(t){return 2147483647&this.dd.U(t,2)},e.prototype.zJ=function(e,i,n){i=this.wk[i],(e=this.BF(e))>=i.size&&i.resize(Math.max(t.P.truncate(1.25*e),16),-1),i.write(e,n)},e.prototype.CF=function(t,e){return(t=this.BF(t))<(e=this.wk[e]).size?e.read(t):-1},e.prototype.TE=function(){null==this.wk&&(this.wk=[]);for(var e=0;e<this.wk.length;e++)if(null==this.wk[e])return this.wk[e]=t.Zc.Ph(0),e;return this.wk.push(t.Zc.Ph(0)),this.wk.length-1},e.prototype.nW=function(t){this.wk[t]=null},e.prototype.Ob=function(t){return this.dd.U(t,3)},e.prototype.lv=function(t){return this.dd.U(t,4)},e.prototype.I=function(t){return this.dd.U(t,5)},e.prototype.ea=function(t){return this.dd.U(t,6)},e.prototype.Ip=function(e,i,n){for(var r=0,s=this.ld;-1!=s;s=this.ve(s)){var o=this.jc(s);if(t.ba.Ic(o)&&(!n||1736==o)){o=1736==this.jc(s);for(var a=this.Ob(s);-1!=a;){for(var c=0,l=this.Ya(a);c<t.P.truncate(this.Ka(a)/2);){var u=this.V(l);if(-1==u)break;var h=this.Va(l),d=this.Th(h);null!=d?h=d.Rb():(d=this.Va(u),h=this.wb.Ar(h,d)),h<=e?(0==h?0==r&&(r=-1):r=1,u!=this.sj(a)&&(this.eC(u,l),this.pd(u,!0))):l=this.V(l),c++}for(c=this.Ya(a),l=this.ec(a)?c:this.sj(a);0<this.Ka(a);){if(-1==(u=this.Na(l))){this.pd(l,!0),0==r&&(r=-1);break}var p=this.Va(u);if(null!=(d=this.Th(p))?h=d.Rb():(h=this.Va(l),h=this.wb.Ar(h,p)),h<=e)0==h?0==r&&(r=-1):r=1,this.eC(u,l),this.pd(u,!1),c==u&&(c=this.Ya(a));else if((l=this.Na(l))==c)break}l=this.Ka(a),i&&(o?3>l:2>l)?(a=this.ar(a),r=0<l?1:0==r?-1:r):a=this.Sb(a)}}}return r},e.prototype.eC=function(t,e){var i=this.Va(t),n=this.Va(e);if(null!=this.Tg&&(i=this.Tg.read(i),this.Tg.write(n,i)),null!=this.ci)for(n=0,i=this.ci.length;n<i;n++)if(null!=this.ci[n]){var r=this.Qa(t,n);-1!=r&&this.Sa(e,n,r)}},e.prototype.Wl=function(e,i,n){var r=0,s=this.V(e);if(-1==s)throw t.i.Ra();for(var o=this.Va(e),a=this.Va(s),c=this.Th(o),l=null==c?this.wb.Ar(o,a):c.Rb(),u=0;u<n;u++){var h=i[u];if(0<h&&1>h){var d=h;null!=c&&(d=0<l?c.Sx(h)/l:0),this.wb.cD(o,a,d,this.pm());var p=this.xj(this.cd(e),s,this.pm());if(r++,null!=c){var f=c.el(0,h);d=this.Va(this.Na(p)),this.Yg(d,f),this.mf(p,f.xc()),u!=n-1&&1!=i[u+1]||(h=c.el(h,1),this.Yg(d,h))}}}return r},e.prototype.zX=function(e,i,n){var r=0,s=this.V(e);if(-1==s)throw t.i.ga("internal error");var o=this.Va(e),a=this.Va(s),c=this.Th(o),l=null==c?this.wb.Ar(o,a):c.Rb(),u=0;e=this.cd(e);for(var h=0;h<n;h++){var d=i[h];if(u<d&&1>d){var p=d;if(null!=c&&(p=0<l?c.Sx(d)/l:0),this.wb.cD(o,a,p,this.pm()),p=this.pS(e,s,this.pm()),r++,null!=c){u=c.el(u,d);var f=this.Va(this.Na(p));this.Yg(f,u),this.Db(p,u.qa,u.ma),h!=n-1&&1!=i[h+1]||(u=c.el(d,1),p=this.Va(p),this.Yg(p,u))}}u=d}return r},e.prototype.pS=function(t,e,i){var n=-1!=e?this.Na(e):this.sj(t),r=-1!=n?this.V(n):-1,s=this.gI(null==i?this.gd:-1),o=this.Va(s);return null!=i&&this.wb.Ht(o,i),this.bj(s,t),this.Cc(s,r),this.Dc(s,n),-1!=r&&this.Dc(r,s),-1!=n&&this.Cc(n,s),i=this.ec(t),n=this.Ya(t),-1==e&&this.Xg(t,s),e==n&&(i&&-1!=n||this.Kf(t,s)),i&&-1==r&&(this.Cc(s,s),this.Dc(s,s)),this.Wj(t,this.Ka(t)+1),t=this.Rf(t),this.Uj(t,this.I(t)+1),s},e.prototype.mE=function(e,i,n){var r=this.Va(i),s=this.Va(n);if(0>r||s>this.gd-1)throw t.i.O("invalid call");if(r>s&&!this.ec(e))throw t.i.O("cannot iterate across an open path");for(e=0;i!=n;i=this.V(i))r=this.Va(i),null!=(s=this.Th(r))?e+=s.Rb():(s=this.Va(this.V(i)),e+=this.wb.Ar(r,s));return e},e.prototype.Eh=function(t,e){var i=this.Va(t);this.wb.Ht(i,e),null!=(i=this.Th(i))&&i.setStart(e),-1!=(t=this.Na(t))&&(t=this.Va(t),null!=this.Th(t)&&i.setEnd(e))},e.prototype.Wi=function(t,e){t=this.Va(t),this.wb.we(t,e)},e.prototype.mf=function(t,e){this.Db(t,e.x,e.y)},e.prototype.Db=function(t,e,i){var n=this.Va(t);this.wb.Db(n,e,i),null!=(n=this.Th(n))&&n.SB(e,i),-1!=(t=this.Na(t))&&(t=this.Va(t),null!=this.Th(t)&&n.Sl(e,i))},e.prototype.D=function(t,e){this.wb.D(this.ud.U(t,0),e)},e.prototype.Hc=function(t,e){this.wb.Aa[0].uc(2*this.ud.U(t,0),e)},e.prototype.Oa=function(e){var i=new t.h;return this.wb.D(this.ud.U(e,0),i),i},e.prototype.WF=function(t,e){this.it.uc(2*t,e)},e.prototype.Vc=function(t,e,i){return this.wb.Vc(t,this.Va(e),i)},e.prototype.setAttribute=function(t,e,i,n){this.wb.setAttribute(t,this.Va(e),i,n)},e.prototype.Va=function(t){return this.ud.U(t,0)},e.prototype.jh=function(){var e=new t.h;return this.D(void 0,e),e.y},e.prototype.hq=function(t,e){t=this.Va(t),e=this.Va(e);var i=this.wb.Aa[0].o;return i[2*t]===i[2*e]&&i[2*t+1]===i[2*e+1]},e.prototype.Ev=function(t,e){t=this.Va(t);var i=this.wb.Aa[0].o;return i[2*t]===e.x&&i[2*t+1]===e.y},e.prototype.jX=function(e,i){if(1>i&&(i=1),null==this.Tg){if(1==i)return;this.Tg=t.Zc.En(this.wb.I(),1)}(e=this.Va(e))>=this.Tg.size&&this.Tg.resize(e+1,1),this.Tg.write(e,i)},e.prototype.VF=function(t){return t=this.Va(t),null==this.Tg||t>=this.Tg.size?1:this.Tg.read(t)},e.prototype.Sa=function(t,e,i){e=this.ci[e],t=this.Va(t),e.size<this.wb.I()&&e.resize(this.wb.I(),-1),e.write(t,i)},e.prototype.Qa=function(t,e){return(t=this.Va(t))<(e=this.ci[e]).size?e.read(t):-1},e.prototype.Hd=function(){null==this.ci&&(this.ci=[]);for(var e=0;e<this.ci.length;e++)if(null==this.ci[e])return this.ci[e]=t.Zc.Ph(0,-1),e;return this.ci.push(t.Zc.Ph(0,-1)),this.ci.length-1},e.prototype.Ud=function(t){this.ci[t]=null},e.prototype.cc=function(t){return null!=this.Te?(t=this.Va(t),this.Te[t]):null},e.prototype.fd=function(e,i){var n=this.ud.U(e,2);if(-1==n)return!1;if(this.aA){var r=new t.Ta;this.Wi(e,r),i.setStart(r),this.Wi(n,r),i.setEnd(r)}else this.wb.Hc(this.ud.U(e,0),Z),i.gm(0,Z),this.wb.Hc(this.ud.U(n,0),Z),i.gm(1,Z);return!0},e.prototype.cW=function(e,i,n){if(this.aA){var r=new t.Ta;this.Wi(e,r),n.setStart(r),this.Wi(i,r),n.setEnd(r)}else this.wb.Hc(e,Z),n.gm(0,Z),this.wb.Hc(i,Z),n.gm(1,Z)},e.prototype.wf=function(e,i){if(-1!=i){if(e!=this.Rf(i))throw t.i.Ra();var n=this.ds(i)}else n=this.lv(e);var r=this.mU(e);return-1!=i&&this.cp(i,r),this.bp(r,i),this.cp(r,n),-1!=n?this.bp(n,r):this.$o(e,r),-1==i&&this.ap(e,r),this.Tl(e,this.ea(e)+1),r},e.prototype.fG=function(t,e,i,n){t=this.wf(t,-1);for(var r=0,s=e,o=!1;s==i&&(o=!0),this.bj(s,t),r++,(s=this.V(s))!=e;);return this.mn(t,!0),this.Wj(t,r),o&&(e=i),this.Kf(t,e),this.Xg(t,this.Na(e)),this.ep(t,!1),null!=n&&(n[0]=o),t},e.prototype.ar=function(t){var e=this.ds(t),i=this.Sb(t),n=this.Rf(t);return-1!=e?this.bp(e,i):this.$o(n,i),-1!=i?this.cp(i,e):this.ap(n,e),this.sO(t),this.Tl(n,this.ea(n)-1),this.kF(t),i},e.prototype.sO=function(t){var e=this.Ya(t);if(-1!=e){for(var i=0,n=this.Ka(t);i<n;i++){var r=e;e=this.V(e),this.Qy(r)}e=this.Rf(t),this.Uj(e,this.I(e)-this.Ka(t))}this.Wj(t,0)},e.prototype.Sb=function(t){return this.md.U(t,2)},e.prototype.ds=function(t){return this.md.U(t,1)},e.prototype.Ka=function(t){return this.md.U(t,3)},e.prototype.ec=function(t){return 0!=(1&this.Up(t))},e.prototype.mn=function(t,e){if(this.ec(t)!=e){if(0<this.Ka(t)){var i=this.Ya(t),n=this.sj(t);e?(this.Cc(n,i),this.Dc(i,n),i=this.Va(n)):(this.Cc(n,-1),this.Dc(i,-1),i=this.Va(n)),this.Yg(i,null)}this.OB(t,(1|this.Up(t))-1|(e?1:0))}},e.prototype.Rf=function(t){return this.md.U(t,7)},e.prototype.OS=function(t){return 0!=(2&this.Up(t))},e.prototype.JB=function(t,e){this.OB(t,(2|this.Up(t))-2|(e?2:0))},e.prototype.qz=function(e){if(this.TS(e))return this.Pi.get(this.rv(e));var i=new t.zb,n=this.Ya(e);if(-1==n)return 0;var r=new t.h;this.D(n,r);for(var s=0,o=0,a=this.Ka(e);o<a;o++,n=this.V(n)){var c=this.cc(n);if(null==c){if(!this.fd(n,i))continue;c=i}s+=c.Rx(r.x,r.y)}return this.ep(e,!0),this.Pi.set(this.rv(e),s),s},e.prototype.ir=function(t,e,i){e=this.Ck[e],t=this.rv(t),e.size<this.Pi.size&&e.resize(this.Pi.size,-1),e.write(t,i)},e.prototype.tj=function(t,e){return(t=this.rv(t))<(e=this.Ck[e]).size?e.read(t):-1},e.prototype.Ey=function(){null==this.Ck&&(this.Ck=[]);for(var e=0;e<this.Ck.length;e++)if(null==this.Ck[e])return this.Ck[e]=t.Zc.Ph(0),e;return this.Ck.push(t.Zc.Ph(0)),this.Ck.length-1},e.prototype.wB=function(t){this.Ck[t]=null},e.prototype.PT=function(e,i,n){if(-1==n)throw t.i.O();if(i!=n){var r=this.Sb(n),s=this.ds(n),o=this.Rf(n);-1==s?this.$o(o,r):this.bp(s,r),-1==r?this.ap(o,s):this.cp(r,s),this.Uj(o,this.I(o)-this.Ka(n)),this.Tl(o,this.ea(o)-1),s=-1==i?this.lv(e):this.ds(i),this.cp(n,s),this.bp(n,i),-1==i?this.ap(e,n):this.cp(i,n),-1==s?this.$o(e,n):this.bp(s,n),this.Uj(e,this.I(e)+this.Ka(n)),this.Tl(e,this.ea(e)+1),this.fx(n,e)}},e.prototype.jj=function(t,e){this.wb.we(this.Va(e),this.pm()),this.xj(t,-1,this.pm())},e.prototype.pd=function(e,i){var n=this.cd(e),r=this.Na(e),s=this.V(e);-1!=r&&this.Cc(r,s);var o=this.Ka(n);if(e==this.Ya(n)&&this.Kf(n,1<o?s:-1),-1!=s&&this.Dc(s,r),e==this.sj(n)&&this.Xg(n,1<o?r:-1),-1!=r&&-1!=s){r=this.Va(r);var a=this.Va(s);i?null!=(i=this.Th(r))&&(r=new t.h,this.wb.D(a,r),i.Rc(r)):(a=this.Va(e),i=this.Th(a),this.Yg(r,i),null!=i&&(r=this.wb.Oa(r),i.Ec(r)))}return this.Wj(n,o-1),n=this.Rf(n),this.Uj(n,this.I(n)-1),this.Qy(e),s},e.prototype.Ya=function(t){return this.md.U(t,4)},e.prototype.sj=function(t){return this.md.U(t,5)},e.prototype.V=function(t){return this.ud.U(t,2)},e.prototype.Na=function(t){return this.ud.U(t,1)},e.prototype.cd=function(t){return this.ud.U(t,3)},e.prototype.hc=function(t,e){return this.xj(t,-1,e)},e.prototype.$q=function(e){if(void 0===e)return this.$q(!1);if(e instanceof n)return new n(e);var i,r=-1,s=-1,o=-1,a=0,c=!1;for(i=this.ld;-1!=i;i=this.ve(i))if(!e||t.ba.Ic(this.jc(i))){for(r=this.Ob(i);-1!=r;r=this.Sb(r))if(o=s=this.Ya(r),a=0,-1!=s){c=!0;break}if(c)break}return n.sP(this,i,r,s,o,a,e)},e.prototype.Pc=function(t){if(this.Kl.Pc(t),null!=this.Te)for(var e=0,i=this.Te.length;e<i;e++)null!=this.Te[e]&&this.Te[e].Pc(t)},e.prototype.lr=function(t,e,i,n){n?this.BX(t,e,i):this.AX(t,e,i)},e.prototype.Dc=function(t,e){this.ud.T(t,1,e)},e.prototype.Cc=function(t,e){this.ud.T(t,2,e)},e.prototype.bj=function(t,e){this.ud.T(t,3,e)},e.prototype.Wj=function(t,e){this.md.T(t,3,e)},e.prototype.Kf=function(t,e){this.md.T(t,4,e)},e.prototype.Xg=function(t,e){this.md.T(t,5,e)},e.prototype.Tl=function(t,e){this.dd.T(t,6,e)},e.prototype.Uj=function(t,e){this.dd.T(t,5,e)},e.prototype.hJ=function(t){var e=t;do{var i=this.V(e);this.Cc(e,this.Na(e)),this.Dc(e,i),e=i}while(e!=t)},e.prototype.VB=function(t){this.gd=t},e.prototype.br=function(t){var e=this.ds(t),i=this.Sb(t),n=this.Rf(t);-1!=e?this.bp(e,i):this.$o(n,i),-1!=i?this.cp(i,e):this.ap(n,e),this.Kf(t,-1),this.Xg(t,-1),this.kF(t)},e.prototype.ni=function(e,i){var n=this.Na(e),r=this.V(e);if(-1!=n&&this.Cc(n,r),-1!=r&&this.Dc(r,n),-1!=n&&-1!=r)if(n=this.Va(n),r=this.Va(r),i){if(null!=(i=this.Th(n))){var s=new t.h;this.wb.D(r,s),i.Rc(s)}}else i=this.Va(e),i=this.Th(i),this.Yg(n,i),null!=i&&(s=new t.h,this.wb.D(n,s),i.Ec(s));this.Qy(e)},e.prototype.TS=function(t){return 0!=(4&this.Up(t))},e.prototype.ep=function(t,e){this.OB(t,(4|this.Up(t))-4|(e?4:0))},e.prototype.mx=function(t,e){var i=this.ud.o;this.wb.rc();var n=this.wb.Aa[0].o;t.Wd(0,e,(function(t,e){var r=i[5*t];t=i[5*e],e=n[2*r],r=n[2*r+1];var s=n[2*t];return r<(t=n[2*t+1])?-1:r>t?1:e<s?-1:e>s?1:0}))},e.prototype.aS=function(){for(var e=this.ld;-1!=e;e=this.ve(e))if(!t.ba.Ic(this.jc(e)))return!0;return!1},e.prototype.aC=function(t,e){for(var i=this.Ob(t),n=this.Ob(e),r=this.lv(t),s=this.lv(e),o=this.Ob(t);-1!=o;o=this.Sb(o))this.fx(o,e);for(o=this.Ob(e);-1!=o;o=this.Sb(o))this.fx(o,t);this.$o(t,n),this.$o(e,i),this.ap(t,s),this.ap(e,r),i=this.I(t),n=this.ea(t),r=this.ea(e),this.Uj(t,this.I(e)),this.Uj(e,i),this.Tl(t,r),this.Tl(e,n),i=this.dd.U(t,2),this.dd.T(t,2,this.dd.U(e,2)),this.dd.T(e,2,i)},e}(),t.hd=e}(W||(W={})),function(t){var e=function(e){function i(i,n,r,s){var o=e.call(this)||this;return o.aa=new t.l,void 0===i?o.ME():"number"==typeof i?o.NO(i,n,r,s):i instanceof t.Ta?void 0!==n?o.Su(i,n,r):o.OO(i):i instanceof t.ua?void 0!==n?o.QO(i,n):o.PO(i):i instanceof t.l?o.MO(i):o.ME(),o}return Y(i,e),i.prototype.Su=function(e,i,n){this.description=t.ee.og(),this.aa.Pa(),e.B()||this.uu(e,i,n)},i.prototype.MO=function(e){this.description=t.ee.og(),this.aa.L(e),this.aa.normalize()},i.prototype.PO=function(e){if(null==e)throw t.i.O();this.description=e,this.aa.Pa()},i.prototype.QO=function(e,i){if(null==e)throw t.i.O();this.description=e,this.aa.L(i),this.aa.normalize()},i.prototype.ME=function(){this.description=t.ee.og(),this.aa.Pa()},i.prototype.OO=function(e){this.description=t.ee.og(),this.aa.Pa(),e.B()||this.uu(e)},i.prototype.NO=function(e,i,n,r){this.description=t.ee.og(),this.L(e,i,n,r)},i.prototype.L=function(t,e,i,n){if(this.wc(),"number"==typeof t)this.aa.L(t,e,i,n);else for(this.Pa(),e=0,i=t.length;e<i;e++)this.$b(t[e])},i.prototype.Yo=function(e){if(this.wc(),!e.WS())throw t.i.O();this.aa.L(e)},i.prototype.Pa=function(){this.wc(),this.aa.Pa()},i.prototype.B=function(){return this.aa.B()},i.prototype.S=function(){return this.aa.S()},i.prototype.da=function(){return this.aa.da()},i.prototype.gk=function(){return this.aa.gk()},i.prototype.Lp=function(){return this.aa.Lp()},i.prototype.Kp=function(){return this.aa.tf()},i.prototype.$b=function(e){if(e instanceof t.h)this.wc(),this.aa.$b(e);else if(e instanceof t.l)this.wc(),this.aa.$b(e);else if(e instanceof t.Ta){if(this.wc(),!e.Bc()){var n=e.description;if(this.description!=n&&this.Ll(n),this.B())this.uu(e);else{this.aa.$b(e.D());for(var r=1,s=n.Ba;r<s;r++)for(var o=n.Fd(r),a=t.ua.Wa(o),c=0;c<a;c++){var l=e.Vc(o,c),u=this.Ug(o,c);u.$b(l),this.setInterval(o,c,u)}}}}else if(e instanceof i&&!e.B())for((n=e.description)!=this.description&&this.Ll(n),this.aa.$b(e.aa),r=1,s=n.Ba;r<s;r++)for(o=n.qd(r),a=t.ua.Wa(o),c=0;c<a;c++)l=e.Ug(o,c),(u=this.Ug(o,c)).$b(l),this.setInterval(o,c,u)},i.prototype.uu=function(e,i,n){if(void 0!==i){this.aa.L(e.D(),i,n),n=1;for(var r=(i=e.description).Ba;n<r;n++)for(var s=i.Fd(n),o=t.ua.Wa(s),a=0;a<o;a++){var c=e.Vc(s,a);this.setInterval(s,a,c,c)}}else for(this.aa.L(e.la[0],e.la[1]),n=1,r=(i=e.description).Ba;n<r;n++)for(s=i.Fd(n),o=t.ua.Wa(s),a=0;a<o;a++)c=e.Vc(s,a),this.setInterval(s,a,c,c)},i.prototype.setInterval=function(e,i,n,r){if(n="number"==typeof n?new t.Oc(n,r):n,this.wc(),0==e)if(0==i)this.aa.v=n.pa,this.aa.C=n.wa;else{if(1!=i)throw t.i.re();this.aa.G=n.pa,this.aa.H=n.wa}else this.nD(0,e,i,n.pa),this.nD(1,e,i,n.wa)},i.prototype.X=function(t,e){this.wc(),this.aa.X(t,e)},i.prototype.Pc=function(e){if(e instanceof t.Ed)this.wc(),e.fC(this.aa);else if(this.wc(),!this.aa.B()){var i=new t.GK;this.Ro(i),i.NS()?i.Pa():e.fC(i)}},i.prototype.copyTo=function(e){if(e.K()!=this.K())throw t.i.O();if(e.wc(),e.description=this.description,e.aa.L(this.aa),e.la=null,null!=this.la){e.pu();for(var i=0;i<2*(this.description.Be.length-2);i++)e.la[i]=this.la[i]}},i.prototype.Ja=function(){return new i(this.description)},i.prototype.He=function(){return this.aa.oF()},i.prototype.Rb=function(){return this.aa.qR()},i.prototype.K=function(){return 197},i.prototype.Eb=function(){return 2},i.prototype.dn=function(t){this.copyTo(t)},i.prototype.A=function(t){t.v=this.aa.v,t.G=this.aa.G,t.C=this.aa.C,t.H=this.aa.H},i.prototype.Ro=function(t){t.v=this.aa.v,t.G=this.aa.G,t.C=this.aa.C,t.H=this.aa.H,t.L(this.aa.v,this.aa.G,this.Pd(0,1,0),this.aa.C,this.aa.H,this.Pd(1,1,0))},i.prototype.Ug=function(e,i){var n=new t.Oc;return n.L(this.Pd(0,e,i),this.Pd(1,e,i)),n},i.prototype.If=function(e,i){i.kg(this.description);var n=this.description.Ba-1;switch(e){case 0:for(e=0;e<n;e++)for(var r=this.description.qd(e),s=t.ua.Wa(r),o=0;o<s;o++)i.setAttribute(r,o,this.Pd(0,r,o));i.Db(this.aa.v,this.aa.G);break;case 1:for(e=0;e<n;e++)for(r=this.description.qd(e),s=t.ua.Wa(r),o=0;o<s;o++)i.setAttribute(r,o,this.Pd(1,r,o));i.Db(this.aa.v,this.aa.H);break;case 2:for(e=0;e<n;e++)for(r=this.description.qd(e),s=t.ua.Wa(r),o=0;o<s;o++)i.setAttribute(r,o,this.Pd(0,r,o));i.Db(this.aa.C,this.aa.H);break;case 3:for(e=0;e<n;e++)for(r=this.description.qd(e),s=t.ua.Wa(r),o=0;o<s;o++)i.setAttribute(r,o,this.Pd(1,r,o));i.Db(this.aa.C,this.aa.G);break;default:throw t.i.re()}},i.prototype.gB=function(t,e){t=this.aa.gB(t),e.na(t.x,t.y)},i.prototype.cR=function(t,e){return e*(t.Qq-2)},i.prototype.pF=function(e,i,n){if(this.aa.B())throw t.i.ga("empty geometry");if(0==i)return 0!=e?0!=n?this.aa.H:this.aa.C:0!=n?this.aa.G:this.aa.v;if(n>=t.ua.Wa(i))throw t.i.O();var r=this.description.Qf(i);return this.pu(),0<=r?this.la[this.cR(this.description,e)+this.description.CR(r)-2+n]:t.ua.te(i)},i.prototype.pu=function(){if(this.wc(),null==this.la&&2<this.description.Be.length){this.la=[];for(var e=i.Ig(this.description,0),n=i.Ig(this.description,1),r=0,s=1,o=this.description.Ba;s<o;s++){var a=this.description.qd(s),c=t.ua.Wa(a);a=t.ua.te(a);for(var l=0;l<c;l++)this.la[e+r]=a,this.la[n+r]=a,r++}}},i.prototype.un=function(e){if(null!=this.la)if(2<e.Be.length){for(var n=t.ee.Jw(e,this.description),r=[],s=i.Ig(this.description,0),o=i.Ig(this.description,1),a=i.Ig(e,0),c=i.Ig(e,1),l=0,u=1,h=e.Ba;u<h;u++){var d=e.qd(u),p=t.ua.Wa(d);if(-1==n[u]){var f=t.ua.te(d);for(d=0;d<p;d++)r[a+l]=f,r[c+l]=f,l++}else for(f=this.description.$j(n[u])-2,d=0;d<p;d++)r[a+l]=this.la[s+f],r[c+l]=this.la[o+f],l++,f++}this.la=r}else this.la=null;this.description=e},i.prototype.Pd=function(e,n,r){if(this.aa.B())throw t.i.ga("This operation was performed on an Empty Geometry.");if(0==n)return 0!=e?0!=r?this.aa.H:this.aa.C:0!=r?this.aa.G:this.aa.v;if(r>=t.ua.Wa(n))throw t.i.re();var s=this.description.Qf(n);return 0<=s?(this.pu(),this.la[i.Ig(this.description,e)+this.description.$j(s)-2+r]):t.ua.te(n)},i.prototype.nD=function(e,n,r,s){if(this.wc(),0==n)0!=e?0!=r?this.aa.H=s:this.aa.C=s:0!=r?this.aa.G=s:this.aa.v=s;else{if(r>=t.ua.Wa(n))throw t.i.re();if(!this.hasAttribute(n)){if(t.ua.vG(n,s))return;this.se(n)}n=this.description.Qf(n),this.pu(),this.la[i.Ig(this.description,e)+this.description.$j(n)-2+r]=s}},i.Ig=function(t,e){return e*(t.Be.length-2)},i.prototype.Fa=function(e){this.wc();var i=new t.l;return e.A(i),this.aa.Fa(i)},i.prototype.isIntersecting=function(e){return e instanceof t.l?this.aa.isIntersecting(e):this.aa.isIntersecting(e.aa)},i.prototype.Ku=function(t,e){this.wc(),t.B()?this.Pa():void 0!==e?this.uu(t,e,void 0):this.aa.Ku(t.Mg(),t.jh())},i.prototype.offset=function(t,e){this.wc(),this.aa.offset(t,e)},i.prototype.normalize=function(){this.wc(),this.aa.normalize()},i.prototype.tf=function(e){if(void 0===e){if(e=new t.Ta(this.description),this.B())return e;for(i=this.description.Ba,n=1;n<i;n++)for(r=this.description.Fd(n),s=t.ua.Wa(r),o=0;o<s;o++)a=.5*(this.Pd(0,r,o)+this.Pd(1,r,o)),e.setAttribute(r,o,a);return e.Db(this.aa.gk(),this.aa.Lp()),e}if(e.kg(this.description),this.B())e.Pa();else{for(var i=this.description.Ba,n=1;n<i;n++)for(var r=this.description.qd(n),s=t.ua.Wa(r),o=0;o<s;o++){var a=.5*(this.pF(0,r,o)+this.pF(1,r,o));e.setAttribute(r,o,a)}e.Db(this.aa.tf())}},i.prototype.hz=function(){return new t.Ta(this.aa.hz())},i.prototype.contains=function(e){return e instanceof t.Ta?!e.B()&&this.aa.contains(e.Mg(),e.jh()):this.aa.contains(e.aa)},i.prototype.WO=function(t){return this.aa.contains(t)},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i)||this.description!=t.description)return!1;if(this.B())return!!t.B();if(!this.aa.Nb(t.aa))return!1;for(var e=0,n=2*(this.description.Be.length-2);e<n;e++)if(this.la[e]!=t.la[e])return!1;return!0},i.prototype.dc=function(){var e=this.description.dc();if(e=t.P.Uh(e,this.aa.dc()),!this.B()&&null!=this.la)for(var i=0,n=2*(this.description.Be.length-2);i<n;i++)e=t.P.Uh(e,this.la[i]);return e},i.prototype.fs=function(){return this.aa.v},i.prototype.hs=function(){return this.aa.G},i.prototype.es=function(){return this.aa.C},i.prototype.gs=function(){return this.aa.H},i.prototype.mg=function(){return t.ri.im(this,null)},i.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.aa.v+", "+this.aa.G+", "+this.aa.C+", "+this.aa.H+"]"},i}(t.ba);t.Gh=e}(W||(W={})),function(t){var e=function(){function e(t,e,i,n){void 0===t?this.Pa():(this.v=t,this.G=e,this.C=i,this.H=n)}return e.construct=function(t,i,n,r){var s=new e;return s.v=t,s.G=i,s.C=n,s.H=r,s},e.prototype.L=function(i,n,r,s){"number"==typeof i?void 0!==r?(this.v=i,this.G=n,this.C=r,this.H=s,this.normalize()):(this.v=i,this.G=n,this.C=i,this.H=n):i instanceof t.h?void 0!==n?(this.v=i.x-.5*n,this.C=this.v+n,this.G=i.y-.5*r,this.H=this.G+r,this.normalize()):(this.v=i.x,this.G=i.y,this.C=i.x,this.H=i.y):i instanceof e?this.L(i.v,i.G,i.C,i.H):i instanceof t.Oc&&(i.B()||n.B()?this.Pa():(this.v=i.pa,this.C=i.wa,this.G=n.pa,this.H=n.wa))},e.prototype.ax=function(t,e){if(void 0!==e)if(0==e)this.Pa();else{this.v=t[0].x,this.G=t[0].y,this.C=this.v,this.H=this.G;for(var i=1;i<e;i++){var n=t[i];n.x<this.v?this.v=n.x:n.x>this.C&&(this.C=n.x),n.y<this.G?this.G=n.y:n.y>this.H&&(this.H=n.y)}}else if(null==t||0==t.length)this.Pa();else for(n=t[0],this.L(n.x,n.y),i=1;i<t.length;i++)e=t[i],this.Lk(e.x,e.y)},e.prototype.Pa=function(){this.H=this.C=this.G=this.v=NaN},e.prototype.B=function(){return isNaN(this.v)},e.prototype.$b=function(i,n){"number"==typeof i?this.B()?(this.v=i,this.G=n,this.C=i,this.H=n):(this.v>i?this.v=i:this.C<i&&(this.C=i),this.G>n?this.G=n:this.H<n&&(this.H=n)):i instanceof t.h||i instanceof t.Od?this.$b(i.x,i.y):i instanceof e&&!i.B()&&(this.$b(i.v,i.G),this.$b(i.C,i.H))},e.prototype.Lk=function(t,e){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>e?this.G=e:this.H<e&&(this.H=e)},e.prototype.X=function(t,e){this.B()||(this.v-=t,this.C+=t,this.G-=e,this.H+=e,(this.v>this.C||this.G>this.H)&&this.Pa())},e.prototype.scale=function(t){0>t&&this.Pa(),this.B()||(this.v*=t,this.C*=t,this.G*=t,this.H*=t)},e.prototype.zoom=function(t,e){this.B()||this.L(this.tf(),t*this.S(),e*this.da())},e.prototype.isIntersecting=function(t){return!this.B()&&!t.B()&&(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},e.prototype.zG=function(t){return(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},e.prototype.Fa=function(t){return!this.B()&&!t.B()&&(t.v>this.v&&(this.v=t.v),t.C<this.C&&(this.C=t.C),t.G>this.G&&(this.G=t.G),t.H<this.H&&(this.H=t.H),(t=this.v<=this.C&&this.G<=this.H)||this.Pa(),t)},e.prototype.gB=function(e){switch(e){case 0:return t.h.construct(this.v,this.G);case 1:return t.h.construct(this.v,this.H);case 2:return t.h.construct(this.C,this.H);case 3:return t.h.construct(this.C,this.G);default:throw t.i.re()}},e.prototype.hB=function(e){if(null==e||4>e.length)throw t.i.O();null!=e[0]?e[0].na(this.v,this.G):e[0]=t.h.construct(this.v,this.G),null!=e[1]?e[1].na(this.v,this.H):e[1]=t.h.construct(this.v,this.H),null!=e[2]?e[2].na(this.C,this.H):e[2]=t.h.construct(this.C,this.H),null!=e[3]?e[3].na(this.C,this.G):e[3]=t.h.construct(this.C,this.G)},e.prototype.oF=function(){return this.B()?0:this.S()*this.da()},e.prototype.qR=function(){return this.B()?0:2*(this.S()+this.da())},e.prototype.gk=function(){return(this.C+this.v)/2},e.prototype.Lp=function(){return(this.H+this.G)/2},e.prototype.S=function(){return this.C-this.v},e.prototype.da=function(){return this.H-this.G},e.prototype.move=function(t,e){this.B()||(this.v+=t,this.G+=e,this.C+=t,this.H+=e)},e.prototype.Ku=function(e,i){if(void 0!==i)this.move(e-this.gk(),i-this.Lp());else if(e instanceof t.h)this.Ku(e.x,e.y);else{if(!(e instanceof t.Ta))throw t.i.O();i=(this.C-this.v)/2;var n=(this.H-this.G)/2;this.v=e.Mg()-i,this.C=e.Mg()+i,this.G=e.jh()-n,this.H=e.jh()+n}},e.prototype.offset=function(t,e){this.v+=t,this.C+=t,this.G+=e,this.H+=e},e.prototype.normalize=function(){if(!this.B()){var t=Math.min(this.v,this.C),e=Math.max(this.v,this.C);this.v=t,this.C=e,t=Math.min(this.G,this.H),e=Math.max(this.G,this.H),this.G=t,this.H=e}},e.prototype.fn=function(t){t.na(this.v,this.G)},e.prototype.SI=function(t){t.na(this.C,this.G)},e.prototype.VI=function(t){t.na(this.v,this.H)},e.prototype.gn=function(t){t.na(this.C,this.H)},e.prototype.WS=function(){return this.B()||this.v<=this.C&&this.G<=this.H},e.prototype.tf=function(){return t.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},e.prototype.hz=function(){return t.h.construct(this.v,this.G)},e.prototype.contains=function(i,n){if(void 0!==n)return i>=this.v&&i<=this.C&&n>=this.G&&n<=this.H;if(i instanceof t.Ta)return this.contains(i.Mg(),i.jh());if(i instanceof t.h)return this.contains(i.x,i.y);if(i instanceof e)return i.v>=this.v&&i.C<=this.C&&i.G>=this.G&&i.H<=this.H;throw t.i.O()},e.prototype.jm=function(i,n){if(void 0!==n)return i>this.v&&i<this.C&&n>this.G&&n<this.H;if(i instanceof t.h)return this.jm(i.x,i.y);if(i instanceof e)return i.v>this.v&&i.C<this.C&&i.G>this.G&&i.H<this.H;throw t.i.O()},e.prototype.Nb=function(t){return t==this||t instanceof e&&(!(!this.B()||!t.B())||this.v==t.v&&this.G==t.G&&this.C==t.C&&this.H==t.H)},e.prototype.dc=function(){var e=this.v;e=t.P.truncate(e^e>>>32);var i=t.P.Uh(e);return e=this.C,e=t.P.truncate(e^e>>>32),i=t.P.Uh(e,i),e=this.G,e=t.P.truncate(e^e>>>32),i=t.P.Uh(e,i),e=this.H,e=t.P.truncate(e^e>>>32),t.P.Uh(e,i)},e.prototype.zr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},e.prototype.ty=function(t,i){var n=this.Zj(t),r=this.Zj(i);if(0!=(n&r))return 0;if(0==(n|r))return 4;var s=(0!=n?1:0)|(0!=r?2:0);do{var o=i.x-t.x,a=i.y-t.y;if(o>a?0!=(n&e.QC)?(0!=(n&e.ku)?(t.y+=a*(this.v-t.x)/o,t.x=this.v):(t.y+=a*(this.C-t.x)/o,t.x=this.C),n=this.Zj(t)):0!=(r&e.QC)?(0!=(r&e.ku)?(i.y+=a*(this.v-i.x)/o,i.x=this.v):(i.y+=a*(this.C-i.x)/o,i.x=this.C),r=this.Zj(i)):0!=n?(0!=(n&e.lu)?(t.x+=o*(this.G-t.y)/a,t.y=this.G):(t.x+=o*(this.H-t.y)/a,t.y=this.H),n=this.Zj(t)):(0!=(r&e.lu)?(i.x+=o*(this.G-i.y)/a,i.y=this.G):(i.x+=o*(this.H-i.y)/a,i.y=this.H),r=this.Zj(i)):0!=(n&e.RC)?(0!=(n&e.lu)?(t.x+=o*(this.G-t.y)/a,t.y=this.G):(t.x+=o*(this.H-t.y)/a,t.y=this.H),n=this.Zj(t)):0!=(r&e.RC)?(0!=(r&e.lu)?(i.x+=o*(this.G-i.y)/a,i.y=this.G):(i.x+=o*(this.H-i.y)/a,i.y=this.H),r=this.Zj(i)):0!=n?(0!=(n&e.ku)?(t.y+=a*(this.v-t.x)/o,t.x=this.v):(t.y+=a*(this.C-t.x)/o,t.x=this.C),n=this.Zj(t)):(0!=(r&e.ku)?(i.y+=a*(this.v-i.x)/o,i.x=this.v):(i.y+=a*(this.C-i.x)/o,i.x=this.C),r=this.Zj(i)),0!=(n&r))return 0}while(0!=(n|r));return s},e.prototype.Zj=function(t){return(t.x<this.v?1:0)|(t.x>this.C?1:0)<<1|(t.y<this.G?1:0)<<2|(t.y>this.H?1:0)<<3},e.prototype.Ci=function(t){return!this.B()&&(this.S()<=t||this.da()<=t)},e.prototype.ub=function(e){return e instanceof t.h?Math.sqrt(this.aK(e)):Math.sqrt(this.ox(e))},e.prototype.ox=function(t){var e=0,i=0,n=this.v-t.C;return n>e&&(e=n),(n=this.G-t.H)>i&&(i=n),(n=t.v-this.C)>e&&(e=n),(n=t.G-this.H)>i&&(i=n),e*e+i*i},e.prototype.aK=function(t){var e=0,i=0,n=this.v-t.x;return n>e&&(e=n),(n=this.G-t.y)>i&&(i=n),(n=t.x-this.C)>e&&(e=n),(n=t.y-this.H)>i&&(i=n),e*e+i*i},e.prototype.en=function(t){this.B()?t.Pa():t.L(this.v,this.C)},e.ku=1,e.lu=4,e.QC=3,e.RC=12,e}();t.l=e}(W||(W={})),function(t){var e,i;(i=e||(e={}))[i.initialize=0]="initialize",i[i.initializeRed=1]="initializeRed",i[i.initializeBlue=2]="initializeBlue",i[i.initializeRedBlue=3]="initializeRedBlue",i[i.sweep=4]="sweep",i[i.sweepBruteForce=5]="sweepBruteForce",i[i.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",i[i.sweepRedBlue=7]="sweepRedBlue",i[i.sweepRed=8]="sweepRed",i[i.sweepBlue=9]="sweepBlue",i[i.iterate=10]="iterate",i[i.iterateRed=11]="iterateRed",i[i.iterateBlue=12]="iterateBlue",i[i.iterateBruteForce=13]="iterateBruteForce",i[i.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",i[i.resetRed=15]="resetRed",i[i.resetBlue=16]="resetBlue";var n=function(){function t(t,e){this.di=t,this.WG=e}return t.prototype.qr=function(t,e,i){this.di.xX(i,t,e,this.WG)},t.prototype.bq=function(t){return this.di.Sr(t,this.WG)},t}();e=function(){function e(){this.pw=this.po=this.ff=this.sd=null,this.yq=new t.l,this.Cm=this.Ij=this.Jj=this.Bd=this.Ff=this.Md=this.dw=this.ho=this.rd=this.Fb=null,this.Yb=-1,this.ra=0,this.Nk()}return e.prototype.mr=function(){this.Nk(),this.Qv=!0,null==this.Fb?(this.ho=new t.ja(0),this.Fb=[]):(this.ho.Ch(0),this.Fb.length=0)},e.prototype.bd=function(e,i){if(!this.Qv)throw t.i.Hb();var n=new t.l;n.L(i),this.ho.add(e),this.Fb.push(n)},e.prototype.Hp=function(){if(!this.Qv)throw t.i.Hb();this.Qv=!1,null!=this.Fb&&0<this.Fb.length&&(this.Yb=0,this.Jc=!1)},e.prototype.hK=function(){this.Nk(),this.Pv=!0,null==this.Fb?(this.ho=new t.ja(0),this.Fb=[]):(this.ho.Ch(0),this.Fb.length=0)},e.prototype.AD=function(e,i){if(!this.Pv)throw t.i.Hb();var n=new t.l;n.L(i),this.ho.add(e),this.Fb.push(n)},e.prototype.aF=function(){if(!this.Pv)throw t.i.Hb();this.Pv=!1,null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb||2==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=1),this.Jc=!1)},e.prototype.gK=function(){this.Nk(),this.Ov=!0,null==this.rd?(this.dw=new t.ja(0),this.rd=[]):(this.dw.Ch(0),this.rd.length=0)},e.prototype.wD=function(e,i){if(!this.Ov)throw t.i.Hb();var n=new t.l;n.L(i),this.dw.add(e),this.rd.push(n)},e.prototype.$E=function(){if(!this.Ov)throw t.i.Hb();this.Ov=!1,null!=this.Fb&&0<this.Fb.length&&null!=this.rd&&0<this.rd.length&&(-1==this.Yb||1==this.Yb?this.Yb=3:3!=this.Yb&&(this.Yb=2),this.Jc=!1)},e.prototype.next=function(){if(this.Jc)return!1;for(var e=!0;e;)switch(this.Yb){case 0:e=this.Bz();break;case 1:e=this.iS();break;case 2:e=this.fS();break;case 3:e=this.hS();break;case 4:e=this.IX();break;case 5:e=this.EX();break;case 6:e=this.FX();break;case 7:e=this.GX();break;case 8:e=this.sx();break;case 9:e=this.bC();break;case 10:e=this.Pz();break;case 11:e=this.$S();break;case 12:e=this.XS();break;case 13:e=this.YS();break;case 14:e=this.ZS();break;case 15:e=this.cJ();break;case 16:e=this.bJ();break;default:throw t.i.Ra()}return!this.Jc},e.prototype.UB=function(t){this.ra=t},e.prototype.oz=function(t){return this.Fb[t]},e.prototype.Wy=function(t){return this.rd[t]},e.prototype.pl=function(t){return this.ho.read(t)},e.prototype.jl=function(t){return this.dw.read(t)},e.Oz=function(t){return 1==(1&t)},e.gq=function(t){return 0==(1&t)},e.prototype.Nk=function(){this.Qv=this.Ov=this.Pv=!1,this.Df=this.Ef=this.Sg=this.pe=-1,this.Jc=!0},e.prototype.Bz=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length)return this.pe=this.Fb.length,this.Yb=5,!0;null==this.sd&&(this.sd=new t.ur(!0),this.po=this.sd.getIterator(),this.Md=new t.ja(0)),this.sd.mr();for(var e=0;e<this.Fb.length;e++){var i=this.Fb[e];this.sd.Dr(i.v,i.C)}for(this.sd.Hp(),this.Md.Jb(2*this.Fb.length),this.Md.resize(0),e=0;e<2*this.Fb.length;e++)this.Md.add(e);return this.Lt(this.Md,2*this.Fb.length,!0),this.pe=2*this.Fb.length,this.Yb=4,!0},e.prototype.iS=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new t.ur(!0),this.po=this.sd.getIterator(),this.Md=new t.ja(0)),this.sd.mr();for(var e=0;e<this.Fb.length;e++){var i=this.Fb[e];this.sd.Dr(i.v,i.C)}for(this.sd.Hp(),this.Md.Jb(2*this.Fb.length),this.Md.resize(0),e=0;e<2*this.Fb.length;e++)this.Md.add(e);return this.Lt(this.Md,this.Md.size,!0),this.pe=this.Md.size,-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1),this.Yb=7,this.bJ()},e.prototype.fS=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.ff&&(this.ff=new t.ur(!0),this.pw=this.ff.getIterator(),this.Ff=new t.ja(0)),this.ff.mr();for(var e=0;e<this.rd.length;e++){var i=this.rd[e];this.ff.Dr(i.v,i.C)}for(this.ff.Hp(),this.Ff.Jb(2*this.rd.length),this.Ff.resize(0),e=0;e<2*this.rd.length;e++)this.Ff.add(e);return this.Lt(this.Ff,this.Ff.size,!1),this.Sg=this.Ff.size,-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1),this.Yb=7,this.cJ()},e.prototype.hS=function(){if(this.Bf=this.Wf=-1,10>this.Fb.length||10>this.rd.length)return this.pe=this.Fb.length,this.Yb=6,!0;null==this.sd&&(this.sd=new t.ur(!0),this.po=this.sd.getIterator(),this.Md=new t.ja(0)),null==this.ff&&(this.ff=new t.ur(!0),this.pw=this.ff.getIterator(),this.Ff=new t.ja(0)),this.sd.mr();for(var e=0;e<this.Fb.length;e++){var i=this.Fb[e];this.sd.Dr(i.v,i.C)}for(this.sd.Hp(),this.ff.mr(),e=0;e<this.rd.length;e++)i=this.rd[e],this.ff.Dr(i.v,i.C);for(this.ff.Hp(),this.Md.Jb(2*this.Fb.length),this.Ff.Jb(2*this.rd.length),this.Md.resize(0),this.Ff.resize(0),e=0;e<2*this.Fb.length;e++)this.Md.add(e);for(e=0;e<2*this.rd.length;e++)this.Ff.add(e);return this.Lt(this.Md,this.Md.size,!0),this.Lt(this.Ff,this.Ff.size,!1),this.pe=this.Md.size,this.Sg=this.Ff.size,-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1),-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1),this.Yb=7,!0},e.prototype.IX=function(){var t=this.Md.get(--this.pe),i=t>>1;return e.gq(t)?(this.sd.remove(i),0!=this.pe||(this.Bf=this.Wf=-1,this.Jc=!0,!1)):(this.po.yB(this.Fb[i].v,this.Fb[i].C,this.ra),this.Wf=i,this.Yb=10,!0)},e.prototype.EX=function(){return-1==--this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):(this.Sg=this.Wf=this.pe,this.Yb=13,!0)},e.prototype.FX=function(){return-1==--this.pe?(this.Bf=this.Wf=-1,this.Jc=!0,!1):(this.Wf=this.pe,this.Sg=this.rd.length,this.Yb=14,!0)},e.prototype.GX=function(){var t=this.Md.get(this.pe-1),i=this.Ff.get(this.Sg-1),n=this.Sr(t,!0),r=this.Sr(i,!1);return n>r?this.sx():n<r?this.bC():e.Oz(t)?this.sx():e.Oz(i)?this.bC():this.sx()},e.prototype.sx=function(){var i=this.Md.get(--this.pe),n=i>>1;if(e.gq(i))return-1!=this.Ef&&-1!=this.Jj.get(n)?(this.Bd.kd(this.Ef,this.Jj.get(n)),this.Jj.set(n,-1)):this.sd.remove(n),0!=this.pe||(this.Bf=this.Wf=-1,this.Jc=!0,!1);if(-1!=this.Df&&0<this.Bd.cs(this.Df))for(i=this.Bd.sc(this.Df);-1!=i;){var r=this.Bd.getData(i);this.ff.wj(r),this.Ij.set(r,-1),r=this.Bd.lb(i),this.Bd.kd(this.Df,i),i=r}return 0<this.ff.size()?(this.pw.yB(this.Fb[n].v,this.Fb[n].C,this.ra),this.Wf=n,this.Yb=12):(-1==this.Ef&&(null==this.Bd&&(this.Bd=new t.kp),this.Jj=new t.ja(0),this.Jj.resize(this.Fb.length,-1),this.Jj.Xj(-1,0,this.Fb.length),this.Ef=this.Bd.Qh(1)),this.Jj.set(n,this.Bd.addElement(this.Ef,n)),this.Yb=7),!0},e.prototype.bC=function(){var i=this.Ff.get(--this.Sg),n=i>>1;if(e.gq(i))return-1!=this.Df&&-1!=this.Ij.get(n)?(this.Bd.kd(this.Df,this.Ij.get(n)),this.Ij.set(n,-1)):this.ff.remove(n),0!=this.Sg||(this.Bf=this.Wf=-1,this.Jc=!0,!1);if(-1!=this.Ef&&0<this.Bd.cs(this.Ef))for(i=this.Bd.sc(this.Ef);-1!=i;){var r=this.Bd.getData(i);this.sd.wj(r),this.Jj.set(r,-1),r=this.Bd.lb(i),this.Bd.kd(this.Ef,i),i=r}return 0<this.sd.size()?(this.po.yB(this.rd[n].v,this.rd[n].C,this.ra),this.Bf=n,this.Yb=11):(-1==this.Df&&(null==this.Bd&&(this.Bd=new t.kp),this.Ij=new t.ja(0),this.Ij.resize(this.rd.length,-1),this.Ij.Xj(-1,0,this.rd.length),this.Df=this.Bd.Qh(0)),this.Ij.set(n,this.Bd.addElement(this.Df,n)),this.Yb=7),!0},e.prototype.Pz=function(){if(this.Bf=this.po.next(),-1!=this.Bf)return!1;var t=this.Md.get(this.pe)>>1;return this.sd.wj(t),this.Yb=4,!0},e.prototype.$S=function(){if(this.Wf=this.po.next(),-1!=this.Wf)return!1;this.Bf=this.Wf=-1;var t=this.Ff.get(this.Sg)>>1;return this.ff.wj(t),this.Yb=7,!0},e.prototype.XS=function(){if(this.Bf=this.pw.next(),-1!=this.Bf)return!1;var t=this.Md.get(this.pe)>>1;return this.sd.wj(t),this.Yb=7,!0},e.prototype.YS=function(){if(-1==--this.Sg)return this.Yb=5,!0;this.yq.L(this.Fb[this.pe]);var t=this.Fb[this.Sg];return this.yq.X(this.ra,this.ra),!this.yq.isIntersecting(t)||(this.Bf=this.Sg,!1)},e.prototype.ZS=function(){if(-1==--this.Sg)return this.Yb=6,!0;this.yq.L(this.Fb[this.pe]);var t=this.rd[this.Sg];return this.yq.X(this.ra,this.ra),!this.yq.isIntersecting(t)||(this.Bf=this.Sg,!1)},e.prototype.cJ=function(){return null==this.sd?(this.Jc=!0,!1):(this.pe=this.Md.size,0<this.sd.size()&&this.sd.reset(),-1!=this.Ef&&(this.Bd.dh(this.Ef),this.Jj.resize(0),this.Ef=-1),this.Jc=!1,!0)},e.prototype.bJ=function(){return null==this.ff?(this.Jc=!0,!1):(this.Sg=this.Ff.size,0<this.ff.size()&&this.ff.reset(),-1!=this.Df&&(this.Bd.dh(this.Df),this.Ij.resize(0),this.Df=-1),this.Jc=!1,!0)},e.prototype.Lt=function(e,i,r){null==this.Cm&&(this.Cm=new t.Yt),r=new n(this,r),this.Cm.sort(e,0,i,r)},e.prototype.xX=function(t,i,n,r){var s=this;t.Wd(i,n,(function(t,i){var n=s.Sr(t,r),o=s.Sr(i,r);return n<o||n==o&&e.gq(t)&&e.Oz(i)?-1:1}))},e.prototype.Sr=function(t,i){var n=.5*this.ra;return i?(i=this.Fb[t>>1],e.gq(t)?i.G-n:i.H+n):(i=this.rd[t>>1],e.gq(t)?i.G-n:i.H+n)},e}(),t.qC=e}(W||(W={})),function(t){var e=function(){function e(){}return e.construct=function(t,i,n,r,s,o){var a=new e;return a.v=t,a.G=i,a.Xe=n,a.C=r,a.H=s,a.Dg=o,a},e.prototype.Pa=function(){this.Xe=this.v=NaN},e.prototype.B=function(){return isNaN(this.v)},e.prototype.NS=function(){return isNaN(this.Xe)},e.prototype.L=function(t,e,i,n,r,s){void 0!==n?"number"==typeof t?(this.v=t,this.G=e,this.Xe=i,this.C=n,this.H=r,this.Dg=s):(this.v=t.x-.5*e,this.C=this.v+e,this.G=t.y-.5*i,this.H=this.G+i,this.Xe=t.z-.5*n,this.Dg=this.Xe+n):(this.v=t,this.G=e,this.Xe=i,this.C=t,this.H=e,this.Dg=i)},e.prototype.move=function(t){this.v+=t.x,this.G+=t.y,this.Xe+=t.z,this.C+=t.x,this.H+=t.y,this.Dg+=t.z},e.prototype.copyTo=function(t){t.v=this.v,t.G=this.G,t.C=this.C,t.H=this.H},e.prototype.Lk=function(t,e,i){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>e?this.G=e:this.H<e&&(this.H=e),0==isNaN(this.Xe)?this.Xe>i?this.Xe=i:this.Dg<i&&(this.Dg=i):this.Dg=this.Xe=i},e.prototype.$b=function(i,n,r){if("number"==typeof i)this.B()?(this.v=i,this.G=n,this.Xe=r,this.C=i,this.H=n,this.Dg=r):this.Lk(i,n,r);else if(i instanceof t.Od)this.$b(i.x,i.y,i.z);else{if(!(i instanceof e))throw t.i.O();i.B()||(this.$b(i.v,i.G,i.Xe),this.$b(i.C,i.H,i.Dg))}},e.prototype.construct=function(t,e,i){t.B()||e.B()?this.Pa():(this.v=t.pa,this.C=t.wa,this.G=e.pa,this.H=e.wa,this.Xe=i.pa,this.Dg=i.wa)},e.prototype.hB=function(e){if(null==e||8>e.length)throw t.i.O();e[0]=new t.Od(this.v,this.G,this.Xe),e[1]=new t.Od(this.v,this.H,this.Xe),e[2]=new t.Od(this.C,this.H,this.Xe),e[3]=new t.Od(this.C,this.G,this.Xe),e[4]=new t.Od(this.v,this.G,this.Dg),e[5]=new t.Od(this.v,this.H,this.Dg),e[6]=new t.Od(this.C,this.H,this.Dg),e[7]=new t.Od(this.C,this.G,this.Dg)},e.prototype.ax=function(t){if(null==t||0==t.length)this.Pa();else{var e=t[0];for(this.L(e.x,e.y,e.z),e=1;e<t.length;e++){var i=t[e];this.Lk(i.x,i.y,i.z)}}},e}();t.GK=e}(W||(W={})),function(t){!function(t){t.Ra=function(){var t=Error();return t.message="Internal Error",t},t.Fe=function(){var t=Error();return t.message="Not Implemented",t},t.Yk=function(){var t=Error();return t.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",t},t.Hb=function(){var t=Error();return t.message="Invalid Call",t},t.O=function(t){var e=Error();return e.message="Illegal Argument Exception",void 0!==t&&(e.message+=": "+t),e},t.gu=function(t){var e=Error();return e.message=void 0!==t?"Runtime Exception: "+t:"Runtime Exception.",e},t.ga=function(t){var e=Error();return e.message="Geometry Exception: "+t,e},t.yK=function(){var t=Error();return t.message="Assert Failed Exception",t},t.re=function(){var t=Error();return t.message="IndexOutOfBoundsException",t},t.OC=function(){var t=Error();return t.message="UserCancelException",t}}(t.i||(t.i={}))}(W||(W={})),function(t){(t=t.dm||(t.dm={}))[t.forward=0]="forward",t[t.reverse=1]="reverse"}(W||(W={})),function(t){var e=function(){function e(t,e){this.Xa=t,this.xH=e,this.DH=-1,this.ul=!1}return e.prototype.qe=function(){},e.prototype.next=function(){if(++this.DH==this.xH.I())return null;var e=this.xH.Oa(this.DH);e.scale(this.Xa.fc);var i=new t.Ea;return this.Xa.my(e,this.ul,i),i},e.prototype.Ma=function(){return 0},e}(),i=function(){function e(e,i,n){this.Xa=e,this.sw=i,this.Yn=!1,this.eo=n,this.cw=[0],this.sk=[0],this.Oj=[0],this.Hs=[0],this.ul=!1,this.sq=new t.Ea,this.uk=[]}return e.prototype.qe=function(){},e.prototype.next=function(){if(this.Yn){this.Yn=!1,this.td.ia();var e=t.ba.ig(this.sq);return t.Hg.Mk(e,this.Xa.Cq,!0,!0,this.Xa.Vb)}if(null==this.td&&(this.td=this.sw.Ha(),this.td.ab(),null!=this.eo&&this.eo.Zk(null,0)),!this.td.Ia()){if(!this.td.ab())return null;null!=this.eo&&this.eo.Zk(null,0)}e=null,this.sk[0]=0,this.zA=this.cw[0]=0,this.ei=NaN,this.Yn=!1;for(var i=this.uk.length=0,r=new t.h,s=new t.h,o=[0];this.td.Ia()&&8>this.zA;){var a=this.td.ia();if(r.N(a.ac()),s.N(a.xc()),r.scale(this.Xa.fc),s.scale(this.Xa.fc),t.dj.Ou(r,s)?r.x=s.x:t.dj.Mu(r,s)&&(s.x=r.x),this.uk.length=0,t.dj.lF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,r,s,this.Xa.KA,this.Xa.$s,o,this.Oj,this.Hs,this.uk,this.cw),null!=this.eo&&(a=this.uk.slice(0),this.eo.iG(this.eo.ea()-1,a,a.length-1)),t.dj.Nu(r,s)?(this.sq.Pa(),this.Xa.my(r,this.ul,this.sq),this.Yn=!0):(this.sq.Pa(),this.Yn=this.ry(o[0],this.sq)),this.Yn){if(this.td.mi(),this.td.zz()){this.td.mi(),this.td.ia();break}this.td.sW();break}null==e&&(e=new t.Ea).Zk(null,0),this.FD(e),i++}if(this.cw[0]=0,0<i){for(o=this.td.xb();0<i;)this.td.mi(),r.N(this.sw.Oa(this.td.xb())),s.N(this.sw.Oa(this.td.ik())),r.scale(this.Xa.fc),s.scale(this.Xa.fc),this.ul&&(t.dj.Ou(r,s)?r.x=s.x:t.dj.Mu(r,s)&&(s.x=r.x)),this.uk.length=0,t.dj.lF(this.Xa.Ub,this.Xa.lc,this.Xa.Ae,s,r,this.Xa.KA,this.Xa.$s,null,this.Oj,this.Hs,this.uk,this.cw),this.FD(e),i--;return r.N(this.sw.Oa(this.td.xb())),r.scale(this.Xa.fc),n.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,r,this.ei+1.570796326794897,this.ei+4.71238898038469,this.Xa.bo,this.ul,this.sk,e,NaN,NaN),this.td.Wb(o),this.td.ia(),i=t.ta.lj(null,e,!0),t.Hg.Mk(e,i,!0,!0,this.Xa.Vb)}return this.Yn=!1,this.td.ia(),e=t.ba.ig(this.sq),t.Hg.Mk(e,this.Xa.Cq,!0,!0,this.Xa.Vb)},e.prototype.FD=function(e){var i=this.uk[0],r=this.Oj[0]-1.570796326794897,s=this.Hs[0]+1.570796326794897;if(!isNaN(this.ei)){if(this.ei>=this.Oj[0]){var o=this.ei+1.570796326794897;r=o+3.141592653589793-(this.ei-this.Oj[0])}else r=(o=this.ei+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Oj[0]-this.ei));var a=!(this.ei>=this.Oj[0]&&3.141592653589793>=this.ei-this.Oj[0])&&!(this.ei<this.Oj[0]&&3.141592653589793<=this.Oj[0]-this.ei),c=!1;if(Math.abs(r-o)<=.5*this.Xa.bo)if(a){var l=e.Oa(e.I()-2);l.scale(this.Xa.fc);var u=new t.ha(0);for(t.kb.Sy(this.Xa.Ub,this.Xa.lc,i.x,i.y,l.x,l.y,u),l=u.u;l<=o;)l+=6.283185307179586;for(;l>o;)l-=6.283185307179586;l<r&&(c=!0)}else c=!0;c?(e.xB(0,e.I()-1),this.ul||((i=new t.h).N(e.Oa(e.I()-1)),i.scale(this.Xa.fc),-3.141592653589793>i.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<i.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),a||(r=.5*(r+o))):(a?((o=new t.h).N(i),o.scale(1/this.Xa.fc),e.xf(0,-1,o)):n.Jr(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.uk[0],o,r,this.Xa.bo,this.ul,this.sk,e,NaN,NaN),this.zA+=1)}n.ly(this.Xa.Ub,this.Xa.lc,this.Xa.fc,this.Xa.sb,this.Xa.Ae,this.uk,r,s,this.ul,this.sk,e),this.ei=this.Hs[0]},e.prototype.ry=function(t,e){return this.Xa.ry(this.uk,t,this.Oj[0],this.Hs[0],this.ul,e)},e.prototype.Ma=function(){return 0},e}(),n=function(){function n(){}return n.buffer=function(e,i,r,s,o,a){if(null==e)throw t.i.O("Geometry::Geodesic_bufferer::buffer");if(e.B())return new t.Ea(e.description);var c=new n;c.Rg=i,c.Kc=t.cb.tc(i);var l=t.cb.wv(c.Kc);if(c.Vb=a,c.Ub=t.cb.fv(c.Kc),c.lc=l*(2-l),c.fc=c.Kc.Id().bi,c.ra=c.Rg.Ln(),c.Cq=c.Kc.Ln(),c.$s=c.Cq*c.fc,c.Bq=1.570796326794897/c.fc,c.DY=3.141592653589793/c.fc,c.Ks=6.283185307179586/c.fc,c.EY=c.Ks/6,c.FA=0,c.CY=1.5707963267948966*c.Ub/c.FA,4==r?(c.Ae=2,c.Xv=!0):(c.Ae=r,c.Xv=!1),c.La=s,c.sb=Math.abs(s),isNaN(o)||.001>o?c.lX():c.ao=o,r=e.K(),t.ba.zd(r)?((r=new t.Ua(e.description)).oc(e,!0),e=r,r=1607):197==r&&(r=new t.l,e.A(r),r.S()<=c.ra||r.da()<=c.ra?((r=new t.Ua(e.description)).bd(e,!1),e=r,r=1607):((r=new t.Ea(e.description)).bd(e,!1),e=r,r=1736)),c.mX(),t.ba.Sn(r)||c.nX(),c.sb<=.5*c.ao)return 1736!=r?new t.Ea(e.description):c.Xv?e:t.dj.Rr(e,c.Rg,c.Ae,c.KA,-1,a);if(0>c.La&&1736!=r)return new t.Ea(e.description);if(c.Xv&&t.ba.Ic(r)?(i=t.dj.Rr(e,i,4,NaN,c.ao,a),e=t.cb.Ah(i,c.Rg,c.Kc)):e=t.cb.Ah(e,c.Rg,c.Kc),(e=t.Ih.mj(e,c.Kc)).B())return new t.Ea(e.description);switch(!c.Xv&&t.ba.Ic(r)&&(e=t.dj.hI(c.fc,e)),e=n.yX(e,c.Kc),r){case 1736:i=c.MN(e);break;case 1607:i=c.NN(e);break;case 550:i=c.KN(e);break;case 33:i=c.LN(e);break;default:throw t.i.ga("corrupted_geometry")}return(c=t.cb.Ah(i,c.Kc,c.Rg)).Ll(e.description),c},n.prototype.MN=function(e){var n=new t.Ea;e=new i(this,e,n),e=t.Hh.local().W(e,this.Kc,this.Vb).next(),e=t.jp.oj(e,this.Kc,2);var r=new t.Ed;return r.scale(1/this.fc,1/this.fc),n.Pc(r),n=t.jp.oj(n,this.Kc,2),0<=this.La?t.Hh.local().W(n,e,this.Kc,this.Vb):t.lp.local().W(n,e,this.Kc,this.Vb)},n.prototype.NN=function(e){return e=new i(this,e,null),e=t.Hh.local().W(e,this.Kc,this.Vb).next(),t.jp.oj(e,this.Kc,2)},n.prototype.KN=function(i){return i=new e(this,i),i=t.Hh.local().W(i,this.Kc,this.Vb).next(),t.jp.oj(i,this.Kc,2)},n.prototype.LN=function(e){(e=e.D()).scale(this.fc);var i=new t.Ea;return this.my(e,!1,i),t.jp.oj(i,this.Kc,2)},n.prototype.ry=function(e,i,r,s,o,a){var c=e[0],l=e[e.length-1],u=c.y>l.y?c.y:l.y,h=t.F.q(this.Ub,this.lc,c.y<l.y?c.y:l.y);if(u=t.F.q(this.Ub,this.lc,u),.001<this.FA-(h+i+this.sb)&&.001<this.FA+(u-i-this.sb))return!1;h=(i=r-1.570796326794897)-3.141592653589793,u=i+3.141592653589793;var d=(r=s+1.570796326794897)+3.141592653589793,p=[NaN],f=[NaN],b=[NaN],y=[NaN];if(s=!1,n.WI(this.Ub,this.lc,this.sb,c,i,h,l,r,p,f),n.WI(this.Ub,this.lc,this.sb,l,d,r,c,h,b,y),(r<p[0]&&p[0]<d||r<f[0]&&f[0]<d)&&(s=!0),s||(h<b[0]&&b[0]<i||h<y[0]&&y[0]<i)&&(s=!0),!s&&o)return!1;for(var m=[],g=e.length-1;0<=g;g--)m.push(e[g]);return a.Pa(),a.Zk(null,0),g=[0],n.ly(this.Ub,this.lc,this.fc,this.sb,this.Ae,e,i,r,o,g,a),n.Jr(this.Ub,this.lc,this.fc,this.sb,l,r,d,this.bo,o,g,a,p[0],f[0]),n.ly(this.Ub,this.lc,this.fc,this.sb,this.Ae,m,d,u,o,g,a),n.Jr(this.Ub,this.lc,this.fc,this.sb,c,h,i,this.bo,o,g,a,b[0],y[0]),e=!1,o||(e=this.AE(this.fc,a)),s||e},n.prototype.my=function(t,e,i){i.Pa(),i.Zk(null,0),n.Jr(this.Ub,this.lc,this.fc,this.sb,t,-this.bo,6.283185307179586,this.bo,e,[0],i,NaN,NaN),e||this.AE(this.fc,i)},n.prototype.AE=function(t,e){var i=this.nO(t,e);return t=this.oO(t,e),i||t},n.prototype.nO=function(e,i){var n=i.I(),r=!1,s=new t.l;if(i.A(s),!t.s.$(s.H*e,1.570796326794897)&&!t.s.$(s.G*e,-1.570796326794897))return!1;var o=new t.h;for(--n;0<=n;n--)i.D(n,o),(o.y==s.H&&t.s.$(o.y*e,1.570796326794897)||o.y==s.G&&t.s.$(o.y*e,-1.570796326794897))&&(r=!0,this.GI(o,n,i));return r},n.prototype.oO=function(t,e){var i=e.Oa(0),n=e.Oa(e.I()-1);return 3.141592653589793<Math.abs(i.x-n.x)*t?(this.LV(e),!0):this.mO(e)},n.prototype.mO=function(t){return 0>t.He()&&(this.KV(t),!0)},n.prototype.GI=function(e,i,n){var r=n.I(),s=0<i?i-1:r-1;if(r=n.Oa(i<r-1?i+1:0),s=n.Oa(s),!t.s.$(r.y,e.y)&&!t.s.$(r.x,e.x)){var o=new t.h;o.na(r.x,e.y),n.Db(i,o)}t.s.$(s.y,e.y)||t.s.$(s.x,e.x)||((r=new t.h).na(s.x,e.y),n.xf(0,i,r))},n.prototype.LV=function(e){var i=new t.Ea,n=new t.Ea,r=new t.Ed,s=e.Oa(0),o=e.Oa(e.I()-1),a=new t.h;s.x>o.x?(o=this.Bq,r.gg(-this.Ks,0)):(o=-this.Bq,r.gg(this.Ks,0)),i.add(e,!1),e.Pa(),n.add(i,!1),n.Pc(r),s=new t.l,n.A(s),s.X((this.Ks-s.S())/2,0),s.G=-this.Bq,s.H=this.Bq;for(var c=0;c<n.I();c++)n.D(c,a),i.xf(0,-1,a);for(n.Pc(r),c=0;c<n.I();c++)n.D(c,a),i.xf(0,-1,a);n=i.Oa(0),r=i.Oa(i.I()-1),a.na(r.x,o),i.xf(0,-1,a),a.na(.5*(r.x+n.x),o),i.xf(0,-1,a),a.na(n.x,o),i.xf(0,-1,a),i=t.Ih.ls(i,this.Kc,2,!0,s.v),i=t.Ih.ls(i,this.Kc,2,!0,s.C),i=t.Vd.clip(i,s,this.Cq,NaN),e.add(i,!1)},n.prototype.KV=function(e){var i=new t.l;e.A(i),i.X((this.Ks-i.S())/2,0),i.G=-this.Bq,i.H=this.Bq,e.Zk(null,0);var n=new t.h;n.na(i.v,i.G),e.xf(1,-1,n),n.na(i.v,i.H),e.xf(1,-1,n),n.na(.5*(i.v+i.C),i.H),e.xf(1,-1,n),n.na(i.C,i.H),e.xf(1,-1,n),n.na(i.C,i.G),e.xf(1,-1,n),n.na(.5*(i.v+i.C),i.G),e.xf(1,-1,n)},n.ly=function(e,i,r,s,o,a,c,l,u,h,d){var p=null;u||((p=new t.h).Sc(),0<d.I()&&(p.N(d.Oa(d.I()-1)),p.scale(r)));var f=new t.ha(0),b=new t.ha(0),y=new t.ha(0),m=new t.h,g=new t.h,v=a[a.length-1];r=1/r;for(var w=0;w<a.length;w++){var O=a[w];if(0==w)var j=c;else w==a.length-1?j=l:(t.kb.xd(e,i,v.x,v.y,O.x,O.y,null,null,f,o),j=f.u-1.570796326794897);t.kb.zi(e,i,O.x,O.y,s,j,b,y),u?g.na(b.u,y.u):(m.na(b.u,y.u),n.ZI(O.x,m.x,p.x,h),g.na(h[0]+m.x,m.y),p.N(g)),g.scale(r),d.xf(0,-1,g)}},n.Jr=function(e,i,r,s,o,a,c,l,u,h,d,p,f){if(!(c-a<l)){var b=new t.ha(0),y=new t.ha(0),m=new t.h,g=new t.h,v=null;u||((v=new t.h).Sc(),0<d.I()&&(v.N(d.Oa(d.I()-1)),v.scale(r)));var w=t.P.truncate(Math.ceil(a/l)),O=w++*l;for(O==a&&(O=w++*l),r=1/r;O<c+l&&(a<p&&p<O?(O=p,w--):a<f&&f<O&&(O=f,w--),!(O>=c));)t.kb.zi(e,i,o.x,o.y,s,O,b,y),u?g.na(b.u,y.u):(m.na(b.u,y.u),n.ZI(o.x,m.x,v.x,h),g.na(h[0]+m.x,m.y),v.N(g)),g.scale(r),d.xf(0,-1,g),a=O,O=w++*l}},n.WI=function(e,i,n,r,s,o,a,c,l,u){var h=new t.h,d=new t.h,p=new t.ha(0),f=new t.ha(0);for(t.kb.zi(e,i,r.x,r.y,n,s,p,f),h.na(p.u,f.u),t.kb.zi(e,i,r.x,r.y,n,o,p,f),d.na(p.u,f.u),n=new t.ha(0),t.kb.Sy(e,i,a.x,a.y,h.x,h.y,n),l[0]=n.u,t.kb.Sy(e,i,a.x,a.y,d.x,d.y,n),u[0]=n.u;l[0]<=u[0];)l[0]+=6.283185307179586;for(;l[0]>u[0];)l[0]-=6.283185307179586;for(;l[0]>=c;)l[0]-=6.283185307179586,u[0]-=6.283185307179586;for(;l[0]<c;)l[0]+=6.283185307179586,u[0]+=6.283185307179586},n.ZI=function(t,e,i,n){if(isNaN(i)){for(;3.141592653589793<n[0]+e-t;)n[0]-=6.283185307179586;for(;3.141592653589793<t-(n[0]+e);)n[0]+=6.283185307179586}else 3.141592653589793<n[0]+e-i?n[0]-=6.283185307179586:3.141592653589793<i-(n[0]+e)&&(n[0]+=6.283185307179586)},n.yX=function(e,i){var n=e.K(),r=t.ba.Ic(n)?e.ea():550==n?e.I():1;if(1==r)return e;var s=new t.ja(0);s.resize(r);for(var o=[],a=new t.l,c=0;c<r;c++){if(s.write(c,c),t.ba.Ic(n)){e.Sj(c,a);var l=a.tf()}else l=e.Oa(c);l=t.PK.OX(i,l),o[c]=l}for(s.Wd(0,s.size,(function(t,e){return o[t]<o[e]?-1:o[t]>o[e]?1:0})),i=e.Ja(),c=0;c<r;c++)a=s.read(c),t.ba.Ic(n)?i.addPath(e,a,!0):i.Gd(e,a,a+1);return i},n.prototype.mX=function(){var e=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);e=Math.min(e,.39269908169872414*this.Ub);var i=new t.h;i.na(0,10*this.fc);var n=45*this.fc,r=new t.ha(0),s=new t.ha(0),o=new t.ha(0),a=new t.ha(0),c=new t.ha(0),l=new t.ha(0),u=new t.ha(0),h=new t.ha(0),d=new t.h,p=new t.h,f=new t.h,b=new t.h;t.kb.zi(this.Ub,this.lc,i.x,i.y,e,0,r,s),d.na(r.u,s.u),t.kb.zi(this.Ub,this.lc,i.x,i.y,e,n,o,a),p.na(o.u,a.u),r=new t.ha(0),s=new t.ha(0);for(var y=new t.ha(0);t.kb.zi(this.Ub,this.lc,i.x,i.y,e,.5*(0+n),c,l),f.na(c.u,l.u),t.kb.xd(this.Ub,this.lc,d.x,d.y,p.x,p.y,r,s,null,2),t.kb.pj(this.Ub,this.lc,d.x,d.y,.5*r.u,s.u,u,h,2),b.na(u.u,h.u),t.kb.xd(this.Ub,this.lc,f.x,f.y,b.x,b.y,y,null,null,2),!(y.u<=this.ao);)n*=.9,t.kb.zi(this.Ub,this.lc,i.x,i.y,e,n,o,a),p.na(o.u,a.u);this.bo=6.283185307179586/Math.ceil(6.283185307179586/(n-0))},n.prototype.nX=function(){var e=Math.min(3.141592653589793*this.Ub-this.sb,this.sb);e=Math.min(e,.39269908169872414*this.Ub);var i=new t.h,n=new t.h;i.na(0,10*this.fc),n.na(10*this.fc,10*this.fc);var r=new t.ha(0),s=new t.ha(0),o=new t.ha(0);t.kb.xd(this.Ub,this.lc,i.x,i.y,n.x,n.y,o,r,s,this.Ae);var a=new t.ha(0),c=new t.ha(0),l=new t.ha(0),u=new t.ha(0),h=new t.h,d=new t.ha(0),p=new t.ha(0),f=new t.ha(0),b=new t.ha(0),y=new t.ha(0),m=new t.ha(0),g=new t.ha(0),v=new t.ha(0),w=new t.ha(0),O=new t.h,j=new t.h,_=new t.h,x=new t.h,S=1;r=r.u,s=s.u+1.570796326794897,o=o.u,t.kb.zi(this.Ub,this.lc,i.x,i.y,e,r-1.570796326794897,p,f),O.na(p.u,f.u),t.kb.zi(this.Ub,this.lc,n.x,n.y,e,s,b,y),j.na(b.u,y.u),p=new t.ha(0),f=new t.ha(0),s=new t.ha(0);for(var M=new t.ha(0);t.kb.pj(this.Ub,this.lc,i.x,i.y,.5*(0+S)*o,r,a,c,this.Ae),h.na(a.u,c.u),t.kb.xd(this.Ub,this.lc,i.x,i.y,h.x,h.y,null,null,d,this.Ae),t.kb.zi(this.Ub,this.lc,h.x,h.y,e,d.u+1.570796326794897,m,g),_.na(m.u,g.u),t.kb.xd(this.Ub,this.lc,O.x,O.y,j.x,j.y,p,f,null,2),t.kb.pj(this.Ub,this.lc,O.x,O.y,.5*p.u,f.u,v,w,2),x.na(v.u,w.u),t.kb.xd(this.Ub,this.lc,_.x,_.y,x.x,x.y,s,null,null,2),!(s.u<=this.ao);)S*=.9,t.kb.pj(this.Ub,this.lc,i.x,i.y,S*o,r,l,u,this.Ae),n.na(l.u,u.u),t.kb.xd(this.Ub,this.lc,i.x,i.y,n.x,n.y,null,null,M,this.Ae),t.kb.zi(this.Ub,this.lc,n.x,n.y,e,M.u+1.570796326794897,b,y),j.na(b.u,y.u);1e5<(e=S*o)&&(e=1e5),this.KA=e},n.prototype.lX=function(){var t=5e4<this.sb?100:1e4<this.sb?10:1;500>this.sb/t&&(t=this.sb/500),.01>t&&(t=.01),this.ao=t},n}();t.NK=n}(W||(W={})),function(t){var e=function(){function e(){}return e.Of=function(e,i){var n=new t.h;n.N(i),e.push(n)},e.wp=function(t,e){t.add(e.x),t.add(e.y)},e.bB=function(t){t.Ch(t.size-2)},e.iB=function(t,e){e.na(t.get(t.size-2),t.get(t.size-1))},e.Rr=function(i,n,r,s,o,a){if(null==i)throw t.i.O();var c=i.K();if(i.B()||t.ba.Sn(c))return i;var l=new e;l.Rg=n,l.Kc=t.cb.tc(n);var u=t.cb.wv(l.Kc);if(l.Vb=a,l.Ub=t.cb.fv(l.Kc),l.lc=u*(2-u),l.fc=l.Kc.Id().bi,l.Cq=l.Kc.Ln(),l.$s=l.Cq*l.fc,l.uA=s,l.tA=o,l.Ae=r,197==c?(r=new t.Ea(i.description)).bd(i,!1):t.ba.zd(c)?(r=new t.Ua(i.description)).oc(i,!0):r=i,4!=l.Ae){if((n=0==l.Rg.Nb(l.Kc)?t.cb.Ah(r,l.Rg,l.Kc):t.Ih.mj(r,l.Kc)).B())return n;n=e.hI(l.fc,n),n=l.Uy(n),n=t.jp.oj(n,l.Kc,l.Ae),l=t.cb.Ah(n,l.Kc,l.Rg)}else{if(2==t.Gg.Tb(n)?(i=t.cb.ol(),(n=t.Wk.local().W(r,i,n,a))==i&&(n=new t.Ea,i.copyTo(n))):n=t.Ih.mj(r,l.Kc),n.B())return n;l=l.qX(n)}return l},e.hI=function(i,n){var r=new t.l;if(n.yc(r),3.141592653589793>r.S()*i)return n;var s=!1;r=n.Ha();for(var o=new t.h,a=new t.h;r.ab();)for(;r.Ia();){var c=r.ia();if(o.N(c.ac()),a.N(c.xc()),o.scale(i),a.scale(i),3.141592653589793<Math.abs(o.x-a.x)){var l=e.Nu(o,a);if(!l){s=!0;break}if(6.283185307179586<Math.abs(o.x-a.x)){s=!0;break}}}if(!s)return n;s=n.Ja();var u=1<n.description.Ba,h=new t.h,d=new t.h,p=new t.h,f=new t.h,b=new t.Ta;for(r.$i();r.ab();)for(var y=NaN,m=[0];r.Ia();){if(c=r.ia(),o.N(c.ac()),a.N(c.xc()),o.scale(i),a.scale(i),isNaN(y)?(e.Xi(o.x,NaN,m),d.N(o)):d.N(p),y=d.x,l=e.Nu(o,a)){if(6.283185307179586<a.x-o.x)for(;6.283185307179586<a.x-o.x;)a.x-=6.283185307179586;if(-6.283185307179586>a.x-o.x)for(;-6.283185307179586>a.x-o.x;)a.x+=6.283185307179586;e.Xi(a.x,NaN,m),p.N(a)}else h.N(a),e.qU(h),e.Xi(h.x,y,m),p.na(m[0]+h.x,h.y);.5>Math.abs(p.x-a.x)&&p.N(a),u?(c.Uw(0,b),f.N(d),f.scale(1/i),b.Db(f),(l=r.xm())?s.nf(b):s.lineTo(b),r.Rn()&&!n.ec(r.gb)&&(c.Uw(1,b),f.N(p),f.scale(1/i),b.Db(f),s.lineTo(b))):((l=r.xm())&&s.Cz(null,0),c=s.ea()-1,f.N(d),f.scale(1/i),s.xf(c,-1,f),r.Rn()&&!n.ec(r.gb)&&(f.N(p),f.scale(1/i),s.xf(c,-1,f)))}return s},e.lF=function(i,n,r,s,o,a,c,l,u,h,d,p){var f=new t.h,b=new t.h,y=0<s.compare(o);e.YI(y,s,o,f,b),e.mF(i,n,r,f,b,a,NaN,c,l,u,h,null,d,p),y&&e.ZB(u,h,null,d)},e.prototype.Uy=function(i){var n=i.Ja(),r=i.Ha(),s=[],o=null,a=null,c=1<i.description.Ba;c&&(o=new t.ce(0),a=new t.hg);for(var l=[0],u=new t.h,h=new t.h,d=new t.h,p=new t.h;r.ab();)for(l[0]=0;r.Ia();){var f=r.ia();u.N(f.ac()),h.N(f.xc()),u.scale(this.fc),h.scale(this.fc);var b=0<u.compare(h);e.YI(b,u,h,d,p),s.length=0,null!=o&&o.Ch(0),0<this.uA?e.mF(this.Ub,this.lc,this.Ae,d,p,this.uA,this.tA,this.$s,null,null,null,c?o:null,s,l):e.TQ(this.Ub,this.lc,this.Ae,d,p,this.tA,this.$s,c?o:null,s,l),b&&e.ZB(null,null,c?o:null,s),s[0].N(f.ac()),s[s.length-1].N(f.xc());for(var y=1;y<s.length-1;y++)s[y].scale(1/this.fc);c?(b=e.XI(b,f,a),e.LD(r.xm(),r.Rn()&&!i.ec(r.gb),f,b,o,s,n)):e.KD(r.xm(),r.Rn()&&!i.ec(r.gb),s,n)}return n},e.prototype.qX=function(i){var n=i.Ja(),r=i.Ha(),s=[],o=null,a=new t.hg,c=1<i.description.Ba;for(c&&(o=new t.ce(0));r.ab();)for(;r.Ia();){var l=r.ia(),u=l.ac(),h=l.xc();u=0<u.compare(h),h=e.XI(u,l,a),s.length=0,null!=o&&o.Ch(0),e.pX(this.Ub,this.lc,this.fc,h,this.Rg,this.uA,this.tA,c?o:null,s),u&&e.ZB(null,null,c?o:null,s),c?e.LD(r.xm(),r.Rn()&&!i.ec(r.gb),l,h,o,s,n):e.KD(r.xm(),r.Rn()&&!i.ec(r.gb),s,n)}return n},e.KD=function(t,e,i,n){t&&n.Cz(null,0),t=n.ea()-1;var r=i.slice(0);n.iG(t,r,r.length-1),e&&n.xf(t,-1,i[i.length-1])},e.LD=function(e,i,n,r,s,o,a){var c=new t.Ta;if(n.Uo(c),e?a.nf(c):a.lineTo(c),2<o.length){e=r.Rb();for(var l=1;l<o.length-1;l++){var u=r.FG(s.get(l)*e);r.Uw(u,c),c.Db(o[l]),a.lineTo(c)}}i&&(n.Qo(c),a.lineTo(c))},e.mF=function(i,n,r,s,o,a,c,l,u,h,d,p,f,b){var y=new t.ha(0),m=new t.ha(0),g=new t.ha(0);t.kb.xd(i,n,s.x,s.y,o.x,o.y,g,y,m,r),g=g.u;var v=y=y.u;0>v&&(v+=6.283185307179586),0>(m=m.u)&&(m+=6.283185307179586),null!=u&&(u[0]=g),null!=h&&(h[0]=v),null!=d&&(d[0]=m),h=u=NaN,null!=p&&(u=((h=t.F.Bh(i,n))-(d=t.F.q(i,n,s.y)))/g,h=(h+d)/g),d=e.Ou(s,o),m=e.Mu(s,o),v=d||m;var w=e.xE(s,o,l),O=new t.ha(0),j=new t.ha(0),_=new t.h,x=new t.h,S=new t.h;e.Xi(s.x,NaN,b);var M=[b[0]];if(g<=a)e.Of(f,s),e.Xi(o.x,NaN,b),null!=p&&p.add(0),v?(d&&e.eB(s,o,p,f),m&&e.cB(s,o,p,f)):w?e.dB(s,o,y,u,h,p,f):0<c&&(x.na(s.x-M[0],s.y),_.na(o.x-b[0],o.y),e.Ty(i,n,r,s,g,y,x,_,0,1,c,p,f,M)),e.Of(f,o);else{var k=g/((a=1+t.P.truncate(Math.ceil(g/a)))-1),I=new t.h,T=0;e.Of(f,s),I.N(s),x.na(s.x-b[0],s.y),null!=p&&p.add(0);for(var E=1;E<a;E++){if(E<a-1){t.kb.pj(i,n,s.x,s.y,E*k,y,O,j,r),_.na(O.u,j.u),e.Xi(_.x,I.x,b),S.na(b[0]+_.x,_.y);var A=E/(a-1)}else e.Xi(o.x,NaN,b),_.na(o.x-b[0],o.y),S.N(o),A=1;v?(1==E&&d&&e.eB(s,S,p,f),E==a-1&&m&&e.cB(I,o,p,f)):w?e.wE(I,S,l)&&(s.x<o.x?I.x>S.x&&(b[0]+=6.283185307179586,S.na(b[0]+_.x,_.y)):I.x<S.x&&(b[0]-=6.283185307179586,S.na(b[0]+_.x,_.y)),e.dB(I,S,y,u,h,p,f)):0<c&&e.Ty(i,n,r,s,g,y,x,_,T,A,c,p,f,M),e.Of(f,S),null!=p&&p.add(A),I.N(S),x.N(_),M[0]=b[0],T=A}}},e.TQ=function(i,n,r,s,o,a,c,l,u,h){var d=new t.ha(0),p=new t.ha(0),f=new t.ha(0);t.kb.xd(i,n,s.x,s.y,o.x,o.y,f,d,p,r),p=f.u,d=d.u;var b=f=NaN;if(null!=l){b=t.F.Bh(i,n);var y=t.F.q(i,n,s.y);f=(b-y)/p,b=(b+y)/p}y=e.Ou(s,o);var m=e.Mu(s,o),g=y||m;c=e.xE(s,o,c);var v=e.Nu(s,o);v=g||c||v,e.Xi(s.x,NaN,h);var w=new t.h;e.Of(u,s),w.N(s),null!=l&&l.add(0),v?(g?(y&&e.eB(s,o,l,u),m&&e.cB(s,o,l,u)):c&&e.dB(s,o,d,f,b,l,u),e.Xi(o.x,NaN,h),e.Of(u,o)):p<=a?(e.Xi(o.x,NaN,h),e.Of(u,o)):(f=new t.h,c=new t.h,f.N(s),c.N(o),f.x-=h[0],c.x-=h[0],-3.141592653589793>c.x?c.x+=6.283185307179586:3.141592653589793<c.x&&(c.x-=6.283185307179586),e.Ty(i,n,r,s,p,d,f,c,0,1,a,l,u,h),e.Of(u,o),e.Xi(o.x,NaN,h)),null!=l&&l.add(1)},e.Ty=function(i,n,r,s,o,a,c,l,u,h,d,p,f,b){var y=new t.h,m=new t.h;y.na(c.x+b[0],c.y),new t.ha(0),new t.ha(0),new t.ha(0),new t.ha(0);var g=new t.ha(0),v=new t.ha(0),w=new t.ha(0),O=new t.h,j=new t.h,_=new t.h,x=new t.h;O.N(c),j.N(l),c=new t.ce(0),l=new t.ce(0),e.wp(c,j),l.add(h);var S=new t.h,M=new t.zb,k=[];for(e.QJ(4,k);0<c.size;){for(var I,T=!1,E=NaN,A=0;3>A;A++)if(I=k[A]*h+(1-k[A])*u,t.kb.pj(i,n,s.x,s.y,I*o,a,g,v,r),_.na(g.u,v.u),0==A&&(E=I,x.N(_)),e.JW(O,_,j,M),M.ic(M.fe(_,!0),S),t.kb.xd(i,n,_.x,_.y,S.x,S.y,w,null,null,2),w.u>d){T=!0;break}T?(j.N(x),h=E,e.wp(c,j),l.add(h)):(e.bB(c),l.Fn(l.size-1,1,l.size-1),0<c.size&&(e.Xi(j.x,y.x,b),m.na(b[0]+j.x,j.y),e.Of(f,m),y.N(m),null!=p&&p.add(h),O.N(j),u=h,e.iB(c,j),h=l.get(l.size-1)))}},e.pX=function(i,n,r,s,o,a,c,l,u){var h=new t.h,d=new t.h,p=new t.h,f=new t.h,b=new t.h,y=new t.h,m=new t.h,g=new t.h,v=new t.h,w=new t.h,O=new t.ha(0),j=new t.ha(0),_=new t.h,x=[[],[]],S=1==t.Gg.Tb(o);o=o.Yd(0);var M=s.ac(),k=s.xc();S?(y.na(M.x*r,M.y*r),m.na(k.x*r,k.y*r)):(x[0][0]=M.x,x[0][1]=M.y,x[1][0]=k.x,x[1][1]=k.y,t.cb.vt(),y.x=x[0][0]*r,y.y=x[0][1]*r,m.x=x[1][0]*r,m.y=x[1][1]*r);var I=0,T=0,E=1,A=s.Qn();h.N(M),d.N(k),k=new t.ce(0);var C=new t.ce(0),P=new t.ce(0);e.wp(k,d),e.wp(C,m),P.add(E),e.Of(u,h),null!=l&&l.add(T);var R=[],L=0<c?A?5:3:A?5:1;e.QJ(L,R);for(var N=new t.ha(0),F=new t.ha(0),D=new t.ha(0),z=new t.ha(0),V=new t.ha(0),$=new t.ha(0),G=new t.ha(0);0<C.size;){var U=!1,q=NaN;for(t.kb.xd(i,n,y.x,y.y,m.x,m.y,N,F,null,2),M=0;M<L;M++){if(0==M){if(!A&&0>=c&&N.u<=a&&3.141592653589793>Math.abs(y.x-m.x))break;if(s.Sx(T,E)<=o)break}var B=R[M]*E+(1-R[M])*T;if(s.ic(B,p),S?g.na(p.x*r,p.y*r):(x[0][0]=p.x,x[0][1]=p.y,t.cb.vt(),g.x=x[0][0]*r,g.y=x[0][1]*r),0==M&&(q=B,b.N(p),w.N(g),0<a&&(N.u>a||3.141592653589793<=Math.abs(y.x-m.x)))){U=!0;break}if(A&&0<a){if(t.kb.xd(i,n,y.x,y.y,g.x,g.y,D,null,null,2),D.u>a||3.141592653589793<=Math.abs(y.x-g.x)){U=!0;break}}else if(0<c){if(A?(f.ES(h,d,R[M]),S?v.na(f.x*r,f.y*r):(x[0][0]=f.x,x[0][1]=f.y,t.cb.vt(),v.x=x[0][0]*r,v.y=x[0][1]*r)):(f.N(p),v.N(g)),t.kb.xd(i,n,y.x,y.y,v.x,v.y,z,null,null,2),!(z.u<=N.u)){U=!0;break}if(t.kb.pj(i,n,y.x,y.y,z.u,F.u,O,j,2),_.na(O.u,j.u),t.kb.xd(i,n,_.x,_.y,g.x,g.y,V,null,null,2),V.u>c){U=!0;break}if(A){if(t.kb.xd(i,n,_.x,_.y,v.x,v.y,$,null,null,2),$.u>c){U=!0;break}if(t.kb.xd(i,n,v.x,v.y,g.x,g.y,G,null,null,2),G.u>c){U=!0;break}}}}U?(d.N(b),m.N(w),E=q,e.wp(k,d),e.wp(C,m),P.add(E)):(e.bB(k),e.bB(C),P.Fn(P.size-1,1,P.size-1),e.Of(u,d),I+=N.u,null!=l&&l.add(I),0<C.size&&(h.N(d),y.N(m),T=E,e.iB(k,d),e.iB(C,m),E=P.get(P.size-1)))}if(null!=l)for(i=1/I,M=0;M<l.size;M++)l.write(M,l.read(M)*i)},e.ZB=function(t,e,i,n){n.reverse(),null!=i&&i.oi(0,i.size,1),i=null!=t?t[0]:NaN,n=null!=e?e[0]:NaN,null!=t&&(t[0]=n),null!=e&&(e[0]=i)},e.YI=function(t,e,i,n,r){t?(n.N(i),r.N(e)):(n.N(e),r.N(i))},e.XI=function(t,e,i){return t?(i.create(e.K()),e.copyTo(i.get()),i.get().reverse(),i.get()):e},e.Xi=function(t,e,i){if(isNaN(e)){for(;3.141592653589793<i[0]-t;)i[0]-=6.283185307179586;for(;3.141592653589793<t-i[0];)i[0]+=6.283185307179586}else 3.141592653589793<i[0]+t-e?i[0]-=6.283185307179586:3.141592653589793<e-(i[0]+t)&&(i[0]+=6.283185307179586)},e.JW=function(t,e,i,n){3.141592653589793>Math.abs(e.x-t.x)?(n.Ec(t),3.141592653589793<=i.x-t.x?n.Sl(i.x-6.283185307179586,i.y):3.141592653589793<=t.x-i.x?n.Sl(i.x+6.283185307179586,i.y):n.Sl(i.x,i.y)):(n.Ec(i),3.141592653589793<=t.x-i.x?n.Sl(t.x-6.283185307179586,t.y):3.141592653589793<=i.x-t.x?n.Sl(t.x+6.283185307179586,t.y):n.Sl(t.x,t.y))},e.QJ=function(t,e){for(var i=0;i<t;i++){var n=Math.ceil(i/2)/(t+1);0!=i%2&&(n=-n),e[i]=.5+n}},e.Ou=function(e,i){return!!(t.s.$(e.y,1.570796326794897)&&!t.s.$(i.y,1.570796326794897)||t.s.$(e.y,-1.570796326794897)&&!t.s.$(i.y,-1.570796326794897))},e.Mu=function(e,i){return!!(t.s.$(i.y,1.570796326794897)&&!t.s.$(e.y,1.570796326794897)||t.s.$(i.y,-1.570796326794897)&&!t.s.$(e.y,-1.570796326794897))},e.xE=function(i,n,r){return!(!e.wE(i,n,r)||t.s.$(i.y,1.570796326794897)||t.s.$(i.y,-1.570796326794897)||t.s.$(n.y,1.570796326794897)||t.s.$(n.y,-1.570796326794897))},e.wE=function(t,e,i){return Math.abs(Math.abs(t.x-e.x)-3.141592653589793)<=i},e.Nu=function(e,i){return!!(t.s.$(e.y,1.570796326794897)&&t.s.$(i.y,1.570796326794897)||t.s.$(e.y,-1.570796326794897)&&t.s.$(i.y,-1.570796326794897))},e.eB=function(i,n,r,s){if(0<i.y){var o=new t.h;o.na(n.x,1.570796326794897)}else(o=new t.h).na(n.x,-1.570796326794897);t.s.$(i.x,o.x)||t.s.$(n.y,o.y)||(e.Of(s,o),null!=r&&r.add(0))},e.cB=function(i,n,r,s){if(0<n.y){var o=new t.h;o.na(i.x,1.570796326794897)}else(o=new t.h).na(i.x,-1.570796326794897);t.s.$(n.x,o.x)||t.s.$(i.y,o.y)||(e.Of(s,o),null!=r&&r.add(1))},e.dB=function(i,n,r,s,o,a,c){t.s.Dd(r)?(0<1.570796326794897-i.y&&((r=new t.h).na(i.x,1.570796326794897),e.Of(c,r),null!=a&&a.add(s)),0<1.570796326794897-n.y&&((r=new t.h).na(n.x,1.570796326794897),e.Of(c,r),null!=a&&a.add(s))):(0<1.570796326794897+i.y&&((r=new t.h).na(i.x,-1.570796326794897),e.Of(c,r),null!=a&&a.add(o)),0<1.570796326794897+n.y&&((r=new t.h).na(n.x,-1.570796326794897),e.Of(c,r),null!=a&&a.add(o)))},e.qU=function(t){if(-3.141592653589793>t.x)for(;-3.141592653589793>t.x;)t.x+=6.283185307179586;if(3.141592653589793<t.x)for(;3.141592653589793<t.x;)t.x-=6.283185307179586},e}();t.dj=e}(W||(W={})),function(t){t.jp=function(){function e(){}return e.oj=function(i,n,r){if(null==i||null==n||!t.cb.Xc(n))throw t.i.O();if(i.B())return i;var s=i,o=s.K();if(t.ba.Ic(o)){s=t.Ih.mj(i,n),i=new t.l,s.A(i),o=t.ta.Xd(n,i,!1);for(var a=t.cb.hh(n),c=Math.floor((i.v-a.v)/a.S())*a.S()+a.v;c<i.C;)c>i.v+o&&c<i.C-o&&(s=t.Ih.ls(s,n,r,!0,c)),c+=a.S()}else{if(197==o)return(i=new t.Ea(s.description)).bd(s,!1),e.oj(i,n,r);if(t.ba.zd(o))return(i=new t.Ua(s.description)).oc(s,!0),e.oj(i,n,r)}return e.Py(s,n)},e.Py=function(i,n){if(null==i||null==n||!t.cb.Xc(n))throw t.i.O();if(i.B())return i;var r=i.K();return 197==r?(r=new t.Ea(i.description)).bd(i,!1):t.ba.zd(r)?(r=new t.Ua(i.description)).oc(i,!0):r=i,(r=t.Ih.mj(r,n)).B()?r:1==t.Gg.Tb(n)?t.Ih.Gn(r,n,0,r!=i,0):e.FQ(r,n,r!=i)},e.FQ=function(e,i,n){if(!t.cb.Xc(i))throw t.i.O();if(e.B())return e;var r=t.cb.bf(i),s=-180*r;return r*=360,2==t.Gg.Tb(i)&&(r=(s=t.cb.hh(i)).C,r-=s=s.v),t.Ih.Jp(e,s,r,i,n,0,!0)},e}()}(W||(W={})),function(t){t.qY=function(){function t(){}return t.R=function(t){return 0>t?-t:t},t.Mb=function(e,i){return 0<=i?t.R(e):-t.R(e)},t.$=function(e,i){return e==i||t.R(e-i)<=t.BC*(1+(t.R(e)+t.R(i))/2)},t.Dd=function(e){return 0==e||t.R(e)<=t.BC},t.Bh=function(e,i){var n=(i=(1-(i=Math.sqrt(1-i)))/(1+i))*i;return e/(1+i)*(1+n*(.25+n*(.015625+1/256*n)))*t.wL},t.wL=1.5707963267948966,t.BC=3552713678800501e-30,t}()}(W||(W={})),function(t){var e=function(t){this.Xf=t,this.Kk=this.Xf.getCode(),0>this.Kk&&(this.Kk=0)};t.sY=e;var i=function(){function i(t){void 0===t&&(t=null),this.Dj=null,this.Vn=!1,null!==t&&(this.Dj=new e(t))}return i.prototype.Fc=function(){return null!=this.Dj?this.Dj.Kk:0},i.prototype.Pf=function(){var t=new i;return this.copyTo(t),t},i.prototype.copyTo=function(t){t.Dj=this.Dj,t.Vn=this.Vn},i.prototype.Lz=function(){this.Vn=!this.Vn},i.prototype.sm=function(){return null!=this.Dj?this.Dj.Xf:null},i.prototype.DJ=function(i){if(0>=i)throw t.i.O();if(i!=this.Fc()){if(null==(i=t.qf.geogtran(i)))throw t.i.O("Geogtran not found.");this.Dj=new e(i)}},i.prototype.wz=function(){return null==this.Dj?null:this.Dj.Xf.toString()},i.prototype.hX=function(i){if(null==i)throw t.i.O();var n=null;try{n=t.qf.fromString(t.Tc.PE_TYPE_GEOGTRAN,i)}catch(r){throw t.i.O()}this.Dj=new e(n)},i.prototype.Nb=function(t){return t==this||!(!(t instanceof i)||(0>=this.Fc()||this.Fc()!=t.Fc())&&!this.sm().isEqual(t.sm()))&&this.Vn==t.Vn},i.prototype.toString=function(){var t="GeographicTransformation: "+this.wz();return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},i.create=function(t,e){var n=new i;return n.DJ(t),e&&n.Lz(),n},i.mP=function(t,e){var n=new i;return n.hX(t),e&&n.Lz(),n},i}();t.Bx=i}(W||(W={})),function(t){var e=function(){function t(){}return t.construct=function(e,i,n,r){var s=new t;return s.iw=e,s.jw=i,s.FY=n,s.GY=r,s},t.yy=function(t,e){return t.iw==e.iw?t.jw==e.jw?0:t.jw<e.jw?-1:1:t.iw<e.iw?-1:1},t}(),i=function(){function t(){this.nT=[],this.oT=[],this.rp()}return t.fz=function(){return null==t.bK&&(t.bK=new t),t.bK},t.prototype.rp=function(){this.aD(this.nT),this.aD(this.oT)},t.prototype.aD=function(t){try{var i=[];i=i.sort(e.yy);for(var n=0;n<i.length;n++)t.push(i[n])}catch(r){}},t}();t.rY=i}(W||(W={})),function(t){var e=function(){function t(){}return t.prototype.qD=function(t){this.Fk=t},t.prototype.OM=function(t){this.Gb=t},t.prototype.pD=function(t){this.Ao=t},t.uE=function(t){return!(t.B()||1607!=t.K()&&1736!=t.K())},t.sE=function(t){return!(t.B()||1607!=t.K()&&1736!=t.K()||20>t.I())},t.tE=function(t){return!(t.B()||1607!=t.K()&&1736!=t.K()||20>t.I())},t}();t.Uk=e}(W||(W={})),function(t){t.bc=function(){function e(){}return e.JT=function(e){var i=new t.Ea;return i.qx(e.fs(),e.hs()),i.zj(e.fs(),e.gs()),i.zj(e.es(),e.gs()),i.zj(e.es(),e.hs()),i},e.Ah=function(e,i){return null===e?null:t.Fx.local().W(e,i,null)},e.YX=function(e,i){var n=t.Hh.local();return e=new t.$c(e),n.W(e,i,null).next()},e.km=function(e,i,n){return t.lp.local().W(e,i,n,null)},e.fp=function(e,i,n){return t.Ix.local().W(e,i,n,null)},e.JX=function(e,i,n){var r=t.Ix.local();for(e=new t.$c(e),i=new t.$c(i),n=r.W(e,i,n,null),r=[];null!=(i=n.next());)r.push(i);return r},e.Nb=function(e,i,n){return t.ej.local().W(3,e,i,n,null)},e.LP=function(e,i,n){return t.ej.local().W(4,e,i,n,null)},e.HS=function(e,i,n){var r=t.Wk.local();for(e=new t.$c(e),i=new t.$c(i),n=r.W(e,i,n,null),r=[];null!=(i=n.next());)r.push(i);return r},e.IP=function(e,i,n){var r=t.lp.local();for(e=new t.$c(e),i=new t.$c(i),n=r.W(e,i,n,null),r=[];null!=(i=n.next());)r.push(i);return r},e.Fa=function(e,i,n){return t.Wk.local().W(e,i,n,null)},e.eY=function(e,i,n){return t.ej.local().W(2,e,i,n,null)},e.contains=function(e,i,n){return t.ej.local().W(1,e,i,n,null)},e.tP=function(e,i,n){return t.ej.local().W(16,e,i,n,null)},e.touches=function(e,i,n){return t.ej.local().W(8,e,i,n,null)},e.tU=function(e,i,n){return t.ej.local().W(32,e,i,n,null)},e.JS=function(e,i,n){return t.ej.local().W(1073741824,e,i,n,null)},e.sB=function(e,i,n,r){return t.rL.local().W(e,i,n,r,null)},e.ub=function(e,i,n,r){var s=null;if(null!=n){if(s=n.Id(),null!=r&&s.Fc()!=r.Fc()&&s.od!=r.od)throw t.i.Yk()}else if(null!=r)throw t.i.O();return e=t.iL.local().W(e,i,null),null!==s&&null!==r&&(e=t.Uc.Oh(e,s,r)),e},e.clip=function(e,i,n){return t.cL.local().W(e,t.l.construct(i.fs(),i.hs(),i.es(),i.gs()),n,null)},e.el=function(e,i,n){if(null==e||null==i)return null;for(e=t.eL.local().W(!0,e,i,n,null),i=[];null!=(n=e.next());)n.B()||i.push(n);return i.slice(0)},e.EN=function(i,n,r,s,o,a,c,l){if(!0===o)return e.FN(i,n,r,s,a,c,l);if(o=r,null!=n){if(c=n.Id(),null!=s&&c.Fc()!=s.Fc()){if(c.od!=s.od)throw t.i.Yk();o=[],t.Uc.PE(r,r.length,s,c,o)}}else if(null!=s)throw t.i.O();if(r=t.sC.local(),a){for(i=new t.$c(i),n=r.W(i,n,o,a,null),i=[];null!=(a=n.next());)i.push(a);a=i.slice(0)}else for(a=[],s=0;s<i.length;s++)a[s]=r.W(i[s],n,o[s],null);return a},e.FN=function(e,i,n,r,s,o,a){if(null===i)throw t.i.O();if(null==r&&(r=4326!==i.Fc()?i.Id():t.Uc.$g(9001)),0!==r.od)throw t.i.O();if(t.Uc.PE(n,n.length,r,t.Uc.$g(9001),n),r=t.xC.local(),s){for(e=new t.$c(e),i=r.W(e,i,o,n,a,!1,s,null),n=[];null!=(o=i.next());)n.push(o);s=n.slice(0)}else{s=[];for(var c=0;c<e.length;c++)s[c]=r.W(e[c],i,o,n[c],a,!1,null)}return s},e.buffer=function(e,i,n,r,s,o,a){var c=n;if(!1===s){if(null!=i){if(s=i.Id(),null!=r&&s.Fc()!=r.Fc()){if(s.od!=r.od)throw t.i.Yk();c=t.Uc.Oh(n,r,s)}}else if(null!=r)throw t.i.O();e=t.sC.local().W(e,i,c,null)}else{if(null===i)throw t.i.O();if(null==r&&(r=4326!==i.Fc()?i.Id():t.Uc.$g(9001)),0!==r.od)throw t.i.O();c=t.Uc.Oh(n,r,t.Uc.$g(9001)),e=t.xC.local().W(e,i,o,c,a,!1,null)}return e},e.rU=function(e,i,n,r,s,o,a){if(null!=i){var c=i.Id();if(null!=a&&c.Fc()!=a.Fc()){if(c.od!=a.od)throw t.i.Yk();n=t.Uc.Oh(n,a,c)}}else if(null!=a)throw t.i.O();for(e=new t.$c(e),i=t.AC.local().W(e,i,n,r,s,o,null),n=[];null!=(r=i.next());)n.push(r);return n.slice(0)},e.offset=function(e,i,n,r,s,o,a){if(null!=i){var c=i.Id();if(null!=a&&c.Fc()!=a.Fc()){if(c.od!=a.od)throw t.i.Yk();n=t.Uc.Oh(n,a,c)}}else if(null!=a)throw t.i.O();return t.AC.local().W(e,i,n,r,s,o,null)},e.aP=function(e){return t.uC.local().W(e,null)},e.bP=function(e,i){var n=t.uC.local();for(e=new t.$c(e),i=n.W(e,i,null),n=[];null!=(e=i.next());)n.push(e);return n},e.iz=function(e,i,n){return t.Gx.local().iz(e,i,n)},e.jz=function(e,i){return t.Gx.local().jz(e,i)},e.kz=function(e,i,n,r){return t.Gx.local().kz(e,i,n,r)},e.YB=function(e,i){return t.$l.local().W(e,i,!1,null)},e.US=function(e,i){return t.$l.local().ss(e,i,null)},e.IQ=function(e,i,n,r,s){var o=t.wC.local();if(null!=i){if(i=i.Id(),null!=s&&i.Fc()!=s.Fc()){if(i.od!=s.od)throw t.i.Yk();n=t.Uc.Oh(n,s,i)}}else if(null!=s)throw t.i.O();return o.W(e,n,r,null)},e.Rr=function(e,i,n,r){var s=t.Zl.local();if(null!=i){if(i=i.Id(),null!=r&&i.Fc()!=r.Fc()){if(i.od!=r.od)throw t.i.Yk();n=t.Uc.Oh(n,r,i)}}else if(null!=r)throw t.i.O();return s.W(e,n,null)},e.Ry=function(e,i,n,r,s){void 0===s&&(s=0);var o=t.kL.local();if(4==s)throw t.i.Fe();if(0!==s)throw t.i.Fe();if(null!==r){if(0!==r.od)throw t.i.O("Unit must be a linear unit type");n=t.Uc.Oh(n,r,t.Uc.$g(9001))}return o.W(e,n,i,s,null)},e.OQ=function(i,n,r,s){if(null===i)return 0;if(4==s)throw t.i.Fe();if(0!==s)throw t.i.Fe();if(197==i.K())i=e.JT(i);else if(1736!=i.K())return 0;if(s=t.cb.tc(n),i=t.cb.Ah(i,n,s),i=t.MK.PQ([i])[0],null!==r){if(2!==r.od)throw t.i.O("Unit must be a area unit type");i=t.Uc.Oh(i,t.Uc.$g(109404),r)}return i},e.RQ=function(e,i,n,r){if(e=t.mL.local().W(e,i,r,null),null!==n){if(0!==n.od)throw t.i.O("Unit must be a linear unit type");e=t.Uc.Oh(e,t.Uc.$g(9001),n)}return e},e.zU=function(e,i,n){if(null===e)return 0;var r=null;if(null!=i){if(0==(r=i.Id()).od&&null==(r=t.Uc.TF(r))&&null!==n)throw t.i.O();if(null!=n&&r.Fc()!=n.Fc()&&r.od!=n.od)throw t.i.Yk()}else if(null!=n)throw t.i.O();return 1736==e.K()||197==e.K()?(e=e.He(),null!==n?t.Uc.Oh(e,r,n):e):0},e.AU=function(e,i,n){if(null===e||e.B()||1>e.Eb())return 0;var r=null;if(null!=i){if(r=i.Id(),null!=n&&r.Fc()!=n.Fc()&&r.od!=n.od)throw t.i.Yk()}else if(null!=n)throw t.i.O();1736==e.K()||197==e.K()?i=e.mg():t.ba.zd(e.K())?(i=new t.Ua(e.description)).oc(e,!0):i=e,e=0,i=i.Ha();for(var s=new t.h,o=new t.h;i.ab();)for(;i.Ia();){var a=i.ia();a.$p(s),a.Ur(o),e+=t.h.ub(s,o)}return null!==r&&null!==n&&(e=t.Uc.Oh(e,r,n)),e},e.YO=function(t){return void 0!==t.points?e.dS(t,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM):void 0!==t.rings?e.dG(t.rings,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"P"):void 0!==t.paths?e.dG(t.paths,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"L"):void 0!==t.x?e.eS(t):void 0!==t.xmin?e.cS(t):null},e.eS=function(e){if(null==e.x||"NaN"==e.x)return new t.Ta;var i=new t.Ta(e.x,e.y);return void 0!==e.z&&null!==e.z&&i.kX(e.z),void 0!==e.m&&null!==e.m&&i.VW(e.m),i},e.cS=function(e){if(null==e.xmin||"NaN"==e.xmin)return new t.Gh;var i=new t.Gh(e.xmin,e.ymin,e.xmax,e.ymax);return void 0!==e.zmin&&null!==e.zmin&&i.setInterval(1,0,e.zmin,e.zmax),void 0!==e.mmin&&null!==e.mmin&&i.setInterval(2,0,e.mmin,e.mmax),i},e.dS=function(e,i,n){var r=0,s=new t.de,o=3*e.points.length;0!=o%2&&o++,2>o&&(o=2);var a=t.P.truncate(3*e.points.length/2);4>a?a=4:16>a&&(a=16),o=t.Zc.En(o,0);var c=t.Zc.En(a);a=t.Zc.En(a);for(var l=0;l<e.points.length;l++)o.write(2*l,e.points[l][0]),o.write(2*l+1,e.points[l][1]),c.write(l,i||n?e.points[l][2]:NaN),a.write(l,n&&i?e.points[l][3]:NaN),r++;return 0!=r&&(s.resize(r),s.kn(0,o)),i&&(s.se(1),s.kn(1,c)),n&&(s.se(2),s.kn(2,0==i?c:a)),s.Qc(16777215),s},e.dG=function(e,i,n,r){var s=0,o=2;if("P"==r){var a=new t.Ea;s=1,o=3}else a=new t.Ua;for(var c=t.Zc.Ph(0),l=t.Zc.Nr(0),u=0,h=0,d=[],p=[],f=0;f<e.length;f++){var b=e[f].length;if(d[f]=!1,"P"===r&&e[f][0][0]===e[f][e[f].length-1][0]&&e[f][0][1]===e[f][e[f].length-1][1]){var y=0==n||e[f][0][3]===e[f][e[f].length-1][3]||void 0===e[f][0][3]&&void 0===e[f][e[f].length-1][3];(0==i||e[f][0][2]===e[f][e[f].length-1][2]||void 0===e[f][0][2]&&void 0===e[f][e[f].length-1][2])&&y&&(d[f]=!0,--b)}b>=o?(p[f]=!1,h+=1,c.add(u),l.add(s),u+=b):p[f]=!0}for(0!=(r=3*u)%2&&r++,2>r&&(r=2),4>(f=t.P.truncate(3*u/2))?f=4:16>f&&(f=16),r=t.Zc.En(r,0),s=t.Zc.En(f),o=t.Zc.En(f),f=b=0;f<e.length;f++)if(!1===p[f])for(y=0;y<e[f].length;y++){var m=!1;y===e[f].length-1&&!0===d[f]&&(m=!0),m||(r.write(2*b,e[f][y][0]),r.write(2*b+1,e[f][y][1]),s.write(b,i||n?e[f][y][2]:NaN),o.write(b,n&&i?e[f][y][3]:NaN),b++)}return 0!=u&&(e=a,c.resize(h),l.resize(h),0<u&&(c.add(u),l.add(0)),e.kn(0,r),e.HJ(l),e.IJ(c)),i&&(a.se(1),a.kn(1,s)),n&&(a.se(2),a.kn(2,0==i?s:o)),a.Qc(16777215),a},e}()}(W||(W={})),function(t){t.Cx=function(){function t(){}return t.dr=function(t){var e,i=0,n=t.length,r=t[0];for(e=0;e<n-1;e++){var s=t[e+1];i+=(s[0]-r[0])*(s[1]+r[1]),r=s}return 0<=i},t.rotate=function(e,i,n){i=i*Math.PI/180;var r=Math.cos(i),s=Math.sin(i);if(void 0!==e.paths){i={paths:[]};for(var o=0;o<e.paths.length;o++){for(var a=e.paths[o],c=[],l=0;l<a.length;l++){var u=a[l].slice(0);c.push(u);var h=r*(a[l][0]-n.x)-s*(a[l][1]-n.y)+n.x,d=s*(a[l][0]-n.x)+r*(a[l][1]-n.y)+n.y;u[0]=h,u[1]=d}i.paths.push(c)}return i}if(void 0!==e.rings){for(i={rings:[]},o=0;o<e.rings.length;o++){a=e.rings[o],c=[];var p=t.dr(a);for(l=0;l<a.length;l++)u=a[l].slice(0),c.push(u),h=r*(a[l][0]-n.x)-s*(a[l][1]-n.y)+n.x,d=s*(a[l][0]-n.x)+r*(a[l][1]-n.y)+n.y,u[0]=h,u[1]=d;t.dr(c)!==p&&c.reverse(),i.rings.push(c)}return i}if(void 0!==e.x)return i={x:r*(e.x-n.x)-s*(e.y-n.y)+n.x,y:s*(e.x-n.x)+r*(e.y-n.y)+n.y},void 0!==e.z&&(i.z=e.z),void 0!==e.m&&(i.m=e.m),i;if(void 0!==e.points){for(i={points:[]},e=e.points,l=0;l<e.length;l++)(o=e[l].slice(0))[0]=r*(e[l][0]-n.x)-s*(e[l][1]-n.y)+n.x,o[1]=s*(e[l][0]-n.x)+r*(e[l][1]-n.y)+n.y,i.points.push(o);return i}return null},t.BQ=function(e,i){if(void 0!==e.paths){for(var n={paths:[]},r=0;r<e.paths.length;r++){for(var s=e.paths[r],o=[],a=0;a<s.length;a++){var c=s[a].slice(0);o.push(c);var l=i.x-s[a][0];c[0]=s[a][0]+2*l}n.paths.push(o)}return n}if(void 0!==e.rings){for(n={rings:[]},r=0;r<e.rings.length;r++){s=e.rings[r];var u=t.dr(s);for(o=[],a=0;a<s.length;a++)c=s[a].slice(0),o.push(c),l=i.x-s[a][0],c[0]=s[a][0]+2*l;t.dr(o)!==u&&o.reverse(),n.rings.push(o)}return n}if(void 0!==e.x)return l=i.x-e.x,n={x:e.x+2*l,y:e.y},void 0!==e.z&&(n.z=e.z),void 0!==e.m&&(n.m=e.m),n;if(void 0!==e.points){for(n={points:[]},e=e.points,a=0;a<e.length;a++)r=e[a].slice(0),l=i.x-r[0],r[0]+=2*l,n.points.push(r);return n}return void 0!==e.xmin?(n={v:e.xmin,G:e.ymin,C:e.xmax,H:e.ymax},void 0!==e.zmin&&(n.zmin=e.zmin,n.zmax=e.zmax),void 0!==e.mmin&&(n.mmin=e.mmin,n.mmax=e.mmax),l=i.x-e.xmin,n.xmax=e.xmin+2*l,l=i.x-e.xmax,n.xmin=e.xmax+2*l,n):null},t.CQ=function(e,i){if(void 0!==e.paths){for(var n={paths:[]},r=0;r<e.paths.length;r++){for(var s=e.paths[r],o=[],a=0;a<s.length;a++){var c=s[a].slice(0);o.push(c);var l=i.y-s[a][1];c[1]=s[a][1]+2*l}n.paths.push(o)}return n}if(void 0!==e.rings){for(n={rings:[]},r=0;r<e.rings.length;r++){s=e.rings[r];var u=t.dr(s);for(o=[],a=0;a<s.length;a++)c=s[a].slice(0),o.push(c),l=i.y-s[a][1],c[1]=s[a][1]+2*l;t.dr(o)!==u&&o.reverse(),n.rings.push(o)}return n}if(void 0!==e.x)return l=i.y-e.y,n={y:e.y+2*l,x:e.x},void 0!==e.z&&(n.z=e.z),void 0!==e.m&&(n.m=e.m),n;if(void 0!==e.points){for(n={points:[]},e=e.points,a=0;a<e.length;a++)r=e[a].slice(0),l=i.y-r[1],r[1]+=2*l,n.points.push(r);return n}return void 0!==e.xmin?(n={v:e.xmin,G:e.ymin,C:e.xmax,H:e.ymax},void 0!==e.zmin&&(n.zmin=e.zmin,n.zmax=e.zmax),void 0!==e.mmin&&(n.mmin=e.mmin,n.mmax=e.mmax),l=i.y-e.ymin,n.ymax=e.ymin+2*l,l=i.y-e.ymax,n.ymin=e.ymax+2*l,n):null},t}()}(W||(W={})),function(t){t.RK=function(){function e(){}return e.Kg=function(e,i){switch(null==i&&(i=t.ee.og()),e){case 33:return new t.Ta(i);case 322:return new t.zb(i);case 197:return new t.Gh(i);case 550:return new t.de(i);case 1607:return new t.Ua(i);case 1736:return new t.Ea(i);default:throw t.i.ga("invalid argument.")}},e}()}(W||(W={})),function(t){var e=function(){function e(e,i){this.Qe=t.ja.rf(e,-1),this.va=new t.bu,this.yl=i}return e.prototype.qW=function(t){this.va.At(Math.min(this.Qe.size,t)),this.va.hn(t)},e.prototype.addElement=function(e,i){if(void 0===i)return this.XM(e);i=t.P.truncate(i%this.Qe.size);var n=this.Qe.get(i);return-1==n&&(n=this.va.Qh(),this.Qe.set(i,n)),this.va.addElement(n,e)},e.prototype.XM=function(e){var i=this.yl.ez(e);i=t.P.truncate(i%this.Qe.size);var n=this.Qe.get(i);return-1==n&&(n=this.va.Qh(),this.Qe.set(i,n)),this.va.addElement(n,e)},e.prototype.kd=function(e,i){if(void 0===i)this.CP(e);else{i=t.P.truncate(i%this.Qe.size);var n=this.Qe.get(i);if(-1==n)throw t.i.O();for(var r=this.va.sc(n),s=-1;-1!=r;){var o=this.va.lb(r);this.va.ka(r)==e?(this.va.kd(n,s,r),-1==this.va.sc(n)&&(this.va.dh(n),this.Qe.set(i,-1))):s=r,r=o}}},e.prototype.CP=function(e){var i=this.yl.ez(e);i=t.P.truncate(i%this.Qe.size);var n=this.Qe.get(i);if(-1==n)throw t.i.O();for(var r=this.va.sc(n),s=-1;-1!=r;){var o=this.va.lb(r);this.va.ka(r)==e?(this.va.kd(n,s,r),-1==this.va.sc(n)&&(this.va.dh(n),this.Qe.set(i,-1))):s=r,r=o}},e.prototype.iR=function(e){return e=t.P.truncate(e%this.Qe.size),-1==(e=this.Qe.get(e))?-1:this.va.sc(e)},e.prototype.wR=function(t){return this.va.lb(t)},e.prototype.wd=function(e){var i=this.yl.ez(this.ka(e));i=t.P.truncate(i%this.Qe.size);var n=this.Qe.get(i);if(-1==n)throw t.i.O();for(var r=this.va.sc(n),s=-1;-1!=r;){if(r==e)return this.va.kd(n,s,r),void(-1==this.va.sc(n)&&(this.va.dh(n),this.Qe.set(i,-1)));s=r,r=this.va.lb(r)}throw t.i.O()},e.prototype.ka=function(t){return this.va.ka(t)},e.prototype.clear=function(){this.Qe=t.ja.rf(this.Qe.size,-1),this.va.clear()},e.prototype.size=function(){return this.va.LF()},e}();t.WK=e}(W||(W={})),function(t){var e=function(){function e(){this.Mi=new t.ad(3),this.va=new t.ad(6),this.hT=!1,this.je=-1}return e.prototype.hl=function(t){this.Mi.kd(t)},e.prototype.Qw=function(){return this.Mi.De()},e.prototype.cv=function(t){this.va.kd(t)},e.prototype.UA=function(){return this.va.De()},e.prototype.PB=function(t,e){this.Mi.T(t,1,e)},e.prototype.ex=function(t,e){this.Mi.T(t,2,e)},e.prototype.UW=function(t,e){this.Mi.T(t,3,e)},e.prototype.NB=function(t,e){this.va.T(t,4,e)},e.prototype.XW=function(t,e){this.va.T(t,3,e)},e.prototype.LJ=function(t,e){this.va.T(t,2,e)},e.prototype.Qh=function(t){var e=this.UA();return this.va.T(e,3,this.je),this.va.T(e,4,0),this.va.T(e,5,t),-1!=this.je&&this.LJ(this.je,e),this.je=e},e.prototype.dh=function(t){this.DE(t);var e=this.va.U(t,2),i=this.va.U(t,3);return-1!=e?this.XW(e,i):this.je=i,-1!=i&&this.LJ(i,e),this.cv(t),i},e.prototype.At=function(t){this.va.Ee(t)},e.prototype.HF=function(t){return this.va.U(t,5)},e.prototype.TW=function(t,e){this.va.T(t,5,e)},e.prototype.addElement=function(t,e){return this.kS(t,e)},e.prototype.kS=function(t,e){var i=this.Qw();this.ex(i,-1),-1==this.va.U(t,0)&&this.va.T(t,0,i);var n=this.va.U(t,1);return this.PB(i,n),-1!=n&&this.ex(n,i),this.va.T(t,1,i),this.setData(i,e),this.NB(t,this.cs(t)+1),this.hT&&this.UW(i,t),i},e.prototype.kd=function(t,e){var i=this.xe(e),n=this.lb(e);return-1!=i?this.ex(i,n):this.va.T(t,0,n),-1!=n?this.PB(n,i):this.va.T(t,1,i),this.hl(e),this.NB(t,this.cs(t)-1),n},e.prototype.hn=function(t){this.Mi.Ee(t)},e.prototype.getData=function(t){return this.Mi.U(t,0)},e.prototype.setData=function(t,e){this.Mi.T(t,0,e)},e.prototype.lb=function(t){return this.Mi.U(t,2)},e.prototype.xe=function(t){return this.Mi.U(t,1)},e.prototype.sc=function(t){return this.va.U(t,0)},e.prototype.Gc=function(t){return this.va.U(t,1)},e.prototype.clear=function(){for(var t=this.je;-1!=t;)t=this.dh(t)},e.prototype.DE=function(t){for(var e=this.Gc(t);-1!=e;){var i=e;e=this.xe(i),this.hl(i)}this.va.T(t,0,-1),this.va.T(t,1,-1),this.NB(t,0)},e.prototype.B=function(){return 0==this.Mi.size},e.prototype.LF=function(){return this.Mi.size},e.prototype.cs=function(t){return this.va.U(t,4)},e.prototype.lz=function(t){return this.va.U(t,3)},e}();t.kp=e}(W||(W={})),function(t){var e=function(){function e(e){void 0===e?(this.ug=new t.ad(2),this.va=new t.ad(4),this.je=-1,this.Rv=!0):(this.ug=new t.ad(2),this.va=new t.ad(e?4:2),this.je=-1,this.Rv=e)}return e.prototype.hl=function(t){this.ug.kd(t)},e.prototype.Qw=function(){return this.ug.De()},e.prototype.cv=function(t){this.va.kd(t)},e.prototype.UA=function(){return this.va.De()},e.prototype.Qh=function(){var t=this.UA();return this.Rv&&(this.va.T(t,3,this.je),-1!=this.je&&this.va.T(this.je,2,t),this.je=t),t},e.prototype.dh=function(t){for(var e=this.sc(t);-1!=e;){var i=e;e=this.lb(e),this.hl(i)}this.Rv&&(e=this.va.U(t,2),i=this.va.U(t,3),-1!=e?this.va.T(e,3,i):this.je=i,-1!=i&&this.va.T(i,2,e)),this.cv(t)},e.prototype.At=function(t){this.va.Ee(t)},e.prototype.addElement=function(t,e){var i=this.va.U(t,1),n=this.Qw();return-1!=i?this.ug.T(i,1,n):this.va.T(t,0,n),this.va.T(t,1,n),this.ug.T(n,0,e),n},e.prototype.hn=function(t){this.ug.Ee(t)},e.prototype.kd=function(t,e,i){-1!=e?(this.ug.T(e,1,this.ug.U(i,1)),this.va.U(t,1)==i&&this.va.T(t,1,e)):(this.va.T(t,0,this.ug.U(i,1)),this.va.U(t,1)==i&&this.va.T(t,1,-1)),this.hl(i)},e.prototype.By=function(t,e){var i=this.va.U(t,1),n=this.va.U(e,0);-1!=n&&(-1!=i?this.ug.T(i,1,n):this.va.T(t,0,n),this.va.T(t,1,this.va.U(e,1))),this.Rv&&(t=this.va.U(e,2),i=this.va.U(e,3),-1!=t?this.va.T(t,3,i):this.je=i,-1!=i&&this.va.T(i,2,t)),this.cv(e)},e.prototype.ka=function(t){return this.ug.U(t,0)},e.prototype.Tj=function(t,e){this.ug.T(t,0,e)},e.prototype.lb=function(t){return this.ug.U(t,1)},e.prototype.sc=function(t){return this.va.U(t,0)},e.prototype.Kn=function(t){return this.ka(this.sc(t))},e.prototype.clear=function(){this.ug.nj(!0),this.va.nj(!0),this.je=-1},e.prototype.B=function(){return 0==this.ug.size},e.prototype.LF=function(){return this.ug.size},e.prototype.lz=function(t){return this.va.U(t,3)},e}();t.bu=e}(W||(W={})),function(t){t.ta=function(){function e(){}return e.Xd=function(t,e,i){return e=e.zr(),t=null!=t&&void 0!==t.Yd?t.Yd(0):0,i&&(e*=4,t*=1.1),Math.max(t,e)},e.Gr=function(t){return 2*Math.sqrt(2)*t},e.jN=function(t){return Math.sqrt(2)*t},e.lj=function(i,n,r){var s=new t.l;return n.A(s),e.Xd(i,s,r)},e.oE=function(t,e,i){return e=e.Ug(1,0).zr(),t=null!=t?t.Yd(1):0,i&&(e*=4,t*=1.1),Math.max(t,e)},e.nv=function(e,i){var n=new t.l;return e.yc(n),e=new t.l,i.yc(e),n.$b(e),n},e.QN=function(e){var i=new t.l;if(e.yc(i),i.B())return null;var n=new t.eu(i,8),r=-1,s=new t.l,o=!1;do{for(var a=0,c=e.ea();a<c;a++){if(e.Sj(a,s),-1==(r=n.Ez(a,s,r))){if(o)throw t.i.ga("internal error");e.Ap(i,!1),o=!0,n.reset(i,8);break}o=!1}}while(o);return n},e.fE=function(e){var i=new t.l;e.yc(i);for(var n=new t.eu(i,8),r=-1,s=e.Ha(),o=new t.l,a=!1;s.ab();)for(;s.Ia();){var c=s.ia(),l=s.xb();if(c.A(o),-1==(r=n.Ez(l,o,r))){if(a)throw t.i.Ra();e.Ap(i,!1),a=!0,n.reset(i,8),s.$i();break}}return n},e.kj=function(e,i){var n=new t.l;e.yc(n);for(var r=new t.eu(n,8),s=-1,o=new t.l,a=e.Ha(),c=!1;a.ab();)for(;a.Ia();){var l=a.ia(),u=a.xb();if(l.A(o),o.isIntersecting(i)&&-1==(s=r.Ez(u,o,s))){if(c)throw t.i.ga("internal error.");e.Ap(n,!1),c=!0,r.reset(n,8),a.$i();break}}return r},e.gE=function(e,i){for(var n=new t.eu(i,8),r=new t.h,s=!1,o=new t.l,a=0;a<e.I();a++)if(e.D(a,r),i.contains(r)&&(o.L(r),-1==n.wj(a,o))){if(s)throw t.i.Ra();s=!0,a=new t.l,e.Ap(a,!1),n.reset(a,8),a=-1}return n},e.dR=function(e,i,n){var r=new t.l,s=new t.l;e.yc(r),i.yc(s),r.X(n,n),s.X(n,n);var o=new t.l;o.L(r),o.Fa(s),e=e.Ha(),i=i.Ha();var a=new t.qC;a.UB(n);var c=!1;for(a.hK();e.ab();)for(;e.Ia();)e.ia().A(r),r.isIntersecting(o)&&(c=!0,(n=new t.l).L(r),a.AD(e.xb(),n));if(a.aF(),!c)return null;for(r=!1,a.gK();i.ab();)for(;i.Ia();)i.ia().A(s),s.isIntersecting(o)&&(r=!0,(n=new t.l).L(s),a.wD(i.xb(),n));return a.$E(),r?a:null},e.eR=function(e,i,n,r,s){var o=e.K(),a=i.K(),c=new t.l,l=new t.l;e.yc(c),i.yc(l),c.X(n,n),l.X(n,n);var u=new t.l;u.L(c),u.Fa(l);var h=new t.qC;h.UB(n);var d=!1;h.hK();var p=0;for(n=e.ea();p<n;p++)r&&1736==o&&!e.Fv(p)||(e.Sj(p,c),c.isIntersecting(u)&&(d=!0,h.AD(p,c)));if(h.aF(),!d)return null;for(e=!1,h.gK(),r=0,n=i.ea();r<n;r++)s&&1736==a&&!i.Fv(r)||(i.Sj(r,l),l.isIntersecting(u)&&(e=!0,h.wD(r,l)));return h.$E(),e?h:null},e.Tu=function(e,i,n){if(e!=i)for(var r=0;r<n;r++)null==e[r]?e[r]=t.h.bl(i[r]):e[r].N(i[r])},e.Dy=function(t,e,i,n){var r=0;for(n+=0;r<n;i++,r++)null==t[r]&&(t[r]=[0,0]),t[r][0]=e[i].x,t[r][1]=e[i].y},e.Cy=function(e,i,n,r){var s=i,o=0;for(i=r+i;s<i;o++,s++)null==e[s]?e[s]=t.h.construct(n[o][0],n[o][1]):e[s].na(n[o][0],n[o][1])},e.cP=function(e,i,n){if(e!=i)for(var r=0;r<n;r++)null==e[r]?e[r]=new t.Ta(i[r]):i[r].copyTo(e[r])},e.nE=function(t,e,i,n){var r=0;return null!=t&&(r=t.Yd(0),n&&!i||null==t||(r+=1.01*t.pz(0))),i&&(e*=4,r*=1.01),Math.max(r,e)},e.ny=function(t,i,n){return e.nE(t,i.zr(),n,!1)},e.ZN=function(i,n){var r=new t.l;return n.A(r),e.ny(i,r,!0)},e.oy=function(t,i){return e.nE(t,i.zr(),!1,!0)},e.Iu=function(i,n){var r=new t.l;return n.A(r),e.oy(i,r)},e.sG=function(e,i,n,r){r*=r;var s=new t.h;if(s.vc(e,i),(e=new t.h).vc(n,i),i=s.Sk(),n=e.Sk(),i<=r&&n<=r)return!0;var o=t.mc.nx(s.xi(e));return(o<=r*i||o<=r*n)&&0<=s.Rh(e)},e.WJ=function(e,i,n,r){for(var s=0;s<i;s++){var o=e[s].y,a=t.P.Rk(o,n,r);a!=o&&(e[s].y=a)}},e}()}(W||(W={})),function(t){var e,i,n=function(){function t(t){this.Za=t}return t.prototype.compare=function(t,e,i){t=t.ka(i),i=this.Za.nk(e);var n=this.Za.nk(t);return i<n?-1:i==n?o.iq(e)&&o.Hv(t)?-1:o.iq(t)&&o.Hv(e)?1:0:1},t}(),r=function(){function t(t){this.Za=t}return t.prototype.qr=function(t,e,i){this.Za.uX(i,t,e)},t.prototype.bq=function(t){return this.Za.nk(t)},t}();(i=e||(e={}))[i.initialize=0]="initialize",i[i.pIn=1]="pIn",i[i.pL=2]="pL",i[i.pR=3]="pR",i[i.pT=4]="pT",i[i.right=5]="right",i[i.left=6]="left",i[i.all=7]="all";var s=function(){function e(){this.Za=null,this.Ri=new t.Oc,this.ii=new t.ja(0),this.sg=[0,0]}return e.prototype.Yi=function(t,e){this.Ri.pa=t.pa-e,this.Ri.wa=t.wa+e,this.ii.resize(0),this.he=0,this.sg[0]=0},e.prototype.yB=function(e,i,n){if(e>i)throw t.i.O();this.Ri.pa=e-n,this.Ri.wa=i+n,this.ii.resize(0),this.he=0,this.sg[0]=0},e.prototype.Vo=function(t,e){this.Ri.pa=t-e,this.Ri.wa=t+e,this.ii.resize(0),this.he=0,this.sg[0]=0},e.prototype.next=function(){if(!this.Za.nq)throw t.i.Hb();if(0>this.he)return-1;for(var e=!0;e;)switch(this.sg[this.he]){case 1:e=this.vU();break;case 2:e=this.wU();break;case 3:e=this.xU();break;case 4:e=this.yU();break;case 5:e=this.vW();break;case 6:e=this.aT();break;case 7:e=this.lN();break;case 0:e=this.Bz();break;default:throw t.i.Ra()}return-1!=this.Pg?this.Op()>>1:-1},e.construct=function(t){var i=new e;return i.Za=t,i.ii.Jb(20),i.he=-1,i},e.prototype.Bz=function(){return this.Pg=this.nH=this.Ni=this.Mc=-1,null!=this.Za.me&&0<this.Za.me.size?(this.sg[0]=1,this.Ni=this.Za.kf,!0):(this.he=-1,!1)},e.prototype.vU=function(){if(this.Mc=this.Ni,-1==this.Mc)return this.Pg=this.he=-1,!1;var t=this.Za.Pp(this.Mc);return this.Ri.wa<t?(t=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=t&&(this.fi=this.Za.ml(t),this.sg[++this.he]=6),!0):t<this.Ri.pa?(t=this.Za.mk(this.Mc),this.Ni=this.Za.lk(this.Mc),-1!=t&&(this.fi=this.Za.$r(t),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.nH=this.Mc,t=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=t&&(this.fi=this.Za.ml(t),this.sg[++this.he]=7),!0)},e.prototype.wU=function(){if(this.Mc=this.Ni,-1==this.Mc)return this.sg[this.he]=3,this.Ni=this.Za.lk(this.nH),!0;if(this.Za.Pp(this.Mc)<this.Ri.pa){var t=this.Za.mk(this.Mc);return this.Ni=this.Za.lk(this.Mc),-1!=t&&(this.fi=this.Za.$r(t),this.sg[++this.he]=5),!0}return t=this.Za.mk(this.Mc),this.Ni=this.Za.rj(this.Mc),-1!=t&&(this.fi=this.Za.ml(t),this.sg[++this.he]=7),-1!=(t=this.Za.lk(this.Mc))&&this.ii.add(t),!0},e.prototype.xU=function(){if(this.Mc=this.Ni,-1==this.Mc)return this.sg[this.he]=4,!0;if(this.Ri.wa<this.Za.Pp(this.Mc)){var t=this.Za.mk(this.Mc);return this.Ni=this.Za.rj(this.Mc),-1!=t&&(this.fi=this.Za.ml(t),this.sg[++this.he]=6),!0}return t=this.Za.mk(this.Mc),this.Ni=this.Za.lk(this.Mc),-1!=t&&(this.fi=this.Za.ml(t),this.sg[++this.he]=7),-1!=(t=this.Za.rj(this.Mc))&&this.ii.add(t),!0},e.prototype.yU=function(){if(0==this.ii.size)return this.Pg=this.he=-1,!1;this.Mc=this.ii.get(this.ii.size-1),this.ii.resize(this.ii.size-1);var t=this.Za.mk(this.Mc);return-1!=t&&(this.fi=this.Za.ml(t),this.sg[++this.he]=7),-1!=this.Za.rj(this.Mc)&&this.ii.add(this.Za.rj(this.Mc)),-1!=this.Za.lk(this.Mc)&&this.ii.add(this.Za.lk(this.Mc)),!0},e.prototype.aT=function(){return this.Pg=this.fi,-1!=this.Pg&&o.iq(this.Op())&&this.Za.nk(this.Op())<=this.Ri.wa?(this.fi=this.KF(),!1):(this.he--,!0)},e.prototype.vW=function(){return this.Pg=this.fi,-1!=this.Pg&&o.Hv(this.Op())&&this.Za.nk(this.Op())>=this.Ri.pa?(this.fi=this.HR(),!1):(this.he--,!0)},e.prototype.lN=function(){return this.Pg=this.fi,-1!=this.Pg&&o.iq(this.Op())?(this.fi=this.KF(),!1):(this.he--,!0)},e.prototype.KF=function(){return this.Za.Tf?this.Za.ag.lb(this.Pg):this.Za.Ui.lb(this.Pg)},e.prototype.HR=function(){return this.Za.Tf?this.Za.ag.xe(this.Pg):this.Za.Ui.xe(this.Pg)},e.prototype.Op=function(){return this.Za.Tf?this.Za.ag.ka(this.Pg):this.Za.Ui.getData(this.Pg)},e}();t.tY=s;var o=function(){function e(t){this.Cm=this.ai=this.ag=this.Ui=this.Mm=this.Fj=this.me=this.Gj=null,this.Tf=t,this.nq=this.Tv=!1}return e.prototype.mr=function(){this.Nk(!0)},e.prototype.Dr=function(e,i){if(!this.Tv)throw t.i.Hb();this.Gj.push(new t.Oc(e,i))},e.prototype.Hp=function(){if(!this.Tv)throw t.i.ga("invalid call");this.Tv=!1,this.nq=!0,this.Tf||(this.mS(),this.$v=this.Gj.length)},e.prototype.wj=function(e){if(!this.Tf||!this.nq)throw t.i.O("invalid call");if(-1==this.kf){var i=this.Gj.length;if(this.dA){var n=new t.ja(0);n.Jb(2*i),this.UI(n),this.ai.Jb(2*i),this.ai.resize(0),this.TI(n),this.Mm.resize(i,-1),this.Mm.Xj(-1,0,i),this.dA=!1}else this.Mm.Xj(-1,0,i);this.kf=this.Vu()}i=this.hG(e<<1,this.kf),n=this.ag.addElement(1+(e<<1),this.rz(i)),this.NJ(i,n),this.Mm.set(e,i),this.$v++},e.prototype.remove=function(e){if(!this.Tf||!this.nq)throw t.i.ga("invalid call");var i=this.Mm.get(e);if(-1==i)throw t.i.O("the interval does not exist in the interval tree");this.Mm.set(e,-1),this.$v--;var n=this.rz(i),r=this.ag.QR(n);this.ag.wd(this.nR(i),n),this.ag.wd(this.KR(i),n),0==(e=this.ag.size(n))&&(this.ag.EP(n),this.RJ(r,-1)),this.Fj.kd(i),n=this.MF(r);var s=this.rj(r),o=this.lk(r);for(i=0;!(0<e||r==this.kf||-1!=s&&-1!=o);)r==this.rj(n)?-1!=s?(this.Ok(n,s),this.Vj(s,n),this.Ok(r,-1)):-1!=o?(this.Ok(n,o),this.Vj(o,n),this.Qk(r,-1)):this.Ok(n,-1):-1!=s?(this.Qk(n,s),this.Vj(s,n),this.Ok(r,-1)):-1!=o?(this.Qk(n,o),this.Vj(o,n),this.Qk(r,-1)):this.Qk(n,-1),this.Vj(r,-1),i++,r=n,e=-1!=(n=this.mk(r))?this.ag.size(n):0,s=this.rj(r),o=this.lk(r),n=this.MF(r)},e.prototype.reset=function(){if(!this.Tf||!this.nq)throw t.i.O("invalid call");this.Nk(!1)},e.prototype.size=function(){return this.$v},e.prototype.getIterator=function(){return s.construct(this)},e.prototype.UI=function(t){for(var e=this.Gj.length,i=0;i<2*e;i++)t.add(i);this.vX(t,2*e)},e.prototype.TI=function(t){for(var e=NaN,i=0;i<t.size;i++){var n=t.get(i),r=this.nk(n);r!=e&&(this.ai.add(n),e=r)}},e.prototype.mS=function(){var e=this.Gj.length,i=new t.ja(0);i.Jb(2*e),this.UI(i),this.ai.Jb(2*e),this.ai.resize(0),this.TI(i),this.Fj.Ee(e),this.Ui.hn(2*e);var n=t.Zc.Ph(e);for(n.Xj(-1,0,e),this.kf=this.Vu(),e=0;e<i.size;e++){var r=i.get(e),s=n.get(r>>1);-1!=s?this.NJ(s,this.Ui.addElement(this.rz(s),r)):(s=this.hG(r,this.kf),n.set(r>>1,s))}},e.prototype.hG=function(e,i){var n=i,r=i,s=-1,o=0,a=this.ai.size-1,c=0,l=e>>1,u=NaN,h=NaN,d=!0,p=this.vR(l);for(l=this.sR(l);d;){o<a?(c=o+t.P.truncate((a-o)/2),-1==this.bz(n)&&this.xJ(n,this.ai.get(c),this.ai.get(c+1))):-1==this.bz(n)&&this.xJ(n,this.ai.get(o),this.ai.get(o));var f=this.Pp(n);if(l<f)-1!=i&&(i==n?(r=n,u=f,h=-1!=(i=this.rj(n))?this.Pp(i):NaN):h>f&&(f<u?this.Ok(r,n):this.Qk(r,n),this.Qk(n,i),this.Tf&&(this.Vj(n,r),this.Vj(i,n)),r=n,u=f,i=-1,h=NaN)),-1==(a=this.oR(n))&&(a=this.Vu(),this.RW(n,a)),n=a,a=c;else if(p>f)-1!=i&&(i==n?(r=n,u=f,h=-1!=(i=this.lk(n))?this.Pp(i):NaN):h<f&&(f<u?this.Ok(r,n):this.Qk(r,n),this.Ok(n,i),this.Tf&&(this.Vj(n,r),this.Vj(i,n)),r=n,u=f,i=-1,h=NaN)),-1==(o=this.LR(n))&&(o=this.Vu(),this.bX(n,o)),n=o,o=c+1;else{-1==(d=this.mk(n))&&(d=this.rP(n),this.RJ(n,d));var b=this.YM(d,e);s=this.pP(),this.eX(s,d),this.QW(s,b),n!=i&&(f<u?this.Ok(r,n):this.Qk(r,n),this.Tf&&this.Vj(n,r),-1!=i&&(h<f?this.Ok(n,i):this.Qk(n,i),this.Tf&&this.Vj(i,n))),d=!1}}return s},e.prototype.Vu=function(){return this.me.De()},e.prototype.rP=function(t){return this.Tf?this.ag.Qr(t):this.Ui.Qh(t)},e.prototype.pP=function(){return this.Fj.De()},e.prototype.Nk=function(e){e?(this.Tv=this.dA=!0,this.nq=!1,null==this.ai?this.ai=t.Zc.Ph(0):this.ai.resize(0),null==this.Gj?this.Gj=[]:this.Gj.length=0):this.dA=!1,this.Tf?null==this.Mm?(this.Mm=t.Zc.Ph(0),this.ag=new t.Yj,this.ag.Wo(new n(this))):this.ag.clear():null==this.Ui?this.Ui=new t.kp:this.Ui.clear(),null==this.me?(this.Fj=new t.ad(3),this.me=new t.ad(this.Tf?8:7)):(this.Fj.nj(!1),this.me.nj(!1)),this.kf=-1,this.$v=0},e.prototype.xJ=function(t,e,i){this.KW(t,e),this.LW(t,i)},e.prototype.Pp=function(t){var e=this.bz(t);return-1==e?NaN:(e=this.nk(e))==(t=this.nk(this.ZQ(t)))?e:.5*(e+t)},e.prototype.KW=function(t,e){this.me.T(t,0,e)},e.prototype.LW=function(t,e){this.me.T(t,1,e)},e.prototype.RW=function(t,e){this.me.T(t,3,e)},e.prototype.bX=function(t,e){this.me.T(t,4,e)},e.prototype.RJ=function(t,e){this.me.T(t,2,e)},e.prototype.Ok=function(t,e){this.me.T(t,5,e)},e.prototype.Qk=function(t,e){this.me.T(t,6,e)},e.prototype.Vj=function(t,e){this.me.T(t,7,e)},e.prototype.eX=function(t,e){this.Fj.T(t,0,e)},e.prototype.YM=function(t,e){return this.Tf?this.ag.addElement(e,t):this.Ui.addElement(t,e)},e.prototype.QW=function(t,e){this.Fj.T(t,1,e)},e.prototype.NJ=function(t,e){this.Fj.T(t,2,e)},e.prototype.ml=function(t){return this.Tf?this.ag.sc(t):this.Ui.sc(t)},e.prototype.$r=function(t){return this.Tf?this.ag.Gc(t):this.Ui.Gc(t)},e.iq=function(t){return 0==(1&t)},e.Hv=function(t){return 1==(1&t)},e.prototype.bz=function(t){return this.me.U(t,0)},e.prototype.ZQ=function(t){return this.me.U(t,1)},e.prototype.mk=function(t){return this.me.U(t,2)},e.prototype.oR=function(t){return this.me.U(t,3)},e.prototype.LR=function(t){return this.me.U(t,4)},e.prototype.rj=function(t){return this.me.U(t,5)},e.prototype.lk=function(t){return this.me.U(t,6)},e.prototype.MF=function(t){return this.me.U(t,7)},e.prototype.rz=function(t){return this.Fj.U(t,0)},e.prototype.nR=function(t){return this.Fj.U(t,1)},e.prototype.KR=function(t){return this.Fj.U(t,2)},e.prototype.vR=function(t){return this.Gj[t].pa},e.prototype.sR=function(t){return this.Gj[t].wa},e.prototype.vX=function(e,i){null==this.Cm&&(this.Cm=new t.Yt);var n=new r(this);this.Cm.sort(e,0,i,n)},e.prototype.uX=function(t,i,n){var r=this;t.Wd(i,n,(function(t,i){var n=r.nk(t),s=r.nk(i);return n<s||n==s&&e.iq(t)&&e.Hv(i)?-1:1}))},e.prototype.nk=function(t){var i=this.Gj[t>>1];return e.iq(t)?i.pa:i.wa},e}();t.ur=o}(W||(W={})),function(t){var e=function(){function e(e){if(null==e)throw t.i.ga("Invalid arguement");this.hf=e;var i=e.fR();i.ZR()?e.ef.AG()?this.mo=t.ti.PannableFold:this.mo=t.ti.Clip:this.mo=t.ti.DontClip,i.$R()?e.Zf.AG()?this.Sm=t.ti.PannableFold:this.Sm=t.ti.Clip:this.Sm=t.ti.DontClip,this.Dm=i.Lu,this.eH=i.Gy,e=this.hf.kH,this.TG=e.js(2147483648),this.Vv=e.js(1073741824)}return e.Ah=function(t,e,i){return e.xw.Ah(t,i)},e.St=function(t,e,i,n){return t.xw.St(e,i,n)},e.Rt=function(t,e,i,n){if(i=0>i?e.length:i,(t=t.xw.St(e,i,n))==i)return t;for(var r=e=0;r<i;r++){var s=n[r];s.isNaN()||(e<r&&n[e].N(s),e++)}for(;e<i;e++)n[e].Sc();return t},e.transform=function(i,n,r,s,o){if(i.isIdentity())return t.ta.cP(s,n,r),r;for(var a=[],c=0,l=0;l<r;){for(var u=Math.min(a.length,r-l),h=l,d=0;h<u;h++,d++)null==a[d]?a[d]=n[h].D():n[h].D(a[d]);var p=o?e.Rt(i,a,u,a):e.St(i,a,u,a);for(d=h=0;h<p;h++,d++)null==s[l]&&(s[l]=new t.Ta(n[l])),s[l].Db(a[d]);l+=u,c+=p}return c},e.prototype.St=function(e,i,n){if(this.hf.isIdentity())return e!=n&&t.ta.Tu(n,e,i),i;var r=this.hf.ef,s=this.hf.Zf,o=r.Tb(),a=s.Tb();if(0==o&&o===a){var c=r.Sp();return s=c/(s=s.Sp()),(c=new t.Ed).It(s,s),c.TX(e,i,n),i}if(c=t.P.Gu(Math.min(i,64)),3==o){var l=r.Ki;o=(r=l.fk()).Tb(),n!=e&&t.ta.Tu(n,e,i),t.Ab.al(l,n,i,!0),l.Rt(t.dm.forward,n,i),t.Ab.$k(l,n,i,!0)}if(3==o||3===a)throw t.i.ga("image: transform_in_place_");if(2==o)this.mo==t.ti.Clip?(n!=e&&t.ta.Tu(n,e,i),e=r.ol(),t.Ab.FS(e,r,n,i)):(n!=e&&t.ta.Tu(n,e,i),r.Xc()&&(o=r.Yd(0),l=r.Le(),t.Ab.sX(n,i,l,o),t.Ab.iF(n,i,r,0))),t.Ab.AL(r,n,i,c);else for(o=r.Yd(0),l=r.Le(),r=0;r<i;r++)t.Ab.tX(e[r],l,o,n[r]);for(t.Ab.yL(this.hf,n,i,c),e=0,(a=2==a)?e=s.Ai():isNaN(this.Dm)||(e=this.Dm),a&&this.Sm!=t.ti.Clip||t.Ab.iF(n,i,s.tc(),e),a&&(t.Ab.qG(n,i,s,this.Sm),t.Ab.zL(s,n,i,c)),e=i,r=0;r<i;++r)n[r].isNaN()&&e--;return e},e.prototype.Ah=function(e,i){if(this.hf.isIdentity()||e.B())return e;if(33==e.K())return this.OI(e);var n=this.hf.ef,r=this.hf.Zf,s=n.Tb(),o=r.Tb();if(0==s&&s==o)return i=n.Sp(),i/=r=r.Sp(),(r=new t.Ed).It(i,i),(e=t.ba.ig(e)).Pc(r),e;switch(e.K()){case 1607:case 1736:e=this.MI(e,i);break;case 550:e=this.WV(e,i);break;case 197:e=this.VV(e,i);break;default:throw t.i.ga("")}return e},e.prototype.OI=function(e){var i=e.D(),n=[];return n[0]=i,this.St(n,1,n),(e=new t.Ta(e)).Db(n[0]),e},e.prototype.MI=function(e,i){if(e.vm())throw t.i.ga("curves not supported");var n=e.K();if(1736==n)return this.XV(e,i);if(1607==n)return this.YV(e,i);throw t.i.ga("projectMultiPath")},e.prototype.XV=function(i,n){var r=this.hf.ef,s=this.hf.Zf,o=r.Tb(),a=s.Tb(),c=t.P.Gu(Math.min(i.I(),64)),l=t.Ea.ig(i);3==o&&(o=(r=(i=r.Ki).fk()).Tb(),l=i.al(l,!0),this.yp(i,t.dm.forward,l),l=i.$k(l,!0)),i=null,3==a&&(a=(s=(i=s.Ki).fk()).Tb());var u=2==o,h=2==a,d=h?s.tc():s,p=!h&&!this.Vv;a=!1;var f=l;if(u){if((f=t.Ab.LI(f,r,this.mo,n)).B())return f}else{if(l=new t.l,f.yc(l),o=r.Le(),l.G<o.G||l.H>o.H){var b=t.l.construct(l.v-1,o.G,l.C+1,o.H);if((f=t.si.Pu(f,b,r,NaN,0,n)).B())return f}l.S()>2*o.S()&&(f=t.Ab.Jp(f,-2*o.S(),2*o.S(),r,!0,0,!0,n))}l=this.eH,(o=!isNaN(l))&&(f=t.Zl.local().W(f,l,n)),b=h?s.kk():null;var y=NaN;u&&(y=r.Ai());var m=null!=s.Xr();if(this.TG)u&&(t.Ab.wr(r,y,f,c),o&&(u=r.ih(),l*=(y=r.tc().ih())/u)),t.Ab.vr(this.hf,f,p,c),o&&(u=r.tc().ih(),l*=(y=s.tc().ih())/u),r=f;else{var g=new t.Ua(f.description);g.vD(f),u&&(t.Ab.wr(r,y,g,c),o&&(u=r.ih(),l*=(y=r.tc().ih())/u)),t.Ab.vr(this.hf,g,p,c),o&&(u=r.tc().rm(),l*=(y=s.tc().rm())/u),p=NaN,h?(b=s.kk(),p=s.Ai()):isNaN(this.Dm)||(p=this.Dm),u=e.uv(r)|e.uv(s),y=10*d.Yd(0),this.Vv&&(u=3,y=0),r=t.Ab.MQ(f,r,g,d,p,n,u,y)}return m&&(r=t.Ab.PD(r,s,n)),h&&(a||(h=d.Le().S(),r.Ug(0,0).S()>=h-d.Yd(0)&&(d=b.getNorthPoleLocation(),h=b.getSouthPoleLocation(),f=b.getNorthPoleGeometry(),b=b.getSouthPoleGeometry(),p=0,f==t.Eg.PE_POLE_POINT&&d!=t.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(p=1),b==t.Eg.PE_POLE_POINT&&h!=t.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(p|=2),0!==p&&(a=!0))),r=t.Ab.Hz(r,s,this.Sm,n),o&&(r=t.Zl.local().W(r,l,n)),t.Ab.Jx(s,r,c)),r.B()||(a&&(r=t.$l.local().W(r,s,!1,n)),null!=i&&(r=i.$k(r,!1),this.yp(i,t.dm.reverse,r),r=i.al(r,!1))),r},e.uv=function(e){if(2!=e.Tb())return 0;var i=0,n=e.kk();e=n.getNorthPoleLocation();var r=n.getSouthPoleLocation(),s=n.getNorthPoleGeometry();return n=n.getSouthPoleGeometry(),s==t.Eg.PE_POLE_POINT&&e!=t.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(i=1),n==t.Eg.PE_POLE_POINT&&r!=t.Eg.PE_POLE_OUTSIDE_BOUNDARY&&(i|=2),i},e.prototype.YV=function(i,n){var r=this.hf.ef,s=this.hf.Zf,o=r.Tb(),a=s.Tb(),c=t.P.Gu(Math.min(i.I(),64)),l=t.Ua.ig(i);3==o&&(o=(r=(i=r.Ki).fk()).Tb(),l=i.al(l,!0),this.yp(i,t.dm.forward,l),l=i.$k(l,!0)),i=null,3==a&&(a=(s=(i=s.Ki).fk()).Tb());var u=2==o;o=(a=2==a)?s.tc():s;var h=!a&&!this.Vv;if(u){if((l=t.Ab.LI(l,r,this.mo,n)).B())return l}else{var d=new t.l;l.yc(d);var p=r.Le();if((d.G<p.G||d.H>p.H)&&(d=t.l.construct(d.v-1,p.G,d.C+1,p.H),(l=t.si.Pu(l,d,r,NaN,0,n)).B()))return l}var f=NaN;u&&(f=r.Ai()),d=null!=s.Xr(),p=this.eH;var b=!isNaN(p);if(b&&(l=t.Zl.local().W(l,p,n)),this.TG)u&&t.Ab.wr(r,f,l,c),b&&(u=r.ih(),p*=(f=r.tc().ih())/u),t.Ab.vr(this.hf,l,h,c),b&&(u=r.tc().ih(),p*=(f=s.tc().ih())/u),r=l;else{var y=new t.Ua(l.description);y.vD(l),u&&(t.Ab.wr(r,f,y,c),b&&(u=r.ih(),p*=(f=r.tc().ih())/u)),t.Ab.vr(this.hf,y,h,c),b&&(u=r.tc().ih(),p*=(f=s.tc().ih())/u),h=NaN,a?h=s.Ai():isNaN(this.Dm)||(h=this.Dm),u=e.uv(r)|e.uv(s),f=10*o.Yd(0),this.Vv&&(u=3,f=0),r=t.Ab.NQ(l,r,y,o,h,n,u,f)}return d&&(r=t.Ab.PD(r,s,n)),a&&(r=t.Ab.Hz(r,s,this.Sm,n),b&&(r=t.Zl.local().W(r,p,n)),t.Ab.Jx(s,r,c)),r.B()||null!=i&&(r=i.$k(r,!1),this.yp(i,t.dm.reverse,r),r=i.al(r,!1)),r},e.prototype.VV=function(e,i){var n=(e.da()+e.S())/400;return 0!=n?(n=t.Zl.local().W(e,n,i),n=this.MI(n,i),i=e.Ja(),n.dn(i)):(i=new t.Ta(e.Kp()),n=this.OI(i),i=e.Ja(),n.B()?i.Pa():(e.copyTo(i),e=n.D(),i.L(e.x,e.y,e.x,e.y))),i},e.prototype.WV=function(e,i){e=t.ba.ig(e);var n=this.hf.ef,r=this.hf.Zf,s=n.Tb(),o=r.Tb(),a=t.P.Gu(Math.min(e.I(),64));if(3==s){var c=n.Ki;s=(n=c.fk()).Tb(),e=c.$k(e,!0),this.yp(c,t.dm.forward,e),e=c.al(e,!0)}if(2==s){if(this.mo==t.ti.Clip?e=t.Wk.local().W(e,n.ol(),n,i):n.Xc()&&(s=new t.l,e.yc(s),n.Le().contains(s)||(this.mo==t.ti.PannableFold&&(e=t.Ab.mj(e,n)),t.Ab.Kt(e,n.Le(),n.Yd(0),!0),e=t.Ab.Gn(e,n,0,!0,0,i))),e.B())return e;t.Ab.wr(n,0,e,a)}else t.Ab.Kt(e,n.Le(),n.Yd(0),!0);return t.Ab.vr(this.hf,e,!1,a),n=0,s=!1,c=null,3==o&&(s=!0,o=(r=(c=r.Ki).fk()).Tb()),(o=2==o)?n=r.Ai():isNaN(this.Dm)||(n=this.Dm),o&&this.Sm!=t.ti.Clip||(e=t.Ab.Gn(e,r.tc(),n,!1,0,i)),o&&(e=t.Ab.Hz(e,r,this.Sm,i),t.Ab.Jx(r,e,a),e.B())||s&&(e=c.$k(e,!0),this.yp(c,t.dm.reverse,e),e=c.al(e,!0)),e},e.prototype.yp=function(e,i,n){var r=n.I();if(0!=r){for(var s=n.vb(0),o=t.P.lg(200,0),a=[],c=0;c<r;){var l=Math.min(100,r-c);s.Ww(2*c,2*l,o,2,!0);for(var u=0;u<l;++u)a[u]=t.h.construct(o[2*c],o[2*c+1]);e.Rt(i,a,l),c+=l}n.Qc(1993)}},e.Py=function(e,i,n){if(null==e||null==i||!i.Xc())throw t.i.ga("Invalid Arguement");if(e.B())return e;var r=e.K();return 197==r?(r=new t.Ea(e.description)).bd(e,!1):t.ba.zd(r)?(r=new t.Ua(e.description)).oc(e,!0):r=e,(r=t.Ab.mj(r,i)).B()?r:t.Ab.Gn(r,i,0,r!=e,0,n)},e.oj=function(i,n,r,s){if(null==i||null==n||!n.Xc())throw t.i.ga("Invalid Arguement");if(i.B())return i;var o=i.K();if(t.ba.Ic(o)){i=t.Ab.mj(i,n),o=new t.l,i.A(o);for(var a=t.ta.ny(n,o,!1),c=n.hh(),l=Math.floor((o.v-c.v)/c.S())*c.S()+c.v;l<o.C;)l>o.v+a&&l<o.C-a&&(i=t.Ab.lS(i,n,r,l)),l+=c.S()}else{if(197==o)return(o=new t.Ea(i.description)).bd(i,!1),e.oj(o,n,r,s);if(t.ba.zd(o))return(o=new t.Ua(i.description)).oc(i,!0),e.oj(o,n,r,s)}return e.Py(i,n,s)},e}();t.cu=e}(W||(W={})),function(t){var e=function(e){function i(i,n,r,s){var o=e.call(this)||this;return void 0===i?o.description=t.ee.og():void 0===r?o.description=i:(o.description=t.ee.og(),o.SB(i,n),o.Sl(r,s)),o}return Y(i,e),i.prototype.K=function(){return 322},i.prototype.Rb=function(){var t=this.sa-this.qa,e=this.oa-this.ma;return Math.sqrt(t*t+e*e)},i.prototype.Ci=function(t){var e=this.sa-this.qa,i=this.oa-this.ma;return Math.sqrt(e*e+i*i)<=t},i.prototype.Qn=function(){return!1},i.prototype.jg=function(){var e=new t.h;return e.vc(this.xc(),this.ac()),e},i.VO=function(t,e){return new i(t.x,t.y,e.x,e.y)},i.prototype.dn=function(e){e.Pa(),e.kg(this.description);var i=new t.l;this.A(i),e.Yo(i),i=1;for(var n=this.description.Ba;i<n;i++)for(var r=this.description.qd(i),s=t.ua.Wa(r);i<s;i++){var o=this.Ug(r,0);e.setInterval(r,0,o)}},i.prototype.A=function(t){t.L(this.sa,this.oa,this.qa,this.ma),t.normalize()},i.prototype.Ro=function(t){t.Pa(),t.$b(this.sa,this.oa,this.Pd(0,1,0)),t.$b(this.qa,this.ma,this.Pd(1,1,0))},i.prototype.Pc=function(e){if(e instanceof t.Ed){this.wc();var i=new t.h;i.x=this.sa,i.y=this.oa,e.Fh(i,i),this.sa=i.x,this.oa=i.y,i.x=this.qa,i.y=this.ma,e.Fh(i,i),this.qa=i.x,this.ma=i.y}else this.wc(),(i=new t.Od).x=this.sa,i.y=this.oa,i.z=this.Pd(0,1,0),i=e.gp(i),this.sa=i.x,this.oa=i.y,this.vn(0,1,0,i.z),i.x=this.qa,i.y=this.ma,i.z=this.Pd(1,1,0),i=e.gp(i),this.qa=i.x,this.ma=i.y,this.vn(1,1,0,i.z)},i.prototype.Ja=function(){return new i(this.description)},i.prototype.Rx=function(t,e){return(this.qa-t-(this.sa-t))*(this.ma-e+(this.oa-e))*.5},i.prototype.tx=function(t){return t*this.Rb()},i.prototype.FG=function(t){return t/this.Rb()},i.prototype.vF=function(e){return t.mc.jq(this.sa,this.qa,e)},i.prototype.YQ=function(e){return t.mc.jq(this.oa,this.ma,e)},i.prototype.el=function(e,i){var n=new t.hg;return this.bh(e,i,n),n.get()},i.prototype.bh=function(e,i,n){if(null==n)throw t.i.O();n.Pr(),(n=n.get()).kg(this.description);var r=new t.h;this.ic(e,r),n.SB(r.x,r.y),this.ic(i,r),n.Sl(r.x,r.y),r=1;for(var s=this.description.Ba;r<s;r++)for(var o=this.description.Fd(r),a=t.ua.Wa(o),c=0;c<a;c++){var l=this.Vc(e,o,c);n.RB(o,c,l),l=this.Vc(i,o,c),n.IB(o,c,l)}},i.prototype.Vc=function(e,i,n){if(0==i)return 0==n?this.ic(e).x:this.ic(e).y;switch(t.ua.gz(i)){case 0:return.5>e?this.xv(i,n):this.hv(i,n);case 1:var r=this.xv(i,n);return i=this.hv(i,n),t.mc.jq(r,i,e);case 2:throw t.i.ga("not implemented")}throw t.i.Ra()},i.prototype.fe=function(t,e){var i=this.qa-this.sa,n=this.ma-this.oa,r=i*i+n*n;return 0==r?.5:(t=((t.x-this.sa)*i+(t.y-this.oa)*n)/r,e||(0>t?t=0:1<t&&(t=1)),t)},i.prototype.fq=function(t,e,i,n){if(t){if(0==(t=this.ma-this.oa))return e==this.ma?-1:0;if(0>(e=(e-this.oa)/t)||1<e)return 0;null!=i&&(i[0]=this.vF(e))}else{if(0==(t=this.qa-this.sa))return e==this.qa?-1:0;if(0>(e=(e-this.sa)/t)||1<e)return 0;null!=i&&(i[0]=this.YQ(e))}return null!=n&&(n[0]=e),1},i.prototype.Me=function(t,e){var i=this.ma-this.oa;return 0==i?t==this.ma?e:NaN:(t=(t-this.oa)/i,e=this.vF(t),1==t&&(e=this.qa),e)},i.prototype.su=function(t,e,i){return 0<=this.sp(t.x,t.y,e,i)},i.prototype.wi=function(t,e,i){return 0<=this.sp(t,e,i,!0)},i.prototype.rs=function(t,e){return this.su(t,e,!1)},i.prototype.jI=function(){if(this.ma<this.oa||this.ma==this.oa&&this.qa<this.sa){var t=this.sa;this.sa=this.qa,this.qa=t,t=this.oa,this.oa=this.ma,this.ma=t,t=0;for(var e=this.description.Qq-2;t<e;t++){var i=this.la[t];this.la[t]=this.la[t+e],this.la[t+e]=i}}},i.prototype.vu=function(e,i){(i=t.h.construct(e,i)).sub(this.ac());var n=new t.h;return n.vc(this.xc(),this.ac()),(e=n.xi(i))>(i=8881784197001252e-31*(Math.abs(n.x*i.y)+Math.abs(n.y*i.x)))?-1:e<-i?1:0},i.prototype.sp=function(e,i,n,r){var s=this.sa,o=this.oa,a=e-s,c=i-o;if((a=Math.sqrt(a*a+c*c))<=Math.max(n,6661338147750939e-31*a))return r&&0==a?NaN:0;if(a=e-this.qa,c=i-this.ma,(a=Math.sqrt(a*a+c*c))<=Math.max(n,6661338147750939e-31*a))return r&&0==a?NaN:1;if(a=this.qa-this.sa,c=this.ma-this.oa,0<(r=Math.sqrt(a*a+c*c))){var l=1/r,u=e-s,h=i-o,d=u*(a*=l)+h*(c*=l),p=17763568394002505e-31*(Math.abs(u*a)+Math.abs(h*c)),f=a;if(a=-c,c=f,d<-(p=Math.max(n,p))||d>r+p)return NaN;if(Math.abs(u*a+h*c)<=Math.max(n,17763568394002505e-31*(Math.abs(u*a)+Math.abs(h*c)))&&(.5>=(a=t.P.Rk(d*l,0,1))?(c=this.sa+(this.qa-this.sa)*a,r=this.oa+(this.ma-this.oa)*a):(c=this.qa-(this.qa-this.sa)*(1-a),r=this.ma-(this.ma-this.oa)*(1-a)),t.h.Jy(c,r,e,i)<=n)){if(.5>a){if(t.h.Jy(c,r,s,o)<=n)return 0}else if(t.h.Jy(c,r,this.qa,this.ma)<=n)return 1;return a}}return NaN},i.prototype.Nb=function(t){return null!=t&&(t==this||t.constructor===this.constructor&&this.xM(t))},i.prototype.jD=function(e,i,n){var r=n?this.sa:this.qa;n=n?this.oa:this.ma;var s=new t.h;return s.x=e.qa-r,s.y=e.ma-n,!(i.Rh(s)>6661338147750939e-31*i.YC(s))||(s.x=e.sa-r,s.y=e.oa-n,i.Rh(s)<=6661338147750939e-31*i.YC(s))},i.prototype.iD=function(e){var i=new t.h;return i.x=this.qa-this.sa,i.y=this.ma-this.oa,!!this.jD(e,i,!1)&&(i.Uq(),!!this.jD(e,i,!0))},i.FM=function(t,e){var i=t.vu(e.sa,e.oa),n=t.vu(e.qa,e.ma);return!(0>i&&0>n||0<i&&0<n)&&(i=e.vu(t.sa,t.oa),n=e.vu(t.qa,t.ma),!(0>i&&0>n||0<i&&0<n)&&((i=t.Rb())>(n=e.Rb())?t.iD(e):e.iD(t)))},i.DM=function(e,i,n){var r=t.h.construct(NaN,NaN),s=e.qa-e.sa,o=e.ma-e.oa,a=i.qa-i.sa,c=i.ma-i.oa,l=a*o-s*c;if(0==l)return r;var u=8881784197001252e-31*(Math.abs(a*o)+Math.abs(s*c)),h=i.sa-e.sa,d=i.oa-e.oa,p=a*d-h*c,f=p/l,b=Math.abs(l);return f<-(a=(8881784197001252e-31*(Math.abs(a*d)+Math.abs(h*c))*b+u*Math.abs(p))/(l*l)+2220446049250313e-31*Math.abs(f))||f>1+a||(a=(c=s*d-h*o)/l)<-(s=(8881784197001252e-31*(Math.abs(s*d)+Math.abs(h*o))*b+u*Math.abs(c))/(l*l)+2220446049250313e-31*Math.abs(a))||a>1+s||(f=t.P.Rk(f,0,1),s=t.P.Rk(a,0,1),o=e.ic(f),l=i.ic(s),(u=new t.h).vc(o,l),u.length()>n&&(u.add(o,l),u.scale(.5),f=e.fe(u,!1),s=i.fe(u,!1),e=e.ic(f),i=i.ic(s),e.sub(i),e.length()>n)||r.na(f,s)),r},i.GM=function(t,e,n,r){var s=0;if((t.sa==e.sa&&t.oa==e.oa||t.sa==e.qa&&t.oa==e.ma)&&(s++,!r))return 1;if(t.qa==e.sa&&t.ma==e.oa||t.qa==e.qa&&t.ma==e.ma){if(2==++s)return 2;if(!r)return 1}return e.wi(t.sa,t.oa,n)||e.wi(t.qa,t.ma,n)||t.wi(e.sa,e.oa,n)||t.wi(e.qa,e.ma,n)?1:r&&0!=s||0==i.FM(t,e)?0:1},i.Xx=function(e,n,r,s,o,a){var c=0,l=e.sp(n.sa,n.oa,a,!1),u=e.sp(n.qa,n.ma,a,!1),h=n.sp(e.sa,e.oa,a,!1),d=n.sp(e.qa,e.ma,a,!1);return isNaN(l)||(null!=s&&(s[c]=l),null!=o&&(o[c]=0),null!=r&&(r[c]=t.h.construct(n.sa,n.oa)),c++),isNaN(u)||(null!=s&&(s[c]=u),null!=o&&(o[c]=1),null!=r&&(r[c]=t.h.construct(n.qa,n.ma)),c++),2==c||isNaN(h)||0==l&&0==h||0==u&&1==h||(null!=s&&(s[c]=0),null!=o&&(o[c]=h),null!=r&&(r[c]=t.h.construct(e.sa,e.oa)),c++),2==c||isNaN(d)||1==l&&0==d||1==u&&1==d||(null!=s&&(s[c]=1),null!=o&&(o[c]=d),null!=r&&(r[c]=t.h.construct(n.qa,n.ma)),c++),0<c?(2==c&&null!=s&&s[0]>s[1]&&(e=s[0],s[0]=s[1],s[1]=e,null!=o&&(s=o[0],o[0]=o[1],o[1]=s),null!=r&&(o=t.h.construct(r[0].x,r[0].y),r[0]=r[1],r[1]=o)),c):(c=i.DM(e,n,a),isNaN(c.x)?0:(null!=r&&(r[0]=e.ic(c.x)),null!=s&&(s[0]=c.x),null!=o&&(o[0]=c.y),1))},i.prototype.XF=function(){return 0},i.prototype.pp=function(){},i.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.oa.toString()+", "+this.qa.toString()+", "+this.ma.toString()+"]"},i}(t.KC);t.zb=e}(W||(W={})),function(t){var e=function(){function t(){this.Lm=[],this.za=-1}return t.prototype.Ma=function(){return this.za},t.prototype.next=function(){if(null!=this.Lm&&0!=this.Lm.length){this.za++;var t=this.Lm[0];return this.Lm=1>=this.Lm.length?[]:this.Lm.slice(1),t}return this.Lm=null},t.prototype.NX=function(t){this.Lm.push(t)},t.prototype.qe=function(){},t}();t.ZK=e}(W||(W={})),function(t){var e;(e=t.KL||(t.KL={}))[e.enumFillRuleOddEven=0]="enumFillRuleOddEven",e[e.enumFillRuleWinding=1]="enumFillRuleWinding";var i=function(e){function i(i,n){var r=e.call(this)||this;if(r.yf=!1,r.Gq=null,r.uq=0,r.tq=0,r.Bj=null,r.Ng=!1,r.nb=null,r.mb=null,r.Se=null,r.Mj=null,r.Td=null,r.vq=0,r.gb=0,r.zq=0,void 0===n)r.yf=i,r.Ng=!1,r.vq=0,r.uq=0,r.tq=0,r.xa=0,r.description=t.ee.og();else{if(null==n)throw t.i.O();r.yf=i,r.Ng=!1,r.vq=0,r.uq=0,r.tq=0,r.xa=0,r.description=n}return r.Bj=null,r.gb=0,r}return Y(i,e),i.prototype.vm=function(){return 0<this.vq},i.prototype.Wx=function(){this.wc(),null==this.Gq?this.Gq=new t.Ta(this.description):this.Gq.kg(this.description)},i.prototype.qx=function(e,i){var n=new t.h;n.x=e,n.y=i,this.Mt(n)},i.prototype.Mt=function(t){this.Wx(),this.Gq.Db(t),this.Ng=!0},i.prototype.nf=function(e){if(e.B())throw t.i.O();this.Ll(e.description),this.Wx(),e.copyTo(this.Gq),this.Ng=!0},i.prototype.Qx=function(){var e=1;this.Ng&&(this.Wx(),null==this.nb?(this.nb=t.Zc.Ph(2),this.nb.write(0,0),this.mb=t.Zc.Nr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.yf&&this.mb.write(this.mb.size-2,1),e++);var i=this.xa;this.nb.write(this.nb.size-1,this.xa+e),this.fm(i+e),this.mb.write(this.nb.size-1,0),this.Ng&&(this.Ht(i,this.Gq),this.Ng=!1)},i.prototype.zj=function(t,e){this.Qx(),this.Db(this.xa-1,t,e)},i.prototype.Di=function(t){this.Qx(),this.Db(this.xa-1,t)},i.prototype.lineTo=function(t){this.Qx(),this.Ht(this.xa-1,t)},i.prototype.sU=function(e){if(this.wc(),this.yf)throw t.i.Ra();var i=this.ea();if(e>i)throw t.i.Ra();if(this.ec(e)){if(null==this.mb)throw t.i.Ra();var n=this.xa,r=this.Ca(e),s=this.Wc(e);this.fm(this.xa+1),this.rc();for(var o=0,a=this.description.Ba;o<a;o++)if(null!=this.Aa[o]){var c=t.ua.Wa(this.description.Fd(o));this.Aa[o].Nn(c*s,this.Aa[o],c*r,c,!0,1,c*n)}for(;i>e;i--)n=this.nb.read(i),this.nb.write(i,n+1);this.mb.CE(e,1)}},i.prototype.Cp=function(){if(this.ux(),void 0===t){this.Ng=!1;var t=this.ea()-1}var e=this.mb.read(t);this.mb.write(t,1|e),null!=this.Se&&(t=this.Wc(t)-1,this.Se.write(t,1),this.Mj.write(t,-1))},i.prototype.ec=function(t){return 0!=(1&this.mb.read(t))},i.prototype.On=function(t){if(this.ec(t))return!0;var e=this.Ca(t);return!(e>(t=this.Wc(t)-1))&&(e=this.Oa(e),t=this.Oa(t),e.rb(t))},i.prototype.zv=function(t){return 0!=(2&this.mb.read(t))},i.prototype.oc=function(e,i){if(this.Ll(e.description),322!=e.K())throw t.i.Ra();var n=new t.Ta;(i||this.B())&&(e.Uo(n),this.nf(n)),e.Qo(n),this.lineTo(n)},i.prototype.vp=function(t){var e=0==this.xa;this.qx(t.v,t.G),this.zj(t.v,t.H),this.zj(t.C,t.H),this.zj(t.C,t.G),this.Cp(),this.Ng=!1,e&&this.Nf(256,!1)},i.prototype.bd=function(e,i){if(!e.B()){for(var n=0==this.xa,r=new t.Ta(this.description),s=0;4>s;s++)e.If(i?4-s-1:s,r),0==s?this.nf(r):this.lineTo(r);this.Cp(),this.Ng=!1,n&&!i&&this.Nf(256,!1)}},i.prototype.add=function(t,e){for(var i=0;i<t.ea();i++)this.addPath(t,i,!e)},i.prototype.addPath=function(t,e,i){this.wf(-1,t,e,i)},i.prototype.Zk=function(t,e){this.Cz(t,e)},i.prototype.Fr=function(e,i,n,r,s){if(s||0!=this.ea()||(s=!0),0>i&&(i=e.ea()-1),i>=e.ea()||0>n||0>r||r>e.sv(i))throw t.i.ga("index out of bounds");if(0!=r){var o=e.ec(i)&&n+r==e.sv(i);if(!o||1!=r){if(this.Ng=!1,this.Ll(e.description),n=e.Ca(i)+n+1,s&&(r++,n--),o&&r--,o=this.xa,this.fm(this.xa+r),this.rc(),s){if(0==r)return;this.nb.add(this.xa),s=e.mb.read(i),s&=-5,this.yf&&(s|=1),this.mb.write(this.mb.size-1,s),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.xa);s=0;for(var a=this.description.Ba;s<a;s++){var c=this.description.qd(s),l=t.ua.Wa(c),u=e.description.Qf(c);0>u||null==e.Aa[u]?this.Aa[s].Mn(l*o,t.ua.te(c),r*l,l*o):this.Aa[s].Nn(l*o,e.Aa[u],l*n,r*l,!0,l,l*o)}if(this.vm())throw t.i.Ra();if(e.zv(i))throw t.i.Ra();this.Qc(1993)}}},i.prototype.gJ=function(){for(var t=0,e=this.ea();t<e;t++)this.uW(t)},i.prototype.uW=function(e){if(this.rc(),e>=this.ea())throw t.i.O();var i=this.Ca(e),n=this.Ka(e);e=this.ec(e)?1:0;for(var r=0,s=this.description.Ba;r<s;r++)if(null!=this.Aa[r]){var o=t.ua.Wa(this.description.Fd(r));this.Aa[r].oi(o*(i+e),o*(n-e),o)}this.Qc(1993)},i.prototype.ar=function(e){this.rc();var i=this.ea();if(0>e&&(e=i-1),e>=i)throw t.i.O();for(var n=this.Ca(e),r=this.Ka(e),s=0,o=this.description.Ba;s<o;s++)if(null!=this.Aa[s]){var a=t.ua.Wa(this.description.Fd(s));this.Aa[s].Fn(a*n,a*r,a*this.xa)}for(n=e+1;n<=i;n++)s=this.nb.read(n),this.nb.write(n-1,s-r);if(null==this.mb)for(n=e+1;n<=i;n++)e=this.mb.read(n),this.mb.write(n-1,e);this.nb.resize(i),this.mb.resize(i),this.xa-=r,this.Qg-=r,this.Qc(1993)},i.prototype.wf=function(e,i,n,r){if(i==this)throw t.i.O();if(n>=i.ea())throw t.i.O();var s=this.ea();if(e>s)throw t.i.O();0>e&&(e=s),0>n&&(n=i.ea()-1),this.Ng=!1,this.Ll(i.description),i.rc();var o=i.Ca(n),a=i.Ka(n),c=this.xa,l=i.ec(n)&&!r?1:0;this.fm(this.xa+a),this.rc();for(var u=e<s?this.Ca(e):c,h=0,d=this.description.Ba;h<d;h++){var p=this.description.Fd(h),f=i.description.Qf(p),b=t.ua.Wa(p);0<=f&&null!=i.Aa[f]?(0!=l&&this.Aa[h].Nn(u*b,i.Aa[f],b*o,b,!0,b,b*c),this.Aa[h].Nn((u+l)*b,i.Aa[f],b*(o+l),b*(a-l),r,b,b*(c+l))):this.Aa[h].Mn(u*b,t.ua.te(p),b*a,b*c)}for(this.nb.add(c+a),r=s;r>=e+1;r--)o=this.nb.read(r-1),this.nb.write(r,o+a);for(i.zv(n),this.mb.add(0),r=s-1;r>=e+1;r--)s=this.mb.read(r),s&=-5,this.mb.write(r+1,s);s=i.BR().read(n),s&=-5,this.yf&&(s|=1),this.mb.write(e,s)},i.prototype.Cz=function(e,i){var n=-1,r=this.ea();if(n>r)throw t.i.O();0>n&&(n=r),this.Ng=!1;var s=this.xa;this.fm(this.xa+i),this.rc();var o=n<r?this.Ca(n):s;if(null!=e)this.Aa[0].Dz(2*o,e,0,i,!0,2*s);else{var a=t.ua.te(0);this.Aa[0].Mn(2*o,a,2*i,2*s)}e=1;for(var c=this.description.Ba;e<c;e++){a=this.description.qd(e);var l=t.ua.Wa(a);a=t.ua.te(a),this.Aa[e].Mn(o*l,a,l*i,l*s)}for(this.nb.add(this.xa),s=r;s>=n+1;s--)o=this.nb.read(s-1),this.nb.write(s,o+i);for(this.mb.add(0),s=r-1;s>=n+1;s--)i=this.mb.read(s),i&=-5,this.mb.write(s+1,i);this.yf&&this.mb.write(n,1)},i.prototype.iG=function(e,i,n){var r=-1;if(0>e&&(e=this.ea()),e>this.ea()||r>this.Ka(e)||n>i.length)throw t.i.ga("index out of bounds");if(0!=n){e==this.ea()&&(this.nb.add(this.xa),this.yf?this.mb.add(1):this.mb.add(0)),0>r&&(r=this.Ka(e)),this.rc();var s=this.xa;this.fm(this.xa+n),this.rc();for(var o=0,a=this.description.Ba;o<a;o++){var c=this.description.Fd(o),l=t.ua.Wa(c);this.Aa[o].Vt(l*(this.Ca(e)+r+n),(s-this.Ca(e)-r)*l,this.Aa[o],l*(this.Ca(e)+r),!0,l),0==o?this.Aa[o].oC(l*(this.Ca(e)+r),n,i,0,!0):this.Aa[o].Xj(t.ua.te(c),(this.Ca(e)+r)*l,n*l)}for(this.vm()&&(this.Se.Vt(this.Ca(e)+r+n,s-this.Ca(e)-r,this.Se,this.Ca(e)+r,!0,1),this.Mj.Vt(this.Ca(e)+r+n,s-this.Ca(e)-r,this.Mj,this.Ca(e)+r,!0,1),this.Se.Xj(1,this.Ca(e)+r,n),this.Mj.Xj(-1,this.Ca(e)+r,n)),e+=1,i=this.ea();e<=i;e++)this.nb.write(e,this.nb.read(e)+n)}},i.prototype.xf=function(e,i,n){var r=this.ea();if(0>e&&(e=this.ea()),e>=r||i>this.Ka(e))throw t.i.ga("index out of bounds");e==this.ea()&&(this.nb.add(this.xa),this.yf?this.mb.add(1):this.mb.add(0)),0>i&&(i=this.Ka(e));var s=this.xa;this.fm(this.xa+1),this.rc();var o=this.Ca(e);this.Aa[0].wj(2*(o+i),n,2*s),n=1;for(var a=this.description.Ba;n<a;n++){var c=this.description.Fd(n),l=t.ua.Wa(c);this.Aa[n].Mn(l*(o+i),t.ua.te(c),l,l*s)}for(e+=1;e<=r;e++)this.nb.write(e,this.nb.read(e)+1)},i.prototype.xB=function(e,i){var n=this.ea();if(0>e&&(e=n-1),e>=n||i>=this.Ka(e))throw t.i.ga("index out of bounds");this.rc();var r=this.Ca(e);0>i&&(i=this.Ka(e)-1),i=r+i,r=0;for(var s=this.description.Ba;r<s;r++)if(null!=this.Aa[r]){var o=t.ua.Wa(this.description.Fd(r));this.Aa[r].Fn(o*i,o,o*this.xa)}for(;n>=e+1;n--)i=this.nb.read(n),this.nb.write(n,i-1);this.xa--,this.Qg--,this.Qc(1993)},i.prototype.mE=function(e,i,n,r){if(e=this.Ca(e)+i,(n=this.Ca(n)+r)<e||0>e||n>this.I()-1)throw t.i.O();i=0,(r=this.Ha()).Wb(e);do{for(;r.Ia()&&(e=r.ia(),r.xb()!=n);)i+=e=e.Rb();if(r.xb()==n)break}while(r.ab());return i},i.prototype.YN=function(e,i,n){if(i=this.Ca(e)+i,n=this.Ca(e)+n,0>i||n>this.I()-1)throw t.i.O();var r=this.Ha();if(i>n){if(!this.ec(e))throw t.i.O("cannot iterate across an open path");r.DB()}var s=e=0;r.Wb(i);do{s+=e,e=r.ia().Rb()}while(r.xb()!=n);return s},i.prototype.mg=function(){return t.ri.im(this,null)},i.prototype.BS=function(e,i,n){for(var r=e;r<n-1;r++)if(this.ec(r))throw t.i.O("cannot interpolate across closed paths");if(1!=(r=this.description.Ba)){var s=this.mE(e,i,n,void 0);if(0!=s)for(var o=1;o<r;o++){var a=this.description.qd(o);if(2!=t.ua.gz(a))for(var c=t.ua.Wa(a),l=0;l<c;l++)this.DS(a,e,i,n,s,l)}}},i.prototype.AS=function(e,i,n){var r=this.description.Ba;if(1!=r){var s=this.YN(e,i,n);if(0!=s)for(var o=1;o<r;o++){var a=this.description.qd(o);if(2!=t.ua.gz(a))for(var c=t.ua.Wa(a),l=0;l<c;l++)this.CS(a,e,i,n,s,l)}}},i.prototype.DS=function(e,i,n,r,s,o){var a=this.Ha(),c=this.Ca(i)+n;r=this.Ca(r)+void 0,i=this.Vc(e,c,o),n=this.Vc(e,r,o);var l=i,u=0;a.Wb(c);do{if(a.Ia()){if(a.ia(),a.xb()==r)break;this.setAttribute(e,a.xb(),o,l),a.mi();do{if(c=a.ia(),a.ik()==r)return;u+=c=c.Rb(),l=t.mc.jq(i,n,u/s),a.Pn()||this.setAttribute(e,a.ik(),o,l)}while(a.Ia())}}while(a.ab())},i.prototype.CS=function(e,i,n,r,s,o){var a=this.Ha(),c=this.Ca(i)+n;if((i=this.Ca(i)+r)!=c){r=this.Vc(e,c,o),n=this.Vc(e,i,o);var l=0;a.Wb(c),a.DB(),c=r;do{var u=a.ia();this.setAttribute(e,a.xb(),o,c),l+=c=u.Rb(),c=t.mc.jq(r,n,l/s)}while(a.ik()!=i)}},i.prototype.Pa=function(){this.vq=0,this.Ng=!1,this.Td=this.Se=this.Mj=this.mb=this.nb=null,this.oD()},i.prototype.Pc=function(e){e instanceof t.Ed?this.QD(e,-1):this.oN(e)},i.prototype.QD=function(e,i){if(!this.B()&&!e.isIdentity()){this.rc();var n=this.Aa[0],r=new t.h,s=new t.h;if(0>i){var o=this.vm(),a=0;i=this.xa}else o=this.zv(i),a=this.Ca(i),i=this.Wc(i);for(;a<i;a++){if(r.x=n.read(2*a),r.y=n.read(2*a+1),o){var c=this.Mj.read(a);if(0<=c)switch(7&this.Se.read(a)){case 2:s.x=this.Td.read(c),s.y=this.Td.read(c+1),e.Fh(s,s),this.Td.write(c,s.x),this.Td.write(c+1,s.y),s.x=this.Td.read(c+3),s.y=this.Td.read(c+4),e.Fh(s,s),this.Td.write(c+3,s.x),this.Td.write(c+4,s.y);break;case 4:throw t.i.Ra()}}e.Fh(r,r),n.write(2*a,r.x),n.write(2*a+1,r.y)}this.Qc(1993)}},i.prototype.oN=function(e){if(!this.B()){this.se(1),this.rc();for(var i=this.Aa[0],n=this.Aa[1],r=new t.Od,s=new t.Od,o=this.vm(),a=0;a<this.xa;a++){if(r.x=i.read(2*a),r.y=i.read(2*a+1),r.z=n.read(a),o){var c=this.Mj.read(a);if(0<=c)switch(7&this.Se.read(a)){case 2:s.x=this.Td.read(c),s.y=this.Td.read(c+1),s.z=this.Td.read(c+2),s=e.gp(s),this.Td.write(c,s.x),this.Td.write(c+1,s.y),this.Td.write(c+1,s.z),s.x=this.Td.read(c+3),s.y=this.Td.read(c+4),s.z=this.Td.read(c+5),s=e.gp(s),this.Td.write(c+3,s.x),this.Td.write(c+4,s.y),this.Td.write(c+5,s.z);break;case 4:throw t.i.Ra()}}r=e.gp(r),i.write(2*a,r.x),i.write(2*a+1,r.y),n.write(a,r.z)}this.Qc(1993)}},i.prototype.dy=function(){null==this.nb&&(this.nb=t.Zc.Ph(1,0),this.mb=t.Zc.Nr(1,0)),null!=this.Se&&(this.Se.resize(this.Qg,1),this.Mj.resize(this.Qg,-1))},i.prototype.pp=function(e){e.Ng=!1,e.vq=this.vq,e.zq=this.zq,e.nb=null!=this.nb?t.ja.Cn(this.nb):null,e.mb=null!=this.mb?t.rn.Cn(this.mb):null,e.Mj=null!=this.Mj?t.ja.Cn(this.Mj):null,e.Se=null!=this.Se?t.rn.Cn(this.Se):null,e.Td=null!=this.Td?t.ce.Cn(this.Td):null,e.uq=this.uq,e.tq=this.tq,e.Bj=this.ak(1024)?null:this.Bj},i.prototype.Rb=function(){if(!this.ak(512))return this.uq;for(var e=this.Ha(),i=new t.Dx(0);e.ab();)for(;e.Ia();)i.add(e.ia().Rb());return this.uq=i.tm(),this.Nf(512,!1),i.tm()},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i&&e.prototype.Nb.call(this,t)))return!1;var n=this.ea();return!(n!=t.ea()||null!=this.nb&&!this.nb.Nb(t.nb,0,n+1)||this.zq!=t.zq||null!=this.mb&&!this.mb.Nb(t.mb,0,n))&&e.prototype.Nb.call(this,t)},i.prototype.Ha=function(){return new t.QL(this)},i.prototype.cy=function(t){if(e.prototype.cy.call(this,t),this.vm())for(t=this.Ha();t.ab();)t.Ia()},i.prototype.Ap=function(t,i){if(e.prototype.Ap.call(this,t,i),this.vm())for(t=this.Ha();t.ab();)t.Ia()},i.prototype.Yx=function(){this.xa=null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)},i.prototype.He=function(){return this.yf?(this.yu(),this.tq):0},i.prototype.Fv=function(t){return!!this.yf&&(this.ak(8)?(this.yu(),0<this.Bj.read(t)):0!=(4&this.mb.read(t)))},i.prototype.Kr=function(t){return this.yf?(this.yu(),this.Bj.read(t)):0},i.prototype.yu=function(){if(this.ak(1024)){var e=this.ea();null==this.Bj?this.Bj=new t.ce(e):this.Bj.size!=e&&this.Bj.resize(e),e=new t.Dx(0);for(var i=new t.Dx(0),n=new t.h,r=0,s=this.Ha();s.ab();){for(i.reset(),this.D(this.Ca(s.gb),n);s.Ia();)i.add(s.ia().Rx(n.x,n.y));e.add(i.tm());var o=r++;this.Bj.write(o,i.tm())}this.tq=e.tm(),this.Nf(1024,!1)}},i.prototype.xR=function(){if(this.yf){this.hm();for(var t=this.ea(),e=0;e<t;e++)this.mb.read(e)}},i.prototype.hm=function(){if(this.ak(8)){this.yu();var e=this.ea();(null==this.mb||this.mb.size<e)&&(this.mb=t.Zc.Nr(e+1));for(var i=1,n=0;n<e;n++){var r=this.Bj.read(n);0==n&&(i=0<r?1:-1),0<r*i?this.mb.rJ(n,4):this.mb.CE(n,4)}this.Nf(8,!1)}},i.prototype.nz=function(e){var i=this.gb,n=this.ea();if(0<=i&&i<n){if(e<this.Wc(i)){if(e>=this.Ca(i))return i;i--}else i++;if(0<=i&&i<n&&e>=this.Ca(i)&&e<this.Wc(i))return this.gb=i}if(5>n){for(i=0;i<n;i++)if(e<this.Wc(i))return this.gb=i;throw t.i.ga("corrupted geometry")}for(i=0,--n;n>i;){var r=i+(n-i>>1);if(e<this.Ca(r))n=r-1;else{if(!(e>=(i=this.Wc(r))))return this.gb=r;i=r+1}}return this.gb=i},i.prototype.sz=function(){var t=this.I();if(!this.yf){t-=this.ea();for(var e=0,i=this.ea();e<i;e++)this.ec(e)&&t++}return t},i.prototype.sv=function(t){var e=this.Ka(t);return this.ec(t)||e--,e},i.prototype.Ja=function(){return new i(this.yf,this.description)},i.prototype.Eb=function(){return this.yf?2:1},i.prototype.K=function(){return this.yf?1736:1607},i.prototype.IJ=function(t){this.nb=t,this.Qc(16777215)},i.prototype.MR=function(){return this.ux(),this.Se},i.prototype.BR=function(){return this.ux(),this.mb},i.prototype.HJ=function(t){this.mb=t,this.Qc(16777215)},i.prototype.ea=function(){return null!=this.nb?this.nb.size-1:0},i.prototype.Wc=function(t){return this.nb.read(t+1)},i.prototype.Ka=function(t){return this.nb.read(t+1)-this.nb.read(t)},i.prototype.Ca=function(t){return this.nb.read(t)},i.prototype.mu=function(e,i){null==this.Cb&&(this.Cb=new t.Uk),i=t.Lx.fW(i);var n=this.Cb.Fk;if(null!=n){if(!(n.Ik<e||i>n.IR()))return!0;this.Cb.qD(null)}return n=t.Lx.create(this,e,i),this.Cb.qD(n),!0},i.prototype.dc=function(){var t=e.prototype.dc.call(this);if(!this.Bc()){var i=this.ea();null!=this.nb&&this.nb.Bn(t,0,i+1),null!=this.mb&&this.mb.Bn(t,0,i)}return t},i.prototype.RF=function(t){return null!=this.Se?this.Se.read(t):1},i.prototype.cc=function(e,i,n){var r=this.nz(e);if(e==this.Wc(r)-1&&!this.ec(r))throw t.i.ga("index out of bounds");this.rc();var s=this.Se,o=1;if(null!=s&&(o=7&s.read(e)),1!==o)throw t.i.Ra();if(i.Pr(),i=i.get(),n?i.kg(t.ee.og()):i.kg(this.description),r=e==this.Wc(r)-1&&this.ec(r)?this.Ca(r):e+1,s=new t.h,this.D(e,s),i.Ec(s),this.D(r,s),i.Rc(s),!n)for(n=1,s=this.description.Ba;n<s;n++){o=this.description.Fd(n);for(var a=t.ua.Wa(o),c=0;c<a;c++){var l=this.Vc(o,e,c);i.RB(o,c,l),l=this.Vc(o,r,c),i.IB(o,c,l)}}},i.prototype.Sj=function(e,i){if(e>=this.ea())throw t.i.O();if(this.B())i.Pa();else{if(this.zv(e))throw t.i.ga("not implemented");var n=this.vb(0),r=new t.h,s=new t.l;s.Pa();var o=this.Ca(e);for(e=this.Wc(e);o<e;o++)n.uc(2*o,r),s.$b(r);i.L(s)}},i.prototype.gj=function(e){return null==this.Cb&&(this.Cb=new t.Uk),!(0==e||16>this.I())&&(e=t.ta.fE(this),this.Cb.OM(e),!0)},i.prototype.$L=function(){if(null==this.Cb&&(this.Cb=new t.Uk),null==this.Cb.Ao){this.Cb.pD(null);var e=t.ta.QN(this);this.Cb.pD(e)}},i.prototype.Zo=function(t){this.zq=t},i.prototype.Jn=function(){return this.zq},i.prototype.vD=function(e){if(this==e)throw t.i.ga("MultiPathImpl.add");for(var i=this.ea(),n=0;n<e.ea();n++)this.addPath(e,n,!0),this.sU(i),i++},i.prototype.cO=function(e){var i=this.nz(e),n=this.Ca(i);if(n!=e){if(e>=(i=this.Wc(i))||e<n)throw t.i.ga("change_ring_start_point");for(var r=0,s=this.description.Ba;r<s;r++){var o=this.description.qd(r);o=t.ua.Wa(o),this.Aa[r].rotate(n*o,e*o,i*o)}}},i}(t.Ex);t.Vk=i}(W||(W={})),function(t){var e=function(e){function i(i){var n=e.call(this)||this;if(void 0!==i){if(null==i)throw t.i.O();n.description=i}else n.description=t.ee.og();return n.xa=0,n}return Y(i,e),i.prototype.Ja=function(){return new i(this.description)},i.prototype.add=function(t){this.resize(this.xa+1),this.Eh(this.xa-1,t)},i.prototype.Cu=function(e,i){this.resize(this.xa+1);var n=new t.h;n.na(e,i),this.Db(this.xa-1,n)},i.prototype.Gd=function(e,i,n){if(n=0>n?e.I():n,0>i||i>e.I()||n<i)throw t.i.O();if(i!=n){this.Ll(e.description),n-=i;var r=this.xa;this.resize(this.xa+n),this.rc();for(var s=0,o=e.description.Ba;s<o;s++){var a=e.description.Fd(s),c=t.ua.Wa(a),l=this.vb(a);a=e.vb(a),l.Nn(r*c,a,i*c,n*c,!0,1,r*c)}}},i.prototype.zD=function(e,i){var n=e.length;if(i=0>i?n:i,0>n||0>i)throw t.i.O();if(0!=i){n=i-0,i=this.xa,this.resize(this.xa+n);for(var r=0;r<n;r++)this.Db(i+r,e[0+r])}},i.prototype.xB=function(e){if(0>e||e>=this.I())throw t.i.ga("index out of bounds");this.rc();for(var i=0,n=this.description.Ba;i<n;i++)if(null!=this.Aa[i]){var r=t.ua.Wa(this.description.Fd(i));this.Aa[i].Fn(r*e,r,r*this.xa)}this.xa--,this.Qg--,this.Qc(1993)},i.prototype.resize=function(t){this.fm(t)},i.prototype.pp=function(){},i.prototype.Pa=function(){e.prototype.oD.call(this)},i.prototype.Pc=function(e){if(e instanceof t.Ed){if(this.B())return;this.rc();for(var i=this.Aa[0],n=new t.h,r=0;r<this.xa;r++)n.x=i.read(2*r),n.y=i.read(2*r+1),e.Fh(n,n),i.write(2*r,n.x),i.write(2*r+1,n.y)}else{if(this.B())return;this.rc(),this.se(1),this.rc(),i=this.Aa[0],n=this.Aa[1];var s=new t.Od;for(r=0;r<this.xa;r++){s.x=i.read(2*r),s.y=i.read(2*r+1),s.z=n.read(r);var o=e.gp(s);i.write(2*r,o.x),i.write(2*r+1,o.y),n.write(r,o.z)}}this.Qc(1993)},i.prototype.Eb=function(){return 0},i.prototype.K=function(){return 550},i.prototype.He=function(){return 0},i.prototype.Rb=function(){return 0},i.prototype.Nb=function(t){return t==this||t instanceof i&&e.prototype.Nb.call(this,t)},i.prototype.bW=function(e,i){var n=this.xa;if(n=Math.min(n,i+1e3),0>i||i>=this.xa||n<i||1e3!=e.length)throw t.i.O();var r=n-i,s=[];for(this.vb(0).Ww(2*i,2*r,s,0,!0),i=0;i<r;i++)e[i]=t.h.construct(s[2*i],s[2*i+1]);return n},i.prototype.Yx=function(){},i.prototype.dy=function(){},i.prototype.mu=function(){return!1},i.prototype.gj=function(){return!1},i.prototype.mg=function(){return null},i}(t.Ex);t.de=e}(W||(W={})),function(t){var e;(e=t.aL||(t.aL={}))[e.NotDetermined=0]="NotDetermined",e[e.Structure=1]="Structure",e[e.DegenerateSegments=2]="DegenerateSegments",e[e.Clustering=3]="Clustering",e[e.Cracking=4]="Cracking",e[e.CrossOver=5]="CrossOver",e[e.RingOrientation=6]="RingOrientation",e[e.RingOrder=7]="RingOrder",e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",e[e.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var i=function(){function t(t,e,i){void 0===t?(this.Kj=0,this.Lo=this.Ko=-1):(this.Kj=t,this.Ko=e,this.Lo=i)}return t.prototype.Xt=function(t){this.Kj=t.Kj,this.Ko=t.Ko,this.Lo=t.Lo},t}();t.Nd=i}(W||(W={})),function(t){t.P=function(){function e(){}return e.assert=function(e){if(!1===e)throw t.i.yK()},e.UJ=function(t){return isNaN(t)?NaN:0===t?t:0<t?1:-1},e.Gu=function(t){var i;void 0===i&&(i=0);for(var n=[],r=0;r<t;r++)n[r]=e.lg(2,i);return n},e.lg=function(t,e){void 0===e&&(e=0);for(var i=[],n=0;n<t;n++)i[n]=e;return i},e.av=function(t,e){var i,n;for(void 0===i&&(i=0),void 0===n&&(n=t.length-1);i<=n;i++)t[i]=e},e.Rk=function(t,e,i){return t<e?e:t>i?i:t},e.Uh=function(t,e){var i=5381;return((i=((i=((i=void 0!==e?(e<<5)+e+(255&t):(i<<5)+i+(255&t))<<5)+i+(t>>8&255))<<5)+i+(t>>16&255))<<5)+i+(t>>24&255)&2147483647},e.vj=function(){throw Error("Not Implemented")},e.WA=function(t){return e.RT(t)+12345&2147483647},e.OG=function(t){var i=32,n=t%e.Ox|0,r=t/e.Ox|0;return 0==(i&=63)?t:(32>i?(t=n>>>i|r<<32-i,i=r>>i):(t=r>>i-32,i=0<=r?0:-1),i*e.Ox+(t>>>0))},e.RT=function(t){var e=1103515245,i=65535&e;return((e-i)*(t|=0)|0)+(i*t|0)|0},e.truncate=function(t){return 0>t?-1*Math.floor(Math.abs(t)):Math.floor(t)},e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e.MIN_SAFE_INTEGER=-e.MAX_SAFE_INTEGER,e.NC=65536,e.Ox=e.NC*e.NC,e}()}(W||(W={})),function(t){var e;(e=t.uL||(t.uL={}))[e.Project=0]="Project",e[e.Union=1]="Union",e[e.Difference=2]="Difference",e[e.Proximity2D=3]="Proximity2D",e[e.Relate=4]="Relate",e[e.Equals=5]="Equals",e[e.Disjoint=6]="Disjoint",e[e.Intersects=7]="Intersects",e[e.Within=8]="Within",e[e.Contains=9]="Contains",e[e.Crosses=10]="Crosses",e[e.Touches=11]="Touches",e[e.Overlaps=12]="Overlaps",e[e.Buffer=13]="Buffer",e[e.Distance=14]="Distance",e[e.Intersection=15]="Intersection",e[e.Clip=16]="Clip",e[e.Cut=17]="Cut",e[e.DensifyByLength=18]="DensifyByLength",e[e.DensifyByAngle=19]="DensifyByAngle",e[e.LabelPoint=20]="LabelPoint",e[e.GeodesicBuffer=21]="GeodesicBuffer",e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",e[e.ShapePreservingDensify=23]="ShapePreservingDensify",e[e.GeodeticLength=24]="GeodeticLength",e[e.GeodeticArea=25]="GeodeticArea",e[e.Simplify=26]="Simplify",e[e.SimplifyOGC=27]="SimplifyOGC",e[e.Offset=28]="Offset",e[e.Generalize=29]="Generalize",e[e.SymmetricDifference=30]="SymmetricDifference",e[e.ConvexHull=31]="ConvexHull",e[e.Boundary=32]="Boundary",e[e.SimpleRelation=33]="SimpleRelation";var i=function(){function t(){}return t.prototype.K=function(){return null},t.prototype.xn=function(){},t.prototype.Ju=function(){return!1},t}();t.Ge=i}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 13},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r,s){return e instanceof t.ba?(s=new t.$c(e),this.W(s,i,[n],!1,r).next()):!0===r?(n=new t.tC(e,i,n,!1,s),t.Hh.local().W(n,i,s)):new t.tC(e,i,n,!1,s)},i.instance=null,i}(t.Ge);t.sC=e}(W||(W={})),function(t){var e=function(){function e(e,i,n,r,s){this.za=-1,this.Sd=e,this.Vz=i,this.Ds=n,this.iT=new t.l,this.iT.Pa(),this.fo=-1,this.Vb=s}return e.prototype.next=function(){for(var t;null!=(t=this.Sd.next());)return this.za=this.Sd.Ma(),this.fo+1<this.Ds.length&&this.fo++,this.buffer(t,this.Ds[this.fo]);return null},e.prototype.Ma=function(){return this.za},e.prototype.buffer=function(e,i){return t.zK.buffer(e,i,this.Vz,NaN,96,this.Vb)},e.prototype.qe=function(){},e}();t.tC=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 16},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r){return e instanceof t.ba?(e=new t.$c(e),this.W(e,i,n,r).next()):new t.dL(e,i,n,r)},i.instance=null,i}(t.Ge);t.cL=e}(W||(W={})),function(t){var e=function(){function e(e,i,n){if(this.za=-1,null==e)throw t.i.O();this.aa=i,this.yk=e,this.ra=t.ta.Xd(n,i,!1)}return e.prototype.next=function(){var e;return null!=(e=this.yk.next())?(this.za=this.yk.Ma(),t.Vd.clip(e,this.aa,this.ra,0)):null},e.prototype.Ma=function(){return this.za},e.prototype.qe=function(){},e}();t.dL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 31},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n){return e instanceof t.ba?t.vC.jE(e):new t.vC(i,e,n)},i.instance=null,i}(t.Ge);t.uC=e}(W||(W={})),function(t){var e=function(){function e(e,i,n){if(this.oA=new t.$t,this.za=-1,null==i)throw t.i.O();this.VG=e,this.Jc=!1,this.yk=i,this.Vb=n}return e.prototype.next=function(){if(this.VG){if(!this.Jc){var t=this.WN(this.yk);return this.Jc=!0,t}return null}if(!this.Jc){if(null!=(t=this.yk.next()))return this.za=this.yk.Ma(),e.jE(t);this.Jc=!0}return null},e.prototype.Ma=function(){return this.za},e.prototype.WN=function(t){for(var e;null!=(e=t.next());)this.oA.Ib(e);return this.oA.VQ()},e.prototype.qe=function(){if(!this.Jc){if(!this.VG)throw t.i.ga("Invalid call for non merging convex hull.");var e=this.yk.next();if(null==e)throw t.i.ga("Expects a non-null geometry.");this.oA.Ib(e)}},e.jE=function(i){if(e.LS(i))return i;var n=i.K();if(t.Vk.zd(n))return(n=new t.Ua(i.description)).oc(i,!0),n;if(550==n&&2==i.I()){var r=new t.Ta;return n=new t.Ua(i.description),i.we(0,r),n.nf(r),i.we(1,r),n.lineTo(r),n}return t.$t.JO(i)},e.LS=function(e){if(e.B())return!0;var i=e.K();return 33==i||197==i||!t.Vk.zd(i)&&(550==i?1==e.I():1607==i?1==e.ea()&&2>=e.I():1==e.ea()&&(2>=e.I()||t.$t.BG(e,0)))},e}();t.vC=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 17},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r,s){return new t.fL(e,i,n,r,s)},i.instance=null,i}(t.Ge);t.eL=e}(W||(W={})),function(t){var e=function(){function e(e,i,n,r,s){if(this.Uf=null,null==i||null==n)throw t.i.ga("invalid argument");this.fT=e,this.hA=i,this.dH=n,e=t.ta.nv(i,n),this.ra=t.ta.Xd(r,e,!0),this.cH=-1,this.nd=s}return e.prototype.Ma=function(){return 0},e.prototype.next=function(){return this.JQ(),++this.cH<this.Uf.length?this.Uf[this.cH]:null},e.prototype.JQ=function(){if(null==this.Uf)switch(this.Uf=[],this.hA.K()){case 1607:this.LQ();break;case 1736:this.KQ()}},e.prototype.LQ=function(){var e=new t.Ua,i=new t.Ua,n=new t.Ua;this.Uf.push(e),this.Uf.push(i);var r=[];t.DK.BK(this.fT,this.hA,this.dH,this.ra,r,this.nd);for(var s=0;s<r.length;s++){var o=r[s];if(0==o.bt)e.add(o.Y,!1);else if(1==o.bt||2==o.bt)i.add(o.Y,!1);else if(3==o.bt)this.Uf.push(o.Y);else{if(4!=o.bt)throw t.i.ga("internal");n.add(o.Y,!1)}}n.B()||e.B()&&i.B()&&!(3<=this.Uf.length)||this.Uf.push(n),e.B()&&i.B()&&3>this.Uf.length&&(this.Uf.length=0)},e.prototype.KQ=function(){var e=new t.ja(0),i=new t.hd,n=i.TE(),r=i.Ib(this.hA),s=i.Ib(this.dH),o=new t.Hg;try{o.Ft(i,this.ra,this.nd),o.el(n,r,s,e);var a=i.Ke(r),c=new t.Ea,l=new t.Ea;for(this.Uf.length=0,this.Uf.push(c),this.Uf.push(l),r=0;r<e.size;r++){var u=new t.hd,h=u.Ib(a),d=u.Ib(i.Ke(e.get(r)));o.fr(u,this.nd);var p=o.Bv(h,d),f=u.Ke(p);if(!f.B()){var b=i.CF(e.get(r),n);2==b?c.add(f,!1):1==b?l.add(f,!1):this.Uf.push(f);var y=new t.hd;h=y.Ib(a),d=y.Ib(i.Ke(e.get(r))),o.fr(y,this.nd),a=y.Ke(o.km(h,d))}}!a.B()&&0<e.size&&this.Uf.push(a),c.B()&&l.B()&&(this.Uf.length=0)}finally{o.Vg()}},e.prototype.qe=function(){},e}();t.fL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 18},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n){if(e instanceof t.ba)return e=new t.$c(e),this.W(e,i,n).next();if(0>=i)throw t.i.O();return new t.gL(e,i,n)},i.instance=null,i}(t.Ge);t.Zl=e}(W||(W={})),function(t){var e=function(){function e(t,e){this.za=-1,this.Sd=t,this.Qs=e}return e.prototype.Ma=function(){return this.za},e.prototype.next=function(){var t;return null!=(t=this.Sd.next())?(this.za=this.Sd.Ma(),this.FP(t)):null},e.prototype.FP=function(e){if(e.B()||1>e.Eb())return e;var i=e.K();if(1736==i||1607==i)return this.Iy(e);if(t.ba.zd(i))return this.HP(e);if(197==i)return this.GP(e);throw t.i.Ra()},e.prototype.HP=function(e){if(e.Rb()<=this.Qs)return e;var i=new t.Ua(e.description);return i.oc(e,!0),this.Iy(i)},e.prototype.GP=function(e){var i=new t.Ea(e.description);i.bd(e,!1);var n=new t.l;return e.A(n),e=n.da(),n.S()<=this.Qs&&e<=this.Qs?i:this.Iy(i)},e.prototype.Iy=function(e){for(var i=e.Ja(),n=e.Ha();n.ab();)for(var r=!0;n.Ia();){var s=n.ia();if(322!=s.K())throw t.i.ga("not implemented");var o=n.Pn(),a=s.Rb();if(a>this.Qs){var c=Math.ceil(a/this.Qs);a=new t.Ta(e.description),r&&(s.Uo(a),i.nf(a));var l=r=1/c,u=0;for(--c;u<c;u++)s.Uw(l,a),i.lineTo(a),l+=r;o?i.Cp():(s.Qo(a),i.lineTo(a))}else o?i.Cp():i.oc(s,r);r=!1}return i},e.prototype.qe=function(){},e}();t.gL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.K=function(){return 2},i.prototype.W=function(e,i,n,r){return e instanceof t.ba?(e=new t.$c(e),i=new t.$c(i),this.W(e,i,n,r).next()):new t.hL(e,i,n,r)},i.km=function(e,n,r,s){if(e.B()||n.B())return e;var o=e.Eb(),a=n.Eb();if(o>a)return e;var c=e.K(),l=n.K(),u=new t.l,h=new t.l,d=new t.l;e.A(u),n.A(h),d.L(u),d.$b(h);var p=(d=t.ta.Xd(r,d,!0))*Math.sqrt(2)*1.00001,f=new t.l;if(f.L(u),f.X(p,p),!f.isIntersecting(h))return e;if(1==o&&2==a)return i.AV(e,n,l,r,s);if(33==c)switch(t.Vk.zd(l)?(r=new t.Ua(n.description),r.oc(n,!0)):r=n,l){case 1736:return i.NU(e,r,d);case 1607:return i.OU(e,r,d);case 550:return i.LU(e,r,d);case 197:return i.KU(e,r,d);case 33:return i.MU(e,r,d);default:throw t.i.O()}else if(550==c)switch(l){case 1736:return i.dU(e,n,d);case 197:return i.bU(e,n,d);case 33:return i.cU(e,n,d)}return t.Hg.km(e,n,r,s)},i.NU=function(e,i,n){return 0==t.jd.CG(i,e,n)?e:e.Ja()},i.OU=function(e,i,n){var r=e.D();i=i.Ha();for(var s=n*Math.sqrt(2)*1.00001,o=s*s,a=new t.l;i.ab();)for(;i.Ia();){var c=i.ia();if(c.A(a),a.X(s,s),a.contains(r)){if(c.rs(r,n))return e.Ja();var l=c.ac();if(t.h.zc(r,l)<=o)return e.Ja();if(l=c.xc(),t.h.zc(r,l)<=o)return e.Ja()}}return e},i.LU=function(e,i,n){var r=i.vb(0);i=i.I();var s=e.D(),o=new t.h;n=n*Math.sqrt(2)*1.00001,n*=n;for(var a=0;a<i;a++)if(r.uc(2*a,o),t.h.zc(o,s)<=n)return e.Ja();return e},i.KU=function(e,i,n){var r=new t.l;return i.A(r),r.X(n,n),i=e.D(),r.contains(i)?e.Ja():e},i.MU=function(e,i,n){n=n*Math.sqrt(2)*1.00001,n*=n;var r=e.D();return i=i.D(),t.h.zc(r,i)<=n?e.Ja():e},i.dU=function(e,i,n){var r=new t.l;i.A(r),r.X(n,n);for(var s=e.I(),o=!1,a=[],c=0;c<s;c++)a[c]=!1;var l=new t.h;for(c=0;c<s;c++)e.D(c,l),r.contains(l)&&0!=t.jd.Zd(i,l,n)&&(o=!0,a[c]=!0);if(!o)return e;for(i=e.Ja(),c=0;c<s;c++)a[c]||i.Gd(e,c,c+1);return i},i.bU=function(e,i,n){var r=new t.l;i.A(r),r.X(n,n),i=e.I();var s=!1;n=[];for(var o=0;o<i;o++)n[o]=!1;var a=new t.h;for(o=0;o<i;o++)e.D(o,a),r.contains(a)&&(s=!0,n[o]=!0);if(!s)return e;for(r=e.Ja(),o=0;o<i;o++)n[o]||r.Gd(e,o,o+1);return r},i.cU=function(e,i,n){var r=e.vb(0),s=e.I(),o=i.D(),a=new t.h,c=!1;i=[];for(var l=0;l<s;l++)i[l]=!1;for(n=(l=n*Math.sqrt(2)*1.00001)*l,l=0;l<s;l++)r.uc(2*l,a),t.h.zc(a,o)<=n&&(c=!0,i[l]=!0);if(!c)return e;for(r=e.Ja(),l=0;l<s;l++)i[l]||r.Gd(e,l,l+1);return r},i.AV=function(e,i,n,r,s){var o=new t.Gh;e.dn(o);var a=new t.l;return i.A(a),o.$b(a),o.X(.1*o.S(),.1*o.da()),(a=new t.Ea).bd(o,!1),1736==n?a.add(i,!0):a.bd(i,!0),t.Wk.local().W(e,a,r,s)},i.instance=null,i}(t.Ge);t.lp=e}(W||(W={})),function(t){var e=function(){function e(t,e,i,n){this.us=null==e,this.za=-1,this.Sd=t,this.Vz=i,this.lT=e.next(),this.Vb=n}return e.prototype.next=function(){return this.us?null:null!=(e=this.Sd.next())?(this.za=this.Sd.Ma(),t.lp.km(e,this.lT,this.Vz,this.Vb)):null;var e},e.prototype.Ma=function(){return this.za},e.prototype.qe=function(){},e}();t.hL=e}(W||(W={})),function(t){var e=function(){function e(e){this.nd=e,this.Cj=new t.l,this.Cj.Pa(),this.ph=new t.l,this.ph.Pa()}return e.prototype.Ot=function(){var t=this.Cj.v;this.Cj.v=this.ph.v,this.ph.v=t,t=this.Cj.C,this.Cj.C=this.ph.C,this.ph.C=t,t=this.Cj.G,this.Cj.G=this.ph.G,this.ph.G=t,t=this.Cj.H,this.Cj.H=this.ph.H,this.ph.H=t},e.prototype.XP=function(e,i){if(null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.gu("user_canceled");var n=!this.Cj.isIntersecting(this.ph);return t.ba.Ic(e.K())&&t.ba.Ic(i.K())?e.I()>i.I()?this.ZD(e,i,n):(this.Ot(),e=this.ZD(i,e,n),this.Ot(),e):550==e.K()&&t.ba.Ic(i.K())?(e=this.$D(i,e,n),this.Ot(),e):550==i.K()&&t.ba.Ic(e.K())?this.$D(e,i,n):550==e.K()&&550==i.K()?e.I()>i.I()?this.aE(e,i):(this.Ot(),e=this.aE(i,e),this.Ot(),e):0},e.prototype.ZD=function(e,i,n){var r=e.Ha(),s=i.Ha(),o=new t.l,a=new t.l,c=17976931348623157e292;if(!n&&this.dY(e,i,r,s))return 0;for(;r.ab();)for(;r.Ia();)if((e=r.ia()).A(o),!(o.ox(this.ph)>c)){for(;s.ab();)for(;s.Ia();)if((i=s.ia()).A(a),o.ox(a)<c&&(i=e.ub(i,n),(i*=i)<c)){if(0==i)return 0;c=i}s.$i()}return Math.sqrt(c)},e.prototype.$D=function(e,i,n){var r=e.Ha(),s=new t.l,o=17976931348623157e292,a=new t.h,c=i.I();for(n=!n&&1736==e.K();r.ab();)for(;r.Ia();){var l=r.ia();if(l.A(s),!(1<c&&s.ox(this.ph)>o)){for(var u=0;u<c;u++){if(i.D(u,a),n&&0!=t.jd.Zd(e,a,0))return 0;var h=l.fe(a,!1);if(a.sub(l.ic(h)),(h=a.Sk())<o){if(0==h)return 0;o=h}}n=!1}}return Math.sqrt(o)},e.prototype.aE=function(e,i){for(var n,r=17976931348623157e292,s=new t.h,o=new t.h,a=e.I(),c=i.I(),l=0;l<a;l++)if(e.D(l,s),!(1<c&&this.ph.aK(s)>r))for(var u=0;u<c;u++)if(i.D(u,o),(n=t.h.zc(s,o))<r){if(0==n)return 0;r=n}return Math.sqrt(r)},e.prototype.dY=function(e,i,n,r){if(1736==e.K()){for(;r.ab();)if(r.Ia()){var s=r.ia();if(0!=t.jd.Zd(e,s.xc(),0))return!0}r.$i()}if(1736==i.K()){for(;n.ab();)if(n.Ia()&&(e=n.ia(),0!=t.jd.Zd(i,e.xc(),0)))return!0;n.$i()}return!1},e.prototype.im=function(t,e){return t.B()||e.B()?NaN:(t.A(this.Cj),e.A(this.ph),this.XP(t,e))},e}(),i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Y(n,i),n.prototype.W=function(i,n,r){if(null==i||null==n)throw t.i.O();if(i.B()||n.B())return NaN;var s=i.K(),o=n.K();if(33==s){if(33==o)return t.h.ub(i.D(),n.D());if(197==o)return r=new t.l,n.A(r),r.ub(i.D());(s=new t.de).add(i),i=s}else if(197==s){if(197==o)return o=new t.l,i.A(o),r=new t.l,n.A(r),r.ub(o);(s=new t.Ea).bd(i,!1),i=s}return 33==o?((o=new t.de).add(n),n=o):197==o&&((o=new t.Ea).bd(n,!1),n=o),new e(r).im(i,n)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.K=function(){return 14},n.instance=null,n}(t.Ge);t.iL=i}(W||(W={})),function(t){var e=function(){function e(t,e,i,n){this.rH=t,this.vH=e,this.nd=n,this.SG=i}return e.prototype.next=function(){var t=this.rH.next();return null==t?null:this.rC(t)},e.prototype.Ma=function(){return this.rH.Ma()},e.prototype.rC=function(e){var i=e.K();if(t.ba.Sn(i))return e;if(197==i)return(i=new t.Ea(e.description)).bd(e,!1),this.rC(i);if(e.B())return e;if(null==e)throw t.i.Ra();i=e.Ja();for(var n=new t.zb,r=0,s=e.ea();r<s;r++)this.LK(e,r,i,n);return i},e.prototype.LK=function(e,i,n,r){if(!(2>e.Ka(i))){var s=e.Ca(i),o=e.Wc(i)-1,a=e.vb(0),c=e.ec(i),l=new t.ja(0);l.Jb(e.Ka(i)+1);var u=new t.ja(0);for(u.Jb(e.Ka(i)+1),l.add(c?s:o),l.add(s),s=new t.h;1<l.size;){var h=l.Gc();l.Jf();var d=l.Gc();e.D(h,s),r.Ec(s),e.D(d,s),r.Rc(s),0<=(d=this.KK(r,s,a,h,d,o))?(l.add(d),l.add(h)):u.add(h)}if(c||u.add(l.get(0)),u.size==l.size)n.addPath(e,i,!0);else if(2<=u.size&&(!this.SG||2!=u.size||!(c||t.h.ub(e.Oa(u.get(0)),e.Oa(u.get(1)))<=this.vH))){for(i=new t.Ta,r=0,o=u.size;r<o;r++)e.we(u.get(r),i),0==r?n.nf(i):n.lineTo(i);c&&(this.SG||2!=u.size||n.lineTo(i),n.Cp())}}},e.prototype.KK=function(t,e,i,n,r,s){var o=r-1;for(r<=n&&(o=s),s=r=-1,n+=1;n<=o;n++){i.uc(2*n,e);var a=e.x,c=e.y;t.ic(t.fe(e,!1),e),e.x-=a,e.y-=c,(a=e.length())>this.vH&&a>s&&(r=n,s=a)}return r},e.prototype.qe=function(){},e}();t.jL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 29},i.prototype.W=function(e,i,n,r){return e instanceof t.ba?(e=new t.$c(e),this.W(e,i,n,r).next()):new t.jL(e,i,n,r)},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.instance=null,i}(t.Ge);t.wC=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 21},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r,s,o,a,c){return e instanceof t.ba?(c=new t.$c(e),this.W(c,i,n,[r],s,o,!1,a).next()):!0===a?(n=new t.yC(e,i,n,r,s,!1,!1,c),t.Hh.local().W(n,i,c)):new t.yC(e,i,n,r,s,!1,!1,c)},i.instance=null,i}(t.Ge);t.xC=e}(W||(W={})),function(t){var e=function(){function e(e,i,n,r,s,o,a,c){if(o)throw t.i.Fe();if(null==i)throw t.i.O();this.za=-1,this.Ns=e,this.vg=i,this.Ae=n,this.Ds=r,this.ao=s,this.fo=-1,this.Vb=c,this.jT=new t.l,this.jT.Pa()}return e.prototype.next=function(){for(var t;null!=(t=this.Ns.next());)return this.za=this.Ns.Ma(),this.fo+1<this.Ds.length&&this.fo++,this.SQ(t,this.Ds[this.fo]);return null},e.prototype.Ma=function(){return this.za},e.prototype.SQ=function(e,i){return t.NK.buffer(e,this.vg,this.Ae,i,this.ao,this.Vb)},e.prototype.qe=function(){},e}();t.yC=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 24},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n){if(null==i)throw t.i.O();if(e.B()||1>e.Eb())return 0;if(4==n)throw t.i.Fe();var r=t.cb.tc(i),s=t.cb.wv(r),o=t.cb.fv(r);s*=2-s;var a=r.Id().bi,c=e.K();if(1736==c||197==c)var l=e.mg();else t.ba.zd(c)?(l=new t.Ua(e.description)).oc(e,!0):l=e;if(0==r.Nb(i)){if(t.cb.Xc(i)){l=t.Ih.mj(l,i),1607==c&&l==e&&(l=t.ba.ig(e)),e=new t.Oc,t.cb.hh(i).en(e),c=0;for(var u=l.I();c<u;c++){var h=l.Oa(c);h.x=t.Ih.an(h.x,e),l.Db(c,h)}}e=l.Ja(),l=t.Ih.NI(i,r,l,e)?e:t.cb.Ah(l,i,r)}return this.$P(l,n,o,s,a)},i.prototype.$P=function(e,i,n,r,s){var o=new t.ha(0),a=0;for(e=e.Ha();e.ab();)for(;e.Ia();){var c=e.ia(),l=c.ac();c=c.xc(),l.scale(s),c.scale(s),t.kb.xd(n,r,l.x,l.y,c.x,c.y,o,null,null,i),a+=o.u}return a},i.instance=null,i}(t.Ge);t.mL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 18},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r,s){return e instanceof t.ba?(e=new t.$c(e),this.W(e,i,n,r,s).next()):new t.lL(e,n,r,i,-1,-1,s)},i.instance=null,i}(t.Ge);t.kL=e}(W||(W={})),function(t){var e=function(){function e(e,i,n,r,s,o){if(0<o)throw t.i.Fe();if(4!=n&&0<s)throw t.i.Fe();if(null==i)throw t.i.O();this.za=-1,this.Ns=e,this.vg=i,this.Ae=n,this.tT=r,this.sT=s}return e.prototype.next=function(){for(var t;null!=(t=this.Ns.next());)return this.za=this.Ns.Ma(),this.Uy(t);return null},e.prototype.Ma=function(){return this.za},e.prototype.Uy=function(e){return t.dj.Rr(e,this.vg,this.Ae,this.tT,this.sT,this.Vb)},e.prototype.qe=function(){},e}();t.lL=e}(W||(W={})),function(t){!function(t){t[t.Unknown=0]="Unknown",t[t.Contains=1]="Contains",t[t.Within=2]="Within",t[t.Equals=3]="Equals",t[t.Disjoint=4]="Disjoint",t[t.Touches=8]="Touches",t[t.Crosses=16]="Crosses",t[t.Overlaps=32]="Overlaps",t[t.NoThisRelation=64]="NoThisRelation",t[t.Intersects=1073741824]="Intersects",t[t.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"}(t.VK||(t.VK={})),t.nL=function(){function e(){}return e.dW=function(e,i){var n=e.K(),r=i.K();if(t.ba.yj(n)){var s=e.Cb;if(null!=s&&null!=(s=s.Fk)){if(33==r){var o=i.D();s=s.To(o.x,o.y)}else o=new t.l,i.A(o),s=s.So(o);if(1==s)return 1;if(0==s)return 4}}if(t.ba.yj(r)&&null!=(s=i.Cb)&&null!=(s=s.Fk)){if(33==n?(e=e.D(),s=s.To(e.x,e.y)):(i=new t.l,e.A(i),s=s.So(i)),1==s)return 2;if(0==s)return 4}return 0},e}()}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.K=function(){return 15},i.prototype.W=function(e,i,n,r,s){return e instanceof t.ba?(e=new t.$c(e),i=new t.$c(i),this.W(e,i,n,r,s).next()):void 0===s?new t.zC(e,i,n,r,-1):new t.zC(e,i,n,r,s)},i.prototype.xn=function(e,i,n){this.Ju(e)&&(i=t.ta.lj(i,e,!1),e.gj(n)||e.mu(i,n))},i.prototype.Ju=function(e){return t.Lx.rE(e)},i.instance=null,i}(t.Ge);t.Wk=e}(W||(W={})),function(t){var e=function(){function e(e,i,n,r,s){if(this.us=null==i,this.za=-1,this.Sd=e,this.vg=n,this.Pe=i.next(),this.Ej=this.Pe.K(),this.Vb=r,this.Gi=s,-1!=this.Gi&&(0>=this.Gi||7<this.Gi))throw t.i.O("bad dimension mask")}return e.prototype.next=function(){if(this.us)return null;if(null!=this.Aw){var t=this.Aw.next();if(null!=t)return t;this.Aw=null}for(;null!=(t=this.Sd.next());)return this.za=this.Sd.Ma(),-1==this.Gi?t=this.Fa(t):(this.Aw=this.GS(t),t=this.Aw.next()),t;return null},e.prototype.Ma=function(){return this.za},e.prototype.Fa=function(e){var i=this.rK(e);if(null!=i)return i;i=t.ta.nv(this.Pe,e);var n=t.ta.Xd(this.vg,i,!0);i=new t.l,this.Pe.A(i);var r=new t.l;return e.A(r),i.X(2*n,2*n),i.Fa(r),i.X(100*n,100*n),n=t.Vd.clip(this.Pe,i,0,0),e=t.Vd.clip(e,i,0,0),t.Hg.Bv(e,n,this.vg,this.Vb)},e.prototype.HI=function(e,i,n){var r=0;if(0!=(1&i))null==n[0]&&(n[0]=new t.de(e)),r++;else for(var s=0;s<n.length-1;s++)n[s]=n[s+1];if(0!=(2&i))null==n[r]&&(n[r]=new t.Ua(e)),r++;else for(s=r;s<n.length-1;s++)n[s]=n[s+1];if(0!=(4&i))null==n[r]&&(n[r]=new t.Ea(e)),r++;else for(s=r;s<n.length-1;s++)n[s]=n[s+1];if(3!=r){for(e=[],s=0;s<r;s++)e[s]=n[s];return new t.$c(e)}return new t.$c(n)},e.prototype.GS=function(e){var i=this.rK(e);if(null!=i){var n=[null,null,null];return n[i.Eb()]=i,this.HI(e.description,this.Gi,n)}i=t.ta.nv(this.Pe,e),n=t.ta.Xd(this.vg,i,!0),i=new t.l,this.Pe.A(i),i.X(2*n,2*n);var r=new t.l;return e.A(r),i.Fa(r),i.X(100*n,100*n),n=t.Vd.clip(this.Pe,i,0,0),i=t.Vd.clip(e,i,0,0),n=t.Hg.Kz(i,n,this.vg,this.Vb),this.HI(e.description,this.Gi,n)},e.prototype.rK=function(i){var n=t.ta.nv(i,this.Pe),r=t.ta.Xd(this.vg,n,!0);n=i.K();var s=i.B(),o=this.Pe.B();if(!(o=s||o)){o=new t.l,i.A(o);var a=new t.l;this.Pe.A(a),a.X(2*r,2*r),o=!o.isIntersecting(a)}if(!o)if(4==(a=t.nL.dW(this.Pe,i)))o=!0;else{if(0!=(2&a))return this.Pe;if(0!=(1&a))return i}if(o)return(r=t.ba.uf(n))<(o=t.ba.uf(this.Ej))?e.BB(i,s):r>o||0==r&&550==n&&33==this.Ej?this.fJ():e.BB(i,s);if((-1==this.Gi||4==this.Gi)&&197==n&&197==this.Ej)return r=this.Pe,n=new t.l,i.A(n),s=new t.l,r.A(s),n.Fa(s),r=new t.Gh,i.copyTo(r),r.Yo(n),r;if(197==n&&0==t.ba.uf(this.Ej)||197==this.Ej&&0==t.ba.uf(n))return s=197==n?i:this.Pe,i=197==n?this.Pe:i,n=new t.l,s.A(n),t.Vd.clip(i,n,r,0);if(0==t.ba.uf(n)&&0<t.ba.uf(this.Ej)||0<t.ba.uf(n)&&0==t.ba.uf(this.Ej)){if(r=t.ta.lj(this.vg,i,!1),550==n||33==n)return t.Hg.rG(i,this.Pe,r);if(550==this.Ej||33==this.Ej)return t.Hg.rG(this.Pe,i,r);throw t.i.Ra()}return-1!=this.Gi&&2!=this.Gi||1607!=n||1736!=this.Ej?-1!=this.Gi&&2!=this.Gi||1736!=n||1607!=this.Ej?null:this.oK(this.Pe,i):this.oK(i,this.Pe)},e.prototype.oK=function(e,i){var n=e,r=i,s=t.ta.lj(this.vg,i,!1),o=new t.l;r.A(o);var a=new t.l;n.A(a),a.X(2*s,2*s),o.Fa(a),o.X(10*s,10*s),n=e=t.Vd.clip(e,o,0,0),a=new t.ja(0);var c=-1,l=r.Cb;if(null!=l){var u=l.Fk;if(null!=u){c=0,a.Jb(n.I()+n.ea());for(var h=new t.l,d=n.Ha();d.ab();)for(;d.Ia();){d.ia().A(h);var p=u.So(h);1==p?a.add(1):0==p?a.add(0):(a.add(-1),c++)}}}if(5<i.I()&&(l=(r=i=t.Vd.clip(i,o,0,0)).Cb),0>c&&(c=n.sz()),o=n.I()+r.I(),c*r.I()>Math.log(o)*o*4)return null;o=null,c=r.Ha(),null!=l&&null!=l.Gb&&(o=l.Gb),null==o&&20<r.I()&&(o=t.ta.fE(r)),e=e.Ja(),r=null,l=n.Ha(),u=[0,0,0,0,0,0,0,0,0],h=new t.ce(0),d=new t.hg,p=-1;for(var f=0,b=0,y=0<a.size,m=-1;l.ab();){m=l.gb;var g=0;for(p=-1,f=0;l.Ia();){var v=y?t.P.truncate(a.get(b)):-1;b++;var w=l.ia();if(0>v){if(null!=o)for(null==r?r=o.mR(w,s):r.Vo(w,s),v=r.next();-1!=v;v=r.next()){c.Wb(o.ka(v)),v=c.ia();var O=w.Fa(v,null,u,null,s);for(v=0;v<O;v++)h.add(u[v])}else for(c.$i();c.ab();)for(;c.Ia();)for(v=c.ia(),O=w.Fa(v,null,u,null,s),v=0;v<O;v++)h.add(u[v]);if(0<h.size){h.Wd(0,h.size,(function(t,e){return t-e}));var j=0;h.add(1),O=-1,v=0;for(var _=h.size;v<_;v++){var x=h.get(v);if(x!=j){var S=!1;if(0!=j||1!=x?(w.bh(j,x,d),j=d.get()):(j=w,S=!0),2<=g){if(e.Fr(n,m,p,f,3==g),1!=this.HD(i,j.ac(),s)&&1!=this.JD(i,j,s))return null;e.oc(j,!1),g=1,f=0}else switch(O=this.JD(i,j,s),O){case 1:S?2>g?(p=l.xb()-n.Ca(m),f=1,g=0==g?3:2):f++:(e.oc(j,0==g),g=1);break;case 0:g=0,p=-1,f=0;break;default:return null}j=x}}}else{if(0>(v=this.HD(i,w.ac(),s)))return null;1==v?(2>g&&(p=l.xb()-n.Ca(m),g=0==g?3:2),f++):(p=-1,f=0)}h.clear(!1)}else 0!=v&&1==v&&(0==g?(g=3,p=l.xb()-n.Ca(m)):1==g?(g=2,p=l.xb()-n.Ca(m)):f++)}2<=g&&(e.Fr(n,m,p,f,3==g),p=-1)}return e},e.prototype.HD=function(e,i,n){return t.Fg.ym(e,i,n)},e.prototype.JD=function(e,i,n){var r=i.ac();i=i.xc();var s=t.Fg.ym(e,r,n),o=t.Fg.ym(e,i,n);return 1==s&&0==o||0==s&&1==o?-1:0==s||0==o?0:1==s||1==o?1:((s=new t.h).add(r,i),s.scale(.5),0==(e=t.Fg.ym(e,s,n))?0:1==e?1:-1)},e.BB=function(t,e){return e?t:t.Ja()},e.prototype.fJ=function(){return null==this.qH&&(this.qH=this.Pe.Ja()),this.qH},e.prototype.qe=function(){},e}();t.zC=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 28},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r,s,o,a){return e instanceof t.ba?(e=new t.$c(e),this.W(e,i,n,r,s,o,a).next()):new t.oL(e,i,n,r,s,o,a)},i.instance=null,i}(t.Ge);t.AC=e}(W||(W={})),function(t){var e=function(){function e(t,e,i,n,r,s,o){this.za=-1,this.Sd=t,this.Nj=e,this.La=i,this.Li=n,this.wA=r,this.mH=s,this.nd=o}return e.prototype.next=function(){var t=this.Sd.next();return null!=t?(this.za=this.Sd.Ma(),this.bL(t)):null},e.prototype.Ma=function(){return this.za},e.prototype.bL=function(e){var i=0>=this.mH?t.ta.lj(this.Nj,e,!1):this.mH;return t.AK.W(e,this.La,this.Li,this.wA,i,this.nd)},e.prototype.qe=function(){},e}();t.oL=e}(W||(W={})),function(t){var e;(e=t.FK||(t.FK={}))[e.clipToDomainOnly=1]="clipToDomainOnly",e[e.clipWithHorizon=2]="clipWithHorizon",e[e.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 0},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n){return e instanceof t.ba?(e=new t.$c(e),this.W(e,i,n).next()):new t.qL(e,i,n)},i.prototype.transform=function(e,i,n,r){return t.cu.transform(e,i,n,r,!0)},i.prototype.Rt=function(e,i,n,r){return t.cu.Rt(e,i,n,r)},i.instance=null,i}(t.Ge);t.Fx=i}(W||(W={})),function(t){var e=function(){function e(t,e,i){this.za=-1,this.Sd=t,this.CT=e,this.nd=i}return e.prototype.next=function(){var e=this.Sd.next();return null!=e?(this.za=this.Sd.Ma(),t.cu.Ah(e,this.CT,this.nd)):null},e.prototype.Ma=function(){return this.za},e.prototype.qe=function(){},e}();t.qL=e}(W||(W={})),function(t){var e=function(){function e(){}return e.prototype.reset=function(){this.qh=this.xk=-1,this.vs=this.mq=!1},e.prototype.sQ=function(t,e,i){for(t.Wb(e,i);t.Ia();){var n=t.ia();if(0!=(n=n.Rb()))return t.xb()}for(t.Wb(e,i);t.zz();)if(0!=(n=(n=t.mi()).Rb()))return t.xb();return-1},e.prototype.tQ=function(t,e){for(t.Wb(e,-1);t.zz();)if(0!=t.mi().Rb())return t.xb();return-1},e.prototype.rQ=function(t,e){for(t.Wb(e,-1),t.ia();t.Ia();)if(0!=t.ia().Rb())return t.xb();return-1},e.prototype.qQ=function(e,i,n,r){if(this.xk=this.sQ(i,n,r),-1!=this.xk){i.Wb(this.xk,-1);var s=i.ia(),o=s.ic(s.fe(e,!1));if(n=t.h.zc(o,e),(r=new t.h).N(o),r.sub(s.ac()),(o=new t.h).N(e),o.sub(s.ac()),this.mq=0>r.xi(o),this.qh=this.rQ(i,this.xk),-1!=this.qh){i.Wb(this.qh,-1);var a=(s=i.ia()).fe(e,!1);a=s.ic(a);var c=t.h.zc(a,e);c>n?this.qh=-1:(r.N(a),r.sub(s.ac()),o.N(e),o.sub(s.ac()),this.vs=0>r.xi(o))}-1==this.qh&&(this.qh=this.tQ(i,this.xk),-1!=this.qh&&(i.Wb(this.qh,-1),a=(s=i.ia()).fe(e,!1),a=s.ic(a),(c=t.h.zc(a,e))>n?this.qh=-1:(r.N(a),r.sub(s.ac()),o.N(e),o.sub(s.ac()),this.vs=0>r.xi(o),e=this.xk,this.xk=this.qh,this.qh=e,e=this.mq,this.mq=this.vs,this.vs=e)))}},e.prototype.VN=function(t,e,i,n,r){return i=i.Ha(),this.qQ(t,i,n,r),-1!=this.xk&&-1==this.qh?this.mq:-1!=this.xk&&-1!=this.qh?this.mq==this.vs?this.mq:(i.Wb(this.xk,-1),t=i.ia().jg(),i.Wb(this.qh,-1),e=i.ia().jg(),0<=t.xi(e)):e},e}(),i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Y(n,i),n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.K=function(){return 3},n.prototype.iz=function(e,i,n){var r;if(void 0===r&&(r=!1),e.B())return new t.bm;i=i.D();var s=e,o=e.K();switch(197==o&&((s=new t.Ea).bd(e,!1),o=1736),o){case 33:return this.pI(s,i);case 550:return this.bI(s,i);case 1607:case 1736:return this.ST(s,i,n,r);default:throw t.i.ga("not implemented")}},n.prototype.jz=function(e,i){if(e.B())return new t.bm;i=i.D();var n=e,r=e.K();switch(197==r&&((n=new t.Ea).bd(e,!1),r=1736),r){case 33:return this.pI(n,i);case 550:case 1607:case 1736:return this.bI(n,i);default:throw t.i.ga("not implemented")}},n.prototype.kz=function(e,i,n,r){if(0>r)throw t.i.O();if(e.B())return[];i=i.D();var s=e,o=e.K();switch(197==o&&((s=new t.Ea).bd(e,!1),o=1736),o){case 33:return this.JU(s,i,n,r);case 550:case 1607:case 1736:return this.jU(s,i,n,r);default:throw t.i.ga("not implemented")}},n.prototype.ST=function(i,n,r,s){if(1736==i.K()&&r&&(r=new t.l,i.A(r),r=t.ta.Xd(null,r,!1),0!=(s?t.jd.Zd(i,n,0):t.jd.Zd(i,n,r)))){var o=new t.bm(n,0,0);return s&&o.OJ(!0),o}var a=i.Ha();o=new t.h;for(var c=r=-1,l=17976931348623157e292,u=0;a.ab();)for(;a.Ia();){var h=a.ia();h=h.ic(h.fe(n,!1));var d=t.h.zc(h,n);d<l?(u=1,o=h,r=a.xb(),c=a.gb,l=d):d==l&&u++}return o=new t.bm(o,r,Math.sqrt(l)),s&&(a.Wb(r,c),h=a.ia(),s=0>t.h.Wq(n,h.ac(),h.xc()),1<u&&((u=new e).reset(),s=u.VN(n,s,i,r,c)),o.OJ(s)),o},n.prototype.pI=function(e,i){return e=e.D(),i=t.h.ub(e,i),new t.bm(e,0,i)},n.prototype.bI=function(e,i){for(var n=e.vb(0),r=e.I(),s=e=0,o=0,a=17976931348623157e292,c=0;c<r;c++){var l=new t.h;n.uc(2*c,l);var u=t.h.zc(l,i);u<a&&(s=l.x,o=l.y,e=c,a=u)}return(i=new t.bm).ay(s,o,e,Math.sqrt(a)),i},n.prototype.JU=function(e,i,n,r){return 0==r?[]:(n*=n,e=e.D(),(i=t.h.zc(e,i))<=n?(n=[],(r=new t.bm).ay(e.x,e.y,0,Math.sqrt(i)),n[0]=r):n=[],n)},n.prototype.jU=function(e,i,n,r){if(0==r)return[];var s=e.vb(0),o=e.I();e=[],n*=n;for(var a=0;a<o;a++){var c=s.read(2*a),l=s.read(2*a+1),u=i.x-c,h=i.y-l;(u=u*u+h*h)<=n&&((h=new t.bm).ay(c,l,a,Math.sqrt(u)),e.push(h))}return i=e.length,e.sort((function(t,e){return t.La<e.La?-1:t.La==e.La?0:1})),r>=i||(e.length=r),e.slice(0)},n.instance=null,n}(t.Ge);t.Gx=i}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 4},i.prototype.W=function(e,i,n,r,s){return t.cm.sB(e,i,n,r,s)},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.Ju=function(e){return t.Wt.qy(e)},i.prototype.xn=function(e,i,n){t.Wt.uD(e,i,n)},i.instance=null,i}(t.Ge);t.rL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 33},i.prototype.W=function(e,i,n,r,s){return 1073741824===e?!t.vd.tB(i,n,r,4,s):t.vd.tB(i,n,r,e,s)},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.Ju=function(e){return t.Wt.qy(e)},i.prototype.xn=function(e,i,n){t.Wt.uD(e,i,n)},i.instance=null,i}(t.Ge);t.ej=e}(W||(W={})),function(t){var e=function(){function e(e,i,n,r){if(this.nd=r,this.gT=n,this.za=-1,null==e)throw t.i.O();this.yk=e,this.Nj=i}return e.prototype.next=function(){var e;if(null!=(e=this.yk.next())){if(this.za=this.yk.Ma(),null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.gu("user_canceled");return this.YB(e)}return null},e.prototype.Ma=function(){return this.za},e.prototype.YB=function(e){if(null==e)throw t.i.O();return t.Hx.VJ(e,this.Nj,this.gT,this.nd)},e.prototype.qe=function(){},e}();t.sL=e}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 26},i.prototype.W=function(e,i,n,r){return e instanceof t.ba?(e=new t.$c(e),this.W(e,i,n,r).next()):new t.sL(e,i,n,r)},i.prototype.ss=function(e,i,n,r,s){return 0<(void 0!==r?t.Hx.ss(e,i,n,r,s):t.Hx.ss(e,i,!1,null,n))},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.instance=null,i}(t.Ge);t.$l=e}(W||(W={})),function(t){var e=function(){function t(){this.Aq=0}return t.prototype.aX=function(t){this.Aq&=-2,this.Aq|=t?1:0},t.prototype.Yp=function(){return 0!=(1&this.Aq)},t.prototype.PF=function(){return this.Yp()?0:1},t}();t.lY=e;var i=function(){},n=function(t,e,i,n){this.x=t,this.y=e,this.Bi=i,this.zm=n},r=function(){function t(t){this.Ce=t}return t.prototype.compare=function(t,e,i){return t=t.ka(i),e=this.Ce.lf.read(2*e),0>(e-=t=this.Ce.lf.read(2*t))?-1:0<e?1:0},t}(),s=function(){function t(t){this.Ce=t}return t.prototype.compare=function(t,e,i){e=this.Ce.hb[e],t=this.Ce.hb[t.ka(i)];var n=e.Yp(),r=t.Yp();i=e.ne.Me(this.Ce.No,0);var s=t.ne.Me(this.Ce.No,0);return i==s&&((n=.5*((i=Math.min(n?e.ne.oa:e.ne.ma,r?t.ne.oa:t.ne.ma))-this.Ce.No)+this.Ce.No)==this.Ce.No&&(n=i),i=e.ne.Me(n,0),s=t.ne.Me(n,0)),i<s?-1:i>s?1:0},t}(),o=function(){function e(e,i){this.QI=new t.h,this.parent=e,this.VR=i}return e.prototype.qr=function(t,e,i){var n=this.parent,r=this.VR;i.Wd(t,e,(function(t,e){return n.Nh(t,e,r)}))},e.prototype.bq=function(t){return t=this.parent.hi.get(t),this.parent.lf.uc(2*(t>>1),this.QI),this.QI.y+(0!=(1&t)?this.parent.Pj:-this.parent.Pj)},e}(),a=function(){function a(e,i,n,r,s){this.fH=e.description,this.Y=e,this.Rg=i,this.Pj=t.ta.lj(this.Rg,e,!1),this.Co=t.ta.lj(this.Rg,e,!0),this.rA=n,this.eT=this.fH.Ba,this.hb=[],this.qo=[],this.nh=new t.kp,this.fb=new t.Yj,this.ke=new t.Nd,this.QG=this.sl=s}return a.prototype.VS=function(){return this.QG=!0,(!t.ba.Ic(this.Y.K())||this.yE()&&this.vE(!1))&&this.eO()?t.ba.Ic(this.Y.K())?this.hO()?1607==this.Y.K()?this.jO()?2:0:this.kO()?this.lO():0:0:2:0},a.prototype.dC=function(e,i){var n=this.lf.read(2*e);e=this.lf.read(2*e+1);var r=this.lf.read(2*i);i=this.lf.read(2*i+1);var s=!t.Zt.Dv(n,e,r,i,this.Pj*this.Pj);return s||0!=this.Y.Eb()&&n==r&&e==i},a.prototype.yE=function(){for(var e=this.Y,i=e.yf?3:2,n=0,r=e.ea();n<r;n++)if(e.Ka(n)<i)return this.ke=new t.Nd(1,n,0),!1;return!0},a.prototype.vE=function(e){var i=this.Y,n=i.Ha(),r=i.hasAttribute(1);for(i=r?t.ta.oE(this.Rg,i,!1):0;n.ab();)for(;n.Ia();){var s=n.ia();if(!(s.Rb()>this.Pj)){if(e&&r){var o=s.xv(1,0);if(s=s.xv(1,0),Math.abs(s-o)>i)continue}return this.ke=new t.Nd(2,n.xb(),-1),!1}}return!0},a.prototype.eO=function(){var e=this.Y,i=null;t.ba.Ic(this.Y.K())&&(i=this.Y);var n=(this.QG||this.sl)&&null!=i,s=e.I();this.lf=e.vb(0),this.hi=new t.ja(0),this.hi.Jb(2*s),this.gi=new t.ja(0),this.gi.Jb(2*s),n&&(null==this.Hl&&(this.Hl=new t.ja(0)),this.Hl.Jb(s));for(var a=e=0;a<s;a++)if(this.hi.add(2*a),this.hi.add(2*a+1),this.gi.add(2*a),this.gi.add(2*a+1),n){for(;a>=i.Wc(e);)e++;this.Hl.add(e)}for((new t.Yt).sort(this.gi,0,2*s,new o(this,n)),this.fb.clear(),this.fb.Wo(new r(this)),this.fb.Ee(s),i=0,s*=2;i<s;i++)if(n=this.gi.get(i),n=(e=this.hi.get(n))>>1,0==(1&e)){if(e=this.fb.addElement(n,-1),-1!=(a=this.fb.xe(e))&&!this.dC(this.fb.ka(a),n))return this.ke=new t.Nd(3,n,this.fb.ka(a)),!1;var c=this.fb.lb(e);if(-1!=c&&!this.dC(this.fb.ka(c),n))return this.ke=new t.Nd(3,n,this.fb.ka(c)),!1}else if(e=this.fb.search(n,-1),a=this.fb.xe(e),c=this.fb.lb(e),this.fb.wd(e,-1),-1!=a&&-1!=c&&!this.dC(this.fb.ka(a),this.fb.ka(c)))return this.ke=new t.Nd(3,this.fb.ka(a),this.fb.ka(c)),!1;return!0},a.prototype.hO=function(){return 10>this.Y.I()?this.fO():this.gO()},a.prototype.gO=function(){var e=new t.hd;e.Ib(this.Y);var i=new t.Nd;return!t.au.cI(!1,e,this.Pj,i,this.nd)||(i.Ko=e.Va(i.Ko),i.Lo=e.Va(i.Lo),this.ke.Xt(i),!1)},a.prototype.fO=function(){var e=this.Y,i=e.Ha();for(e=e.Ha();i.ab();)for(;i.Ia();){var n=i.ia();if(!i.Rn()||!i.QS()){e.rW(i);do{for(;e.Ia();){var r=e.ia();if(0!=(r=n.Br(r,this.Pj,!0)))return this.ke=new t.Nd(2==r?5:4,i.xb(),e.xb()),!1}}while(e.ab())}}return!0},a.prototype.kO=function(){var e=this.Y;this.hb.length=0,this.qo.length=0,this.$f=e.Ha(),this.$f.DB();var i=new t.ja(0);i.Jb(10);var n=NaN,r=0,s=0;for(e=2*e.I();s<e;s++){var o=this.gi.get(s);if(0==(1&(o=this.hi.get(o)))){o>>=1;var a=this.lf.read(2*o),c=this.lf.read(2*o+1);if(0!=i.size&&(a!=n||c!=r)){if(!this.II(i))return!1;null!=i&&i.clear(!1)}i.add(o),n=a,r=c}}return!!this.II(i)},a.prototype.jO=function(){for(var e=this.Y,n=Array(e.ea()),r=0,s=e.ea();r<s;r++)n[r]=e.On(r);s=new i;var o=new t.h;r=this.gi.get(0);var a=(r=this.hi.get(r))>>1;this.lf.uc(2*a,o);var c=n[r=this.Hl.get(a)],l=e.Ca(r),u=e.Wc(r)-1;s.fl=a==l||a==u,s.iy=this.sl?!c&&s.fl:s.fl,s.Bi=r,s.x=o.x,s.y=o.y,s.zm=a;for(var h=new i,d=1,p=this.gi.size;d<p;d++)if(r=this.gi.get(d),0==(1&(r=this.hi.get(r)))){a=r>>1,this.lf.uc(2*a,o),(r=this.Hl.get(a))!=s.Bi&&(c=n[r],l=e.Ca(r),u=e.Wc(r)-1);var f=a==l||a==u,b=this.sl?!c&&s.fl:s.fl;if(h.x=o.x,h.y=o.y,h.Bi=r,h.zm=a,h.iy=b,h.fl=f,h.x==s.x&&h.y==s.y)if(this.sl){if(!(h.iy&&s.iy||h.Bi==s.Bi&&(h.fl||s.fl)))return this.ke=new t.Nd(8,h.zm,s.zm),!1}else if(!h.fl||!s.fl)return this.ke=new t.Nd(5,h.zm,s.zm),!1;r=s,s=h,h=r}return!0},a.prototype.BE=function(){for(var e=this.Y,i=[],r=-1,s=!1,o=0,a=e.ea();o<a;o++)e.Fv(o)&&(s=!1,r++,o<a-1&&(e.Fv(o+1)||(s=!0))),i[o]=s?r:-1;s=new t.h,o=this.gi.get(0);var c=(o=this.hi.get(o))>>1;this.lf.uc(2*c,s),o=this.Hl.get(c),r=new n(s.x,s.y,o,c,i[o]),e=[];var l=1;for(a=this.gi.size;l<a;l++)if(o=this.gi.get(l),0==(1&(o=this.hi.get(o)))){if(c=o>>1,this.lf.uc(2*c,s),o=this.Hl.get(c),(o=new n(s.x,s.y,o,c,i[o])).x==r.x&&o.y==r.y){if(o.Bi==r.Bi)return this.ke=new t.Nd(9,o.zm,r.zm),!1;0<=i[o.Bi]&&i[o.Bi]==i[r.Bi]&&(0!=e.length&&e[e.length-1]==r||e.push(r),e.push(o))}r=o}if(0==e.length)return!0;for(o=new t.kp(!0),t.P.av(i,-1),s=-1,(l=new t.h).Sc(),r=0,a=e.length;r<a;r++){(c=e[r]).x==l.x&&c.y==l.y||(s=o.Qh(0),l.x=c.x,l.y=c.y);var u=i[c.Bi];-1==u&&(u=o.Qh(2),i[c.Bi]=u),o.addElement(u,s),o.addElement(s,u)}for((a=new t.ja(0)).Jb(10),r=o.je;-1!=r;r=o.lz(r))if(0==(1&(e=o.HF(r)))&&0!=(2&e)){for(e=-1,a.add(r),a.add(-1);0<a.size;){if(s=a.Gc(),a.Jf(),l=a.Gc(),a.Jf(),0!=(1&(c=o.HF(l)))){e=0==(2&c)?s:l;break}for(o.TW(l,1|c),c=o.sc(l);-1!=c;c=o.lb(c))(u=o.getData(c))!=s&&(a.add(u),a.add(l))}if(-1!=e){for(o=-1,r=0,a=i.length;r<a;r++)if(i[r]==e){o=r;break}return this.ke=new t.Nd(10,o,-1),!1}}return!0},a.prototype.lO=function(){var e=this.Y;if(0>=e.He())return this.ke=new t.Nd(6,1==e.ea()?1:-1,-1),0;if(1==e.ea())return this.sl&&!this.BE()?0:2;this.uo=t.ja.rf(e.ea(),0),this.DA=t.ja.rf(e.ea(),-1);for(var i=-1,n=0,r=0,o=e.ea();r<o;r++){var a=e.Kr(r);if(this.uo.write(r,0>a?0:256),0<a)i=r,n=a;else{if(0==a)return this.ke=new t.Nd(6,r,-1),0;if((0>i||n<Math.abs(a))&&(this.ke=new t.Nd(7,r,-1),this.sl))return 0;this.DA.write(r,i)}}for(this.dt=e.ea(),this.Qm=new t.ja(0),this.Qm.Jb(10),o=e.I(),this.No=NaN,(e=new t.ja(0)).Jb(10),this.Sq=t.ja.rf(o,-1),this.Iw=t.ja.rf(o,-1),null!=this.Aj?this.Aj.clear(!1):this.Aj=new t.ja(0),this.Aj.Jb(10),this.fb.clear(),this.fb.Wo(new s(this)),i=0,o*=2;0<this.dt&&i<o;i++)if(n=this.gi.get(i),0==(1&(n=this.hi.get(n)))){if(n>>=1,(r=this.lf.read(2*n+1))!=this.No&&0!=e.size){if(!this.ut(e))return 0;null!=e&&e.clear(!1)}e.add(n),this.No=r}return 0<this.dt&&!this.ut(e)?0:this.sl?0==this.ke.Kj&&this.BE()?2:0:0==this.ke.Kj?2:1},a.prototype.II=function(e){if(1==e.size)return!0;for(var i=0,n=e.size;i<n;i++){var r=e.get(i);this.$f.Wb(r);var s=this.$f.mi();this.hb.push(this.Uu(s,r,this.$f.gb,!0)),this.$f.ia(),s=this.$f.ia(),this.hb.push(this.Uu(s,r,this.$f.gb,!1))}var o=this;for(this.hb.sort((function(t,e){return o.PP(t,e)})),-1==(r=this.nh.je)&&(r=this.nh.Qh(0)),this.nh.hn(this.hb.length),i=0,n=this.hb.length;i<n;i++)this.nh.addElement(r,i);i=!0;for(var a=n=-1;i&&(i=!1,-1!=(s=this.nh.sc(r)));)for(var c=this.nh.lb(s);-1!=c;)if(n=this.nh.getData(s),a=this.nh.getData(c),(n=this.hb[n].Jo)!=(a=this.hb[a].Jo))s=c,c=this.nh.lb(s);else if(i=!0,this.nh.kd(r,s),s=this.nh.xe(c),-1==(c=this.nh.kd(r,c))||-1==s)break;if(i=this.nh.cs(r),this.nh.DE(r),0<i)return this.ke=new t.Nd(5,n,a),!1;for(i=0,n=e.size;i<n;i++)this.pB(this.hb[i]);return this.hb.length=0,!0},a.prototype.ut=function(e){for(var i=0,n=e.size;i<n;i++){var r=e.get(i),s=this.Sq.read(r);if(-1!=s){var o=this.fb.ka(s);this.Aj.add(o),this.fb.wd(s,-1),this.pB(this.hb[o]),this.hb[o]=null,this.Sq.write(r,-1)}-1!=(s=this.Iw.read(r))&&(o=this.fb.ka(s),this.Aj.add(o),this.fb.wd(s,-1),this.pB(this.hb[o]),this.hb[o]=null,this.Iw.write(r,-1))}for(i=0,n=e.size;i<n;i++){if(r=e.get(i),this.$f.Wb(r),(s=this.$f.mi()).oa>s.ma){var a=this.$f.xb(),c=this.Uu(s,r,this.$f.gb,!0);0<this.Aj.size?(o=this.Aj.Gc(),this.Aj.Jf(),this.hb[o]=c):(o=this.hb.length,this.hb.push(c)),s=this.fb.addElement(o,-1),-1==this.Sq.read(a)?this.Sq.write(a,s):this.Iw.write(a,s),0==(3&this.uo.read(this.$f.gb))&&this.Qm.add(s)}this.$f.ia(),(s=this.$f.ia()).oa<s.ma&&(a=this.$f.ik(),c=this.Uu(s,r,this.$f.gb,!1),0<this.Aj.size?(o=this.Aj.Gc(),this.Aj.Jf(),this.hb[o]=c):(o=this.hb.length,this.hb.push(c)),s=this.fb.addElement(o,-1),-1==this.Sq.read(a)?this.Sq.write(a,s):this.Iw.write(a,s),0==(3&this.uo.read(this.$f.gb))&&this.Qm.add(s))}for(i=0,n=this.Qm.size;i<n&&0<this.dt;i++)if(s=this.Qm.get(i),0==(3&this.uo.read(this.hb[this.fb.ka(s)].CA))){e=-1,r=this.fb.xe(s);var l=s;c=null,o=-1;for(var u=0;-1!=r&&(o=this.fb.ka(r),o=(c=this.hb[o]).CA,0==(3&(u=this.uo.read(o))));)l=r,r=this.fb.xe(r);-1==r?(a=1,r=l):(e=1==(3&u)?o:this.DA.read(o),a=0!=c.PF()?0:1,r=this.fb.lb(r));do{if(o=this.fb.ka(r),o=(c=this.hb[o]).CA,0==(3&(l=this.uo.read(o)))){if(a!=c.PF())return this.ke=new t.Nd(6,o,-1),!1;if(l=252&l|(u=0==a||c.Yp()?2:1),this.uo.write(o,u),2==u&&0==this.ke.Kj&&this.DA.read(o)!=e&&(this.ke=new t.Nd(7,o,-1),this.sl))return!1;if(this.dt--,0==this.dt)return!0}1==(3&l)&&(e=o),l=r,r=this.fb.lb(r),a=0!=a?0:1}while(l!=s)}return null!=this.Qm?this.Qm.clear(!1):this.Qm=new t.ja(0),!0},a.prototype.Uu=function(e,i,n,r){if(322!=e.K())throw t.i.Ra();return(e=this.kP(e)).Jo=i,e.CA=n,e.Aq=0,e.aX(r),e},a.prototype.kP=function(i){if(0<this.qo.length){var n=this.qo[this.qo.length-1];--this.qo.length,i.copyTo(n.ne)}else(n=new e).ne=t.KC.ig(i);return n},a.prototype.pB=function(t){322==t.ne.K()&&this.qo.push(t)},a.prototype.aU=function(){for(var e=this.Y.I(),i=new t.ja(0),n=0;n<e;n++)i.add(n);var r=this;for(i.Wd(0,e,(function(t,e){return r.Qu(t,e)})),n=1;n<e;n++)if(0==this.Qu(i.get(n-1),i.get(n)))return this.ke=new t.Nd(3,i.get(n-1),i.get(n)),0;return 2},a.prototype.zV=function(){return this.yE()&&this.vE(!0)?2:0},a.prototype.eV=function(){return this.VS()},a.prototype.fU=function(){for(var e=this.Y.I(),i=new t.ja(0),n=0;n<e;n++)i.add(n);var r=this;i.Wd(0,e,(function(t,e){return r.HO(t,e)}));var s=Array(e);for(t.P.av(s,!1),s[i.get(0)]=!0,n=1;n<e;n++){var o=i.get(n-1),a=i.get(n);0==this.Qu(o,a)?s[a]=!1:s[a]=!0}i=this.Y.Ja(),o=this.Y,a=0;var c=1;for(n=0;n<e;n++)s[n]?c=n+1:(a<c&&i.Gd(o,a,c),a=n+1);return a<c&&i.Gd(o,a,c),i.Dh(2,this.Co),i},a.prototype.DV=function(){var e=this.Y,i=e.Ha(),n=e.Ha(),r=this.Y.Ja(),s=this.Y,o=e.hasAttribute(1),a=o?t.ta.oE(this.Rg,e,!0):0,c=new t.ja(0),l=new t.ja(0);for(c.Jb(t.P.truncate(e.I()/2+1)),l.Jb(t.P.truncate(e.I()/2+1));i.ab();)if(n.ab(),!(2>e.Ka(i.gb))){n.tW();for(var u,h,d=!0;i.Ia();){var p=i.ia(),f=n.mi();if(i.xb()>n.xb())break;d&&(c.add(i.xb()),l.add(n.ik()),d=!1),h=c.Gc();var b=i.ik();if(1<b-h){var y=new t.h;y.vc(e.Oa(h),e.Oa(b)),u=y.length()}else u=p.Rb();h=l.Gc(),1<(b=n.xb())-h?((y=new t.h).vc(e.Oa(h),e.Oa(b)),h=y.length()):h=f.Rb(),u>this.Co?c.add(i.ik()):o&&(u=e.Vc(1,c.Gc(),0),p=p.hv(1,0),Math.abs(p-u)>a&&c.add(i.ik())),h>this.Co?l.add(n.xb()):o&&(u=e.Vc(1,l.Gc(),0),p=f.hv(1,0),Math.abs(p-u)>a&&l.add(n.xb()))}if(c.Gc()<l.Gc()?c.size>l.size?c.Jf():l.Jf():(c.Gc()!=l.Gc()&&l.Jf(),l.Jf()),2<=l.size+c.size){for(d=new t.Ta,f=0,p=c.size;f<p;f++)s.we(c.get(f),d),0==f?r.nf(d):r.lineTo(d);for(f=l.size-1;0<f;f--)s.we(l.get(f),d),r.lineTo(d);s.ec(i.gb)?r.Cp():0<l.size&&(s.we(l.get(0),d),r.lineTo(d))}null!=c&&c.clear(!1),null!=l&&l.clear(!1)}return r.Dh(2,this.Co),r},a.prototype.hV=function(){return this.rX()},a.prototype.rX=function(){return 1736==this.Y.K()&&1==this.Y.Jn()?t.Hg.Mk(this.Y,this.Co,!0,!1,this.nd):(this.Ii=new t.hd,this.Ii.Ib(this.Y),0!=this.Ii.gd&&(1!=this.rA&&t.Tk.W(this.Ii,this.Co,this.nd,!0),1736==this.Y.K()&&t.tn.W(this.Ii,this.Ii.ld,this.rA,!1,this.nd)),this.Y=this.Ii.Ke(this.Ii.ld),1736==this.Y.K()&&(this.Y.hm(),this.Y.Zo(0)),this.Y.Dh(2,this.Co),this.Y)},a.ss=function(e,i,n,r,s){if(null!=r&&(r.Kj=0,r.Ko=-1,r.Lo=-1),e.B())return 1;var o=e.K();if(33==o)return 1;var c=t.ta.lj(i,e,!1);if(197==o)return i=new t.l,e.A(i),i.Ci(c)?(null!=r&&(r.Kj=2,r.Ko=-1,r.Lo=-1),0):1;if(t.ba.zd(o))return(c=new t.Ua(e.description)).oc(e,!0),a.ss(c,i,n,r,s);var l=e.qm(c);if(-1!=(n=n?-1:l))return n;if(i=new a(e,i,n,s,!1),550==o)n=i.aU();else if(1607==o)n=i.zV();else{if(1736!=o)throw t.i.Ra();n=i.eV()}return e.Dh(n,c),null!=r&&0==n&&r.Xt(i.ke),n},a.VJ=function(e,i,n,r){if(e.B())return e;var s=e.K();if(33==s)return e;var o=t.ta.lj(i,e,!1);if(197==s)return i=new t.l,e.A(i),i.Ci(o)?e.Ja():e;if(t.ba.zd(s))return(s=new t.Ua(e.description)).oc(e,!0),a.VJ(s,i,n,r);if(o=e.qm(o),2==(n=n?-1:o))return e;if(e=new a(e,i,n,r,!1),550==s)e=e.fU();else if(1607==s)e=e.DV();else{if(1736!=s)throw t.i.Ra();e=e.hV()}return e},a.prototype.Nh=function(e,i,n){if(e==i)return 0;e=this.hi.get(e);var r=this.hi.get(i);i=e>>1;var s=r>>1,o=new t.h,a=new t.h;return this.lf.uc(2*i,o),o.y+=0!=(1&e)?this.Pj:-this.Pj,this.lf.uc(2*s,a),a.y+=0!=(1&r)?this.Pj:-this.Pj,0==(e=o.compare(a))&&n?0>(n=this.Hl.get(i)-this.Hl.get(s))?-1:0<n?1:0:e},a.prototype.Qu=function(e,i){if(e==i)return 0;var n=this.Y,r=n.Oa(e),s=n.Oa(i);if(r.x<s.x)return-1;if(r.x>s.x)return 1;if(r.y<s.y)return-1;if(r.y>s.y)return 1;for(r=1;r<this.eT;r++){s=this.fH.qd(r);for(var o=t.ua.Wa(s),a=0;a<o;a++){var c=n.Vc(s,e,a),l=n.Vc(s,i,a);if(c<l)return-1;if(c>l)return 1}}return 0},a.prototype.HO=function(t,e){var i=this.Qu(t,e);return 0==i?t<e?-1:1:i},a.prototype.PP=function(t,e){if(t===e)return 0;var i=t.ne.jg();t.Yp()&&i.Uq(),t=e.ne.jg(),e.Yp()&&t.Uq(),e=i.ru();var n=t.ru();return n==e?(e=i.xi(t),Math.abs(e)<=8881784197001252e-31*(Math.abs(t.x*i.y)+Math.abs(t.y*i.x))&&(e--,e++),0>e?1:0<e?-1:0):e<n?-1:1},a}();t.Hx=a}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 30},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.W=function(e,i,n,r){return e instanceof t.ba?(e=new t.$c(e),i=new t.$c(i),this.W(e,i,n,r).next()):new t.tL(e,i,n,r)},i.fp=function(e,n,r,s){var o=e.Eb(),a=n.Eb();if(e.B()&&n.B())return o>a?e:n;if(e.B())return n;if(n.B())return e;var c=new t.l,l=new t.l,u=new t.l;return e.A(c),n.A(l),u.L(c),u.$b(l),c=t.ta.Xd(r,u,!0),l=e.K(),u=n.K(),33==l&&33==u?i.RU(e,n,c):l!=u?0<o||0<a?o>a?e:n:550==l?i.aI(e,n,c):i.aI(n,e,c):t.Hg.fp(e,n,r,s)},i.RU=function(e,i,n){n=n*Math.sqrt(2)*1.00001,n*=n;var r=e.D(),s=i.D(),o=new t.de(e.description);return t.h.zc(r,s)>n&&(o.add(e),o.add(i)),o},i.aI=function(e,i,n){var r=e.vb(0),s=e.I(),o=i.D(),a=e.Ja();n=n*Math.sqrt(2)*1.00001;var c=new t.l;if(e.A(c),c.X(n,n),c.contains(o)){n*=n,c=!1;for(var l=[],u=0;u<s;u++)l[u]=!1;for(u=0;u<s;u++){var h=r.read(2*u),d=r.read(2*u+1);(h-=o.x)*h+(d-=o.y)*d<=n&&(c=!0,l[u]=!0)}if(c)for(u=0;u<s;u++)l[u]||a.Gd(e,u,u+1);else a.Gd(e,0,s),a.add(i)}else a.Gd(e,0,s),a.add(i);return a},i.instance=null,i}(t.Ge);t.Ix=e}(W||(W={})),function(t){var e=function(){function e(t,e,i,n){this.us=null==e,this.za=-1,this.Sd=t,this.vg=i,this.DT=e.next(),this.Vb=n}return e.prototype.next=function(){return this.us?null:null!=(e=this.Sd.next())?(this.za=this.Sd.Ma(),t.Ix.fp(e,this.DT,this.vg,this.Vb)):null;var e},e.prototype.Ma=function(){return this.za},e.prototype.qe=function(){},e}();t.tL=e}(W||(W={})),function(t){var e=function(){function t(){}return t.prototype.Az=function(){this.Vy=null,this.yx=-1,this.sK=!1},t}(),i=function(){function t(){this.Ir=0,this.qj=[]}return t.prototype.hN=function(t){this.Ir+=t.yx,this.qj.push(t)},t.prototype.JV=function(){this.Ir-=this.qj[this.qj.length-1].yx,--this.qj.length},t.prototype.hy=function(){return this.qj[this.qj.length-1]},t.prototype.Nb=function(t){return t===this},t}(),n=function(){function n(t,e,i){this.za=-1,this.Jc=!1,this.sH=[!1,!1,!1,!1],this.wq=[0,0,0,0],this.eA=!1,this.zk=-1,this.kq=0,this.co=-1,this.Eo=[],this.Sd=t,this.vg=e,this.Vb=i}return n.WD=function(t){var e=[],i=0;for(t=Object.keys(t);i<t.length;i++)e.push(Number(t[i]));return e.sort((function(t,e){return t-e})),e},n.prototype.YF=function(e){var i=this.Eo[e],r=n.WD(i)[0],s=i[r],o=s.hy().Vy;return s=s.hy().sK,delete i[r],s&&(o=t.$l.local().W(o,this.vg,!1,this.Vb),0==e&&33==o.K()&&(e=new t.de(o.description),o.B()||e.add(o),o=e)),o},n.prototype.next=function(){if(this.Jc&&this.co==this.zk)return null;for(;!this.iK(););if(-1==this.zk)return null;if(this.eA){for(this.co++;;){if(this.co>this.zk||0>this.co)throw t.i.Ra();if(this.sH[this.co])break}return this.za++,this.YF(this.co)}return this.za=0,this.co=this.zk,this.YF(this.zk)},n.prototype.Ma=function(){return this.za},n.prototype.iK=function(){if(this.Jc)return!0;var e=null;if(null!=this.Sd&&null==(e=this.Sd.next())&&(this.Jc=!0,this.Sd=null),t.np.Bp(this.Vb),null!=e){var i=e.Eb();this.sH[i]=!0,i>=this.zk&&!this.eA&&(this.ED(i,!1,e),i>this.zk&&!this.eA&&this.pW(i))}if(0<this.kq)for(i=0;i<=this.zk;i++)for(;1<this.wq[i]&&0!=(e=this.xO(i)).length;)e=t.Hg.NP(e,this.vg,this.Vb),this.ED(i,!0,e);return this.Jc},n.prototype.xO=function(t){for(var e=[],i=[],r=this.Eo[t],s=n.WD(r),o=0;o<s.length;o++){var a=s[o],c=r[a];if(this.Jc||1e4<c.Ir&&1<c.qj.length){for(this.wq[t]-=c.qj.length,this.kq-=c.qj.length;0<c.qj.length;)e.push(c.hy().Vy),c.JV();i.push(a)}}for(o=0;o<i.length;o++)delete r[i[o]];return e},n.prototype.pW=function(t){for(var e=0;e<t;e++)this.Eo[e]=[],this.kq-=this.wq[e],this.wq[e]=0},n.prototype.ED=function(t,r,s){var o=new e;if(o.Az(),o.Vy=s,s=n.WR(s),o.yx=s,s=n.UR(s),t+1>this.Eo.length)for(var a=0,c=Math.max(2,t+1);a<c;a++)this.Eo.push([]);void 0===(a=this.Eo[t][s])&&(a=new i,this.Eo[t][s]=a),o.sK=r,a.hN(o),this.wq[t]++,this.kq++,this.zk=Math.max(this.zk,t)},n.UR=function(e){return 0<e?t.P.truncate(Math.log(e)/Math.log(4)+.5):0},n.WR=function(e){var i=e.K();if(t.ba.yj(i))return e.I();if(33==i)return 1;if(197==i)return 4;if(t.ba.zd(i))return 2;throw t.i.Ra()},n.prototype.qe=function(){this.iK()},n}();t.vL=n}(W||(W={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),i.prototype.K=function(){return 1},i.prototype.W=function(e,i,n,r){return void 0===r?new t.vL(e,i,n):this.ZP(e,i,n,r)},i.prototype.ZP=function(e,i,n,r){return e=new t.$c([e,i]),this.W(e,n,r).next()},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.instance=null,i}(t.Ge);t.Hh=e}(W||(W={})),function(t){var e,i;(i=e||(e={}))[i.nextPath=0]="nextPath",i[i.nextSegment=1]="nextSegment",i[i.iterate=2]="iterate",e=function(){function e(e,i,n,r){this.Us=new t.l,this.wT=e,this.xT=i,this.oq=r,this.vo=-1,this.tl=!1;var s=e.Cb;null!=s&&null!=(s=r?s.Ao:s.Gb)&&(this.Jc=!1,this.ra=n,this.Gb=s,this.yw=this.Gb.getIterator(),this.pq=this.tl=!0,this.Yb=0,r?this.vo=i.ea():this.td=i.Ha()),this.tl||null!=(s=i.Cb)&&null!=(s=r?s.Ao:s.Gb)&&(this.Jc=!1,this.ra=n,this.Gb=s,this.yw=this.Gb.getIterator(),this.tl=!0,this.pq=!1,this.Yb=0,r?this.vo=e.ea():this.td=e.Ha()),this.tl||(this.di=r?t.ta.eR(e,i,n,1<=e.qm(0),1<=i.qm(0)):t.ta.dR(e,i,n))}return e.prototype.next=function(){if(this.tl){if(this.Jc)return!1;for(var e=!0;e;)switch(this.Yb){case 0:e=this.nU();break;case 1:e=this.oU();break;case 2:e=this.Pz();break;default:throw t.i.ga("internal error")}return!this.Jc}return null!=this.di&&this.di.next()},e.prototype.pl=function(){return this.tl?this.pq?this.Gb.ka(this.Gs):this.oq?this.vo:this.td.xb():this.di.pl(this.di.Wf)},e.prototype.jl=function(){return this.tl?this.pq?this.oq?this.vo:this.td.xb():this.Gb.ka(this.Gs):this.di.jl(this.di.Bf)},e.prototype.oz=function(){if(!this.oq)throw t.i.ga("internal error");return this.tl?this.pq?this.Gb.yF(this.Gs):this.Us:this.di.oz(this.di.Wf)},e.prototype.Wy=function(){if(!this.oq)throw t.i.ga("internal error");return this.tl?this.pq?this.Us:this.Gb.yF(this.Gs):this.di.Wy(this.di.Bf)},e.prototype.nU=function(){return this.oq?-1==--this.vo?(this.Jc=!0,!1):(this.pq?this.xT.Sj(this.vo,this.Us):this.wT.Sj(this.vo,this.Us),this.yw.Yi(this.Us,this.ra),this.Yb=2,!0):this.td.ab()?(this.Yb=1,!0):(this.Jc=!0,!1)},e.prototype.oU=function(){if(!this.td.Ia())return this.Yb=0,!0;var t=this.td.ia();return this.yw.Vo(t,this.ra),this.Yb=2,!0},e.prototype.Pz=function(){return this.Gs=this.yw.next(),-1==this.Gs&&(this.Yb=this.oq?0:1,!0)},e}(),t.am=e}(W||(W={})),function(t){(t=t.GL||(t.GL={}))[t.enumClosed=1]="enumClosed",t[t.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",t[t.enumOGCStartPolygon=4]="enumOGCStartPolygon",t[t.enumCalcMask=4]="enumCalcMask"}(W||(W={})),function(t){t.IC=function(){function e(){}return e.ub=function(i,n,r,s,o,a,c,l,u){var h=[0,0,0],d=[0,0,0],p=[0,0,0],f=[0,0,0,0],b=new t.ha(0),y=new t.ha(0),m=new t.ha(0);if(null!=c||null!=l||null!=u)if(t.s.ui(n))t.Zg.ub(i,r,s,o,a,c,l,u);else{o=t.F.ca(o),r=t.F.ca(r);var g=t.F.ca(o-r);if(t.s.$(s,a)&&(t.s.$(r,o)||t.s.$(t.s.R(s),1.570796326794897)))null!=c&&(c.u=0),null!=l&&(l.u=0),null!=u&&(u.u=0);else{if(t.s.$(s,-a)){if(t.s.$(t.s.R(s),1.570796326794897))return null!=c&&(c.u=2*t.F.Bh(i,n)),null!=l&&(l.u=0<s?t.F.ca(3.141592653589793-t.F.ca(o)):t.F.ca(o)),void(null!=u&&(u.u=0<s?t.F.ca(o):t.F.ca(3.141592653589793-t.F.ca(o))));t.s.$(t.s.R(g),3.141592653589793)&&(null!=c&&(c.u=2*t.F.Bh(i,n)),null!=l&&(l.u=0),null!=u&&(u.u=0))}else{if(t.s.$(t.s.R(s),1.570796326794897)||t.s.$(t.s.R(a),1.570796326794897))return void t.Xk.ub(i,n,r,s,o,a,c,l,u);if(t.s.$(r,o)||t.s.$(t.s.R(g),3.141592653589793))return void t.Xk.ub(i,n,r,s,o,a,c,l,u);if(t.s.Dd(s))return void t.Xk.ub(i,n,r,s,o,a,c,l,u)}var v=Math.sqrt(1-n);o=t.F.ca(o-r),r=0,t.F.dl(1,n,s,r,0,b,y,m),h[0]=b.u,h[1]=y.u,h[2]=m.u,t.F.dl(1,n,a,o,0,b,y,m),d[0]=b.u,d[1]=y.u,d[2]=m.u,p[0]=0,p[1]=0,p[2]=-1*n*t.F.n(1,n,s)*Math.sin(s),0>o?t.F.Yq(p,d,h,f,0):t.F.Yq(p,h,d,f,0),y=[0,0,0],m=[0,0,0];var w=[0,0,0];h=[0,0,0],b=[0,0,0];var O=Math.acos(f[2]/1),j=1-n,_=Math.tan(O),x=1+_*_/j,S=2*p[2]*_/j;for(j=(-S+(_=Math.sqrt(S*S-4*x*(p[2]*p[2]/j-1))))/(x*=2),S=(-S-_)/x,_=Math.tan(O),O=(j+S)/2,p=((x=_*j+p[2])+(_*S+p[2]))/2,_=t.F.hp(j-O,x-p),j=p/v*1.570796326794897,S=0;100>S&&(x=(x=t.F.w(n,j))*x/Math.cos(j)*(Math.sin(j)-p*x/(1-n)),!t.s.Dd(x));S++)j-=x;p=t.F.n(1,n,j)*Math.cos(j),_=1-_/(p=Math.sqrt((p-O)*(p+O))),_*=2-_,x=t.F.qn(y),O=t.F.qn(m),j=t.F.qn(w);var M=t.F.Tt(w,y);S=t.F.Tt(w,m),t.F.xx(w,y,h),t.F.xx(w,m,b),y=Math.acos(M/(j*x)),m=Math.acos(S/(j*O)),m*=t.s.Mb(1,t.F.Tt(h,b)),(1.570796326794897<=t.s.R(y)&&1.570796326794897<=t.s.R(m)||3.141592653589793<t.s.R(y-m))&&(y=(3.141592653589793-t.s.R(y))*t.s.Mb(1,y),m=(3.141592653589793-t.s.R(m))*t.s.Mb(1,m)),h=t.F.Rj(_,m),b=t.F.q(p,_,t.F.Rj(_,y)),h=t.F.q(p,_,h),h=t.s.R(h-b)*i,y=new t.ha(0),m=new t.ha(0),w=f[1]/1,w*=-t.s.Mb(1,g),b=Math.acos(w)*t.s.Mb(1,g),e.sf(i,n,r,s,h,b,y,m),t.s.$(o,y.u)&&t.s.$(a,m.u)||(_=t.F.hp(t.F.ca(o-y.u),a-m.u),e.sf(i,n,r,s,h,t.F.ca(b+3.141592653589793),y,m),(x=t.F.hp(t.F.ca(o-y.u),a-m.u))<_&&(b=t.F.ca(b+3.141592653589793))),y=[0,0,0,0],m=[0,0,0,0],_=[0,0,0],i=[0,0,0],r=[0,0,0],s=[0,0,0],w=[0,0,0],(p=[0,0,0])[0]=0,p[1]=0,p[2]=v,_[0]=0,_[1]=0,_[2]=0,t.F.Yq(_,p,d,y,0),t.s.Dd(a)?(i[0]=d[0],i[1]=d[1],i[2]=1,r[0]=1*Math.cos(o)-1*Math.sin(o),r[1]=1*Math.sin(o)+1*Math.cos(o)):(n=t.F.n(1,n,a)*Math.cos(a),i[0]=0,i[1]=0,d[2]+=Math.tan(1.570796326794897-t.s.R(a))*n*t.s.Mb(1,a),r[0]=n*Math.cos(o)-n*Math.sin(o),r[1]=n*Math.sin(o)+n*Math.cos(o)),r[2]=d[2],t.F.Yq(d,r,i,m,1),t.F.xx(m,y,s),t.F.xx(m,f,w),w=t.F.Tt(s,w)/(t.F.qn(s)*t.F.qn(w)),w*=t.s.Mb(1,g),o=Math.acos(w)*-t.s.Mb(1,g),(0<b&&0<o||0>b&&0>o)&&(o=t.F.ca(o+3.141592653589793)),null!=c&&(c.u=h),null!=l&&(l.u=b),null!=u&&(u.u=o)}}},e.sf=function(e,i,n,r,s,o,a,c){var l=[0,0,0],u=[0,0,0],h=[0,0,0],d=[0,0,0],p=[0,0,0],f=[0,0,0],b=[0,0,0],y=[0,0,0,0],m=new t.ha(0),g=new t.ha(0),v=new t.ha(0),w=new t.ha(0),O=new t.ha(0),j=new t.ha(0);if(null!=a&&null!=c)if(t.s.ui(i))t.Zg.sf(e,n,r,s,o,a,c);else if(t.s.Dd(s))null!=a&&(a.u=n),null!=c&&(c.u=r);else if(o=t.F.ca(o),0>s&&(s=t.s.R(s),o=t.F.ca(o+3.141592653589793)),n=t.F.ca(n),r=t.F.ca(r),1.570796326794897<t.s.R(r)&&(n=t.F.ca(n+3.141592653589793),r=t.s.Mb(3.141592653589793,r)-r),t.s.$(t.s.R(r),1.570796326794897)||t.s.Dd(r)||t.s.Dd(o)||t.s.$(t.s.R(o),3.141592653589793))t.Xk.sf(e,i,n,r,s,o,a,c);else{var _=Math.sqrt(1-i);for(e=s/e,t.F.dl(1,i,r,0,0,w,O,j),l[0]=w.u,l[1]=O.u,l[2]=O.u,b[0]=0,b[1]=0,b[2]=-1*i*t.F.n(1,i,r)*Math.sin(r),w=t.F.n(1,i,r),O=t.F.ca(1.570796326794897-o),j=Math.sin(O),s=Math.cos(r),r=Math.sin(r),p[0]=w*s-r*j,p[1]=Math.cos(O),p[2]=(1-i)*w*r+s*j,0>o?t.F.Yq(b,p,l,y,0):t.F.Yq(b,l,p,y,0),l=Math.acos(y[2]/1),y=Math.atan2(-y[1],-y[0]),r=1-i,O=1+(p=Math.tan(l))*p/r,r=(-(w=2*b[2]*p/r)+(p=Math.sqrt(w*w-4*O*(b[2]*b[2]/r-1))))/(O*=2),w=(-w-p)/O,p=Math.tan(l),l=(r+w)/2,b=((O=p*r+b[2])+(p*w+b[2]))/2,p=t.F.hp(r-l,O-b),_=b/_*1.570796326794897,r=0;100>r&&(w=(w=t.F.w(i,_))*w/Math.cos(_)*(Math.sin(_)-b*w/(1-i)),!t.s.Dd(w));r++)_-=w;_=t.F.n(1,i,_)*Math.cos(_),b=1-p/(_=Math.sqrt((_-l)*(_+l))),b*=2-b,f=Math.acos(t.F.Tt(f,u)/(t.F.qn(f)*t.F.qn(u))),f*=t.s.Mb(1,u[0]),o=(t.F.q(_,b,t.F.Rj(b,f))+e*t.s.Mb(1,o))/t.F.Bh(_,b),o=t.F.ca(1.570796326794897*o),o=t.F.Tq(b,o),t.F.n(_,b,o),p=t.F.ca(y+n),n=Math.cos(p),o=Math.sin(p),h[0]=d[0]*n+d[1]*-o,h[1]=d[0]*o+d[1]*n,h[2]=d[2],t.F.bO(i,h[0],h[1],h[2],v,g,m),null!=a&&(a.u=g.u),null!=c&&(c.u=v.u)}},e}()}(W||(W={})),function(t){var e=function(){function e(e){this.Za=null,this.wt=new t.h,this.xt=new t.h,this.g=e}return e.prototype.compare=function(t,e,i){return this.g.Hc(e,this.wt),this.g.Hc(t.ka(i),this.xt),this.wt.compare(this.xt)},e}(),i=function(){function e(e){this.Cf=new t.h,this.Dk=new t.h,this.g=e}return e.prototype.Eh=function(t){this.Cf.N(t)},e.prototype.compare=function(t,e){return this.g.Hc(t.ka(e),this.Dk),this.Cf.compare(this.Dk)},e}(),n=function(t){function e(e){var i=t.call(this,e.g,e.ra,!1)||this;return i.ib=e,i}return Y(e,t),e.prototype.compare=function(t,e,i){if(this.rg)return-1;var n=this.ib.Rd.Kn(this.ib.Sh(e));t=t.ka(i);var r=this.ib.Rd.Kn(this.ib.Sh(t));return this.Fm=i,this.JE(e,n,t,r)},e}(t.MC),r=function(t){function e(e){var i=t.call(this,e.g,e.ra)||this;return i.ib=e,i}return Y(e,t),e.prototype.compare=function(t,e){return this.rg?-1:(t=this.ib.Rd.Kn(this.ib.Sh(t.ka(e))),this.Fm=e,this.KE(e,t))},e}(t.TL),s=function(){function s(){this.Nc=this.df=this.ko=this.Rd=this.mh=this.Ad=this.hb=this.g=null,this.Og=!1,this.wh=this.Pm=this.ie=this.Gk=this.oh=this.Ak=this.Gf=this.ae=null,this.yh=this.Lq=this.OA=this.ra=0,this.Yv=this.Xn=!1,this.zo=new t.h,this.Qi=new t.h,this.hb=new t.ad(8),this.Ad=new t.ad(5),this.mh=new t.bu,this.Rd=new t.bu,this.Og=!1,this.wh=new t.h,this.wh.na(0,0),this.ra=0,this.yh=-1,this.Xn=!1,this.g=null,this.df=new t.Yj,this.Nc=new t.Yj,this.oh=new t.ja(0),this.Gk=new t.LC,this.Gf=new t.ja(0),this.Ak=new t.ja(0),this.ko=new t.Ta}return s.prototype.DX=function(e,i){var n=new t.Ed;return n.TB(),e.Pc(n),this.gr(e),this.Xn=!1,this.ra=i,this.OA=i*i,i=this.cC(),e.Pc(n),i||(this.iQ(),i||this.cC()),-1!=this.yh&&(this.g.Ud(this.yh),this.yh=-1),this.g=null,this.Xn},s.prototype.HX=function(t,e){this.gr(t),this.Xn=!1,this.ra=e,this.OA=e*e,this.Og=!1,this.cC(),this.Og||(this.Og=1==t.Ip(e,!0,!1)),-1!=this.yh&&(this.g.Ud(this.yh),this.yh=-1),this.g=null},s.prototype.pg=function(t,e){return this.hb.U(t,0+e)},s.prototype.FB=function(t,e,i){this.hb.T(t,0+e,i)},s.prototype.Sh=function(t){return this.hb.U(t,2)},s.prototype.MW=function(t,e){this.hb.T(t,2,e)},s.prototype.JF=function(t,e){return this.hb.U(t,3+e)},s.prototype.Rp=function(t){return this.hb.U(t,7)},s.prototype.Rl=function(t,e){this.hb.T(t,7,e)},s.prototype.Tp=function(t,e){return this.hb.U(t,3+this.Qp(t,e))},s.prototype.hr=function(t,e,i){this.hb.T(t,3+this.Qp(t,e),i)},s.prototype.ER=function(t,e){return this.hb.U(t,5+this.Qp(t,e))},s.prototype.jr=function(t,e,i){this.hb.T(t,5+this.Qp(t,e),i)},s.prototype.Tr=function(t){return this.Ad.U(t,0)},s.prototype.IW=function(t,e){this.Ad.T(t,0,e)},s.prototype.$y=function(t){return this.Ad.U(t,4)},s.prototype.er=function(t,e){this.Ad.T(t,4,e)},s.prototype.kl=function(t){return this.Ad.U(t,1)},s.prototype.nn=function(t,e){this.Ad.T(t,1,e)},s.prototype.Zy=function(t){return this.Ad.U(t,3)},s.prototype.Et=function(t,e){this.Ad.T(t,3,e)},s.prototype.$m=function(t){var e=this.Ad.De(),i=this.mh.Qh();return this.IW(e,i),-1!=t?(this.mh.addElement(i,t),this.g.Sa(t,this.yh,e),this.er(e,this.g.Va(t))):this.er(e,-1),e},s.prototype.zP=function(t){this.Ad.kd(t)},s.prototype.CD=function(t,e){this.mh.addElement(this.Tr(t),e),this.g.Sa(e,this.yh,t)},s.prototype.nt=function(t){var e=this.hb.De(),i=this.Rd.Qh();return this.MW(e,i),-1!=t&&this.Rd.addElement(i,t),e},s.prototype.DD=function(t,e){this.Rd.addElement(this.Sh(t),e)},s.prototype.Wu=function(t){this.hb.kd(t),0<=(t=this.oh.dF(t))&&this.oh.IV(t)},s.prototype.ij=function(e,i){if(-1==this.pg(e,0))this.FB(e,0,i);else{if(-1!=this.pg(e,1))throw t.i.Ra();this.FB(e,1,i)}this.fy(e,i)},s.prototype.fy=function(t,e){var i=this.kl(e);if(-1!=i){var n=this.Tp(i,e);this.jr(n,e,t),this.hr(t,e,n),this.hr(i,e,t),this.jr(t,e,i)}else this.jr(t,e,t),this.hr(t,e,t),this.nn(e,t)},s.prototype.Qp=function(t,e){return this.pg(t,0)==e?0:1},s.prototype.Zm=function(t,e){var i,n=this.Zy(e);if(-1!=n&&(this.df.wd(n,-1),this.Et(e,-1)),-1!=(n=this.kl(e))){var r=i=n;do{var s=!1,o=this.Qp(i,e),a=this.JF(i,o);if(this.pg(i,o+1&1)==t){if(this.Yu(i),this.Rd.dh(this.Sh(i)),this.Wu(i),i==a){n=-1;break}n==i&&(n=this.kl(e),r=a,s=!0)}i=a}while(i!=r||s);if(-1!=n){do{o=this.Qp(i,e),a=this.JF(i,o),this.FB(i,o,t),i=a}while(i!=r);-1!=(i=this.kl(t))?(r=this.Tp(i,t),s=this.Tp(n,t),r==i?(this.nn(t,n),this.fy(i,t),this.nn(t,i)):s==n&&this.fy(n,t),this.hr(n,t,r),this.jr(r,t,n),this.hr(i,t,s),this.jr(s,t,i)):this.nn(t,n)}}for(n=this.Tr(t),i=this.Tr(e),r=this.mh.sc(i);-1!=r;r=this.mh.lb(r))this.g.Sa(this.mh.ka(r),this.yh,t);this.mh.By(n,i),this.zP(e)},s.prototype.KT=function(t,e){var i=this.pg(t,0),n=this.pg(t,1),r=this.pg(e,0),s=this.pg(e,1);this.Rd.By(this.Sh(t),this.Sh(e)),e==this.kl(i)&&this.nn(i,t),e==this.kl(n)&&this.nn(n,t),this.Yu(e),this.Wu(e),i==r&&n==s||n==r&&i==s||(this.In(i,this.zo),this.In(r,this.Qi),this.zo.rb(this.Qi)?(i!=r&&this.Zm(i,r),n!=s&&this.Zm(n,s)):(n!=r&&this.Zm(n,r),i!=s&&this.Zm(i,s)))},s.prototype.Yu=function(t){var e=this.pg(t,1);this.WE(t,this.pg(t,0)),this.WE(t,e)},s.prototype.WE=function(t,e){var i=this.Tp(t,e),n=this.ER(t,e),r=this.kl(e);i!=t?(this.hr(n,e,i),this.jr(i,e,n),r==t&&this.nn(e,i)):this.nn(e,-1)},s.prototype.OD=function(t,e,i){var n=this.Rd.sc(t),r=this.Rd.ka(n);t=this.Ie(r);var s=this.Ie(this.g.V(r));for(this.g.lr(r,e,i,!0),n=this.Rd.lb(n);-1!=n;n=this.Rd.lb(n)){r=this.Rd.ka(n);var o=this.Ie(r)==t;this.g.lr(r,e,i,o)}n=e.Xp(i,0).ac(),e=e.Xp(i,e.ql(i)-1).xc(),this.tK(t,n),this.tK(s,e)},s.prototype.RE=function(t,e,i){var n=this.Sh(t),r=this.pg(t,0),s=this.pg(t,1),o=this.nt(-1);for(this.oh.add(o),this.Rl(o,-3),this.Gf.add(o),this.ij(o,r),t=1,e=e.ql(i);t<e;t++)i=this.$m(-1),this.Ak.add(i),this.Gf.add(i),this.ij(o,i),o=this.nt(-1),this.oh.add(o),this.Rl(o,-3),this.Gf.add(o),this.ij(o,i);for(this.ij(o,s),n=this.Rd.sc(n);-1!=n;n=this.Rd.lb(n))if(s=this.Rd.ka(n),this.Ie(s)==r){t=0;do{0<t&&(o=this.Gf.get(t-1),this.CD(o,s),-1==this.$y(o)&&this.er(o,this.g.Va(s))),o=this.Gf.get(t),t+=2,this.DD(o,s),s=this.g.V(s)}while(t<this.Gf.size)}else{t=this.Gf.size-1;do{t<this.Gf.size-2&&(o=this.Gf.get(t+1),this.CD(o,s),0>this.$y(o)&&this.er(o,this.g.Va(s))),o=this.Gf.get(t),t-=2,this.DD(o,s),s=this.g.V(s)}while(0<=t)}this.Gf.clear(!1)},s.prototype.Ie=function(t){return this.g.Qa(t,this.yh)},s.prototype.KI=function(e,i,n){var r=this.pg(i,0),s=new t.h;this.In(r,s);var o=new t.h,a=this.pg(i,1);this.In(a,o);var c=n.ql(e),l=n.Xp(e,0),u=new t.h;if(l.$p(u),!s.rb(u)){if(!this.Og){var h=s.compare(this.wh);0>h*(u=u.compare(this.wh))&&(this.Og=!0)}this.nF(r,this.Gf),this.Ak.add(r)}for(!this.Og&&1<c&&(h=s.compare(o),l=l.xc(),(s.compare(l)!=h||l.compare(o)!=h||0>l.compare(this.wh))&&(this.Og=!0)),e=(l=n.Xp(e,c-1)).xc(),o.rb(e)||(this.Og||0>(h=o.compare(this.wh))*(u=e.compare(this.wh))&&(this.Og=!0),this.nF(a,this.Gf),this.Ak.add(a)),this.Gf.add(i),o=0,a=this.Gf.size;o<a;o++)e=this.Gf.get(o),n=this.Rp(e),t.ad.DG(n)&&(this.Nc.wd(n,-1),this.Rl(e,-1)),e!=i&&-3!=this.Rp(e)&&(this.oh.add(e),this.Rl(e,-3));this.Gf.clear(!1)},s.prototype.dO=function(t,e){this.ae.compare(this.Nc,this.Nc.ka(t),e),this.ae.rg&&(this.ae.Lr(),this.gF(t,e))},s.prototype.gF=function(e,i){this.Xn=!0,e=this.Nc.ka(e),i=this.Nc.ka(i);var n=this.Rd.Kn(this.Sh(e)),r=this.Rd.Kn(this.Sh(i)),s=this.g.cc(n);null==s&&(null==this.ie&&(this.ie=new t.zb),this.g.fd(n,this.ie),s=this.ie),null==(n=this.g.cc(r))&&(null==this.Pm&&(this.Pm=new t.zb),this.g.fd(r,this.Pm),n=this.Pm),this.Gk.Po(s),this.Gk.Po(n),this.Gk.Fa(this.ra,!0)&&(this.Og=!0),this.$J(e,i,-1,this.Gk),this.Gk.clear()},s.prototype.yQ=function(e,i){this.Xn=!0,i=this.Nc.ka(i);var n=this.Rd.Kn(this.Sh(i)),r=this.g.cc(n);null==r&&(null==this.ie&&(this.ie=new t.zb),this.g.fd(n,this.ie),r=this.ie),n=this.tF(e),this.Gk.Po(r),this.g.Wi(n,this.ko),this.Gk.Fz(this.ra,this.ko,!0),this.$J(i,-1,e,this.Gk),this.Gk.clear()},s.prototype.oS=function(){if(0!=this.oh.size)for(;0!=this.oh.size;){if(this.oh.size>Math.max(100,this.g.gd)){this.oh.clear(!1),this.Og=!0;break}var t=this.oh.Gc();this.oh.Jf(),this.Rl(t,-1),-1!=this.MS(t)&&this.nS(t),this.Wn=!1}},s.prototype.nS=function(t){if(this.Wn){var e=this.Nc.Au(this.EH,this.yH,t,!0);this.Wn=!1}else e=this.Nc.BD(t);-1==e?this.KT(this.Nc.ka(this.Nc.xF()),t):(this.Rl(t,e),this.ae.rg&&(this.ae.Lr(),this.gF(this.ae.Fm,e)))},s.prototype.MS=function(e){var i=this.pg(e,0);if(e=this.pg(e,1),this.In(i,this.zo),this.In(e,this.Qi),t.h.zc(this.zo,this.Qi)<=this.OA)return this.Og=!0,-1;var n=this.zo.compare(this.wh),r=this.Qi.compare(this.wh);return 0>=n&&0<r?e:0>=r&&0<n?i:-1},s.prototype.gQ=function(){var e=new t.ja(0);e.Jb(this.g.gd);for(var i=this.g.$q(),n=i.next();-1!=n;n=i.next())-1!=this.g.Qa(n,this.yh)&&e.add(n);this.g.mx(e,e.size),this.hQ(e)},s.prototype.hQ=function(i){this.df.clear(),this.df.Ee(i.size),this.df.Wo(new e(this.g));var n=new t.h;n.Sc();for(var r=-1,s=new t.h,o=0,a=i.size;o<a;o++){var c=i.get(o);this.g.Hc(c,s),s.rb(n)?(c=this.g.Qa(c,this.yh),this.Zm(r,c)):(r=this.Ie(c),this.g.Hc(c,n),c=this.df.yn(c),this.Et(r,c))}},s.prototype.iQ=function(){var e=new t.ja(0);e.Jb(this.g.gd);for(var i=this.df.sc(-1);-1!=i;i=this.df.lb(i))e.add(this.df.ka(i));this.df.clear(),this.g.mx(e,e.size),i=0;for(var n=e.size;i<n;i++){var r=e.get(i),s=this.Ie(r);r=this.df.yn(r),this.Et(s,r)}},s.prototype.nF=function(e,i){var n=this.kl(e);if(-1!=n){var r=n;do{t.ad.DG(this.Rp(r))&&i.add(r),r=this.Tp(r,e)}while(r!=n)}},s.prototype.tK=function(t,e){for(t=this.mh.sc(this.Tr(t));-1!=t;t=this.mh.lb(t))this.g.mf(this.mh.ka(t),e)},s.prototype.$J=function(t,e,i,n){this.Yu(t),-1!=e&&this.Yu(e),this.KI(0,t,n),-1!=e&&this.KI(1,e,n),-1!=i&&(n.Cf.D(this.zo),this.In(i,this.Qi),this.Qi.rb(this.zo)||this.Ak.add(i)),i=0;for(var r=this.Ak.size;i<r;i++){var s=this.Ak.get(i),o=this.Zy(s);-1!=o&&(this.df.wd(o,-1),this.Et(s,-1))}for(i=this.Sh(t),r=-1!=e?this.Sh(e):-1,this.OD(i,n,0),-1!=e&&this.OD(r,n,1),this.RE(t,n,0),-1!=e&&this.RE(e,n,1),this.Rd.dh(i),this.Wu(t),-1!=e&&(this.Rd.dh(r),this.Wu(e)),i=0,r=this.Ak.size;i<r;i++)(s=this.Ak.get(i))==this.Lq&&(this.Yv=!0),-1==(o=this.Zy(s))&&(-1==(o=this.df.BD(this.tF(s)))?(t=this.Ie(this.df.ka(this.df.xF())),this.Zm(t,s)):this.Et(s,o));this.Ak.clear(!1)},s.prototype.In=function(t,e){this.g.WF(this.$y(t),e)},s.prototype.tF=function(t){return this.mh.Kn(this.Tr(t))},s.prototype.cC=function(){this.Yv=!1,this.Lq=-1,null==this.ae&&(this.Nc.Sv=!1,this.ae=new n(this),this.Nc.$n=this.ae);var e=new t.ja(0),s=null,o=null;this.yH=this.EH=-1,this.Wn=!1;for(var a=this.df.sc(-1);-1!=a;){this.Wn=!1;var c=this.df.ka(a);this.Lq=this.Ie(c),this.g.Hc(c,this.wh),this.ae.SJ(this.wh.y,this.wh.x);var l=this.kl(this.Lq),u=-1==l;if(!u){c=l;do{var h=this.Rp(c);-1==h?(this.oh.add(c),this.Rl(c,-3)):-3!=h&&e.add(h),c=this.Tp(c,this.Lq)}while(c!=l)}if(0<e.size){for(this.Wn=1==e.size&&1==this.oh.size,u=0,l=e.size;u<l;u++)c=this.Nc.ka(e.get(u)),this.Rl(c,-2);var d=-2,p=-2;for(u=0,l=e.size;u<l;u++){if(h=e.get(u),-2==d){var f=this.Nc.xe(h);-1!=f?(c=this.Nc.ka(f),-2!=(c=this.Rp(c))&&(d=f)):d=-1}if(-2==p&&(-1!=(h=this.Nc.lb(h))?(c=this.Nc.ka(h),-2!=(c=this.Rp(c))&&(p=h)):p=-1),-2!=d&&-2!=p)break}for(u=0,l=e.size;u<l;u++)h=e.get(u),c=this.Nc.ka(h),this.Nc.wd(h,-1),this.Rl(c,-1);e.clear(!1),this.EH=-1!=d?d:-1,this.yH=-1!=p?p:-1,-1!=d&&-1!=p?this.Wn||this.dO(d,p):-1==d&&-1==p&&(this.Wn=!1)}else u&&(null==s&&(s=new r(this)),s.Eh(this.wh),this.Nc.mJ(s),s.rg&&(s.Lr(),this.yQ(this.Lq,s.Fm)));this.oS(),this.Yv?(this.Yv=!1,null==o&&(o=new i(this.g)),o.Eh(this.wh),a=this.df.mJ(o)):a=this.df.lb(a)}return this.Xn},s.prototype.gr=function(e){for(this.g=e,this.yh=this.g.Hd(),this.hb.Ee(e.gd+32),this.Ad.Ee(e.gd),this.mh.At(e.gd),this.mh.hn(e.gd),this.Rd.At(e.gd+32),this.Rd.hn(e.gd+32),e=this.g.ld;-1!=e;e=this.g.ve(e))if(t.ba.Ic(this.g.jc(e)))for(c=this.g.Ob(e);-1!=c;c=this.g.Sb(c)){var i=this.g.Ka(c),n=this.g.Ya(c),r=this.$m(n),s=this.nt(n);for(this.ij(s,r),l=this.g.V(n),n=0,i-=2;n<i;n++){var o=this.g.V(l),a=this.$m(l);this.ij(s,a),s=this.nt(l),this.ij(s,a),l=o}this.g.ec(c)?(a=this.$m(l),this.ij(s,a),s=this.nt(l),this.ij(s,a),this.ij(s,r)):(a=this.$m(l),this.ij(s,a))}else for(var c=this.g.Ob(e);-1!=c;c=this.g.Sb(c)){var l=this.g.Ya(c);for(r=0,i=this.g.Ka(c);r<i;r++)this.$m(l),l=this.g.V(l)}this.gQ()},s}();t.JC=s}(W||(W={})),function(t){var e=function(e){function i(n,r,s){var o=e.call(this)||this;if(void 0!==n)if(void 0!==s){o.description=t.ee.og();var a=new t.Od;a.L(n,r,s),o.XB(a)}else if(void 0!==r)o.description=t.ee.og(),o.Db(n,r);else if(n instanceof t.ua)o.description=n;else if(n instanceof t.h)o.description=t.ee.og(),o.Db(n);else{if(!(n instanceof i))throw t.i.O();o.description=n.description,o.Db(n.Mg(),n.jh()),null!==n.la&&(o.la=n.la.slice(0))}else o.description=t.ee.og();return o}return Y(i,e),i.prototype.D=function(e){if(void 0===e){if(this.Bc())throw t.i.ga("This operation should not be performed on an empty geometry.");return(e=new t.h).na(this.la[0],this.la[1]),e}if(this.Bc())throw t.i.ga("This operation should not be performed on an empty geometry.");e.na(this.la[0],this.la[1])},i.prototype.Db=function(t,e){"number"==typeof t?(this.wc(),null==this.la&&this.up(),this.la[0]=t,this.la[1]=e):(this.wc(),this.Db(t.x,t.y))},i.prototype.xz=function(){if(this.Bc())throw t.i.ga("This operation should not be performed on an empty geometry.");var e=new t.Od;return e.x=this.la[0],e.y=this.la[1],e.z=this.description.aG()?this.la[2]:t.ua.te(1),e},i.prototype.XB=function(e){this.wc();var i=this.hasAttribute(1);i||t.ua.vG(1,e.z)||(this.se(1),i=!0),null==this.la&&this.up(),this.la[0]=e.x,this.la[1]=e.y,i&&(this.la[2]=e.z)},i.prototype.Mg=function(){if(this.Bc())throw t.i.ga("This operation should not be performed on an empty geometry.");return this.la[0]},i.prototype.WB=function(t){this.setAttribute(0,0,t)},i.prototype.jh=function(){if(this.Bc())throw t.i.ga("This operation should not be performed on an empty geometry.");return this.la[1]},i.prototype.TJ=function(t){this.setAttribute(0,1,t)},i.prototype.TR=function(){return this.Vc(1,0)},i.prototype.kX=function(t){this.setAttribute(1,0,t)},i.prototype.rR=function(){return this.Vc(2,0)},i.prototype.VW=function(t){this.setAttribute(2,0,t)},i.prototype.Fc=function(){return this.qF(3,0)},i.prototype.DJ=function(t){this.setAttribute(3,0,t)},i.prototype.Vc=function(e,i){var n=this.description.Qf(e);return 0<=n?this.la[this.description.$j(n)+i]:t.ua.te(e)},i.prototype.qF=function(e,i){var n=this.description.Qf(e);return 0<=n?this.la[this.description.$j(n)+i]:t.ua.te(e)},i.prototype.setAttribute=function(t,e,i){this.wc();var n=this.description.Qf(t);0>n&&(this.se(t),n=this.description.Qf(t)),null==this.la&&this.up(),this.la[this.description.$j(n)+e]=i},i.prototype.K=function(){return 33},i.prototype.Eb=function(){return 0},i.prototype.Pa=function(){this.wc(),null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)},i.prototype.un=function(e){if(null!=this.la){for(var i=t.ee.Jw(e,this.description),n=[],r=0,s=0,o=e.Ba;s<o;s++){var a=e.qd(s),c=t.ua.Wa(a);if(-1==i[s]){var l=t.ua.te(a);for(a=0;a<c;a++)n[r]=l,r++}else for(l=this.description.$j(i[s]),a=0;a<c;a++)n[r]=this.la[l],r++,l++}this.la=n}this.description=e},i.prototype.up=function(){this.dJ(this.description.Be.length),i.VD(this.description.Be,this.la,this.description.Be.length),this.la[0]=NaN,this.la[1]=NaN},i.prototype.Pc=function(e){if(e instanceof t.Ed){if(!this.Bc()){var i=this.D();e.Fh(i,i),this.Db(i)}}else this.Bc()||(this.se(1),i=this.xz(),this.XB(e.gp(i)))},i.prototype.copyTo=function(e){if(33!=e.K())throw t.i.O();e.wc(),null==this.la?(e.Pa(),e.la=null,e.kg(this.description)):(e.kg(this.description),e.dJ(this.description.Be.length),i.VD(this.la,e.la,this.description.Be.length))},i.prototype.Ja=function(){return new i(this.description)},i.prototype.B=function(){return this.Bc()},i.prototype.Bc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])},i.prototype.dn=function(t){t.Pa(),this.description!=t.description&&t.kg(this.description),t.$b(this)},i.prototype.A=function(t){this.Bc()?t.Pa():(t.v=this.la[0],t.G=this.la[1],t.C=this.la[0],t.H=this.la[1])},i.prototype.Ro=function(t){if(this.Bc())t.Pa();else{var e=this.xz();t.v=e.x,t.G=e.y,t.Xe=e.z,t.C=e.x,t.H=e.y,t.Dg=e.z}},i.prototype.Ug=function(e,i){var n=new t.Oc;return this.Bc()?(n.Pa(),n):(e=this.Vc(e,i),n.pa=e,n.wa=e,n)},i.prototype.dJ=function(e){if(null==this.la)this.la=t.P.lg(e);else if(this.la.length<e){for(var i=this.la.slice(0),n=this.la.length;n<e;n++)i[n]=0;this.la=i}},i.VD=function(t,e,i){if(0<i)for(i=0;i<t.length;i++)e[i]=t[i]},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i)||this.description!=t.description)return!1;if(this.Bc())return!!t.Bc();for(var e=0,n=this.description.Be.length;e<n;e++)if(this.la[e]!=t.la[e])return!1;return!0},i.prototype.dc=function(){var e=this.description.dc();if(!this.Bc())for(var i=0,n=this.description.Be.length;i<n;i++){var r=this.la[i];r=t.P.truncate(r^r>>>32),e=t.P.Uh(r,e)}return e},i.prototype.mg=function(){return null},i}(t.ba);t.Ta=e}(W||(W={})),function(t){var e=function(){function t(t,e,i){void 0!==t&&(this.x=t,this.y=e,this.z=i)}return t.construct=function(e,i,n){var r=new t;return r.x=e,r.y=i,r.z=n,r},t.prototype.L=function(t,e,i){this.x=t,this.y=e,this.z=i},t.prototype.kx=function(){this.z=this.y=this.x=0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x/=t,this.y/=t,this.z/=t)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.Ag=function(e){new t(this.x*e,this.y*e,this.z*e)},t.prototype.Rh=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t}();t.Od=e}(W||(W={})),function(t){var e=function(){function e(t,e,i){this.Hw=this.xA=null,this.Yf=e,this.vT=e.y-i,this.uT=e.y+i,this.Fw=0,this.Zz=t,this.ra=i,this.HT=i*i,this.$z=0!=i,this.Mv=!1}return e.prototype.result=function(){return 0!=this.Fw?1:0},e.prototype.RM=function(e){return e=e.ic(e.fe(this.Yf,!1)),t.h.zc(e,this.Yf)<=this.HT},e.prototype.YE=function(t){if(!this.$z&&(this.Zz&&this.Yf.rb(t.ac())||this.Yf.rb(t.xc())))this.Mv=!0;else if(t.oa==this.Yf.y&&t.oa==t.ma){if(this.Zz&&!this.$z){var e=Math.max(t.sa,t.qa);this.Yf.x>Math.min(t.sa,t.qa)&&this.Yf.x<e&&(this.Mv=!0)}}else{var i=!1;if(e=Math.max(t.sa,t.qa),this.Yf.x>e?i=!0:this.Yf.x>=Math.min(t.sa,t.qa)&&(i=0<t.fq(!0,this.Yf.y,this.Hw,null)&&this.Hw[0]<=this.Yf.x),i){if(this.Yf.y==t.ac().y){if(this.Yf.y<t.xc().y)return}else if(this.Yf.y==t.xc().y&&this.Yf.y<t.ac().y)return;this.Fw=this.Zz?1^this.Fw:this.Fw+(t.ac().y>t.xc().y?1:-1)}}},e.prototype.JI=function(t){var e=t.Ug(0,1);if(e.pa>this.uT||e.wa<this.vT)return!1;if(this.$z&&this.RM(t))return!0;if(e.pa>this.Yf.y||e.wa<this.Yf.y)return!1;if(null==this.xA&&(this.xA=[null,null,null,null,null]),null==this.Hw&&(this.Hw=[0,0,0]),0<(e=t.XF()))for(t=0;t<e;t++){var i=this.xA[t].get();if(this.YE(i),this.Mv)return!0}else if(this.YE(t),this.Mv)return!0;return!1},e.HM=function(t,i,n){for(i=new e(0==t.Jn(),i,n),t=t.Ha();t.ab();)for(;t.Ia();)if(n=t.ia(),i.JI(n))return-1;return i.result()},e.IM=function(i,n,r,s){var o=new t.l;i.yc(o),o.X(s,s);var a=new e(0==i.Jn(),r,s);i=i.Ha();var c=new t.l;for(c.L(o),c.C=r.x+s,c.G=r.y-s,c.H=r.y+s,s=(r=n.EF(c,s)).next();-1!=s;s=r.next())if(i.Wb(n.ka(s)),i.Ia()&&(s=i.ia(),a.JI(s)))return-1;return a.result()},e.ym=function(i,n,r){if(i.B())return 0;var s=new t.l;if(i.yc(s),s.X(r,r),!s.contains(n))return 0;if(null!=(s=i.Cb)){var o=s.Fk;if(null!=o){if(1==(o=o.To(n.x,n.y)))return 1;if(0==o)return 0}if(null!=(s=s.Gb))return e.IM(i,s,n,r)}return e.HM(i,n,r)},e.SS=function(t,i,n){return i.B()?0:e.ym(t,i.D(),n)},e.Ol=function(t,e){return!(16>(t=t.I()))&&2*t+Math.log(t)/Math.log(2)*e<1*t*e},e}();t.Fg=e}(W||(W={})),function(t){var e=function(t){function e(e){return t.call(this,!0,e)||this}return Y(e,t),e.prototype.Ja=function(){return new e(this.description)},e.prototype.Eb=function(){return 2},e.prototype.K=function(){return 1736},e.prototype.pG=function(t,e,i){this.AS(t,e,i)},e.prototype.hR=function(){this.xR()},e}(t.Vk);t.Ea=e}(W||(W={})),function(t){!function(t){t[t.PiPOutside=0]="PiPOutside",t[t.PiPInside=1]="PiPInside",t[t.PiPBoundary=2]="PiPBoundary"}(t.JL||(t.JL={})),t.jd=function(){function e(){}return e.CG=function(e,i,n){return 0==(e=t.Fg.SS(e,i,n))?0:1==e?1:2},e.Zd=function(e,i,n){return 0==(e=t.Fg.ym(e,i,n))?0:1==e?1:2},e.KX=function(i,n,r,s,o){if(n.length<r||o.length<r)throw t.i.O();for(var a=0;a<r;a++)o[a]=e.Zd(i,n[a],s)},e.kK=function(i,n,r,s,o){if(1736==i.K())e.KX(i,n,r,s,o);else{if(197!=i.K())throw t.i.ga("invalid_call");var a=new t.l;i.A(a),e.SM(a,n,r,s,o)}},e.SM=function(e,i,n,r,s){if(i.length<n||s.length<n)throw t.i.O();if(e.B())for(r=0;r<n;r++)s[r]=0;else for(e.X(.5*-r,.5*-r),e.X(.5*r,.5*r),r=0;r<n;r++)e.contains(i[r])?s[r]=1:e.contains(i[r])?s[r]=2:s[r]=0},e.MX=function(t,e,i,n,r){for(var s=0;s<i;s++)r[s]=t.rs(e[s],n)?2:0},e.LX=function(t,e,i,n,r){var s=t.Cb,o=null;null!=s&&(o=s.Fk),s=i;for(var a=0;a<i;a++)if(r[a]=1,null!=o){var c=e[a];0==o.To(c.x,c.y)&&(r[a]=0,s--)}if(0!=s)for(t=t.Ha();t.ab()&&0!=s;)for(;t.Ia()&&0!=s;)for(o=t.ia(),a=0;a<i&&0!=s;a++)1==r[a]&&o.rs(e[a],n)&&(r[a]=2,s--);for(a=0;a<i;a++)1==r[a]&&(r[a]=0)},e.lK=function(i,n,r,s,o){var a=i.K();if(1607==a)e.LX(i,n,r,s,o);else{if(!t.ba.zd(a))throw t.i.ga("Invalid call.");e.MX(i,n,r,s,o)}},e}()}(W||(W={})),function(t){var e=function(t){function e(e,i){if(2==arguments.length){var n=t.call(this,!1,e.description)||this;n.nf(e),n.lineTo(i)}else n=t.call(this,!1,e)||this;return n}return Y(e,t),e.prototype.Ja=function(){return new e(this.description)},e.prototype.Eb=function(){return 1},e.prototype.K=function(){return 1607},e.prototype.pG=function(t,e,i){this.BS(t,e,i)},e}(t.Vk);t.Ua=e}(W||(W={})),function(t){var e=function(){function e(){}return e.prototype.progress=function(){return!0},e.Bp=function(e){if(null!=e&&!e.progress(-1,-1))throw t.i.OC()},e}();t.np=e}(W||(W={})),function(t){var e;(e=t.HK||(t.HK={}))[e.clipWithInputHorizon=1]="clipWithInputHorizon",e[e.clipWithOutputHorizon=2]="clipWithOutputHorizon";var i=function(){function t(){this.gl=3,this.Gy=this.Lu=NaN}return t.prototype.ZR=function(){return this.js(1)},t.prototype.$R=function(){return this.js(2)},t.prototype.js=function(t){return 0!=(this.gl&t)},t.prototype.Pf=function(){var e=new t;return e.Lu=this.Lu,e.Gy=this.Gy,e.gl=this.gl,e},t}();t.oY=i,function(t){t[t.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",t[t.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(t.IK||(t.IK={}));var n=function(){function t(){this.gl=0}return t.prototype.js=function(t){return 0!=(this.gl&t)},t.ig=function(e){var i=new t;return i.gl=e.gl,i},t.prototype.eM=function(t){this.gl=t.gl},t}();t.pY=n;var r=function(){function e(e,i,n){this.ef=e,this.Zf=i,this.Vf=new t.l,this.Vf.L(n),this.qT=e.dc()+i.dc()+this.Vf.dc().toString()}return e.prototype.dc=function(){return this.qT},e.prototype.Nb=function(t){return this==t||this.ef.Nb(t.ef)&&this.Zf.Nb(t.Zf)&&this.Vf.Nb(t.Vf)},e}();t.uY=r,r=function(){function e(){this.Zf=this.ef=null,this.jH=new i,this.kH=new n,this.xw=this.Xf=null,this.nw=this.Un=!0}return e.Or=function(t,i,n,r){var s;void 0===r&&(r=null),void 0===s&&(s=null);var o=new e;return o.rp(t,i,n,r,s),o},e.prototype.rp=function(e,i,n,r,s){if(null==e||null==i)throw t.i.ga("invalidArgument");if(this.ef=e,this.Zf=i,this.nw=this.Un=!1,null!=r&&(this.jH=r.Pf()),null!=s&&this.kH.eM(s),s=!1,1==i.Tb()&&null!=r&&(r=r.Lu,isNaN(r)||0==r||(s=!0)),e==i)this.Un=!s,this.nw=!0;else{r=e.Tb();var o=i.Tb();if(0==r||0==o){if(null!=n)throw t.i.O();null!=e.Id()&&null!=i.Id()&&(this.Un=e.Id().Nb(i.Id()))}else 3==r||3==o?this.Un=e.Nb(i):this.ef.bS(this.Zf)?this.Un=!s:this.Un=!1,this.Xf=n,null!=this.Xf&&this.Xf.hx(),this.nw=(null==this.Xf||0==this.Xf.count())&&this.ef.tc().Nb(this.Zf.tc())}this.cY()},e.prototype.isIdentity=function(){return this.Un},e.prototype.fR=function(){return this.jH.Pf()},e.prototype.Nb=function(t){return t==this||!!(t instanceof e&&this.ef.Nb(t.ef)&&this.Zf.Nb(t.Zf))&&(this.Xf==t.Xf||!(null==this.Xf||null==t.Xf||!this.Xf.Nb(t.Xf)))},e.prototype.cY=function(){this.xw=new t.cu(this)},e}(),t.xr=r}(W||(W={})),function(t){var e=function(){function e(){}return e.Ep=function(t){return t*e.eW},e.lx=function(t,i){return e.ZO(i-t)},e.$O=function(e){return-360<=e&&720>e?(0>e?e+=360:360<=e&&(e-=360),e):(0>(e=t.mc.JK(e))&&(e+=360),e)},e.ZO=function(t){return 180<(t=e.$O(t))&&(t-=360),t},e.eW=57.29577951308232,e}();t.sr=e,t.Ih=function(){function i(){}return i.mj=function(e,i){var n=new t.l;e.A(n);var r=t.cb.hh(i),s=new t.l;return s.L(r),s.v=n.v,s.C=n.C,s.X(.01*s.da(),0),i=t.ta.Xd(i,n,!1),s.contains(n)?e:t.Vd.clip(e,s,i,0)},i.ls=function(e,n,r,s,o){if(!t.cb.Xc(n))throw t.i.O();var a=t.ta.lj(n,e,!1),c=t.cb.hh(n),l=t.cb.tc(n),u=l.Id().bi,h=t.cb.wv(l);l=t.cb.fv(l),h*=2-h;var d=new t.Oc;c.en(d);var p=[[0,0],[0,0]];if(2==t.Gg.Tb(n)?s?(p[0][0]=i.an(o,d),p[0][1]=c.Lp(),t.cb.vt(),c=p[0][0]*u):(p[0][0]=c.gk(),p[0][1]=o,t.cb.vt(),c=p[0][1]*u):c=o*u,!s&&0!=c)throw t.i.O();var f=new t.ha,b=new t.hd;e=b.Ib(e);for(var y=[0],m=new t.h,g=new t.h,v=new t.h,w=new t.h,O=new t.h,j=new t.h,_=b.Ob(e);-1!=_;_=b.Sb(_)){var x=b.Ya(_);b.D(x,v);for(var S=!1,M=x=b.V(x);-1!=M;M=b.V(M)){if(M==x){if(S)break;S=!0}if(b.D(M,w),s&&a<o-v.x&&w.x-o>a||a<o-w.x&&v.x-o>a||!s&&a<-v.y&&w.y>a||a<-w.y&&v.y>a)do{if(!(Math.abs(v.x-w.x)>=.5*d.S())){if(2==t.Gg.Tb(n)?(p[0][0]=i.an(v.x,d),p[0][1]=v.y,p[1][0]=i.an(w.x,d),p[1][1]=w.y,t.cb.UV(),O.x=p[0][0]*u,O.y=p[0][1]*u,j.x=p[1][0]*u,j.y=p[1][1]*u):(O.x=v.x*u,O.y=v.y*u,j.x=w.x*u,j.y=w.y*u),j.x=6.283185307179586*(w.x-v.x)/d.S()+O.x,s){if(g.x=c,g.y=i.Iz(l,h,O,j,c,r),isNaN(g.y))break}else{if(g.x=i.Gz(l,h,O,j,r),isNaN(g.x))break;g.y=0}t.kb.xd(l,h,O.x,O.y,j.x,j.y,f,null,null,r);var k=f.u;t.kb.xd(l,h,O.x,O.y,g.x,g.y,f,null,null,r);var I=f.u;2==t.Gg.Tb(n)?(p[0][0]=g.x/u,p[0][1]=g.y/u,t.cb.UQ(),s?(m.y=p[0][1],m.x=o):(m.x=i.ps(p[0][0],v.x,w.x,d),m.y=o)):s?(m.x=o,m.y=g.y/u):(m.x=i.ps(g.x/u,v.x,w.x,d),m.y=o),y[0]=0<k?t.P.Rk(I/k,0,1):.5,0!=y[0]&&1!=y[0]&&(k=b.Na(M),b.Wl(k,y,1),b.Db(b.V(k),m.x,m.y))}}while(0);v.N(w)}}return b.Ke(e)},i.Gn=function(e,n,r,s,o){if(e.B())return e;var a=t.cb.bf(n);return i.Jp(e,r-180*a,360*a,n,s,o,!0)},i.Iz=function(e,n,r,s,o,a){if(3.141592653589793<=Math.abs(r.x-s.x)||!i.Tn(r.x,s.x,o))return NaN;if(r.x>s.x)var c=s;else c=r,r=s;s=new t.ha(0);var l=new t.ha(0),u=new t.ha(0);t.kb.xd(e,n,c.x,c.y,r.x,r.y,l,s,null,a);var h=l.u,d=0,p=1,f=new t.h;for(f.N(c);h*(p-d)>1e-12*e;){var b=.5*(d+p);if(t.kb.pj(e,n,c.x,c.y,h*b,s.u,l,u,a),f.x=l.u,f.y=u.u,f.x==o)break;if(i.Tn(c.x,f.x,o))p=b;else{if(!i.Tn(r.x,f.x,o))return NaN;d=b}}return f.y},i.Tn=function(t,i,n){return t=e.Ep(t),i=e.lx(t,e.Ep(i)),0==(n=e.lx(t,e.Ep(n)))||0<i&&0<n&&n<=i||0>i&&0>n&&n>=i},i.an=function(t,e){var i=e.wa-e.pa;return e.Jt(t-Math.floor((t-e.pa)/i)*i)},i.ps=function(e,i,n,r){var s=new t.Oc;for(s.L(i,n),n=r.S(),e=Math.floor((e-i)/n)*n+e,s=s.tf();Math.abs(e-s)>Math.abs(e+n-s);)e+=n;return e},i.Gz=function(e,i,n,r,s){if(n.y>r.y)var o=r;else o=n,n=r;if((r=new t.Oc).L(o.y,n.y),!r.contains(0)||3.141592653589793<=Math.abs(o.x-n.x))return NaN;if(o.x==n.x)return o.x;var a=new t.ha(0),c=new t.ha(0),l=new t.ha(0);t.kb.xd(e,i,o.x,o.y,n.x,n.y,c,a,null,s);var u=c.u,h=0,d=1,p=new t.h;for(p.N(o);u*(d-h)>1e-12*e;){var f=.5*(h+d);if(t.kb.pj(e,i,o.x,o.y,u*f,a.u,c,l,s),p.x=c.u,p.y=l.u,r.L(o.y,p.y),0==p.y)break;if(r.contains(0))d=f;else{if(r.L(n.y,p.y),!r.contains(0))return NaN;h=f}}return p.x},i.Jp=function(e,i,n,r,s,o,a){var c=new t.l;if(e.A(c),c.B())return e;var l=new t.Oc;c.en(l);var u=new t.Oc;if(u.L(i,i+n),u.contains(l)&&u.wa!=l.wa)return e;var h=new t.l;h.L(c);var d=e.K();if(33==d)return((c=(h=s?e:e.Pf()).Mg())<u.pa||c>=u.wa||a&&c==u.wa)&&(c+=Math.ceil((u.pa-c)/n)*n,c=u.Jt(c),h.WB(c)),h;if(550==d){for(r=(h=s?e:e.Pf()).vb(0),d=2*h.I(),e=!1,s=0;s<d;s+=2)((c=r.read(s))<u.pa||c>=u.wa||a&&c==u.wa)&&(e=!0,c+=Math.ceil((u.pa-c)/n)*n,c=u.Jt(c),r.write(s,c));return e&&h.Qc(1993),h}if(u.contains(l))return e;if(197==d)return n=s?e:e.Pf(),c.Fa(h),n.Yo(c),n;var p=.1*Math.max(c.da(),c.S());for(h.X(0,p),a=e,u=r.Yd(0),e=t.Hh.local(),s=new t.Ed;;){var f=Math.floor((l.pa-i)/n),b=Math.ceil((l.wa-i)/n);if(!(3<b-f))break;f=Math.floor(.5*(b+f)),h.v=c.v-p,h.C=i+n*f;var y=t.Vd.clip(a,h,u,o);h.v=h.C,h.C=c.C+p;var m=t.Vd.clip(a,h,u,o);s.gg((f-b)*n,0),m.Pc(s),1736==d?a=e.W(y,m,r,null):(a=y).add(m,!1),a.A(c),c.en(l)}for(h.v=i,h.C=i+n,(i=new t.l).L(h),i.X(u,0),0!=(i=Math.floor((c.v-h.v)/n)*n)?(h.move(i,0),s.gg(-i,0)):s.KB(),i=1607==d?new t.Ua(a.description):new t.Ea(a.description),o=new t.l,l=new t.l;c.C>h.v;)(p=t.Vd.clip(a,h,u,0)).A(l),(1607==d?!p.B()&&(l.S()>u||l.da()>u):!p.B()&&(1736!=d||l.S()>u))&&(p.Pc(s),p.A(l),i.A(o),o.X(u,u),o.isIntersecting(l)&&1736==d?i=e.W(i,p,r,null):i.add(p,!1)),h.move(n,0),s.shift(-n,0);return i},i.NI=function(e,i,n,r){var s=new t.de(n.description);s.Gd(n,0,-1),s=t.cb.Ah(s,e,i);var o=n.I();if(r.Pa(),!t.cb.Xc(e)||o!=s.I())return!1;var a=new t.l;n.A(a);var c=new t.l;if(s.A(c),a=a.S(),c=c.S(),0!=a&&0!=c){if(c/=a,e=t.cb.hh(i).S()/t.cb.hh(e).S(),1e-10<Math.abs(c/e-1))return!1}else if(0!=a||0!=c)return!1;for(r.add(n,!1),n=0;n<o;n++)e=s.Oa(n),r.Db(n,e);return!0},i.Jz=function(){throw t.i.Fe()},i}()}(W||(W={})),function(t){var e,i,n;(i=e=t.ti||(t.ti={}))[i.Clip=0]="Clip",i[i.DontClip=1]="DontClip",i[i.PannableFold=2]="PannableFold",function(t){t[t.Geodesic=0]="Geodesic",t[t.Loxodrome=1]="Loxodrome",t[t.GreatElliptic=2]="GreatElliptic",t[t.NormalSection=3]="NormalSection",t[t.ShapePreserving=4]="ShapePreserving"}(n=t.OK||(t.OK={})),t.Ab=function(){function i(){}return i.yv=function(e,i,n){if(n||0<i){for(e=e.toString(t.Tc.PE_STR_NAME_CANON|t.Tc.PE_STR_AUTH_NONE),i=[],n=0;n<e.length;n++)i[n]="a"<=e[n]&&"z">=e[n]?i[n]=e[n].toUpperCase():e[n];return i.join()}return e.toString(t.Tc.PE_STR_AUTH_TOP)},i.wr=function(e,i,n,r){var s=r.length,o=n.I();if(0!=o){var a=n.vb(0),c=Math.min(o,s),l=0,u=e.fh();isNaN(i)&&(i=0);for(var h=e.Xc(),d=179*(e=h?e.tc().Le().S():0)/360;0<o;){if(a.oB(l<<1,c,r),t.fj.projToGeogCenter(u,c,r,i),h)for(var p=0;p<c;p++){var f=r[p][0]-i,b=t.mc.sign(f),y=a.read(2*(l+p));0>b*t.mc.sign(y)&&Math.abs(f)>d&&(r[p][0]+=-b*e)}a.nC(l<<1,c,r),l+=c,o-=c,c=Math.min(o,s)}n.Qc(1993)}},i.AL=function(e,i,n,r){var s=0,o=e.fh();isNaN(s)&&(s=0);var a=e.Xc(),c=e.bf();e=360*c,c*=179;for(var l=r.length,u=0;u<n;){for(var h=u;h<n&&i[h].isNaN();++h)u++;var d=Math.min(l,n-u);if(0<d){h=1;for(var p=u+1;h<d;++h,++p)if(i[p].isNaN()){d=h;break}if(t.ta.Dy(r,i,u,d),t.fj.projToGeogCenter(o,d,r,s),a)for(h=0,p=u;h<d;++h,++p){var f=i[p].x,b=r[h][0]-s,y=t.mc.sign(b);0>y*t.mc.sign(f)&&Math.abs(b)>c&&(r[h][0]-=y*e)}t.ta.Cy(i,u,r,d),u+=d}}},i.Jx=function(e,i,n){var r=n.length,s=i.I();if(!(1>s)){var o=i.vb(0),a=Math.min(s,r),c=0,l=e.fh(),u=e.Xc(),h=u?e.Le().S():0,d=179*h/360,p=0;for(u&&(p=e.Ai());0<s;){if(o.oB(c<<1,a,n),t.fj.geogToProj(l,a,n),u)for(e=0;e<a;e++){var f=n[e][0],b=t.mc.sign(f),y=o.read(2*(c+e))-p;0>b*t.mc.sign(y)&&Math.abs(f)>d&&(n[e][0]+=-b*h)}o.nC(c<<1,a,n),c+=a,s-=a,a=Math.min(s,r)}i.Qc(1993)}},i.zL=function(e,i,n,r){if(0!=n){var s=e.fh(),o=e.Xc(),a=o?e.Le().S():0,c=179*a/360,l=0;for(o&&(l=e.Ai()),e=0;e<n;){for(var u=e;u<n&&i[u].isNaN();++u)e++;var h=Math.min(r.length,n-e);if(0<h){u=1;for(var d=e+1;u<h;++u,++d)if(i[d].isNaN()){h=u;break}if(t.ta.Dy(r,i,e,h),t.fj.geogToProj(s,h,r),o)for(u=0,d=e;u<h;u++){var p=r[u][0],f=t.mc.sign(p);0>f*t.mc.sign(i[d].x-l)&&Math.abs(p)>c&&(r[u][0]-=f*a)}t.ta.Cy(i,e,r,h),e+=h}}}},i.vr=function(e,i,n,r){var s=i.I();if(0!=s){var o=i.vb(0),a=e.ef,c=e.Zf,l=a.tc().Sp(),u=c.tc().Sp(),h=a.bf(),d=c.bf();if(null==(e=e.Xf)||0==e.count()){for(n=l/u,r=(a.Wp()-c.Wp())*d,u=-90*h,e=90*h,l=!1,d=1,a=2*s;d<a;)h=o.get(d),(c=t.P.Rk(h,u,e))!=h&&(o.set(d,c),l=!0),d+=2;if(0!=r||1!=n)for(l=!0,u=new t.h,d=0;d<s;d++)o.uc(2*d,u),u.x*=n,u.x+=r,u.y*=n,o.Ut(2*d,u);l&&i.Qc(1993)}else{a=r.length,c=Math.min(s,a);var p=t.P.lg(c),f=null,b=0,y=NaN,m=NaN,g=360*d,v=d/h;n&&(m=90*d,y=89.9*h,f=t.P.lg(c));for(var w=!0,O=0;0!=s;){for(h=!1,o.oB(b<<1,c,r),d=0;d<c;d++)p[d]=r[d][0];if(n)for(d=0;d<c;d++){var j=Math.abs(r[d][1])-y;0<j&&(h=r[d][1],r[d][1]=t.mc.Dn(y,h),f[d]=t.mc.Dn(j,h),h=!0)}for(d=r[0][0],e.transform(r,c,l,u),w&&(O=r[0][0]-v*d,w=!1),d=0;d<c;d++)j=r[d][0]-p[d]*v-O,200<Math.abs(j)&&(r[d][0]=0<j?r[d][0]-g:r[d][0]+g);if(h){for(d=0;d<c;d++)0!=f[d]&&(r[d][1]+=v*f[d],r[d][1]>m?r[d][1]=m:r[d][1]<-m&&(r[d][1]=-m));for(h=0;h<c;h++)f[h]=0}o.nC(b<<1,c,r),b+=c,s-=c,c=Math.min(s,a)}i.Qc(1993)}}},i.yL=function(e,i,n,r){if(e.nw)r=90*e.ef.bf(),t.ta.WJ(i,n,-r,r);else{var s=e.Xf,o=e.ef,a=e.Zf;e=o.Yr();var c=a.Yr(),l=o.bf(),u=90*l,h=a.bf();if(null==s||0==s.count()){if(r=e/c,s=(o.Wp()-a.Wp())*h,t.ta.WJ(i,n,-u,u),0!=s||1!=r)for(h=0;h<n;h++)i[h].x*=r,i[h].x+=s,i[h].y*=r}else{o=Math.min(n,r.length),u=t.P.lg(o),a=360*h,l=h/l;for(var d=!0,p=0,f=0;0!=n;){for(h=0;h<o;h++)u[h]=i[h+f].x;for(h=i[0].x,t.ta.Dy(r,i,f,o),s.transform(r,o,e,c),t.ta.Cy(i,f,r,o),d&&(p=i[0].x-l*h,d=!1),h=0;h<o;h++){var b=i[f+h].x-u[h]*l-p;200<Math.abs(b)&&(i[f+h].x=0<b?i[f+h].x-a:i[f+h].x+a)}f+=o,n-=o,o=Math.min(n,r.length)}}}},i.ev=function(t,e){return t=t.hh(),isNaN(e)||t.Ku(e,0),t},i.MQ=function(e,n,r,s,o,a,c,l){for(var u=i.ev(s,o),h=u.S(),d=h/360,p=i.hE*d,f=e.vb(0),b=n.Xc(),y=b?h/n.Le().S():0,m=!1,g=new t.Ea(r.description),v=0,w=r.ea();v<w;++v){var O=b,j=new t.Ua(r.description);if(j.addPath(r,v,!0),0!=c){var _=i.GD(!0,j,u.H-l,u.H,c);(m=m||_)&&(O=!1)}var x=-1;O&&(x=e.Ca(v));var S=j.vb(0),M=j.I(),k=0,I=S.read(0),T=0;_=3*s.Yd(0);var E=!1,A=new t.h;A.Sc();var C=new t.h;C.Sc();for(var P=!1,R=1;R<M;++R){var L=t.h.construct(S.Bg(2*R),S.Bg(2*R+1)),N=L.x,F=N+k,D=F-I;if(L.x=F,Math.abs(D)>p){if(O){var z=x+(R+1<M?R:0),V=f.read(2*(x+R-1));z=(f.read(2*z)-V)*y,Math.abs(D-z)>1*d&&(O=!1)}O||(F=N+(k-=t.mc.Dn(h,F-I)),++T,P=0!=k,L.x=F)}else E||t.ta.sG(C,A,L,_)&&(E=!0);P&&S.write(2*R,F),I=F,C.N(A),A.N(L)}0<T&&j.Qc(1993),O=j.Oa(0),M=j.Oa(M-1),j=t.h.ub(O,M)<_?i.mQ(j,s,o,a,E):i.nQ(e,v,j,s,o),g.add(j,!1)}return o=s.Yd(0),r=u.S()/180,i.Kt(g,u,.1*o,!1),g=g!=(o=t.si.clip(g,u,o,r,a)),e=e.He(),c=0,0<(l=o.He())&&0>e?c=1:0>=l&&0<e&&(0==l?(l=NaN,2==n.Tb()?l=n.ol().He():1==n.Tb()&&(l=n.Le().oF()),e>.99*l&&(c=-1)):c=-1),0!=c&&((n=new t.Ea(o.description)).vp(u),(n=t.Zl.local().W(n,r,a)).add(o,!1),g=!0,o=n),g&&(o=t.$l.local().W(o,s,!1,a)),o},i.nQ=function(e,n,r,s,o){var a=r.I(),c=r.Oa(0),l=r.Oa(a-1);o=(s=i.ev(s,o)).S(),c=t.mc.sign(l.x-c.x);var u=new t.l;r.yc(u);var h=s.gk();if(l=h-o,h+=o,0<=c){var d=Math.ceil((l-u.v)/o);for(d*=o;l>u.v+d;)d+=o;for(;l<u.C+d;)d-=o;var p=d;720<u.S()&&(h=l+360*Math.ceil(u.S()/360))}else{for(d=Math.ceil((h-u.C)/o),d*=o;h<u.C+d;)d-=o;for(;h>u.v+d;)d+=o;p=d,720<u.S()&&(l=h-360*Math.ceil(u.S()/360))}d=c*o;var f=t.l.construct(u.v,u.G,u.C,u.H);f.move(p,0);var b=new t.Ed;b.gg(p,0),r.Pc(b),(u=new t.Ua(r.description)).add(r,!1),p=r.Oa(a-1),o=0;for(var y=u.Oa(0).x;0<c?f.C<h:f.v>l;)f.move(d,0),b.Lb=d,r.Pc(b),y+=d,s.v<=y&&s.C>=y&&(o=u.I()-1),r.Db(0,p),p=r.Oa(a-1),u.Fr(r,0,0,a-1,!1);return r=new t.Ea(u.description),a=0<e.Kr(n),r.add(u,!1),e=u.Oa(0),l=u.Oa(u.I()-1),n=r.ea()-1,(0>c?a:!a)?(c=t.h.construct(l.x,s.H),r.Di(c),c=t.h.construct(s.gk(),s.H),r.Di(c),s=t.h.construct(e.x,s.H)):(c=t.h.construct(l.x,s.G),r.Di(c),c=t.h.construct(s.gk(),s.G),r.Di(c),s=t.h.construct(e.x,s.G)),r.Di(s),r.pG(0,n,0),r.cO(o),r},i.mQ=function(e,n,r,s,o){var a=new t.Ea(e.description);a.add(e,!1),a.xB(0,a.I()-1);var c=new t.l;a.yc(c);var l=(r=i.ev(n,r)).S(),u=Math.ceil((r.v-c.v)/l);for(u*=l;r.v>c.v+u;)u+=l;for(;r.v<c.C+u;)u-=l;if(0!=(u+=l)){c.move(u,0);var h=new t.Ed;h.gg(u,0),a.Pc(h)}if(r.v<=c.v&&r.C>c.C)return o&&(o=a.He(),n=(a=t.$l.local().W(a,n,!0,s)).He(),(n=t.mc.sign(o)!=t.mc.sign(n))&&a.gJ()),a;for((e=new t.Ea(e.description)).add(a,!1),o=o||c.S()>l-n.Yd(0);c.v<r.C;)c.move(l,0),(h=new t.Ed).gg(l,0),a.Pc(h),e.add(a,!1);return o&&(o=e.He(),e.Zo(1),n=(e=t.$l.local().W(e,n,!0,s)).He(),(n=t.mc.sign(o)!=t.mc.sign(n))&&e.gJ()),e},i.GD=function(e,i,n,r,s){for(var o=i.vb(0),a=i.I(),c=!1,l=0;l<a;l++){var u=t.h.construct(o.Bg(2*l),o.Bg(2*l+1));if(0!=(1&s)&&u.y>=n){c=!0;break}if(0!=(2&s)&&u.y<=-n){c=!0;break}}if(!c)return!1;o=!1,e&&(o=i.On(0)),a=(e=new t.hd).Ib(i),c=e.Ob(a);var h=-1,d=!0,p=new t.h;p.Sc(),l=new t.Ta;for(var f=-1,b=e.Ya(c);-1!=b;b=e.V(b)){u=e.Oa(b);var y=0!=(1&s)&&90<=u.y?1:0;if(y|=0!=(2&s)&&u.y<=-n?2:0,0<h&&h!=y){if(p.x!=u.x){p.x=u.x,e.Wi(e.Na(b),l);var m=e.xj(c,b,l);e.mf(m,p)}if(o)for(f=-1!=f?e.V(f):e.Ya(c),m=e.Na(b);f!=m;)f=e.pd(f,!1);f=-1}0<y&&(u.y=t.mc.Dn(r,u.y),e.mf(b,u),d||h==y||(u.x!=p.x?(e.Wi(b,l),m=e.xj(c,b,l),e.Db(m,p.x,u.y),f=m):f=b)),h=y,p=u,d=!1}if(o){if(-1!=f)for(f=e.V(f);-1!=f;)f=e.pd(f,!1);n=e.Ya(c),e.hq(n,e.sj(c))||(e.Wi(n,l),e.xj(c,-1,l))}return e.Ke(a).copyTo(i),!0},i.Hz=function(n,r,s,o){var a=n;if(a.B()||s==e.DontClip)return a;var c=a.K();if(33==c)return a=[(o=a).D()],i.qG(a,1,r,s),a[0].isNaN()?o.Pa():o.Db(a[0]),n;var l=(n=r.tc()).bf(),u=90*l,h=180*l,d=360*l,p=r.Ai(),f=.5*l,b=new t.l;a.A(b);var y=r.Wr(),m=r.HQ(),g=197==y.K();if(r=new t.l,y.A(r),s==e.PannableFold&&(s=n.Le().S(),r.v=p-.5*s,r.C=r.v+s),b.G<-u||b.H>u){if((new t.l).L(b.v-l,-u,b.C+l,u),(a=t.si.Pu(a,r,n,NaN,0,o)).B())return a;a.A(b)}if(m&&(r.H<b.G||r.G>b.H))return a.Ja();if(b.S()>d&&(a=i.Jp(a,p-h,d,n,!0,0,!0,o)).A(b),0!=(u=i.XN(b.v,b.C,r.v,r.C,d))&&b.move(u,0),b.C>r.C||b.v<r.v){if(b.C>r.C)for(;b.v>=r.C;)b.move(-d,0),u-=d;for(;b.v<r.C-d;)b.move(d,0),u+=d}if(s=t.ta.Iu(n,y),0!=u&&((l=new t.Ed).gg(u,0),a.Pc(l)),m){if(g&&r.contains(b))return a;for(m=[null,null],u=0;2>u;u++){if(g?l=t.ba.Ic(c)?t.si.clip(a,r,s,f,o):t.si.clip(a,r,s,0,o):(l=t.Wk.local().W(a,y,n,o))==y&&(l=t.ba.ig(l)),r.v<=b.v&&r.C>=b.C||r.v>=b.v&&r.C<=b.C)return l;m[u]=l,0==u&&(b.move(-d,0),(l=new t.Ed).gg(-d,0),a.Pc(l))}if(550==c)m[0].Gd(m[1],0,-1);else if(t.ba.Ic(c))m[0].add(m[1],!1);else{if(33!=c)throw t.i.ga("intersect_with_GCS_horizon: unexpected geometry type");m[0].B()&&(m[0]=m[1])}return m[0]}if(r.H<b.G||r.G>b.H)return a;for(c=0;!a.B()&&b.C>r.v;)0!=c&&((l=new t.Ed).gg(c,0),a.Pc(l)),t.ej.local().W(4,a,y,n,o)||y==(a=t.lp.local().W(a,y,n,o))&&(a=t.ba.ig(a)),0!=c&&((f=new t.Ed).gg(-c,0),a.Pc(f)),c-=d,b.move(-d,0);return a},i.qG=function(n,r,s,o){if(0!=r&&o!=e.DontClip)if(o==e.PannableFold){o=s.zR();for(var a=r,c=0;c<r;c++)(n[c].y>o.H||n[c].y<o.G)&&(n[c].Sc(),a--);0!=a&&i.bv(n,r,o.v,o.S())}else{var l=90*(o=s.bf()),u=180*o;for(o*=360,a=r,c=0;c<r;c++)(n[c].y>l||n[c].y<-l)&&(n[c].Sc(),a--);if(0!=a){(a=new t.l).ax(n,r),l=s.Wr();var h=s.jv();c=197==l.K();var d=new t.l;if(l.A(d),!h||!(d.H<a.G||d.G>a.H))if(h)if(i.bv(n,r,d.gk()-u,o),a=r,c)for(c=0;c<r;c++)d.contains(n[c])||(n[c].Sc(),a--);else for(s=t.ta.Iu(s.tc(),l),c=0;c<r;c++)(u=0!=t.jd.Zd(l,n[c],s))||(n[c].Sc(),a--);else for(i.bv(n,r,-u,o),a=r,s=t.ta.Iu(s.tc(),l),c=0;c<r;c++)(u=n[c]).isNaN()&&a--,h=i.lE(u.x,d.v,d.C,o),u.x+=h,(u=0!=t.jd.Zd(l,u,s))&&(n[c].Sc(),a--)}}},i.Jp=function(e,i,n,r,s,o,a,c){var l=e.K(),u=i+n;if(33===l){var h=(r=s?e:e.Pf()).Mg();return(h<i||h>=u||a&&h==u)&&(h+=Math.ceil((i-h)/n)*n,h=t.P.Rk(h,i,u),r.WB(h)),r}if(e.B())return e;if(h=new t.l,e.A(h),h.B())return e;var d=new t.Oc;h.en(d);var p=new t.Oc;if(p.L(i,u),p.contains(d))return e;if((u=new t.l).L(h),550===l){for(c=(r=s?e:e.Pf()).vb(0),l=2*r.I(),u=!1,i=0;i<l;i+=2)((h=c.read(i))<p.pa||h>=p.wa||a&&h==p.wa)&&(u=!0,h+=Math.ceil((p.pa-h)/n)*n,h=p.Jt(h),c.write(i,h));return u&&r.Qc(1993),r}if(197==l)return n=s?e:e.Pf(),h.Fa(u),n.Yo(h),n;var f=.1*Math.max(h.da(),h.S());for(u.X(0,f),a=e,p=r.Yd(0),e=t.Hh.local(),s=new t.Ed;;){var b=Math.floor((d.pa-i)/n),y=Math.ceil((d.wa-i)/n);if(!(3<y-b))break;b=Math.floor(.5*(y+b)),u.v=h.v-f,u.C=i+n*b;var m=t.si.clip(a,u,p,o,c);u.v=u.C,u.C=h.C+f;var g=t.si.clip(a,u,p,o,c);s.gg((b-y)*n,0),g.Pc(s),1736==l?a=e.W(m,g,r,null):(a=m).add(g,!1),a.A(h),h.en(d)}for(u.v=i,u.C=i+n,(i=new t.l).L(u),i.X(p,0),0!=(i=Math.floor((h.v-u.v)/n)*n)?(u.move(i,0),s.gg(-i,0)):s.KB(),i=1607==l?new t.Ua(a.description):new t.Ea(a.description),o=new t.l,d=new t.l;h.C>u.v;)(f=t.si.clip(a,u,p,0,c)).A(d),(1607==l?!f.B()&&(d.S()>p||d.da()>p):!f.B()&&(1736!=l||d.S()>p))&&(f.Pc(s),f.A(d),i.A(o),o.X(p,p),o.isIntersecting(d)&&1736==l?i=e.W(i,f,r,null):i.add(f,!1)),u.move(n,0),s.shift(-n,0);return i},i.bv=function(e,i,n,r){for(var s=n+r,o=0;o<i;o++){var a=e[o].x;n<=a&&a<s||!(a<n||a>s||a==s)||(a+=Math.ceil((n-a)/r)*r,a=t.P.Rk(a,n,s),e[o].x=a)}},i.Gn=function(e,n,r,s,o,a){if(!n.Xc())throw t.i.ga("fold_into_360_degree_range");if(e.B())return e;if(2==n.Tb()){r=n.qv();var c=n.pv()-r}else{var l=n.bf();c=360*l,r-=180*l}return i.Jp(e,r,c,n,s,o,!0,a)},i.iF=function(t,e,n,r){if(2==n.Tb())r=n.qv(),n=n.pv()-r;else{var s=n.bf();n=360*s,r-=180*s}i.bv(t,e,r,n)},i.mj=function(e,i){var n=i.Le();if(33==e.K()){var r=e.jh();return n.G<=r&&r<=n.H?e:e.Ja()}r=new t.l,e.A(r);var s=new t.l;return s.L(n),s.v=r.v,s.C=r.C,s.X(.01*s.da(),0),n=t.ta.oy(i,r),s.contains(r)?e:t.si.clip(e,s,n,0,null)},i.kr=function(t,e,i){return t>e.C&&t-e.C<i?e.C:t<e.v&&e.v-t<i?e.v:t},i.tX=function(t,e,n,r){r.x=i.kr(t.x,e,n),r.y=t.y},i.sX=function(t,e,n,r){for(var s=0;s<e;s++)t[s].y<n.G||t[s].y>n.H?t[s].Sc():t[s].x=i.kr(t[s].x,n,r)},i.Kt=function(e,n,r,s){if(!e.B()){var o=e.K();if(!s||1736!=o)if(t.ba.yj(o)){s=e.vb(0),o=0;for(var a=e.I();o<a;o++){var c=s.read(2*o),l=i.kr(c,n,r);l!=c&&s.write(2*o,l)}e.Qc(1993)}else if(197==o)s=new t.l,e.A(s),s.v=i.kr(s.v,n,r),s.C=i.kr(s.C,n,r),e.Yo(s);else{if(33!=o)throw t.i.ga("internal error");e.WB(i.kr(e.Mg(),n,r))}}},i.lS=function(e,n,r,s){var o=new t.hd,a=o.Ib(e);return e=t.ta.Iu(n,e),i.ls(o,a,n,e,r,!0,s),o.Ke(a)},i.ls=function(e,r,s,o,a,c,l){if(!s.Xc())throw t.i.O("invalid call");var u=s.Le(),h=s.tc(),d=h.fh().getDatum().getSpheroid();h=h.Id().bi;var p=d.getFlattening();d=d.getAxis(),p*=2-p;var f=new t.Oc;u.en(f);var b=null,y=[[0,0],[0,0]];if(2==s.Tb()?(b=s.fh(),c?(y[0][0]=i.an(l,f),y[0][1]=u.Lp(),t.fj.projToGeog(b,1,y),u=y[0][0]*h):(y[0][0]=u.gk(),y[0][1]=l,t.fj.projToGeog(b,1,y),u=y[0][1]*h)):u=l*h,!c&&0!=u&&a!=n.GreatElliptic)throw t.i.ga("invalid argument");var m=new t.ha,g=[0],v=new t.h,w=new t.h,O=new t.h,j=[null,null],_=new t.h,x=new t.h,S=new t.h,M=new t.h;for(r=e.Ob(r);-1!=r;r=e.Sb(r)){var k=e.Ya(r);e.D(k,_);for(var I=!1,T=k=e.V(k);-1!=T;T=e.V(T)){if(T==k){if(I)break;I=!0}if(e.D(T,x),c&&(o<l-_.x&&x.x-l>o||o<l-x.x&&_.x-l>o)||!c&&(0!=l||o<-_.y&&x.y>o||o<-x.y&&_.y>o))do{if(!(Math.abs(_.x-x.x)>=.5*f.S())){if(2==s.Tb()?(y[0][0]=i.an(_.x,f),y[0][1]=_.y,y[1][0]=i.an(x.x,f),y[1][1]=x.y,t.fj.projToGeogCenter(b,2,y,0),S.x=y[0][0]*h,S.y=y[0][1]*h,M.y=y[1][1]*h):(S.x=_.x*h,S.y=_.y*h,M.y=x.y*h),M.x=2*(x.x-_.x)*Math.PI/f.S()+S.x,c){if(w.x=u,w.y=i.Iz(d,p,S,M,u,a),isNaN(w.y))break;j[0]=w;var E=1}else if(a==n.GreatElliptic){var A=[0,0];if(0==(E=t.Mx.Jz(p,S,M,u,A)))break;w.x=A[0],w.y=u,j[0]=w,2==E&&(O.x=A[1],O.y=u,j[1]=O)}else{if(w.x=i.Gz(d,p,S,M,a),isNaN(w.x))break;w.y=0,j[0]=w,E=1}var C=-1;for(A=0;A<E;A++){t.kb.xd(d,p,S.x,S.y,M.x,M.y,m,null,null,a);var P=m.u;t.kb.xd(d,p,S.x,S.y,j[A].x,j[A].y,m,null,null,a);var R=m.u;if(2==s.Tb()?(y[0][0]=j[A].x/h,y[0][1]=j[A].y/h,t.fj.geogToProj(b,1,y),c?(v.y=y[0][1],v.x=l):(v.x=i.ps(y[0][0],_.x,x.x,f),v.y=l)):c?(v.x=l,v.y=j[A].y/h):(v.x=i.ps(j[A].x/h,_.x,x.x,f),v.y=l),g[0]=0<P?t.P.Rk(R/P,0,1):.5,0==g[0]||1==g[0])break;C>g[0]||(C=e.Na(T),e.Wl(C,g,1),e.Db(e.V(C),v.x,v.y),C=g[0])}}}while(0);_.N(x)}}},i.an=function(t,e){var i=e.wa-e.pa;return e.Jt(t-Math.floor((t-e.pa)/i)*i)},i.ps=function(e,i,n,r){var s=new t.Oc;for(s.L(i,n),n=r.S(),e=Math.floor((e-i)/n)*n+e,s=s.tf();Math.abs(e-s)>Math.abs(e+n-s);)e+=n;return e},i.Tn=function(e,i,n){return e=t.sr.Ep(e),i=t.sr.lx(e,t.sr.Ep(i)),0==(n=t.sr.lx(e,t.sr.Ep(n)))||0<i&&0<n&&n<=i||0>i&&0>n&&n>=i},i.Iz=function(e,r,s,o,a,c){if(c==n.GreatElliptic)return t.Mx.IS(r,s,o,a);if(Math.abs(s.x-o.x)>=Math.PI||!i.Tn(s.x,o.x,a))return NaN;if(s.x>o.x)var l=o;else l=s,s=o;o=new t.ha;var u=new t.ha,h=new t.ha;t.kb.xd(e,r,l.x,l.y,s.x,s.y,u,o,null,c);var d=u.u,p=0,f=1,b=new t.h;for(b.N(l);d*(f-p)>1e-12*e;){var y=.5*(p+f);if(t.kb.pj(e,r,l.x,l.y,d*y,o.u,u,h,c),b.x=u.u,b.y=h.u,b.x==a)break;if(i.Tn(l.x,b.x,a))f=y;else{if(!i.Tn(s.x,b.x,a))return NaN;p=y}}return b.y},i.Gz=function(e,i,r,s,o){if(o==n.GreatElliptic)return e=[0,0],t.Mx.Jz(i,r,s,0,e),e[0];if(r.y>s.y)var a=s;else a=r,r=s;if((s=new t.Oc).L(a.y,r.y),!s.contains(0)||Math.abs(a.x-r.x)>=Math.PI)return NaN;if(a.x==r.x)return a.x;var c=new t.ha,l=new t.ha,u=new t.ha;t.kb.xd(e,i,a.x,a.y,r.x,r.y,l,c,null,o);var h=l.u,d=0,p=1,f=new t.h;for(f.N(a);h*(p-d)>1e-12*e;){var b=.5*(d+p);if(t.kb.pj(e,i,a.x,a.y,h*b,c.u,l,u,o),f.x=l.u,f.y=u.u,s.L(a.y,f.y),0==f.y)break;if(s.contains(0))p=b;else{if(s.L(r.y,f.y),!s.contains(0))return NaN;d=b}}return f.x},i.NI=function(e,i,n,r){if(!e.ef.Xc())return!1;var s=new t.de(i.description);if(s.Gd(i,0,-1),r=t.Fx.local().W(s,e,r),s=i.I(),n.Pa(),s!=r.I())return!1;var o=new t.l;i.A(o);var a=new t.l;if(r.A(a),o=o.S(),a=a.S(),0!=o&&0!=a){if(a/=o,e=e.Zf.hh().S()/e.ef.hh().S(),1e-10<Math.abs(a/e-1))return!1}else if(0!=o||0!=a)return!1;for(n.add(i,!1),i=new t.h,e=0;e<s;e++)r.D(e,i),n.Db(e,i);return!0},i.iN=function(t,e){return(t%=360*e)>=180*e&&(t-=360*e),t},i.LI=function(n,r,s,o){if(s==e.Clip){var a=r.ol();197==a.K()?(s=new t.l,a.A(s),a=t.ta.oy(r,s),n=t.si.clip(n,s,a,5e4*r.rm(),o)):t.ej.local().W(1,a,n,r,o)||(n=t.Wk.local().W(n,a,r,o))==a&&(n=t.Vk.ig(n))}else r.Xc()&&(o=new t.l,n.yc(o),r.Le().contains(o)||(i.Kt(n,r.Le(),r.Yd(0),!0),s==e.PannableFold&&(n=i.mj(n,r)),n=i.Gn(n,r,0,!0,1e5*r.rm(),null)));return n},i.PD=function(e,i,n){var r=i.Xr();if(null==r)return e;var s=(i=i.tc()).Le().S(),o=new t.l;e.yc(o);var a=new t.Oc;o.en(a),o=r.Ha(),r=null;for(var c=new t.Ed;o.ab();)for(;o.Ia();){var l=o.ia(),u=l.Ug(0,0),h=new t.Oc;for(h.L(u.pa,u.wa),u=0;h.wa>a.pa;)h.move(-s),--u;for(;h.pa<=a.wa;){if(h.isIntersecting(a)){null==r&&(r=new t.Ua);var d=t.zb.VO(l.ac(),l.xc());0!=u&&(c.gg(u*s,0),d.Pc(c)),r.oc(d,!0)}h.move(s),++u}}return null!=r?(i=t.ta.ZN(i,r),i=t.ta.Gr(i),t.au.dP(e,r,i,n)):e},i.XN=function(t,e,n,r,s){return t>=n&&e<=r?0:i.lE(.5*(e+t),n,r,s)},i.lE=function(e,i,n,r){return t.mc.round((.5*(n+i)-e)/r)*r},i.NQ=function(e,n,r,s,o,a,c,l){var u=i.ev(s,o),h=u.S(),d=h/360,p=i.hE*d,f=e.vb(0),b=n.Xc(),y=b?h/n.Le().S():0;n=e.Ja();for(var m=0,g=r.ea();m<g;++m){var v=b,w=new t.Ua(r.description);w.addPath(r,m,!0);var O=r.ec(m);0!=c&&(O=i.GD(O,w,u.H-l,u.H,c))&&(v=!1);var j=-1;O=w.I();var _=!1;v&&(j=e.Ca(m),_=e.ec(m));var x=w.vb(0),S=0,M=x.read(0),k=0,I=3*s.Yd(0),T=!1,E=new t.h;E.Sc();var A=new t.h;A.Sc();for(var C=!1,P=1;P<O;++P){var R=t.h.construct(x.Bg(2*P),x.Bg(2*P+1)),L=R.x,N=L+S,F=N-M;if(R.x=N,Math.abs(F)>p){if(v){var D=j+P-1,z=j;(!_||P+1<O)&&(z+=P),D=f.read(2*D),z=(f.read(2*z)-D)*y,Math.abs(F-z)>1*d&&(b=!1)}v||(N=L+(S-=t.mc.Dn(h,N-M)),++k,C=0!=S,R.x=N)}else T||t.ta.sG(E,A,R,I)&&(T=!0);C&&x.write(2*P,N),M=N,E.N(A),A.N(R)}0!=k&&w.Qc(1993),v=w.Oa(0),O=w.Oa(O-1),t.h.ub(v,O),w=i.oQ(w,s,isNaN(o)?0:o,a),n.add(w,!1)}return e=s.Yd(0),r=u.S()/180,i.Kt(n,u,.1*e,!1),t.si.clip(n,u,e,r,a)},i.oQ=function(t,e,n,r){return i.Gn(t,e,n,!0,0,r)},i.FS=function(e,i,n,r){var s=e.K();if(1736==s)for(i=null!=i?i.Yd(0):0,s=0;s<r;s++)1!=t.jd.Zd(e,n[s],i)&&n[s].Sc();else{if(197!=s)throw t.i.O();for(s=0;s<r;s++)e.WO(n[s])||n[s].Sc()}},i.al=function(e,i,n,r){if(32>n)for(var s=new t.Ta,o=0;o<n;o++)s.Db(i[o]),e.al(s,r).D(i[o]);else{var a=new t.de;for(a.se(3),a.zD(i,n),s=a.vb(3),o=0;o<n;o++)s.write(o,o);for(o=e.al(a,r),e=o.vb(0),s=o.vb(3),r=t.h.construct(NaN,NaN),a=0;a<n;a++)i[a]=r;for(n=o.I(),o=0;o<n;o++)r=s.read(o),e.uc(2*o,i[r])}},i.$k=function(e,i,n,r){if(32>n)for(var s=new t.Ta,o=0;o<n;o++)s.Db(i[o]),e.$k(s,r).D(i[o]);else{var a=new t.de;for(a.se(3),a.zD(i,n),s=a.vb(3),o=0;o<n;o++)s.write(o,o);for(o=e.$k(a,r),e=o.vb(0),s=o.vb(3),r=t.h.construct(NaN,NaN),a=0;a<n;a++)i[a]=r;for(n=o.I(),o=0;o<n;o++)r=s.read(o),e.uc(2*o,i[r])}},i.hE=210,i}()}(W||(W={})),function(t){var e;(e=t.ML||(t.ML={}))[e.rightSide=1]="rightSide";var i=function(){function e(e,i,n){this.Cs=new t.h,void 0===e?this.Jo=-1:(this.Cs.N(e),this.Jo=i,this.La=n,this.ow=0)}return e.prototype.OJ=function(t){this.ow=t?1|this.ow:-2&this.ow},e.prototype.B=function(){return 0>this.Jo},e.prototype.az=function(){if(this.B())throw t.i.ga("invalid call");return new t.Ta(this.Cs.x,this.Cs.y)},e.prototype.Va=function(){if(this.B())throw t.i.ga("invalid call");return this.Jo},e.prototype.cz=function(){if(this.B())throw t.i.ga("invalid call");return this.La},e.prototype.Nz=function(){return 0!=(1&this.ow)},e.prototype.ay=function(t,e,i,n){this.Cs.x=t,this.Cs.y=e,this.Jo=i,this.La=n},e}();t.bm=i}(W||(W={})),function(t){var e=function(){function e(){}return e.prototype.Vo=function(e,i){this.uh.resize(0),this.Ji.length=0,this.tk=-1,e.yc(this.Ek),this.Ek.X(i,i),this.Ek.isIntersecting(this.Gb.Da)?((this.ws=t.ba.zd(e.K()))?(this.LH=e.ac(),this.KH=e.xc(),this.ra=i):this.ra=NaN,this.uh.add(this.Gb.kf),this.Ji.push(this.Gb.Da),this.Rs=this.Gb.Vr(this.Gb.kf)):this.Rs=-1},e.prototype.Yi=function(t,e){this.uh.resize(0),this.Ji.length=0,this.tk=-1,this.Ek.L(t),this.Ek.X(e,e),this.ra=NaN,this.Ek.isIntersecting(this.Gb.Da)?(this.uh.add(this.Gb.kf),this.Ji.push(this.Gb.Da),this.Rs=this.Gb.Vr(this.Gb.kf),this.ws=!1):this.Rs=-1},e.prototype.next=function(){if(0==this.uh.size)return-1;this.tk=this.Rs;var e=null,n=null,r=null,s=null;this.ws&&(e=new t.h,n=new t.h,r=new t.l);for(var o=!1;!o;){for(;-1!=this.tk;){var a=this.Gb.Xy(this.Gb.gv(this.tk));if(a.isIntersecting(this.Ek)){if(!this.ws){o=!0;break}if(e.N(this.LH),n.N(this.KH),r.L(a),r.X(this.ra,this.ra),0<r.ty(e,n)){o=!0;break}}this.tk=this.Gb.ov(this.tk)}if(-1==this.tk){a=this.uh.Gc();var c=this.Ji[this.Ji.length-1];for(null==s&&((s=[])[0]=new t.l,s[1]=new t.l,s[2]=new t.l,s[3]=new t.l),i.wJ(c,s),this.uh.Jf(),--this.Ji.length,c=0;4>c;c++){var l=this.Gb.Np(a,c);if(-1!=l&&0<this.Gb.NR(l)&&s[c].isIntersecting(this.Ek))if(this.ws){if(e.N(this.LH),n.N(this.KH),r.L(s[c]),r.X(this.ra,this.ra),0<r.ty(e,n)){var u=new t.l;u.L(s[c]),this.uh.add(l),this.Ji.push(u)}}else(u=new t.l).L(s[c]),this.uh.add(l),this.Ji.push(u)}if(0==this.uh.size)return-1;this.tk=this.Gb.Vr(this.uh.get(this.uh.size-1))}}return this.Rs=this.Gb.ov(this.tk),this.tk},e.UO=function(i,n,r){var s=new e;return s.Gb=i,s.Ek=new t.l,s.uh=new t.ja(0),s.Ji=[],s.Vo(n,r),s},e.TO=function(i,n,r){var s=new e;return s.Gb=i,s.Ek=new t.l,s.uh=new t.ja(0),s.Ji=[],s.Yi(n,r),s},e.SO=function(i){var n=new e;return n.Gb=i,n.Ek=new t.l,n.uh=new t.ja(0),n.Ji=[],n},e}();t.vY=e;var i=function(){function i(e,i){this.jf=new t.ad(11),this.$h=new t.ad(5),this.xs=[],this.hw=new t.ja(0),this.Da=new t.l,this.Nk(e,i)}return i.prototype.reset=function(t,e){this.jf.nj(!1),this.$h.nj(!1),this.xs.length=0,this.hw.clear(!1),this.Nk(t,e)},i.prototype.wj=function(t,e){return this.Av(t,e,0,this.Da,this.kf,!1,-1)},i.prototype.Ez=function(t,e,i){i=-1==i?this.kf:this.OF(i);var n=this.da(i),r=this.gR(i);return this.Av(t,e,n,r,i,!1,-1)},i.prototype.ka=function(t){return this.bR(t)},i.prototype.yF=function(t){return this.Xy(this.gv(t))},i.prototype.da=function(t){return this.kv(t)},i.prototype.gR=function(e){var i=new t.l;i.L(this.Da);var n=this.kv(e);e=this.IF(e);for(var r=0;r<2*n;r+=2){var s=t.P.truncate(3&e>>r);0==s?(i.v=.5*(i.v+i.C),i.G=.5*(i.G+i.H)):1==s?(i.C=.5*(i.v+i.C),i.G=.5*(i.G+i.H)):(2==s?i.C=.5*(i.v+i.C):i.v=.5*(i.v+i.C),i.H=.5*(i.G+i.H))}return i},i.prototype.NR=function(t){return this.vz(t)},i.prototype.mR=function(t,i){return e.UO(this,t,i)},i.prototype.EF=function(t,i){return e.TO(this,t,i)},i.prototype.getIterator=function(){return e.SO(this)},i.prototype.Nk=function(e,i){if(0>i||32<2*i)throw t.i.O("invalid height");this.rT=i,this.Da.L(e),this.kf=this.jf.De(),this.ix(this.kf,0),this.cx(this.kf,0),this.FJ(this.kf,0),this.CJ(this.kf,0)},i.prototype.Av=function(e,n,r,s,o,a,c){if(!s.contains(n))return 0==r?-1:this.Av(e,n,0,this.Da,this.kf,a,c);if(!a)for(var l=o;-1!=l;l=this.AR(l))this.ix(l,this.vz(l)+1);(l=new t.l).L(s),s=o;var u=[];for(u[0]=new t.l,u[1]=new t.l,u[2]=new t.l,u[3]=new t.l;r<this.rT&&this.aO(s);r++){i.wJ(l,u);for(var h=!1,d=0;4>d;d++)if(u[d].contains(n)){h=!0;var p=this.Np(s,d);-1==p&&(p=this.jP(s,d)),this.ix(p,this.vz(p)+1),s=p,l.L(u[d]);break}if(!h)break}return this.jS(e,n,r,l,s,a,o,c)},i.prototype.jS=function(t,e,i,n,r,s,o,a){var c=this.FF(r);if(s){if(r==o)return a;this.KP(a),s=a}else s=this.lP(),this.HB(s,t),this.zW(this.gv(s),e);return this.$W(s,r),-1!=c?(this.gx(s,c),this.dx(c,s)):this.yJ(r,s),this.LB(r,s),this.cx(r,this.mv(r)+1),this.$N(r)&&this.EQ(i,n,r),s},i.prototype.KP=function(t){var e=this.OF(t),i=this.FF(e),n=this.FR(t),r=this.ov(t);this.Vr(e)==t?(-1!=r?this.gx(r,-1):this.LB(e,-1),this.yJ(e,r)):i==t?(this.dx(n,-1),this.LB(e,n)):(this.gx(r,n),this.dx(n,r)),this.gx(t,-1),this.dx(t,-1),this.cx(e,this.mv(e)-1)},i.wJ=function(t,e){var i=.5*(t.v+t.C),n=.5*(t.G+t.H);e[0].L(i,n,t.C,t.H),e[1].L(t.v,n,i,t.H),e[2].L(t.v,t.G,i,n),e[3].L(i,t.G,t.C,n)},i.prototype.$N=function(t){return 8==this.mv(t)&&!this.ZF(t)},i.prototype.EQ=function(t,e,i){var n=this.Vr(i);do{var r=this.gv(n),s=this.$h.U(n,0);r=this.Xy(r),this.Av(s,r,t,e,i,!0,n),n=s=this.ov(n)}while(-1!=n)},i.prototype.aO=function(t){return 8<=this.mv(t)||this.ZF(t)},i.prototype.ZF=function(t){return-1!=this.Np(t,0)||-1!=this.Np(t,1)||-1!=this.Np(t,2)||-1!=this.Np(t,3)},i.prototype.jP=function(t,e){var i=this.jf.De();return this.EW(t,e,i),this.ix(i,0),this.cx(i,0),this.Pk(i,t),this.CJ(i,this.kv(t)+1),this.FJ(i,e<<2*this.kv(t)|this.IF(t)),i},i.prototype.lP=function(){var e=this.$h.De();if(0<this.hw.size){var i=this.hw.Gc();this.hw.Jf()}else i=this.xs.length,this.xs.push(new t.l);return this.AW(e,i),e},i.prototype.Np=function(t,e){return this.jf.U(t,e)},i.prototype.EW=function(t,e,i){this.jf.T(t,e,i)},i.prototype.Vr=function(t){return this.jf.U(t,4)},i.prototype.yJ=function(t,e){this.jf.T(t,4,e)},i.prototype.FF=function(t){return this.jf.U(t,5)},i.prototype.LB=function(t,e){this.jf.T(t,5,e)},i.prototype.IF=function(t){return this.jf.U(t,6)},i.prototype.FJ=function(t,e){this.jf.T(t,6,e)},i.prototype.mv=function(t){return this.jf.U(t,7)},i.prototype.vz=function(t){return this.jf.U(t,8)},i.prototype.cx=function(t,e){this.jf.T(t,7,e)},i.prototype.ix=function(t,e){this.jf.T(t,8,e)},i.prototype.AR=function(t){return this.jf.U(t,9)},i.prototype.Pk=function(t,e){this.jf.T(t,9,e)},i.prototype.kv=function(t){return this.jf.U(t,10)},i.prototype.CJ=function(t,e){this.jf.T(t,10,e)},i.prototype.bR=function(t){return this.$h.U(t,0)},i.prototype.HB=function(t,e){this.$h.T(t,0,e)},i.prototype.FR=function(t){return this.$h.U(t,1)},i.prototype.ov=function(t){return this.$h.U(t,2)},i.prototype.gx=function(t,e){this.$h.T(t,1,e)},i.prototype.dx=function(t,e){this.$h.T(t,2,e)},i.prototype.OF=function(t){return this.$h.U(t,3)},i.prototype.$W=function(t,e){this.$h.T(t,3,e)},i.prototype.gv=function(t){return this.$h.U(t,4)},i.prototype.AW=function(t,e){this.$h.T(t,4,e)},i.prototype.Xy=function(t){return this.xs[t]},i.prototype.zW=function(t,e){this.xs[t].L(e)},i}();t.eu=i}(W||(W={})),function(t){var e;(e=t.TK||(t.TK={}))[e.Outside=0]="Outside",e[e.Inside=1]="Inside",e[e.Border=2]="Border";var i=function(){function t(t,e){this.FT=e,this.Wh=t}return t.prototype.$w=function(t,e){this.aH!=e&&t.flush(),this.aH=e},t.prototype.ZE=function(t,e){for(var i=0;i<e;)for(var n=t[i++],r=t[i++],s=t[i++]*this.FT;n<r;n++)this.Wh[s+(n>>4)]|=this.aH<<2*(15&n)},t}();t.wY=i;var n=function(){function e(t,e,i){this.Wh=null,this.MA=this.Ik=this.VH=this.TH=this.Fs=this.iH=this.Hf=this.Wm=0,this.Si=this.Jk=this.xl=null,this.Az(t,e,i)}return e.create=function(i,n,r){if(!e.rE(i))throw t.i.O();return e.oP(i,n,r)},e.fW=function(e){switch(e){case 0:e=1024;break;case 1:e=16384;break;case 2:e=262144;break;default:throw t.i.ga("Internal Error")}return e},e.rE=function(t){return!(t.B()||1607!=t.K()&&1736!=t.K())},e.prototype.jQ=function(e,i){i=i.Ha();for(var n=new t.h,r=new t.h;i.ab();)for(;i.Ia();){var s=i.ia();if(322!=s.K())throw t.i.ga("Internal Error");e.Fh(s.ac(),n),e.Fh(s.xc(),r),this.Si.ey(n.x,n.y,r.x,r.y)}this.Si.aJ(t.Nx.Ax)},e.prototype.kQ=function(){throw t.i.ga("Internal Error")},e.prototype.My=function(e,i){for(var n=1;4>n;n++)e.ey(i[n-1].x,i[n-1].y,i[n].x,i[n].y);e.ey(i[3].x,i[3].y,i[0].x,i[0].y),this.Si.aJ(t.Nx.Ax)},e.prototype.jK=function(e,i,n){for(var r=[null,null,null,null],s=0;s<r.length;s++)r[s]=new t.h;i=i.Ha(),n=this.Jk.SX(n)+1.5,s=new t.h;for(var o=new t.h,a=new t.h,c=new t.h,l=new t.h,u=new t.l,h=new t.h;i.ab();){var d=!1,p=!0;for(h.na(0,0);i.Ia();){var f=i.ia();if(c.x=f.sa,c.y=f.oa,l.x=f.qa,l.y=f.ma,u.Pa(),u.$b(c.x,c.y),u.Lk(l.x,l.y),this.xl.zG(u)){this.Jk.Fh(l,l),p?(this.Jk.Fh(c,c),h.N(c),p=!1):c.N(h),s.vc(l,c);var b=.5>(f=s.length());0==f?s.na(1,0):(b||h.N(l),s.scale(n/f),o.na(-s.y,s.x),a.na(s.y,-s.x),c.sub(s),l.add(s),r[0].add(c,o),r[1].add(c,a),r[2].add(l,a),r[3].add(l,o),b?d=!0:this.My(e,r))}else d&&(this.My(e,r),d=!1),p=!0}d&&this.My(e,r)}},e.prototype.lC=function(e){return t.P.truncate(e*this.iH+this.TH)},e.prototype.mC=function(e){return t.P.truncate(e*this.Fs+this.VH)},e.oP=function(t,i,n){return new e(t,i,n)},e.prototype.Az=function(e,n,r){this.Hf=Math.max(t.P.truncate(2*Math.sqrt(r)+.5),64),this.Wm=t.P.truncate((2*this.Hf+31)/32),this.xl=new t.l,this.Ik=n,r=0;for(var s=this.Hf,o=this.Wm;8<=s;)r+=s*o,s=t.P.truncate(s/2),o=t.P.truncate((2*s+31)/32);this.Wh=t.P.lg(r,0),this.Si=new t.Nx,r=new i(this.Wh,this.Wm,this),this.Si.oX(this.Hf,this.Hf,r),e.A(this.xl),this.xl.X(n,n),s=new t.l;var a=n*(o=t.l.construct(1,1,this.Hf-2,this.Hf-2)).S();switch(n*=o.da(),s.L(this.xl.tf(),Math.max(a,this.xl.S()),Math.max(n,this.xl.da())),this.MA=this.Ik,this.Jk=new t.Ed,this.Jk.gS(s,o),new t.Ed,e.K()){case 550:r.$w(this.Si,2),this.kQ();break;case 1607:r.$w(this.Si,2),this.jK(this.Si,e,this.MA);break;case 1736:r.$w(this.Si,1),this.jQ(this.Jk,e),r.$w(this.Si,2),this.jK(this.Si,e,this.MA)}this.iH=this.Jk.eb,this.Fs=this.Jk.bb,this.TH=this.Jk.Lb,this.VH=this.Jk.Qb,this.PN()},e.prototype.PN=function(){this.Si.flush();for(var e=0,i=this.Hf*this.Wm,n=this.Hf,r=t.P.truncate(this.Hf/2),s=this.Wm,o=t.P.truncate((2*r+31)/32);8<n;){for(n=0;n<r;n++)for(var a=2*n,c=2*n+1,l=0;l<r;l++){var u=2*l,h=2*l+1,d=u>>4;u=2*(15&u);var p=h>>4;h=2*(15&h);var f=this.Wh[e+s*a+d]>>u&3;f|=this.Wh[e+s*a+p]>>h&3,f|=this.Wh[e+s*c+d]>>u&3,f|=this.Wh[e+s*c+p]>>h&3,this.Wh[i+o*n+(l>>4)]|=f<<2*(15&l)}n=r,s=o,e=i,r=t.P.truncate(n/2),o=t.P.truncate((2*r+31)/32),i=e+s*n}},e.prototype.To=function(t,e){return this.xl.contains(t,e)?(t=this.lC(t),e=this.mC(e),0>t||t>=this.Hf||0>e||e>=this.Hf||0==(e=this.Wh[this.Wm*e+(t>>4)]>>2*(15&t)&3)?0:1==e?1:2):0},e.prototype.So=function(e){if(!e.Fa(this.xl))return 0;var i=this.lC(e.v),n=this.lC(e.C),r=this.mC(e.G);if(e=this.mC(e.H),0>i&&(i=0),0>r&&(r=0),n>=this.Hf&&(n=this.Hf-1),e>=this.Hf&&(e=this.Hf-1),i>n||r>e)return 0;for(var s=Math.max(n-i,1)*Math.max(e-r,1),o=0,a=this.Wm,c=this.Hf,l=0;;){if(32>s||16>c){for(s=r;s<=e;s++)for(var u=i;u<=n;u++)if(1<(l=this.Wh[o+a*s+(u>>4)]>>2*(15&u)&3))return 2;if(0==l)return 0;if(1==l)return 1}o+=a*c,c=t.P.truncate(c/2),a=t.P.truncate((2*c+31)/32),i=t.P.truncate(i/2),r=t.P.truncate(r/2),n=t.P.truncate(n/2),e=t.P.truncate(e/2),s=Math.max(n-i,1)*Math.max(e-r,1)}},e.prototype.IR=function(){return this.Hf*this.Wm},e}();t.Lx=n}(W||(W={})),function(t){var e;(e=t.NL||(t.NL={}))[e.contains=1]="contains",e[e.within=2]="within",e[e.equals=3]="equals",e[e.disjoint=4]="disjoint",e[e.touches=8]="touches",e[e.crosses=16]="crosses",e[e.overlaps=32]="overlaps",e[e.unknown=0]="unknown",e[e.intersects=1073741824]="intersects";var i=function(){function t(){}return t.construct=function(e,i,n,r,s,o,a,c){var l=new t;return l.qw=e,l.Om=i,l.Lj=n,l.Ti=r,l.tH=s,l.HY=o,l.IY=a,l.JY=c,l},t}();t.Wt=function(){function e(){}return e.uD=function(i,n,r){if(e.qy(i)){var s=t.ta.lj(n,i,!1);n=!1,t.Uk.uE(i)&&(n=n||i.mu(s,r)),1736!=(s=i.K())&&1607!=s||!t.Uk.sE(i)||0==r||(n=n||i.gj(r)),1736!=s&&1607!=s||!t.Uk.tE(i)||0==r||n||i.$L()}},e.qy=function(e){return t.Uk.uE(e)||t.Uk.sE(e)||t.Uk.tE(e)},e}();var n=function(){function e(){this.sh=[]}return e.tB=function(i,n,r,s,o){var a=i.K(),c=n.K();if(197==a){if(197==c)return e.jW(i,n,r,s);if(33==c)return 2==s?s=1:1==s&&(s=2),e.$I(n,i,r,s)}else if(33==a){if(197==c)return e.$I(i,n,r,s);if(33==c)return e.lW(i,n,r,s)}if(i.B()||n.B())return 4==s;var l=new t.l;i.A(l);var u=new t.l;n.A(u);var h=new t.l;if(h.L(l),h.$b(u),r=t.ta.Xd(r,h,!1),e.dk(l,u,r))return 4==s;switch(l=!1,t.Vk.zd(a)&&((a=new t.Ua(i.description)).oc(i,!0),i=a,a=1607),t.Vk.zd(c)&&((c=new t.Ua(n.description)).oc(n,!0),n=c,c=1607),197!=a&&197!=c?(i.Eb()<n.Eb()||33==a&&550==c)&&(2==s?s=1:1==s&&(s=2)):1736!=a&&197!=c&&(2==s?s=1:1==s&&(s=2)),a){case 1736:switch(c){case 1736:l=e.rt(i,n,r,s,o);break;case 1607:l=e.bn(i,n,r,s,o);break;case 33:l=e.qt(i,n,r,s);break;case 550:l=e.pt(i,n,r,s,o);break;case 197:l=e.yI(i,n,r,s,o)}break;case 1607:switch(c){case 1736:l=e.bn(n,i,r,s,o);break;case 1607:l=e.aB(i,n,r,s,o);break;case 33:l=e.tt(i,n,r,s,o);break;case 550:l=e.st(i,n,r,s,o);break;case 197:l=e.EI(i,n,r,s)}break;case 33:switch(c){case 1736:l=e.qt(n,i,r,s);break;case 1607:l=e.tt(n,i,r,s,o);break;case 550:l=e.lt(n,i,r,s)}break;case 550:switch(c){case 1736:l=e.pt(n,i,r,s,o);break;case 1607:l=e.st(n,i,r,s,o);break;case 550:l=e.TA(i,n,r,s,o);break;case 33:l=e.lt(i,n,r,s);break;case 197:l=e.$H(i,n,r,s)}break;case 197:switch(c){case 1736:l=e.yI(n,i,r,s,o);break;case 1607:l=e.EI(n,i,r,s);break;case 550:l=e.$H(n,i,r,s)}}return l},e.jW=function(i,n,r,s){if(i.B()||n.B())return 4==s;var o=new t.l,a=new t.l,c=new t.l;switch(i.A(o),n.A(a),c.L(o),c.$b(a),i=t.ta.Xd(r,c,!1),s){case 4:return e.dk(o,a,i);case 2:return e.bF(a,o,i);case 1:return e.bF(o,a,i);case 3:return e.ek(o,a,i);case 8:return e.VP(o,a,i);case 32:return e.UP(o,a,i);case 16:return e.TP(o,a,i)}return!1},e.$I=function(i,n,r,s){if(i.B()||n.B())return 4==s;i=i.D();var o=new t.l,a=new t.l;switch(n.A(o),a.L(i),a.$b(o),n=t.ta.Xd(r,a,!1),s){case 4:return e.Sw(i,o,n);case 2:return e.ZA(i,o,n);case 1:return e.HU(i,o,n);case 3:return e.nI(i,o,n);case 8:return e.YA(i,o,n)}return!1},e.lW=function(i,n,r,s){if(i.B()||n.B())return 4==s;i=i.D(),n=n.D();var o=new t.l;switch(o.L(i),o.$b(n),r=t.ta.Xd(r,o,!1),s){case 4:return e.IU(i,n,r);case 2:return e.mI(n,i,r);case 1:return e.mI(i,n,r);case 3:return e.oI(i,n,r)}return!1},e.rt=function(t,i,n,r,s){switch(r){case 4:return e.aV(t,i,n);case 2:return e.Tw(i,t,n,s);case 1:return e.Tw(t,i,n,s);case 3:return e.dV(t,i,n);case 8:return e.lV(t,i,n);case 32:return e.gV(t,i,n,s)}return!1},e.bn=function(t,i,n,r,s){switch(r){case 4:return e.bV(t,i,n);case 1:return e.$A(t,i,n,s);case 8:return e.mV(t,i,n,s);case 16:return e.XU(t,i,n)}return!1},e.qt=function(t,i,n,r){switch(r){case 4:return e.$U(t,i,n);case 1:return e.UU(t,i,n);case 8:return e.kV(t,i,n)}return!1},e.pt=function(t,i,n,r){switch(r){case 4:return e.ZU(t,i,n);case 1:return e.TU(t,i,n);case 8:return e.jV(t,i,n);case 16:return e.WU(t,i,n)}return!1},e.yI=function(t,i,n,r,s){if(e.YU(t,i,n))return 4==r;if(4==r)return!1;switch(r){case 2:return e.nV(t,i,n);case 1:return e.SU(t,i,n);case 3:return e.cV(t,i,n);case 8:return e.iV(t,i,n,s);case 32:return e.fV(t,i,n,s);case 16:return e.VU(t,i,n,s)}return!1},e.aB=function(t,i,n,r){switch(r){case 4:return e.wV(t,i,n);case 2:return e.CI(i,t,n);case 1:return e.CI(t,i,n);case 3:return e.yV(t,i,n);case 8:return e.FI(t,i,n);case 32:return e.CV(t,i,n);case 16:return e.DI(t,i,n)}return!1},e.tt=function(t,i,n,r){switch(r){case 4:return e.vV(t,i,n);case 1:return e.qV(t,i,n);case 8:return e.GV(t,i,n)}return!1},e.st=function(t,i,n,r){switch(r){case 4:return e.uV(t,i,n);case 1:return e.pV(t,i,n);case 8:return e.FV(t,i,n);case 16:return e.sV(t,i,n)}return!1},e.EI=function(t,i,n,r){if(e.tV(t,i,n))return 4==r;if(4==r)return!1;switch(r){case 2:return e.HV(t,i,n);case 1:return e.oV(t,i,n);case 3:return e.xV(t,i,n);case 8:return e.EV(t,i,n);case 32:return e.BV(t,i,n);case 16:return e.rV(t,i,n)}return!1},e.TA=function(t,i,n,r){switch(r){case 4:return e.XT(t,i,n);case 2:return e.XH(i,t,n);case 1:return e.XH(t,i,n);case 3:return e.ZT(t,i,n);case 32:return e.eU(t,i,n)}return!1},e.lt=function(t,i,n,r){switch(r){case 4:return e.YH(t,i,n);case 2:return e.iU(t,i,n);case 1:return e.UT(t,i,n);case 3:return e.Ow(t,i,n)}return!1},e.$H=function(t,i,n,r){switch(r){case 4:return e.WT(t,i,n);case 2:return e.hU(t,i,n);case 1:return e.TT(t,i,n);case 3:return e.YT(t,i,n);case 8:return e.gU(t,i,n);case 16:return e.VT(t,i,n)}return!1},e.dV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.ek(s,o,r)&&4!=(s=e.qc(i,n,!1))&&1!=s&&2!=s&&(!!e.WH(i,n,r)||(s=i.Rb(),o=n.Rb(),!(Math.abs(s-o)>4*Math.max(i.I(),n.I())*r)&&e.Rz(i,n,r,!0)))},e.aV=function(t,i,n){var r=e.qc(t,i,!0);return 4==r||1!=r&&2!=r&&1073741824!=r&&e.wI(t,i,n)},e.lV=function(t,i,n){var r=e.qc(t,i,!1);return 4!=r&&1!=r&&2!=r&&e.AI(t,i,n,null)},e.gV=function(t,i,n,r){var s=e.qc(t,i,!1);return 4!=s&&1!=s&&2!=s&&e.xI(t,i,n,r)},e.Tw=function(i,n,r,s){var o=new t.l,a=new t.l;return i.A(o),n.A(a),!!e.Ac(o,a,r)&&4!=(o=e.qc(i,n,!1))&&2!=o&&(1==o||e.tI(i,n,r,s))},e.bV=function(t,i,n){var r=e.qc(t,i,!0);return 4==r||1!=r&&1073741824!=r&&e.wI(t,i,n)},e.mV=function(t,i,n,r){var s=e.qc(t,i,!1);return 4!=s&&1!=s&&e.BI(t,i,n,r)},e.XU=function(t,i,n){var r=e.qc(t,i,!1);return 4!=r&&1!=r&&e.vI(t,i,n,null)},e.$A=function(i,n,r,s){var o=new t.l,a=new t.l;return i.A(o),n.A(a),!!e.Ac(o,a,r)&&4!=(o=e.qc(i,n,!1))&&(1==o||e.uI(i,n,r,s))},e.$U=function(e,i,n){return 0==t.jd.CG(e,i,n)},e.kV=function(t,i,n){return i=i.D(),e.zI(t,i,n)},e.UU=function(t,i,n){return i=i.D(),e.sI(t,i,n)},e.ZU=function(i,n,r){var s=e.qc(i,n,!1);if(4==s)return!0;if(1==s)return!1;s=new t.l,i.A(s),s.X(r,r);for(var o=new t.h,a=0;a<n.I();a++)if(n.D(a,o),s.contains(o)){var c=t.jd.Zd(i,o,r);if(1==c||2==c)return!1}return!0},e.jV=function(e,i,n){var r=this.qc(e,i,!1);if(4==r||1==r)return!1;r=new t.l,e.A(r),r.X(n,n);for(var s=!1,o=e,a=!1,c=0;c<i.I();c++){var l=i.Oa(c);if(r.contains(l))if(2==(l=t.jd.Zd(o,l,n)))s=!0;else if(1==l)return!1;a||(!t.Fg.Ol(e,i.I()-1)||null!=e.Cb&&null!=e.Cb.Gb?o=e:(o=new t.Ea,e.copyTo(o),o.gj(1)),a=!0)}return!!s},e.WU=function(e,i,n){var r=this.qc(e,i,!1);if(4==r||1==r)return!1;var s=new t.l;r=new t.l;var o=new t.l;e.A(s),i.A(o),r.L(s),r.X(n,n),o=s=!1;for(var a=e,c=!1,l=0;l<i.I();l++){var u=i.Oa(l);if(r.contains(u)?0==(u=t.jd.Zd(a,u,n))?o=!0:1==u&&(s=!0):o=!0,s&&o)return!0;c||(!t.Fg.Ol(e,i.I()-1)||null!=e.Cb&&null!=e.Cb.Gb?a=e:(a=new t.Ea,e.copyTo(a),a.gj(1)),c=!0)}return!1},e.TU=function(e,i,n){var r=new t.l,s=new t.l;if(e.A(r),i.A(s),!this.Ac(r,s,n))return!1;if(4==(s=this.qc(e,i,!1)))return!1;if(1==s)return!0;s=!1;for(var o=e,a=!1,c=0;c<i.I();c++){var l=i.Oa(c);if(!r.contains(l))return!1;if(1==(l=t.jd.Zd(o,l,n)))s=!0;else if(0==l)return!1;a||(!t.Fg.Ol(e,i.I()-1)||null!=e.Cb&&null!=e.Cb.Gb?o=e:(o=new t.Ea,e.copyTo(o),o.gj(1)),a=!0)}return s},e.cV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.ek(s,o,r)&&((s=new t.Ea).bd(n,!1),e.Rz(i,s,r,!0))},e.YU=function(i,n,r){var s=e.qc(i,n,!1);if(4==s)return!0;if(1==s||2==s)return!1;var o=new t.l;if(s=new t.l,i.A(o),n.A(s),e.Ac(s,o,r))return!1;if(o=new t.h,s.fn(o),0!=(n=t.jd.Zd(i,o,r)))return!1;if(s.SI(o),0!=(n=t.jd.Zd(i,o,r)))return!1;if(s.gn(o),0!=(n=t.jd.Zd(i,o,r)))return!1;if(s.VI(o),0!=(n=t.jd.Zd(i,o,r)))return!1;n=i.vb(0),(o=new t.l).L(s),o.X(r,r);for(var a=0,c=i.I();a<c;a++){var l=n.read(2*a),u=n.read(2*a+1);if(o.contains(l,u))return!1}return!e.KG(i,s,r)},e.iV=function(i,n,r,s){var o=e.qc(i,n,!1);if(4==o||1==o||2==o)return!1;o=new t.l;var a=new t.l;return i.A(o),n.A(a),!e.Ac(a,o,r)&&(a.S()<=r&&a.da()<=r?(n=n.Kp(),e.zI(i,n,r)):a.S()<=r||a.da()<=r?(o=new t.Ua,a=new t.Ta,n.If(0,a),o.nf(a),n.If(2,a),o.lineTo(a),e.BI(i,o,r,s)):((o=new t.Ea).bd(n,!1),e.AI(i,o,r,s)))},e.fV=function(i,n,r,s){var o=e.qc(i,n,!1);if(4==o||1==o||2==o)return!1;o=new t.l;var a=new t.l;return i.A(o),n.A(a),!(e.Ac(a,o,r)||a.S()<=r||a.da()<=r)&&((o=new t.Ea).bd(n,!1),e.xI(i,o,r,s))},e.nV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),e.Ac(o,s,r)},e.SU=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.Ac(s,o,r)&&4!=(s=e.qc(i,n,!1))&&2!=s&&(1==s||(o.S()<=r&&o.da()<=r?(n=n.Kp(),e.sI(i,n,r)):o.S()<=r||o.da()<=r?(o=new t.Ua,s=new t.Ta,n.If(0,s),o.nf(s),n.If(2,s),o.lineTo(s),e.uI(i,o,r,null)):((o=new t.Ea).bd(n,!1),e.tI(i,o,r,null))))},e.VU=function(i,n,r,s){var o=new t.l,a=new t.l;return i.A(o),n.A(a),!(e.Ac(a,o,r)||a.da()>r&&a.S()>r||a.da()<=r&&a.S()<=r)&&(o=new t.Ua,a=new t.Ta,n.If(0,a),o.nf(a),n.If(2,a),o.lineTo(a),e.vI(i,o,r,s))},e.yV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.ek(s,o,r)||4==e.qc(i,n,!1))&&(!!e.WH(i,n,r)||e.Rz(i,n,r,!1))},e.wV=function(e,i,n){return 4==this.qc(e,i,!1)||!!new t.am(e,i,n,!0).next()&&!this.LG(e,i,n)},e.FI=function(i,n,r){if(4==e.qc(i,n,!1))return!1;var s=new t.ce(0);if(0!=e.Sz(i,n,r,s))return!1;for(var o=new t.de,a=0;a<s.size;a+=2){var c=s.read(a),l=s.read(a+1);o.Cu(c,l)}return i=i.mg(),n=n.mg(),i.Gd(n,0,n.I()),e.Nw(i,o,r)},e.DI=function(i,n,r){if(4==e.qc(i,n,!1))return!1;var s=new t.ce(0);if(0!=e.Sz(i,n,r,s))return!1;for(var o=new t.de,a=0;a<s.size;a+=2){var c=s.read(a),l=s.read(a+1);o.Cu(c,l)}return i=i.mg(),n=n.mg(),i.Gd(n,0,n.I()),!e.Nw(i,o,r)},e.CV=function(t,i,n){return 4!=e.qc(t,i,!1)&&e.NG(t,i,n)},e.CI=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.Ac(s,o,r)||4==e.qc(i,n,!1))&&e.Am(n,i,r,!1)},e.vV=function(t,i,n){return 4==e.qc(t,i,!1)||(i=i.D(),!e.Tz(t,i,n))},e.GV=function(t,i,n){return 4!=e.qc(t,i,!1)&&(i=i.D(),e.Uz(t,i,n))},e.qV=function(t,i,n){return 4!=e.qc(t,i,!1)&&(i=i.D(),e.JG(t,i,n))},e.uV=function(t,i,n){return 4==e.qc(t,i,!1)||!e.MG(t,i,n,!1)},e.FV=function(e,i,n){if(4==this.qc(e,i,!1))return!1;var r=e.Ha(),s=new t.l,o=new t.l,a=new t.l;e.A(s),i.A(o),s.X(n,n),o.X(n,n),a.L(s),a.Fa(o),s=null;var c=e.Cb;if(null!=c){var l=c.Gb;s=c.Ao,null==l&&(l=c=t.ta.kj(e,a))}else l=c=t.ta.kj(e,a);var u=l.getIterator(),h=null;null!=s&&(h=s.getIterator());var d=new t.h,p=new t.h,f=!1,b=n*n;for(s=new t.rn(i.I()),c=0;c<i.I();c++)s.write(c,0);for(c=0;c<i.I();c++)if(i.D(c,d),a.contains(d)){if(o.L(d.x,d.y,d.x,d.y),null!=h&&(h.Yi(o,n),-1==h.next()))continue;u.Yi(o,n);for(var y=u.next();-1!=y;y=u.next())if(r.Wb(l.ka(y)),(y=r.ia()).ic(y.fe(d,!1),p),t.h.zc(d,p)<=b){s.write(c,1),f=!0;break}}if(!f)return!1;for(e=e.mg(),r=new t.de,o=new t.h,c=0;c<i.I();c++)0!=s.read(c)&&(i.D(c,o),r.Cu(o.x,o.y));return this.Nw(e,r,n)},e.sV=function(e,i,n){if(4==this.qc(e,i,!1))return!1;var r=e.Ha(),s=new t.l,o=new t.l,a=new t.l;e.A(s),i.A(o),s.X(n,n),o.X(n,n),a.L(s),a.Fa(o),s=null;var c=e.Cb;if(null!=c){var l=c.Gb;s=c.Ao,null==l&&(l=c=t.ta.kj(e,a))}else l=c=t.ta.kj(e,a);var u=l.getIterator(),h=null;null!=s&&(h=s.getIterator());var d=new t.h,p=new t.h,f=!1,b=!1,y=n*n;for(s=new t.rn(i.I()),c=0;c<i.I();c++)s.write(c,0);for(c=0;c<i.I();c++)if(i.D(c,d),a.contains(d)){if(o.L(d.x,d.y,d.x,d.y),null!=h&&(h.Yi(o,n),-1==h.next())){b=!0;continue}u.Yi(o,n);for(var m=!1,g=u.next();-1!=g;g=u.next())if(r.Wb(l.ka(g)),(g=r.ia()).ic(g.fe(d,!1),p),t.h.zc(d,p)<=y){s.write(c,1),m=f=!0;break}m||(b=!0)}else b=!0;if(!f||!b)return!1;for(e=e.mg(),r=new t.de,o=new t.h,c=0;c<i.I();c++)0!=s.read(c)&&(i.D(c,o),r.Cu(o.x,o.y));return!this.Nw(e,r,n)},e.pV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.Ac(s,o,r)||4==e.qc(i,n,!1)||!e.MG(i,n,r,!0))&&(i=i.mg(),!e.ZH(i,n,r))},e.xV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(o.da()>r&&o.S()>r)&&e.ek(s,o,r)},e.tV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!e.Ac(o,s,r)&&!e.KG(i,o,r)},e.EV=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),o.da()<=r&&o.S()<=r)return o=n.Kp(),e.Uz(i,o,r);if(o.da()<=r||o.S()<=r)return o=new t.Ua,s=new t.Ta,n.If(0,s),o.nf(s),n.If(2,s),o.lineTo(s),e.FI(i,o,r);i=i.Ha(),n=new t.l,s=new t.l,n.L(o),s.L(o),n.X(-r,-r),s.X(r,r),o=!1;for(var a=new t.l,c=new t.l;i.ab();)for(;i.Ia();){if(i.ia().A(a),c.L(n),c.Fa(a),!c.B()&&(c.da()>r||c.S()>r))return!1;c.L(s),c.Fa(a),c.B()||(o=!0)}return o},e.BV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(e.Ac(s,o,r)||e.Ac(o,s,r)||e.Ac(o,s,r)||o.da()>r&&o.S()>r||o.da()<=r&&o.S()<=r)&&(s=new t.Ua,o=new t.Ta,n.If(0,o),s.nf(o),n.If(2,o),s.lineTo(o),e.NG(i,s,r))},e.HV=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),!e.Ac(o,s,r)||o.da()<=r&&o.S()<=r)return!1;if(o.da()<=r||o.S()<=r)return e.Ac(o,s,r);i=i.Ha(),(n=new t.l).L(o),n.X(-r,-r),o=!1,s=new t.l;for(var a=new t.l;i.ab();)for(;i.Ia();)i.ia().A(s),n.jm(s)?o=!0:(a.L(n),a.Fa(s),!a.B()&&(a.da()>r||a.S()>r)&&(o=!0));return o},e.oV=function(i,n,r){var s=new t.l,o=new t.l;return n.A(o),i.A(s),!(!e.Ac(s,o,r)||o.da()>r&&o.S()>r)&&(o.da()<=r&&o.S()<=r?(n=n.Kp(),e.JG(i,n,r)):(s=new t.Ua,o=new t.Ta,n.If(0,o),s.nf(o),n.If(2,o),s.lineTo(o),e.Am(s,i,r,!1)))},e.rV=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),e.Ac(o,s,r)||o.da()<=r&&o.S()<=r)return!1;if(o.da()<=r||o.S()<=r)return s=new t.Ua,o=new t.Ta,n.If(0,o),s.nf(o),n.If(2,o),s.lineTo(o),e.DI(i,s,r);i=i.Ha(),n=new t.l,(s=new t.l).L(o),n.L(o),s.X(-r,-r),n.X(r,r);for(var a=o=!1,c=new t.l,l=new t.l;i.ab();)for(;i.Ia();)if(i.ia().A(c),a||n.contains(c)||(a=!0),o||(l.L(s),l.Fa(c),!l.B()&&(l.da()>r||l.S()>r)&&(o=!0)),o&&a)return!0;return!1},e.ZT=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.ek(s,o,r)&&(!!e.$T(i,n,r)||e.SA(i,n,r,!1,!0,!1))},e.XT=function(t,i,n){return!e.ZH(t,i,n)},e.eU=function(t,i,n){return e.SA(t,i,n,!1,!1,!0)},e.XH=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.Ac(s,o,r)&&e.SA(n,i,r,!0,!1,!1)},e.Nw=function(e,i,n){n*=n;for(var r=new t.h,s=new t.h,o=0;o<i.I();o++){i.D(o,s);for(var a=!1,c=0;c<e.I();c++)if(e.D(c,r),t.h.zc(r,s)<=n){a=!0;break}if(!a)return!1}return!0},e.Ow=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),e.ek(s,o,r)},e.YH=function(t,i,n){return i=i.D(),e.kt(t,i,n)},e.iU=function(t,i,n){return e.Ow(t,i,n)},e.UT=function(t,i,n){return!e.YH(t,i,n)},e.YT=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(o.da()>r||o.S()>r)&&e.ek(s,o,r)},e.WT=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),e.Ac(o,s,r))return!1;for((n=new t.l).L(o),n.X(r,r),r=new t.h,o=0;o<i.I();o++)if(i.D(o,r),n.contains(r))return!1;return!0},e.gU=function(e,i,n){var r=new t.l,s=new t.l,o=new t.l;if(i.A(r),r.da()<=n&&r.S()<=n)return!1;if(r.da()<=n||r.S()<=n){i=new t.h;var a=!1;s.L(r),o.L(r),s.X(n,n),r.da()>n?o.X(0,-n):o.X(-n,0);for(var c=0;c<e.I();c++)if(e.D(c,i),s.contains(i)){if(r.da()>n){if(i.y>o.G&&i.y<o.H)return!1}else if(i.x>o.v&&i.x<o.C)return!1;a=!0}return a}for(s.L(r),o.L(r),s.X(n,n),o.X(-n,-n),i=new t.h,a=!1,c=0;c<e.I();c++)if(e.D(c,i),s.contains(i)){if(o.jm(i))return!1;a=!0}return a},e.hU=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),!e.Ac(o,s,r))return!1;if(o.da()<=r&&o.S()<=r)return e.ek(s,o,r);if(o.da()<=r||o.S()<=r){n=!1,s=new t.l;var a=new t.l;s.L(o),a.L(o),o.da()>r?s.X(0,-r):s.X(-r,0),a.X(r,r);for(var c=new t.h,l=0;l<i.I();l++){if(i.D(l,c),!a.contains(c))return!1;o.da()>r?c.y>s.G&&c.y<s.H&&(n=!0):c.x>s.v&&c.x<s.C&&(n=!0)}return n}for(n=!1,s=new t.l,a=new t.l,s.L(o),a.L(o),s.X(-r,-r),a.X(r,r),c=new t.h,l=0;l<i.I();l++){if(i.D(l,c),!a.contains(c))return!1;s.jm(c)&&(n=!0)}return n},e.TT=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.Ac(s,o,r)||o.da()>r||o.S()>r)&&(n=n.Kp(),!e.kt(i,n,r))},e.VT=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),e.Ac(o,s,r)||o.da()<=r&&o.S()<=r)return!1;if(o.da()<=r||o.S()<=r){n=new t.l,s=new t.l,n.L(o),o.da()>r?n.X(0,-r):n.X(-r,0),s.L(o),s.X(r,r);for(var a=new t.h,c=!1,l=!1,u=0;u<i.I();u++)if(i.D(u,a),c||(o.da()>r?a.y>n.G&&a.y<n.H&&(c=!0):a.x>n.v&&a.x<n.C&&(c=!0)),l||s.contains(a)||(l=!0),c&&l)return!0;return!1}for(n=new t.l,s=new t.l,n.L(o),n.X(-r,-r),s.L(o),s.X(r,r),a=new t.h,l=c=!1,u=0;u<i.I();u++)if(i.D(u,a),!c&&n.jm(a)&&(c=!0),l||s.contains(a)||(l=!0),c&&l)return!0;return!1},e.oI=function(e,i,n){return t.h.zc(e,i)<=n*n},e.IU=function(e,i,n){return t.h.zc(e,i)>n*n},e.mI=function(t,i,n){return e.oI(t,i,n)},e.nI=function(i,n,r){var s=new t.l;return s.L(i),e.ek(s,n,r)},e.Sw=function(e,i,n){var r=new t.l;return r.L(i),r.X(n,n),!r.contains(e)},e.YA=function(e,i,n){if(i.da()<=n&&i.S()<=n)return!1;var r=new t.l,s=new t.l;if(r.L(i),r.X(n,n),!r.contains(e))return!1;if(i.da()<=n||i.S()<=n){if(s.L(i),i.da()>n?s.X(0,-n):s.X(-n,0),i.da()>n){if(e.y>s.G&&e.y<s.H)return!1}else if(e.x>s.v&&e.x<s.C)return!1;return!0}return s.L(i),s.X(-n,-n),!s.jm(e)},e.ZA=function(e,i,n){if(i.da()<=n&&i.S()<=n)return!0;if(i.da()<=n||i.S()<=n){var r=new t.l;r.L(i),i.da()>n?r.X(0,-n):r.X(-n,0);var s=!1;return i.da()>n?e.y>r.G&&e.y<r.H&&(s=!0):e.x>r.v&&e.x<r.C&&(s=!0),s}return(r=new t.l).L(i),r.X(-n,-n),r.jm(e)},e.HU=function(t,i,n){return e.nI(t,i,n)},e.ek=function(t,i,n){return e.Ac(t,i,n)&&e.Ac(i,t,n)},e.dk=function(e,i,n){var r=new t.l;return r.L(i),r.X(n,n),!e.isIntersecting(r)},e.VP=function(i,n,r){if(i.da()<=r&&i.S()<=r){var s=i.tf();return e.YA(s,n,r)}if(n.da()<=r&&n.S()<=r)return s=n.tf(),e.YA(s,i,r);if(i.da()>r&&i.S()>r&&(n.da()<=r||n.S()<=r)?s=n:(s=i,i=n),s.da()<=r||s.S()<=r){if(i.da()<=r||i.S()<=r){n=new t.zb;var o=new t.zb,a=[0,0],c=[0,0],l=new t.h;return s.fn(l),n.Ec(l),s.gn(l),n.Rc(l),i.fn(l),o.Ec(l),i.gn(l),o.Rc(l),n.Fa(o,null,a,c,r),1==n.Fa(o,null,null,null,r)&&(0==a[0]||1==a[1]||0==c[0]||1==c[1])}return n=new t.l,o=new t.l,n.L(i),n.X(-r,-r),o.L(n),o.Fa(s),!(!o.B()&&(o.da()>r||o.S()>r))}return i.X(r,r),(o=new t.l).L(s),o.Fa(i),!(o.B()||!o.B()&&o.da()>r&&o.S()>r)},e.UP=function(i,n,r){if(e.Ac(i,n,r)||e.Ac(n,i,r)||i.da()<=r&&i.S()<=r||n.da()<=r&&n.S()<=r)return!1;if(i.da()<=r||i.S()<=r){if(n.da()>r&&n.S()>r)return!1;var s=new t.zb,o=new t.zb,a=[0,0],c=[0,0],l=new t.h;return i.fn(l),s.Ec(l),i.gn(l),s.Rc(l),n.fn(l),o.Ec(l),n.gn(l),o.Rc(l),s.Fa(o,null,a,c,r),2==s.Fa(o,null,null,null,r)&&(0<a[0]||1>a[1])&&(0<c[0]||1>c[1])}return!(n.da()<=r||n.S()<=r)&&((s=new t.l).L(i),s.Fa(n),!(s.B()||s.da()<=r||s.S()<=r))},e.bF=function(i,n,r){if(!e.Ac(i,n,r))return!1;if(i.da()<=r&&i.S()<=r)return i=i.tf(),e.ZA(i,n,r);if(n.da()<=r&&n.S()<=r)return n=n.tf(),e.ZA(n,i,r);if(i.da()<=r||i.S()<=r)return e.Ac(i,n,r);if(n.da()<=r||n.S()<=r){var s=new t.l;return s.L(i),s.X(-r,-r),!!s.jm(n)||((i=new t.l).L(s),i.Fa(n),!(i.B()||i.da()<=r&&i.S()<=r))}return e.Ac(i,n,r)},e.TP=function(i,n,r){if(e.Ac(i,n,r)||e.Ac(n,i,r)||i.da()<=r&&i.S()<=r||n.da()<=r&&n.S()<=r||n.da()>r&&n.S()>r&&i.da()>r&&i.S()>r)return!1;if(i.da()>r&&i.S()>r)var s=n;else s=i,i=n;if(i.da()>r&&i.S()>r){n=new t.l;var o=new t.l;return o.L(i),o.X(-r,-r),n.L(o),n.Fa(s),!(n.B()||n.da()<=r&&n.S()<=r)}n=new t.zb,o=new t.zb;var a=[0,0],c=[0,0],l=new t.h;return s.fn(l),n.Ec(l),s.gn(l),n.Rc(l),i.fn(l),o.Ec(l),i.gn(l),o.Rc(l),n.Fa(o,null,a,c,r),1==n.Fa(o,null,null,null,r)&&0<a[0]&&1>a[1]&&0<c[0]&&1>c[1]},e.wI=function(e,i,n){var r=new t.l,s=new t.l,o=new t.am(e,i,n,!0);if(!o.next())return!0;if(this.LG(e,i,n))return!1;var a=e,c=null;1736==i.K()&&(c=i);var l=!1,u=!1;do{var h=o.pl(),d=o.jl();if(d=i.Oa(i.Ca(d)),r.L(o.oz()),r.X(n,n),r.contains(d)&&0!=(d=t.jd.Zd(a,d,0))||1736==i.K()&&(h=e.Oa(e.Ca(h)),s.L(o.Wy()),s.X(n,n),s.contains(h)&&0!=(d=t.jd.Zd(c,h,0))))return!1;l||(!t.Fg.Ol(e,i.ea()-1)||null!=e.Cb&&null!=e.Cb.Gb?a=e:(a=new t.Ea,e.copyTo(a),a.gj(1)),l=!0),1736!=i.K()||u||(u=i,!t.Fg.Ol(u,e.ea()-1)||null!=i.Cb&&null!=i.Cb.Gb?c=i:(c=new t.Ea,u.copyTo(c),c.gj(1)),u=!0)}while(o.next());return!0},e.Ac=function(e,i,n){var r=new t.l;return r.L(e),r.X(n,n),r.contains(i)},e.ms=function(e,i,n){var r=new t.l;return r.L(i),r.X(n,n),i=new t.h,e.fn(i),!r.contains(i)||(e.SI(i),!r.contains(i)||(e.VI(i),!r.contains(i)||(e.gn(i),!r.contains(i))))},e.WH=function(e,i,n){if(e.ea()!=i.ea()||e.I()!=i.I())return!1;var r=new t.h,s=new t.h,o=!0;n*=n;for(var a=0;a<e.ea();a++){if(e.Wc(a)!=i.Wc(a)){o=!1;break}for(var c=e.Ca(a);c<i.Wc(a);c++)if(e.D(c,r),i.D(c,s),t.h.zc(r,s)>n){o=!1;break}if(!o)break}return!!o},e.$T=function(e,i,n){if(e.I()!=i.I())return!1;var r=new t.h,s=new t.h,o=!0;n*=n;for(var a=0;a<e.I();a++)if(e.D(a,r),i.D(a,s),t.h.zc(r,s)>n){o=!1;break}return!!o},e.SA=function(e,i,n,r,s,o){var a=!1;if(e.I()>i.I()){r&&(r=!1,a=!0);var c=i}else c=e,e=i;if(i=null,s||o||a){i=new t.rn(e.I());for(var l=0;l<e.I();l++)i.write(l,0)}l=new t.l;var u=new t.l,h=new t.l;c.A(l),e.A(u),l.X(n,n),u.X(n,n),h.L(l),h.Fa(u),u=new t.h;for(var d=new t.h,p=!0,f=t.ta.gE(e,h),b=f.getIterator(),y=n*n,m=0;m<c.I();m++)if(c.D(m,u),h.contains(u)){var g=!1;l.L(u.x,u.y,u.x,u.y),b.Yi(l,n);for(var v=b.next();-1!=v&&(v=f.ka(v),e.D(v,d),!(t.h.zc(u,d)<=y&&((s||o||a)&&i.write(v,1),g=!0,r)));v=b.next());if(!g&&(p=!1,s||r))return!1}else{if(s||r)return!1;p=!1}if(o&&p)return!1;if(r)return!0;for(l=0;l<e.I();l++)if(1==i.read(l)){if(o)return!0}else if(s||a)return!1;return!o},e.ZH=function(e,i,n){if(e.I()>i.I())var r=i;else r=e,e=i;i=new t.l;var s=new t.l,o=new t.l;r.A(i),e.A(s),i.X(n,n),s.X(n,n),o.L(i),o.Fa(s),s=new t.h;for(var a=new t.h,c=n*n,l=t.ta.gE(e,o),u=l.getIterator(),h=0;h<r.I();h++)if(r.D(h,s),o.contains(s)){i.L(s.x,s.y,s.x,s.y),u.Yi(i,n);for(var d=u.next();-1!=d;d=u.next())if(e.D(l.ka(d),a),t.h.zc(s,a)<=c)return!0}return!1},e.Rz=function(t,i,n,r){return e.Am(t,i,n,r)&&e.Am(i,t,n,r)},e.Am=function(n,r,s,o){function a(t,e){return f.IE(t,e)}var c,l=!0,u=[0,0],h=[0,0],d=0,p=new t.ja(0),f=new e,b=new t.l,y=new t.l,m=new t.l;n.A(b),r.A(y),b.X(s,s),y.X(s,s),m.L(b),m.Fa(y),n=n.Ha(),y=r.Ha();var g=null,v=g=null,w=r.Cb;for(null!=w?(g=w.Gb,v=w.Ao,null==g&&(g=t.ta.kj(r,m))):g=t.ta.kj(r,m),r=g.getIterator(),w=null,null!=v&&(w=v.getIterator());n.ab();)for(;n.Ia();){var O=!1,j=n.ia();if(j.A(b),!b.isIntersecting(m))return!1;if(null!=w&&(w.Yi(b,s),-1==w.next()))return!1;for(v=j.Rb(),r.Vo(j,s),c=r.next();-1!=c;c=r.next()){y.Wb(g.ka(c)),c=y.ia();var _=j.Fa(c,null,u,h,s);if(2==_&&(!o||h[0]<=h[1])){_=u[0];var x=u[1],S=h[0],M=h[1];if(_*v<=s&&(1-x)*v<=s){O=!0,d=0,p.resize(0),f.sh.length=0;var k=n.xb();for(S=!0;S;){if(n.Ia()){if(v=(j=n.ia()).Rb(),2==(_=j.Fa(c,null,u,h,s))&&(!o||h[0]<=h[1])&&(_=u[0],x=u[1],_*v<=s&&(1-x)*v<=s)){k=n.xb();continue}if(y.Ia()&&(c=y.ia(),2==(_=j.Fa(c,null,u,h,s))&&(!o||h[0]<=h[1])&&(_=u[0],x=u[1],_*v<=s&&(1-x)*v<=s))){k=n.xb();continue}}S=!1}k!=n.xb()&&(n.Wb(k),n.ia());break}k=n.xb(),c=i.construct(k,n.gb,_,x,y.xb(),y.gb,S,M),f.sh.push(c),p.add(p.size)}}if(!O){if(d==f.sh.length)return!1;for(1<p.size-d&&p.Wd(d,p.size,a),O=0;d<f.sh.length;d++)if(!((c=f.sh[p.get(d)]).Lj<O&&c.Ti<O)){if(v*(c.Lj-O)>s)return!1;if(v*(1-(O=c.Ti))<=s||1==O)break}if(v*(1-O)>s)return!1;d=0,p.resize(0),f.sh.length=0}}return l},e.NG=function(i,n,r){if(1>e.Sz(i,n,r,null))return!1;var s=new t.l,o=new t.l;i.A(s),n.A(o);var a=e.ms(s,o,r);return s=e.ms(o,s,r),!(!a||!s)||(a&&!s?!e.Am(n,i,r,!1):s&&!a?!e.Am(i,n,r,!1):!e.Am(i,n,r,!1)&&!e.Am(n,i,r,!1))},e.Sz=function(n,r,s,o){function a(t,e){return b.IE(t,e)}if(n.sz()>r.sz())var c=r,l=n;else c=n,l=r;n=c.Ha(),r=l.Ha();var u=[0,0],h=[0,0],d=-1,p=0,f=new t.ja(0),b=new e,y=new t.l,m=new t.l,g=new t.l;c.A(y),l.A(m),y.X(s,s),m.X(s,s),g.L(y),g.Fa(m),c=null,null!=o&&(c=new t.h);var v=m=m=null,w=l.Cb;for(null!=w?(m=w.Gb,v=w.Ao,null==m&&(m=t.ta.kj(l,g))):m=t.ta.kj(l,g),l=m.getIterator(),w=null,null!=v&&(w=v.getIterator());n.ab();)for(v=0;n.Ia();){var O=n.ia();if(O.A(y),y.isIntersecting(g)){if(null!=w&&(w.Yi(y,s),-1==w.next()))continue;var j=O.Rb();l.Vo(O,s);for(var _=l.next();-1!=_;_=l.next()){var x=m.ka(_);r.Wb(x);var S=r.ia(),M=S.Rb(),k=O.Fa(S,null,u,h,s);if(0<k){_=u[0],d=h[0];var I=2==k?u[1]:NaN,T=2==k?h[1]:NaN;if(2==k){if(j*(I-_)>s)return 1;var E=j*(I-_);if(r.Ia()){if(S=r.ia(),2==(k=O.Fa(S,null,u,null,s))){k=u[0];var A=u[1];if(E+(k=j*(A-k))>s)return 1}r.Wb(x),r.ia()}if(!r.xm()){if(r.mi(),S=r.mi(),2==(k=O.Fa(S,null,u,null,s))&&(k=u[0],E+(k=j*((A=u[1])-k))>s))return 1;r.Wb(x),r.ia()}if(n.Ia()){if(x=n.xb(),2==(k=(O=n.ia()).Fa(S,null,u,null,s))&&(k=u[0],E+(k=j*((A=u[1])-k))>s))return 1;n.Wb(x),n.ia()}if(!n.xm()){if(x=n.xb(),n.mi(),2==(k=(O=n.mi()).Fa(S,null,u,null,s))&&(k=u[0],E+(k=M*((A=u[1])-k))>s))return 1;n.Wb(x),n.ia()}S=i.construct(n.xb(),n.gb,_,I,r.xb(),r.gb,d,T),b.sh.push(S),f.add(f.size)}d=0,null!=o&&(O.ic(_,c),o.add(c.x),o.add(c.y))}}if(p<b.sh.length){for(f.Wd(p,f.size,a),O=0,_=b.sh[f.get(p)].Om;p<b.sh.length;p++)if(!((S=b.sh[f.get(p)]).Lj<O&&S.Ti<O))if(j*(S.Lj-O)>s)v=j*(S.Ti-S.Lj),O=S.Ti,_=S.Om;else{if(S.Om!=_?(v=j*(S.Ti-S.Lj),_=S.Om):v+=j*(S.Ti-S.Lj),v>s)return 1;if(1==(O=S.Ti))break}j*(1-O)>s&&(v=0),p=0,f.resize(0),b.sh.length=0}}}return d},e.LG=function(e,i,n){var r=e.Ha(),s=i.Ha();for(e=new t.am(e,i,n,!1);e.next();){i=e.pl();var o=e.jl();if(r.Wb(i),s.Wb(o),i=r.ia(),0<s.ia().Fa(i,null,null,null,n))return!0}return!1},e.MG=function(e,i,n,r){var s=e.Ha(),o=new t.l,a=new t.l,c=new t.l;e.A(o),i.A(a),o.X(n,n),o.contains(a),a.X(n,n),c.L(o),c.Fa(a),null!=(o=e.Cb)?null==(o=o.Gb)&&(o=t.ta.kj(e,c)):o=t.ta.kj(e,c),e=o.getIterator();for(var l=new t.h,u=new t.h,h=n*n,d=0;d<i.I();d++)if(i.D(d,l),c.contains(l)){a.L(l.x,l.y,l.x,l.y),e.Yi(a,n);for(var p=!1,f=e.next();-1!=f;f=e.next())if(s.Wb(o.ka(f)),(f=s.ia()).ic(f.fe(l,!1),u),t.h.zc(u,l)<=h){p=!0;break}if(r){if(!p)return!1}else if(p)return!0}return!!r},e.Tz=function(e,i,n){var r=new t.h,s=n*n,o=e.Ha();if(null!=(e=e.Cb)&&null!=(e=e.Gb)){var a=new t.l;for(a.L(i),a=(n=e.EF(a,n)).next();-1!=a;a=n.next())if(o.Wb(e.ka(a)),o.Ia()){var c=(a=o.ia()).fe(i,!1);if(a.ic(c,r),t.h.zc(i,r)<=s)return!0}return!1}for(e=new t.l;o.ab();)for(;o.Ia();)if((a=o.ia()).A(e),e.X(n,n),e.contains(i)&&(c=a.fe(i,!1),a.ic(c,r),t.h.zc(i,r)<=s))return!0;return!1},e.JG=function(t,i,n){return e.Tz(t,i,n)&&!e.Uz(t,i,n)},e.Uz=function(t,i,n){return t=t.mg(),!e.kt(t,i,n)},e.KG=function(e,i,n){if(e.vm()){var r=new t.zb(i.v,i.G,i.v,i.H),s=new t.zb(i.v,i.H,i.C,i.H),o=new t.zb(i.C,i.H,i.C,i.G);for(i=new t.zb(i.C,i.G,i.v,i.G),e=e.Ha();e.ab();)for(;e.Ia();){var a=e.ia();if(a.isIntersecting(r,n)||a.isIntersecting(s,n)||a.isIntersecting(o,n)||a.isIntersecting(i,n))return!0}}else{(r=new t.l).L(i),r.X(n,n),n=e.vb(0),s=new t.h,o=new t.h,i=new t.h,a=new t.h;for(var c=0,l=e.ea();c<l;c++)for(var u=!0,h=e.Ca(c),d=e.Wc(c);h<d;h++)if(u)n.uc(2*h,o),u=!1;else{if(n.uc(2*h,s),i.N(o),a.N(s),0!=r.ty(i,a))return!0;o.N(s)}}return!1},e.qc=function(i,n,r){var s=i.K(),o=n.K();if(t.ba.yj(s)){var a=i.Cb;if(null!=a&&null!=(a=a.Fk))if(33==o){var c=n.D();if(1==(c=a.To(c.x,c.y)))return 1;if(0==c)return 4}else{if(c=new t.l,n.A(c),1==(c=a.So(c)))return 1;if(0==c)return 4;if(r&&t.ba.yj(o)&&e.zE(n,a))return 1073741824}}if(t.ba.yj(o)&&null!=(a=n.Cb)&&null!=(a=a.Fk))if(33==s){if(i=i.D(),1==(c=a.To(i.x,i.y)))return 2;if(0==c)return 4}else{if(n=new t.l,i.A(n),1==(c=a.So(n)))return 2;if(0==c)return 4;if(r&&t.ba.yj(s)&&e.zE(i,a))return 1073741824}return 0},e.zE=function(e,i){for(var n=e.I(),r=new t.h,s=0;s<n;s++)if(e.D(s,r),1==i.To(r.x,r.y))return!0;return!1},e.AI=function(e,i,n,r){for(var s=1<=e.qm(0)&&1<=i.qm(0),o=e.Ha(),a=i.Ha(),c=[0,0],l=[0,0],u=new t.am(e,i,n,!1),h=!1;u.next();){var d=u.pl(),p=u.jl();if(o.Wb(d),a.Wb(p),d=o.ia(),2==(p=a.ia().Fa(d,null,l,c,n))){if(h=c[0],p=c[1],d=d.Rb(),s&&(p-h)*d>n)return!1;h=!0}else if(0!=p){if(h=c[0],d=l[0],0<h&&1>h&&0<d&&1>d)return!1;h=!0}}return!!h&&(o=new t.l,a=new t.l,s=new t.l,e.A(o),i.A(a),o.X(1e3*n,1e3*n),a.X(1e3*n,1e3*n),s.L(o),s.Fa(a),!(10<e.I()&&(e=t.Vd.clip(e,s,n,0),e.B())||10<i.I()&&(i=t.Vd.clip(i,s,n,0),i.B()))&&t.cm.rt(e,i,n,"F********",r))},e.xI=function(i,n,r,s){var o=1<=i.qm(0)&&1<=n.qm(0),a=new t.l,c=new t.l,l=new t.l;i.A(a),n.A(c);for(var u=!1,h=e.ms(a,c,r),d=e.ms(c,a,r),p=i.Ha(),f=n.Ha(),b=[0,0],y=[0,0],m=new t.am(i,n,r,!1);m.next();){var g=m.pl(),v=m.jl();if(p.Wb(g),f.Wb(v),v=p.ia(),2==(g=f.ia().Fa(v,null,y,b,r))){g=b[0];var w=b[1];if(v=v.Rb(),o&&(w-g)*v>r&&(u=!0,h&&d))return!0}else if(0!=g&&(g=b[0],v=y[0],0<g&&1>g&&0<v&&1>v))return!0}if(o=new t.l,p=new t.l,o.L(a),o.X(1e3*r,1e3*r),p.L(c),p.X(1e3*r,1e3*r),l.L(o),l.Fa(p),a="",a=u?a+"**":a+"T*",h){if(10<n.I()&&(n=t.Vd.clip(n,l,r,0)).B())return!1;a+="****"}else a+="T***";if(d){if(10<i.I()&&(i=t.Vd.clip(i,l,r,0)).B())return!1;a+="***"}else a+="T**";return t.cm.rt(i,n,r,a.toString(),s)},e.tI=function(i,n,r,s){var o=[!1],a=e.rI(i,n,r,o);return o[0]?a:(o=new t.l,n.A(o),o.X(1e3*r,1e3*r),!(10<i.I()&&(i=t.Vd.clip(i,o,r,0),i.B()))&&t.cm.Tw(i,n,r,s))},e.rI=function(e,i,n,r){r[0]=!1;for(var s=e.Ha(),o=i.Ha(),a=[0,0],c=[0,0],l=new t.am(e,i,n,!1),u=!1;l.next();){var h=l.pl(),d=l.jl();if(s.Wb(h,-1),o.Wb(d,-1),h=s.ia(),0!=(h=o.ia().Fa(h,null,c,a,n))&&(u=!0,1==h&&(h=a[0],d=c[0],0<h&&1>h&&0<d&&1>d)))return r[0]=!0,!1}if(!u){for(r[0]=!0,a=new t.l,e.A(a),a.X(n,n),l=e,u=!1,c=new t.l,r=0,s=i.ea();r<s;r++)if(0<i.Ka(r)){if(i.Sj(r,c),!a.isIntersecting(c))return!1;if(o=i.Oa(i.Ca(r)),0==(o=t.Fg.ym(l,o,0)))return!1;u||(!t.Fg.Ol(e,i.ea()-1)||null!=e.Cb&&null!=e.Cb.Gb?l=e:(o=new t.Ea,e.copyTo(o),o.gj(1),l=o),u=!0)}if(1==e.ea()||1607==i.K())return!0;for(a=new t.l,i.A(a),a.X(n,n),c=i,l=!1,n=new t.l,r=0,s=e.ea();r<s;r++)if(0<e.Ka(r)){if(e.Sj(r,n),a.isIntersecting(n)&&(o=e.Oa(e.Ca(r)),1==(o=t.Fg.ym(c,o,0))))return!1;l||(!t.Fg.Ol(i,e.ea()-1)||null!=i.Cb&&null!=i.Cb.Gb?c=i:(o=new t.Ea,i.copyTo(o),o.gj(1),c=o),l=!0)}return!0}return!1},e.BI=function(e,i,n,r){for(var s=e.Ha(),o=i.Ha(),a=[0,0],c=[0,0],l=new t.am(e,i,n,!1),u=!1;l.next();){var h=l.pl(),d=l.jl();if(s.Wb(h),o.Wb(d),h=s.ia(),2==(h=o.ia().Fa(h,null,c,a,n)))u=!0;else if(0!=h){if(u=a[0],h=c[0],0<u&&1>u&&0<h&&1>h)return!1;u=!0}}return!!u&&(o=new t.l,a=new t.l,s=new t.l,e.A(o),i.A(a),o.X(1e3*n,1e3*n),a.X(1e3*n,1e3*n),s.L(o),s.Fa(a),!(10<e.I()&&(e=t.Vd.clip(e,s,n,0),e.B())||10<i.I()&&(i=t.Vd.clip(i,s,n,0),i.B()))&&t.cm.bn(e,i,n,"F********",r))},e.vI=function(i,n,r,s){for(var o=i.Ha(),a=n.Ha(),c=[0,0],l=[0,0],u=new t.am(i,n,r,!1),h=!1;u.next();){var d=u.pl(),p=u.jl();if(o.Wb(d),a.Wb(p),d=o.ia(),2==(d=a.ia().Fa(d,null,l,c,r)))h=!0;else if(0!=d){if(h=c[0],d=l[0],0<h&&1>h&&0<d&&1>d)return!0;h=!0}}return!!h&&(a=new t.l,c=new t.l,l=new t.l,u=new t.l,o=new t.l,i.A(a),n.A(c),e.ms(c,a,r)?(l.L(a),l.X(1e3*r,1e3*r),u.L(c),u.X(1e3*r,1e3*r),o.L(l),o.Fa(u),!(10<i.I()&&(i=t.Vd.clip(i,o,r,0),i.B())||10<n.I()&&(n=t.Vd.clip(n,o,r,0),n.B()))&&(r=t.cm.bn(i,n,r,"T********",s))):r=t.cm.bn(i,n,r,"T*****T**",s))},e.uI=function(i,n,r,s){var o=[!1],a=e.rI(i,n,r,o);return o[0]?a:(o=new t.l,n.A(o),o.X(1e3*r,1e3*r),!(10<i.I()&&(i=t.Vd.clip(i,o,r,0),i.B()))&&t.cm.$A(i,n,r,s))},e.sI=function(e,i,n){return 1==t.jd.Zd(e,i,n)},e.zI=function(e,i,n){return 2==t.jd.Zd(e,i,n)},e.kt=function(e,i,n){var r=new t.h;n*=n;for(var s=0;s<e.I();s++)if(e.D(s,r),t.h.zc(r,i)<=n)return!1;return!0},e.prototype.IE=function(t,e){return t=this.sh[t],e=this.sh[e],t.Om<e.Om||t.Om==e.Om&&(t.qw<e.qw||t.qw==e.qw&&(t.Lj<e.Lj||t.Lj==e.Lj&&(t.Ti<e.Ti||t.Ti==e.Ti&&t.tH<e.tH)))?-1:1},e}();t.vd=n}(W||(W={})),function(t){var e,i,n;(i=e||(e={}))[i.InteriorInterior=0]="InteriorInterior",i[i.InteriorBoundary=1]="InteriorBoundary",i[i.InteriorExterior=2]="InteriorExterior",i[i.BoundaryInterior=3]="BoundaryInterior",i[i.BoundaryBoundary=4]="BoundaryBoundary",i[i.BoundaryExterior=5]="BoundaryExterior",i[i.ExteriorInterior=6]="ExteriorInterior",i[i.ExteriorBoundary=7]="ExteriorBoundary",i[i.ExteriorExterior=8]="ExteriorExterior",function(t){t[t.AreaAreaPredicates=0]="AreaAreaPredicates",t[t.AreaLinePredicates=1]="AreaLinePredicates",t[t.LineLinePredicates=2]="LineLinePredicates",t[t.AreaPointPredicates=3]="AreaPointPredicates",t[t.LinePointPredicates=4]="LinePointPredicates",t[t.PointPointPredicates=5]="PointPointPredicates"}(n||(n={})),e=function(){function e(){this.le=0,this.j=new t.ju,this.J=[0,0,0,0,0,0,0,0,0],this.$a=[0,0,0,0,0,0,0,0,0],this.fa=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Um=this.ww=-1}return e.sB=function(e,i,n,r,s){if(9!=r.length)throw t.i.ga("relation string length has to be 9 characters");for(var o=0;9>o;o++){var a=r.charAt(o);if("*"!=a&&"T"!=a&&"F"!=a&&"0"!=a&&"1"!=a&&"2"!=a)throw t.i.ga("relation string")}if(0!=(o=this.DR(r,e.Eb(),i.Eb())))return t.vd.tB(e,i,n,o,s);o=new t.l,e.A(o),a=new t.l,i.A(a);var c=new t.l;if(c.L(o),c.$b(a),n=t.ta.Xd(n,c,!1),e=this.OE(e,n),i=this.OE(i,n),e.B()||i.B())return this.kW(e,i,r);switch(o=i.K(),a=!1,e.K()){case 1736:switch(o){case 1736:a=this.rt(e,i,n,r,s);break;case 1607:a=this.bn(e,i,n,r,s);break;case 33:a=this.qt(e,i,n,r);break;case 550:a=this.pt(e,i,n,r,s)}break;case 1607:switch(o){case 1736:a=this.bn(i,e,n,this.aq(r),s);break;case 1607:a=this.aB(e,i,n,r,s);break;case 33:a=this.tt(e,i,n,r,s);break;case 550:a=this.st(e,i,n,r,s)}break;case 33:switch(o){case 1736:a=this.qt(i,e,n,this.aq(r));break;case 1607:a=this.tt(i,e,n,this.aq(r),s);break;case 33:a=this.QU(e,i,n,r);break;case 550:a=this.lt(i,e,n,this.aq(r))}break;case 550:switch(o){case 1736:a=this.pt(i,e,n,this.aq(r),s);break;case 1607:a=this.st(i,e,n,this.aq(r),s);break;case 550:a=this.TA(e,i,n,r,s);break;case 33:a=this.lt(e,i,n,r)}break;default:a=!1}return a},e.rt=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.pJ();var c=new t.l,l=new t.l;return i.A(c),n.A(l),s=!1,t.vd.dk(c,l,r)&&(a.Du(i,n),s=!0),s||(4==(c=t.vd.qc(i,n,!1))?(a.Du(i,n),s=!0):1==c?(a.gy(n),s=!0):2==c&&(a.RD(i),s=!0)),s||(i=(s=new t.hd).Ib(i),n=s.Ib(n),a.Xo(s,r,o),a.Dp(i,n),a.j.Vg()),e.fg(a.J,a.Yc)},e.Tw=function(i,n,r,s){var o=new e;o.Zi(),o.cj("T*****F**"),o.pJ();var a=new t.l,c=new t.l;i.A(a),n.A(c);var l=!1;return t.vd.dk(a,c,r)&&(o.Du(i,n),l=!0),l||(4==(a=t.vd.qc(i,n,!1))?(o.Du(i,n),l=!0):1==a?(o.gy(n),l=!0):2==a&&(o.RD(i),l=!0)),l?this.fg(o.J,o.Yc):(i=(l=new t.hd).Ib(i),a=l.Ib(n),t.Tk.W(l,r,s,!1),r=l.Ke(a).mg(),l.Ip(0,!0,!0),t.tn.W(l,i,-1,!1,s),0!=l.I(i)&&(t.tn.W(l,a,-1,!1,s),o.gr(l,s),(n=0==l.I(a))||(o.Dp(i,a),o.j.Vg(),a=this.fg(o.J,o.Yc))?(i=l.Ke(i),i=(l=new t.hd).Ib(i),a=l.Ib(r),o.gr(l,s),o.le=0,o.Zi(),o.cj(n?"T*****F**":"******F**"),o.CB(),o.Dp(i,a),o.j.Vg(),this.fg(o.J,o.Yc)):a))},e.bn=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.CB();var c=new t.l,l=new t.l;return i.A(c),n.A(l),s=!1,t.vd.dk(c,l,r)&&(a.Eu(i,n),s=!0),s||(4==(c=t.vd.qc(i,n,!1))?(a.Eu(i,n),s=!0):1==c&&(a.SD(n),s=!0)),s||(i=(s=new t.hd).Ib(i),n=s.Ib(n),a.Xo(s,r,o),a.lh=a.j.Fp(),e.Kw(n,a.j,a.lh),a.Dp(i,n),a.j.Gp(a.lh),a.j.Vg()),e.fg(a.J,a.Yc)},e.$A=function(i,n,r,s){var o=new e;o.Zi(),o.cj("T*****F**"),o.CB();var a=new t.l,c=new t.l;i.A(a),n.A(c);var l=!1;return t.vd.dk(a,c,r)&&(o.Eu(i,n),l=!0),l||(4==(a=t.vd.qc(i,n,!1))?(o.Eu(i,n),l=!0):1==a&&(o.SD(n),l=!0)),l?this.fg(o.J,o.Yc):(i=(l=new t.hd).Ib(i),n=l.Ib(n),o.Xo(l,r,s),0!=l.I(i)&&(o.Dp(i,n),o.j.Vg(),this.fg(o.J,o.Yc)))},e.pt=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.qJ();var c=new t.l,l=new t.l;return i.A(c),n.A(l),s=!1,t.vd.dk(c,l,r)&&(a.Fu(i),s=!0),s||(4==(c=t.vd.qc(i,n,!1))?(a.Fu(i),s=!0):1==c&&(a.rN(),s=!0)),s||(i=(s=new t.hd).Ib(i),n=s.Ib(n),a.Xo(s,r,o),a.Ay(i,n),a.j.Vg()),e.fg(a.J,a.Yc)},e.aB=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.SW(),s=new t.l;var c=new t.l;i.A(s),n.A(c);var l=!1;return t.vd.dk(s,c,r)&&(a.HG(i,n),l=!0),l||4!=t.vd.qc(i,n,!1)||(a.HG(i,n),l=!0),l||(i=(s=new t.hd).Ib(i),n=s.Ib(n),a.Xo(s,r,o),a.Zh=a.j.Fp(),a.lh=a.j.Fp(),e.Kw(i,a.j,a.Zh),e.Kw(n,a.j,a.lh),a.Dp(i,n),a.j.Gp(a.Zh),a.j.Gp(a.lh),a.j.Vg()),e.fg(a.J,a.Yc)},e.st=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.EJ(),s=new t.l;var c=new t.l;i.A(s),n.A(c);var l=!1;return t.vd.dk(s,c,r)&&(a.Qz(i),l=!0),l||4!=t.vd.qc(i,n,!1)||(a.Qz(i),l=!0),l||(i=(s=new t.hd).Ib(i),n=s.Ib(n),a.Xo(s,r,o),a.Zh=a.j.Fp(),e.Kw(i,a.j,a.Zh),a.Ay(i,n),a.j.Gp(a.Zh),a.j.Vg()),e.fg(a.J,a.Yc)},e.TA=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.JJ(),s=new t.l;var c=new t.l;i.A(s),n.A(c);var l=!1;return t.vd.dk(s,c,r)&&(a.qI(),l=!0),l||(i=(s=new t.hd).Ib(i),n=s.Ib(n),a.Xo(s,r,o),a.Ay(i,n),a.j.Vg()),e.fg(a.J,a.Yc)},e.qt=function(i,n,r,s){var o=new e;o.Zi(),o.cj(s),o.qJ();var a=new t.l;i.A(a),n=n.D();var c=!1;return t.vd.Sw(n,a,r)&&(o.Fu(i),c=!0),c||(1==(r=t.jd.Zd(i,n,r))?(o.J[0]=0,o.J[2]=2,o.J[3]=-1,o.J[5]=1,o.J[6]=-1):2==r?(o.J[6]=-1,0!=i.He()?(o.J[0]=-1,o.J[3]=0,o.J[2]=2,o.J[5]=1):(o.J[0]=0,o.J[3]=-1,o.J[5]=-1,r=new t.l,i.A(r),o.J[2]=0==r.da()&&0==r.S()?-1:1)):o.Fu(i)),this.fg(o.J,s)},e.tt=function(i,n,r,s,o){var a=new e;a.Zi(),a.cj(s),a.EJ();var c=new t.l;i.A(c),s=n.D();var l=!1;if(t.vd.Sw(s,c,r)&&(a.Qz(i),l=!0),!l){c=null;var u=l=!1;(a.fa[0]||a.fa[6])&&(t.vd.Tz(i,s,r)?(a.fa[0]&&(c=t.ri.im(i,o),u=!t.vd.kt(c,s,r),l=!0,a.J[0]=u?-1:0),a.J[6]=-1):(a.J[0]=-1,a.J[6]=0)),a.fa[3]&&(null!=c&&c.B()?a.J[3]=-1:(l||(null==c&&(c=t.ri.im(i,o)),u=!t.vd.kt(c,s,r),l=!0),a.J[3]=u?0:-1)),a.fa[5]&&(null!=c&&c.B()?a.J[5]=-1:l&&!u?a.J[5]=0:(null==c&&(c=t.ri.im(i,o)),o=t.vd.Ow(c,n,r),a.J[5]=o?-1:0)),a.fa[2]&&(0!=i.Rb()?a.J[2]=1:((o=new t.de(i.description)).Gd(i,0,i.I()),i=t.vd.Ow(o,n,r),a.J[2]=i?-1:0))}return this.fg(a.J,a.Yc)},e.lt=function(i,n,r,s){var o=new e;o.Zi(),o.cj(s),o.JJ();var a=new t.l;i.A(a),n=n.D();var c=!1;if(t.vd.Sw(n,a,r)&&(o.qI(),c=!0),!c){a=!1,c=!0,r*=r;for(var l=0;l<i.I();l++){var u=i.Oa(l);if(t.h.zc(u,n)<=r?a=!0:c=!1,a&&!c)break}a?(o.J[0]=0,o.J[2]=c?-1:0,o.J[6]=-1):(o.J[0]=-1,o.J[2]=0,o.J[6]=0)}return e.fg(o.J,s)},e.QU=function(i,n,r,s){i=i.D(),n=n.D();for(var o=[],a=0;9>a;a++)o[a]=-1;return t.h.zc(i,n)<=r*r?o[0]=0:(o[2]=0,o[6]=0),o[8]=2,e.fg(o,s)},e.fg=function(t,e){for(var i=0;9>i;i++)switch(e.charAt(i)){case"T":if(-1==t[i])return!1;break;case"F":if(-1!=t[i])return!1;break;case"0":if(0!=t[i])return!1;break;case"1":if(1!=t[i])return!1;break;case"2":if(2!=t[i])return!1}return!0},e.kW=function(e,i,n){var r=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(e.B()&&i.B()){for(var s=0;9>s;s++)r[s]=-1;return this.fg(r,n)}return s=!1,e.B()&&(e=i,s=!0),r[0]=-1,r[1]=-1,r[3]=-1,r[4]=-1,r[6]=-1,r[7]=-1,r[8]=2,i=e.K(),t.ba.Ic(i)?1736==i?0!=e.He()?(r[2]=2,r[5]=1):(r[5]=-1,i=new t.l,e.A(i),r[2]=0==i.da()&&0==i.S()?0:1):(i=0!=e.Rb(),r[2]=i?1:0,r[5]=t.ri.cq(e)?0:-1):(r[2]=0,r[5]=-1),s&&this.nK(r),this.fg(r,n)},e.DR=function(t,i,n){return e.WP(t)?3:e.MP(t)?4:e.RX(t,i,n)?8:e.uP(t,i,n)?16:e.XO(t)?1:e.uU(t,i,n)?32:0},e.WP=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"F"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"F"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},e.MP=function(t){return"F"==t.charAt(0)&&"F"==t.charAt(1)&&"*"==t.charAt(2)&&"F"==t.charAt(3)&&"F"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},e.RX=function(t,e,i){return(0!=e||0!=i)&&((2!=e||2!=i)&&("F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"T"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)||1==e&&1==i&&"F"==t.charAt(0)&&"T"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))||0!=i&&"F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"T"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))},e.uP=function(t,e,i){return e>i?"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8):1==e&&1==i&&"0"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},e.XO=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},e.uU=function(t,e,i){if(e==i){if(1!=e)return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8);if("1"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))return!0}return!1},e.Kw=function(t,e,i){t=e.Ma(t);for(var n=e.Oe;-1!=n;n=e.Sf(n))if(0!=(e.yd(n)&t)){var r=e.Je(n);if(-1==r)e.pn(n,i,0);else{var s=r,o=0;do{0!=(e.eh(s)&t)&&o++,s=e.kc(e.ya(s))}while(s!=r);e.pn(n,i,o)}}},e.aq=function(t){var e=""+t.charAt(0);return e+=t.charAt(3),e+=t.charAt(6),e+=t.charAt(1),e+=t.charAt(4),e+=t.charAt(7),e+=t.charAt(2),(e+=t.charAt(5))+t.charAt(8)},e.prototype.Zi=function(){for(var t=0;9>t;t++)this.J[t]=-2,this.$a[t]=-2},e.nK=function(t){var e=t[1],i=t[2],n=t[5];t[1]=t[3],t[2]=t[6],t[5]=t[7],t[3]=e,t[6]=i,t[7]=n},e.prototype.cj=function(t){for(this.Yc=t,t=0;9>t;t++)"*"!=this.Yc.charAt(t)?(this.fa[t]=!0,this.le++):this.fa[t]=!1},e.prototype.MJ=function(){for(var t=0;9>t;t++)this.fa[t]&&-2==this.J[t]&&(this.J[t]=-1,this.fa[t]=!1)},e.prototype.pc=function(t){return-2!=this.J[t]&&(-1==this.J[t]?(this.fa[t]=!1,this.le--,!0):"T"!=this.Yc.charAt(t)&&"F"!=this.Yc.charAt(t)?!(this.J[t]<this.$a[t])&&(this.fa[t]=!1,this.le--,!0):(this.fa[t]=!1,this.le--,!0))},e.prototype.pJ=function(){this.ww=0,this.$a[0]=2,this.$a[1]=1,this.$a[2]=2,this.$a[3]=1,this.$a[4]=1,this.$a[5]=1,this.$a[6]=2,this.$a[7]=1,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},e.prototype.CB=function(){this.ww=1,this.Um=3,this.$a[0]=1,this.$a[1]=0,this.$a[2]=2,this.$a[3]=1,this.$a[4]=0,this.$a[5]=1,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},e.prototype.SW=function(){this.ww=2,this.Um=4,this.$a[0]=1,this.$a[1]=0,this.$a[2]=1,this.$a[3]=0,this.$a[4]=0,this.$a[5]=0,this.$a[6]=1,this.$a[7]=0,this.$a[8]=2,this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},e.prototype.qJ=function(){this.Um=3,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=2,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},e.prototype.EJ=function(){this.Um=4,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=1,this.$a[3]=0,this.$a[4]=-1,this.$a[5]=0,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},e.prototype.JJ=function(){this.Um=5,this.$a[0]=0,this.$a[1]=-1,this.$a[2]=0,this.$a[3]=-1,this.$a[4]=-1,this.$a[5]=-1,this.$a[6]=0,this.$a[7]=-1,this.$a[8]=2,this.fa[1]&&(this.J[1]=-1,this.fa[1]=!1,this.le--),this.fa[3]&&(this.J[3]=-1,this.fa[3]=!1,this.le--),this.fa[4]&&(this.J[4]=-1,this.fa[4]=!1,this.le--),this.fa[5]&&(this.J[5]=-1,this.fa[5]=!1,this.le--),this.fa[7]&&(this.J[7]=-1,this.fa[7]=!1,this.le--),this.fa[8]&&(this.J[8]=2,this.fa[8]=!1,this.le--)},e.prototype.pN=function(t,e,i){var n=!0;return this.fa[0]&&(this.tS(t,e,i),n=n&&this.pc(0)),this.fa[1]&&(this.kG(t,e,1),n=n&&this.pc(1)),this.fa[2]&&(this.lG(t,e,i,2),n=n&&this.pc(2)),this.fa[3]&&(this.kG(t,i,3),n=n&&this.pc(3)),this.fa[4]&&(this.tN(t,e,i),n=n&&this.pc(4)),this.fa[5]&&(this.XD(t,i,5),n=n&&this.pc(5)),this.fa[6]&&(this.lG(t,i,e,6),n=n&&this.pc(6)),this.fa[7]&&(this.XD(t,e,7),n=n&&this.pc(7)),n},e.prototype.Du=function(t,e){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Hr(t,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5)),this.Hr(e,this.fa[6]?6:-1,this.Yc.charAt(6),this.fa[7]?7:-1,this.Yc.charAt(7))},e.prototype.Hr=function(e,i,n,r,s){-1==i&&-1==r||(("T"!=n&&"F"!=n&&-1!=i||"T"!=s&&"F"!=s&&-1!=r)&&0==e.He()?(-1!=r&&(this.J[r]=-1),-1!=i&&(n=new t.l,e.A(n),this.J[i]=0==n.da()&&0==n.S()?0:1)):(-1!=i&&(this.J[i]=2),-1!=r&&(this.J[r]=1)))},e.prototype.gy=function(t){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Hr(t,this.fa[0]?0:-1,this.Yc.charAt(0),this.fa[1]?1:-1,this.Yc.charAt(1))},e.prototype.RD=function(t){this.gy(t),e.nK(this.J)},e.prototype.Eu=function(e,i){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.fa[6]){var n=this.Yc.charAt(6);n="T"==n||"F"==n||0!=i.Rb(),this.J[6]=n?1:0}this.fa[7]&&(i=t.ri.cq(i),this.J[7]=i?0:-1),this.Hr(e,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))},e.prototype.SD=function(e){if(this.fa[0]){var i=this.Yc.charAt(0);i="T"==i||"F"==i||0!=e.Rb(),this.J[0]=i?1:0}this.fa[1]&&(e=t.ri.cq(e),this.J[1]=e?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},e.prototype.Fu=function(t){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Hr(t,this.fa[2]?2:-1,this.Yc.charAt(2),this.fa[5]?5:-1,this.Yc.charAt(5))},e.prototype.rN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},e.prototype.HG=function(e,i){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.fa[2]){var n=this.Yc.charAt(2);n="T"==n||"F"==n||0!=e.Rb(),this.J[2]=n?1:0}this.fa[5]&&(e=t.ri.cq(e),this.J[5]=e?0:-1),this.fa[6]&&(n="T"==(n=this.Yc.charAt(6))||"F"==n||0!=i.Rb(),this.J[6]=n?1:0),this.fa[7]&&(i=t.ri.cq(i),this.J[7]=i?0:-1)},e.prototype.Qz=function(e){if(this.J[0]=-1,this.J[3]=-1,this.fa[2]){var i=this.Yc.charAt(2);i="T"==i||"F"==i||0!=e.Rb(),this.J[2]=i?1:0}this.fa[5]&&(e=t.ri.cq(e),this.J[5]=e?0:-1),this.J[6]=0},e.prototype.qI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},e.prototype.qN=function(t,e,i){var n=!0;return this.fa[0]&&(this.uS(t,e),n=n&&this.pc(0)),this.fa[1]&&(this.qS(t,e,i,this.lh),n=n&&this.pc(1)),this.fa[2]&&(this.rS(t,e),n=n&&this.pc(2)),this.fa[3]&&(this.xN(t,e,i,this.lh),n=n&&this.pc(3)),this.fa[4]&&(this.uN(t,e,i,this.lh),n=n&&this.pc(4)),this.fa[5]&&(this.vN(t,e,i),n=n&&this.pc(5)),this.fa[6]&&(this.dQ(t,e),n=n&&this.pc(6)),this.fa[7]&&(this.cQ(t,e,i,this.lh),n=n&&this.pc(7)),n},e.prototype.cT=function(t,e,i){var n=!0;return this.fa[0]&&(this.xS(t,e,i,this.Zh,this.lh),n=n&&this.pc(0)),this.fa[1]&&(this.mG(t,e,i,this.Zh,this.lh,1),n=n&&this.pc(1)),this.fa[2]&&(this.nG(t,e,i,2),n=n&&this.pc(2)),this.fa[3]&&(this.mG(t,i,e,this.lh,this.Zh,3),n=n&&this.pc(3)),this.fa[4]&&(this.zN(t,e,i,this.Zh,this.lh),n=n&&this.pc(4)),this.fa[5]&&(this.YD(t,i,this.Zh,5),n=n&&this.pc(5)),this.fa[6]&&(this.nG(t,i,e,6),n=n&&this.pc(6)),this.fa[7]&&(this.YD(t,e,this.lh,7),n=n&&this.pc(7)),n},e.prototype.TD=function(t,e,i){var n=!0;return this.fa[0]&&(this.vS(t,e),n=n&&this.pc(0)),this.fa[2]&&(this.sS(t,e),n=n&&this.pc(2)),this.fa[3]&&(this.yN(t,e,i),n=n&&this.pc(3)),this.fa[5]&&(this.wN(t,e),n=n&&this.pc(5)),this.fa[6]&&(this.eQ(t,e),n=n&&this.pc(6)),n},e.prototype.IG=function(t,e,i){var n=!0;return this.fa[0]&&(this.yS(t,e,i,this.Zh),n=n&&this.pc(0)),this.fa[2]&&(this.wS(t,i),n=n&&this.pc(2)),this.fa[3]&&(this.BN(t,e,i,this.Zh),n=n&&this.pc(3)),this.fa[5]&&(this.AN(t,e,i,this.Zh),n=n&&this.pc(5)),this.fa[6]&&(this.fQ(t,e,i),n=n&&this.pc(6)),n},e.prototype.PU=function(t,e,i){var n=!0;return this.fa[0]&&(this.zS(t,e,i),n=n&&this.pc(0)),this.fa[2]&&(this.oG(t,e,i,2),n=n&&this.pc(2)),this.fa[6]&&(this.oG(t,i,e,6),n=n&&this.pc(6)),n},e.prototype.tS=function(t,e,i){2!=this.J[0]&&0!=((t=this.j.af(t))&e)&&0!=(t&i)&&(this.J[0]=2)},e.prototype.kG=function(t,e,i){if(1!=this.J[i]){var n=this.j.af(this.j.ya(t));0!=(this.j.af(t)&e)&&0!=(n&e)&&(this.J[i]=1)}},e.prototype.lG=function(t,e,i,n){2!=this.J[n]&&0!=((t=this.j.af(t))&e)&&0==(t&i)&&(this.J[n]=2)},e.prototype.tN=function(t,e,i){if(1!=this.J[4]){var n=this.j.eh(t);0!=(n&e)&&0!=(n&i)?this.J[4]=1:0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)&&0!=((t=this.j.yd(this.j.vf(t)))&e)&&0!=(t&i)&&(this.J[4]=0)}},e.prototype.XD=function(t,e,i){if(1!=this.J[i]){var n=this.j.af(this.j.ya(t));0==(this.j.af(t)&e)&&0==(n&e)&&(this.J[i]=1)}},e.prototype.uS=function(t,e){if(1!=this.J[0]){var i=this.j.af(this.j.ya(t));0!=(this.j.af(t)&e)&&0!=(i&e)&&(this.J[0]=1)}},e.prototype.qS=function(t,e,i,n){if(0!=this.J[1]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)){var r=this.j.vf(t),s=this.j.yd(r);0==(s&e)&&0!=(this.j.af(t)&e)&&(t=this.j.ng(r,n),0!=(s&i)&&0!=t%2&&(this.J[1]=0))}},e.prototype.rS=function(t,e){2!=this.J[2]&&0!=(this.j.eh(t)&e)&&(this.J[2]=2)},e.prototype.xN=function(t,e,i,n){if(1!=this.J[3]){var r=this.j.eh(t);0!=(r&e)&&0!=(r&i)?this.J[3]=1:0!=this.J[3]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)&&(r=this.j.vf(t),0!=((t=this.j.yd(r))&e)&&(e=this.j.ng(r,n),0!=(t&i)&&0==e%2&&(this.J[3]=0)))}},e.prototype.uN=function(t,e,i,n){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)){var r=this.j.vf(t);0!=((t=this.j.yd(r))&e)&&(e=this.j.ng(r,n),0!=(t&i)&&0!=e%2&&(this.J[4]=0))}},e.prototype.vN=function(t,e,i){1!=this.J[5]&&0!=((t=this.j.eh(t))&e)&&0==(t&i)&&(this.J[5]=1)},e.prototype.dQ=function(t,e){if(1!=this.J[6]){var i=this.j.af(this.j.ya(t));0==(this.j.af(t)&e)&&0==(i&e)&&(this.J[6]=1)}},e.prototype.cQ=function(t,e,i,n){if(0!=this.J[7]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)){var r=this.j.vf(t),s=this.j.yd(r);0==(s&e)&&0==(this.j.af(t)&e)&&(t=this.j.ng(r,n),0!=(s&i)&&0!=t%2&&(this.J[7]=0))}},e.prototype.xS=function(t,e,i,n,r){if(1!=this.J[0]){var s=this.j.eh(t);0!=(s&e)&&0!=(s&i)?this.J[0]=1:0!=this.J[0]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)&&(t=this.j.vf(t),0!=((s=this.j.yd(t))&e)&&0!=(s&i)&&(e=this.j.ng(t,n),r=this.j.ng(t,r),0==e%2&&0==r%2&&(this.J[0]=0)))}},e.prototype.mG=function(t,e,i,n,r,s){if(0!=this.J[s]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)){t=this.j.vf(t);var o=this.j.yd(t);0!=(o&e)&&0!=(o&i)&&(e=this.j.ng(t,n),r=this.j.ng(t,r),0==e%2&&0!=r%2&&(this.J[s]=0))}},e.prototype.nG=function(t,e,i,n){1!=this.J[n]&&0!=((t=this.j.eh(t))&e)&&0==(t&i)&&(this.J[n]=1)},e.prototype.zN=function(t,e,i,n,r){if(0!=this.J[4]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)){t=this.j.vf(t);var s=this.j.yd(t);0!=(s&e)&&0!=(s&i)&&(e=this.j.ng(t,n),r=this.j.ng(t,r),0!=e%2&&0!=r%2&&(this.J[4]=0))}},e.prototype.YD=function(t,e,i,n){0!=this.J[n]&&1!=this.j.Bb(this.j.ue(this.j.ya(t)),this.Vi)&&(t=this.j.vf(t),0==(this.j.yd(t)&e)&&0!=this.j.ng(t,i)%2&&(this.J[n]=0))},e.prototype.vS=function(t,e){0!=this.J[0]&&0==(this.j.yd(t)&e)&&0!=(this.j.hk(this.j.Yy(t))&e)&&(this.J[0]=0)},e.prototype.sS=function(t,e){2!=this.J[2]&&0!=(this.j.yd(t)&e)&&(this.J[2]=2)},e.prototype.yN=function(t,e,i){0!=this.J[3]&&0!=((t=this.j.yd(t))&e)&&0!=(t&i)&&(this.J[3]=0)},e.prototype.wN=function(t,e){1!=this.J[5]&&0!=(this.j.yd(t)&e)&&(this.J[5]=1)},e.prototype.eQ=function(t,e){0!=this.J[6]&&0==(this.j.yd(t)&e)&&0==(this.j.hk(this.j.Yy(t))&e)&&(this.J[6]=0)},e.prototype.yS=function(t,e,i,n){if(0!=this.J[0]){var r=this.j.yd(t);0!=(r&e)&&0!=(r&i)&&0==this.j.ng(t,n)%2&&(this.J[0]=0)}},e.prototype.wS=function(t,e){1!=this.J[2]&&(-1!=this.j.Je(t)?this.J[2]=1:0!=this.J[2]&&0==(this.j.yd(t)&e)&&(this.J[2]=0))},e.prototype.BN=function(t,e,i,n){if(0!=this.J[3]){var r=this.j.yd(t);0!=(r&e)&&0!=(r&i)&&0!=this.j.ng(t,n)%2&&(this.J[3]=0)}},e.prototype.AN=function(t,e,i,n){if(0!=this.J[5]){var r=this.j.yd(t);0!=(r&e)&&0==(r&i)&&0!=this.j.ng(t,n)%2&&(this.J[5]=0)}},e.prototype.fQ=function(t,e,i){0!=this.J[6]&&0==((t=this.j.yd(t))&e)&&0!=(t&i)&&(this.J[6]=0)},e.prototype.zS=function(t,e,i){0!=this.J[0]&&0!=((t=this.j.yd(t))&e)&&0!=(t&i)&&(this.J[0]=0)},e.prototype.oG=function(t,e,i,n){0!=this.J[n]&&0!=((t=this.j.yd(t))&e)&&0==(t&i)&&(this.J[n]=0)},e.prototype.Dp=function(e,i){var n=!1;e=this.j.Ma(e),i=this.j.Ma(i),this.Vi=this.j.ah();for(var r=this.j.Oe;-1!=r;r=this.j.Sf(r)){var s=this.j.Je(r);if(-1==s){if(-1!=this.Um)switch(this.Um){case 3:n=this.TD(r,e,i);break;case 4:n=this.IG(r,e,i);break;default:throw t.i.ga("internal error")}}else{var o=s;do{var a=o;if(1!=this.j.Bb(a,this.Vi))do{switch(this.ww){case 0:n=this.pN(a,e,i);break;case 1:n=this.qN(a,e,i);break;case 2:n=this.cT(a,e,i);break;default:throw t.i.ga("internal error")}if(n)break;this.j.Kb(a,this.Vi,1),a=this.j.kc(a)}while(a!=o&&!n);if(n)break;o=this.j.kc(this.j.ya(a))}while(o!=s);if(n)break}}n||this.MJ(),this.j.Lg(this.Vi)},e.prototype.Ay=function(e,i){var n=!1;e=this.j.Ma(e),i=this.j.Ma(i);for(var r=this.j.Oe;-1!=r;r=this.j.Sf(r)){switch(this.Um){case 3:n=this.TD(r,e,i);break;case 4:n=this.IG(r,e,i);break;case 5:n=this.PU(r,e,i);break;default:throw t.i.Ra()}if(n)break}n||this.MJ()},e.prototype.gr=function(t,e){this.j.fr(t,e)},e.prototype.Xo=function(t,e,i){this.QP(t,e,i),this.gr(t,i)},e.prototype.QP=function(e,i,n){for(t.Tk.W(e,i,n,!1),e.Ip(0,!0,!0),i=e.ld;-1!=i;i=e.ve(i))1736==e.jc(i)&&t.tn.W(e,i,-1,!1,n)},e.OE=function(e,i){var n=e.K();return t.ba.zd(n)?((i=new t.Ua(e.description)).oc(e,!0),i):197==n?(n=new t.l,e.A(n),n.da()<=i&&n.S()<=i?(i=new t.Ta(e.description),e.tf(i),i):n.da()<=i||n.S()<=i?(i=new t.Ua(e.description),n=new t.Ta,e.If(0,n),i.nf(n),e.If(2,n),i.lineTo(n),i):((i=new t.Ea(e.description)).bd(e,!1),i)):e},e}(),t.cm=e}(W||(W={})),function(t){var e=function(){function e(e){this.Gm=new t.ja(0),this.ew=new t.ja(0),this.wt=new t.h,this.xt=new t.h,this.g=e,this.Is=-1}return e.prototype.cc=function(t){return this.g.cc(this.uz(t))},e.prototype.Cv=function(t){var e=this.dz(t);if(t=this.zF(t),this.g.Na(e)==t){var i=e;e=t,t=i}return this.g.Hc(e,this.wt),this.g.Hc(t,this.xt),this.wt.y<this.xt.y},e.prototype.uz=function(t){var e=this.dz(t);return t=this.zF(t),this.g.V(e)==t?e:t},e.prototype.dz=function(t){return this.Gm.get(t)},e.prototype.zF=function(t){return this.ew.get(t)},e.prototype.jF=function(t){this.Gm.set(t,this.Is),this.Is=t},e.prototype.fI=function(e){if(-1!=this.Is){var i=this.Is;return this.Is=this.Gm.get(i),this.Gm.set(i,e),this.ew.set(i,this.g.V(e)),i}return null==this.Gm&&(this.Gm=new t.ja(0),this.ew=new t.ja(0)),i=this.Gm.size,this.Gm.add(e),this.ew.add(this.g.V(e)),i},e.prototype.mz=function(t){return this.g.cd(this.dz(t))},e}();t.mY=e;var i=function(){function e(e){this.Ce=e,this.ie=new t.zb,this.Pm=new t.zb,this.uH=0,this.Bo=null,this.sA=-1}return e.prototype.compare=function(t,e,i){i=t.ka(i);var n=this.Ce.hb;if(this.sA==e)var r=this.uH;else this.Bo=n.cc(e),null==this.Bo?((t=n.g).fd(n.uz(e),this.ie),this.Bo=this.ie,r=this.ie.Me(this.Ce.zh,0)):r=this.Bo.Me(this.Ce.zh,0),this.uH=r,this.sA=e;if(null==(t=n.cc(i))){(t=n.g).fd(n.uz(i),this.Pm),t=this.Pm;var s=this.Pm.Me(this.Ce.zh,0)}else s=t.Me(this.Ce.zh,0);return r==s&&(e=n.Cv(e),i=n.Cv(i),(e=.5*((i=Math.min(e?this.Bo.ma:this.Bo.oa,i?t.ma:t.oa))+this.Ce.zh))==this.Ce.zh&&(e=i),r=this.Bo.Me(e,0),s=t.Me(e,0)),r<s?-1:r>s?1:0},e.prototype.reset=function(){this.sA=-1},e}(),n=function(){function n(){this.Ym=this.Il=null,this.fb=new t.Yj,this.fb.JP(),this.ae=new i(this),this.fb.Wo(this.ae)}return n.prototype.zQ=function(){var e=!1;if(this.gw&&(e=this.AQ()),1==this.g.ea(this.Y)){var i=this.g.Ob(this.Y);return e=this.g.qz(i),this.g.JB(i,!0),0>e&&(e=this.g.Ya(i),this.g.hJ(e),this.g.Xg(i,this.g.Na(e)),!0)}for(this.Gl=this.g.Ey(),this.xo=this.g.Ey(),i=this.g.Ob(this.Y);-1!=i;i=this.g.Sb(i))this.g.ir(i,this.Gl,0),this.g.ir(i,this.xo,-1);i=new t.ja(0),this.zh=NaN;var n=new t.h;this.et=this.g.ea(this.Y),this.so=this.g.Hd(),this.Ss=this.g.Hd();for(var r=this.Il.sc(this.Il.je);-1!=r;r=this.Il.lb(r)){var s=this.Il.getData(r);if(this.g.Hc(s,n),n.y!=this.zh&&0!=i.size&&(e=this.ut(i)||e,this.ae.reset(),i.clear(!1)),i.add(s),this.zh=n.y,0==this.et)break}for(0<this.et&&(e=this.ut(i)||e,i.clear(!1)),this.g.Ud(this.so),this.g.Ud(this.Ss),i=this.g.Ob(this.Y);-1!=i;)if(3==this.g.tj(i,this.Gl)){for(this.g.JB(i,!0),n=i,i=this.g.tj(i,this.xo);-1!=i;)r=this.g.tj(i,this.xo),this.g.PT(this.Y,this.g.Sb(n),i),n=i,i=r;i=this.g.Sb(n)}else this.g.JB(i,!1),i=this.g.Sb(i);return this.g.wB(this.Gl),this.g.wB(this.xo),e},n.prototype.ut=function(t){return this.QV(t)},n.prototype.QV=function(i){var n=!1;null==this.hb&&(this.hb=new e(this.g)),null==this.Ym?(this.Ym=new t.ja(0),this.Ym.Jb(16)):this.Ym.clear(!1),this.PV(i);for(var r=0,s=i.size;r<s;r++){var o=i.get(r);-1!=o&&this.gG(o,-1)}for(r=0;r<this.Ym.size&&0<this.et;r++)if(i=this.Ym.get(r),o=this.hb.mz(this.fb.ka(i)),s=-1,0==this.g.tj(o,this.Gl)){o=this.fb.xe(i);for(var a,c=i;-1!=o;){var l=this.fb.ka(o),u=this.hb.mz(l),h=this.g.tj(u,this.Gl);if(0!=h){s=u;break}c=o,o=this.fb.xe(o)}-1==o?(a=!0,o=c):(l=this.fb.ka(o),a=this.hb.Cv(l),o=this.fb.lb(o),a=!a);do{if(l=this.fb.ka(o),u=this.hb.mz(l),0==(h=this.g.tj(u,this.Gl))&&(a!=this.hb.Cv(l)&&(n=this.g.Ya(u),this.g.hJ(n),this.g.Xg(u,this.g.Na(n)),n=!0),this.g.ir(u,this.Gl,a?3:2),a||(c=this.g.tj(s,this.xo),this.g.ir(s,this.xo,u),this.g.ir(u,this.xo,c)),this.et--,0==this.et))return n;s=u,c=o,o=this.fb.lb(o),a=!a}while(c!=i)}return n},n.prototype.PV=function(t){for(var e=0,i=t.size;e<i;e++){var n=t.get(e),r=this.g.Qa(n,this.so),s=this.g.Qa(n,this.Ss);if(-1!=r){var o=this.fb.ka(r);this.hb.jF(o),this.g.Sa(n,this.so,-1)}-1!=s&&(o=this.fb.ka(s),this.hb.jF(o),this.g.Sa(n,this.Ss,-1)),o=-1,-1!=r&&-1!=s?(this.fb.wd(r,-1),this.fb.wd(s,-1),t.set(e,-1)):o=-1!=r?r:s,-1!=o&&(this.gG(n,o)||this.fb.wd(o,-1),t.set(e,-1))}},n.prototype.gG=function(e,i){var n=new t.h,r=new t.h;this.g.Hc(e,n);var s=this.g.V(e);this.g.Hc(s,r);var o=!1;if(n.y<r.y){o=!0;var a=this.hb.fI(e);if(-1==i)var c=this.fb.addElement(a,-1);else c=i,this.fb.Tj(c,a);-1==(a=this.g.Qa(s,this.so))?this.g.Sa(s,this.so,c):this.g.Sa(s,this.Ss,c),s=this.g.cd(e),0==this.g.tj(s,this.Gl)&&this.Ym.add(c)}return s=this.g.Na(e),this.g.Hc(s,r),n.y<r.y&&(o=!0,a=this.hb.fI(s),-1==i?c=this.fb.addElement(a,-1):(c=i,this.fb.Tj(c,a)),-1==(a=this.g.Qa(s,this.so))?this.g.Sa(s,this.so,c):this.g.Sa(s,this.Ss,c),s=this.g.cd(e),0==this.g.tj(s,this.Gl)&&this.Ym.add(c)),o},n.W=function(t,e,i,r){var s=new n;return s.g=t,s.Y=e,s.Il=i,s.gw=r,s.zQ()},n.prototype.AQ=function(){var e=new t.ja(0),i=new t.ja(0),n=-1,r=-1,s=new t.h;s.Sc();for(var o=-1,a=-1,c=-1,l=new t.h,u=this.Il.sc(this.Il.je);-1!=u;u=this.Il.lb(u)){var h=this.Il.getData(u);this.g.Hc(h,l);var d=this.g.cd(h);s.rb(l)&&a==d?(-1==r&&(n=this.g.Ey(),r=this.g.Hd()),-1==c&&(c=i.size,this.g.Sa(o,r,c),i.add(1),-1==this.g.tj(d,n)&&(this.g.ir(d,n,o),e.add(d))),this.g.Sa(h,r,c),i.PW(i.Gc()+1)):(c=-1,s.N(l)),o=h,a=d}if(0==e.size)return!1;for(s=new t.ja(0),o=new t.ja(0),a=0,c=e.size;a<c;a++){d=e.get(a);var p=this.g.tj(d,n);for(h=this.g.Qa(p,r),s.clear(!1),o.clear(!1),s.add(p),o.add(h),h=this.g.V(p);h!=p;h=this.g.V(h)){var f=h;if(-1!=(l=this.g.Qa(f,r)))if(0==o.size)o.add(l),s.add(f);else if(o.Gc()==l){u=s.Gc();var b=this.g.V(u);p=this.g.V(f),this.g.Cc(u,p),this.g.Dc(p,u),this.g.Cc(f,b),this.g.Dc(b,f),f=[!1],b=this.g.fG(this.Y,b,this.g.Ya(d),f),this.g.Sa(h,r,-1),f[0]&&this.g.Kf(d,p),h=this.g.Ka(d),h-=p=this.g.Ka(b),this.g.Wj(d,h),i.set(l,i.get(l)-1),1==i.get(l)&&(i.set(l,0),o.Jf(),s.Jf()),h=p=u}else s.add(h),o.add(l)}}return this.g.wB(n),this.g.Ud(r),!0},n}();t.OL=n}(W||(W={})),function(t){var e=function(){function e(){}return e.prototype.hg=function(){this.JA=this.tb=null},e.prototype.get=function(){return this.JA},e.prototype.set=function(e){if(this.JA=e,null!=e)throw 322==e.K()&&(this.tb=e),t.i.Ra()},e.prototype.create=function(e){if(322!=e)throw t.i.ga("Not Implemented");this.Pr()},e.prototype.Pr=function(){null==this.tb&&(this.tb=new t.zb),this.JA=this.tb},e}();t.hg=e}(W||(W={})),function(t){(t=t.PL||(t.PL={}))[t.enumLineSeg=1]="enumLineSeg",t[t.enumBezierSeg=2]="enumBezierSeg",t[t.enumArcSeg=4]="enumArcSeg",t[t.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",t[t.enumSegmentMask=7]="enumSegmentMask",t[t.enumDensified=8]="enumDensified"}(W||(W={})),function(t){var e=function(t){this.aj=t,this.jC=this.kC=1,this.mB=this.lB=this.nB=0},i=function(){function i(){this.Hq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Cf=new t.Ta,this.ra=this.Dw=0,this.no=[],this.at=[],this.zw=[],this.Kq=[],this.GA=[]}return i.prototype.qB=function(t){if(null!=t){for(var e=0,i=t.length;e<i;e++)this.hW(t[e]);t.length=0}},i.prototype.hW=function(t){t.aj=null,this.Kq.push(t)},i.prototype.Pw=function(t){if(0===this.Kq.length)var i=new e(t);else(i=this.Kq[this.Kq.length-1]).aj=t,--this.Kq.length;return i},i.prototype.JR=function(t,e){return 0==t?this.at[e]:this.zw[e]},i.prototype.VA=function(){this.Dw>=this.GA.length&&this.GA.push(new t.hg);var e=this.GA[this.Dw];return this.Dw++,e},i.prototype.clear=function(){this.qB(this.no),this.qB(this.at),this.qB(this.zw),this.Dw=0},i.prototype.Po=function(t){this.no.push(this.Pw(t))},i.prototype.ql=function(t){return 0==t?this.at.length:this.zw.length},i.prototype.Xp=function(t,e){return this.JR(t,e).aj},i.prototype.Fa=function(e,i){if(2!=this.no.length)throw t.i.Ra();this.ra=e;var n=t.mc.nx(.01*e),r=!1,s=this.no[0],o=this.no[1];if(i||0!=(5&s.aj.Br(o.aj,e,!0))){if(322==s.aj.K()){var a=s.aj;if(322==o.aj.K()){i=o.aj;var c=t.zb.Xx(a,i,null,this.Hq,this.Bk,e);if(0==c)throw t.zb.Xx(a,i,null,this.Hq,this.Bk,e),t.i.Ra();e=Array(9),t.P.av(e,null);for(var l=0;l<c;l++){var u=this.Hq[l],h=this.Bk[l],d=s.mB,p=1;0==u?(d=s.nB,p=s.kC):1==u&&(d=s.lB,p=s.jC);var f=o.mB,b=1;0==h?(f=o.nB,b=o.kC):1==h&&(f=o.lB,b=o.jC);var y=new t.h;d==f?(d=new t.h,a.ic(u,d),u=new t.h,i.ic(h,u),b/=h=p+b,t.mc.GG(d,u,b,y),t.h.zc(y,d)+t.h.zc(y,u)>n&&(r=!0)):d>f?(a.ic(u,y),u=new t.h,i.ic(h,u),t.h.zc(y,u)>n&&(r=!0)):(i.ic(h,y),d=new t.h,a.ic(u,d),t.h.zc(y,d)>n&&(r=!0)),e[l]=y}for(s=0,o=-1,l=0;l<=c;l++)(b=l<c?this.Hq[l]:1)!=s&&(n=this.VA(),a.bh(s,b,n),-1!=o&&n.get().Ec(e[o]),l!=c&&n.get().Rc(e[l]),s=b,this.at.push(this.Pw(n.get()))),o=l;for(a=[0,0,0,0,0,0,0,0,0],l=0;l<c;l++)a[l]=l;for(1<c&&this.Bk[0]>this.Bk[1]&&(b=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=b,l=a[0],a[0]=a[1],a[1]=l),s=0,o=-1,l=0;l<=c;l++)(b=l<c?this.Bk[l]:1)!=s&&(n=this.VA(),i.bh(s,b,n),-1!=o&&(s=a[o],n.get().Ec(e[s])),l!=c&&(s=a[l],n.get().Rc(e[s])),s=b,this.zw.push(this.Pw(n.get()))),o=l;return r}}throw t.i.Ra()}return!1},i.prototype.Fz=function(e,i,n){if(i.copyTo(this.Cf),1!=this.no.length)throw t.i.Ra();this.ra=e;var r=this.no[0];if(n||r.aj.su(i.D(),e,!0)){if(322!=r.aj.K())throw t.i.Ra();var s=(e=r.aj).fe(i.D(),!1);this.Hq[0]=s;var o=r.mB;for(n=1,0==s?(o=r.nB,n=r.kC):1==s&&(o=r.lB,n=r.jC),r=new t.h,0==o?(o=new t.h,e.ic(s,o),i=i.D(),t.mc.GG(o,i,1/(n+1),r)):0<o?(r=new t.h,e.ic(s,r)):r=i.D(),n=0,s=-1,o=0;1>=o;o++){if((i=1>o?this.Hq[o]:1)!=n){var a=this.VA();e.bh(n,i,a),-1!=s&&a.get().Ec(r),1!=o&&a.get().Rc(r),n=i,this.at.push(this.Pw(a.get()))}s=o}this.Cf.Db(r)}},i}();t.LC=i}(W||(W={})),function(t){var e=function(){function e(e){this.Es=this.rk=this.tb=null,this.bg=0,this.Bm=!1,this.Af=-1,this.El=this.Kd=0,this.gb=-1,this.ib=e,this.bg=this.Ux(this.El),this.Bm=!1,this.rk=null,this.Es=new t.h}return e.prototype.rW=function(e){if(this.ib!=e.ib)throw t.i.Hb();this.Af=e.Af,this.Kd=e.Kd,this.gb=e.gb,this.El=e.El,this.bg=e.bg,this.Bm=e.Bm,this.rk=null},e.prototype.ia=function(){if(this.Af!=this.Kd&&this.tD(),this.Bm)this.Kd=(this.Kd+1)%this.bg;else{if(this.Kd==this.bg)throw t.i.re();this.Kd++}return this.rk},e.prototype.mi=function(){if(this.Bm)this.Kd=(this.bg+this.Kd-1)%this.bg;else{if(0==this.Kd)throw t.i.re();this.Kd--}return this.Kd!=this.Af&&this.tD(),this.rk},e.prototype.sW=function(){this.Af=-1,this.Kd=0},e.prototype.tW=function(){this.Kd=this.bg,this.Af=-1},e.prototype.Wb=function(t,e){if(void 0===e&&(e=-1),0<=this.gb&&this.gb<this.ib.ea()){var i=this.AM();if(t>=i&&t<this.ib.Wc(this.gb))return this.Af=-1,void(this.Kd=t-i)}e=0<=e&&e<this.ib.ea()&&t>=this.ib.Ca(e)&&t<this.ib.Wc(e)?e:this.ib.nz(t),this.El=e+1,this.gb=e,this.Af=-1,this.Kd=t-this.ib.Ca(e),this.bg=this.Ux(e),this.ib.Ca(this.gb),this.ib.ec(this.gb)},e.prototype.ab=function(){return this.gb=this.El,!(this.gb>=this.ib.ea())&&(this.Af=-1,this.Kd=0,this.bg=this.Ux(this.gb),this.ib.Ca(this.gb),this.ib.ec(this.gb),this.El++,!0)},e.prototype.$i=function(){this.bg=this.Kd=this.Af=-1,this.El=0,this.gb=-1},e.prototype.Ux=function(t){if(this.ib.Bc())return 0;var e=1;return this.ib.ec(t)&&(e=0),this.ib.Ka(t)-e},e.prototype.Pn=function(){return this.Af==this.bg-1&&this.ib.ec(this.gb)},e.prototype.DB=function(){this.Bm=!0},e.prototype.xb=function(){return this.ib.nb.o[this.gb]+this.Af},e.prototype.AM=function(){return this.ib.Ca(this.gb)},e.prototype.ik=function(){return this.Pn()?this.ib.Ca(this.gb):this.xb()+1},e.prototype.xm=function(){return 0==this.Af},e.prototype.Rn=function(){return this.Af==this.bg-1},e.prototype.Ia=function(){return this.Kd<this.bg},e.prototype.zz=function(){return 0<this.Kd},e.prototype.Pf=function(){var t=new e(this.ib);return t.Af=this.Af,t.Kd=this.Kd,t.bg=this.bg,t.gb=this.gb,t.El=this.El,t.ib=this.ib,t.Bm=this.Bm,t},e.prototype.tD=function(){if(0>this.Kd||this.Kd>=this.bg)throw t.i.re();this.Af=this.Kd;var e=this.xb();this.ib.rc();var i=this.ib.Se,n=1;switch(null!=i&&(n=7&i.read(e)),i=this.ib.description,n){case 1:null==this.tb&&(this.tb=new t.zb),this.rk=this.tb;break;case 2:throw t.i.ga("internal error");default:throw t.i.Ra()}this.rk.kg(i),n=this.ik(),this.ib.Hc(e,this.Es),this.rk.Ec(this.Es),this.ib.Hc(n,this.Es),this.rk.Rc(this.Es);for(var r=1,s=i.Ba;r<s;r++)for(var o=i.qd(r),a=t.ua.Wa(o),c=0;c<a;c++){var l=this.ib.Vc(o,e,c);this.rk.RB(o,c,l),l=this.ib.Vc(o,n,c),this.rk.IB(o,c,l)}},e.prototype.QS=function(){return this.gb==this.ib.ea()-1},e.prototype.Qn=function(){var t=this.ib.MR();return null!=t&&1!=(7&t.read(this.Af))},e}();t.QL=e}(W||(W={})),function(t){var e=function(){function e(e){e instanceof t.ba?(this.pH=e,this.za=-1,this.Fi=1):(this.kT=e.slice(0),this.za=-1,this.Fi=e.length)}return e.prototype.Ma=function(){return this.za},e.prototype.next=function(){return this.za<this.Fi-1?(this.za++,null!=this.pH?this.pH:this.kT[this.za]):null},e.prototype.qe=function(){},e}();t.$c=e}(W||(W={})),function(t){var e=function(){this.next=null},i=function(){function i(){this.Vq=this.Lw=this.Mw=0,this.cF=!1,this.ZJ=0,this.jn=this.Lf=this.Yl=this.Kh=null,this.Ql=0,this.py=null,this.rl=this.pi=-1}return i.prototype.oX=function(e,i,n){this.pi=e,this.rl=i,this.Kh=this.Yl=null,this.Vq=0,this.py=n,null==this.jn&&(this.jn=t.P.lg(384,0)),this.fK()},i.prototype.S=function(){return this.pi},i.prototype.da=function(){return this.rl},i.prototype.flush=function(){0<this.Ql&&(this.py.ZE(this.jn,this.Ql),this.Ql=0)},i.prototype.fK=function(){if(0<this.Vq){for(var t=0;t<this.rl;t++){for(var e=this.Yl[t];null!=e;){var i=e;e=e.next,i.next=null}this.Yl[t]=null}this.Kh=null}this.Mw=this.rl,this.Lw=-1,this.Vq=0},i.prototype.aJ=function(t){for(this.cF=t==i.Ax,t=this.Mw;t<=this.Lw;t++)this.kN(),this.dN(t),this.RP();this.fK()},i.prototype.ey=function(i,n,r,s){if(n!=s){var o=1;if(n>s&&(o=i,i=r,r=o,o=n,n=s,s=o,o=-1),!(0>s||n>=this.rl)){0>i&&0>r?r=i=-1:i>=this.pi&&r>=this.pi&&(r=i=this.pi);var a=(r-i)/(s-n);s>this.rl&&(r=a*((s=this.rl)-n)+i),0>n&&(i=a*(0-n)+i,n=0);var c=Math.max(this.pi+1,8388607);-8388607>i?(n=(0-i)/a+n,i=0):i>c&&(n=(this.pi-i)/a+n,i=this.pi),-8388607>r?s=(0-i)/a+n:r>c&&(s=(this.pi-i)/a+n),(n=t.P.truncate(n))!=(s=t.P.truncate(s))&&((r=new e).x=t.P.truncate(4294967296*i),r.y=n,r.H=s,r.OP=t.P.truncate(4294967296*a),r.dir=o,null==this.Yl&&(this.Yl=t.P.lg(this.rl,null)),r.next=this.Yl[r.y],this.Yl[r.y]=r,r.y<this.Mw&&(this.Mw=r.y),r.H>this.Lw&&(this.Lw=r.H),this.Vq++)}}},i.prototype.kN=function(){if(null!=this.Kh){for(var t=!1,e=null,i=this.Kh;null!=i;)if(i.y++,i.y==i.H){var n=i;i=i.next,null!=e?e.next=i:this.Kh=i,n.next=null}else i.x+=i.OP,null!=e&&e.x>i.x&&(t=!0),e=i,i=i.next;t&&(this.Kh=this.YJ(this.Kh))}},i.prototype.dN=function(t){if(!(t>=this.rl)){var e=this.Yl[t];if(null!=e){this.Yl[t]=null,e=this.YJ(e),this.Vq-=this.ZJ,t=this.Kh;for(var i=!0,n=e,r=null;null!=t&&null!=n;)t.x>n.x?(i&&(this.Kh=n),i=n.next,n.next=t,null!=r&&(r.next=n),r=n,n=i):(i=t.next,t.next=n,null!=r&&(r.next=t),r=t,t=i),i=!1;null==this.Kh&&(this.Kh=e)}}},i.XJ=function(t,e){return 0>t?0:t>e?e:t},i.prototype.RP=function(){if(null!=this.Kh)for(var e=0,n=this.Kh,r=t.P.truncate(t.P.OG(n.x)),s=n.next;null!=s;s=s.next)if(e=this.cF?1^e:e+s.dir,s.x>n.x){var o=t.P.truncate(t.P.OG(s.x));0!=e&&(n=i.XJ(r,this.pi),(r=i.XJ(o,this.pi))>n&&n<this.pi&&(this.jn[this.Ql++]=n,this.jn[this.Ql++]=r,this.jn[this.Ql++]=s.y,this.Ql==this.jn.length&&(this.py.ZE(this.jn,this.Ql),this.Ql=0))),n=s,r=o}},i.prototype.YJ=function(e){for(var n=0,r=e;null!=r;r=r.next)n++;if(this.ZJ=n,1==n)return e;null==this.Lf?this.Lf=t.P.lg(Math.max(n,16),null):this.Lf.length<n&&(this.Lf=t.P.lg(Math.max(n,2*this.Lf.length),null));var s=0;for(r=e;null!=r;r=r.next)this.Lf[s++]=r;for(2==n?this.Lf[0].x>this.Lf[1].x&&(e=this.Lf[0],this.Lf[0]=this.Lf[1],this.Lf[1]=e):i.sN(this.Lf,n,(function(t,e){return t==e?0:t.x<e.x?-1:t.x>e.x?1:0})),e=this.Lf[0],this.Lf[0]=null,r=e,s=1;s<n;s++)r.next=this.Lf[s],r=this.Lf[s],this.Lf[s]=null;return r.next=null,e},i.sN=function(t,e,i){if(e==t.length)t.sort(i);else{var n=t.slice(0,0),r=t.slice(e);e=t.slice(0,e).sort(i),t.length=0,t.push.apply(t,n.concat(e).concat(r))}},i.Ax=0,i}();t.Nx=i}(W||(W={})),function(t){var e=function(){function e(){}return e.prototype.vi=function(t,e){var i=this.g.Qa(t,this.Rq);if(this.Fl==i&&(this.Fl=this.oe.lb(this.Fl)),this.io==i&&(this.io=this.oe.lb(this.io)),this.oe.kd(this.LA,i),this.bk(t),e&&-1!=(e=this.g.cd(t))&&this.g.Ya(e)==t){var n=this.g.V(t);if(n!=t){if((i=this.g.cd(n))==e)return void this.g.Kf(e,n);if((n=this.g.Na(t))!=t&&(i=this.g.cd(n))==e)return void this.g.Kf(e,n)}this.g.Kf(e,-1),this.g.Xg(e,-1)}},e.prototype.hD=function(){for(var e=!1,i=new t.h;;){null==this.Xh?(this.Xh=new t.ja(0),this.As=new t.ja(0),this.ye=new t.ja(0)):(this.Xh.clear(!1),this.As.clear(!1),this.ye.clear(!1));for(var n=this.io,r=0,s=!0;n!=this.Fl;){var o=this.oe.getData(n),a=new t.h;this.g.Hc(o,a),s&&(this.g.Hc(o,i),s=!1),a=this.g.Na(o);var c=this.g.V(o);-559038737!=this.g.Qa(a,this.zg)&&(this.Xh.add(a),this.g.Sa(a,this.zg,-559038737),this.As.add(o),this.ye.add(r++)),-559038737!=this.g.Qa(c,this.zg)&&(this.Xh.add(c),this.g.Sa(c,this.zg,-559038737),this.As.add(o),this.ye.add(r++)),n=this.oe.lb(n)}if(2>this.Xh.size)break;var l=this;for(this.ye.Wd(0,this.ye.size,(function(t,e){return l.hM(t,e)})),n=0,r=this.ye.size;n<r;n++)s=this.ye.get(n),s=this.Xh.get(s),this.g.Sa(s,this.zg,n),a=new t.h,this.g.Hc(s,a);for(a=this.LM(i),n=0,r=this.ye.size;n<r;n++)-1!=(s=this.ye.get(n))&&(s=this.Xh.get(s),this.g.Sa(s,this.zg,-1));if(!a)break;e=!0}return e},e.prototype.LM=function(t){for(var e=!1,i=!0;i;){i=!1;var n=0;-1==this.ye.get(n)&&(n=this.em(n));for(var r=this.em(n),s=0,o=this.ye.size;s<o&&-1!=n&&-1!=r&&n!=r;s++){var a=this.ye.get(n);r=this.ye.get(r),a=this.Xh.get(a),r=this.Xh.get(r);var c=this.g.V(a);this.g.Ev(c,t)||(c=this.g.Na(a));var l=this.g.V(r);this.g.Ev(l,t)||(l=this.g.Na(r));var u=this.qu(c,a),h=this.qu(l,r),d=u?this.g.Na(c):this.g.V(c),p=h?this.g.Na(l):this.g.V(l),f=!1;(this.tp(c)||this.tp(l)||this.tp(a)||this.tp(r)||this.tp(d)||this.tp(p))&&(f=!0),!f&&this.g.hq(a,r)&&(f=!0,this.lD(u,h,c,a,l,r)),!f&&this.g.hq(d,p)&&(f=!0,this.lD(!u,!h,c,d,l,p)),f&&(e=!0),i=i||f,n=this.em(n),r=this.em(n)}}if(!e)for(n=0,-1==this.ye.get(n)&&(n=this.em(n)),r=this.em(n),s=0,o=this.ye.size;s<o&&-1!=n&&-1!=r&&n!=r;s++)a=this.ye.get(n),r=this.ye.get(r),a=this.Xh.get(a),r=this.Xh.get(r),c=this.g.V(a),this.g.Ev(c,t)||(c=this.g.Na(a)),l=this.g.V(r),this.g.Ev(l,t)||(l=this.g.Na(r)),u=this.qu(c,a),h=this.qu(l,r),d=u?this.g.Na(c):this.g.V(c),p=h?this.g.Na(l):this.g.V(l),this.vM(u,h,a,c,d,r,l,p)&&(e=!0),n=this.em(n),r=this.em(n);return e},e.prototype.PM=function(){1736==this.g.jc(this.Y)&&1==this.g.Jn(this.Y)&&(new t.Hg).CU(this.gw,this.g,this.Y,this.nd);var e=!1,i=!0;this.zg=this.Rq=-1;var n=this.g.I(this.Y),r=new t.ja(0);r.Jb(n);for(var s=this.g.Ob(this.Y);-1!=s;s=this.g.Sb(s))for(var o=this.g.Ya(s),a=0,c=this.g.Ka(s);a<c;a++)r.add(o),o=this.g.V(o);var l=this.g.ud.o,u=this.g.ud.Mf;this.g.wb.rc();var h=this.g.wb.Aa[0].o;for(r.Wd(0,n,(function(t,e){var i=l[u*t],n=l[u*e],r=h[2*i];i=h[2*i+1];var s=h[2*n];return 0==(r=i<(n=h[2*n+1])?-1:i>n?1:r<s?-1:r>s?1:0)&&(r=(t=l[u*t+3])<(e=l[u*e+3])?-1:t==e?0:1),r})),this.Rq=this.g.Hd(),this.oe=new t.kp,this.LA=this.oe.Qh(0),this.oe.hn(n),s=0;s<n;s++)o=r.get(s),a=this.oe.addElement(this.LA,o),this.g.Sa(o,this.Rq,a);for(this.zg=this.g.Hd(),this.Fl=-1,this.VC()&&(e=!0);i;){i=!1,n=0,r=!1;do{r=!1,this.io=-1,c=0,s=new t.h,a=new t.h;for(var d=this.oe.sc(this.LA);-1!=d;)o=this.oe.getData(d),-1!=this.io?(this.g.Hc(o,a),s.rb(a)?c++:(s.N(a),this.Fl=d,0<c&&(o=this.hD())&&(r=!0,-1!=this.Fl&&(o=this.oe.getData(this.Fl),this.g.Hc(o,s))),this.io=d=this.Fl,c=0)):(this.io=d,this.g.Hc(this.oe.getData(d),s),c=0),-1!=d&&(d=this.oe.lb(d));if(this.Fl=-1,0<c&&(o=this.hD())&&(r=!0),10<n++)throw t.i.Ra();r&&this.yM(),this.VC()&&(r=!0),i=i||r&&!1,e=e||r}while(r)}return this.g.Ud(this.Rq),this.g.Ud(this.zg),t.OL.W(this.g,this.Y,this.oe,this.gw)||e},e.prototype.qu=function(t,e){return this.g.V(e)!=t},e.prototype.vM=function(t,e,i,n,r,s,o,a){if(n==o)return this.bk(i),this.bk(s),!1;var c=this.g.Qa(i,this.zg),l=this.g.Qa(r,this.zg),u=this.g.Qa(s,this.zg),h=this.g.Qa(a,this.zg),d=[0,0,0,0];for((i=[0,0,0,0,0,0,0,0])[0]=0,d[0]=c,i[1]=0,d[1]=l,i[2]=1,d[2]=u,i[3]=1,d[3]=h,c=1;4>c;c++){for(l=d[c],u=i[c],h=c-1;0<=h&&d[h]>l;)d[h+1]=d[h],i[h+1]=i[h],h--;d[h+1]=l,i[h+1]=u}return d=0,0!=i[0]&&(d|=1),0!=i[1]&&(d|=2),0!=i[2]&&(d|=4),0!=i[3]&&(d|=8),(5==d||10==d)&&(t==e?t?(this.g.Cc(a,n),this.g.Dc(n,a),this.g.Cc(r,o),this.g.Dc(o,r)):(this.g.Dc(a,n),this.g.Cc(n,a),this.g.Dc(r,o),this.g.Cc(o,r)):t?(this.g.Dc(n,s),this.g.Cc(s,n),this.g.Dc(o,r),this.g.Cc(r,o)):(this.g.Cc(n,s),this.g.Dc(s,n),this.g.Cc(o,r),this.g.Dc(r,o)),!0)},e.prototype.lD=function(t,e,i,n,r,s){this.BY?this.NM():this.MM(t,e,i,n,r,s)},e.prototype.NM=function(){throw t.i.ga("not implemented.")},e.prototype.MM=function(t,e,i,n,r,s){if(t!=e)t?(this.g.Cc(i,r),this.g.Dc(r,i),this.g.Cc(s,n),this.g.Dc(n,s),this.wn(r,i),this.vi(r,!0),this.g.ni(r,!0),this.bk(i),this.wn(s,n),this.vi(s,!0),this.g.ni(s,!1)):(this.g.Cc(r,i),this.g.Dc(i,r),this.g.Cc(n,s),this.g.Dc(s,n),this.wn(r,i),this.vi(r,!0),this.g.ni(r,!1),this.bk(i),this.wn(s,n),this.vi(s,!0),this.g.ni(s,!0)),this.bk(n);else{var o=t?i:n,a=e?r:s;for(t=t?n:i,e=e?s:r,r=!1,this.g.Cc(o,a),this.g.Cc(a,o),this.g.Dc(t,e),this.g.Dc(e,t),s=e;s!=a;)i=this.g.Na(s),n=this.g.V(s),this.g.Dc(s,n),this.g.Cc(s,i),r=r||s==o,s=n;r||(i=this.g.Na(a),n=this.g.V(a),this.g.Dc(a,n),this.g.Cc(a,i)),this.wn(a,o),this.vi(a,!0),this.g.ni(a,!1),this.bk(o),this.wn(e,t),this.vi(e,!0),this.g.ni(e,!1),this.bk(t)}},e.prototype.VC=function(){for(var t=!1,e=this.g.Ob(this.Y);-1!=e;){for(var i=this.g.Ya(e),n=0,r=this.g.Ka(e);n<r&&1<r;){var s=this.g.Na(i),o=this.g.V(i);this.g.hq(s,o)?(t=!0,this.vi(i,!1),this.g.pd(i,!0),this.vi(o,!1),this.g.pd(o,!0),i=s,n=0,r=this.g.Ka(e)):(i=o,n++)}if(2>this.g.Ka(e)){for(t=this.g.Ya(e),n=0,r=this.g.Ka(e);n<r;n++)this.vi(t,!1),t=this.g.V(t);e=this.g.ar(e),t=!0}else e=this.g.Sb(e)}return t},e.prototype.tp=function(t){for(var e=!1;;){var i=this.g.V(t),n=this.g.Na(t);if(i==t)return this.vi(t,!0),this.g.ni(t,!1),!0;if(!this.g.hq(i,n))break;if(e=!0,this.bk(n),this.bk(i),this.vi(t,!0),this.g.ni(t,!1),this.wn(i,n),this.vi(i,!0),this.g.ni(i,!0),i==n)break;t=n}return e},e.prototype.yM=function(){for(var t=0,e=this.oe.sc(this.oe.je);-1!=e;e=this.oe.lb(e)){var i=this.oe.getData(e);this.g.bj(i,-1)}for(var n=0,r=this.g.Ob(this.Y);-1!=r;)if(-1==(e=this.g.Ya(r))||-1!=this.g.cd(e))i=r,r=this.g.Sb(r),this.g.br(i);else{this.g.bj(e,r);var s=1;for(i=this.g.V(e);i!=e;i=this.g.V(i))this.g.bj(i,r),s++;this.g.ep(r,!1),this.g.Wj(r,s),this.g.Xg(r,this.g.Na(e)),n+=s,t++,r=this.g.Sb(r)}for(e=this.oe.sc(this.oe.je);-1!=e;e=this.oe.lb(e))i=this.oe.getData(e),-1==this.g.cd(i)&&(r=this.g.fG(this.Y,i,i,null),n+=this.g.Ka(r),t++);for(this.g.Tl(this.Y,t),this.g.Uj(this.Y,n),t=0,n=this.g.ld;-1!=n;n=this.g.ve(n))t+=this.g.I(n);this.g.VB(t)},e.prototype.em=function(t){for(var e=0,i=this.ye.size-1;e<i;e++)if(t=(t+1)%this.ye.size,-1!=this.ye.get(t))return t;return-1},e.prototype.wn=function(t,e){var i=this.g.Qa(e,this.Rq),n=this.g.Qa(e,this.zg);this.g.eC(t,e),this.g.Sa(e,this.Rq,i),this.g.Sa(e,this.zg,n)},e.prototype.bk=function(t){var e=this.g.Qa(t,this.zg);-1!=e&&(this.ye.set(e,-1),this.g.Sa(t,this.zg,-1))},e.W=function(t,i,n,r,s){var o=new e;return o.g=t,o.Y=i,o.rA=n,o.gw=r,o.nd=s,o.PM()},e.prototype.hM=function(e,i){var n=this.Xh.get(e),r=new t.h;this.g.Hc(n,r),n=new t.h;var s=this.Xh.get(i);return this.g.Hc(s,n),r.rb(n)?0:(s=this.As.get(e),e=new t.h,this.g.Hc(s,e),s=this.As.get(i),i=new t.h,this.g.Hc(s,i),(s=new t.h).vc(r,e),(r=new t.h).vc(n,i),t.h.ou(s,r))},e}();t.tn=e}(W||(W={})),function(t){var e;(e=t.SL||(t.SL={}))[e.Local=0]="Local",e[e.Geographic=1]="Geographic",e[e.Projected=2]="Projected",e[e.Image=3]="Image",e[e.Unknown=4]="Unknown",function(t){t[t.Integer32=0]="Integer32",t[t.Integer64=1]="Integer64",t[t.FloatingPoint=2]="FloatingPoint"}(t.LL||(t.LL={}));var i=function(){function e(){this.qp="",this.tu=null,this.eg=0,this.RH=this.Io=-1,this.xh=null}return e.prototype.Fc=function(){return this.eg},e.prototype.NF=function(){return 1},e.prototype.Yd=function(){var e=.001;return 0!=this.eg?e=t.yr.uQ(this.eg):null!=this.xh&&(e=t.PC.vQ(this.xh)),e},e.prototype.wz=function(){return this.xh},e.prototype.Id=function(){return 0!=this.eg?t.Uc.$g(t.yr.Ny(this.eg)):null!=this.xh?t.PC.wQ(this.xh):void 0},e.Tb=function(e){if(0!=e.eg){if(!0===t.yr.PS(e.eg))return 1;if(!0===t.yr.RS(e.eg))return 2}return 4},e.prototype.bs=function(){var e=this.Fc();return-1!=this.Io?this.Io:(this.Io=t.yr.xK(e),-1!=this.Io?this.Io:e)},e.create=function(i){if(0>=i)throw t.i.O("Invalid or unsupported wkid: "+i);var n=new e;return n.eg=i,n},e.iP=function(i){if(null==i||0==i.length)throw t.i.O("Cannot create SpatialReference from null or empty text.");var n=new e;return n.xh=i,n},e.prototype.Nb=function(t){return this==t||null!=t&&this.constructor==t.constructor&&this.eg==t.eg&&(0!=this.eg||this.xh===t.xh)},e.prototype.toString=function(){return"[ tol: "+this.Ln()+"; wkid: "+this.Fc()+"; wkt: "+this.wz()+"]"},e.prototype.dc=function(){if(""!==this.qp)return this.qp;var t=this.toString();if(Array.prototype.reduce)return this.qp="S"+t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0);var e=0;if(0===t.length)return"";for(var i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e&=e;return this.qp="S"+e},e.prototype.Ln=function(){return this.Yd(0)},e.prototype.gh=function(){return null!==this.tu?this.tu:this.tu=t.hu.qP(this)},e.RN=2147483645,e.SN=9007199254740990,e}();t.Gg=i}(W||(W={})),function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.Ki=null,i.IT=null,i.Jq=new t.RL,i.Fo=null,i.kw=null,i}return Y(i,e),i.qP=function(e){var n=new i;if(n.eg=e.eg,n.Io=e.Io,n.RH=e.RH,n.xh=e.xh,""!==n.xh&&null!==n.xh){e=i.cM(n.xh);var r=i.aM(n.xh);n.Jq.Vx(e,r,t.iu.Integer64),n.$x(e),n.by(r),n.eg=e.bs()}else e=i.bM(n.eg),n.$x(e),n.by(null),n.Jq.Vx(e,null,t.iu.Integer64);return n},i.prototype.Yd=function(t){return this.Jq.Ln(t)},i.aM=function(e){if(0>=e.length)throw t.i.O();var n=null;try{n=t.FC.fromString(e)}catch(r){n=null}return null==n?null:i.UC(n,!0)},i.prototype.$x=function(t){this.Ld=t,this.Fo=this.Ld.Id()},i.prototype.by=function(t){this.CH=t,this.IT=null!=this.CH?this.CH.Fo:null},i.prototype.Xc=function(){return 0!=this.Tb()&&3!=this.Tb()&&this.Ld.Xc()},i.prototype.AG=function(){return 0!=this.Tb()&&(3==this.Tb()?this.Ki.fk().Xc():this.Ld.Xc())},i.prototype.fh=function(){return null!=this.Ld?this.Ld.Re:null},i.prototype.rm=function(){return this.Ld.rm()},i.prototype.bf=function(){return this.Ld.bf()},i.prototype.ih=function(){return null!=this.Ld?this.Ld.tw:NaN},i.prototype.Wp=function(){return this.Ld.Wp()},i.prototype.Xr=function(){return this.Ld.Xr()},i.prototype.kk=function(){return this.Ld.kk()},i.prototype.bS=function(e){return t.GC.Ky(this.Ld,e.Ld)},i.prototype.ol=function(){return this.Ld.ol()},i.prototype.Wr=function(){return this.Ld.Wr()},i.prototype.Ai=function(){return 3==this.Tb()?this.Ki.fk().Ai():this.Ld.Ai()},i.prototype.hh=function(){if(!this.Xc())throw t.i.O("!isPannable()");var e=new t.l;return this.Ld.hh(e),e},i.prototype.Le=function(){if(!this.Xc())throw t.i.O("!isPannable()");return this.Ld.to},i.prototype.zR=function(){if(!this.Xc())throw t.i.O("!isPannable()");var e=new t.l;return this.Ld.yR(e),e},i.prototype.qv=function(){if(!this.Xc())throw t.i.O("!isPannable()");return this.Ld.qv()},i.prototype.pv=function(){if(!this.Xc())throw t.i.O("!isPannable()");return this.Ld.pv()},i.prototype.Yr=function(){return null!=this.Ki?this.Ki.fk().Yr():this.Ld.Yr()},i.prototype.HQ=function(){return this.Ld.jv()},i.prototype.Sp=function(){return this.Fo.getUnitFactor()},i.prototype.pz=function(t){return this.Jq.pz(t)},i.prototype.tc=function(){var e=this.Tb();if(1==e)return this;if(3==e)return this.Ki.fk().tc();if(0==e)throw t.i.ga("invalid call");if(4===e)throw t.i.ga("invalid call");if(null!==this.kw)return this.kw;if(null==(e=this.fh().getGeogcs()))throw t.i.Ra();return this.kw=i.UE(e,this.Jq.NF())},i.UE=function(e,n){if(null==e)throw t.i.O("null pointer.");var r=new i;return e=i.nu(e,!0),r.Jq.Vx(e,null,n),r.$x(e),r.by(null),r.eg=e.bs(),r},i.prototype.Tb=function(){var e=this.fh();if(null!=e)switch(e.getType()){case t.Tc.PE_TYPE_GEOGCS:return 1;case t.Tc.PE_TYPE_PROJCS:return 2}return 4},i.prototype.jv=function(){return this.Ld.jv()},i.nu=function(e,n){var r=e.getCode();if(0>=r&&0<(r=t.qf.getCode(e))){if(null==(e=t.qf.coordsys(r)))throw t.i.O("Text to wkid mapping had failed: "+r);return i.nu(e,n)}if(n&&0<r&&(n=i.px[r]))return n;n=t.Ab.yv(e,r,!1);var s=i.dK[n];return s||(e=0>=r?e:t.qf.coordsys(r),e=new t.GC(e),i.dK[n]=e,0<r&&(i.px[r]=e),e)},i.bM=function(e){if(0>=e)throw t.i.O("Invalid or unsupported wkid: "+e);var n=i.px[e];if(null!=n)return n;if(null==(n=t.qf.coordsys(e)))throw t.i.O("Invalid or unsupported wkid: "+e);return(n=i.nu(n,!1)).bs()!=e&&(i.px[e]=n),n},i.cM=function(e){if(null==e||void 0===e||0==e.length)throw t.i.O("Cannot create SpatialReference from null or empty text.");var n=null;try{n=t.qf.fromString(t.Tc.PE_TYPE_COORDSYS,e)}catch(r){throw t.i.O("Cannot create SpatialReference from text. "+r.message)}if(null===n)throw t.i.O("Cannot create SpatialReference from text. ");return i.nu(n,!0)},i.UC=function(e,n){var r,s=e.getCode();if(0>=s&&0<(s=t.qf.getCode(e))){if(null===(s=t.qf.vertcs(s)))throw t.i.O();return i.UC(s,n)}if(n&&0<s&&(n=i.cK[s]))return n;if(e=t.Ab.yv(e,s,!1),n=i.eK[e])return n;if(0>=s||(r=t.qf.vertcs(s)),null===r)throw t.i.O();return r=new t.HL(r),i.eK[e]=r,0<s&&(i.cK[s]=r),r},i.kI=function(e,i){if(null===i||i.B())return null;var n=new t.l;if(null!==i&&1!=e.Tb()){var r=e.tc(),s=r.fh();e=t.xr.Or(e,r,null,null),(i=t.Fx.local().W(i,e,null)).A(n)}else s=e.fh(),i.A(n);return i=s.getPrimem().getLongitude(),s=s.getUnit().getUnitFactor(),new t.DC(n.v,n.G,n.C,n.H,i,s)},i.dD=function(t){var e={name:"",steps:[],_pt:null,_entry:null},i=0;for(t=t.getEntries();i<t.length;i++){var n=t[i],r={AY:!1,OY:"",NY:-1,geogtran:null};0===n.getDirection()?r.isInverse=!1:r.isInverse=!0;var s=n.getGeogtran().getCode();-1<s?r.wkid=s:r.wkt=n.getGeogtran().toString(),e.steps.push(r)}return e},i.OR=function(e,n,r,s){return void 0===r&&(r=null),r=i.kI(s,r),e=t.mp.getGTlist(e.fh(),n.fh(),2,t.mp.PE_GTLIST_OPTS_COMMON,r,1),n=null,e&&0<e.length&&(n=this.dD(e[0]),t.Kx.destroy(e)),null!==r&&r.destroy(),n},i.PR=function(e,n,r,s){var o;if(void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=30),r=i.kI(s,r),e=t.mp.getGTlist(e.fh(),n.fh(),2,t.mp.PE_GTLIST_OPTS_COMMON,r,o),n=[],e&&0<e.length){for(o=0;o<e.length;o++)n.push(this.dD(e[o]));t.Kx.destroy(e)}return null!==r&&r.destroy(),n},i.px={},i.dK={},i.cK={},i.eK={},i}(t.Gg);t.hu=e}(W||(W={})),function(t){var e,i;(i=e=t.iu||(t.iu={}))[i.Integer32=0]="Integer32",i[i.Integer64=1]="Integer64",i[i.FloatingPoint=2]="FloatingPoint";var n=function(){function i(){this.rp()}return i.prototype.assign=function(t){this.Hm=t.Hm,this.Im=t.Im,this.Qj=t.Qj,this.mA=t.mA,this.Go=t.Go,this.lA=t.lA,this.Ik=t.Ik,this.Oq=t.Oq,this.Nq=t.Nq,this.Tm=t.Tm},i.prototype.NF=function(){return this.Tm},i.prototype.rp=function(){this.Im=this.Hm=0,this.Qj=1,this.mA=0,this.Go=1,this.lA=0,this.Nq=this.Oq=this.Ik=2220446049250313e-29,this.Tm=e.FloatingPoint},i.prototype.Vx=function(i,n,r){if(this.rp(),this.Tm=r,r!=e.FloatingPoint){var s=new t.l;i.$Q(s),this.Hm=s.v,this.Im=s.G}else this.Im=this.Hm=-17976931348623157e292;(s=i.Re.getType())==t.Tc.PE_TYPE_GEOGCS?(s=(r==e.Integer64?1e-9:1/18e5)*i.bf(),this.Qj=1/s):s==t.Tc.PE_TYPE_PROJCS&&(s=(r==e.Integer64?1e-4:.001)*i.rm(),this.Qj=1/s),null!=n?(s=(r==e.Integer32?.001:1e-4)*n.AH,this.Go=1/s):this.Go=1e4,this.QM(),this.Ik=i.tw,this.Oq=null!=n?.001*n.AH:.001,this.Nq=2220446049250313e-29},i.prototype.QM=function(){if(this.Tm!=e.FloatingPoint){var i=this.Tm==e.Integer64?t.Gg.SN:t.Gg.RN,n=i/this.Qj,r=this.Hm+n,s=t.P.truncate((r-this.Hm)*this.Qj);s>i&&(this.Qj=i/(r-this.Hm)),n=this.Im+n,(s=t.P.truncate((n-this.Im)*this.Qj))>i&&(this.Qj=i/(n-this.Im))}},i.prototype.UB=function(t){switch(t){case 0:this.Ik=void 0;case 1:this.Oq=void 0;case 2:this.Nq=void 0}},i.prototype.Ln=function(t){switch(t){case 0:return this.Ik;case 1:return this.Oq;case 2:return this.Nq}return 0},i.prototype.pz=function(t){if(this.Tm==e.FloatingPoint)return 0;switch(t){case 0:return 1/this.Qj;case 1:case 2:return 1/this.Go;default:return 0}},i.prototype.toString=function(){var t="SRPD [m_toleranceXY: "+this.Ik.toString();return(t=(t=(t=(t=(t=(t=(t=(t=(t=t+";m_falseX: "+this.Hm.toString())+";m_falseY: "+this.Im.toString())+";m_unitsXY: "+this.Qj.toString())+";m_falseZ: "+this.mA.toString())+";m_unitsZ: "+this.Go.toString())+";m_falseM: "+this.lA.toString())+";m_toleranceZ: "+this.Oq.toString())+";m_toleranceM: "+this.Nq.toString())+";m_precision: "+this.Tm.toString())+"] "},i}();t.RL=n}(W||(W={})),function(t){function e(t,e){return 89.99999<e?e=89.99999:-89.99999>e&&(e=-89.99999),e*=.017453292519943,[111319.49079327169*t,3189068.5*Math.log((1+Math.sin(e))/(1-Math.sin(e)))]}function i(t,e,i){return t=t/6378137*57.29577951308232,i?[t,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*e/6378137)))]:[t-360*Math.floor((t+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*e/6378137)))]}function n(e,i,n){var r=e.Pf();if(33===e.K())i=i(r.Mg(),r.jh()),r.Db(i[0],i[1]);else if(197===e.K()){var s=i(e.fs(),e.hs(),n);i=i(e.es(),e.gs(),n),r.L(s[0],s[1],i[0],i[1])}else for(s=new t.h,e=0;e<r.I();e++){r.D(e,s);var o=i(s.x,s.y,n);s.na(o[0],o[1]),r.Db(e,s)}return r}function r(t){return n(t,i,!0)}function s(t){return n(t,e,!0)}var o=Math.PI/180;t.MK=function(){function e(){}return e.wu=function(e){var i=Math.sqrt(.006694379990197414),n=Math.sin(e.y*o);return t.h.construct(6378137*e.x*o,3167719.6636462314*(n/(1-.006694379990197414*n*n)-1/(2*i)*Math.log((1-i*n)/(1+i*n))))},e.Tx=function(e,i,n,r){var s=1/298.257223563,a=Math.sin(n);n=Math.cos(n);var c=(1-s)*Math.tan(e),l=c*(e=1/Math.sqrt(1+c*c)),u=Math.atan2(c,n),h=(c=e*a)*c,d=1-h,p=272331606107.54688*d/40408299984661.45,f=1+p/16384*(4096+p*(p*(320-175*p)-768)),b=p/1024*(256+p*(p*(74-47*p)-128));p=r/(6356752.31424518*f);for(var y,m,g,v=2*Math.PI;1e-12<Math.abs(p-v);)g=Math.cos(2*u+p),v=p,p=r/(6356752.31424518*f)+b*(y=Math.sin(p))*(g+b/4*((m=Math.cos(p))*(2*g*g-1)-b/6*g*(4*y*y-3)*(4*g*g-3)));return r=l*y-e*m*n,d=s/16*d*(4+s*(4-3*d)),t.h.construct((i+(Math.atan2(y*a,e*m-l*y*n)-(1-d)*s*c*(p+d*y*(g+d*m*(2*g*g-1)))))/o,Math.atan2(l*m+e*y*n,(1-s)*Math.sqrt(h+r*r))/o)},e.EM=function(t,e,i,n){var r=1/298.257223563,s=n-e,o=Math.atan((1-r)*Math.tan(t)),a=Math.atan((1-r)*Math.tan(i)),c=Math.sin(o);o=Math.cos(o);var l=Math.sin(a);a=Math.cos(a);var u=s,h=1e3;do{var d=Math.sin(u),p=Math.cos(u),f=Math.sqrt(a*d*a*d+(o*l-c*a*p)*(o*l-c*a*p));if(0===f)return 0;p=c*l+o*a*p;var b=Math.atan2(f,p),y=o*a*d/f,m=1-y*y;d=p-2*c*l/m,isNaN(d)&&(d=0);var g=r/16*m*(4+r*(4-3*m)),v=u;u=s+(1-g)*r*y*(b+g*f*(d+g*p*(2*d*d-1)))}while(1e-12<Math.abs(u-v)&&0<--h);return 0===h?(c=n-e,{azimuth:Math.atan2(Math.sin(c)*Math.cos(i),Math.cos(t)*Math.sin(i)-Math.sin(t)*Math.cos(i)*Math.cos(c)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(t)*Math.sin(i)+Math.cos(t)*Math.cos(i)*Math.cos(n-e))}):(e=(t=272331606107.54688*m/40408299984661.45)/1024*(256+t*(t*(74-47*t)-128)),{azimuth:Math.atan2(a*Math.sin(u),o*l-c*a*Math.cos(u)),QQ:6356752.31424518*(1+t/16384*(4096+t*(t*(320-175*t)-768)))*(b-e*f*(d+e/4*(p*(2*d*d-1)-e/6*d*(4*f*f-3)*(4*d*d-3)))),MY:Math.atan2(o*Math.sin(u),o*l*Math.cos(u)-c*a)})},e.bQ=function(e){var i=e.hasAttribute(1),n=e.hasAttribute(2),r=[],s=e.ea(),o=null,a=null;i&&(o=e.vb(1)),n&&(a=e.vb(2));for(var c=new t.h,l=0;l<s;l++){for(var u=e.Ca(l),h=e.Ka(l),d=0,p=0,f=NaN,b=NaN,y=NaN,m=NaN,g=e.ec(l),v=[],w=u;w<u+h;w++){e.D(w,c),m=y=NaN;var O=[c.x,c.y];i&&(y=o.get(w),O.push(y)),n&&(s=a.get(w),O.push(m)),w==u&&g&&(d=c.x,p=c.y,f=y,b=m),v.push(O)}!g||d==c.x&&p==c.y&&(!i||isNaN(f)&&isNaN(y)||f==y)&&(!n||isNaN(b)&&isNaN(m)||b==m)||v.push(v[0].slice(0)),r.push(v)}return r},e.Ry=function(t,i){t=e.bQ(t),637.100877141506>i&&(i=637.100877141506);for(var n,r=[],s=0;s<t.length;s++){var a,c,l=t[s];r.push(n=[]),n.push([l[0][0],l[0][1]]);var u=l[0][0]*o,h=l[0][1]*o;for(a=0;a<l.length-1;a++){var d=l[a+1][0]*o,p=l[a+1][1]*o;if(u!==d||h!==p){d=(p=e.EM(h,u,p,d)).azimuth;var f=(p=p.QQ)/i;if(1<f){for(c=1;c<=f-1;c++){var b=e.Tx(h,u,d,c*i);n.push([b.x,b.y])}c=e.Tx(h,u,d,(p+Math.floor(f-1)*i)/2),n.push([c.x,c.y])}h=e.Tx(h,u,d,p),n.push([h.x,h.y]),u=h.x*o,h=h.y*o}}}return{iJ:r}},e.PQ=function(i){for(var n=[],r=0;r<i.length;r++){var s=i[r];s=e.Ry(s,1e4),n.push(s)}i=[];for(var o=0;o<n.length;o++){s=n[o];var a=0;for(r=0;r<s.iJ.length;r++){var c,l=s.iJ[r],u=e.wu(t.h.construct(l[0][0],l[0][1])),h=e.wu(t.h.construct(l[l.length-1][0],l[l.length-1][1])),d=h.x*u.y-u.x*h.y;for(c=0;c<l.length-1;c++)u=e.wu(t.h.construct(l[c+1][0],l[c+1][1])),d+=(h=e.wu(t.h.construct(l[c][0],l[c][1]))).x*u.y-u.x*h.y;a+=d}a/=1,i.push(a/-2)}return i},e}(),t.cb=function(){function e(){}return e.rB=function(t,i,n,r,s,o,a){e.ZC[t.dc()]=i,0==isNaN(n)&&(e.eD[t.dc()]=n),0==isNaN(r)&&(e.rD[t.dc()]=r),0==isNaN(s)&&(e.TC[t.dc()]=s),e.fD[t.dc()]=o,null!==a&&(e.gD[t.dc()]=a)},e.Xw=function(t,i,n){e.kD[t.dc()+"-"+i.dc()]=n},e.tc=function(i){if(null==(i=e.ZC[i.dc()]))throw t.i.Fe();return i},e.bf=function(i){if(null==(i=e.eD[i.dc()]))throw t.i.Fe();return i},e.wv=function(i){if(null==(i=e.rD[i.dc()]))throw t.i.Fe();return i},e.fv=function(i){if(null==(i=e.TC[i.dc()]))throw t.i.Fe();return i},e.hh=function(i){if(null==(i=e.gD[i.dc()]))throw t.i.Fe();return t.l.construct(i[0],i[1],i[2],i[3])},e.Xc=function(i){if(null==(i=e.fD[i.dc()]))throw t.i.Fe();return i},e.Ah=function(i,n,r){if(n.Nb(r))return i;var s=e.kD[n.dc()+"-"+r.dc()];if(void 0!==s)return s(i,n,r);throw t.i.Fe()},e.vt=function(){throw t.i.Fe()},e.UQ=function(){throw t.i.Fe()},e.UV=function(){throw t.i.Fe()},e.ol=function(){throw t.i.Fe()},e.iW=function(){var e=t.Gg.create(102100),i=t.Gg.create(3857),n=t.Gg.create(4326);t.cb.rB(e,n,NaN,NaN,NaN,!1,null),t.cb.rB(n,n,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),t.cb.rB(i,n,NaN,NaN,NaN,!1,null),t.cb.Xw(e,n,r),t.cb.Xw(n,e,s),t.cb.Xw(i,n,r),t.cb.Xw(n,i,s)},e.ZC=[],e.eD=[],e.rD=[],e.TC=[],e.fD=[],e.gD=[],e.kD=[],e}()}(W||(W={})),W.cb.iW(),function(t){var e=function(){function e(t){this.o=new Int32Array(0),this.jo=-1,this.Jg=this.size=this.Dl=0,this.Mf=t}return e.prototype.kd=function(t){t<this.Dl?(this.o[t*this.Mf]=this.jo,this.jo=t):this.Dl--,this.size--},e.prototype.U=function(t,e){return this.o[t*this.Mf+e]},e.prototype.T=function(t,e,i){this.o[t*this.Mf+e]=i},e.prototype.De=function(){var e=this.jo;if(-1==e){if(this.Dl==this.Jg){if(2147483647<(e=0!=this.Jg?t.P.truncate(3*(this.Jg+1)/2):1)&&(e=2147483647),e==this.Jg)throw t.i.re();this.yz(e)}e=this.Dl,this.Dl++}else this.jo=this.o[e*this.Mf];this.size++;for(var i=e*this.Mf;i<e*this.Mf+this.Mf;i++)this.o[i]=-1;return e},e.prototype.Nl=function(e){var i=this.jo;if(-1==i){if(this.Dl==this.Jg){if(2147483647<(i=0!=this.Jg?t.P.truncate(3*(this.Jg+1)/2):1)&&(i=2147483647),i==this.Jg)throw t.i.re();this.yz(i)}i=this.Dl,this.Dl++}else this.jo=this.o[i*this.Mf];this.size++;for(var n=i*this.Mf,r=0;r<e.length;r++)this.o[n+r]=e[r];return i},e.prototype.nj=function(t){this.jo=-1,this.size=this.Dl=0,t&&(this.o=null,this.Jg=0)},e.prototype.Ee=function(t){t>this.Jg&&this.yz(t)},e.prototype.rx=function(t,e){t*=this.Mf,e*=this.Mf;for(var i=0;i<this.Mf;i++){var n=this.o[e+i];this.o[e+i]=this.o[t+i],this.o[t+i]=n}},e.prototype.$B=function(t,e,i){var n=this.o[this.Mf*e+i];this.o[this.Mf*e+i]=this.o[this.Mf*t+i],this.o[this.Mf*t+i]=n},e.DG=function(t){return 0<=t},e.prototype.yz=function(t){null==this.o&&(this.o=new Int32Array(0));var e=new Int32Array(this.Mf*t);e.set(this.o,0),this.o=e,this.Jg=t},e}();t.ad=e}(W||(W={})),function(t){var e,i;(i=e||(e={}))[i.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",i[i.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",i[i.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",i[i.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var n=function(){function e(e){this.Ce=e,this.zh=NaN,this.XG=new t.hg,this.YG=new t.hg,this.ns=new t.Oc,this.os=new t.Oc}return e.prototype.compare=function(t,e,i){if(t=t.ka(i),this.Ce.jB(e,this.XG),this.Ce.jB(t,this.YG),e=this.XG.get(),t=this.YG.get(),this.ns.L(e.sa,e.qa),this.os.L(t.sa,t.qa),this.ns.wa<this.os.pa)return-1;if(this.ns.pa>this.os.wa)return 1;i=e.oa==e.ma;var n=t.oa==t.ma;if(i||n){if(i&&n)return 0;if(e.oa==t.oa&&e.sa==t.sa)return i?1:-1;if(e.ma==t.ma&&e.qa==t.qa)return i?-1:1}return(i=e.Me(this.zh,this.ns.pa))==(n=t.Me(this.zh,this.os.pa))&&((n=.5*((i=Math.min(e.ma,t.ma))+this.zh))==this.zh&&(n=i),i=e.Me(n,this.ns.pa),n=t.Me(n,this.os.pa)),i<n?-1:i>n?1:0},e.prototype.TJ=function(t){this.zh=t},e}(),r=function(){function e(e){this.ib=e,this.OH=new t.hg,this.Cf=new t.h,this.qA=new t.Oc}return e.prototype.YW=function(t){this.Cf.N(t)},e.prototype.compare=function(t,e){return this.ib.jB(t.ka(e),this.OH),t=this.OH.get(),this.qA.L(t.sa,t.qa),this.Cf.x<this.qA.pa?-1:this.Cf.x>this.qA.wa?1:(t=t.Me(this.Cf.y,this.Cf.x),this.Cf.x<t?-1:this.Cf.x>t?1:0)},e}();e=function(){function e(){this.$G=this.Ei=this.Hi=this.fA=this.Zn=this.ze=this.Lc=this.kh=this.ge=null,this.Ho=this.xg=-1,this.ZG=!0,this.jA=!1,this.gA=NaN,this.Oi=new t.Nd,this.UN=2147483647,this.TN=t.P.truncate(-2147483648),this.dg=this.be=this.Jl=this.Eq=this.Em=this.Dq=this.Ps=this.Oe=-1,this.xa=0}return e.prototype.sy=function(t){this.gA=t},e.prototype.$m=function(){null==this.ge&&(this.ge=new t.ad(8));var e=this.ge.De();return this.ge.T(e,1,0),e},e.prototype.lU=function(){null==this.Lc&&(this.Lc=new t.ad(8));var e=this.Lc.De();this.Lc.T(e,2,0),this.Lc.T(e,3,0);var i=this.Lc.De();return this.Lc.T(i,2,0),this.Lc.T(i,3,0),this.BJ(e,i),this.BJ(i,e),e},e.prototype.eI=function(){null==this.ze&&(this.ze=new t.ad(8));var e=this.ze.De();return this.ze.T(e,2,0),e},e.prototype.HW=function(t,e){this.ge.T(t,7,e)},e.prototype.on=function(t,e){this.ge.T(t,2,e)},e.prototype.GW=function(t,e){this.ge.T(t,1,e)},e.prototype.ZW=function(t,e){this.ge.T(t,3,e)},e.prototype.WW=function(t,e){this.ge.T(t,4,e)},e.prototype.er=function(t,e){this.ge.T(t,5,e)},e.prototype.XQ=function(t){return this.ge.U(t,5)},e.prototype.FW=function(t,e){this.ge.T(t,6,e)},e.prototype.VM=function(t,e){this.FW(e,t)},e.prototype.AJ=function(t,e){this.Lc.T(t,1,e)},e.prototype.BJ=function(t,e){this.Lc.T(t,4,e)},e.prototype.Vl=function(t,e){this.Lc.T(t,5,e)},e.prototype.Ul=function(t,e){this.Lc.T(t,6,e)},e.prototype.NW=function(t,e){this.Lc.T(t,2,e)},e.prototype.bx=function(t,e){this.Lc.T(t,3,e)},e.prototype.DF=function(t){return this.Lc.U(t,3)},e.prototype.Gt=function(t,e){this.Lc.T(t,7,e)},e.prototype.wK=function(t,e){if(-1!=this.om(t))for(e=e?-1:t,t=this.om(t);-1!=t;t=this.ks(t))this.g.Sa(this.uj(t),this.Eq,e)},e.prototype.wx=function(t,e){-1!=t&&(this.wK(t,e),this.wK(this.ya(t),e))},e.prototype.Dt=function(t,e){this.ze.T(t,1,e)},e.prototype.Wg=function(t,e){this.ze.T(t,2,e)},e.prototype.ln=function(t,e){this.ze.T(t,3,e),this.DW(t,this.WQ(e)),this.BW(e,t)},e.prototype.BW=function(t,e){this.ze.T(t,4,e)},e.prototype.DW=function(t,e){this.ze.T(t,5,e)},e.prototype.vJ=function(t,e){this.ze.T(t,6,e)},e.prototype.tJ=function(t,e){this.ze.T(t,7,e)},e.prototype.sJ=function(t,e){this.Zn.write(t,e)},e.prototype.uJ=function(t,e){this.fA.write(t,e)},e.prototype.ZX=function(e){var i=0,n=0,r=this.sF(e),s=new t.h,o=new t.h,a=new t.h;this.Zr(r,s),o.N(s);var c=r;do{this.nm(c,a),n+=t.h.ub(o,a),this.$e(this.ya(c))!=e&&(i+=(a.x-s.x-(o.x-s.x))*(a.y-s.y+(o.y-s.y))*.5),o.N(a),c=this.kc(c)}while(c!=r);this.Zn.write(e,i),this.fA.write(e,n)},e.prototype.FU=function(e,i){var s=new n(this),o=new t.Yj;o.Ee(t.P.truncate(this.xa/2)),o.Wo(s);for(var a=new t.ja(0),c=this.ah(),l=null,u=0,h=new t.h,d=this.Oe;-1!=d;d=this.Sf(d)){if(0==(255&++u)&&null!=i&&!i.progress(-1,-1))throw t.i.OC();var p=this.Je(d);if(-1!=p){if(a.Ch(0),!this.VX(o,c,a,p)){this.D(d,h),s.TJ(h.y);var f=p;do{var b=this.Bb(f,c);-1!=b&&(o.wd(b,-1),this.Kb(f,c,-2)),f=this.kc(this.ya(f))}while(p!=f);f=p;do{-1==(b=this.Bb(f,c))&&(b=o.addElement(f,-1),a.add(b)),f=this.kc(this.ya(f))}while(p!=f)}for(p=a.size-1;0<=p;p--)b=a.get(p),f=o.ka(b),this.Kb(this.ya(f),c,b),this.EU(o,b,e)}else-1==this.Yy(d)&&(null==l&&(l=new r(this)),this.D(d,h),l.YW(h),f=o.xW(l),p=this.Jl,-1!=f&&(b=o.ka(f),this.$e(b)==this.$e(this.ya(b))&&(b=this.GF(o,f)),-1!=b&&(p=this.$e(b))),this.VM(p,d))}this.Lg(c)},e.prototype.EU=function(t,e,i){var n=t.ka(e),r=this.$e(n);if(-1==this.Hn(r)){var s=this.GF(t,e),o=this.ya(n),a=this.$e(o);this.Mp(r),this.Mp(a);var c=this.Hn(r),l=this.Hn(a);if(-1==s&&-1==c&&(a==r?(this.ln(a,this.Jl),c=l=this.Jl):(-1==l&&(this.ln(a,this.Jl),l=this.Jl),this.ln(r,a),c=a)),-1!=s){var u=this.$e(s);-1==l&&(0>=this.Mp(u)?(l=this.Hn(u),this.ln(a,l)):(this.ln(a,u),l=u),a==r&&(c=l))}-1==c&&this.WX(r,a),0==i?this.$V(t,e,n,s,r,a):5==i?this.aW(t,e,n,o,r,a):4==i&&this.ZV(n,s,r,a)}},e.prototype.$V=function(t,e,i,n,r,s){var o=this.hk(r);if(-1!=n){var a=this.hk(s),c=this.hk(this.$e(n));n=o&a&c,c^=c&this.eh(i),0!=(c|=n)&&(this.Wg(s,a|c),this.Wg(r,c|o),o=o||c)}for(e=t.lb(e);-1!=e&&(n=t.ka(e),i=this.$e(this.ya(n)),r=this.hk(i),s=this.eh(n),a=this.$e(n),n=r&(c=this.hk(a))&o,o^=o&s,0!=(o|=n));e=t.lb(e))this.Wg(i,r|o),this.Wg(a,c|o)},e.prototype.aW=function(e,i,n,r,s,o){if(s!=o){n=this.Bb(n,this.dg),n+=this.Bb(r,this.dg),r=0;var a=new t.ja(0),c=new t.ja(0);c.add(0);for(var l=e.sc(-1);l!=i;l=e.lb(l)){var u=e.ka(l),h=this.ya(u),d=this.$e(u),p=this.$e(h);if(d!=p){if(u=this.Bb(u,this.dg),r+=u+=this.Bb(h,this.dg),h=!1,0!=a.size&&a.Gc()==p&&(c.Jf(),a.Jf(),h=!0),-1==this.Hn(p))throw t.i.Ra();h&&this.Hn(p)==d||(c.add(r),a.add(d))}}r+=n,0!=a.size&&a.Gc()==o&&(c.Jf(),a.Jf()),0!=r?0==c.Gc()&&(e=this.g.ld,e=this.Ma(e),this.Wg(s,e)):0!=c.Gc()&&(e=this.g.ld,e=this.Ma(e),this.Wg(s,e))}},e.prototype.ZV=function(t,e,i,n){var r=this.Ma(this.g.ld);if(-1==e)this.Wg(n,this.Ho),0!=(1&(t=this.Bb(t,this.xg)))?this.Wg(i,r):this.Wg(i,this.Ho);else{var s=this.hk(n);0==s?(s=this.hk(this.$e(e)),this.Wg(n,s),0!=(1&(t=this.Bb(t,this.xg)))?this.Wg(i,s==r?this.Ho:r):this.Wg(i,s)):0!=(1&(t=this.Bb(t,this.xg)))?this.Wg(i,s==r?this.Ho:r):this.Wg(i,s)}},e.prototype.VX=function(t,e,i,n){var r=n,s=-1,o=-1,a=0;do{if(2==a)return!1;var c=this.Bb(r,e);if(-1!=c){if(-1!=s)return!1;s=c}else{if(-1!=o)return!1;o=r}a++,r=this.kc(this.ya(r))}while(n!=r);return-1!=o&&-1!=s&&(this.Kb(t.ka(s),e,-2),t.Tj(s,o),i.add(s),!0)},e.prototype.WX=function(t,e){var i=this.Mp(t);if(0!=i){var n=this.Mp(e);(0<i&&0>n||0>i&&0<n||-1!=(e=this.Hn(e)))&&this.ln(t,e)}},e.prototype.nP=function(e,i){this.Eq=this.g.Hd();for(var n=0,r=i.size;n<r;n++){var s=i.get(n),o=this.g.Qa(s,this.Em),a=this.g.Rf(this.g.cd(s)),c=this.g.jc(a);if(t.ba.Ic(c)){var l=this.g.V(s);if(-1!=l){var u=this.g.Qa(l,this.Em);if(o!=u){var h=this.lU(),d=this.ya(h),p=this.kh.De();this.kh.T(p,0,s),this.kh.T(p,1,-1),this.Gt(h,p),this.AJ(h,o),-1==(p=this.Je(o))?(this.on(o,h),this.Vl(h,d),this.Ul(d,h)):(o=this.ue(p),this.Vl(p,d),this.Ul(d,p),this.Ul(o,h),this.Vl(h,o)),this.AJ(d,u),-1==(o=this.Je(u))?(this.on(u,d),this.Ul(h,d),this.Vl(d,h)):(u=this.ue(o),this.Vl(o,h),this.Ul(h,o),this.Ul(u,d),this.Vl(d,u)),a=this.Ma(a),0==e?(this.Kb(d,this.be,0),this.Kb(h,this.be,1736==c?a:0)):5==e?(u=new t.h,this.g.D(s,u),s=new t.h,this.g.D(l,s),o=l=0,0>u.compare(s)?l=1:o=-1,this.Kb(d,this.be,0),this.Kb(h,this.be,0),this.Kb(h,this.dg,l),this.Kb(d,this.dg,o)):7==e?(this.Kb(d,this.be,this.Ho),this.Kb(h,this.be,1736==c?a:0)):4==e&&(this.Kb(d,this.be,0),this.Kb(h,this.be,0),this.Kb(h,this.xg,1),this.Kb(d,this.xg,1)),c=1736==c?this.TN:0,this.bx(h,a|c),this.bx(d,a|c)}}}}},e.prototype.LT=function(t,e){var i=this.om(e);if(-1!=i){var n=this.om(t);this.kh.T(i,1,n),this.Gt(t,i),this.Gt(e,-1)}t=this.ya(t),e=this.ya(e),-1!=(i=this.om(e))&&(n=this.om(t),this.kh.T(i,1,n),this.Gt(t,i),this.Gt(e,-1))},e.prototype.wX=function(e){function i(t,e){return r.zO(t,e)}var n=new t.ja(0);n.Jb(10);for(var r=this,s=this.Oe;-1!=s;s=this.Sf(s)){n.clear(!1);var o=this.Je(s);if(-1!=o){var a=o;do{n.add(a),a=this.kc(this.ya(a))}while(a!=o);if(1<n.size){if(a=!0,2<n.size)n.Wd(0,n.size,i),n.add(n.get(0));else if(0<this.yO(n.get(0),n.get(1))){var c=n.get(0);n.set(0,n.get(1)),n.set(1,c)}else a=!1;for(var l=c=n.get(0),u=this.vf(l),h=this.ya(l),d=-1,p=1,f=n.size;p<f;p++){var b=n.get(p),y=this.ya(b),m=this.jk(y);if(m==u&&b!=l){if(0==e)d=this.DF(l)|this.DF(b),this.bx(l,d),this.bx(h,d),this.Kb(l,this.be,this.Bb(l,this.be)|this.Bb(b,this.be)),this.Kb(h,this.be,this.Bb(h,this.be)|this.Bb(y,this.be));else if(-1!=this.dg)d=this.Bb(l,this.dg)+this.Bb(b,this.dg),y=this.Bb(h,this.dg)+this.Bb(y,this.dg),this.Kb(l,this.dg,d),this.Kb(h,this.dg,y);else{if(7==e)return void(this.Oi=new t.Nd(5,s,-1));-1!=this.xg&&(d=this.Bb(l,this.xg)+this.Bb(b,this.xg),y=this.Bb(h,this.xg)+this.Bb(y,this.xg),this.Kb(l,this.xg,d),this.Kb(h,this.xg,y))}this.LT(l,b),this.Fy(b),d=l,n.set(p,-1),b==c&&(n.set(0,-1),c=-1)}else this.wx(d,!1),d=-1,l=b,u=m,h=y}if(this.wx(d,!1),d=-1,a){for(c=-1,p=0,f=n.size;p<f;p++)if(-1!=(b=n.get(p)))if(-1==c)l=c=b,u=this.vf(l),h=this.ya(l);else if(b!=l&&(y=this.ya(b),m=this.jk(y),this.Ul(h,b),this.Vl(b,h),l=b,u=m,h=y,7==e&&(this.Bb(b,this.be)|this.Bb(this.ue(b),this.be))==(1|this.Ho)))return void(this.Oi=new t.Nd(5,s,-1));this.on(s,c)}else{for(c=-1,p=0,f=n.size;p<f;p++)if(-1!=(b=n.get(p))){c=b;break}o!=c&&this.on(s,c)}}}}},e.prototype.ON=function(){for(var e=-1,i=this.ah(),n=this.Oe;-1!=n;n=this.Sf(n)){var r=this.Je(n);if(-1!=r){var s=r;do{if(1!=this.Bb(s,i)){var o=this.eI();this.Dt(o,s),this.tJ(o,e),-1!=e&&this.vJ(e,o),e=o;var a=0,c=s;do{a|=this.Bb(c,this.be),this.NW(c,o),this.Kb(c,i,1),c=this.kc(c)}while(c!=s);this.Wg(o,a)}s=this.kc(this.ya(s))}while(s!=r)}}o=this.eI(),this.Dt(o,-1),this.tJ(o,e),-1!=e&&this.vJ(e,o),this.Jl=o,this.Zn=t.ce.rf(this.ze.size,NaN),this.fA=t.ce.rf(this.ze.size,NaN),this.sJ(this.Jl,1/0),this.uJ(this.Jl,1/0),this.Lg(i)},e.prototype.jR=function(t,e,i){if(-1==(e=-1!=e?e:this.Je(t)))return-1;for(t=e;;){if(1!=this.Bb(e,i))return e;if((e=this.kc(this.ya(e)))==t)return-1}},e.prototype.oW=function(){for(var t=this.ah(),e=this.Oe;-1!=e;e=this.Sf(e))for(var i=-1;;){var n=this.jR(e,i,t);if(-1==n)break;i=this.kc(this.ya(n));for(var r=n;;){var s=this.kc(r),o=this.ue(r),a=this.ya(r);if(o==a){if(this.AP(r),i!=r&&i!=a||(i=-1),r==n||o==n){if(r==(n=s)||o==n)break;r=s;continue}}else this.Kb(r,t,1);if((r=s)==n)break}}this.Lg(t)},e.prototype.GB=function(e,i,n,r,s){this.Vg(),this.ZG=s,this.g=e,this.Dq=this.g.TE(),(e=new t.ja(0)).Jb(null!=n?this.g.I(n.get(0)):this.g.gd);var o=0,a=1,c=null!=n?n.get(0):this.g.ld;for(s=1;-1!=c;){this.g.zJ(c,this.Dq,a),a<<=1;for(var l=this.g.Ob(c);-1!=l;l=this.g.Sb(l))for(var u=this.g.Ya(l),h=0,d=this.g.Ka(l);h<d;h++)e.add(u),u=this.g.V(u);t.ba.Sn(this.g.jc(c))||(o+=this.g.ea(c)),null!=n?(c=s<n.size?n.get(s):-1,s++):c=this.g.ve(c)}for(this.Ho=a,this.xa=e.size,this.g.mx(e,this.xa),null==this.kh&&(this.kh=new t.ad(2),this.ge=new t.ad(8),this.Lc=new t.ad(8),this.ze=new t.ad(8)),this.kh.Ee(this.xa),t.np.Bp(r),this.ge.Ee(this.xa+10),this.Lc.Ee(2*this.xa+32),this.ze.Ee(Math.max(32,o)),this.Em=this.g.Hd(),n=new t.h,s=0,o=new t.h,n.Sc(),a=0;a<=this.xa;a++)if(a<this.xa?(u=e.get(a),this.g.D(u,o)):o.Sc(),!n.rb(o)){if(s<a){for(u=this.$m(),d=h=-1;s<a;s++)d=e.get(s),this.g.Sa(d,this.Em,u),c=this.kh.De(),this.kh.T(c,0,d),this.kh.T(c,1,h),h=c,l=this.g.cd(d),c=this.g.Rf(l),c=this.Ma(c),this.GW(u,this.yd(u)|c);this.HW(u,h),this.er(u,this.g.Va(d)),-1!=this.Ps&&this.WW(this.Ps,u),this.ZW(u,this.Ps),this.Ps=u,-1==this.Oe&&(this.Oe=u)}s=a,n.N(o)}t.np.Bp(r),this.be=this.ah(),5==i&&(this.dg=this.ah()),4==i&&(this.xg=this.ah()),this.nP(i,e),0==this.Oi.Kj&&(this.wX(i),0==this.Oi.Kj&&(isNaN(this.gA)||this.pO()?(this.ON(),0==this.Oi.Kj&&(this.Lg(this.be),this.be=-1,this.ZG&&this.FU(i,r))):this.jA=!0))},e.prototype.Fy=function(t){var e=this.kc(t),i=this.ue(t),n=this.ya(t),r=this.kc(n),s=this.ue(n);e!=n&&(this.Ul(s,e),this.Vl(e,s)),i!=n&&(this.Ul(i,r),this.Vl(r,i)),i=this.jk(t),this.Je(i)==t&&(r!=t?this.on(i,r):this.on(i,-1)),r=this.jk(n),this.Je(r)==n&&(e!=n?this.on(r,e):this.on(r,-1)),this.Lc.kd(t),this.Lc.kd(n)},e.prototype.GF=function(t,e){for(;;){if(-1==(e=t.xe(e)))return-1;var i=t.ka(e);if(this.$e(i)!=this.$e(this.ya(i)))return i}},e.prototype.fr=function(t,e){var i;void 0===i&&(i=!0),this.GB(t,0,null,e,i)},e.prototype.nJ=function(e,i,n){var r=new t.ja(0);r.add(i),this.GB(e,4,r,n,1736==e.jc(i))},e.prototype.oJ=function(e,i,n){var r=new t.ja(0);r.add(i),this.GB(e,5,r,n,!0)},e.prototype.Vg=function(){null!=this.g&&(-1!=this.Dq&&(this.g.nW(this.Dq),this.Dq=-1),-1!=this.Em&&(this.g.Ud(this.Em),this.Em=-1),-1!=this.Eq&&(this.g.Ud(this.Eq),this.Eq=-1),-1!=this.be&&(this.Lg(this.be),this.be=-1),-1!=this.dg&&(this.Lg(this.dg),this.dg=-1),-1!=this.xg&&(this.Lg(this.xg),this.xg=-1),this.g=null,this.ge.nj(!0),this.kh.nj(!0),this.Ps=this.Oe=-1,null!=this.Lc&&this.Lc.nj(!0),null!=this.Hi&&(this.Hi.length=0),null!=this.Ei&&(this.Ei.length=0),null!=this.$G&&(this.$G.length=0),null!=this.ze&&this.ze.nj(!0),this.Jl=-1,this.Zn=null)},e.prototype.Je=function(t){return this.ge.U(t,2)},e.prototype.D=function(t,e){this.g.WF(this.XQ(t),e)},e.prototype.yd=function(t){return this.ge.U(t,1)},e.prototype.Sf=function(t){return this.ge.U(t,4)},e.prototype.Yy=function(t){return this.ge.U(t,6)},e.prototype.mm=function(t){return this.ge.U(t,7)},e.prototype.ks=function(t){return this.kh.U(t,1)},e.prototype.uj=function(t){return this.kh.U(t,0)},e.prototype.ng=function(t,e){return(e=this.Ei[e]).size<=t?-1:e.read(t)},e.prototype.pn=function(t,e,i){(e=this.Ei[e]).size<=t&&e.resize(this.ge.size,-1),e.write(t,i)},e.prototype.Fp=function(){null==this.Ei&&(this.Ei=[]);for(var e=t.ja.rf(this.ge.Jg,-1),i=0,n=this.Ei.length;i<n;i++)if(null==this.Ei[i])return this.Ei[i]=e,i;return this.Ei.push(e),this.Ei.length-1},e.prototype.Gp=function(t){this.Ei[t]=null},e.prototype.jk=function(t){return this.Lc.U(t,1)},e.prototype.vf=function(t){return this.jk(this.ya(t))},e.prototype.ya=function(t){return this.Lc.U(t,4)},e.prototype.ue=function(t){return this.Lc.U(t,5)},e.prototype.kc=function(t){return this.Lc.U(t,6)},e.prototype.$e=function(t){return this.Lc.U(t,2)},e.prototype.af=function(t){return this.hk(this.Lc.U(t,2))},e.prototype.om=function(t){return this.Lc.U(t,7)},e.prototype.Zr=function(t,e){this.D(this.jk(t),e)},e.prototype.nm=function(t,e){this.D(this.vf(t),e)},e.prototype.eh=function(t){return this.Lc.U(t,3)&this.UN},e.prototype.Bb=function(t,e){return(e=this.Hi[e]).size<=t?-1:e.read(t)},e.prototype.Kb=function(t,e,i){(e=this.Hi[e]).size<=t&&e.resize(this.Lc.size,-1),e.write(t,i)},e.prototype.ah=function(){null==this.Hi&&(this.Hi=[]);for(var e=t.ja.rf(this.Lc.Jg,-1),i=0,n=this.Hi.length;i<n;i++)if(null==this.Hi[i])return this.Hi[i]=e,i;return this.Hi.push(e),this.Hi.length-1},e.prototype.Lg=function(t){this.Hi[t]=null},e.prototype.AP=function(t){var e=this.$e(t),i=this.ya(t),n=this.kc(t);n==i&&(n=this.kc(n))==t&&(n=-1);var r=this.sF(e);r!==t&&r!=i||this.Dt(e,n),i=this.Zn.read(e),isNaN(i)||(this.sJ(e,NaN),this.uJ(e,NaN)),this.wx(t,!0),this.Fy(t)},e.prototype.BP=function(t){for(var e=0,i=t.size;e<i;e++){var n=t.get(e),r=this.$e(this.ya(n));this.Dt(this.$e(n),-1),this.Dt(r,-1),this.wx(n,!0),this.Fy(n)}},e.prototype.sF=function(t){return this.ze.U(t,1)},e.prototype.hk=function(t){return this.ze.U(t,2)},e.prototype.Hn=function(t){return this.ze.U(t,3)},e.prototype.WQ=function(t){return this.ze.U(t,4)},e.prototype.Mp=function(t){var e=this.Zn.read(t);return isNaN(e)&&(this.ZX(t),e=this.Zn.read(t)),e},e.prototype.Ma=function(t){return this.g.CF(t,this.Dq)},e.prototype.Ie=function(t){return this.g.Qa(t,this.Em)},e.prototype.lR=function(t){return this.g.Qa(t,this.Eq)},e.prototype.kR=function(t,e){var i=this.Je(t);if(-1==i)return-1;var n=i,r=-1,s=-1;do{if(this.vf(n)==e)return n;if(-1==r){if(-1==(r=this.Je(e)))break;s=r}if(this.vf(s)==t)return this.ya(s);n=this.kc(this.ya(n)),s=this.kc(this.ya(s))}while(n!=i&&s!=r);return-1},e.prototype.jB=function(e,i){i.Pr(),i=i.get();var n=new t.h;this.Zr(e,n),i.Ec(n),this.nm(e,n),i.Rc(n)},e.prototype.zO=function(e,i){if(e==i)return 0;var n=new t.h;this.nm(e,n);var r=new t.h;return this.nm(i,r),n.rb(r)?0:(i=new t.h,this.Zr(e,i),(e=new t.h).vc(n,i),(n=new t.h).vc(r,i),t.h.ou(e,n))},e.prototype.yO=function(e,i){if(e==i)return 0;var n=new t.h;this.nm(e,n);var r=new t.h;return this.nm(i,r),n.rb(r)?0:(i=new t.h,this.Zr(e,i),(e=new t.h).vc(n,i),(n=new t.h).vc(r,i),0<=n.y&&0<e.y?t.h.ou(e,n):0)},e.prototype.pO=function(){for(var e=t.mc.nx(this.gA),i=new t.h,n=new t.h,r=new t.h,s=new t.h,o=new t.h,a=this.Oe;-1!=a;a=this.Sf(a)){var c=this.Je(a);if(-1!=c){var l=c;this.Zr(l,i),this.nm(l,n),o.vc(n,i);var u=o.Sk();do{var h=l;if((l=this.kc(this.ya(l)))!=h){this.nm(l,r),s.vc(r,i),h=s.Sk();var d=s.xi(o);if(d*d/(h*u)*Math.min(h,u)<=e)return!1;o.N(s),u=h,n.N(r)}}while(l!=c)}}return!0},e}(),t.ju=e}(W||(W={})),function(t){var e=function(){function e(){this.j=null,this.gH=new t.h,this.hH=new t.h,this.Hj=null,this.Nv=!1,this.vl=-1}return e.prototype.cf=function(t){return t<this.Hj.length&&this.Hj[t]},e.prototype.el=function(e,i,n,r){var s=t.ba.uf(this.j.g.jc(n));if(2!=t.ba.uf(this.j.g.jc(i))||1!=s)throw t.i.Ra();this.xP(e,i,n,r)},e.prototype.fr=function(e,i){null==this.j&&(this.j=new t.ju),this.j.fr(e,i)},e.prototype.Ft=function(e,i,n){for(t.Tk.W(e,i,n,!0),i=e.ld;-1!=i;i=e.ve(i))1736==e.jc(i)&&t.tn.W(e,i,-1,this.Nv,n);this.fr(e,n)},e.prototype.EE=function(t,e,i,n,r){var s=this.j.g;if(1736==s.jc(t))for(t=s.Ob(t);-1!=t;t=s.Sb(t)){var o=s.Ya(t);this.j.Ie(o),this.j.Ie(s.V(o));var a=this.j.lR(o);if(-1!=a){var c=this.j.Bb(a,i);if(1!=c&&2!=c)if(this.cf(this.j.af(a))){this.j.Kb(a,i,1),c=s.wf(e,-1);var l=a,u=this.j.Ie(o),h=1;do{var d=this.um(o,r);s.jj(c,d),-1!=n&&this.j.pn(u,n,1),this.j.Kb(l,i,1),l=this.j.kc(l);do{var p=-1!=(d=1==h?s.V(o):s.Na(o))?this.j.Ie(d):-1}while(p==u);var f=this.j.jk(l);if(f!=p){do{p=-1!=(d=1==h?s.Na(o):s.V(o))?this.j.Ie(d):-1}while(p==u);f!=p?(p=f,d=this.j.uj(this.j.mm(p))):h=-h}u=p,o=d}while(l!=a);s.mn(c,!0)}else this.j.Kb(a,i,2)}}},e.prototype.XE=function(){for(var e=this.j.ah(),i=new t.ja(0),n=this.j.Oe;-1!=n;n=this.j.Sf(n)){var r=this.j.Je(n),s=r;if(-1!=r)do{if(1!=this.j.Bb(s,e)){var o=this.j.ya(s);this.j.Kb(o,e,1),this.j.Kb(s,e,1),this.cf(this.j.af(s))&&this.cf(this.j.af(o))&&i.add(s)}s=this.j.kc(this.j.ya(s))}while(s!=r)}this.j.Lg(e),this.j.BP(i)},e.prototype.um=function(t,e){return-1==e?t:this.SR(t,e)},e.prototype.SR=function(t,e){var i=this.j.g,n=this.j.mm(this.j.Ie(t));do{var r=this.j.uj(n);if(i.Rf(i.cd(r))==e)return r;n=this.j.ks(n)}while(-1!=n);return t},e.prototype.Pt=function(e,i,n){this.XE();var r=this.j.g,s=r.Kg(1736),o=this.j.ah();return this.mK(e,i,s,n,o,-1),this.j.Lg(o),t.tn.W(r,s,1,this.Nv,null),s},e.prototype.mK=function(t,e,i,n,r,s){for(this.EE(t,i,r,s,n),-1!=e&&this.EE(e,i,r,s,n),t=this.j.g,e=this.j.Oe;-1!=e;e=this.j.Sf(e)){var o=this.j.Je(e);if(-1!=o){var a=o;do{var c=this.j.Bb(a,r);if(1!=c&&2!=c)if(this.cf(this.j.af(a))){c=t.wf(i,-1);var l=a;do{var u=this.j.om(l);-1!=u?u=this.j.uj(u):(u=this.j.uj(this.j.om(this.j.ya(l))),u=this.j.g.V(u)),u=this.um(u,n),t.jj(c,u),this.j.Kb(l,r,1),-1!=s&&(u=this.j.Ie(u),this.j.pn(u,s,1)),l=this.j.kc(l)}while(l!=a);t.mn(c,!0)}else this.j.Kb(a,r,2);a=this.j.kc(this.j.ya(a))}while(a!=o)}}},e.prototype.PX=function(e,i,n){var r=this.j.g,s=r.Kg(1736),o=r.Kg(1607),a=r.Kg(550);this.XE();var c=-1,l=this.j.ah(),u=this.j.Fp();for(this.mK(e,i,s,n,l,u),e=this.j.Oe;-1!=e;e=this.j.Sf(e))if(-1!=(i=this.j.Je(e))){var h=i;do{var d=this.j.Bb(h,l),p=this.j.Bb(this.j.ya(h),l);if(2==(d|=p))if(d=this.j.eh(h),this.cf(d)){var f=r.wf(o,-1),b=h;d=this.Zw(e,r),d=this.um(d,n),r.jj(f,d),this.j.pn(e,u,1);do{if(d=this.j.vf(b),p=this.Zw(d,r),p=this.um(p,n),r.jj(f,p),this.j.Kb(b,l,1),this.j.Kb(this.j.ya(b),l,1),this.j.pn(d,u,1),b=this.j.kc(b),d=this.j.Bb(b,l),2!=(d|=p=this.j.Bb(this.j.ya(b),l)))break;if(d=this.j.eh(b),!this.cf(d)){this.j.Kb(b,l,1),this.j.Kb(this.j.ya(b),l,1);break}}while(b!=h)}else this.j.Kb(h,l,1),this.j.Kb(this.j.ya(h),l,1);h=this.j.kc(this.j.ya(h))}while(h!=i)}for(e=this.j.Oe;-1!=e;e=this.j.Sf(e))1!=(d=this.j.ng(e,u))&&(d=this.j.yd(e),this.cf(d)&&(-1==c&&(c=r.wf(a,-1)),-1!=(i=this.j.mm(e))&&(i=this.j.uj(i),d=this.um(i,n),r.jj(c,d))));return this.j.Gp(u),this.j.Lg(l),t.tn.W(r,s,1,this.Nv,null),(n=[])[0]=a,n[1]=o,n[2]=s,n},e.prototype.Zw=function(t,e){var i=-1;for(t=this.j.mm(t);-1!=t;t=this.j.ks(t)){var n=this.j.uj(t);-1==i&&(i=n);var r=this.j.Ma(e.Rf(e.cd(n)));if(this.cf(r)){i=n;break}}return i},e.prototype.fB=function(e,i){for(var n=this.ll(i),r=this.j.jk(i),s=this.j.vf(i),o=0,a=0,c=this.j.mm(r);-1!=c;c=this.j.ks(c)){var l=this.j.uj(c),u=e.cd(l),h=this.j.Ma(e.Rf(u));u=e.Ya(u),(h=0!=(h&n))&&u==l&&(this.vl=i);var d=e.V(l);-1!=d&&this.j.Ie(d)==s?(o++,h&&(-1===this.vl&&u==d&&(l=this.j.kc(i),this.cf(this.ll(l))&&(this.vl=l)),a++)):-1!=(l=e.Na(l))&&this.j.Ie(l)==s&&(o--,h&&(-1===this.vl&&u===l&&(l=this.j.kc(i),this.cf(this.ll(l))&&(this.vl=l)),a--))}return this.j.D(r,this.gH),this.j.D(s,this.hH),(0!=a?a:o)*t.h.ub(this.gH,this.hH)},e.prototype.ll=function(t){return this.j.eh(t)|this.j.af(t)|this.j.af(this.j.ya(t))},e.prototype.pK=function(t){for(var e=this.j.ya(this.j.ue(t)),i=-1;e!=t;){if(this.cf(this.ll(e))){if(-1!=i)return-1;i=e}e=this.j.ya(this.j.ue(e))}return-1!=i?this.j.ya(i):-1},e.prototype.qK=function(t){for(var e=this.j.ya(this.j.kc(t)),i=-1;e!=t;){if(this.cf(this.ll(e))){if(-1!=i)return-1;i=e}e=this.j.ya(this.j.kc(e))}return-1!=i?this.j.ya(i):-1},e.prototype.eJ=function(e,i,n,r,s){var o=this.j.g,a=e,c=this.j.ya(a);this.j.Kb(a,n,1),this.j.Kb(c,n,1),this.vl=-1;for(var l=this.fB(o,a),u=a,h=-1,d=!1,p=1;;){var f=this.j.ue(a);if(f==c)break;if(c=this.j.kc(c),this.j.ya(f)!=c){if(-1==(a=this.pK(a))){d=!0;break}c=this.j.ya(a)}else a=f;if(a==e){h=e;break}if(f=this.ll(a),!this.cf(f))break;this.j.Kb(a,n,1),this.j.Kb(c,n,1),u=a,l+=this.fB(o,a),p++}if(-1==h)for(a=e,c=this.j.ya(a),h=a;(e=this.j.kc(a))!=c;){if(c=this.j.ue(c),this.j.ya(e)!=c){if(-1==(a=this.qK(a))){d=!0;break}c=this.j.ya(a)}else a=e;if(f=this.ll(a),!this.cf(f))break;this.j.Kb(a,n,1),this.j.Kb(c,n,1),h=a,l+=this.fB(o,a),p++}else if(-1!=this.vl&&(u=this.vl,h=this.j.ue(this.vl),this.j.ya(h)!=this.j.kc(this.j.ya(u))&&-1==(h=this.pK(u))))throw t.i.Ra();for(0<=l||(a=h,h=this.j.ya(u),u=this.j.ya(a)),n=o.wf(i,-1),a=u,u=this.j.jk(u),d=this.j.vf(h)==u&&d,l=this.Zw(u,o),l=this.um(l,s),o.jj(n,l),-1!=r&&this.j.pn(u,r,1),u=0,p=d?t.P.truncate((p+1)/2):-1;e=this.j.vf(a),l=this.Zw(e,o),l=this.um(l,s),o.jj(n,l),u++,-1!=r&&this.j.pn(e,r,1),d&&u==p&&(n=o.wf(i,-1),o.jj(n,l)),a!=h;)if(e=this.j.kc(a),this.j.ue(this.j.ya(a))!=this.j.ya(e)){if(-1==(a=this.qK(a)))throw t.i.Ra()}else a=e},e.prototype.Qt=function(t){for(var e=this.j.g.Kg(1607),i=this.j.ah(),n=this.j.Oe;-1!=n;n=this.j.Sf(n)){var r=this.j.Je(n),s=r;do{1!=this.j.Bb(s,i)&&this.cf(this.ll(s))&&this.eJ(s,e,i,-1,t),s=this.j.kc(this.j.ya(s))}while(s!=r)}return this.j.Lg(i),e},e.prototype.QX=function(t){for(var e=this.j.g,i=e.Kg(1607),n=e.Kg(550),r=this.j.ah(),s=this.j.Fp(),o=-1,a=this.j.Oe;-1!=a;a=this.j.Sf(a)){var c=this.j.Je(a),l=c;do{var u=this.j.Bb(l,r);1!=u&&(u=this.ll(l),this.cf(u)&&this.eJ(l,i,r,s,t)),l=this.j.kc(this.j.ya(l))}while(l!=c)}for(a=this.j.Oe;-1!=a;a=this.j.Sf(a))1!=(u=this.j.ng(a,s))&&(u=this.j.yd(a),this.cf(u)&&(-1==o&&(o=e.wf(n,-1)),-1!=(c=this.j.mm(a))&&(c=this.j.uj(c),c=this.um(c,t),e.jj(o,c))));return this.j.Lg(r),this.j.Gp(s),(t=[])[0]=n,t[1]=i,t},e.prototype.pr=function(){for(var t=this.j.g,e=t.Kg(550),i=t.wf(e,-1),n=this.j.Oe;-1!=n;n=this.j.Sf(n))if(this.cf(this.j.yd(n))){for(var r=-1,s=this.j.mm(n);-1!=s;s=this.j.ks(s)){var o=this.j.uj(s);-1==r&&(r=o);var a=this.j.Ma(t.Rf(t.cd(o)));if(this.cf(a)){r=o;break}}t.jj(i,r)}return e},e.prototype.eq=function(t){this.Hj=[];for(var e=0;e<t;e++)this.Hj[e]=!1},e.RV=function(e,i,n){var r=e.Ja(),s=Array(1e3);t.P.av(s,null);var o=t.P.lg(1e3,0),a=e.I(),c=!0,l=2==i.Eb();if(1!=i.Eb()&&2!=i.Eb())throw t.i.Ra();for(var u=0;u<a;){var h=t.P.truncate(e.bW(s,u)-u);l?t.jd.kK(i,s,h,n,o):t.jd.lK(i,s,h,n,o);for(var d=0,p=0;p<h;p++)0==o[p]&&(c&&(c=!1,r.Gd(e,0,u)),d!=p&&r.Gd(e,u+d,u+p),d=p+1);c||d==h||r.Gd(e,u+d,u+h),u+=h}return c?e:r},e.rG=function(i,n,r){return i instanceof t.de?e.RV(i,n,r):n instanceof t.Ta?i.B()||n.B()?i.Ja():t.Tk.pU(r,i,n)?t.Tk.uO(i,n):i.Ja():e.SV(i,n,r)},e.Bv=function(i,n,r,s){var o=new t.l;i.A(o);var a=new t.l;n.A(a);var c=new t.l;if(c.L(o),c.$b(a),r=t.ta.Xd(r,c,!0),(c=new t.l).L(a),a=t.ta.Gr(r),c.X(a,a),!o.isIntersecting(c)){if(i.Eb()<=n.Eb())return e.li(e.Ue(i.Ja()),i,"&");if(i.Eb()>n.Eb())return e.li(e.Ue(n.Ja()),i,"&")}return a=new e,c=(o=new t.hd).Ib(e.Ue(i)),n=o.Ib(e.Ue(n)),a.Ft(o,r,s),s=a.Bv(c,n),i=e.li(o.Ke(s),i,"&"),t.ba.Ic(i.K())&&(i.Dh(2,r),1736==i.K()&&i.hm()),i},e.SV=function(e,i,n){if(e.B()||i.B())return e.Ja();var r=[null],s=[0],o=2==i.Eb();if(1!=i.Eb()&&2!=i.Eb())throw t.i.Ra();return r[0]=e.D(),o?t.jd.kK(i,r,1,n,s):t.jd.lK(i,r,1,n,s),0==s[0]?e.Ja():e},e.prototype.BU=function(e,i,n,r,s){if(e.B())return e;var o=new t.hd;return e=o.Ib(e),this.Mk(o,e,i,n,r,s)},e.prototype.DU=function(e,i,n,r,s,o){if(s&&550!=e.jc(i)){var a=new t.JC;a.HX(e,n),a.Og?(t.Tk.W(e,n,o,!0),s=!1):this.j.sy(n)}else t.Tk.W(e,n,o,!0),s=!1;if(r&&550!=e.jc(i)?this.j.oJ(e,i,o):this.j.nJ(e,i,o),this.j.jA)return this.j.Vg(),this.j=null,this.Mk(e,i,n,r,!1,o);if(this.j.sy(NaN),o=this.j.Ma(i),this.eq(o+1),this.Hj[o]=!0,1736==e.jc(i)||r&&550!=e.jc(i))return e.Zo(i,0),i=this.Pt(i,-1,-1),(e=e.Ke(i)).Zo(0),s?e.Dh(1,0):(e.Dh(2,n),e.hm()),e;if(1607==e.jc(i))return i=this.Qt(-1),e=e.Ke(i),s||e.Dh(2,n),e;if(550==e.jc(i))return i=this.pr(),e=e.Ke(i),s||e.Dh(2,n),e;throw t.i.Ra()},e.prototype.Mk=function(e,i,n,r,s,o){this.j=new t.ju;try{return this.DU(e,i,n,r,s,o)}finally{this.j.Vg()}},e.Mk=function(t,i,n,r,s){return(new e).BU(t,i,n,r,s)},e.prototype.CU=function(e,i,n,r){this.Nv=e,this.j=new t.ju,e=i.Jn(n);var s=i.jc(n);if(1!=e||550==s?this.j.nJ(i,n,r):this.j.oJ(i,n,r),!this.j.jA)if(this.j.sy(NaN),r=this.j.Ma(n),this.eq(r+1),this.Hj[r]=!0,1736==i.jc(n)||1==e&&550!=i.jc(n))i.Zo(n,0),r=this.Pt(n,-1,-1),i.aC(r,n),i.vB(r);else if(1607==i.jc(n))r=this.Qt(-1),i.aC(r,n),i.vB(r);else{if(550!=i.jc(n))throw t.i.ga("internal error");r=this.pr(),i.aC(r,n),i.vB(r)}},e.prototype.km=function(e,i){var n=t.ba.uf(this.j.g.jc(e)),r=t.ba.uf(this.j.g.jc(i));if(n>r)return e;var s=this.j.Ma(e),o=this.j.Ma(i);if(this.eq(1+(s|o)),this.Hj[this.j.Ma(e)]=!0,2==n&&2==r)return this.Pt(e,i,-1);if(1==n&&2==r||1==n&&1==r)return this.Qt(-1);if(0==n)return this.pr();throw t.i.Ra()},e.prototype.Bv=function(e,i){var n=t.ba.uf(this.j.g.jc(e)),r=t.ba.uf(this.j.g.jc(i)),s=this.j.Ma(e),o=this.j.Ma(i);if(this.eq(1+(s|o)),this.Hj[this.j.Ma(e)|this.j.Ma(i)]=!0,s=-1,1<this.j.g.ht.Ba&&(s=e),2==n&&2==r)return this.Pt(e,i,s);if(1==n&&0<r||1==r&&0<n)return this.Qt(s);if(0==n||0==r)return this.pr();throw t.i.Ra()},e.prototype.Kz=function(e,i){var n=t.ba.uf(this.j.g.jc(e)),r=t.ba.uf(this.j.g.jc(i)),s=this.j.Ma(e),o=this.j.Ma(i);if(this.eq(1+(s|o)),this.Hj[this.j.Ma(e)|this.j.Ma(i)]=!0,s=-1,1<this.j.g.ht.Ba&&(s=e),2==n&&2==r)return this.PX(e,i,s);if(1==n&&0<r||1==r&&0<n)return this.QX(s);if(0==n||0==r)return(e=[])[0]=this.pr(),e;throw t.i.Ra()},e.prototype.fp=function(e,i){var n=t.ba.uf(this.j.g.jc(e)),r=t.ba.uf(this.j.g.jc(i)),s=this.j.Ma(e),o=this.j.Ma(i);if(this.eq(1+(s|o)),this.Hj[this.j.Ma(e)]=!0,this.Hj[this.j.Ma(i)]=!0,2==n&&2==r)return this.Pt(e,i,-1);if(1==n&&1==r)return this.Qt(-1);if(0==n&&0==r)return this.pr();throw t.i.Ra()},e.Ue=function(e){var i=e.K();return 197==i?(i=new t.Ea(e.description),e.B()||i.bd(e,!1),i):33==i?(i=new t.de(e.description),e.B()||i.add(e),i):322==i?(i=new t.Ua(e.description),e.B()||i.oc(e,!0),i):e},e.li=function(e,i,n){var r=e.K();return 197==r?(i=new t.Ea(e.description),e.B()||i.bd(e,!1),i):33!=r||"|"!=n&&"^"!=n?322==r?(i=new t.Ua(e.description),e.B()||i.oc(e,!0),i):33==r&&"-"==n&&33==i.K()||550==r&&"&"==n&&33==i.K()?(i=new t.Ta(e.description),e.B()||e.we(0,i),i):e:(i=new t.de(e.description),e.B()||i.add(e),i)},e.km=function(i,n,r,s){if(i.B()||n.B()||i.Eb()>n.Eb())return e.li(e.Ue(i),i,"-");var o=new t.l;i.A(o);var a=new t.l;if(n.A(a),!o.isIntersecting(a))return e.li(e.Ue(i),i,"-");var c=new t.l;return c.L(o),c.$b(a),r=t.ta.Xd(r,c,!0),a=new e,c=(o=new t.hd).Ib(e.Ue(i)),n=o.Ib(e.Ue(n)),a.Ft(o,r,s),s=a.km(c,n),s=o.Ke(s),i=e.li(s,i,"-"),t.ba.Ic(i.K())&&(i.Dh(2,r),1736==i.K()&&i.hm()),i},e.NP=function(i,n,r){if(2>i.length)throw t.i.O("not enough geometries to dissolve");for(var s=0,o=0,a=i.length;o<a;o++)s=Math.max(i[o].Eb(),s);var c=new t.l;c.Pa();var l=new t.hd,u=-1,h=0,d=-1;for(o=0,a=i.length;o<a;o++)if(i[o].Eb()==s)if(i[o].B())-1==d&&(d=o);else{d=o,-1==u?u=l.Ib(e.Ue(i[o])):l.mN(u,e.Ue(i[o]));var p=new t.l;i[o].yc(p),c.$b(p),h++}return 2>h?e.Ue(i[d]):(i=2==s,n=t.ta.Xd(0==s?n:null,c,!0),(new e).Mk(l,u,n,i,!0,r))},e.Kz=function(i,n,r,s){var o=[null,null,null],a=new t.l;i.A(a);var c=new t.l;n.A(c);var l=new t.l;if(l.L(a),l.$b(c),r=t.ta.Xd(r,l,!0),(l=new t.l).L(c),c=t.ta.Gr(r),l.X(c,c),!a.isIntersecting(l)){if(i.Eb()<=n.Eb())return o[(i=e.li(e.Ue(i.Ja()),i,"&")).Eb()]=i,o;if(i.Eb()>n.Eb())return o[(i=e.li(e.Ue(n.Ja()),i,"&")).Eb()]=i,o}for(c=new e,l=(a=new t.hd).Ib(e.Ue(i)),n=a.Ib(e.Ue(n)),c.Ft(a,r,s),s=c.Kz(l,n),n=0;n<s.length;n++)c=e.li(a.Ke(s[n]),i,"&"),t.ba.Ic(c.K())&&(c.Dh(2,r),1736==c.K()&&c.hm()),o[c.Eb()]=c;return o},e.fp=function(i,n,r,s){if(i.Eb()>n.Eb())return e.li(e.Ue(i),i,"^");if(i.Eb()<n.Eb()||i.B())return e.li(e.Ue(n),i,"^");if(n.B())return e.li(e.Ue(i),i,"^");var o=new t.l;i.A(o);var a=new t.l;n.A(a);var c=new t.l;return c.L(o),c.$b(a),r=t.ta.Xd(r,c,!0),a=new e,c=(o=new t.hd).Ib(e.Ue(i)),n=o.Ib(e.Ue(n)),a.Ft(o,r,s),s=a.fp(c,n),i=e.li(o.Ke(s),i,"^"),t.ba.Ic(i.K())&&(i.Dh(2,r),1736==i.K()&&i.hm()),i},e.prototype.DQ=function(t,e){var i=this.j.g;t=i.wf(t,-1);for(var n=e.size,r=0;r<n;r++){var s=e.get(r);i.jj(t,s)}i.mn(t,!0)},e.prototype.OW=function(t,e){for(var i=this.j.g,n=i.ld;-1!=n;n=i.ve(n))if(n==e)for(var r=i.Ob(n);-1!=r;r=i.Sb(r)){var s=i.Ya(r);if(-1!=s)for(var o=i.V(s);-1!=o;){s=this.j.Ie(s);var a=this.j.Ie(o);-1!=(s=this.j.kR(s,a))&&(a=this.j.ya(s),this.j.Kb(s,t,1),this.j.Kb(a,t,2)),s=o,o=i.V(s)}}},e.prototype.TV=function(e,i,n,r){n=this.j.Ma(n),r=this.j.Ma(r);var s=new t.ja(0);s.Jb(256);for(var o=this.j.g,a=this.j.ah(),c=this.j.Oe;-1!=c;c=this.j.Sf(c)){var l=this.j.Je(c);if(-1!=l){var u=l;do{if(1!=this.j.Bb(u,a)){var h=u,d=u,p=!1,f=0;do{if(this.j.Kb(h,a,1),!p){var b=this.j.eh(h);0!=(b&r)&&0!=(this.j.af(h)&n)&&(d=h,p=!0)}p&&(s.add(this.j.uj(this.j.mm(this.j.jk(h)))),-1!=e&&0!=((b=this.j.eh(h))&r)&&(f|=b=this.j.Bb(h,e))),h=this.j.kc(h)}while(h!=d);p&&0<this.j.Mp(this.j.$e(d))&&(h=o.Kg(1736),this.DQ(h,s),-1!=i&&o.zJ(h,i,f)),s.clear(!1)}u=this.j.kc(this.j.ya(u))}while(u!=l)}}this.j.Lg(a)},e.prototype.xP=function(t,e,i,n){this.j.oW();var r=-1;-1!=t&&(r=this.j.ah(),this.OW(r,i)),this.TV(r,t,e,i),-1!=r&&(this.j.Lg(r),r=-1);var s=this.j.g;for(t=0,r=s.ld;-1!=r;r=s.ve(r))r!=e&&r!=i&&(n.add(r),t++);n.Wd(0,t,(function(t,e){return(t=s.qz(s.Ob(t)))<(e=s.qz(s.Ob(e)))?-1:t==e?0:1}))},e.prototype.Vg=function(){null!=this.j&&(this.j.Vg(),this.j=null)},e}();t.Hg=e}(W||(W={})),function(t){var e=function(){function e(t){void 0!==t?this.It(t):this.KB()}return e.prototype.kx=function(){this.Qb=this.Lb=this.qb=this.jb=this.bb=this.eb=0},e.prototype.Nb=function(t){return this==t||t instanceof e&&this.eb==t.eb&&this.jb==t.jb&&this.Lb==t.Lb&&this.qb==t.qb&&this.bb==t.bb&&this.Qb==t.Qb},e.prototype.dc=function(){return t.P.vj(),t.P.vj(),t.P.vj(),t.P.vj(),t.P.vj(),t.P.vj()},e.prototype.Fh=function(t,e){var i=this.qb*t.x+this.bb*t.y+this.Qb;e.x=this.eb*t.x+this.jb*t.y+this.Lb,e.y=i},e.prototype.TX=function(e,i,n){for(var r=0;r<i;r++){var s=e[r].x,o=e[r].y,a=this.eb*s+this.jb*o+this.Lb;s=this.qb*s+this.bb*o+this.Qb,null!=n[r]?n[r].na(a,s):n[r]=t.h.construct(a,s)}},e.prototype.multiply=function(t){e.multiply(this,t,this)},e.multiply=function(t,e,i){var n=t.eb*e.eb+t.qb*e.jb,r=t.jb*e.eb+t.bb*e.jb,s=t.Lb*e.eb+t.Qb*e.jb+e.Lb,o=t.eb*e.qb+t.qb*e.bb,a=t.jb*e.qb+t.bb*e.bb;t=t.Lb*e.qb+t.Qb*e.bb+e.Qb,i.eb=n,i.jb=r,i.Lb=s,i.qb=o,i.bb=a,i.Qb=t},e.prototype.Pf=function(){var t=new e;return t.eb=this.eb,t.jb=this.jb,t.Lb=this.Lb,t.qb=this.qb,t.bb=this.bb,t.Qb=this.Qb,t},e.prototype.fC=function(e){if(!e.B()){for(var i=[],n=0;4>n;n++)i[n]=new t.h;e.hB(i),this.UX(i,i),e.ax(i,4)}},e.prototype.UX=function(e,i){for(var n=0;n<e.length;n++){var r=new t.h,s=e[n];r.x=this.eb*s.x+this.jb*s.y+this.Lb,r.y=this.qb*s.x+this.bb*s.y+this.Qb,i[n]=r}},e.prototype.gS=function(t,e){t.B()||e.B()||0==t.S()||0==t.da()?this.kx():(this.jb=this.qb=0,this.eb=e.S()/t.S(),this.bb=e.da()/t.da(),this.Lb=e.v-t.v*this.eb,this.Qb=e.G-t.G*this.bb)},e.prototype.SX=function(e){var i=new t.h,n=new t.h;i.na(this.eb,this.qb),n.na(this.jb,this.bb),i.sub(i);var r=.5*i.Sk();return i.na(this.eb,this.qb),n.na(this.jb,this.bb),i.add(n),e*(r>(i=.5*i.Sk())?Math.sqrt(r):Math.sqrt(i))},e.prototype.KB=function(){this.eb=1,this.qb=this.Lb=this.jb=0,this.bb=1,this.Qb=0},e.prototype.isIdentity=function(e){if(void 0!==e){var i=t.h.construct(0,1);return this.Fh(i,i),i.sub(t.h.construct(0,1)),!(i.Sk()>e*e)&&(i.na(0,0),this.Fh(i,i),!(i.Sk()>e*e)&&(i.na(1,0),this.Fh(i,i),i.sub(t.h.construct(1,0)),i.Sk()<=e*e))}return 1==this.eb&&1==this.bb&&0==this.jb&&0==this.Lb&&0==this.qb&&0==this.Qb},e.prototype.Ci=function(t){return Math.abs(this.eb*this.bb-this.qb*this.jb)<=2*t*(Math.abs(this.eb*this.bb)+Math.abs(this.qb*this.jb))},e.prototype.gg=function(t,e){this.eb=1,this.jb=0,this.Lb=t,this.qb=0,this.bb=1,this.Qb=e},e.prototype.It=function(t,e){void 0!==e?(this.eb=t,this.qb=this.Lb=this.jb=0,this.bb=e,this.Qb=0):this.It(t,t)},e.prototype.TB=function(){this.eb=0,this.jb=1,this.Lb=0,this.qb=1,this.Qb=this.bb=0},e.prototype.cX=function(t){this.dX(Math.cos(t),Math.sin(t))},e.prototype.dX=function(t,e){this.eb=t,this.jb=-e,this.Lb=0,this.qb=e,this.bb=t,this.Qb=0},e.prototype.shift=function(t,e){this.Lb+=t,this.Qb+=e},e.prototype.scale=function(t,e){this.eb*=t,this.jb*=t,this.Lb*=t,this.qb*=e,this.bb*=e,this.Qb*=e},e.prototype.flipX=function(t,e){this.eb=-this.eb,this.jb=-this.jb,this.Lb=t+e-this.Lb},e.prototype.flipY=function(t,e){this.qb=-this.qb,this.bb=-this.bb,this.Qb=t+e-this.Qb},e.prototype.rotate=function(t){var i=new e;i.cX(t),this.multiply(i)},e.prototype.inverse=function(t){if(void 0!==t){var e=this.eb*this.bb-this.jb*this.qb;0==e?t.kx():(e=1/e,t.Lb=(this.jb*this.Qb-this.Lb*this.bb)*e,t.Qb=(this.Lb*this.qb-this.eb*this.Qb)*e,t.eb=this.bb*e,t.jb=-this.jb*e,t.qb=-this.qb*e,t.bb=this.eb*e)}else this.inverse(this)},e}();t.Ed=e}(W||(W={})),function(t){var e=function(){function e(){}return e.prototype.kx=function(){this.Cg=this.Qb=this.Lb=this.Ze=this.We=this.Ve=this.Ye=this.bb=this.jb=this.pf=this.qb=this.eb=0},e.prototype.It=function(t,e){this.eb=t,this.jb=this.pf=this.qb=0,this.bb=e,this.We=this.Ve=this.Ye=0,this.Ze=void 0,this.Cg=this.Qb=this.Lb=0},e.prototype.translate=function(t,e,i){this.Lb+=t,this.Qb+=e,this.Cg+=i},e.prototype.fC=function(e){if(!e.B()){for(var i=new t.Od[8],n=0;8>n;n++)i[n]=new t.Od;e.hB(i),this.transform(i,8,i),e.ax(i)}},e.prototype.transform=function(e,i,n){for(var r=0;r<i;r++){var s=new t.Od,o=e[r];s.x=this.eb*o.x+this.jb*o.y+this.Ve*o.z+this.Lb,s.y=this.qb*o.x+this.bb*o.y+this.We*o.z+this.Qb,s.z=this.pf*o.x+this.Ye*o.y+this.Ze*o.z+this.Cg,n[r]=s}},e.prototype.gp=function(e){var i=new t.Od;return i.x=this.eb*e.x+this.jb*e.y+this.Ve*e.z+this.Lb,i.y=this.qb*e.x+this.bb*e.y+this.We*e.z+this.Qb,i.z=this.pf*e.x+this.Ye*e.y+this.Ze*e.z+this.Cg,i},e.prototype.Ag=function(t){e.multiply(this,t,this)},e.multiply=function(t,e,i){var n=t.eb*e.eb+t.qb*e.jb+t.pf*e.Ve,r=t.eb*e.qb+t.qb*e.bb+t.pf*e.We,s=t.eb*e.pf+t.qb*e.Ye+t.pf*e.Ze,o=t.jb*e.eb+t.bb*e.jb+t.Ye*e.Ve,a=t.jb*e.qb+t.bb*e.bb+t.Ye*e.We,c=t.jb*e.pf+t.bb*e.Ye+t.Ye*e.Ze,l=t.Ve*e.eb+t.We*e.jb+t.Ze*e.Ve,u=t.Ve*e.qb+t.We*e.bb+t.Ze*e.We,h=t.Ve*e.pf+t.We*e.Ye+t.Ze*e.Ze,d=t.Lb*e.eb+t.Qb*e.jb+t.Cg*e.Ve+e.Lb,p=t.Lb*e.qb+t.Qb*e.bb+t.Cg*e.We+e.Qb;t=t.Lb*e.pf+t.Qb*e.Ye+t.Cg*e.Ze+e.Cg,i.eb=n,i.qb=r,i.pf=s,i.jb=o,i.bb=a,i.Ye=c,i.Ve=l,i.We=u,i.Ze=h,i.Lb=d,i.Qb=p,i.Cg=t},e.inverse=function(e,i){var n=e.eb*(e.bb*e.Ze-e.Ye*e.We)-e.qb*(e.jb*e.Ze-e.Ye*e.Ve)+e.pf*(e.jb*e.We-e.bb*e.Ve);if(0==n)throw t.i.ga("math singularity");var r=1/n;n=(e.bb*e.Ze-e.Ye*e.We)*r;var s=-(e.jb*e.Ze-e.Ye*e.Ve)*r,o=(e.jb*e.We-e.bb*e.Ve)*r,a=-(e.qb*e.Ze-e.We*e.pf)*r,c=(e.eb*e.Ze-e.pf*e.Ve)*r,l=-(e.eb*e.We-e.qb*e.Ve)*r,u=(e.qb*e.Ye-e.pf*e.bb)*r,h=-(e.eb*e.Ye-e.pf*e.jb)*r;r*=e.eb*e.bb-e.qb*e.jb;var d=-(e.Lb*n+e.Qb*s+e.Cg*o),p=-(e.Lb*a+e.Qb*c+e.Cg*l);e=-(e.Lb*u+e.Qb*h+e.Cg*r),i.eb=n,i.qb=a,i.pf=u,i.jb=s,i.bb=c,i.Ye=h,i.Ve=o,i.We=l,i.Ze=r,i.Lb=d,i.Qb=p,i.Cg=e},e.prototype.Pf=function(){var t=new e;return t.eb=this.eb,t.qb=this.qb,t.pf=this.pf,t.jb=this.jb,t.bb=this.bb,t.Ye=this.Ye,t.Ve=this.Ve,t.We=this.We,t.Ze=this.Ze,t.Lb=this.Lb,t.Qb=this.Qb,t.Cg=this.Cg,t},e}();t.yY=e}(W||(W={})),function(t){var e=function(e){function n(t){if(void 0!==t)t=e.call(this,t.dc(),t)||this;else{(t=e.call(this)||this).cg=[],t.cg[0]=0,t.Ba=1,t.vh=[];for(var i=0;10>i;i++)t.vh[i]=-1;t.vh[t.cg[0]]=0}return t.lq=!0,t}return Y(n,e),n.prototype.se=function(t){this.hasAttribute(t)||(this.vh[t]=0,this.bD())},n.prototype.removeAttribute=function(e){if(0==e)throw t.i.O("Position attribue cannot be removed");this.hasAttribute(e)&&(this.vh[e]=-1,this.bD())},n.prototype.reset=function(){this.cg[0]=0,this.Ba=1;for(var t=0;t<this.vh.length;t++)this.vh[t]=-1;this.vh[this.cg[0]]=0,this.lq=!0},n.prototype.wF=function(){return i.fz().add(this)},n.og=function(){return i.fz().RR()},n.prototype.lM=function(){var e=this.dc();return new t.ua(e,this)},n.prototype.bD=function(){for(var t=this.Ba=0,e=0;10>t;t++)0<=this.vh[t]&&(this.cg[e]=t,this.vh[t]=e,e++,this.Ba++);this.lq=!0},n.prototype.dc=function(){return this.lq&&(this.yl=this.Bn(),this.lq=!1),this.yl},n.prototype.Nb=function(t){if(null==t)return!1;if(t==this)return!0;if(!(t instanceof n)||t.Ba!=this.Ba)return!1;for(var e=0;e<this.Ba;e++)if(this.cg[e]!=t.cg[e])return!1;return this.lq==t.lq},n.prototype.yG=function(t){if(t.Ba!=this.Ba)return!1;for(var e=0;e<this.Ba;e++)if(this.cg[e]!=t.cg[e])return!1;return!0},n.Jw=function(t,e){for(var i=[],n=0;n<t.Ba;n++)i[n]=-1;n=0;for(var r=t.Ba;n<r;n++)i[n]=e.Qf(t.qd(n));return i},n.tR=function(t,e){return(t=new n(t)).se(e),t.wF()},n.uR=function(t,e){for(var i=null,r=0;10>r;r++)!t.hasAttribute(r)&&e.hasAttribute(r)&&(null==i&&(i=new n(t)),i.se(r));return null!=i?i.wF():t},n}(t.ua);t.ee=e;var i=function(){function t(){this.map=[];var t=new e;this.add(t),(t=new e).se(1),this.add(t)}return t.fz=function(){return t.UK},t.prototype.RR=function(){return t.ft},t.prototype.add=function(e){var i=e.dc();if(null!=t.ft&&t.ft.dc()==i&&e.yG(t.ft))return t.ft;if(null!=t.Ew&&t.Ew.dc()==i&&e.yG(t.Ew))return t.Ew;var n=null;return void 0!==this.map[i]&&(n=this.map[i]),null==n&&(1==(n=e.lM()).Ba?t.ft=n:2==n.Ba&&1==n.qd(1)?t.Ew=n:this.map[i]=n),n},t.UK=new t,t}()}(W||(W={}));var it={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},nt={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},rt=new(function(){function t(){this.JM=50,this.op=new Map,this.hj=[]}return t.prototype.clear=function(){this.hj.length=0,this.op.clear()},t.prototype.delete=function(t){return!!this.op.delete(t)&&(this.hj.splice(this.hj.indexOf(t),1),!0)},t.prototype.get=function(t){var e=this.op.get(t);if(void 0!==e)return this.hj[0]!==t&&(this.hj.splice(this.hj.indexOf(t),1),this.hj.unshift(t)),e},t.prototype.has=function(t){return this.op.has(t)},t.prototype.set=function(t,e){return void 0!==this.get(t)&&this.delete(t),this.hj.unshift(t),this.op.set(t,e),this.gM(),this},t.prototype.gM=function(){for(;this.hj.length&&this.hj.length>this.JM;){var t=this.hj.pop();this.op.delete(t)}},t}()),st=((H={}).convertJSONToGeometry=function(t){return W.bc.YO(t)},H.hasM=function(t){return t.hasAttribute(W.Jh.M)},H.hasZ=function(t){return t.hasAttribute(W.Jh.Z)},H.getPointX=function(t){return t.Mg()},H.getPointY=function(t){return t.jh()},H.getPointZ=function(t){return t.TR()},H.getPointM=function(t){return t.rR()},H.getXMin=function(t){return t.fs()},H.getYMin=function(t){return t.hs()},H.getXMax=function(t){return t.es()},H.getYMax=function(t){return t.gs()},H.getZExtent=function(t){return t.Ug(W.Jh.Z,0)},H.getMExtent=function(t){return t.Ug(W.Jh.M,0)},H.exportPaths=function(t){var e=[],i=t.ea(),n=null,r=null,s=t.hasAttribute(W.Jh.Z),o=t.hasAttribute(W.Jh.M);s&&(n=t.vb(W.Jh.Z)),o&&(r=t.vb(W.Jh.M));for(var a=new W.h,c=0;c<i;c++){for(var l=t.Ca(c),u=t.Ka(c),h=0,d=0,p=NaN,f=NaN,b=NaN,y=NaN,m=t.ec(c),g=[],v=l;v<l+u;v++){t.D(v,a),y=b=NaN;var w=[a.x,a.y];s&&(b=n.get(v),w.push(b)),o&&(y=r.get(v),w.push(y)),v==l&&m&&(h=a.x,d=a.y,p=b,f=y),g.push(w)}!m||h==a.x&&d==a.y&&(!s||isNaN(p)&&isNaN(b)||p==b)&&(!o||isNaN(f)&&isNaN(y)||f==y)||g.push(g[0].slice(0)),e.push(g)}return e},H.exportPathsFlat=function(){},H.exportPoints=function(t){var e=t.hasAttribute(W.Jh.Z),i=t.hasAttribute(W.Jh.M),n=null,r=null;e&&(n=t.vb(W.Jh.Z)),i&&(r=t.vb(W.Jh.M));for(var s=new W.h,o=t.I(),a=[],c=0;c<o;c++){t.D(c,s);var l=[s.x,s.y];e&&l.push(n.get(c)),i&&l.push(r.get(c)),a.push(l)}return a},H.exportPointsFlat=function(){},H);return function(){function t(){}return t.buffer=I,t.clip=c,t.contains=u,t.convexHull=j,t.crosses=h,t.cut=l,t.densify=L,t.difference=_,t.disjoint=m,t.distance=d,t.equals=p,t.extendedSpatialReferenceInfo=a,t.generalize=R,t.geodesicArea=z,t.geodesicBuffer=T,t.geodesicDensify=N,t.geodesicLength=V,t.intersect=S,t.intersects=f,t.isSimple=w,t.nearestCoordinate=A,t.nearestVertex=C,t.nearestVertices=P,t.offset=k,t.overlaps=g,t.planarArea=F,t.planarLength=D,t.relate=v,t.simplify=O,t.symmetricDifference=x,t.touches=b,t.union=M,t.within=y,t.rotate=W.Cx.rotate,t.flipHorizontal=W.Cx.BQ,t.flipVertical=W.Cx.CQ,t._enableProjection=$,t._project=q,t._getTransformation=G,t._getTransformationBySuitability=U,t}()}var n=i();void 0!==n&&(t.exports=n)}(r);const s=r.exports,o=Object.freeze(n({__proto__:null,default:s},[r.exports]))},f626:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("a4ee"),r=i("8d60"),s=(i("e92d"),i("cea0")),o=(i("b50f"),i("c120"),i("2dd4"),i("cbf3")),a=i("d386"),c=i("44e6");let l=class extends c["a"]{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};Object(n["a"])([Object(o["a"])({Type:r["a"],ensureType:Object(s["m"])(r["a"])})],l.prototype,"itemType",void 0),l=Object(n["a"])([Object(a["a"])("esri.support.GraphicsCollection")],l)},f694:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return p})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return d})),i.d(e,"h",(function(){return h}));var n=i("5996"),r=i("2255"),s=i("7f83");function o(t){return new n["a"]({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${t.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=o(r["a"]),c=o(r["b"]),l=o(r["c"]),u=new n["a"]({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${r["a"].radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function h(t){return t&&t===r["b"]?c:t&&t===r["c"]?l:a}function d(t){return t&&(Object(s["i"])(t)||t===c)?c:t&&(Object(s["j"])(t)||t===l)?l:a}function p(t){return t&&(Object(s["i"])(t)||t===c)?r["b"]:t&&(Object(s["j"])(t)||t===l)?r["c"]:r["a"]}function f(t){return Object(s["n"])(t)?r["b"]:Object(s["o"])(t)?r["c"]:r["a"]}},f6ab:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n,r=i("c15d"),s=i("a4ee"),o=(i("e92d"),i("cea0"),i("b50f"),i("c120"),i("2dd4"),i("448d")),a=i("d386");let c=n=class extends r["a"]{constructor(t){super(t),this.type="sketch"}clone(){return new n(this.cloneProperties())}};Object(s["a"])([Object(o["a"])({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0),c=n=Object(s["a"])([Object(a["a"])("esri.symbols.edges.SketchEdges3D")],c);const l=c;var u=i("c919");const h={types:{key:"type",base:r["a"],typeMap:{solid:u["a"],sketch:l}},json:{write:!0}}},f70f:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return c}));var n=i("521c"),r=i("5996"),s=i("a9ab");const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n["a"]({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:r["a"].WebMercator}),minus180Line:new n["a"]({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:r["a"].WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n["a"]({paths:[[[180,-180],[180,180]]],spatialReference:r["a"].WGS84}),minus180Line:new n["a"]({paths:[[[-180,-180],[-180,180]]],spatialReference:r["a"].WGS84})}};function a(t,e){return Math.ceil((t-e)/(2*e))}function c(t,e){const i=l(t);for(const n of i)for(const t of n)t[0]+=e;return t}function l(t){return Object(s["g"])(t)?t.rings:t.paths}function u(t){const e=(null==t?void 0:t.isWebMercator)?102100:4326;return[o[e].minX,o[e].maxX]}},f772:function(t,e,i){var n=i("5692"),r=i("90e3"),s=n("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},f7be:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return o}));var n=i("c120"),r=i("e041");i("49fa");const s="4.22",o={async request(t,e){var n;const{default:s}=await Promise.resolve().then(i.bind(null,"2eab")),o=t.options,a=o.responseType;o.signal=null==e?void 0:e.signal,o.responseType="native"===a||"native-request-init"===a?"native-request-init":["blob","json","text"].includes(a)&&null!=(n=Object(r["l"])(t.url))&&n.after?a:"array-buffer";const c=await s(t.url,o),l={data:c.data,ssl:c.ssl};switch(c.requestOptions.responseType){case"native-request-init":return delete l.data.signal,l;case"blob":l.data=await l.data.arrayBuffer();break;case"json":l.data=(new TextEncoder).encode(JSON.stringify(l.data)).buffer;break;case"text":l.data=(new TextEncoder).encode(l.data).buffer}return{result:l,transferList:[l.data]}}};let a;function c(t){a=t}function l(t){const e=a&&a.findCredential(t);return e&&e.token?Object(r["d"])(t,"token",e.token):t}Object(n["a"])("host-webworker")||(Object(n["a"])("edge")||Object(n["a"])("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")},f7eb:function(t,e,i){"use strict";function n(){return[1,0,0,1,0,0]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function s(t,e,i,n,r,s){return[t,e,i,n,r,s]}function o(t,e){return new Float64Array(t,e,6)}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:r,fromValues:s,createView:o})},f806:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n,r=i("a4ee"),s=i("658b"),o=i("2b92"),a=i("6a0e"),c=i("7ffa"),l=i("b2b2"),u=i("59b2"),h=(i("cea0"),i("afcf")),d=i("d386"),p=i("09db");i("b50f"),i("c120");let f=n=class extends a["a"]{constructor(t){super(t),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(t,e){return void 0!==e.respectsDaylightSaving?e.respectsDaylightSaving:void 0!==e.respectDaylightSaving&&e.respectDaylightSaving}clone(){const{respectsDaylightSaving:t,timezone:e}=this;return new n({respectsDaylightSaving:t,timezone:e})}};Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0}})],f.prototype,"respectsDaylightSaving",void 0),Object(r["a"])([Object(h["a"])("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],f.prototype,"readRespectsDaylightSaving",null),Object(r["a"])([Object(u["b"])({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],f.prototype,"timezone",void 0),f=n=Object(r["a"])([Object(d["a"])("esri.layers.support.TimeReference")],f);const b=f;var y,m=i("d81c");let g=y=class extends a["a"]{constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(t,e){if(!e.timeExtent||!Array.isArray(e.timeExtent)||2!==e.timeExtent.length)return null;const i=new Date(e.timeExtent[0]),n=new Date(e.timeExtent[1]);return new s["a"]({start:i,end:n})}writeFullTimeExtent(t,e){t&&Object(l["l"])(t.start)&&Object(l["l"])(t.end)?e.timeExtent=[t.start.getTime(),t.end.getTime()]:e.timeExtent=null}readInterval(t,e){return e.timeInterval&&e.timeIntervalUnits?new o["a"]({value:e.timeInterval,unit:m["a"].fromJSON(e.timeIntervalUnits)}):e.defaultTimeInterval&&e.defaultTimeIntervalUnits?new o["a"]({value:e.defaultTimeInterval,unit:m["a"].fromJSON(e.defaultTimeIntervalUnits)}):null}writeInterval(t,e){if(t){const i=t.toJSON();e.timeInterval=i.value,e.timeIntervalUnits=i.unit}else e.timeInterval=null,e.timeIntervalUnits=null}clone(){const{cumulative:t,endField:e,hasLiveData:i,interval:n,startField:r,timeReference:s,fullTimeExtent:o,trackIdField:a,useTime:l}=this;return new y({cumulative:t,endField:e,hasLiveData:i,interval:n,startField:r,timeReference:Object(c["a"])(s),fullTimeExtent:Object(c["a"])(o),trackIdField:a,useTime:l})}};Object(r["a"])([Object(u["b"])({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],g.prototype,"cumulative",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],g.prototype,"endField",void 0),Object(r["a"])([Object(u["b"])({type:s["a"],json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"fullTimeExtent",void 0),Object(r["a"])([Object(h["a"])("fullTimeExtent",["timeExtent"])],g.prototype,"readFullTimeExtent",null),Object(r["a"])([Object(p["a"])("fullTimeExtent")],g.prototype,"writeFullTimeExtent",null),Object(r["a"])([Object(u["b"])({type:Boolean,json:{write:!0}})],g.prototype,"hasLiveData",void 0),Object(r["a"])([Object(u["b"])({type:o["a"],json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"interval",void 0),Object(r["a"])([Object(h["a"])("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],g.prototype,"readInterval",null),Object(r["a"])([Object(p["a"])("interval")],g.prototype,"writeInterval",null),Object(r["a"])([Object(u["b"])({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],g.prototype,"startField",void 0),Object(r["a"])([Object(u["b"])({type:b,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"timeReference",void 0),Object(r["a"])([Object(u["b"])({type:String,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"trackIdField",void 0),Object(r["a"])([Object(u["b"])({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],g.prototype,"useTime",void 0),g=y=Object(r["a"])([Object(d["a"])("esri.layers.support.TimeInfo")],g);const v=g},f830:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var n=i("fdc9"),r=i("b32b"),s=i("00cd");const o={key:"type",base:r["a"],typeMap:{algorithmic:n["a"],multipart:s["a"]}};function a(t){return t&&t.type?"algorithmic"===t.type?n["a"].fromJSON(t):"multipart"===t.type?s["a"].fromJSON(t):null:null}},f8d4:function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"b",(function(){return g})),i.d(e,"c",(function(){return v}));var n=i("28b1");function r(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function s(t){return void 0!==t.points}function o(t){return void 0!==t.x&&void 0!==t.y}function a(t){return void 0!==t.paths}function c(t){return void 0!==t.rings}const l=[];function u(t,e,i,n){return{xmin:t,ymin:e,xmax:i,ymax:n}}function h(t,e,i,n,r,s){return{xmin:t,ymin:e,zmin:i,xmax:n,ymax:r,zmax:s}}function d(t,e,i,n,r,s){return{xmin:t,ymin:e,mmin:i,xmax:n,ymax:r,mmax:s}}function p(t,e,i,n,r,s,o,a){return{xmin:t,ymin:e,zmin:i,mmin:n,xmax:r,ymax:s,zmax:o,mmax:a}}function f(t,e=!1,i=!1){return e?i?p(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):h(t[0],t[1],t[2],t[3],t[4],t[5]):i?d(t[0],t[1],t[2],t[3],t[4],t[5]):u(t[0],t[1],t[2],t[3])}function b(t){return t?r(t)?t:o(t)?m(t):c(t)?g(t):a(t)?v(t):s(t)?y(t):null:null}function y(t){const{hasZ:e,hasM:i,points:r}=t;return f(Object(n["c"])(l,r,e,i),e,i)}function m(t){const{x:e,y:i,z:n,m:r}=t,s=null!=r;return null!=n?s?p(e,i,n,r,e,i,n,r):h(e,i,n,e,i,n):s?d(e,i,r,e,i,r):u(e,i,e,i)}function g(t){const{hasZ:e,hasM:i,rings:r}=t,s=Object(n["d"])(l,r,e,i);return s?f(s,e,i):null}function v(t){const{hasZ:e,hasM:i,paths:r}=t,s=Object(n["d"])(l,r,e,i);return s?f(s,e,i):null}},f976:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return c}));var n=i("0028"),r=i("0b86"),s=i("5cdb");function o(t,e){return c(t,null,e)}const a=Object(r["b"])({types:s["a"]});function c(t,e,i){return t?t&&(t.styleName||t.styleUrl)&&"uniqueValue"!==t.type?(i&&i.messages&&i.messages.push(new n["a"]("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):a(t,e,i):null}},f97e:function(t,e,i){"use strict";i.d(e,"a",(function(){return T})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return x}));var n=i("ce50"),r=i("b2b2"),s=i("013b"),o=i("8152"),a=i("86e7");const c=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],l=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],u=["upperLeft","lowerLeft"];function h(t){return t>=c.length?null:c[t]}function d(t){return t>=l.length?null:l[t]}function p(t){return t>=u.length?null:u[t]}function f(t,e){return e>=t.geometryTypes.length?null:t.geometryTypes[e]}function b(t,e,i){const n=3,r=e.createPointGeometry(i);for(;t.next();)switch(t.tag()){case n:{const i=t.getUInt32(),n=t.pos()+i;let s=0;for(;t.pos()<n;)e.addCoordinatePoint(r,t.getSInt64(),s++);break}default:t.skip()}return r}function y(t,e,i){const n=2,r=3,s=e.createGeometry(i),o=2+(i.hasZ?1:0)+(i.hasM?1:0);for(;t.next();)switch(t.tag()){case n:{const i=t.getUInt32(),n=t.pos()+i;let r=0;for(;t.pos()<n;)e.addLength(s,t.getUInt32(),r++);break}case r:{const i=t.getUInt32(),n=t.pos()+i;let r=0;for(e.allocateCoordinates(s);t.pos()<n;)e.addCoordinate(s,t.getSInt64(),r),r++,r===o&&(r=0);break}default:t.skip()}return s}function m(t){const e=1,i=2,n=3,r=new o["a"];let s="esriGeometryPoint";for(;t.next();)switch(t.tag()){case i:{const e=t.getUInt32(),i=t.pos()+e;for(;t.pos()<i;)r.lengths.push(t.getUInt32());break}case n:{const e=t.getUInt32(),i=t.pos()+e;for(;t.pos()<i;)r.coords.push(t.getSInt64());break}case e:s=a["a"][t.getEnum()];break;default:t.skip()}return{queryGeometry:r,queryGeometryType:s}}function g(t){const e=1,i=2,n=3,r=4,s=5,o=6,a=7,c=8,l=9;for(;t.next();)switch(t.tag()){case e:return t.getString();case i:return t.getFloat();case n:return t.getDouble();case r:return t.getSInt32();case s:return t.getUInt32();case o:return t.getInt64();case a:return t.getUInt64();case c:return t.getSInt64();case l:return t.getBool();default:return t.skip(),null}return null}function v(t){const e=1,i=2,n=3,r=4,s=5,o=6,a={type:h(0)};for(;t.next();)switch(t.tag()){case e:a.name=t.getString();break;case i:a.type=h(t.getEnum());break;case n:a.alias=t.getString();break;case r:a.sqlType=d(t.getEnum());break;case s:t.skip();break;case o:a.defaultValue=t.getString();break;default:t.skip()}return a}function w(t){const e=1,i=2,n={};for(;t.next();)switch(t.tag()){case e:n.name=t.getString();break;case i:n.isSystemMaintained=t.getBool();break;default:t.skip()}return n}function O(t,e,i,n){const r=1,s=2,o=4,a=e.createFeature(i);let c=0;for(;t.next();)switch(t.tag()){case r:{const e=n[c++].name;a.attributes[e]=t.processMessage(g);break}case s:a.geometry=t.processMessageWithArgs(y,e,i);break;case o:a.centroid=t.processMessageWithArgs(b,e,i);break;default:t.skip()}return a}function j(t){const e=1,i=2,n=3,r=4,s=[1,1,1,1];for(;t.next();)switch(t.tag()){case e:s[0]=t.getDouble();break;case i:s[1]=t.getDouble();break;case r:s[2]=t.getDouble();break;case n:s[3]=t.getDouble();break;default:t.skip()}return s}function _(t){const e=1,i=2,n=3,r=4,s=[0,0,0,0];for(;t.next();)switch(t.tag()){case e:s[0]=t.getDouble();break;case i:s[1]=t.getDouble();break;case r:s[2]=t.getDouble();break;case n:s[3]=t.getDouble();break;default:t.skip()}return s}function x(t){const e=1,i=2,n=3,r={originPosition:p(0)};for(;t.next();)switch(t.tag()){case e:r.originPosition=p(t.getEnum());break;case i:r.scale=t.processMessage(j);break;case n:r.translate=t.processMessage(_);break;default:t.skip()}return r}function S(t){const e=1,i=2,n=3,r={};for(;t.next();)switch(t.tag()){case e:r.shapeAreaFieldName=t.getString();break;case i:r.shapeLengthFieldName=t.getString();break;case n:r.units=t.getString();break;default:t.skip()}return r}function M(t,e){const i=1,n=2,r=3,s=4,o=5,a=e.createSpatialReference();for(;t.next();)switch(t.tag()){case i:a.wkid=t.getUInt32();break;case o:a.wkt=t.getString();break;case n:a.latestWkid=t.getUInt32();break;case r:a.vcsWkid=t.getUInt32();break;case s:a.latestVcsWkid=t.getUInt32();break;default:t.skip()}return a}function k(t,e){const i=1,n=2,r=3,s=4,o=5,a=7,c=8,l=9,u=10,h=11,d=12,p=13,b=15,y=e.createFeatureResult();y.geometryType=f(e,0);let m=!1;for(;t.next();)switch(t.tag()){case i:y.objectIdFieldName=t.getString();break;case r:y.globalIdFieldName=t.getString();break;case s:y.geohashFieldName=t.getString();break;case o:y.geometryProperties=t.processMessage(S);break;case a:y.geometryType=f(e,t.getEnum());break;case c:y.spatialReference=t.processMessageWithArgs(M,e);break;case u:y.hasZ=t.getBool();break;case h:y.hasM=t.getBool();break;case d:y.transform=t.processMessage(x);break;case l:{const e=t.getBool();y.exceededTransferLimit=e;break}case p:e.addField(y,t.processMessage(v));break;case b:m||(e.prepareFeatures(y),m=!0),e.addFeature(y,t.processMessageWithArgs(O,e,y,y.fields));break;case n:y.uniqueIdField=t.processMessage(w);break;default:t.skip()}return e.finishFeatureResult(y),y}function I(t,e){const i=1,n=4,s={};let o=null;for(;t.next();)switch(t.tag()){case n:o=t.processMessageWithArgs(m);break;case i:s.featureResult=t.processMessageWithArgs(k,e);break;default:t.skip()}return Object(r["l"])(o)&&s.featureResult&&e.addQueryGeometry(s,o),s}function T(t,e){try{const i=2,n=new s["a"](new Uint8Array(t),new DataView(t)),r={};for(;n.next();)n.tag()===i?r.queryResult=n.processMessageWithArgs(I,e):n.skip();return r}catch(i){throw new n["a"]("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i})}}},fa2a:function(t,e,i){"use strict";function n(t){const e=[];return function*(){yield*e;for(const i of t)e.push(i),yield i}}function r(t,e){for(const i of t)if(null!=i&&e(i))return i}function s(t){return null!=t&&"function"==typeof t[Symbol.iterator]}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s}))},fa8a:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("9d1d");class r{constructor(t,e={ignoreUnknown:!1}){this.jsonToAPI=t,this.options=e,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(t),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(t,e,i)=>{const r=this.toJSON(t);void 0!==r&&Object(n["c"])(i,r,e)},this.write.isJSONMapWriter=!0}toJSON(t){return this.apiToJSON.hasOwnProperty(t)?this.apiToJSON[t]:this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}invertMap(t){const e={};for(const i in t)e[t[i]]=i;return e}getKeysSorted(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}}function s(){return function(t){return new r(t,{ignoreUnknown:!0})}}},fa90:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("59b2"),o=(i("b50f"),i("c120"),i("cea0"),i("d386")),a=i("9b9d"),c=i("6a0e");let l=n=class extends c["a"]{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new n({linkURL:this.linkURL,sourceURL:this.sourceURL})}};Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"linkURL",void 0),Object(r["a"])([Object(s["b"])({type:String,json:{write:!0}})],l.prototype,"sourceURL",void 0),l=n=Object(r["a"])([Object(o["a"])("esri.popup.content.support.ImageMediaInfoValue")],l);const u=l;var h;let d=h=class extends a["a"]{constructor(t){super(t),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};Object(r["a"])([Object(s["b"])({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0),Object(r["a"])([Object(s["b"])({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0),Object(r["a"])([Object(s["b"])({type:u,json:{write:!0}})],d.prototype,"value",void 0),d=h=Object(r["a"])([Object(o["a"])("esri.popup.content.ImageMediaInfo")],d);const p=d},fab3:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return l}));var n=i("a4ee"),r=i("fc29"),s=i("b2b2"),o=i("f4cc"),a=i("d386");class c{constructor(t){this.instance=t,this._resolver=Object(o["e"])(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return 1===this._status}isRejected(){return 2===this._status}isFulfilled(){return 0!==this._status}abort(){this._resolver.reject(Object(o["d"])())}when(t,e){return this._resolver.promise.then(t,e)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=Object(o["e"])(),e=[...this._resolvingPromises,Object(s["d"])(t.promise)],i=this._allPromise=Promise.all(e);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve(this.instance)},t=>{this.isFulfilled()||this._allPromise!==i||Object(o["l"])(t)||this._resolver.reject(t)}),t.resolve()}}const l=t=>{let e=class extends t{constructor(...t){super(...t),this._promiseProps=new c(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(t,e){return new Promise((t,e)=>{this._promiseProps.when(t,e)}).then(t,e)}catch(t){return this.when(null,t)}addResolvingPromise(t){t&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in t?t.when():t)}};return e=Object(n["a"])([Object(a["a"])("esri.core.Promise")],e),e};let u=class extends(l(r["a"])){};u=Object(n["a"])([Object(a["a"])("esri.core.Promise")],u)},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),s=i("e8b5"),o=i("68ee"),a=i("861d"),c=i("23cb"),l=i("07fa"),u=i("fc6a"),h=i("8418"),d=i("b622"),p=i("1dde"),f=i("f36a"),b=p("slice"),y=d("species"),m=r.Array,g=Math.max;n({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var i,n,r,d=u(this),p=l(d),b=c(t,p),v=c(void 0===e?p:e,p);if(s(d)&&(i=d.constructor,o(i)&&(i===m||s(i.prototype))?i=void 0:a(i)&&(i=i[y],null===i&&(i=void 0)),i===m||void 0===i))return f(d,b,v);for(n=new(void 0===i?m:i)(g(v-b,0)),r=0;b<v;b++,r++)b in d&&h(n,r,d[b]);return n.length=r,n}})},fc29:function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var n=i("e20b"),r=i("e92d"),s=i("9d9d"),o=i("7af8"),a=(i("c120"),i("7ffa")),c=i("ecd7"),l=i("c0d3"),u=i("9b86");class h{constructor(t,e,i){this.properties=t,this.propertyName=e,this.metadata=i,this._observers=null,this._accessed=null,this._handles=null,this.flags=1|(i.nonNullable?8:0)|(i.hasOwnProperty("value")?16:0)|(void 0===i.get?32:0)|(void 0===i.dependsOn?64:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Object(l["d"])(this);const t=this.properties.store,e=this.propertyName,i=this.flags,n=t.get(e);if(4&i)return n;if(1&~i&&t.has(e))return n;this.flags|=4;const r=this.properties.host;let s;64&i?s=Object(l["b"])(this,this.metadata.get,r):(Object(l["e"])(r,this),s=this.metadata.get.call(r)),t.set(e,s,1);const o=t.get(e);return o===n?this.flags&=-2:Object(l["c"])(this.commit,this),this.flags&=-5,o}onObservableAccessed(t){t!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=32;const t=this._accessed;if(null===t)return;let e=this._handles;null===e&&(e=this._handles=[]);for(let i=0;i<t.length;++i)e.push(t[i].observe(this));t.length=0}observe(t){return null===this._observers&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new u["a"](this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){2&~this.flags&&(this.flags|=1);const t=this._observers;if(null!==t)for(let e=0;e<t.length;++e)t[e].onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onCommitted(){if(null===this._observers)return;const t=this._observers.slice();for(let e=0;e<t.length;++e)t[e].onCommitted()}_clearObservationHandles(){const t=this._handles;if(null!==t){for(let e=0;e<t.length;++e)t[e].remove();t.length=0}}}var d=i("92ef");class p{constructor(){this._values=new Map}clone(t){const e=new p;return this._values.forEach((i,n)=>{t&&t.has(n)||e.set(n,Object(a["a"])(i))}),e}get(t){return this._values.get(t)}originOf(){return 6}keys(){return[...this._values.keys()]}set(t,e){this._values.set(t,e)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}var f=i("4c37");function b(t,e,i){return void 0!==t}function y(t,e,i,n){return void 0!==t&&(!(null==i&&8&t.flags)||(n.lifecycle,!1))}function m(t){return t&&"function"==typeof t.destroy}r["a"].getLogger("esri.core.accessorSupport.Properties");class g{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=0,this.store=new p,this._origin=6;const e=this.host.constructor.__accessorMetadata__,i=e.properties;for(const n in i){const t=new h(this,n,i[n]);this.properties.set(n,t)}this.metadatas=i,this._autoDestroy=e.autoDestroy}initialize(){this.lifecycle=1}constructed(){this.lifecycle=2}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,e]of this.properties){const i=this.internalGet(t);i&&m(i)&&(i.destroy(),8&~e.flags&&this._internalSet(e,null)),e.destroy()}else for(const[t,e]of this.properties)e.destroy()}get initialized(){return 0!==this.lifecycle}get(t){const e=this.properties.get(t);if(e.metadata.get)return e.getComputed();Object(l["d"])(e);const i=this.store;return i.has(t)?i.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(void 0===e){const e=this.properties.get(t);if(void 0!==e&&16&e.flags)return"defaults"}return Object(d["b"])(e)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const e=this.properties.get(t);if(b(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const i=this.properties.get(t);b(i)&&this._internalSet(i,e)}getDependsInfo(t,e,i){const n=this.properties.get(e);if(!b(n))return"";const r=new Set,s=Object(l["b"])({onObservableAccessed:t=>r.add(t),onTrackingEnd:()=>{}},()=>{var e;return null==(e=n.metadata.get)?void 0:e.call(t)});let o=`${i}${t.declaredClass.split(".").pop()}.${e}: ${s}\n`;if(0===r.size)return o;i+="  ";for(const a of r){if(!(a instanceof h))continue;const t=a.properties.host,e=a.propertyName,n=Object(f["a"])(t);o+=n?n.getDependsInfo(t,e,i):`${i}${e}: undefined\n`}return o}setAtOrigin(t,e,i){const n=this.properties.get(t);if(b(n))return this._setAtOrigin(n,e,i)}isOverridden(t){const e=this.properties.get(t);return void 0!==e&&!!(2&e.flags)}clearOverride(t){const e=this.properties.get(t);void 0!==e&&2&e.flags&&(e.flags&=-3,e.notifyChange())}override(t,e){const i=this.properties.get(t);if(!y(i,t,e,this))return;const n=i.metadata.cast;if(n){const t=this._cast(n,e),{valid:i,value:r}=t;if(w.release(t),!i)return;e=r}i.flags|=2,this._internalSet(i,e)}set(t,e){const i=this.properties.get(t);if(!y(i,t,e,this))return;const n=i.metadata.cast;if(n){const t=this._cast(n,e),{valid:i,value:r}=t;if(w.release(t),!i)return;e=r}const r=i.metadata.set;r?r.call(this.host,e):this._internalSet(i,e)}setDefaultOrigin(t){this._origin=Object(d["d"])(t)}getDefaultOrigin(){return Object(d["b"])(this._origin)}notifyChange(t){const e=this.properties.get(t);void 0!==e&&e.notifyChange()}invalidate(t){const e=this.properties.get(t);void 0!==e&&e.invalidate()}commit(t){const e=this.properties.get(t);void 0!==e&&e.commit()}_internalSet(t,e){const i=0!==this.lifecycle?this._origin:0;this._setAtOrigin(t,e,i)}_setAtOrigin(t,e,i){const n=this.store,r=t.propertyName;n.has(r,i)&&Object(a["b"])(e,n.get(r))&&2&~t.flags&&i===n.originOf(r)||(t.invalidate(),n.set(r,e,i),t.commit(),Object(l["a"])(this.host,t))}_cast(t,e){const i=w.acquire();return i.valid=!0,i.value=e,t&&(i.value=t.call(this.host,e,i)),i}}class v{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const w=new c["a"](v);var O=i("2dd4"),j=i("0646"),_=i("59b2"),x=i("d386");function S(t){if(null==t)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor&&t.constructor.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}class M{constructor(...t){if(this.constructor===M)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new g(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:e,declaredClass:i,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const r=this;class s extends r{constructor(...t){super(...t),this.inherited=null,n&&n.apply(this,t)}}Object(o["a"])(s.prototype);for(const o in t){const e=t[o];s.prototype[o]="function"==typeof e?function(...t){const i=this.inherited;let n;this.inherited=function(...t){if(r.prototype[o])return r.prototype[o].apply(this,t)};try{n=e.apply(this,t)}catch(s){throw this.inherited=i,s}return this.inherited=i,n}:t[o]}for(const o in e){const t=S(e[o]);Object(_["b"])(t)(s.prototype,o)}return Object(x["a"])(i)(s)}postscript(t){const e=this.__accessor__,i=e.ctorArgs||t;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(Object(j["c"])(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Object(s["b"])(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return Object(n["b"])(r["a"].getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,e){return Object(O["a"])(this,t,e),this}watch(t,e,i){return Object(j["d"])(this,t,e,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,e){return this.__accessor__.override(t,e)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,e){return this.__accessor__.internalSet(t,e),this}}},fc6a:function(t,e,i){var n=i("44ad"),r=i("1d80");t.exports=function(t){return n(r(t))}},fce3:function(t,e,i){var n=i("d039"),r=i("da84"),s=r.RegExp;t.exports=n((function(){var t=s(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},fcf2:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return f})),i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return c}));var n=i("b2b2"),r=i("e041");function s(t,e){const i=e&&e.url&&e.url.path;if(t&&i&&(t=Object(r["A"])(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=Object(r["C"])(t,e.portalItem.itemUrl);u.test(i)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return p(t,e&&e.portal)}function o(t,e,i=0){if(!t)return t;!Object(r["s"])(t)&&e&&e.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let n=Object(r["A"])(t);if(e){const i=e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.rootPath||e.url&&e.url.path;if(i){const s=p(i,e.portal);n=Object(r["C"])(p(n,e.portal),s,s),n!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=d(n,e&&e.portal),Object(r["s"])(n)&&(n=Object(r["D"])(n)),null!=e&&e.resources&&null!=e&&e.portalItem&&!Object(r["s"])(n)&&!Object(r["u"])(n)&&0===i&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(n)}),n}function a(t,e,i){return s(t,i)}function c(t,e,i,n){const r=o(t,n);void 0!==r&&(e[i]=r)}const l=/\/items\/([^\/]+)\/resources\//,u=/^\.\/resources\//;function h(t){const e=Object(n["l"])(t)?t.match(l):null;return Object(n["l"])(e)?e[1]:null}function d(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?Object(r["h"])(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function p(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`;return Object(r["q"])(r["g"],`${r["g"].scheme}://${i}`)?Object(r["h"])(t,e.portalHostname,i):Object(r["h"])(t,i,e.portalHostname)}const f=Object.freeze({__proto__:null,fromJSON:s,toJSON:o,read:a,write:c,itemIdFromResourceUrl:h})},fd14:function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var n,r=i("a4ee"),s=i("fa8a"),o=i("6a0e"),a=i("b2b2"),c=i("59b2"),l=(i("b50f"),i("c120"),i("cea0"),i("afcf")),u=i("d386"),h=i("09db"),d=i("c1da");let p=n=class extends o["a"]{async collectRequiredFields(t,e){return Object(d["a"])(t,e,this.expression)}clone(){return new n({expression:this.expression,title:this.title})}};Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],p.prototype,"expression",void 0),Object(r["a"])([Object(c["b"])({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=n=Object(r["a"])([Object(u["a"])("esri.layers.support.FeatureExpressionInfo")],p);const f=p;var b,y=i("8076");const m=Object(s["b"])()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),g=new s["a"]({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let v=b=class extends o["a"]{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(t,e){return null!=t?t:e.featureExpression&&0===e.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,e,i,n){e[i]=t.write({},n),"0"===t.expression&&(e.featureExpression={value:0})}get mode(){const{offset:t,featureExpressionInfo:e}=this;return this._isOverridden("mode")?this._get("mode"):Object(a["l"])(t)||e?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,e){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,e):null}clone(){return new b({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};Object(r["a"])([Object(c["b"])({type:f,json:{write:!0}})],v.prototype,"featureExpressionInfo",void 0),Object(r["a"])([Object(l["a"])("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],v.prototype,"readFeatureExpressionInfo",null),Object(r["a"])([Object(h["a"])("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],v.prototype,"writeFeatureExpressionInfo",null),Object(r["a"])([Object(c["b"])({type:m.apiValues,nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],v.prototype,"mode",null),Object(r["a"])([Object(c["b"])({type:Number,json:{write:!0}})],v.prototype,"offset",void 0),Object(r["a"])([Object(c["b"])({type:y["b"],json:{type:String,read:g.read,write:g.write}})],v.prototype,"unit",null),v=b=Object(r["a"])([Object(u["a"])("esri.layers.support.ElevationInfo")],v);const w=v},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,i){var n=i("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdc9:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("9ef0"),o=i("7ffa"),a=i("59b2"),c=i("cea0"),l=i("448d"),u=i("d386"),h=i("b32b");let d=n=class extends h["a"]{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new n({fromColor:Object(o["a"])(this.fromColor),toColor:Object(o["a"])(this.toColor),algorithm:this.algorithm})}};Object(r["a"])([Object(l["a"])({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],d.prototype,"algorithm",void 0),Object(r["a"])([Object(a["b"])({type:s["a"],json:{type:[c["a"]],write:!0}})],d.prototype,"fromColor",void 0),Object(r["a"])([Object(a["b"])({type:s["a"],json:{type:[c["a"]],write:!0}})],d.prototype,"toColor",void 0),Object(r["a"])([Object(a["b"])({type:["algorithmic"]})],d.prototype,"type",void 0),d=n=Object(r["a"])([Object(u["a"])("esri.rest.support.AlgorithmicColorRamp")],d);const p=d},fea9:function(t,e,i){var n=i("da84");t.exports=n.Promise},feab:function(t,e,i){"use strict";function n(t){return t.split(",").map(t=>t.trim())}function r(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames,r=Array.isArray(t)?t:n(t);i.push(...r)}}i.d(e,"a",(function(){return r}))},feec:function(t,e,i){"use strict";i.d(e,"a",(function(){return ct}));var n=i("a4ee"),r=i("ce50"),s=i("c120"),o=i("b2b2"),a=i("f4cc"),c=i("59b2"),l=(i("b50f"),i("cea0"),i("d386")),u=i("624c"),h=i("bb72"),d=i("d8b2"),p=i("ebb2");async function f(t,e,i){const n=Object(h["c"])(t);return Object(d["a"])(n,p["a"].from(e),{...i}).then(t=>Object(d["b"])(t.data.attachmentGroups,n.path))}var b=i("c89c"),y=(i("e06a"),i("e9fc")),m=i("69dd"),g=i("3af1");async function v(t,e,i){const n=Object(h["c"])(t);return Object(y["executeQueryForExtent"])(n,m["a"].from(e),{...i}).then(t=>({count:t.data.count,extent:g["a"].fromJSON(t.data.extent)}))}var w=i("b745"),O=i("a1d1"),j=i("6c97"),_=i("b0f5"),x=i("6655");function S(t,e){return e}function M(t,e,i,n){switch(i){case 0:return E(t,e+n,0);case 1:return"lowerLeft"===t.originPosition?E(t,e+n,1):A(t,e+n,1)}}function k(t,e,i,n){return 2===i?E(t,e,2):M(t,e,i,n)}function I(t,e,i,n){return 2===i?E(t,e,3):M(t,e,i,n)}function T(t,e,i,n){return 3===i?E(t,e,3):k(t,e,i,n)}function E({translate:t,scale:e},i,n){return t[n]+i*e[n]}function A({translate:t,scale:e},i,n){return t[n]-i*e[n]}class C{constructor(t){this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=S,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this.AttributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){if(this.options.applyTransform&&(t.transform=null),this.AttributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!t.hasZ)return;const e=Object(_["a"])(t.geometryType,this.options.sourceSpatialReference,t.spatialReference);if(!Object(o["k"])(e))for(const i of t.features)e(i.geometry)}createSpatialReference(){return{}}addField(t,e){t.fields.push(e);const i=t.fields.map(t=>t.name);this.AttributesConstructor=function(){for(const t of i)this[t]=null}}addFeature(t,e){t.features.push(e)}prepareFeatures(t){switch(this.transform=t.transform,this.options.applyTransform&&t.transform&&(this.applyTransform=this.deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case"esriGeometryPoint":this.addCoordinate=(t,e,i)=>this.addCoordinatePoint(t,e,i),this.createGeometry=t=>this.createPointGeometry(t);break;case"esriGeometryPolygon":this.addCoordinate=(t,e,i)=>this.addCoordinatePolygon(t,e,i),this.createGeometry=t=>this.createPolygonGeometry(t);break;case"esriGeometryPolyline":this.addCoordinate=(t,e,i)=>this.addCoordinatePolyline(t,e,i),this.createGeometry=t=>this.createPolylineGeometry(t);break;case"esriGeometryMultipoint":this.addCoordinate=(t,e,i)=>this.addCoordinateMultipoint(t,e,i),this.createGeometry=t=>this.createMultipointGeometry(t);break;default:Object(j["a"])(t.geometryType)}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this.AttributesConstructor}}allocateCoordinates(){}addLength(t,e,i){0===this.lengths.length&&(this.toAddInCurrentPath=e),this.lengths.push(e)}addQueryGeometry(t,e){const{queryGeometry:i,queryGeometryType:n}=e,r=Object(x["z"])(i.clone(),i,!1,!1,this.transform),s=Object(x["k"])(r,n,!1,!1);t.queryGeometryType=n,t.queryGeometry={...s}}createPointGeometry(t){const e={x:0,y:0,spatialReference:t.spatialReference};return t.hasZ&&(e.z=0),t.hasM&&(e.m=0),e}addCoordinatePoint(t,e,i){switch(e=this.applyTransform(this.transform,e,i,0),i){case 0:t.x=e;break;case 1:t.y=e;break;case 2:"z"in t?t.z=e:t.m=e;break;case 3:t.m=e}}transformPathLikeValue(t,e){let i=0;return e<=1&&(i=this.previousCoordinate[e],this.previousCoordinate[e]+=t),this.applyTransform(this.transform,t,e,i)}addCoordinatePolyline(t,e,i){this.dehydratedAddPointsCoordinate(t.paths,e,i)}addCoordinatePolygon(t,e,i){this.dehydratedAddPointsCoordinate(t.rings,e,i)}addCoordinateMultipoint(t,e,i){0===i&&t.points.push([]);const n=this.transformPathLikeValue(e,i);t.points[t.points.length-1].push(n)}createPolygonGeometry(t){return{rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}createPolylineGeometry(t){return{paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}createMultipointGeometry(t){return{points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}dehydratedAddPointsCoordinate(t,e,i){0===i&&0==this.toAddInCurrentPath--&&(t.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const n=this.transformPathLikeValue(e,i),r=t[t.length-1];0===i&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),r.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=n}deriveApplyTransform(t){const{hasZ:e,hasM:i}=t;return e&&i?T:e?k:i?I:M}}var P=i("2edc");async function R(t,e,i){const n=Object(h["c"])(t),r={...i},s=m["a"].from(e),o=!s.quantizationParameters,{data:a}=await Object(y["executeQueryPBF"])(n,s,new C({sourceSpatialReference:s.sourceSpatialReference,applyTransform:o}),r);return a}var L=i("2eab"),N=i("bee2");function F(t,e){const i=t.toJSON();return i.objectIds&&(i.objectIds=i.objectIds.join(",")),i.orderByFields&&(i.orderByFields=i.orderByFields.join(",")),!i.outFields||null!=e&&e.returnCountOnly?delete i.outFields:-1!==i.outFields.indexOf("*")?i.outFields="*":i.outFields=i.outFields.join(","),i.outSpatialReference&&(i.outSR=i.outSR.wkid||JSON.stringify(i.outSR.toJSON()),delete i.outSpatialReference),i.dynamicDataSource&&(i.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i}async function D(t,e,i){const n=await V(t,e,i),r=n.data,s=r.geometryType,o=r.spatialReference,a={};for(const c of r.relatedRecordGroups){const t={fields:void 0,objectIdFieldName:void 0,geometryType:s,spatialReference:o,hasZ:!!r.hasZ,hasM:!!r.hasM,features:c.relatedRecords};if(null!=c.objectId)a[c.objectId]=t;else for(const e in c)c.hasOwnProperty(e)&&"relatedRecords"!==e&&(a[c[e]]=t)}return{...n,data:a}}async function z(t,e,i){const n=await V(t,e,i,{returnCountOnly:!0}),r=n.data,s={};for(const o of r.relatedRecordGroups)null!=o.objectId&&(s[o.objectId]=o.count);return{...n,data:s}}async function V(t,e,i={},n){const r=Object(N["a"])({...t.query,f:"json",...n,...F(e,n)});return Object(L["default"])(t.path+"/queryRelatedRecords",{...i,query:{...i.query,...r}})}var $=i("b742");async function G(t,e,i){e=$["a"].from(e);const n=Object(h["c"])(t);return D(n,e,i).then(t=>{const e=t.data,i={};return Object.keys(e).forEach(t=>i[t]=P["default"].fromJSON(e[t])),i})}async function U(t,e,i){e=$["a"].from(e);const n=Object(h["c"])(t);return z(n,e,{...i}).then(t=>t.data)}var q=i("e041"),B=i("a9ab"),H=i("a8d5"),W=i("e87c");const J="Layer does not support extent calculation.";function K(t,e){var i,n;const r=t.geometry,s=t.toJSON(),a=s;if(Object(o["l"])(r)&&(a.geometry=JSON.stringify(r),a.geometryType=Object(B["c"])(r),a.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),null!=(i=s.topFilter)&&i.groupByFields&&(a.topFilter.groupByFields=s.topFilter.groupByFields.join(",")),null!=(n=s.topFilter)&&n.orderByFields&&(a.topFilter.orderByFields=s.topFilter.orderByFields.join(",")),s.topFilter&&(a.topFilter=JSON.stringify(a.topFilter)),s.objectIds&&(a.objectIds=s.objectIds.join(",")),s.orderByFields&&(a.orderByFields=s.orderByFields.join(",")),s.outFields&&!(null!=e&&e.returnCountOnly||null!=e&&e.returnExtentOnly||null!=e&&e.returnIdsOnly)?-1!==s.outFields.indexOf("*")?a.outFields="*":a.outFields=s.outFields.join(","):delete a.outFields,s.outSR?a.outSR=s.outSR.wkid||JSON.stringify(s.outSR):r&&s.returnGeometry&&(a.outSR=a.inSR),s.returnGeometry&&delete s.returnGeometry,s.timeExtent){const t=s.timeExtent,{start:e,end:i}=t;null==e&&null==i||(a.time=e===i?e:`${null==e?"null":e},${null==i?"null":i}`),delete s.timeExtent}return a}async function Y(t,e,i,n){const r=await tt(t,e,"json",n);return Object(W["a"])(e,i,r.data),r}async function Z(t,e,i){return Object(o["l"])(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):tt(t,e,"json",i,{returnIdsOnly:!0})}async function X(t,e,i){return Object(o["l"])(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):tt(t,e,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(t=>{const e=t.data;if(e.hasOwnProperty("extent"))return t;if(e.features)throw new Error(J);if(e.hasOwnProperty("count"))throw new Error(J);return t})}function Q(t,e,i){return Object(o["l"])(e.timeExtent)&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):tt(t,e,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function tt(t,e,i,n={},r={}){const s="string"==typeof t?Object(q["K"])(t):t,a=e.geometry?[e.geometry]:[];return n.responseType="pbf"===i?"array-buffer":"json",Object(H["a"])(a,null,n).then(t=>{const a=t&&t[0];Object(o["l"])(a)&&((e=e.clone()).geometry=a);const c=Object(N["a"])({...s.query,f:i,...r,...K(e,r)});return Object(L["default"])(Object(q["z"])(s.path,"queryTopFeatures"),{...n,query:{...c,...n.query}})})}var et=i("7949");async function it(t,e,i,n){const r=Object(h["c"])(t),s={...n},{data:o}=await Y(r,et["a"].from(e),i,s);return P["default"].fromJSON(o)}async function nt(t,e,i){const n=Object(h["c"])(t);return(await Z(n,et["a"].from(e),{...i})).data.objectIds}async function rt(t,e,i){const n=Object(h["c"])(t),r=await X(n,et["a"].from(e),{...i});return{count:r.data.count,extent:g["a"].fromJSON(r.data.extent)}}async function st(t,e,i){const n=Object(h["c"])(t);return(await Q(n,et["a"].from(e),{...i})).data.count}var ot=i("9209");let at=class extends ot["a"]{constructor(t){super(t),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(t,e){return this.executeJSON(t,e).then(i=>this.featureSetFromJSON(t,i,e))}async executeJSON(t,e){var i;const n={...this.requestOptions,...e},r=this._normalizeQuery(t),o=null!=(null==(i=t.outStatistics)?void 0:i[0]),a=Object(s["a"])("featurelayer-pbf-statistics"),c=!o||a;let l;if("pbf"===this.format&&c)try{l=await R(this.url,r,n)}catch(u){if("query:parsing-pbf"!==u.name)throw u;this.format="json"}return"json"!==this.format&&c||(l=await Object(O["b"])(this.url,r,n)),this._normalizeFields(l.fields),l}async featureSetFromJSON(t,e,n){if(!(this._queryIs3DObjectFormat(t)&&Object(o["l"])(this.infoFor3D)&&e.features&&e.features.length))return P["default"].fromJSON(e);const{meshFeatureSetFromJSON:r}=await Object(a["y"])(Promise.all([i.e("chunk-01941038"),i.e("chunk-434f637c")]).then(i.bind(null,"0387")),n);return r(t,this.infoFor3D,e)}executeForCount(t,e){const i={...this.requestOptions,...e},n=this._normalizeQuery(t);return Object(b["a"])(this.url,n,i)}executeForExtent(t,e){const i={...this.requestOptions,...e},n=this._normalizeQuery(t);return v(this.url,n,i)}executeForIds(t,e){const i={...this.requestOptions,...e},n=this._normalizeQuery(t);return Object(w["a"])(this.url,n,i)}executeRelationshipQuery(t,e){t=$["a"].from(t);const i={...this.requestOptions,...e};return(this.gdbVersion||this.dynamicDataSource)&&((t=t.clone()).gdbVersion=t.gdbVersion||this.gdbVersion,t.dynamicDataSource=t.dynamicDataSource||this.dynamicDataSource),G(this.url,t,i)}executeRelationshipQueryForCount(t,e){t=$["a"].from(t);const i={...this.requestOptions,...e};return(this.gdbVersion||this.dynamicDataSource)&&((t=t.clone()).gdbVersion=t.gdbVersion||this.gdbVersion,t.dynamicDataSource=t.dynamicDataSource||this.dynamicDataSource),U(this.url,t,i)}executeAttachmentQuery(t,e){const i={...this.requestOptions,...e};return f(this.url,t,i)}executeTopFeaturesQuery(t,e){const i={...this.requestOptions,...e};return it(this.parsedUrl,t,this.sourceSpatialReference,i)}executeForTopIds(t,e){const i={...this.requestOptions,...e};return nt(this.parsedUrl,t,i)}executeForTopExtents(t,e){const i={...this.requestOptions,...e};return rt(this.parsedUrl,t,i)}executeForTopCount(t,e){const i={...this.requestOptions,...e};return st(this.parsedUrl,t,i)}_normalizeQuery(t){let e=m["a"].from(t);if(e.sourceSpatialReference=e.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(e=e===t?e.clone():e,e.gdbVersion=t.gdbVersion||this.gdbVersion,e.dynamicDataSource=t.dynamicDataSource?u["a"].from(t.dynamicDataSource):this.dynamicDataSource),Object(o["l"])(this.infoFor3D)&&this._queryIs3DObjectFormat(t)){e=e===t?e.clone():e,e.formatOf3DObjects=null;for(const t of this.infoFor3D.queryFormats){if("3D_glb"===t.id){e.formatOf3DObjects=t.id;break}"3D_gltf"!==t.id||e.formatOf3DObjects||(e.formatOf3DObjects=t.id)}if(!e.formatOf3DObjects)throw new r["a"]("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(Object(o["k"])(e.outFields)||!e.outFields.includes("*")){e=e===t?e.clone():e,Object(o["k"])(e.outFields)&&(e.outFields=[]);const{originX:i,originY:n,originZ:r,translationX:s,translationY:a,translationZ:c,scaleX:l,scaleY:u,scaleZ:h,rotationX:d,rotationY:p,rotationZ:f,rotationDeg:b}=this.infoFor3D.transformFieldRoles;e.outFields.push(i,n,r,s,a,c,l,u,h,d,p,f,b)}}return e}_normalizeFields(t){if(Object(o["l"])(this.fieldsIndex)&&Object(o["l"])(t))for(const e of t){const t=this.fieldsIndex.get(e.name);t&&Object.assign(e,t.toJSON())}}_queryIs3DObjectFormat(t){return Object(o["l"])(this.infoFor3D)&&t.returnGeometry&&"xyFootprint"!==t.multipatchOption&&!t.outStatistics}};Object(n["a"])([Object(c["b"])({type:u["a"]})],at.prototype,"dynamicDataSource",void 0),Object(n["a"])([Object(c["b"])()],at.prototype,"fieldsIndex",void 0),Object(n["a"])([Object(c["b"])()],at.prototype,"format",void 0),Object(n["a"])([Object(c["b"])()],at.prototype,"gdbVersion",void 0),Object(n["a"])([Object(c["b"])()],at.prototype,"infoFor3D",void 0),Object(n["a"])([Object(c["b"])()],at.prototype,"sourceSpatialReference",void 0),at=Object(n["a"])([Object(l["a"])("esri.tasks.QueryTask")],at);const ct=at},ff57:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n,r=i("a4ee"),s=i("7ffa"),o=i("59b2"),a=(i("cea0"),i("448d")),c=i("d386"),l=i("667b"),u=i("be4d"),h=i("82e4");let d=n=class extends(Object(u["a"])(l["a"])){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,e){await Promise.all([this.collectSymbolFields(t,e),this.collectVVRequiredFields(t,e)])}async collectSymbolFields(t,e){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(t,e)))}getSymbol(t,e){return this.symbol}async getSymbolAsync(t,e){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((t,e)=>t+e.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((t,e)=>t+JSON.stringify(e),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new n({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(s["a"])(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],d.prototype,"description",void 0),Object(r["a"])([Object(o["b"])({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(r["a"])([Object(o["b"])(h["b"])],d.prototype,"symbol",void 0),Object(r["a"])([Object(a["a"])({simple:"simple"})],d.prototype,"type",void 0),d=n=Object(r["a"])([Object(c["a"])("esri.renderers.SimpleRenderer")],d);const p=d}}]);
//# sourceMappingURL=chunk-vendors.2af437db.js.map