{"version":3,"sources":["webpack:///./node_modules/@arcgis/core/layers/effects/EffectView.js","webpack:///./node_modules/@arcgis/core/layers/support/sublayerUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/rendererConversion.js","webpack:///./node_modules/@arcgis/core/layers/support/ExportImageParameters.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/numberUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/utils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","webpack:///./node_modules/@arcgis/core/renderers/support/utils.js","webpack:///./node_modules/@arcgis/core/widgets/smartMapping/support/utils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/Card.js","webpack:///./node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","webpack:///./node_modules/@arcgis/core/widgets/Legend.js"],"names":["a","h","t","super","this","_from","_to","_final","_current","_time","duration","effects","_get","_set","_transitionTo","_","e","getLogger","declaredClass","warn","effect","error","transitioning","length","_updateForScale","scale","p","_applyTimeTransition","m","Math","min","s","r","i","g","n","c","o","interpolate","prototype","value","readOnly","u","d","l","f","push","flatten","sublayers","some","originIdOf","source","type","mapLayerId","id","gdbVersion","slice","reverse","toArray","map","minScale","layerDefinition","renderer","Array","isArray","details","symbol","filter","sort","forEach","join","symbolErrors","uniqueValueInfos","defaultSymbol","unshift","classBreakInfos","visible","definitionExpression","labelingInfo","labelsVisible","opacity","maxScale","floors","layer","hasDynamicLayers","visibleSublayers","toExportImageJSON","JSON","stringify","serviceSublayers","handles","remove","add","allSublayers","on","notifyChange","propertyName","floorInfo","reduce","commitProperty","dpi","format","imageFormat","transparent","imageTransparency","dynamicLayers","layers","layerDefs","Number","featuresTilingScheme","getClosestInfoForScale","level","levels","visualVariables","find","field","minSize","size","minDataValue","maxSize","maxDataValue","toFixed","previous","next","String","match","integer","split","fractional","toLowerCase","indexOf","abs","floor","tolerance","strictBounds","indexes","maximumFractionDigits","U","async","stops","label","Promise","all","color","getColor","getOpacity","startIndex","endIndex","weight","blendColors","colorRamps","max","toColor","fromColor","colorStops","ratio","HH","HL","LL","LH","2","3","4","symbolLayers","getItemAt","style","top","bottom","left","right","focus","infos","numClasses","L","fill","colors","labels","rotation","legendOptions","customValues","y","b","v","target","S","k","j","authoringInfo","O","D","univariateTheme","E","T","q","outlineSize","clone","material","resource","href","outline","width","getSizeRangeAtScale","ceil","w","z","x","V","getSize","view","shape","height","font","log10","notation","minimumSignificantDigits","maximumSignificantDigits","K","Y","Z","ee","te","le","se","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","re","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","ne","ie","ae","oe","ue","ce","de","ye","he","me","pe","ge","be","Se","fe","_e","ve","we","Le","Ee","Ie","Ce","Fe","Re","Ve","Te","ze","xe","je","Oe","De","path","Me","Pe","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","added","removed","uid","destroy","end","_getParentLayerOpacity","_isGroupActive","featureReduction","get","test","_isScaleDrivenSizeVariable","_isLayerScaleDriven","_isLayerInCurrentView","from","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","then","_constructLegendElementsForVoxellayer","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","renderingRule","functionName","bandIds","_getLegendLayers","watch","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","catch","createQuery","geometry","extent","queryFeatureCount","ready","expression","valueExpression","loaded","sourceJSON","getVariableStyle","uniqueValues","enabled","transferFunction","stretchRange","preview","concat","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","resolve","_legendRequest","exportImageServiceParameters","toJSON","raster","viewId","url","replace","version","substring","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","values","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","backgroundColor","dotSize","effectList","has","stroke","offset","effectView","calculateDotValue","unit","round","attributes","_getElementInfoForDotDensity","valueExpressionTitle","_loadRenderer","_getVisualVariableLegendElements","Set","findIndex","field1","field2","normalizationField","_getFieldAlias","normField","angle","_getDomainName","defaultLabel","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","_constructTileImageryStretchRendererElements","statistics","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","rasterInfo","pixelType","bandCount","_getStretchLegendElements","_getServerSideLegend","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","hasStandardTime","getStandardTimeValue","keys","colorRamp","colorName","bandName","axis","_effectiveRenderer","clusterMinSize","clusterMaxSize","showLegend","_getMedianColor","_fetchSymbol","apply","_applySymbolToRenderer","reject","portal","user","username","styleName","styleUrl","fetchCIMSymbol","fetchSymbol","toRgba","_applyColorTo3dSymbol","_getRampTitle","getField","_getClusterTitle","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","dependsOn","Ae","state","allLayerViews","legendProperties","ofType","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","_allLayerViewsChangeHandle","bind","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","includes","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","diamondContainer","diamondLeftCol","diamondRightCol","diamondMidCol","diamondMidColLabel","diamondMidColRamp","squareTable","squareTableRow","squareTableCell","squareTableLabel","squareTableLabelLeftBottom","squareTableLabelRightBottom","squareTableLabelLeftTop","squareTableLabelRightTop","class","markerStart","markerEnd","sqrt","C","R","$","M","B","H","W","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","transform","x1","y1","x2","y2","univariateAboveAndBelowSymbol","document","createElement","className","toString","append","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","activated","base","stacked","carouselTitle","indicator","intervalSeparator","imageryLayerStretchedImage","imageLabel","layerCaption","labelElement","layerRow","labelCell","message","rampLabel","section","relationshipSection","serviceCaptionText","serviceContent","service","groupLayer","groupLayerChild","sizeRampRow","symbolRow","symbolCell","indicatorContainer","intervalSeparatorsContainer","relationshipLabelContainer","labelContainer","serviceCaptionContainer","symbolContainer","sizeRampContainer","sizeRampPreview","rampContainer","sizeRampHorizontal","rampLabelsContainer","layerInfo","univariateAboveAndBelowColorRamp","hidden","window","devicePixelRatio","primitive","N","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","own","_watchForSectionChanges","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","display","flexDirection","marginTop","marginLeft","justifyContent","afterCreate","isBright","background","textShadow","border","_renderImage","alt","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","marginRight","cloneNode","_renderSizeRampLines","layerTable","layerTableSizeRamp","layerChildTable","layerBody","layerCell","imageryLayerCellStretched","imageryLayerInfoStretched","sizeRamp","opacityRamp","borderlessRamp","rampTick","rampFirstTick","rampLastTick","univariateAboveAndBelowLabel","header","alignItems","verticalAlign","A","I","_getStretchStopLabel","widget","panel","widgetIcon","iconClass","viewModel","scheduleRender","_refreshActiveLayerInfos","render","_renderOnActiveLayerInfoChange","aliasOf","overridable"],"mappings":"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","file":"js/chunk-4fddd802.43451411.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import s from\"../../core/has.js\";import{clone as r}from\"../../core/lang.js\";import i from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as o}from\"./parser.js\";import{canInterpolateEffects as l,normalizeEffects as f}from\"./utils.js\";const a=-1;let h=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=s(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(_(t))}catch(e){this._transitionTo([]),i.getLogger(this.declaredClass).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&p(this._current,_(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}end(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&p(this._current,t,this.scale)?(this._final=t,this._to=r(t),m(this._current,this._to,this.scale),this._from=r(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?r(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=g(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?r(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};t([n()],h.prototype,\"_to\",void 0),t([n()],h.prototype,\"duration\",void 0),t([n({value:\"\"})],h.prototype,\"effect\",null),t([n({readOnly:!0})],h.prototype,\"effects\",void 0),t([n({readOnly:!0})],h.prototype,\"hasEffects\",null),t([n({value:0})],h.prototype,\"scale\",null),t([n({readOnly:!0})],h.prototype,\"transitioning\",null),h=t([c(\"esri.layers.effects.EffectView\")],h);const u=h;function _(t){const e=o(t)||[];return d(e)?[{scale:a,effects:e}]:e}function p(t,e,s){var r,i,n,c;if(null==(r=t[0])||!r.effects||null==(i=e[0])||!i.effects)return!0;return!(((null==(n=t[0])?void 0:n.scale)===a||(null==(c=e[0])?void 0:c.scale)===a)&&(t.length>1||e.length>1)&&s<=0)&&l(t[0].effects,e[0].effects)}function m(t,e,s){var r,i;const n=t.length>e.length?t:e,c=t.length>e.length?e:t,o=c[c.length-1],l=null!=(r=null==o?void 0:o.scale)?r:s,h=null!=(i=null==o?void 0:o.effects)?i:[];for(let f=c.length;f<n.length;f++)c.push({scale:l,effects:[...h]});for(let u=0;u<n.length;u++)c[u].scale=c[u].scale===a?s:c[u].scale,n[u].scale=n[u].scale===a?s:n[u].scale,f(c[u].effects,n[u].effects)}function g(t,e,s){return t+(e-t)*s}function d(t){const e=t[0];return!!e&&\"type\"in e}export{p as canInterpolateEffectStops,_ as convertEffectToStops,u as default,m as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nfunction e(e,n,i){const o=n.flatten((({sublayers:e})=>e)).length;if(o!==e.length)return!0;return!!e.some((e=>e.originIdOf(\"minScale\")>i||e.originIdOf(\"maxScale\")>i||e.originIdOf(\"renderer\")>i||e.originIdOf(\"labelingInfo\")>i||e.originIdOf(\"opacity\")>i||e.originIdOf(\"labelsVisible\")>i||e.originIdOf(\"source\")>i))||!r(e,n)}function n(e,n,i){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"opacity\")>2||e.originIdOf(\"labelsVisible\")>2}))||!r(e,n)}function r(e,n){if(!e||!e.length)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:t}of e){for(;i<o&&r[i]!==t;)i++;if(i>=o)return!1}return!0}function i(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as isExportDynamic,i as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e}from\"../../core/maybe.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type}function s(n){if(e(n))return null;if(!o(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":return null}return null}function t(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function u(r){return t(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}export{o as isSupportedRenderer3D,s as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as a}from\"./commonProperties.js\";import{isExportDynamic as l}from\"./sublayerUtils.js\";import{getLayerFloorFilterClause as n,combineFloorsDefinitionExpression as y}from\"../../views/support/floorFilterUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&l(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){var e;const r=!(null==(e=this.floors)||!e.length),s=this.visibleSublayers.filter((e=>null!=e.definitionExpression||r&&null!=e.floorInfo));return s.length?JSON.stringify(s.reduce(((e,r)=>{const s=n(this.floors,r),i=t(s)?y(s,r):r.definitionExpression;return e[r.id]=i,e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([i({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([i()],c.prototype,\"floors\",void 0),e([i({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([i()],c.prototype,\"layer\",null),e([i({readOnly:!0})],c.prototype,\"layers\",null),e([i({readOnly:!0})],c.prototype,\"layerDefs\",null),e([i({type:Number})],c.prototype,\"scale\",void 0),e([i(a)],c.prototype,\"timeExtent\",void 0),e([i({readOnly:!0})],c.prototype,\"version\",null),e([i({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([o(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=l&&l.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().indexOf(\"e\")>-1){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{formatDate as A,convertDateFormatToIntlOptions as a}from\"../../../intl/date.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";const g=\"<\",w=\">\",I=a(\"short-date\");function U(a,U,e,i){let o=\"\";0===U?o=`${g} `:U===e&&(o=`${w} `);let r=null;return r=i?A(a,I):t(a),o+r}const e=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];export{e as RGB_IMG_SOURCE,w as SPECIAL_CHARS_GREATER_THAN,g as SPECIAL_CHARS_LESS_THAN,U as createStopLabel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.indexOf(t)>-1?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c[n]}))))).reverse()}async function t(e,n,r=o){const t=new l(r),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label)));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s[n]}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach((function(r,t){0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){let t=r.colorStops,e=t.length-1;if(t&&t[0]){const r=t[e];r&&1!==r.ratio&&(t=t.slice(0),t.push(new o({ratio:1,color:r.color})),e++)}return t.map(((o,r)=>{let t=\"\";return 0===r?t=\"low\":r===e&&(t=\"high\"),{color:o.color,label:t,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as e,getFill as o}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.indexOf(\"3d\")>-1)return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const o=e(t);return o&&o.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const o=e(t);return o&&o.color}return o(t)}function H(t,e){const o=e.HH.label,r=e.LL.label,s=e.HL.label,l=e.LH.label;switch(t){case\"HH\":default:return{top:o,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:o};case\"LL\":return{top:r,bottom:o,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:o,right:r}}}function L(e,o){const r=[],s=e.length**.5,l=t(e),n=(o||\"HH\").split(\"\"),H=n[0],L=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function i(t){const{focus:e,infos:o,numClasses:r}=t,s=l[r],L={};o.forEach((t=>{L[t.value]={label:t.label,fill:n(t.symbol)}}));const i=[];for(let l=0;l<r;l++){const t=[];for(let e=0;e<r;e++){const o=L[s[l][e]];t.push(o.fill)}i.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:e,colors:i,labels:H(e,L),rotation:f(e)}}function f(t){let e=s[t];return t&&null==e&&(e=s.HH),e||0}export{L as getRelationshipRampColors2D,i as getRelationshipRampElement,f as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as i}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as o}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as s,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{createStopLabel as a}from\"./utils.js\";const u=30,c=12,m=[255,255,255],f=[200,200,200],p=[128,128,128],y=20,b=5;function d(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function h(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function g(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function w(e,l){const t=e.length-1;return e.map(((e,n)=>a(e,n,t,l)))}async function S(e,l,n,i,o,a){var u,c;const m=l.legendOptions,f=m&&m.customValues,p=V(e,n),y=!!p,b=!!f,d=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,v=!!l.target;if(!y||!b&&!(d||h&&!v))return;const g=s(p);let S=null,k=null,j=null;k=g&&!h?t([l.minDataValue,l.maxDataValue]):f||await C(l,p,i,o);const L=null==e?void 0:e.authoringInfo,O=\"univariate-color-size\"===(null==L?void 0:L.type),D=O&&\"above-and-below\"===(null==L?void 0:L.univariateTheme);if(!k&&h&&(k=l.stops.map((e=>e.value)),S=l.stops.some((e=>!!e.label)),S&&(j=l.stops.map((e=>e.label)))),g&&(null==(u=k)?void 0:u.length)>2&&!D&&(k=[k[0],k[k.length-1]]),!k)return null;O&&5!==(null==(c=k)?void 0:c.length)&&(k=I({minSize:k[0],maxSize:k[k.length-1]}));const E=g?z(e,k):null,T=r(p),q=S?null:w(k,a);return(await Promise.all(k.map((async(t,n)=>{const s=g?E[n]:await M(l,p,t,i,o);return{value:t,symbol:U(D&&\"class-breaks\"===e.type?x(e,n):p,s),label:S?j[n]:q[n],size:s,outlineSize:T}})))).reverse()}function z(e,l){const t=null==e?void 0:e.authoringInfo,n=\"univariate-color-size\"===(null==t?void 0:t.type);let i=[c,u];if(n){const e=l[0],t=l[l.length-1],n=c,o=u;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&\"below\"===(null==t?void 0:t.univariateTheme)&&i.reverse(),i}function x(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(i.type.indexOf(\"3d\")>-1?j(i):L(i)),i}function V(e,l){let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}return!t||k(t)?null:(t=t.clone(),(l||n)&&(t.type.indexOf(\"3d\")>-1?j(t):L(t)),t)}function k(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return-1!==e.type.indexOf(\"fill\")}return!1}function j(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:p}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:f}:(e.material={color:m},e.outline={color:p,size:1.5})}))}function L(l){\"cim\"===l.type?o(l,new e(f)):-1!==l.type.indexOf(\"line\")?l.color=p:(l.color=m,\"simple-marker\"===l.type&&(l.outline={color:p,width:1.5}))}async function C(e,l,n,i){const o=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,i),s=o&&I(o);if(!o&&!s)return;let r=s.map((l=>O(l,e,o)));r=t(r);for(let t=1;t<r.length-1;t++){const o=await D(e,l,r[t],r[t-1],n,i);o&&(r[t]=o[0],s[t]=o[1])}return r}function I(e){const l=e.minSize,t=e.maxSize,n=b,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function O(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r=null;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function D(e,l,o,s,r,a){const u=await M(e,l,o,r,a),c=await M(e,l,s,r,a),m=n(o),f=m.fractional,p=y;let b=m.integer,d=null,h=null;o>0&&o<1&&(d=10**f,b=n(o*=d).integer);for(let n=b-1;n>=0;n--){const s=10**n;let m=Math.floor(o/s)*s,f=Math.ceil(o/s)*s;null!=d&&(m/=d,f/=d);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const b=await M(e,l,m,r,a),v=await M(e,l,f,r,a),g=await M(e,l,y,r,a),w=i(u,b,c,null),S=i(u,v,c,null),z=i(u,g,c,null);let x=w.previous<=p,V=S.previous<=p;if(x&&V&&(w.previous<=S.previous?(x=!0,V=!1):(V=!0,x=!1)),x?h=[m,b]:V?h=[f,v]:z.previous<=p&&(h=[y,g]),h)break}return h}async function M(e,l,t,n,i){const{getSize:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(e,t,{scale:n,view:i,shape:\"simple-marker\"===l.type?l.style:null})}function U(e,t){const n=e.clone();if(l(n))s(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(d(n))n.size=t;else if(h(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else v(n)?n.width=t:g(n)&&n.font&&(n.font.size=t);return n}export{u as REAL_WORLD_MAX_SIZE,c as REAL_WORLD_MIN_SIZE,S as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{unique as e}from\"../../core/arrayUtils.js\";import n from\"../../core/Logger.js\";import{convertDateFormatToIntlOptions as t,formatDate as l}from\"../../intl/date.js\";import{format as a,round as i}from\"./numberUtils.js\";import o from\"../visualVariables/support/ColorStop.js\";const r=n.getLogger(\"esri.renderers.support.utils\"),s={lte:\"<=\",gte:\">=\",lt:\"<\",gt:\">\",pct:\"%\",ld:\"–\"},u={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},d={millisecond:\"long-month-day-year-long-time\",second:\"long-month-day-year-long-time\",minute:\"long-month-day-year-short-time\",hour:\"long-month-day-year-short-time\",day:\"long-month-day-year\",month:\"long-month-day-year\",year:\"year\"},m=t(\"short-date\");function f(e,n,t){let l=\"\";return 0===n?l=s.lt+\" \":n===t&&(l=s.gt+\" \"),l+e}function c(e){const{values:n,colors:t,labelIndexes:i,isDate:r,dateFormatOptions:s}=e;return n.map(((e,u)=>{let d=null;if(!i||i.indexOf(u)>-1){let t;t=r?l(e,s):a(e),t&&(d=f(t,u,n.length-1))}return new o({value:e,color:t[u],label:d})}))}function p(e){const{stops:n,changes:t,isDate:o,dateFormatOptions:r}=e,s=n.map((e=>e.value)),u=[];for(const l of t)u.push(l.index),s[l.index]=l.value;const d=i(s,{indexes:u});n.forEach(((e,t)=>{if(e.value=s[t],null!=e.label){let i,s=null;i=o?l(d[t],r):a(d[t]),i&&(s=f(i,t,n.length-1)),e.label=s}}))}function h(e){let n=e.minValue,t=e.maxValue;const l=e.isFirstBreak?\"\":s.gt+\" \",i=\"percent-of-total\"===e.normalizationType?s.pct:\"\";return n=null==n?\"\":a(n),t=null==t?\"\":a(t),l+n+i+\" \"+s.ld+\" \"+t+i}function y(e){const n=e.classBreakInfos,t=e.normalizationType;let l=[];if(n&&n.length)if(\"standard-deviation\"!==e.classificationMethod)if(e.round){l.push(n[0].minValue);for(const e of n)l.push(e.maxValue);l=i(l),n.forEach(((e,n)=>{e.label=h({minValue:0===n?l[0]:l[n],maxValue:l[n+1],isFirstBreak:0===n,normalizationType:t})}))}else n.forEach(((e,n)=>{e.label=h({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===n,normalizationType:t})}));else r.warn(\"setLabelsForClassBreaks\",\"cannot set labels for class breaks generated using 'standard-deviation' method.\")}function g(e){if(\"standard-deviation\"===e.classificationMethod)return void r.warn(\"updateClassBreak\",\"cannot update labels for class breaks generated using 'standard-deviation' method.\");const n=e.classBreaks,t=e.change,l=t.index,a=t.value,i=n.length;let o=-1,s=-1;0===l?o=l:l===i?s=l-1:(s=l-1,o=l);const u=e.normalizationType;let d=null;o>-1&&o<i&&(d=n[o],d.minValue=a,d.label=h({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===o,normalizationType:u})),s>-1&&s<i&&(d=n[s],d.maxValue=a,d.label=h({minValue:d.minValue,maxValue:d.maxValue,isFirstBreak:0===s,normalizationType:u}))}function x(e){const n=e.map((e=>new Date(e))),t=n.length;let l=1/0,a=null;for(let i=0;i<t-1;i++){const e=n[i];let o=1/0,r=null;for(let l=i+1;l<t;l++){const t=n[l],a=(e.getFullYear()!==t.getFullYear()?\"year\":e.getMonth()!==t.getMonth()&&\"month\")||e.getDate()!==t.getDate()&&\"day\"||e.getHours()!==t.getHours()&&\"hour\"||e.getMinutes()!==t.getMinutes()&&\"minute\"||e.getSeconds()!==t.getSeconds()&&\"second\"||\"millisecond\",i=u[a];i<o&&(o=i,r=a)}o<l&&(l=o,a=r)}return a}function V(e){const{value:n,domain:i,fieldInfo:o,dateFormatInterval:r}=e;let s=String(n);const u=i&&\"codedValues\"in i&&i.codedValues?i.getName(n):null;return u?s=u:\"number\"==typeof n&&(s=o&&\"date\"===o.type?l(n,r&&t(d[r])):a(n)),s}function b(e,n){return\"normalizationField\"in e&&e.normalizationField?F(e.field,e.normalizationField):\"field\"in e&&e.field?v(e.field):\"valueExpression\"in e&&e.valueExpression?z(e.valueExpression,e.valueExpressionTitle,n):null}function v(e){return{type:\"field\",field:e}}function F(e,n){return{type:\"normalized-field\",field:e,normalizationField:n}}function z(e,n,t){return{type:\"expression\",expression:e,title:n,returnType:t}}function k(n,t){const l=[];if(\"class-breaks\"===n.type||\"heatmap\"===n.type)l.push(b(n,\"number\"));else if(\"unique-value\"===n.type){const e=n.authoringInfo;if(e&&\"relationship\"===e.type){if(e.field1&&e.field2){const n=e.field1.field,t=e.field2.field,a=e.field1.normalizationField,i=e.field2.normalizationField;l.push(b({field:n,normalizationField:a})),l.push(b({field:t,normalizationField:i}))}}else{const e=n.uniqueValueInfos[0];let t=null;if(e&&e.value){const e=typeof n.uniqueValueInfos[0].value;\"string\"!==e&&\"number\"!==e||(t=e)}l.push(b(n,t)),[n.field2,n.field3].forEach((e=>e&&l.push(v(e))))}}else\"dot-density\"===n.type&&n.attributes.forEach((e=>l.push(b(e,\"number\"))));const a=t?t(n):\"visualVariables\"in n?n.visualVariables:null;return a&&a.forEach((e=>l.push(b(e,\"number\")))),e(l.filter(Boolean),((e,n)=>\"field\"===e.type&&\"field\"===n.type?e.field===n.field:\"normalized-field\"===e.type&&\"normalized-field\"===n.type?e.field===n.field&&e.normalizationField===n.normalizationField:\"expression\"===e.type&&\"expression\"===n.type&&e.expression===n.expression))}export{x as calculateDateFormatInterval,h as createClassBreakLabel,c as createColorStops,V as createUniqueValueLabel,b as getAttribute,k as getAttributes,y as setLabelsForClassBreaks,m as timelineDateFormatOptions,g as updateClassBreak,p as updateColorStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport t from\"../../../Color.js\";import{isSome as n}from\"../../../core/maybe.js\";import{formatDate as i}from\"../../../intl/date.js\";import{formatNumber as o}from\"../../../intl/number.js\";import{timelineDateFormatOptions as e}from\"../../../renderers/support/utils.js\";import r from\"../../../renderers/visualVariables/SizeVariable.js\";function a(t){return i(new Date(t),e)}function s(t){const n=2,i=Math.floor(Math.log10(Math.abs(t)))+1,e=i<4||i>6?4:i,r=1e6,a=Math.abs(t)>=r?\"compact\":\"standard\";return o(t,{notation:a,minimumSignificantDigits:n,maximumSignificantDigits:e})}function u(t,i,o){if(!n(i)||!n(t))return[];const e=[];for(let n=-1*o;n<=o;n++)0!==n&&e.push(i+n*t);return e}function m(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:a}=t,s=n-i;let u,m=`M0 0 L${r} 0 `;const h=3===a.length?[a[0],a[1],a[2]]:[a[0],a[2],a[4]],f=Math.min.apply(Math,h.map((t=>t.size))),p=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach((({size:t,value:n},a)=>{const h=Math.round((t-f)/p*100)/100,c=Math.round(e-(n-i)/s*e);u=h*r,0===u&&(u=o*r),0===a&&(m+=`L${u} 0 `),m+=`L${u} ${c} `})),m+=`L${u} ${e} L0 ${e} L0 0 Z`,m}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:a,topValue:s,topWidth:u}=t,m=u*a,h=i*a,f=o-e,p=Math.round(r-(n-e)/f*r);return`M${m} 0 L${m} ${Math.round(r-(s-e)/f*r)} L${h} ${p} L${h} ${r} L0 ${r} L0 0 Z`}function f(t){let n=t.maxSize,i=t.minSize;return n instanceof r&&(n=n.stops[0].size),i instanceof r&&(i=i.stops[0].size),[n,i]}function p(t,n,i){const o=i.length-1,e=i[0],r=i[o]-e,a=n-t,s=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*a+t;s.push({index:u,value:n})}return s.unshift({index:0,value:t}),s.push({index:o,value:n}),s}function c(n){return n instanceof t?n.toCss(!0):t.fromString(n).toCss(!0)}export{a as formatDateLabel,s as formatNumberLabel,u as getDeviationValues,m as getDynamicPathForSizeStops,c as getFillFromColor,h as getPathForSizeStops,f as getSizesFromVariable,p as getStopChanges};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as l}from\"../../../kernel.js\";import s from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import n from\"../../../core/Collection.js\";import i from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as c}from\"../../../core/maybe.js\";import{eachAlways as d,debounce as y}from\"../../../core/promiseUtils.js\";import{px2pt as h}from\"../../../core/screenUtils.js\";import{addQueryParameters as m}from\"../../../core/urlUtils.js\";import{on as p,init as f,whenFalseOnce as g,watch as b}from\"../../../core/watchUtils.js\";import{property as S}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import v from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as w}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as L}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as E}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as C}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as R}from\"../../../symbols/support/cimSymbolUtils.js\";import{renderSymbol as V}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as T,renderDotDensityPreviewHTML as z,renderPreviewHTML as x}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as j}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as O}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as D,getRampStopsForPointCloud as M,getStrectchRampStops as P,getRampStops as A}from\"./colorRampUtils.js\";import{getHeatmapRampStops as U}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as B,getRelationshipRampElement as k}from\"./relationshipRampUtils.js\";import{getRampStops as N,REAL_WORLD_MAX_SIZE as q,REAL_WORLD_MIN_SIZE as W}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as $,SPECIAL_CHARS_GREATER_THAN as G,RGB_IMG_SOURCE as J}from\"./utils.js\";import{formatNumberLabel as Q}from\"../../smartMapping/support/utils.js\";import H from\"../../../symbols/SimpleMarkerSymbol.js\";import X from\"../../../symbols/SimpleFillSymbol.js\";const K=o.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),Y=\"https://utility.arcgis.com/sharing/tools/legend\",Z=\"esri.layers.ImageryLayer\",ee=\"esri.layers.ImageryTileLayer\",te=\"esri.layers.WCSLayer\",le=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,se=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),re={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ne=new H({size:6,outline:{color:[128,128,128,.5],width:.5}}),ie=new X({style:\"solid\"});function ae(e){return\"vector-field\"===e.type}function oe(e){return\"raster-colormap\"===e.type}function ue(e){return\"raster-stretch\"===e.type}function ce(e){return\"raster-shaded-relief\"===e.type}function de(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function ye(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function he(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function me(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function pe(e){return ge(e)||be(e)||Se(e)||fe(e)}function fe(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function ge(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function be(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Se(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function _e(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function ve(e,t){return de(e)||ye(e)||he(e)||me(e)||_e(e)?\"2d\"===t.type||C(e):ue(e)||oe(e)||ce(e)||ge(e)||be(e)||Se(e)||ae(e)}function we(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function Le(e){return\"esri.layers.VoxelLayer\"===e.declaredClass}function Ee(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function Ie(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function Ce(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function Fe(e){return\"esri.layers.TileLayer\"===e.declaredClass}function Re(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function Ve(e){return e.declaredClass===Z}function Te(e){return e.declaredClass===ee}function ze(e){return e.declaredClass===te}function xe(e){return\"stretch-ramp\"===e.type}function je(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)}function Oe(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)&&\"above-and-below\"===(null==t?void 0:t.univariateTheme)}const De=new H({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let Me={},Pe=class extends r{constructor(e){super(e),this._handles=new i,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new n,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([p(this,\"children\",\"change\",(t=>{const{added:l,removed:s}=t,r=this._handles;l.forEach((t=>{const l=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(f(t,\"ready\",e),l)})),s.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Me={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Me=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new v,t.effect=e.effect,t.end(),t.scale=this.scale),t}get opacity(){var e;const t=this.layer.opacity,l=null==(e=this.parent)?void 0:e.opacity,s=this.layer.parent,r=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=l?l*t:null!=r?r*t:t}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction&&\"cluster\"===e.featureReduction.type)return!0;if(\"renderer\"in e&&e.renderer){if(\"dot-density\"===e.renderer.type)return!0;const t=e.get(\"renderer.valueExpression\");if(le.test(t))return!0;const l=e.get(\"renderer.visualVariables\");if(l)return l.some((e=>this._isScaleDrivenSizeVariable(e)))}return this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(Re(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,l=t&&t.drawingInfo,s=l&&I(l.renderer),r=se.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:r}):(K.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await d(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(l){K.warn(\"error while building legend for layer!\",l)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){K.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(Le(e))this._constructLegendElementsForVoxellayer();else if(Ie(e))this._constructLegendElementsForWMTSlayer();else if(Ee(e))await this._constructLegendElementsForWMSSublayers();else if(we(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Ce(e)||Fe(e)||we(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let s=\"default\";if(Ve(e)){var t,l;const r=e;s=((null==r||null==(t=r.renderingRule)?void 0:t.functionName)||\"default\")+\"_\"+(null!=(l=e.bandIds)&&l.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${s}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const l=t.map((async t=>{if(Ve(e)||Te(e)){const t=e.watch([\"renderingRule\",\"bandIds\"],(()=>y((async()=>{Me.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const l=this._generateSymbolTableElementForLegendLayer(t);l&&l.infos.length&&(Ve(e)&&(l.title=e.title),this.legendElements.push(l)),this.notifyChange(\"ready\")}));await d(l)})).catch((e=>{K.warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,l=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!l&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await g(t,\"updating\");const s=l?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();s.geometry=this.view.extent;return 0!==(l?\"queryFeatureCount\"in t&&await t.queryFeatureCount(s):\"queryFeatureCount\"in e&&await e.queryFeatureCount(s))}_getParentLayerOpacity(e){let t=1;const l=e.parent;return l&&\"uid\"in l&&(t=this._getParentLayerOpacity(l)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,l=t.minSize,s=t.maxSize;return\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):!!t.expression||le.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&Ce(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const l of t.sourceJSON.layers)if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this._handles.remove(\"voxel-style-watcher\");const e=this.layer;this._handles.add(b(e,\"style\",(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=u(e.getVariableStyle(null)),l=[];var s;if(t)if(null!=(s=t.uniqueValues)&&s.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new X({color:t.color,outline:null})})})),e.length&&l.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:s}=t.transferFunction,r=e.toArray().reverse(),n=s.map(((e,t)=>`${0===t?$:G} ${Q(e)}`)).reverse(),i=r.map((e=>({color:e.color,value:null,label:null})));i[0].label=n[0],i[i.length-1].label=n[1],l.push({type:\"color-ramp\",title:t.label,infos:i,preview:T(r.map((e=>e.color)))})}const r=e.opacity,n=l.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,r)));await d(n),this.legendElements=l,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(b(this.layer,\"activeLayer\",(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((l=>e.styleId===l.id&&(t=l.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(b(this.layer,\"sublayers\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"title\",\"visible\",\"legendEnabled\"],(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&l.unshift(e)}}return l}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const l=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var l;let r=e.legendUrl;if(!r)return;const n={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(r=m(r,t));let i=null;const a=null==(l=e.layer)?void 0:l.opacity;try{i=(await s(r,{responseType:\"image\"})).data,i&&(i.style.opacity=a)}catch{}return n.infos.push({src:r,preview:i,opacity:a}),n}_getLegendLayers(e,t){const l=Me&&Me[e];return l?Promise.resolve(l):this._legendRequest(t).then((t=>{const l=t.layers;return Me[e]=l,l}))}_legendRequest(e){const t=this.layer;let l={f:\"json\",dynamicLayers:e};if(Ve(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(l.renderingRule=JSON.stringify(e.toJSON())),t.bandIds&&(l.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:s,customParameters:r}=t;l={raster:e,viewId:s,...l,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=Y+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return s(r,{query:l}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){K.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"renderer\",\"opacity\",\"title\",\"visible\"],(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,s);e.infos.push(...t),l=[e,...l]}else if(r.renderer){l=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:s,sublayer:r}),...l]}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){K.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,l){const s=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let n=e.toArray();!l&&this.sublayerIds&&this.sublayerIds.length&&(n=this.sublayerIds.map((e=>s.findSublayerById(e))).filter(Boolean));for(const i of n){const e=i.watch(\"renderer, opacity, title, visible, legendEnabled\",(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||i.visible&&i.legendEnabled&&this._isSublayerInScale(i)){const e=i&&null!=i.opacity?i.opacity:null,s=null!=e?e*t:t;if(i.renderer&&!i.sublayers&&i.originIdOf(\"renderer\")>2){await i.load();r=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:s,sublayer:i}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(i,s,l);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,l){if(!l){l=new Map;const t=this.layer,s=e.source;let r=null;if(!(!s||\"map-layer\"===s.type&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"labelsVisible\")>2){const e=new L({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const n=r||`${t.uid}-default`;(await this._getLegendLayers(n,r)).forEach((e=>l.set(e.layerId,e)))}const s=l.get(e.id);if(!s&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,l);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,l){var s;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const r=null==t?void 0:t.renderer;let n=(null==t?void 0:t.title)||e.layerName;if(r&&(!t||(null==t?void 0:t.originIdOf(\"renderer\"))>2)){const e=(null==t?void 0:t.title)||this._getRendererTitle(r,t);e&&(n&&\"string\"!=typeof e&&\"title\"in e&&(e.title=n),n=e)}const i={type:\"symbol-table\",title:n,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(s=e.legendGroups)?void 0:s.length)>0?e.legendGroups.forEach((t=>{var s;const r={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter((e=>e.groupId===t.id)),e.layerId,l)};(null==(s=r.infos)?void 0:s.length)>0&&i.infos.push(r)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,l),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,s){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=l(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:null==s?this.opacity:s,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,l=e.maxScale||0;return!(t>0&&t<this.scale||l>this.scale)}_isLegendLayerInScale(e,t){const l=t||this.layer;let s=null,r=null,n=!0;return!l.minScale&&0!==l.minScale||!l.maxScale&&0!==l.maxScale?(0===e.minScale&&l.tileInfo&&(s=l.tileInfo.lods[0].scale),0===e.maxScale&&l.tileInfo&&(r=l.tileInfo.lods[l.tileInfo.lods.length-1].scale)):(s=Math.min(l.minScale,e.minScale)||l.minScale||e.minScale,r=Math.max(l.maxScale,e.maxScale)),(s>0&&s<this.scale||r>this.scale)&&(n=!1),n}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const l=t.renderer,s=e.some((e=>e.values));let r=null,n=null;return s&&e.some(((e,t)=>(e.values||(r=t,n=e,n.label||(n.label=\"others\")),null!=n))),l?\"unique-value\"===l.type?n&&(e.splice(r,1),e.push(n)):\"class-breaks\"===l.type&&(n&&e.splice(r,1),e.reverse(),n&&e.push(n)):n&&(e.splice(r,1),e.push(n)),e}async _getRendererLegendElements(e,t={}){return ve(e,this.view)?pe(e)?this._constructPointCloudRendererLegendElements(e,t):_e(e)?this._constructDotDensityRendererLegendElements(e):this._constructRendererLegendElements(e,t):(K.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const l=t.title,s=[];let r=null,n=null;if(ge(e))r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(ne,e.color)})}));else if(be(e)){const t=e.stops;let s=null;if(t.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,l=t[t.length-1].value;if(null!=e&&null!=l){s=D(e+(l-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(ne,s||ne.color)}]};const i=M(e.stops);n={type:\"color-ramp\",title:l||this._getPointCloudRendererTitle(e),infos:i,preview:T(i.map((e=>e.color)))}}else Se(e)&&(r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(ne,e.color)})})));r&&r.infos.length&&s.push(r),n&&n.infos.length&&s.push(n);const i=s.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return d(i).then((()=>s))}_getElementInfoForDotDensity(e,t){const{backgroundColor:l,outline:s,dotSize:r}=e,n=this.effectList,i=null==n?void 0:n.effects.map((e=>e.toJSON())),a=w(i),o=r+\"-\"+t+\"-\"+l+\"-\"+(s&&JSON.stringify(s.toJSON()))+\"-\"+a,u=this._dotDensityUrlCache,c=u.has(o)?u.get(o):z(e,t);u.set(o,c);const d={shape:{type:\"image\",x:0,y:0,width:c.width,height:c.height,src:c.src},fill:null,stroke:null,offset:[0,0]},y=V([[d]],[c.width,c.height],{effectView:this.effectList});return{opacity:1,src:c.src,preview:y,width:c.width,height:c.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),l=e.legendOptions&&e.legendOptions.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:l||\"\"},infos:[]};return e.attributes.forEach((t=>{const l=this._getElementInfoForDotDensity(e,t.color);l.label=t.label||t.valueExpressionTitle||t.field,s.infos.push(l)})),Promise.resolve([s])}async _constructRendererLegendElements(e,t={}){const{title:l,sublayer:s}=t,r=s||this.layer;let n=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(n,r)||[],a={type:\"symbol-table\",title:l||this._getRendererTitle(n,r),infos:[]};let o=null,c=!1;const y=new Set;if(je(n)){let e=l;const t=Oe(n)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",s=i.findIndex((e=>\"color-ramp\"===e.type)),r=-1!==s?i.splice(s,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];r&&(e=r.title,u.push(r)),o&&(e=o.title,u.push(o)),u.length>0&&i.push({type:t,title:e,infos:u})}else if(me(n)){const e=U(n);i.push({type:\"heatmap-ramp\",title:l,infos:e,preview:T(e.map((e=>e.color)),{effectList:this.effectList})})}else if(he(n)){const e=n&&n.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:l,field1:s,field2:o}=e;if(l&&s&&o){const e=[s,o];let u=B(t)||0;for(const t of e){const{field:e,normalizationField:l,label:s}=t,n=s||{field:this._getFieldAlias(e,r),normField:l&&this._getFieldAlias(l,r)},i=De.clone();i.angle=u,a.infos.push({label:n,symbol:i}),y.add(i),u+=90}const c=k({focus:t,numClasses:l,infos:n.uniqueValueInfos});i.unshift(c)}}else{const e=n.field;n.uniqueValueInfos.forEach((t=>{t.symbol&&a.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}n.defaultSymbol&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),c=!0)}else if(ye(n)){o=this._isUnclassedRenderer(n);(!o||!this._hasSizeRamp)&&(n.classBreakInfos.forEach((e=>{e.symbol&&a.infos.unshift({label:e.label||(o?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),o&&(a.title=null),this._updateInfosforClassedSizeRenderer(n,a.infos)),n.defaultSymbol&&!o&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),c=!0)}else if(ue(n))if(Te(this.layer)||ze(this.layer)){const e=this._constructTileImageryStretchRendererElements(n);xe(e)?i.push(e):a.infos=e}else{const e=this.layer;let t,l;n.statistics&&n.statistics.length&&(t=null!=n.statistics[0].min?n.statistics[0].min:n.statistics[0][0],l=null!=n.statistics[0].max?n.statistics[0].max:n.statistics[0][1]);let s=[];const r=u(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties,c=re[e.rasterInfo.pixelType.toLowerCase()];1===r.bandCount||e.bandIds&&1===e.bandIds.length?(t=null!=t?t:r.statistics?r.statistics[e.bandIds[0]].min:c[0],l=null!=l?l:r.statistics?r.statistics[e.bandIds[0]].max:c[1],t||l?i.push(this._getStretchLegendElements(n,{min:t,max:l})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(s=e.bandIds.map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):\"lerc\"===e.format?(s=[0,1,2].map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():\"lerc\"===e.format?(s=[\"band1\",\"band2\",\"band3\"],a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():this._getServerSideLegend()}else if(oe(n))n.colormapInfos.forEach((e=>{a.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ie,e.color)})}));else if(de(n)){let e=n.symbol;switch(t.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}n.symbol&&!this._hasSizeRamp&&a.infos.push({label:n.label,symbol:e})}else if(ae(n)){n.outputUnit&&(this.title=\"(\"+n.toJSON().outputUnit+\")\"),a.title=n.attributeField;const e=n.getClassBreakInfos();null!=e&&e.length?e.forEach((e=>{a.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):a.infos.push({label:n.attributeField,symbol:n.getDefaultSymbol()})}else ce(n)&&i.push(this._getStretchLegendElements(n,{min:0,max:255}));const h=n.defaultSymbol;!h||c||de(n)||o&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:n.defaultLabel||\"others\",symbol:h}]}),a.infos.length&&i.unshift(a);const m=null==t.opacity?this.opacity:t.opacity,p=this._isTallSymbol(\"visualVariables\"in n&&n.visualVariables),f=Ve(this.layer)||Te(this.layer),g=i.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,m,{isDefault:e.symbol===h,applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:p,isSquareFill:f},effectList:y.has(e.symbol)?null:this.effectList})));return n=null,await d(g),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=null==e?void 0:e.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){var t,l;const s=this.layer,r=s.rasterInfo,n=r.bandCount||e.statistics.length;let i,a,o=[];const u=r.keyProperties&&r.keyProperties.BandProperties,c=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==r?void 0:r.statistics;if(c)i=void 0!==c[0].min?c[0].min:c[0][0],a=c[0].max||c[0][1];else{const e=re[s.rasterInfo.pixelType.toLowerCase()];i=e[0],a=e[1]}if(s.hasStandardTime()&&(i=s.getStandardTimeValue(i),a=s.getStandardTimeValue(a)),1===r.bandCount||1===(null==(l=s.bandIds)?void 0:l.length))return this._getStretchLegendElements(e,{min:i,max:a});function d(e){var t;const l=(null!=s&&null!=(t=s.bandIds)&&t.length?s.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return o=u&&u.length>=n?d(u):d(),this._createSymbolTableElementMultiBand(o)}_getStretchLegendElements(e,t){const l=e.colorRamp,s=P(l,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:T(s.map((e=>e.color)))}}_createSymbolTableElementMultiBand(e){const t=[],l=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:l[s],bandName:e},src:J[s],opacity:1})})),t}_updateInfosforClassedSizeRenderer(e,t){const l=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>j(e.symbol)));if(l&&s){const l=q,s=W,r=e.classBreakInfos.length,n=(l-s)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=l-n*t}))}}_isTallSymbol(e){let t=!1,l=!1;if(e)for(let s=0;s<e.length&&(!t||!l);s++){const r=e[s];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(l=!0))}return t&&l}async _getSymbolPreview(e,t,l){let s=null!=l&&l.isDefault||null!=e.size||!this._hasSizeRamp?e.size:h(22);if(this._scaleDrivenSizeVariable&&null!=l&&l.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return x(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:null==l?void 0:l.symbolConfig,effectView:null==l?void 0:l.effectList}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){var t,l;const s=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const n=\"visualVariables\"in e&&(null==(t=e.visualVariables)?void 0:t.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!le.test(e.valueExpression))));if(e&&\"visualVariables\"in e&&!n&&\"featureReduction\"in r&&\"cluster\"===(null==(l=r.featureReduction)?void 0:l.type)){const t=this.layerView._effectiveRenderer,l=u(O(t,this.view));if(l){const t=r.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:s}=t;l.legendOptions=new F({showLegend:e!==s})}const s=e.visualVariables||[];e.visualVariables=s.concat([l]),this._hasClusterSizeVariable=!0}}const i=await this._getMedianColor(e);if(ye(e)||he(e)){const t=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,i).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(s,t)}return s.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:i).then((t=>{this._applySymbolToRenderer(e,t,de(e))})).catch((()=>{this._applySymbolToRenderer(e,null,de(e))}))),d(s).then((()=>e))}_applySymbolToRenderer(e,t,l){l?e.symbol=t:e.defaultSymbol=t}async _getMedianColor(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const t=e.visualVariables.find((e=>\"color\"===e.type));if(!t)return null;let l=null,s=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;l=t.stops[0].value,s=t.stops[t.stops.length-1].value}const r=l+(s-l)/2,{getColor:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(t,r)}_fetchSymbol(e,t){if(!e)return Promise.reject();if(\"web-style\"===e.type){const l=e.portal,s=l&&l.url,r=l&&l.user&&l.user.username,n=e.name+\"-\"+e.styleName+\"-\"+e.styleUrl+\"-\"+s+\"-\"+r,i=this._webStyleSymbolCache;return i.has(n)||(\"2d\"===this.view.type?i.set(n,e.fetchCIMSymbol()):i.set(n,e.fetchSymbol())),i.get(n).then((e=>this._getAppliedCloneSymbol(e,t))).catch((()=>(K.warn(\"Fetching web-style failed!\"),Promise.reject())))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}_getAppliedCloneSymbol(e,l){if(!e||!l)return e;const s=e.clone(),r=l&&l.toRgba();return s.type.indexOf(\"3d\")>-1?this._applyColorTo3dSymbol(s,r):\"cim\"===s.type?R(s,l):s.color&&(s.color=new t(r||s.color)),s}_applyColorTo3dSymbol(e,l){l&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(l))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const l=e.visualVariables,s=[],r=[],n=[];for(const c of l)\"color\"===c.type?s.push(c):\"size\"===c.type?r.push(c):\"opacity\"===c.type&&n.push(c);const i=[...s,...r,...n];let a,o;if(0===s.length&&ye(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===s.length&&de(e)&&(a=e.symbol),a)if(a.type.indexOf(\"3d\")>-1){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?c(e.color)&&(o=e.color):c(e.material)&&c(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);const u=this.effectList;return(await Promise.all(i.map((async l=>{if(!l.legendOptions||!1!==l.legendOptions.showLegend){const s=this._getRampTitle(l,t);let r=null;const n=\"getField\"in t&&t.getField&&t.getField(l.field),i=n&&E(n);if(\"color\"===l.type){const e=await A(l,null,i);r={type:\"color-ramp\",title:s,infos:e,preview:T(e.map((e=>e.color)),{effectList:u})},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===l.type&&\"outline\"!==l.target)le.test(l.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=l):(r={type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(l):s,infos:await N(e,l,await this._getMedianColor(e),this.scale,this.view.type,i)},this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===l.type){const e=await A(l,o,i);r={type:\"opacity-ramp\",title:s,infos:e,preview:T(e.map((e=>e.color)),{effectList:u})},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,l){if(e&&\"function\"!=typeof e){const s=\"getField\"in l&&l.getField&&l.getField(e),r=s&&\"getFieldDomain\"in l&&l.getFieldDomain?l.getFieldDomain(s.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,l=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,r=s&&s.fieldInfos;if(r)for(const t of r)if(t.fieldName===l)return\"cluster_count\"===l?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let l=e.field,s=e.normalizationField,r=!1,n=!1,i=!1,a=null;l=\"function\"==typeof l?null:l,s=\"function\"==typeof s?null:s;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const l=e[t];if(\"color\"===l.type){if(\"ratio\"===l.style){r=!0;break}if(\"percent\"===l.style){n=!0;break}if(\"percent-of-total\"===l.style){i=!0;break}}}}a={field:l&&this._getFieldAlias(l,t),normField:s&&this._getFieldAlias(s,t),ratio:r,ratioPercent:n,ratioPercentTotal:i}}return a}_getRendererTitle(e,t){const l=e;if(l.legendOptions&&l.legendOptions.title)return l.legendOptions.title;if(l.valueExpressionTitle)return l.valueExpressionTitle;let s=l.field,r=null,n=null;ye(l)&&(r=l.normalizationField,n=\"percent-of-total\"===l.normalizationType),s=\"function\"==typeof s?null:s,r=\"function\"==typeof r?null:r;let i=null;return(s||r)&&(i={field:s&&this._getFieldAlias(s,t),normField:r&&this._getFieldAlias(r,t),normByPct:n}),i}_getFieldAlias(e,t){const l=\"popupTemplate\"in t&&t.popupTemplate,s=l&&l.fieldInfos;let r=null;s&&s.some((t=>e===t.fieldName&&(r=t,!0)));let n=null;\"getField\"in t&&t.getField?n=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(n=t.fieldsIndex.get(e));const i=r||n;let a=null;return i&&(a=r&&r.label||n&&n.alias||\"name\"in i&&i.name||\"fieldName\"in i&&i.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let l=!1;return ye(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(l=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),l}};e([S()],Pe.prototype,\"children\",void 0),e([S({readOnly:!0})],Pe.prototype,\"effectList\",null),e([S()],Pe.prototype,\"layerView\",void 0),e([S()],Pe.prototype,\"layer\",void 0),e([S()],Pe.prototype,\"legendElements\",void 0),e([S({readOnly:!0})],Pe.prototype,\"opacity\",null),e([S()],Pe.prototype,\"parent\",void 0),e([S({readOnly:!0,dependsOn:[]})],Pe.prototype,\"ready\",null),e([S()],Pe.prototype,\"hideLayersNotInCurrentView\",void 0),e([S()],Pe.prototype,\"keepCacheOnDestroy\",void 0),e([S()],Pe.prototype,\"respectLayerVisibility\",void 0),e([S({readOnly:!0})],Pe.prototype,\"scale\",null),e([S()],Pe.prototype,\"sublayerIds\",void 0),e([S({readOnly:!0})],Pe.prototype,\"isScaleDriven\",null),e([S()],Pe.prototype,\"title\",void 0),e([S({readOnly:!0,dependsOn:[\"ready\"],value:0})],Pe.prototype,\"version\",null),e([S()],Pe.prototype,\"view\",void 0),Pe=e([_(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Pe);const Ae=Pe;export{Ae as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{init as s,watch as a,whenTrue as n}from\"../../core/watchUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.VoxelLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",v=\"view.basemapView.referenceLayerViews\",p=[_,f,\"view.layerViews\",v];let u=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s(this,\"view\",this._viewHandles),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s(this,\"state\",this._stateHandles),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",this._allLayerViewsChangeHandle.bind(this)),h.allLayerViews),this._handles.add(a(this,\"layerInfos, basemapLegendVisible, groundLegendVisible\",this._propertiesChangeHandle.bind(this)),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&-1!==e.indexOf(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===v),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(a(e,\"legendEnabled, layer.legendEnabled\",(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){var i;const r=e.layer,t=e.uid,s=this._layerInfosByLayerViewId[t];let o=this._activeLayerInfosByLayerViewId[t];if(!o){const i=s&&void 0!==s.title&&s.layer.uid===r.uid;o=new y({layer:r,layerView:e,title:i?s.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:s&&s.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[t]=o}const l=r.parent&&\"uid\"in r.parent&&this._layerViewByLayerId[null==(i=r.parent)?void 0:i.uid];if(o.parent=this._activeLayerInfosByLayerViewId[null==l?void 0:l.uid],!this._handles.has(t)){const i=[a(r,\"title\",(e=>this._titleHandle(e,o))),a(r,\"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?\",(()=>this._constructLegendElements(o))),n(this.view,\"stationary\",(()=>this._scaleHandle(o))),a(e,\"_effectiveRenderer\",(()=>this._constructLegendElements(o))),a(r,\"effect\",(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const t=a(e,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o))),s=a(r,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o)));i.push(t,s)}this._handles.add(i,t)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&-1===this.activeLayerInfos.indexOf(e)){const i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var t;const i=null==(t=this.layerInfos)?void 0:t.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[null==r?void 0:r.uid],s=this._activeLayerInfosByLayerViewId[null==t?void 0:t.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],u.prototype,\"activeLayerInfos\",void 0),e([o()],u.prototype,\"basemapLegendVisible\",void 0),e([o()],u.prototype,\"groundLegendVisible\",void 0),e([o()],u.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],u.prototype,\"keepCacheOnDestroy\",void 0),e([o()],u.prototype,\"respectLayerVisibility\",void 0),e([o()],u.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],u.prototype,\"state\",null),e([o()],u.prototype,\"view\",void 0),u=e([l(\"esri.widgets.Legend.LegendViewModel\")],u);const I=u;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as s,computeBBox as t,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../../symbols/support/utils.js\";import{classes as n}from\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as d}from\"../../../support/jsxFactory.js\";const m=\"http://www.w3.org/2000/svg\",u={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function b(e,a,r,l){const{focus:s,labels:t}=e,i=!!s,o=c(e,a,r,l);return i?d(\"div\",{class:u.diamondContainer},d(\"div\",{class:u.diamondLeftCol},t.left),d(\"div\",{class:u.diamondMidCol},d(\"div\",{class:u.diamondMidColLabel},t.top),o,d(\"div\",{class:u.diamondMidColLabel},t.bottom)),d(\"div\",{class:u.diamondRightCol},t.right)):d(\"div\",{class:u.squareTable},d(\"div\",{class:u.squareTableRow},d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelRightBottom)},t.left),d(\"div\",{class:u.squareTableCell}),d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelLeftBottom)},t.top)),d(\"div\",{class:u.squareTableRow},d(\"div\",{class:u.squareTableCell}),o,d(\"div\",{class:u.squareTableCell})),d(\"div\",{class:u.squareTableRow},d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelRightTop)},t.bottom),d(\"div\",{class:u.squareTableCell}),d(\"div\",{class:n(u.squareTableCell,u.squareTableLabel,u.squareTableLabelLeftTop)},t.right)))}function p(e,a,r){const l=`${r}_arrowStart`,s=`${r}_arrowEnd`,t=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":t?i.markerStart=`url(#${s})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${s})`;break;case\"LH\":t?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${s})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,b,c,h,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,L=!!q,g=Math.sqrt(f**2+f**2)+(L?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let t=0;t<k;t++){const i=t*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[t][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(s(u))}}const x=10,R=15,$=15,E=10;let M=null;L||(M=\"margin: -15px -15px -18px -15px\");const S=p(\"left\",q,b),j=p(\"right\",q,b),B=t(w),H=i(B,g,g,0,!1,_,!1),U=i(B,g,g,0,!1,L?-45:null,!1),W={filter:o(h),opacity:null==c?null:`${c}`};return d(\"div\",{styles:W,class:L?u.diamondMidColRamp:u.squareTableCell},d(\"svg\",{xmlns:m,width:g,height:g,style:M},d(\"defs\",null,d(\"marker\",{id:`${b}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},d(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),d(\"marker\",{id:`${b}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},d(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),C),d(\"g\",{transform:H},v),d(\"g\",{transform:U},d(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),d(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":j.markerStart,\"marker-end\":j.markerEnd,x1:$,y1:f+E,x2:f-$,y2:f+E}))))}export{b as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const l=t(),r=10,n=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${n}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function u(t,o,i=\"vertical\",l){t.infos.forEach(((t,r)=>{if(l&&2===r)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=\"div\"===t.preview.tagName.toLowerCase(),r=l?t.preview:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,l||r.appendChild(t.preview),t.preview=r}}))}function m(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function h(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),u=\"full\"===o||\"above\"===o?0:p,m=\"full\"===o||\"below\"===o?f.length-1:p;for(let v=u;v<=m;v++)if(i&&v===p)c+=\"horizontal\"===l?r:n;else{c+=e(f[v].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=h(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),u=\"full\"===o||\"above\"===o?0:p,m=\"full\"===o||\"below\"===o?f.length-1:p,v=\"full\"===o?f[u].size+f[m].size:\"above\"===o?f[u].size:f[m].size,y=i?\"vertical\"===l?n:r:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.filter((({type:e})=>\"size-ramp\"===e))[0],r=i.filter((({type:e})=>\"color-ramp\"===e))[0];var n,s;(l&&(l={...l},l.infos=[...l.infos],u(l,t,o,!0)),r&&(r={...r},r.infos=[...r.infos]),\"horizontal\"===o)&&(null==(n=l)||n.infos.reverse(),null==(s=r)||s.infos.reverse());return{sizeRampElement:l,colorRampElement:r}}function g(e,t=\"vertical\"){const o=e.infos;let i=o.filter((({type:e})=>\"size-ramp\"===e))[0],l=o.filter((({type:e})=>\"color-ramp\"===e))[0];var r,n;(i&&(i={...i},i.infos=[...i.infos],u(i,null,t,!1)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===t)&&(null==(r=i)||r.infos.reverse(),null==(n=l)||n.infos.reverse());return{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,m as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,g as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{pt2px as s}from\"../../../core/screenUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as a}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as o}from\"../../../symbols/support/utils.js\";import l from\"../../Widget.js\";import{renderRelationshipRamp as n}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as c,getUnivariateSizeRampSize as d,getUnivariateColorRampSize as p,getUnivariateColorRampPreview as m,getUnivariateColorRampMargin as h,getUnivariateColorSizeRampElements as y}from\"./support/univariateUtils.js\";import{getTitle as g,attachToNode as _,isImageryStretchedLegend as v}from\"../support/styleUtils.js\";import{Heading as u}from\"../../support/Heading.js\";import{accessibleHandler as f}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as b}from\"../../support/decorators/messageBundle.js\";import\"../../../core/Logger.js\";import{tsx as w}from\"../../support/jsxFactory.js\";import\"../../support/widgetUtils.js\";import{substitute as L}from\"../../../intl/substitute.js\";const C={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},x=25,S=25,z=768,R=100,$=\"#ddd\",I=window.devicePixelRatio;function k(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function N(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let A=class extends l{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=\"stack\",this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own([this.watch(\"activeLayerInfos\",(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))])}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=\"auto\"===this.layout&&this.view.container.clientWidth<=z||\"stack\"===this.layout;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=L(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return w(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(C.indicator,{[C.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?w(\"div\",{class:C.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[C.stacked]:this._hasIndicators};return w(\"div\",{class:this.classes(C.base,o)},a||w(\"div\",{class:C.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(e.watch(\"version\",(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return w(\"div\",{key:e.layer.uid,class:this.classes(C.service,C.groupLayer)},w(\"div\",{class:C.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[C.groupLayerChild]:!!e.parent};return w(\"div\",{key:e.layer.uid,class:this.classes(C.service,r)},w(\"div\",{class:C.serviceCaptionContainer},w(\"div\",{class:C.serviceCaptionText},e.title)),w(\"div\",{class:C.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,l=t.layer;let c=null;if(\"string\"==typeof e.title)c=e.title;else if(e.title){const t=e.title,s=g(this.messages,t,r||a);c=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(l,e,s),p=this._hasIndicators?w(\"div\",null,w(u,{level:this.headingLevel,class:C.carouselTitle},t.title),w(u,{level:this.headingLevel+1,class:C.layerCaption},c)):c?w(u,{level:this.headingLevel,class:C.layerCaption},c):null,m=t.effectList;let h=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[C.symbolRow],t={[C.labelContainer]:!e&&!i,[C.relationshipLabelContainer]:i};h=w(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?h=this._renderLegendForRamp(e,l.opacity,m):o?h=this._renderSizeRamp(e,l.opacity):\"relationship-ramp\"===e.type?h=n(e,this.id,l.opacity,m):\"univariate-above-and-below-ramp\"===e.type?h=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,m):\"univariate-color-size-ramp\"===e.type&&(h=this._renderUnivariateColorSizeRamp(e,l.opacity,m));if(!h)return null;const y=w(\"div\",{key:d,class:C.section,id:`${d}-panel`,role:\"tabpanel\",\"aria-labelledby\":d,tabIndex:0},[p,h]);return this._sectionMap.set(d,y),y}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=c(e,t,\"horizontal\");if(!i)return null;const a=d(i,\"full\",!0,\"horizontal\"),o=p(i,\"above\",!0,\"horizontal\"),l=p(i,\"below\",!0,\"horizontal\"),n=12,y=m(r,{width:o,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s}),g=m(r,{width:l,height:n,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s}),v=h(i,\"card\"),u=i.infos.map((e=>e.label)),f=u.length-1,b=u.map(((e,t)=>0===t||t===f?w(\"div\",{key:t},e):null)),L={display:\"flex\",flexDirection:\"column\"},x={display:\"flex\",flexDirection:\"row\"},S={marginTop:\"3px\",marginLeft:`${v}px`,display:\"flex\"},z={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return w(\"div\",{class:C.layerRow,key:\"size-ramp-preview\",styles:L},w(\"div\",{class:this.classes(C.symbolContainer,C.sizeRampHorizontal),styles:x},i.infos.map(((e,t)=>w(\"div\",{key:t,class:C.symbol,bind:e.preview,afterCreate:_})))),y?w(\"div\",{class:C.univariateAboveAndBelowColorRamp,styles:S,key:\"color-ramp-preview\"},w(\"div\",{bind:y,afterCreate:_}),w(\"div\",{bind:g,afterCreate:_})):null,w(\"div\",{class:C.layerInfo},w(\"div\",{class:C.rampLabelsContainer,styles:z},b)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=y(e,\"horizontal\");if(!i)return null;const a=d(i,\"full\",!1,\"horizontal\"),o=p(i,\"full\",!1,\"horizontal\"),l=m(r,{width:o,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s}),n=h(i,\"card\"),c=i.infos.length-1,g=i.infos.map(((e,t)=>0===t||t===c?w(\"div\",{key:t},e.label):null)),v={display:\"flex\",flexDirection:\"column\"},u={display:\"flex\",flexDirection:\"row\"},f={marginTop:\"3px\",marginLeft:`${n}px`,display:\"flex\"},b={width:`${a}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return w(\"div\",{class:C.layerRow,key:\"size-ramp-preview\",styles:v},w(\"div\",{class:this.classes(C.symbolContainer,C.sizeRampHorizontal),styles:u},i.infos.map(((e,t)=>w(\"div\",{key:t,class:C.symbol,bind:e.preview,afterCreate:_})))),w(\"div\",{class:C.univariateAboveAndBelowColorRamp,styles:f,key:\"color-ramp-preview\"},w(\"div\",{bind:l,afterCreate:_})),w(\"div\",{class:C.layerInfo},w(\"div\",{class:C.rampLabelsContainer,styles:b},g)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=v(r,s);if(e.preview){var l,n;if(!e.symbol||-1===e.symbol.type.indexOf(\"simple-fill\")){if(!e.label)return w(\"div\",{key:i,bind:e.preview,afterCreate:_});const t={[C.symbolCell]:this._hasIndicators};return w(\"div\",{key:i,class:this.classes(C.layerRow,{[C.symbolRow]:this._hasIndicators})},w(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:_}),w(\"div\",{class:this.classes(C.imageLabel,{[C.labelCell]:this._hasIndicators})},g(this.messages,e.label,!1)||\"\"))}let s=255,a=255,c=255,d=0,p=255,m=255,h=255,y=0;const v=e.symbol.color&&e.symbol.color.a,u=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;v&&(s=e.symbol.color.r,a=e.symbol.color.g,c=e.symbol.color.b,d=e.symbol.color.a*r.opacity),u&&(p=e.symbol.outline.color.r,m=e.symbol.outline.color.g,h=e.symbol.outline.color.b,y=e.symbol.outline.color.a*r.opacity);const f=null==(l=null==(n=e.symbol.color)?void 0:n.isBright)||l,b=f?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",L={background:v?`rgba(${s}, ${a}, ${c}, ${d})`:\"none\",color:f?\"black\":\"white\",textShadow:`-1px -1px 0 ${b},\\n                                              1px -1px 0 ${b},\\n                                              -1px 1px 0 ${b},\\n                                              1px 1px 0 ${b}`,border:u?`1px solid rgba(${p}, ${m}, ${h}, ${y})`:\"none\",filter:o(t.effectList)};return w(\"div\",{key:i,class:C.layerRow},w(\"div\",{class:C.labelElement,styles:L},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return w(\"div\",{key:i,class:C.layerRow},t,w(\"div\",{class:C.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[C.imageryLayerStretchedImage]:s,[C.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return w(\"img\",{alt:g(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,i=t[0],r=t[t.length-1],a=i.symbol,o=this._hasIndicators,l=s(i.size+i.outlineSize)*I,n=s(r.size+r.outlineSize)*I,c=o?l:l+50*I,d=o?l/2+50*I:l,p=N(a),m=k(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/I+\"px\",h.style.height=h.height/I+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=$,y.stroke(),w(\"div\",{bind:h,afterCreate:_,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return w(\"div\",{class:this.classes(C.layerRow,{[C.sizeRampRow]:l})},w(\"div\",{class:C.rampLabel},l?i:r),w(\"div\",{class:C.sizeRampContainer,styles:n},w(\"div\",{bind:a,afterCreate:_,class:C.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),w(\"div\",{bind:o,afterCreate:_,class:C.sizeRampContainer,styles:c})),w(\"div\",{class:C.rampLabel},l?r:i))}_renderLegendForRamp(e,t,s){const i=e.infos,r=\"heatmap-ramp\"===e.type,l=i.length-1,n=S,c=l>2&&!r?x*l:R,d=c+20,p=10,m=i.slice(0).reverse();m.forEach(((e,t)=>{e.offset=r?e.ratio:t/l}));const h=m.length-1,y=m.length%2!=0&&m[m.length/2|0],g=y&&w(\"div\",{class:C.intervalSeparatorsContainer},w(\"div\",{class:C.intervalSeparator},\"|\"),w(\"div\",{class:C.rampLabel},y.label)),_=i[i.length-1].label,v=i[0].label,u=[[{shape:{type:\"path\",path:`M0 ${n/2} L${p} 0 L${p} ${n} Z`},fill:m[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:p,y:0,width:c,height:n},fill:{type:\"linear\",x1:p,y1:0,x2:c+p,y2:0,colors:m},stroke:{width:0}},{shape:{type:\"path\",path:`M${c+p} 0 L${d} ${n/2} L${c+p} ${n} Z`},fill:m[h].color,stroke:{width:0}}]],f=a(u,d,n),{messages:b}=this,L={filter:o(s),opacity:null==t?null:`${t}`};return w(\"div\",{class:C.layerRow},w(\"div\",{class:C.rampLabel},r?b[_]:_),w(\"div\",{class:C.symbolContainer},w(\"div\",{styles:L},f),g),w(\"div\",{class:C.rampLabel},r?b[v]:v))}};e([i()],A.prototype,\"activeLayerInfos\",void 0),e([i()],A.prototype,\"headingLevel\",void 0),e([i()],A.prototype,\"layout\",void 0),e([i(),b(\"esri/widgets/Legend/t9n/Legend\")],A.prototype,\"messages\",void 0),e([i(),b(\"esri/t9n/common\")],A.prototype,\"messagesCommon\",void 0),e([i({readOnly:!0})],A.prototype,\"type\",void 0),e([i()],A.prototype,\"view\",void 0),e([f()],A.prototype,\"_selectSection\",null),A=e([r(\"esri.widgets.Legend.styles.Card\")],A);const j=A;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as t,getUnivariateColorRampSize as i,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as y,attachToNode as c,isImageryStretchedLegend as m}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import\"../../../core/Logger.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const u={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},_=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends a{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:u.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${_}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(u.header,u.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:l,class:this.classes(u.service,u.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer,e.effectList))).filter((e=>!!e));if(!s.length)return null;const t={[u.groupLayerChild]:!!e.parent};return h(\"div\",{key:l,class:this.classes(u.service,t),tabIndex:0},a,h(\"div\",{class:u.layer},s))}}_renderLegendForElement(e,r,l,a){const t=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let o=null;if(\"symbol-table\"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,r,l,n,e.legendType))).filter((e=>!!e));a.length&&(o=h(\"div\",{class:u.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?o=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?o=s(e,this.id,r.opacity,l):\"univariate-above-and-below-ramp\"===e.type?o=this._renderUnivariateAboveAndBelowRamp(e,r.opacity,l):\"univariate-color-size-ramp\"===e.type&&(o=this._renderUnivariateColorSizeRamp(e,r.opacity,l));if(!o)return null;const p=e.title;let c=null;if(\"string\"==typeof p)c=p;else if(p){const e=d(this.messages,p,t||i);c=y(p,t||i)&&p.title?`${p.title} (${e})`:e}const m=a?u.layerChildTable:u.layerTable,g=c?h(\"div\",{class:u.layerCaption},c):null,v={[u.layerTableSizeRamp]:n||!a};return h(\"div\",{class:this.classes(m,v)},g,o)}_renderUnivariateAboveAndBelowRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=t(e,r);if(!a)return null;const p=i(a,\"above\",!0),d=i(a,\"below\",!0),y=12,m=n(s,{width:y,height:p,rampAlignment:\"vertical\",opacity:r,type:\"above\",effectList:l}),g=n(s,{width:y,height:d,rampAlignment:\"vertical\",opacity:r,type:\"below\",effectList:l}),v=o(a),b=a.infos.map((e=>e.label)),_=b.map(((e,r)=>{const l=2===r;return 0===r?h(\"div\",{key:r,class:e?m?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):l?h(\"div\",null):null})),f=b.length-1,R=Math.floor(b.length/2),A=b.map(((e,r)=>r===R||r===f?h(\"div\",{key:r,class:e?m?u.univariateAboveAndBelowLabel:u.rampLabel:null},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},j={marginTop:`${v}px`},I={height:`${p}px`},k={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map(((e,r)=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:S,bind:e.preview,afterCreate:c}),m||r%2!=0?null:h(\"div\",{class:u.layerInfo},b[r]))))),m?h(\"div\",{styles:j,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:m,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:I},_))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:g,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:k},A)))):null)}_renderUnivariateColorSizeRamp(e,r,l){const{sizeRampElement:a,colorRampElement:s}=p(e);if(!a)return null;const t=o(a),d=12,y=i(a,\"full\",!1),m=n(s,{width:d,height:y,rampAlignment:\"vertical\",opacity:r,type:\"full\",effectList:l}),g=a.infos.length-1,v=a.infos.map(((e,r)=>0===r||r===g?h(\"div\",{key:r,class:e.label?s?u.univariateAboveAndBelowLabel:u.rampLabel:null},e.label):null)),b={display:\"table-cell\",verticalAlign:\"middle\"},_={marginTop:`${t}px`},f={height:`${y}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:u.layerBody},a.infos.map((e=>h(\"div\",{class:this.classes(u.layerRow,u.sizeRamp)},h(\"div\",{class:u.symbol,styles:b,bind:e.preview,afterCreate:c}))))),h(\"div\",{styles:_,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:u.rampContainer,bind:m,afterCreate:c})),h(\"div\",{styles:C},h(\"div\",{class:u.rampLabelsContainer,styles:f},v)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,t=\"stretch-ramp\"===e.type,i=e.preview,n=a?u.opacityRamp:\"\";i.className=`${u.colorRamp} ${n}`,null!=r&&(i.style.opacity=r.toString());const o=l.map((e=>h(\"div\",{class:e.label?u.rampLabel:null},s?this.messages[e.label]:t?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:i.style.height};return h(\"div\",{class:u.layerRow},h(\"div\",{class:u.symbolContainer,styles:p},h(\"div\",{class:u.rampContainer,bind:i,afterCreate:c})),h(\"div\",{class:u.layerInfo},h(\"div\",{class:u.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().indexOf(\"e\")>-1?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,l,a,s){if(e.type)return this._renderLegendForElement(e,r,l,!0);let t=null;const i=m(r,s);if(e.preview?t=h(\"div\",{class:u.symbol,bind:e.preview,afterCreate:c}):e.src&&(t=this._renderImage(e,r,i)),!t)return null;const n={[u.imageryLayerInfoStretched]:i},o={[u.imageryLayerInfoStretched]:i,[u.sizeRamp]:!i&&a};return h(\"div\",{class:u.layerRow},h(\"div\",{class:this.classes(u.symbolContainer,o)},t),h(\"div\",{class:this.classes(u.layerInfo,n)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:t}=e,i={[u.imageryLayerStretchedImage]:l,[u.symbol]:!l},n={opacity:`${null!=t?t:r.opacity}`};return h(\"img\",{alt:d(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(i),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([l(\"esri.widgets.Legend.styles.Classic\")],R);const A=R;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/Handles.js\";import{on as t,watch as i,init as r}from\"../core/watchUtils.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./Widget.js\";import c from\"./Legend/LegendViewModel.js\";import p from\"./Legend/styles/Card.js\";import h from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import\"../core/Logger.js\";import{tsx as v}from\"./support/jsxFactory.js\";const g={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let f=class extends l{constructor(e,t){super(e,t),this._handles=new s,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=g.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new h,this.view=null,this.viewModel=new c}initialize(){this.own(t(this,\"view\",\"resize\",(()=>this.scheduleRender())),t(this,\"activeLayerInfos\",\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),i(this,\"headingLevel\",(e=>{const{style:s}=this;s&&(s.headingLevel=e)})),r(this,\"style\",((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)})))}destroy(){this._handles.destroy(),this._handles=null}castStyle(e){if(e instanceof p||e instanceof h)return e;if(\"string\"==typeof e)return\"card\"===e?new p:new h;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?p:h)(s)}return new h}render(){return v(\"div\",{class:this.classes(g.base,g.widget,this.style instanceof h?g.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=r(e,\"version\",(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const i=t(e,\"children\",\"change\",(()=>{e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}));this._handles.add(i,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([o(\"viewModel.activeLayerInfos\")],f.prototype,\"activeLayerInfos\",void 0),e([o(\"viewModel.basemapLegendVisible\")],f.prototype,\"basemapLegendVisible\",void 0),e([o(\"viewModel.groundLegendVisible\")],f.prototype,\"groundLegendVisible\",void 0),e([a()],f.prototype,\"headingLevel\",void 0),e([o(\"viewModel.hideLayersNotInCurrentView\")],f.prototype,\"hideLayersNotInCurrentView\",void 0),e([o(\"viewModel.keepCacheOnDestroy\")],f.prototype,\"keepCacheOnDestroy\",void 0),e([o(\"viewModel.respectLayerVisibility\")],f.prototype,\"respectLayerVisibility\",void 0),e([a()],f.prototype,\"iconClass\",void 0),e([a({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],f.prototype,\"label\",void 0),e([o(\"viewModel.layerInfos\")],f.prototype,\"layerInfos\",void 0),e([a(),y(\"esri/widgets/Legend/t9n/Legend\")],f.prototype,\"messages\",void 0),e([a()],f.prototype,\"style\",void 0),e([n(\"style\")],f.prototype,\"castStyle\",null),e([o(\"viewModel.view\")],f.prototype,\"view\",void 0),e([a()],f.prototype,\"viewModel\",void 0),f=e([d(\"esri.widgets.Legend\")],f);const L=f;export{L as default};\n"],"sourceRoot":""}