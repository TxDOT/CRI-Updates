(function(e){function t(t){for(var a,r,i=t[0],d=t[1],o=t[2],u=0,l=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&l.push(c[r][0]),c[r]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);f&&f(t);while(l.length)l.shift()();return s.push.apply(s,o||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==c[i]&&(a=!1)}a&&(s.splice(t--,1),e=d(d.s=n[0]))}return e}var a={},r={app:0},c={app:0},s=[];function i(e){return d.p+"js/"+({Load:"Load",MileSign:"MileSign",Login:"Login",Map:"Map",PickCounty:"PickCounty"}[e]||e)+"."+{Load:"dd9984e0",MileSign:"21862e3e","chunk-01941038":"0b7ee3d2","chunk-434f637c":"fb51e6eb","chunk-a1580416":"91c406b8","chunk-084afda9":"fee4ca9d","chunk-f1516bda":"e498449d","chunk-0b720add":"cf69225b","chunk-12813138":"3d4e881d","chunk-145178c0":"07beb27f","chunk-1a3fb22c":"dd24964d","chunk-1a64e58c":"862b58a1","chunk-1a6b895e":"a973fadd","chunk-1d20ce8a":"50702b63","chunk-20049de8":"b4af3fdf","chunk-3e045336":"084fb392","chunk-ed6af180":"0108babb","chunk-21440acd":"11a09a63","chunk-252da140":"a7ccaf48","chunk-2c459932":"a0e7b9e1","chunk-2d0a2dc5":"a6f91f23","chunk-2d0a3344":"3cd23002","chunk-2d0a4c1e":"da61582f","chunk-2d0abe0e":"16c01231","chunk-2d0aead6":"4bc249f4","chunk-2d0af486":"7889b586","chunk-2d0b32f8":"733e8a21","chunk-2d0b6d34":"5f735ad1","chunk-2d0b726e":"f6133bca","chunk-2d0bcda5":"603eced1","chunk-2d0bdcef":"76e7d813","chunk-2d0bdf78":"ec93a88d","chunk-2d0c0894":"daebafa6","chunk-2d0c119c":"5434c391","chunk-2d0c1555":"66507489","chunk-2d0c1948":"20ee9084","chunk-2d0c5abf":"387f3cb9","chunk-2d0c7ed4":"c818de47","chunk-2d0c86de":"498d5223","chunk-2d0c970e":"5ebcc6ee","chunk-2d0cbd02":"f3f2135f","chunk-2d0cf344":"adb82c0d","chunk-2d0cffe8":"1865fb02","chunk-2d0d03a7":"253e2d23","chunk-3ebd8ffe":"d0c1111f","chunk-00b23a9e":"dcee0b11","chunk-170bc65f":"b4880a5a","chunk-17711a10":"fc7a6a63","chunk-1f70f5e4":"e527ed1f","chunk-5754631f":"56934383","chunk-62c11016":"7364d141","chunk-e26bd3da":"4346777c","chunk-2d0d03e5":"e2c5393b","chunk-2d0d30d0":"c0a845a4","chunk-2d0d7e56":"6d3f75d8","chunk-2d0d7fd9":"6b0bb1aa","chunk-2d0dd452":"64943c62","chunk-2d0e48cf":"88f69e78","chunk-2d0e5bc0":"df830ad0","chunk-2d0e925e":"ac70e4e5","chunk-2d207ac9":"a0f70511","chunk-2d2080c7":"7e981ab7","chunk-2d20828d":"d0122cc4","chunk-2d20ff55":"c00f041a","chunk-2d210440":"6436ced0","chunk-2d210f99":"1234188f","chunk-2d218057":"f9b91daa","chunk-2d21b2d9":"4f59f399","chunk-2d21dff7":"00733fbd","chunk-2d21e41f":"f8269b55","chunk-2d221c62":"7c29148c","chunk-2d222546":"265fa351","chunk-2d225296":"9318227b","chunk-2d225664":"96789164","chunk-2d22611c":"40f83d34","chunk-2d2297bc":"761e4725","chunk-2d22a1b6":"cfd6ff07","chunk-2d22ce36":"3df22cda","chunk-2d22d3a8":"53808030","chunk-2d22e157":"a4e9a416","chunk-2d231045":"fdbba2cd","chunk-2d2311e8":"071f7b19","chunk-2d261253":"ba67867b","chunk-3b31293b":"23332feb","chunk-3bb87d0e":"2eaf46d6","chunk-3f48965f":"291980e4","chunk-43efbda2":"a6628ddd","chunk-4f878514":"9a6ba1f5","chunk-2d0dace6":"458cb442","chunk-2d0e62e7":"341dc4b5","chunk-2d237116":"7e5ddac5","chunk-4e7277d5":"8a648243","chunk-3659ce29":"7bab3a5e","chunk-526022d6":"79a0f4d3","chunk-3847c0de":"e5c0b544","chunk-cb11fdec":"26b4935c","chunk-eb72276e":"ac166e69","chunk-58b66df9":"3267be73","chunk-24fad822":"bcd7213a","chunk-1b15e1dd":"2e13197b","chunk-11774bae":"da5ff931","chunk-14e912bc":"0862274c","chunk-15328738":"23cd22f7","chunk-34524640":"0250f9e1","chunk-5e4fd59d":"03d2c9a4","chunk-63f2285e":"7f3cf3cb","chunk-8cca0090":"d7b85f47","chunk-8fcd06d0":"ce176ab0","chunk-e5f9e0ae":"cd4b4e24","chunk-5994f67a":"5b8b709d","chunk-698f74d5":"43da0475","chunk-6b6f695c":"1af413a5","chunk-77bf1571":"aa7e0d7d","chunk-ea5dff4c":"581b8e76","chunk-70c316c0":"8c5fedc0","chunk-59f29c8d":"62edaf6c","chunk-66bef568":"1dcca49b","chunk-703d78b0":"504a3c19","chunk-71d2f73e":"956acd98","chunk-7499dfb6":"fa8f2ff7","chunk-86864ea4":"e5aed0b5",Login:"fed21649",Map:"60e87bf4",PickCounty:"e1e4ccc0","chunk-8ee3b352":"928a2f08","chunk-bd597f0c":"d9e0fb28","chunk-c08e8064":"ba9c3cca","chunk-df664df4":"640f689c","chunk-e40fb29e":"67184dfa","chunk-15302fac":"cbf499a7","chunk-40c5a146":"4b7866bf","chunk-fbb0e4bc":"f56e2a3d","chunk-fbbf9fbe":"ebad6a1b","chunk-2d23775c":"0f746e90","chunk-6c51c518":"6239ffb6","chunk-65779b0d":"dd8a161f","chunk-f9539be0":"5a31f788","chunk-0a492f92":"50c478a4","chunk-180660b2":"3fabee2f","chunk-08a2b3cf":"b775209d","chunk-196bbbbc":"faa65a02","chunk-0a68365e":"654d27b2","chunk-2d222178":"a8741c2b","chunk-45cedaef":"c8a53eec","chunk-2d237932":"822300cd","chunk-6bbbfd2f":"756c7191","chunk-161078e6":"45e11fda","chunk-2671d02c":"46501fe3","chunk-2d0a33b6":"42846fad","chunk-2d0a4f14":"0f7ceddc","chunk-2d0ac5dd":"2b337134","chunk-2d0bceb2":"38082b3d","chunk-2d0c8892":"17b36e5f","chunk-2d0e9004":"778600db","chunk-2d209b4c":"4b45636e","chunk-2d20f003":"00ceb5bc","chunk-2d21a92d":"56fda01a","chunk-435aa026":"4fc43440","chunk-5084825c":"20ad2e7b","chunk-55744460":"033c60a4","chunk-55a2b5c0":"a73cb9d2","chunk-5b5540ce":"b3a1f117","chunk-6b3eda79":"6eaddb45","chunk-6d68c34e":"49d57593","chunk-6e90982a":"8d0a1eb4","chunk-79cde962":"29ea382c","chunk-ef2246e6":"b0b5e23b","chunk-6b979686":"d0e68236","chunk-7503b3e1":"ebcdc8dc","chunk-2d0a5169":"70a555a3","chunk-2d0ab897":"3993b999","chunk-2d0b3143":"4006b02f","chunk-2d0c7e33":"463d746a","chunk-2d0cb6c5":"1ac2331c","chunk-2d0db7d8":"c7ed21d9","chunk-2d0de726":"b17d390f","chunk-2d0efcae":"ed413089","chunk-2d208701":"1a2df015","chunk-2d20f1b1":"22eb5d08","chunk-2d213386":"b79b4ce2","chunk-5ba1e7e0":"97806de6","chunk-2d0a47c1":"9b4107cd","chunk-2d215c84":"c674ed94","chunk-2d2219c9":"2b8d82ae","chunk-2d2248f1":"8638a136","chunk-2d22cca6":"aee57915","chunk-d54cf23a":"e8168e3e","chunk-2d0c191a":"2628bf70","chunk-2d207f46":"17c7367c","chunk-045d740e":"61261a50","chunk-2d0c8483":"92265ea2","chunk-2d0a514a":"7c1f8f2d","chunk-a1620918":"b8c97c0e","chunk-2d0c8f9b":"6ccc1e6f","chunk-57e02c98":"08033ef7","chunk-2d0a4b23":"42726048","chunk-f8df2c5c":"ff0c3236","chunk-2d209409":"39272537","chunk-2d0c7903":"82eea472"}[e]+".js"}function d(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.e=function(e){var t=[],n={MileSign:1,Login:1,Map:1,PickCounty:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({Load:"Load",MileSign:"MileSign",Login:"Login",Map:"Map",PickCounty:"PickCounty"}[e]||e)+"."+{Load:"31d6cfe0",MileSign:"50db53da","chunk-01941038":"31d6cfe0","chunk-434f637c":"31d6cfe0","chunk-a1580416":"31d6cfe0","chunk-084afda9":"31d6cfe0","chunk-f1516bda":"31d6cfe0","chunk-0b720add":"31d6cfe0","chunk-12813138":"31d6cfe0","chunk-145178c0":"31d6cfe0","chunk-1a3fb22c":"31d6cfe0","chunk-1a64e58c":"31d6cfe0","chunk-1a6b895e":"31d6cfe0","chunk-1d20ce8a":"31d6cfe0","chunk-20049de8":"31d6cfe0","chunk-3e045336":"31d6cfe0","chunk-ed6af180":"31d6cfe0","chunk-21440acd":"31d6cfe0","chunk-252da140":"31d6cfe0","chunk-2c459932":"31d6cfe0","chunk-2d0a2dc5":"31d6cfe0","chunk-2d0a3344":"31d6cfe0","chunk-2d0a4c1e":"31d6cfe0","chunk-2d0abe0e":"31d6cfe0","chunk-2d0aead6":"31d6cfe0","chunk-2d0af486":"31d6cfe0","chunk-2d0b32f8":"31d6cfe0","chunk-2d0b6d34":"31d6cfe0","chunk-2d0b726e":"31d6cfe0","chunk-2d0bcda5":"31d6cfe0","chunk-2d0bdcef":"31d6cfe0","chunk-2d0bdf78":"31d6cfe0","chunk-2d0c0894":"31d6cfe0","chunk-2d0c119c":"31d6cfe0","chunk-2d0c1555":"31d6cfe0","chunk-2d0c1948":"31d6cfe0","chunk-2d0c5abf":"31d6cfe0","chunk-2d0c7ed4":"31d6cfe0","chunk-2d0c86de":"31d6cfe0","chunk-2d0c970e":"31d6cfe0","chunk-2d0cbd02":"31d6cfe0","chunk-2d0cf344":"31d6cfe0","chunk-2d0cffe8":"31d6cfe0","chunk-2d0d03a7":"31d6cfe0","chunk-3ebd8ffe":"31d6cfe0","chunk-00b23a9e":"31d6cfe0","chunk-170bc65f":"31d6cfe0","chunk-17711a10":"31d6cfe0","chunk-1f70f5e4":"31d6cfe0","chunk-5754631f":"31d6cfe0","chunk-62c11016":"31d6cfe0","chunk-e26bd3da":"31d6cfe0","chunk-2d0d03e5":"31d6cfe0","chunk-2d0d30d0":"31d6cfe0","chunk-2d0d7e56":"31d6cfe0","chunk-2d0d7fd9":"31d6cfe0","chunk-2d0dd452":"31d6cfe0","chunk-2d0e48cf":"31d6cfe0","chunk-2d0e5bc0":"31d6cfe0","chunk-2d0e925e":"31d6cfe0","chunk-2d207ac9":"31d6cfe0","chunk-2d2080c7":"31d6cfe0","chunk-2d20828d":"31d6cfe0","chunk-2d20ff55":"31d6cfe0","chunk-2d210440":"31d6cfe0","chunk-2d210f99":"31d6cfe0","chunk-2d218057":"31d6cfe0","chunk-2d21b2d9":"31d6cfe0","chunk-2d21dff7":"31d6cfe0","chunk-2d21e41f":"31d6cfe0","chunk-2d221c62":"31d6cfe0","chunk-2d222546":"31d6cfe0","chunk-2d225296":"31d6cfe0","chunk-2d225664":"31d6cfe0","chunk-2d22611c":"31d6cfe0","chunk-2d2297bc":"31d6cfe0","chunk-2d22a1b6":"31d6cfe0","chunk-2d22ce36":"31d6cfe0","chunk-2d22d3a8":"31d6cfe0","chunk-2d22e157":"31d6cfe0","chunk-2d231045":"31d6cfe0","chunk-2d2311e8":"31d6cfe0","chunk-2d261253":"31d6cfe0","chunk-3b31293b":"31d6cfe0","chunk-3bb87d0e":"31d6cfe0","chunk-3f48965f":"31d6cfe0","chunk-43efbda2":"31d6cfe0","chunk-4f878514":"31d6cfe0","chunk-2d0dace6":"31d6cfe0","chunk-2d0e62e7":"31d6cfe0","chunk-2d237116":"31d6cfe0","chunk-4e7277d5":"31d6cfe0","chunk-3659ce29":"31d6cfe0","chunk-526022d6":"31d6cfe0","chunk-3847c0de":"31d6cfe0","chunk-cb11fdec":"31d6cfe0","chunk-eb72276e":"31d6cfe0","chunk-58b66df9":"31d6cfe0","chunk-24fad822":"31d6cfe0","chunk-1b15e1dd":"31d6cfe0","chunk-11774bae":"31d6cfe0","chunk-14e912bc":"31d6cfe0","chunk-15328738":"31d6cfe0","chunk-34524640":"31d6cfe0","chunk-5e4fd59d":"31d6cfe0","chunk-63f2285e":"31d6cfe0","chunk-8cca0090":"31d6cfe0","chunk-8fcd06d0":"31d6cfe0","chunk-e5f9e0ae":"31d6cfe0","chunk-5994f67a":"31d6cfe0","chunk-698f74d5":"31d6cfe0","chunk-6b6f695c":"31d6cfe0","chunk-77bf1571":"31d6cfe0","chunk-ea5dff4c":"31d6cfe0","chunk-70c316c0":"31d6cfe0","chunk-59f29c8d":"31d6cfe0","chunk-66bef568":"31d6cfe0","chunk-703d78b0":"31d6cfe0","chunk-71d2f73e":"31d6cfe0","chunk-7499dfb6":"31d6cfe0","chunk-86864ea4":"31d6cfe0",Login:"9854eedf",Map:"360d6c2a",PickCounty:"a5f764b5","chunk-8ee3b352":"31d6cfe0","chunk-bd597f0c":"31d6cfe0","chunk-c08e8064":"31d6cfe0","chunk-df664df4":"31d6cfe0","chunk-e40fb29e":"31d6cfe0","chunk-15302fac":"31d6cfe0","chunk-40c5a146":"31d6cfe0","chunk-fbb0e4bc":"31d6cfe0","chunk-fbbf9fbe":"31d6cfe0","chunk-2d23775c":"31d6cfe0","chunk-6c51c518":"31d6cfe0","chunk-65779b0d":"31d6cfe0","chunk-f9539be0":"31d6cfe0","chunk-0a492f92":"31d6cfe0","chunk-180660b2":"31d6cfe0","chunk-08a2b3cf":"31d6cfe0","chunk-196bbbbc":"31d6cfe0","chunk-0a68365e":"31d6cfe0","chunk-2d222178":"31d6cfe0","chunk-45cedaef":"31d6cfe0","chunk-2d237932":"31d6cfe0","chunk-6bbbfd2f":"31d6cfe0","chunk-161078e6":"31d6cfe0","chunk-2671d02c":"31d6cfe0","chunk-2d0a33b6":"31d6cfe0","chunk-2d0a4f14":"31d6cfe0","chunk-2d0ac5dd":"31d6cfe0","chunk-2d0bceb2":"31d6cfe0","chunk-2d0c8892":"31d6cfe0","chunk-2d0e9004":"31d6cfe0","chunk-2d209b4c":"31d6cfe0","chunk-2d20f003":"31d6cfe0","chunk-2d21a92d":"31d6cfe0","chunk-435aa026":"31d6cfe0","chunk-5084825c":"31d6cfe0","chunk-55744460":"31d6cfe0","chunk-55a2b5c0":"31d6cfe0","chunk-5b5540ce":"31d6cfe0","chunk-6b3eda79":"31d6cfe0","chunk-6d68c34e":"31d6cfe0","chunk-6e90982a":"31d6cfe0","chunk-79cde962":"31d6cfe0","chunk-ef2246e6":"31d6cfe0","chunk-6b979686":"31d6cfe0","chunk-7503b3e1":"31d6cfe0","chunk-2d0a5169":"31d6cfe0","chunk-2d0ab897":"31d6cfe0","chunk-2d0b3143":"31d6cfe0","chunk-2d0c7e33":"31d6cfe0","chunk-2d0cb6c5":"31d6cfe0","chunk-2d0db7d8":"31d6cfe0","chunk-2d0de726":"31d6cfe0","chunk-2d0efcae":"31d6cfe0","chunk-2d208701":"31d6cfe0","chunk-2d20f1b1":"31d6cfe0","chunk-2d213386":"31d6cfe0","chunk-5ba1e7e0":"31d6cfe0","chunk-2d0a47c1":"31d6cfe0","chunk-2d215c84":"31d6cfe0","chunk-2d2219c9":"31d6cfe0","chunk-2d2248f1":"31d6cfe0","chunk-2d22cca6":"31d6cfe0","chunk-d54cf23a":"31d6cfe0","chunk-2d0c191a":"31d6cfe0","chunk-2d207f46":"31d6cfe0","chunk-045d740e":"31d6cfe0","chunk-2d0c8483":"31d6cfe0","chunk-2d0a514a":"31d6cfe0","chunk-a1620918":"31d6cfe0","chunk-2d0c8f9b":"31d6cfe0","chunk-57e02c98":"31d6cfe0","chunk-2d0a4b23":"31d6cfe0","chunk-f8df2c5c":"31d6cfe0","chunk-2d209409":"31d6cfe0","chunk-2d0c7903":"31d6cfe0"}[e]+".css",c=d.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var o=s[i],u=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(u===a||u===c))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){o=l[i],u=o.getAttribute("data-href");if(u===a||u===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||c,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=c[e]=[t,n]}));t.push(a[2]=s);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,d.nc&&u.setAttribute("nonce",d.nc),u.src=i(e);var l=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}c[e]=void 0}};var f=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},d.m=e,d.c=a,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)d.d(n,a,function(t){return e[t]}.bind(null,a));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/apps/statewide_mapping/cri/",d.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0fc3":function(e,t,n){"use strict";n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return D}));var a=n("3514"),r=n("2a33"),c=n("c0d6"),s=n("80a6"),i=n("e9ee"),d=n("ea51"),o=n("8d60"),u=n("69dd"),l=n("9786");async function f(e,t,n,a){c["a"].commit("setRoadbedName",e),c["a"].commit("setObjectid",t),c["a"].commit("setComment",n),c["a"].commit("setEditInfo",a)}async function h(e){let t=await a["clientSideGeoJson"].queryFeatures({objectIds:e.results?[e.results[0].graphic.attributes.OBJECTID]:null,where:e.results?null:"RDBD_GMTRY_LN_ID = "+e.attributes.GID,returnM:!0,outFields:["*"],returnGeometry:!0});return t}async function m(e){let t=e.features?e.features[0].attributes.RDBD_GMTRY_LN_ID:e.attributes.RDBD_GMTRY_LN_ID;const n=new u["a"];n.where="RDBD_GMTRY_LN_ID = "+t,n.outFields=["*"];let a={streetName:e.features[0].attributes.ST_DEFN_NM,prefix:e.features[0].attributes.ST_PRFX_TYPE_DSCR?e.features[0].attributes.ST_PRFX_TYPE_DSCR.toUpperCase():null,suffix:e.features[0].attributes.ST_SFX_TYPE_DSCR?e.features[0].attributes.ST_SFX_TYPE_DSCR.toUpperCase():null,streetType:e.features[0].attributes.ST_TYPE_DSCR};f(JSON.stringify([a]),e.features[0].attributes.OBJECTID)}async function g(e,t,n){let s,u=e.features?a["gLayer"].graphics.items.filter(t=>t.attributes.objectid===e.features[0].attributes.OBJECTID):a["gLayer"].graphics.items.filter(t=>t.attributes.objectid===e.attributes.OBJECTID);if(!u.length&&(e.features&&(s=l["b"](e.features[0].geometry)),"click"===t)){let t=e.features?Number(d["geodesicLength"](e.features[0].geometry,"miles").toFixed(3)):e.attributes.oldLength;document.body.style.cursor="context-menu";let u=new Promise((function(d){const u=new Date;let l=new o["a"]({geometry:{type:"polyline",paths:e.features?s.paths[0]:e.geometry.paths[0],hasM:!0,spatialReference:{wkid:3857}},attributes:{editType:e.features?r["a"].editType[""+n][1]:r["a"].editType[""+e.attributes.EDIT_TYPE_ID][1],gid:e.features?e.features[0].attributes.RDBD_GMTRY_LN_ID:e.attributes.GID,objectid:e.features?e.features[0].attributes.OBJECTID:e.attributes.OBJECTID,roadbedName:e.features?c["a"].getters.getRoadbedName:e.attributes.ASSET_ST_DEFN_NM,assetBegin:e.features?e.features[0].attributes.ASSET_LN_BEGIN_DFO_MS:e.attributes.ASSET_LN_BEGIN_DFO_MS,assetEnd:e.features?e.features[0].attributes.ASSET_LN_END_DFO_MS:e.attributes.ASSET_LN_END_DFO_MS,originalLength:t,isCreatedAssets:!0,createDt:e.features?u:e.attributes.RTE_DEFN_LN_CREATE_DT,createNm:e.features?c["a"].getters.getUserName:e.attributes.RTE_DEFN_LN_CREATE_USER_NM,editNm:e.features?null:e.attributes.RTE_DEFN_LN_EDIT_USER_NM,editDt:e.features?null:e.attributes.RTE_DEFN_LN_EDIT_DT,comment:e.features?c["a"].getters.getComment:e.attributes.EDIT_NOTES},symbol:{type:"simple-line",color:e.features?r["a"].editType[""+n][0]:r["a"].editType[""+e.attributes.EDIT_TYPE_ID][0],width:2,style:"dash"}});a["gLayer"].graphics.add(l),"EDIT"===l.attributes.editType&&n&&Object(i["j"])(l),c["a"].commit("setOldLength",t),c["a"].commit("setModifyRd",!0),d(a["gLayer"])})),l=await u;Object(i["e"])(l)}}function b(e){let t;t&&(t.remove(),t=null),a["view"].when().then(()=>{a["view"].on(e,e=>{const n={include:[a["gLayer"],a["clientSideGeoJson"]]};a["view"].hitTest(e,n).then(e=>{if(!e.results.length)return t&&(t.remove(),t=null),void(document.body.style.cursor="context-menu");a["view"].whenLayerView(e.results[0].graphic.layer).then((function(n){document.body.style.cursor="pointer",t&&t.remove(),t=n.highlight(e.results[0].graphic)}))})})})}function p(e,t,n){return t?Number(d["geodesicLength"](e,"miles").toFixed(n)):d["geodesicLength"](e,"miles")}function y(){let e=Number(((new Date).getTime()/1e3).toFixed(0));return e}function E(e,t,n,a,r,i){let d=Object(s["b"])(),o={workflow:{step:e,countyInfo:{countyName:c["a"].getters.getCntyName,countyMileage:c["a"].getters.getCntyMiles,countyNumber:c["a"].getters.getCntyNmbr},judgeName:c["a"].getters.getJudgeName,delegateName:t,email:[c["a"].getters.getJudgeEmail],ccEmails:n,timestamp:`${d[1]} ${d[0]}`,judgeSign:a,jdgeCntyObj:r,updMileage:i}},u=encodeURIComponent(JSON.stringify(o)),l=`https://testportal.txdot.gov/fmejobsubmitter/TPP/TPP_DEV_Email.fmw?params=${u}&opt_showresult=false&opt_servicemode=sync`,f=fetch(l,{headers:{Authorization:"fmetoken token=c30491278adc9df2ad8cd577a27d433345d266ff"},"Content-Type":"text/plain"});f.then(e=>console.log("email fired! Check your email...",e))}function k(){let e=Number(Math.floor(100*c["a"].getters.getDeltaDistance)/100)+Number(c["a"].getters.getCntyMiles);return e}function T(e){let t=e.rings[0].length,n=0,a=0,r=[];for(let c=0;c<e.rings[0].length;c++)n+=e.rings[0][c][0],a+=e.rings[0][c][1];r.push(n/t),r.push(a/t),c["a"].commit("setCntyCentroid",r)}function D(){const e=new Date;return[e.getMonth(),e.getDate()]}},"1baa":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=[{1:"Anderson",2:"Andrews",3:"Angelina",4:"Aransas",5:"Archer",6:"Armstrong",7:"Atascosa",8:"Austin",9:"Bailey",10:"Bandera",11:"Bastrop",12:"Baylor",13:"Bee",14:"Bell",15:"Bexar",16:"Blanco",17:"Borden",18:"Bosque",19:"Bowie",20:"Brazoria",21:"Brazos",22:"Brewster",23:"Briscoe",24:"Brooks",25:"Brown",26:"Burleson",27:"Burnet",28:"Caldwell",29:"Calhoun",30:"Callahan",31:"Cameron",32:"Camp",33:"Carson",34:"Cass",35:"Castro",36:"Chambers",37:"Cherokee",38:"Childress",39:"Clay",40:"Cochran",41:"Coke",42:"Coleman",43:"Collin",44:"Collingsworth",45:"Colorado",46:"Comal",47:"Comanche",48:"Concho",49:"Cooke",50:"Coryell",51:"Cottle",52:"Crane",53:"Crockett",54:"Crosby",55:"Culberson",56:"Dallam",57:"Dallas",58:"Dawson",62:"De Witt",59:"Deaf Smith",60:"Delta",61:"Denton",63:"Dickens",64:"Dimmit",65:"Donley",67:"Duval",68:"Eastland",69:"Ector",70:"Edwards",72:"El Paso",71:"Ellis",73:"Erath",74:"Falls",75:"Fannin",76:"Fayette",77:"Fisher",78:"Floyd",79:"Foard",80:"Fort Bend",81:"Franklin",82:"Freestone",83:"Frio",84:"Gaines",85:"Galveston",86:"Garza",87:"Gillespie",88:"Glasscock",89:"Goliad",90:"Gonzales",91:"Gray",92:"Grayson",93:"Gregg",94:"Grimes",95:"Guadalupe",96:"Hale",97:"Hall",98:"Hamilton",99:"Hansford",100:"Hardeman",101:"Hardin",102:"Harris",103:"Harrison",104:"Hartley",105:"Haskell",106:"Hays",107:"Hemphill",108:"Henderson",109:"Hidalgo",110:"Hill",111:"Hockley",112:"Hood",113:"Hopkins",114:"Houston",115:"Howard",116:"Hudspeth",117:"Hunt",118:"Hutchinson",119:"Irion",120:"Jack",121:"Jackson",122:"Jasper",123:"Jeff Davis",124:"Jefferson",125:"Jim Hogg",126:"Jim Wells",127:"Johnson",128:"Jones",129:"Karnes",130:"Kaufman",131:"Kendall",66:"Kenedy",132:"Kent",133:"Kerr",134:"Kimble",135:"King",136:"Kinney",137:"Kleberg",138:"Knox",142:"La Salle",139:"Lamar",140:"Lamb",141:"Lampasas",143:"Lavaca",144:"Lee",145:"Leon",146:"Liberty",147:"Limestone",148:"Lipscomb",149:"Live Oak",150:"Llano",151:"Loving",152:"Lubbock",153:"Lynn",154:"Madison",155:"Marion",156:"Martin",157:"Mason",158:"Matagorda",159:"Maverick",160:"McCulloch",161:"McLennan",162:"McMullen",163:"Medina",164:"Menard",165:"Midland",166:"Milam",167:"Mills",168:"Mitchell",169:"Montague",170:"Montgomery",171:"Moore",172:"Morris",173:"Motley",174:"Nacogdoches",175:"Navarro",176:"Newton",177:"Nolan",178:"Nueces",179:"Ochiltree",180:"Oldham",181:"Orange",182:"Palo Pinto",183:"Panola",184:"Parker",185:"Parmer",186:"Pecos",187:"Polk",188:"Potter",189:"Presidio",190:"Rains",191:"Randall",192:"Reagan",193:"Real",194:"Red River",195:"Reeves",196:"Refugio",197:"Roberts",198:"Robertson",199:"Rockwall",200:"Runnels",201:"Rusk",202:"Sabine",203:"San Augustine",204:"San Jacinto",205:"San Patricio",206:"San Saba",207:"Schleicher",208:"Scurry",209:"Shackelford",210:"Shelby",211:"Sherman",212:"Smith",213:"Somervell",214:"Starr",215:"Stephens",216:"Sterling",217:"Stonewall",218:"Sutton",220:"Tarrant",221:"Taylor",222:"Terrell",223:"Terry",224:"Throckmorton",225:"Titus",226:"Tom Green",227:"Travis",228:"Trinity",229:"Tyler",230:"Upshur",231:"Upton",232:"Uvalde",233:"Val Verde",234:"Van Zandt",235:"Victoria",236:"Walker",237:"Waller",238:"Ward",239:"Washington",240:"Webb",241:"Wharton",242:"Wheeler",243:"Wichita",244:"Wilbarger",245:"Willacy",246:"Williamson",247:"Wilson",248:"Winkler",249:"Wise",250:"Wood",251:"Yoakum",252:"Young",253:"Zapata",254:"Zavala",219:"Swisher"}]},"2a33":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={criUtils:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_Utils/FeatureServer/0",criUrl:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_URL/FeatureServer/0",refernceLayer:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_REF_LAYERS/FeatureServer/0",editsLayer:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_EDITS/FeatureServer/0",snapLayer:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/Route_County/FeatureServer/0",advanceUploadLayer:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/ArcGIS/rest/services/CRI_QAQC_prod/FeatureServer/0",txCounties:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/Texas_County_Boundaries/FeatureServer/0",judgeInfoTable:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_CNTY_INFO/FeatureServer/0",deleteDocumentFL:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_DELETE_DOCUMENTATION_PROD/FeatureServer/0",design:[{num:"1",name:"One Way"},{num:"2",name:"Two Way"},{num:"3",name:"Boulevard"}],surface:[{num:1,name:"Concrete"},{num:2,name:"Concrete"},{num:3,name:"Concrete"},{num:4,name:"Paved"},{num:5,name:"Paved"},{num:6,name:"Paved"},{num:7,name:"Paved"},{num:8,name:"Paved"},{num:9,name:"Paved"},{num:10,name:"Paved"},{num:11,name:"Brick"},{num:12,name:"Dirt/Natural"},{num:13,name:"Gravel"},{num:14,name:"Paved"}],suffixPrefix:{EAST:"E",NORTH:"N",NORTHEAST:"NE",NORTHWEST:"NW","NOT APPLICABLE":"N/A",SOUTH:"S",SOUTHEAST:"SE",SOUTHWEST:"SW",WEST:"W"},suffixPrefixNum:[{1:"NORTH",2:"NORTHEAST",3:"EAST",4:"SOUTHEAST",5:"SOUTH",6:"SOUTHWEST",7:"WEST",8:"NORTHWEST",9:"NOT APPLICABLE"}],rdNameType:[{1:"ALLEY"},{2:"ANEX"},{3:"ARCADE"},{4:"AVENUE"},{5:"BAYOU"},{6:"BEACH"},{7:"BEND"},{8:"BLUFF"},{9:"BLUFFS"},{10:"BOTTOM"},{11:"BOULEVARD"},{12:"BRANCH"},{13:"BRIDGE"},{14:"BROOK"},{15:"BROOKS"},{16:"BURG"},{17:"BURGS"},{18:"BYPAS"},{19:"CAMP"},{20:"CANYON"},{21:"CAPE"},{22:"CAUSEWAY"},{23:"CENTER"},{24:"CENTERS"},{25:"CIRCLE"},{26:"CIRCLES"},{27:"CLIFF"},{28:"CLIFFS"},{29:"CLUB"},{30:"COMMON"},{31:"COMMONS"},{32:"CORNER"},{33:"CORNERS"},{34:"COURSE"},{35:"COURT"},{36:"COURTS"},{37:"COVE"},{38:"COVES"},{39:"CREEK"},{40:"CRESCENT"},{41:"CREST"},{42:"CROSSING"},{43:"CROSSROAD"},{44:"CROSSROADS"},{45:"CURVE"},{46:"DALE"},{47:"DAM"},{48:"DIVIDE"},{49:"DRIVE"},{50:"DRIVES"},{51:"ESTATE"},{52:"ESTATES"},{53:"EXPRESSWAY"},{54:"EXTENSION"},{55:"EXTENSIONS"},{56:"FALL"},{57:"FALLS"},{58:"FERRY"},{59:"FIELD"},{60:"FIELDS"},{61:"FLAT"},{62:"FLATS"},{63:"FORD"},{64:"FORDS"},{65:"FOREST"},{66:"FORGE"},{67:"FORGES"},{68:"FORK"},{69:"FORKS"},{70:"FORT"},{71:"FREEWAY"},{72:"GARDEN"},{73:"GARDENS"},{74:"GATEWAY"},{75:"GLEN"},{76:"GLENS"},{77:"GREEN"},{78:"GREENS"},{79:"GROVE"},{80:"GROVES"},{81:"HARBOR"},{82:"HARBORS"},{83:"HAVEN"},{84:"HEIGHTS"},{85:"HIGHWAY"},{86:"HILL"},{87:"HILLS"},{88:"HOLLOW"},{89:"INLET"},{90:"ISLAND"},{91:"ISLANDS"},{92:"ISLE"},{93:"JUNCTION"},{94:"JUNCTIONS"},{95:"KEY"},{96:"KEYS"},{97:"KNOLL"},{98:"KNOLLS"},{99:"LAKE"},{100:"LAKES"},{101:"LAND"},{102:"LANDING"},{103:"LANE"},{104:"LIGHT"},{105:"LIGHTS"},{106:"LOAF"},{107:"LOCK"},{108:"LOCKS"},{109:"LODGE"},{110:"LOOP"},{111:"MALL"},{112:"MANOR"},{113:"MANORS"},{114:"MEADOW"},{115:"MEADOWS"},{116:"MEWS"},{117:"MILL"},{118:"MILLS"},{119:"MISSION"},{120:"MOTORWAY"},{121:"MOUNT"},{122:"MOUNTAIN"},{123:"MOUNTAINS"},{124:"NECK"},{125:"ORCHARD"},{126:"OVAL"},{127:"OVERPASS"},{128:"PARKS"},{129:"PARKWAYS"},{130:"PASS"},{131:"PASSAGE"},{132:"PATH"},{133:"PIKE"},{134:"PINE"},{135:"PINES"},{136:"PLACE"},{137:"PLAIN"},{138:"PLAINS"},{139:"PLAZA"},{140:"POINT"},{141:"POINTS"},{142:"PORT"},{143:"PORTS"},{144:"PRAIRIE"},{145:"RADIAL"},{146:"RAMP"},{147:"RANCH"},{148:"RAPID"},{149:"RAPIDS"},{150:"REST"},{151:"RIDGE"},{152:"RIDGES"},{153:"RIVER"},{154:"ROAD"},{155:"ROADS"},{156:"ROUTE"},{157:"ROW"},{158:"RUE"},{159:"RUN"},{160:"SHOAL"},{161:"SHOALS"},{162:"SHORE"},{163:"SHORES"},{164:"SKYWAY"},{165:"SPRING"},{166:"SPRINGS"},{167:"SPURS"},{168:"SQUARE"},{169:"SQUARES"},{170:"STATION"},{171:"STRAVENUE"},{172:"STREAM"},{173:"STREET"},{174:"STREETS"},{175:"SUMMIT"},{176:"TERRACE"},{177:"THROUGHWAY"},{178:"TRACE"},{179:"TRACK"},{180:"TRAFFICWAY"},{181:"TRAIL"},{182:"TRAILER"},{183:"TUNNEL"},{184:"TURNPIKE"},{185:"UNDERPASS"},{186:"UNION"},{187:"UNIONS"},{188:"VALLEY"},{189:"VALLEYS"},{190:"VIADUCT"},{191:"VIEW"},{192:"VIEWS"},{193:"VILLAGE"},{194:"VILLAGES"},{195:"VILLE"},{196:"VISTA"},{197:"WALKS"},{198:"WALL"},{199:"WAY"},{200:"WAYS"},{201:"WELL"},{202:"WELLS"},{203:"OTHER"},{204:"NOT APPLICABLE"},{0:"NOT APPLICABLE"}],colorTable:{Paved:"#FF6700",Brick:"#FE012E","Dirt/Natural":"#0098FF",Gravel:"#E700FF",Concrete:"#47BF40","One Way":"#FFBF00","Two Way":"#00FFBF",Boulevard:"#BF00FF",1:"#FF00C6",2:"#FFB900",3:"#00FF39",4:"#0046FF",5:"#2FACD0",6:"#D0532F"},editType:{add:["#27D83E","ADD",1],edit:["#F8A307","EDIT",5],delete:["#E32636","DELETE",4]},txdotSchema:["EDIT_TYPE","ROAD_PRFX","ROAD_SFX","ROAD_TYPE","ROAD_NM"],txdotRequired:["EDIT_TYPE","ROAD_TYPE","ROAD_NM"]}},3514:function(e,t,n){"use strict";n.r(t),n.d(t,"gLayer",(function(){return D})),n.d(t,"delgLayer",(function(){return _})),n.d(t,"rdbdAssetPt",(function(){return S})),n.d(t,"rdbdAssetLine",(function(){return N})),n.d(t,"criUtils",(function(){return R})),n.d(t,"vTBasemap",(function(){return L})),n.d(t,"imgBasemap",(function(){return O})),n.d(t,"map",(function(){return A})),n.d(t,"view",(function(){return w})),n.d(t,"basemapToggle",(function(){return v})),n.d(t,"expandLegend",(function(){return F})),n.d(t,"viewPoint",(function(){return P})),n.d(t,"home",(function(){return M})),n.d(t,"ccWidget",(function(){return G})),n.d(t,"search",(function(){return Y})),n.d(t,"featLayer",(function(){return j})),n.d(t,"clientSideGeoJson",(function(){return U})),n.d(t,"addAttach",(function(){return H})),n.d(t,"snapLayer",(function(){return J})),n.d(t,"rdbdSrfcAsst",(function(){return W})),n.d(t,"rdbdDsgnAsst",(function(){return K})),n.d(t,"rdbdLaneAsst",(function(){return V})),n.d(t,"editsLayer",(function(){return $})),n.d(t,"advanceLayer",(function(){return X})),n.d(t,"txCounties",(function(){return Z})),n.d(t,"countyOfficialInfo",(function(){return Q})),n.d(t,"criEditsLayer",(function(){return q})),n.d(t,"sketch",(function(){return z})),n.d(t,"sketchPoint",(function(){return ee})),n.d(t,"initialize",(function(){return te})),n.d(t,"returnAlertInfo",(function(){return ne}));var a=n("2a33"),r=n("a611"),c=n("6d1b"),s=n("a049"),i=n("ce0b"),d=n("5bd5"),o=n("785c"),u=n("3795"),l=n("173c"),f=n("b039"),h=n("619d"),m=n("e657"),g=n("cb72"),b=n("8491"),p=n("1452"),y=n("07a5"),E=n("8c12"),k=n("cf3e"),T=n("36bc");const D=new i["a"],_=new i["a"],S=new i["a"],N=new i["a"],R=new d["default"]({url:a["a"].criUtils}),I=new l["default"]({url:"https://tiles.arcgis.com/tiles/KTcxiTD9dsQw4r7Z/arcgis/rest/services/TxDOT_Vector_Tile_Basemap/VectorTileServer",id:"txdot"}),C=new f["default"]({url:"https://txgi.tnris.org/login/path/right-address-virus-dilemma/wmts",serviceMode:"KVP",id:"imagery"}),L=new h["default"]({baseLayers:I}),O=new h["default"]({baseLayers:C}),A=new c["a"]({basemap:L,layers:[N,S,D]}),w=new r["a"]({container:"viewDiv",map:A,zoom:2,highlightOptions:{color:"orange"},constraints:{rotationEnabled:!1,snapToZoom:!1}}),v=new m["a"]({view:w,nextBasemap:O}),F=new T["a"]({view:w,expandIconClass:"esri-icon-legend"}),P=new g["a"],M=new b["a"]({view:w}),x=new p["a"]({view:w}),B=new y["a"]({view:w,id:"scalebar"}),G=new E["a"]({view:w}),Y=new k["a"]({view:w,allPlaceholder:"County Road Name...",includeDefaultSources:!1,sources:[]});w.ui.remove("attribution"),w.ui.empty("top-left"),w.ui.add([{component:M,position:"top-right",index:3},{component:x,position:"top-right",index:2},{component:F,position:"top-right",index:4},{component:v,position:"top-right"},{component:B,position:"manual"},{component:Y,position:"top-right",index:0}]);const j=new d["default"]({url:a["a"].refernceLayer,opacity:1,returnM:!0,returnZ:!0,hasM:!0,visible:!1,outFields:["CNTY_TYPE_NM","RDBD_GMTRY_LN_ID"],renderer:{type:"simple",symbol:{type:"simple-line",color:[0,127,255]}}}),U=new o["default"]({url:"",hasZ:!0,renderer:{type:"simple",symbol:{type:"simple-line",color:[0,127,255]}}});Y.sources.push({layer:new d["default"]({url:a["a"].refernceLayer}),searchFields:["SRCH_SHORT","SRCH_LONG"],displayField:"SRCH_SHORT",exactMatch:!1,autoSelect:!0,outFields:["*"],name:"County Road",placeholder:"Ex: Smith Road",maxResults:12,maxSuggestions:12,suggestionsEnabled:!0,minCharacters:0,popupEnabled:!1,popupOpenOnSelect:!1,resultSymbol:{type:"simple-line",color:"cyan",width:"6px"}});const H=new d["default"]({url:a["a"].deleteDocumentFL}),J=new d["default"]({url:a["a"].snapLayer,definitionExpression:"RTE_PRFX NOT IN ('CR')",visible:!1}),W=new d["default"]({url:a["a"].assetLyrRdbSrf}),K=new d["default"]({url:a["a"].assetLyrRdbDsgn}),V=new d["default"]({url:a["a"].assetLyrRdbLane}),$=new d["default"]({url:a["a"].editsLayer}),X=new d["default"]({url:a["a"].advanceUploadLayer}),Z=new d["default"]({url:a["a"].txCounties}),Q=new d["default"]({url:a["a"].judgeInfoTable}),q=new d["default"]({url:"https://services.arcgis.com/KTcxiTD9dsQw4r7Z/arcgis/rest/services/CRI_Map_Markups_2023_Edits/FeatureServer/0",renderer:{type:"unique-value",field:"EDIT_STATUS",defaultSymbol:{type:"simple-line",color:"red"},uniqueValueInfos:[{value:4,symbol:{type:"simple-line",color:"#89CFF0",width:"2px",style:"solid"}},{value:1,symbol:{type:"simple-line",color:"#89CFF0",width:"2px",style:"solid"}},{value:0,symbol:{type:"simple-line",color:"#F0E130",width:"2px",style:"solid"}},{value:6,symbol:{type:"simple-line",color:"#F0E130",width:"2px",style:"solid"}},{value:5,symbol:{type:"simple-line",color:"#8B008B",width:"2px",style:"solid"}}]},visible:!1}),z=new s["a"]({view:w,layer:D,updateOnGraphicClick:!0,defaultCreateOptions:{mode:"click",hasZ:!1},defaultUpdateOptions:{tool:"reshape",toggleToolOnClick:!1,enableRotation:!1,enableScaling:!1,multipleSelectionEnabled:!1,reshapeOptions:{shapeOperation:"none"}},snappingOptions:{enabled:!0,featureSources:[{layer:D,enabled:!0,featureEnabled:!0},{layer:U,enabled:!0,featureEnabled:!0},{layer:J,enabled:!0,featureEnabled:!0}],selfEnabled:!1}});z.polylineSymbol.color={r:204,g:102,b:0,a:1};const ee=new s["a"]({view:w,layer:_,defaultCreateOptions:{mode:"click"},snappingOptions:{enabled:!0,featureSources:[{layer:D,enabled:!0,featureEnabled:!0},{layer:S,enabled:!0,featureEnabled:!0}]}});u["j"](w,"ready").then(()=>{document.getElementById("stepper").style.width="0px",A.addMany([U,Z,q])}),w.on("double-click",e=>{e.stopPropagation()}),w.ui.remove("zoom");const te=e=>{w.container=e,u["j"](w,"ready").then(()=>{console.log("Map and View are ready")}).catch(e=>{console.warn("An error in creating the map occurred:",e)})};async function ne(){return await R.queryFeatures()}},"375c":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return T}));var a=n("3514"),r=n("2a33"),c=n("0fc3"),s=n("c0d6"),i=n("ea51"),d=n("8d60"),o=n("9786"),u=n("40b6");async function l(e){a["search"].clear();let t=Object(c["g"])(e);s["a"].commit("setActiveLoader",!0),t.then(async e=>{await Object(c["h"])(e,!0),Object(c["f"])("click"),s["a"].commit("setStepperClose",!0),s["a"].commit("setActiveLoader",!1),s["a"].commit("setFeatureGeom",e),s["a"].commit("setRoadGeom",e.features[0].geometry.clone()),s["a"].commit("setInfoRd",!0)})}async function f(){let e=new Promise((function(e){a["view"].on("click",(function(t){let n={include:[a["clientSideGeoJson"],a["gLayer"]]};a["view"].when(()=>{a["view"].hitTest(t,n).then((function(t){if((!t.results.length||!0!==s["a"].getters.getEditExisting&&!0!==s["a"].getters.getDeleteRd)&&(!t.results.length||!0!==s["a"].getters.getdeleteGraphClick))if(t.results.length&&!0===s["a"].getters.getStepperClose&&s["a"].getters.getStepNumber>=1&&!1===s["a"].getters.getInfoRd&&s["a"].getters.getObjectid!==t.results[0].graphic.attributes["OBJECTID"])s["a"].commit("setdenyFeatClick",!0);else if(t.results.length){if(!t.results[0].graphic.attributes["editType"]&&!s["a"].getters.getEditExisting)return void l(t);let n=T(t.results[0].graphic.attributes["editDt"],t.results[0].graphic.attributes["createDt"]);"ADD"===t.results[0].graphic.attributes["editType"]||"EDIT"===t.results[0].graphic.attributes["editType"]?("ADD"===t.results[0].graphic.attributes["editType"]?s["a"].commit("setModifyRd",!1):s["a"].commit("setModifyRd",!0),s["a"].commit("setStepperClose",!0),s["a"].commit("setInfoRd",!1),Object(c["j"])(t.results[0].graphic.attributes["roadbedName"],t.results[0].graphic.attributes["objectid"],t.results[0].graphic.attributes["comment"],[t.results[0].graphic.attributes["editNm"],n[1],t.results[0].graphic.attributes["createNm"],n[0]]),e(t.results[0].graphic)):"DELETE"===t.results[0].graphic.attributes["editType"]&&(Object(c["j"])(t.results[0].graphic.attributes["roadbedName"],t.results[0].graphic.attributes["objectid"],t.results[0].graphic.attributes["comment"],[t.results[0].graphic.attributes["editNm"],n[1],t.results[0].graphic.attributes["createNm"],n[0]]),s["a"].commit("setdeleteGraphClick",!0))}else;}))})}))})),t=await e;return t}function h(e,t){let n,r=a["rdbdAssetPt"].graphics.items.filter(t=>t.attributes.objectid===e[0].OBJECTID);if("click"!==t)for(let a=0;a<r.length;a++)if(r[a].attributes.edit)console.log("fail",r[a]);else{let e=y(r[a].attributes.objectid,r[a].geometry.x,r[a].geometry.y,!1);n=e[1]}k(n,e)}function m(e){try{a["rdbdAssetPt"].length&&(a["rdbdAssetPt"].length=0,a["rdbdAssetLine"].length=0);let t=s["a"].getters.getRoadGeom,n=t.paths[0],c=[];c.length&&(c.length=0);for(let e=0;e<n.length;e++)c.push(n[e][2]);for(let s in e){let t=t=>t>=e[s].ASSET_LN_END,i=-1===c.findIndex(t)?n.slice(c.findIndex(t)-1):n.slice(c.findIndex(t)-1,c.findIndex(t)+1);const l=1609.344*Math.abs(i[0][2]-e[s].ASSET_LN_END),f=new d["a"]({geometry:{type:"point",longitude:i[0][0],latitude:i[0][1]}}),h=new d["a"]({geometry:{type:"point",longitude:i[1][0],latitude:i[1][1]}});let m=o["e"](f.geometry),g=o["e"](h.geometry);const b=u["b"](m,g),p=Number(i[1][2].toFixed(3))===e[s].ASSET_LN_END?{x:g.x,y:g.y}:u["e"](m,l,b.azimuth);o["b"](p);let y="Two-way"===e[s].SRFC_TYPE?"Two Way":e[s].SRFC_TYPE;const E={type:"simple-marker",color:r["a"].colorTable[""+y]},k={type:"text",color:"black",haloColor:"white",haloSize:1,xoffset:3,yoffset:10,font:{family:"Arial",style:"normal",size:12,weight:"normal"},labelPlacement:"above-center",text:""+e[s].ASSET_LN_END.toFixed(3)};let T=new d["a"]({geometry:{type:"point",hasM:!0,longitude:p.x,latitude:p.y,spatialReference:{wkid:3857}},attributes:{objectid:e[s].OBJECTID,assetTyp:y,bDfo:e[s].ASSET_LN_BEGIN,eDfo:e[s].ASSET_LN_END},symbol:E}),D=new d["a"]({geometry:{type:"point",hasM:!0,longitude:p.x,latitude:p.y,spatialReference:{wkid:3857}},attributes:{objectid:e[s].OBJECTID,assetTyp:y,bDfo:e[s].ASSET_LN_BEGIN,eDfo:e[s].ASSET_LN_END},symbol:k});a["rdbdAssetPt"].graphics.addMany([D,T])}h(e)}catch(t){return console.log(t),t}}function g(){a["rdbdAssetPt"].graphics.removeAll(),a["rdbdAssetLine"].removeAll()}function b(e,t){let n=[];for(let r=0;r<a["gLayer"].graphics.items.length;r++)a["gLayer"].graphics.items[r].attributes.objectid===e[0].OBJECTID&&n.push(a["gLayer"].graphics.items[r]);return a["rdbdAssetLine"].removeAll(),"click"!==t&&(a["rdbdAssetPt"].removeAll(),a["rdbdAssetLine"].removeAll(),m(e)),e}function p(e){try{let t={surface:()=>JSON.parse(r[0].attributes.roadbedSurface),design:()=>JSON.parse(r[0].attributes.roadbedDesign),numLane:()=>JSON.parse(r[0].attributes.numLane)},n=s["a"].getters.getObjectid,r=a["gLayer"].graphics.items.filter(e=>e.attributes.objectid===n),i=Object(c["c"])(r[0].geometry,!0,3),d=t[e]();if(d.at(-1).ASSET_LN_END_DFO_MS=i,s["a"].commit("setRoadGeom",r[0].geometry.clone()),null===d)return void g();if(E(d),d)if(d.OBJECTID!==n){d.forEach(e=>e.OBJECTID=n);let e=[];for(let t=0;t<d.length;t++)e.push({SRFC_TYPE:d[t].SRFC_TYPE_ID,ASSET_LN_BEGIN:d[t].ASSET_LN_BEGIN_DFO_MS,ASSET_LN_END:d[t].ASSET_LN_END_DFO_MS,OBJECTID:d[t].OBJECTID});b(e)}else b(d);else console.warn("initLoadAssetGraphic didnt run!")}catch{console.warn("oh noooo...")}}function y(e,t,n,a){let r,c,l,f,h=s["a"].getters.getRoadGeom,m=new d["a"]({geometry:{type:"point",longitude:t,latitude:n}}),g=i["nearestCoordinate"](h,m.geometry),b=o["e"](g.coordinate),p=i["nearestVertex"](h,g.coordinate).vertexIndex,y=h.paths[0].at(p),E=y[0],k=y[1],T=new d["a"]({geometry:{type:"point",longitude:E,latitude:k}}),D=o["e"](T.geometry);const _=u["b"](D,b);if(Number(_.distance.toFixed(3))<=1&&0===p){r=h.paths[0].at(0)[2];let e=a?r:[r,h];return e}if(Number(_.distance.toFixed(3))<=1&&p===h.paths[0].at(-1)){r=h.paths[0].at(-1)[2];let e=a?r:[r,h];return e}if(Number(_.distance.toFixed(3))<=1){r=h.paths[0].at(p)[2];let e=a?r:[r,h];return e}if(2===h.paths[0].length&&h.paths[0].at(-1)===y){r=Math.abs(y[2]-_.distance/1609.344),h.insertPoint(0,1,[t,n,Number(r.toFixed(3))]);let e=a?r:[r,h];return e}if(2===h.paths[0].length&&h.paths[0].at(0)===y){r=Math.abs(y[2]-_.distance/1609.344),h.insertPoint(0,1,[t,n,Number(r.toFixed(3))]);let e=a?r:[r,h];return e}{let e=h.paths[0].at(p+1)?h.paths[0].at(p+1)[0]:h.paths[0].at(-1)[0],t=h.paths[0].at(p+1)?h.paths[0].at(p+1)[1]:h.paths[0].at(-1)[1],n=h.paths[0].at(p-1)?h.paths[0].at(p-1)[0]:h.paths[0].at(0)[0],a=h.paths[0].at(p-1)?h.paths[0].at(p-1)[1]:h.paths[0].at(0)[1],r={type:"polyline",paths:[[y[0],y[1]],[n,a]],spatialReference:{wkid:3857}},c={type:"polyline",paths:[[y[0],y[1]],[e,t]],spatialReference:{wkid:3857}},s=new d["a"]({geometry:c}),o=new d["a"]({geometry:r});l=i["intersects"](s.geometry,g.coordinate),f=i["intersects"](o.geometry,g.coordinate)}if(!0===f&&!1===l?(r=Math.abs(y[2]-_.distance/1609.344),c=p):!1===f&&!0===l&&(r=Math.abs(y[2]+_.distance/1609.344),c=p+1),r)return!1===a?(h.insertPoint(0,c,[t,n,Number(r.toFixed(3))]),s["a"].commit("setRoadGeom",h),[r,h]):r}function E(e){let t=[];e.forEach((function(e){t.push([e.ASSET_LN_BEGIN_DFO_MS,e.ASSET_LN_END_DFO_MS])})),s["a"].commit("setAssetCoverage",t)}function k(e,t){let n=a["rdbdAssetLine"].graphics.items;for(let r=0;r<n.length;r++)n[r].attributes.objectid===t[0].OBJECTID&&a["rdbdAssetLine"].graphics.remove(n[r]);let c=e.paths[0],s=[];s.length&&(s.length=0);for(let a=0;a<c.length;a++)s.push(Number(parseFloat(c[a][2]).toFixed(3)));for(let i=0;i<t.length;i++){delete t[i].ASSET_LN_END_DFO_MS,delete t[i].ASSET_LN_BEGIN_DFO_MS;let e=e=>e>=t[i].ASSET_LN_BEGIN,n=e=>e>=t[i].ASSET_LN_END,o=-1===s.findIndex(n)?c.slice(s.findIndex(e)):c.slice(s.findIndex(e),s.findIndex(n)+1),u="Two-way"===t[i].SRFC_TYPE?"Two Way":t[i].SRFC_TYPE;const l={type:"simple-line",color:r["a"].colorTable[""+u],width:5,style:"solid"};let f=new d["a"]({geometry:{type:"polyline",paths:o,hasM:!0,spatialReference:{wkid:3857}},attributes:{objectid:t[i].OBJECTID},symbol:l});a["rdbdAssetLine"].graphics.add(f)}}function T(e,t){let n,a;if(t){const e=Number(new Date(t).getHours()),a=new Date(t).getMinutes();n=[new Date(t).toLocaleDateString(),e,a]}if(e){const t=Number(new Date(e).getHours()),n=new Date(e).getMinutes();a=[new Date(e).toLocaleDateString(),t,n]}return[n,a]}},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{attrs:{id:"app"}},[n("router-view")],1)])},c=[],s=n("9e3e"),i={name:"App",async mounted(){Object(s["a"])().then(e=>{!0!==e.response?this.$router.push({name:"Login"}):this.$router.push({name:"JudgeIntro",params:{id:e.nbr}})})}},d=i,o=(n("034f"),n("2877")),u=Object(o["a"])(d,r,c,!1,null,null,null),l=u.exports,f=(n("164a"),n("8931"),n("ce5b")),h=n.n(f);n("bf40"),n("5363");a["default"].use(h.a);const m={};var g=new h.a({opts:m,icons:{iconfont:"mdi"},breakpoint:{name:{xs:0,sm:600,md:960,lg:1264,xl:1845}}}),b=n("a18c"),p=n("c0d6");a["default"].config.productionTip=!1,new a["default"]({vuetify:g,router:b["a"],store:p["a"],render:e=>e(l),created(){}}).$mount("#app")},"80a6":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return _}));var a=n("3514"),r=n("0fc3"),c=n("2a33"),s=n("c0d6"),i=n("69dd"),d=n("9275"),o=n("9e3e");async function u(){const e=new i["a"];e.where=`CNTY_TYPE_NM = '${s["a"].getters.getCntyName}'`,e.outFields=["*"];let t=await a["clientSideGeoJson"].queryFeatures(e);await l(t)}async function l(e){let t=1e3,n=0,a=1e3,r=[],c=[];e.features.forEach(e=>{r.push(e.attributes.RDBD_GMTRY_LN_ID),c.push({roadId:e.attributes.RDBD_GMTRY_LN_ID,roadN:e.attributes.ST_DEFN_NM,routeId:e.attributes.RTE_DEFN_LN_NM,len:e.attributes.LENGTH,cntyN:e.attributes.CNTY_TYPE_NM,cntyNbr:e.attributes.CNTY_TYPE_NBR})});while(n<r.length){let e=r.slice(n,a);const c=new i["a"];c.where=`RDBD_GMTRY_LN_ID in (${e})`,c.num=2e4,c.orderByFields=["RDBD_GMTRY_LN_ID"],c.outFields=["*"],n+=t,a+=t}await f(c)}async function f(e){let t=[],n=new Promise(()=>{for(let n=0;n<e.length;n++)t.push({"Road Name":e[n].roadN,"Route ID":e[n].routeId,Length:e[n].len,"County Name":e[n].cntyN,"County Number":e[n].cntyNbr,"District Number":s["a"].getters.getDistrict})}),a=Object.keys(t[0]).toString()+"\n";return t.forEach(e=>{let t=Object.values(e);a+=t.join(","),a+="\n"}),h(a),await n}async function h(e){let t=new Promise(t=>{let n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(e),n.download=s["a"].getters.getCntyName+"_Road_Log.csv",n.click(),s["a"].commit("setIsDownload",!0),t("complete")});return await t}function m(e){let t=e.target.value.toLowerCase().split("."),n=t[0].replace("c:\\fakepath\\","");return n}function g(e){document.getElementById("progress").style.display="none",document.getElementById("text").style.display="block",document.getElementById("output").style.border="2px solid red",document.getElementById("output").style.width="27rem",document.getElementById("text").innerText="Error! You have validation errors:";let t=document.createElement("ul");document.getElementById("text").appendChild(t),e.forEach(e=>{let n=document.createElement("li");n.appendChild(document.createTextNode(e.message)),n.style.textAlign="left",t.appendChild(n)}),document.getElementById("text").style.bottom="3rem",document.getElementById("text").style.color="red",document.getElementById("text").style.left=".5rem"}async function b(e,t){document.getElementById("progress").style.display="none",document.getElementById("text").style.display="block",document.getElementById("output").style.border="2px solid green",document.getElementById("output").style.width="27rem",document.getElementById("text").innerText="Succesfully uploaded your shapefile! "+e,document.getElementById("text").style.color="green",s["a"].commit("setIsDragDrop",!1),s["a"].commit("setServerCheck",!0);let n=await D(t);T(n)}async function p(e){let t=await k(e.data.featureCollection.layers[0],c["a"].txdotSchema);s["a"].commit("setIsMapAttr",!0);let n=t.filter(e=>!0===e.valueFail);n.length>0?g(n):b("File Passed.",e.data.featureCollection.layers[0].featureSet.features)}async function y(e,t){let n=t,a=new Promise(t=>{if("esriGeometryPolyline"!==e.layerDefinition.geometryType)return n.push({valueFail:!0,message:"Other Geometries other than polylines are in your file.\nRevise and re-submit."}),void t(n);n.push({valueFail:!1}),t(n)});return await a}async function E(e,t){let n=t,a=new Promise(a=>{let r="An incorrect edit type value has been found.\nPlease make sure values are either Add, Edit or Delete. Re-submit",s="Empty or Null fields have been detected.\nReview required fields [EDIT_TYPE, bh ROAD_TYPE, ROAD_NM] have a value and re-submit",i=[],d=[];for(let t=0;t<e.featureSet.features.length;t++){let n=Object.entries(e.featureSet.features[t].attributes),a=n.filter(e=>{if(c["a"].txdotRequired.includes(e[0])){let t="ROAD_NM"===e[0]?0===e[1].toString().replace(/\s/g,"").length:0===e[1];return!0===t}});a.length&&i.push(a),n.filter(e=>{if("EDIT_TYPE"!==e[0]);else{let t=e[1];5!==t&&1!==t&&4!==t&&d.push({valueFail:!0,message:r})}})}i.length&&n.push({valueFail:!0,message:s}),d.length&&n.push({valueFail:!0,message:r}),a(n);let o=y(e,t);a(o)});return await a}async function k(e,t){let n=new Promise(n=>{let a=[],r=[],c=0;e.layerDefinition.fields.forEach(e=>r.push(e.name));for(let e=0;e<t.length;e++){let n=r.includes(t[e]);!0===n?0:c++}c>0&&a.push({valueFail:!0,message:"Schema Failed. Check Shapefile matches TxDOT Schema"});let s=E(e,a);n(s)});return await n}function T(e){s["a"].commit("setIsFmeProcess",[!0,""]);let t=fetch(`https://testportal.txdot.gov/fmejobsubmitter/TPP/TPP_DEV_CRI_QAQC_AssetsRemove.fmw?SUBMIT_ID=${e}&USERNAME=${s["a"].getters.getUserName}&EMAIL=${s["a"].getters.getUserEmail}&opt_showresult=false&opt_servicemode=sync`,{headers:{Authorization:"fmetoken token=8a1e669e82e32009a2fa81e757261b1dee1aa597","Content-Type":"text/plain"}});t.then(()=>{s["a"].commit("setIsFmeProcess",[!1,"success"]),Object(o["d"])()}).catch(()=>{s["a"].commit("setIsFmeProcess",[!1,"timeout"]),console.log("error")})}async function D(e){let t=Object(r["a"])(),n=`${s["a"].getters.getCntyNmbr}-${t}`;for(let a=0;a<e.length;a++)e[a].attributes.SUBMIT_ID=n,e[a].geometry.type="polyline",await Object(d["b"])(e[a],!0);return n}function _(){let e=new Date,t=e.getHours()>=12?"pm":"am",n="am"===t?e.getHours():e.getHours()-12,a=`${n}:${e.getMinutes()}:${e.getSeconds()} ${t}`,r=e.getFullYear().toString(),c=(e.getMonth()+1).toString(),s=e.getDate().toString(),i=`${c}/${s}/${r}`;return[a,i]}},"85ec":function(e,t,n){},8931:function(e,t,n){},9275:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return f}));var a=n("3514"),r=n("c0d6"),c=n("8d60"),s=n("2a33");async function i(){a["editsLayer"].definitionExpression="CNTY_TYPE_NBR = "+Number(r["a"].getters.getCntyNmbr);let e=a["editsLayer"].queryFeatures();return e}function d(e,t){let n=i(),a=new c["a"]({attributes:{OBJECTID:r["a"].getters.getObjectid,OBJECTID_1:null,EDIT_ID:null,TASK_ID:null,EDIT_TYPE_ID:s["a"].editType[(""+e.attributes.editType).toLowerCase()][2],EDIT_STATUS_ID:null,GID:e.attributes.gid,RDWAY_STAT_TYPE_ID:null,RTE_DEFN_LN_NM:null,RTE_ID:null,RTE_DEF_TYPE_ID:null,RTE_PRFX_TYPE_ID:1,RDBD_TYPE_ID:5,RTE_NBR:null,RTE_SFX_TYPE_ID:null,CRDNL_DRCT_TYPE_ID:null,CNTY_TYPE_NBR:r["a"].getters.getCntyNmbr,RTE_DEFN_LN_BEGIN_DFO_MS:e.geometry.paths[0][0][2],RTE_DEFN_LN_END_DFO_MS:e.geometry.paths[0].at(-1)[2],RTE_DEFN_LN_MS:null,ASSET_ST_DEFN_NM:e.attributes.roadbedName,RTE_DEFN_LN_CREATE_USER_NM:e.attributes.createNm,RTE_DEFN_LN_CREATE_DT:e.attributes.createDt,RTE_DEFN_LN_EDIT_USER_NM:null,RTE_DEFN_LN_EDIT_DT:null,PREV_TASK_ID:null,EDIT_NOTES:e.attributes.comment},geometry:e.geometry});n.then(n=>{let c=n.features.filter(t=>t.attributes.OBJECTID===e.attributes.objectid);if(c.length){const e=new Date;a.attributes.RTE_DEFN_LN_EDIT_DT=e,a.attributes.RTE_DEFN_LN_EDIT_USER_NM=r["a"].getters.getUserName,a.attributes.OBJECTID_1=c[0].attributes.OBJECTID_1,t?l(a):u(a)}else!t&&o(a,!1)})}async function o(e,t){let n=!1===t?a["editsLayer"]:a["advanceLayer"],r=n.applyEdits({addFeatures:[e]}),c=await r;return c}function u(e){a["editsLayer"].applyEdits({updateFeatures:[e]}).then(e=>e).catch(e=>console.log(e))}function l(e){a["editsLayer"].applyEdits({deleteFeatures:[e]}).then(e=>console.log("deleted "+e)).catch(e=>console.log(e))}function f(e){let t=new c["a"]({attributes:{CNTY_NM:r["a"].getters.getCntyName,CNTY_NUM:r["a"].getters.getCntyNmbr,DEL_REASON:e,SUBMIT_USERNAME:r["a"].getters.getUserName,SUBMIT_DATE:new Date},geometry:{type:"point",longitude:r["a"].getters.getCntyCentroid[0],latitude:r["a"].getters.getCntyCentroid[1]}}),n={globalIdUsed:!0,rollbackOnFailureEnabled:!0},s={addFeatures:[t],options:n};a["addAttach"].applyEdits(s).then(e=>{t.attributes.OBJECTID=e.addFeatureResults[0].objectId,a["addAttach"].addAttachment(t,document.getElementById("attachedForm")).then(()=>{r["a"].commit("setIsDocumentUploaded",!0)}).catch(()=>{r["a"].commit("setIsDocumentUploaded",!1)})}).catch(()=>r["a"].commit("setIsDocumentUploaded",!1))}},"9e3e":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var a=n("3514"),r=n("9275"),c=n("0fc3"),s=n("1baa"),i=n("69dd"),d=n("c0d6"),o=n("a18c"),u=n("9786");async function l(){let e=new Promise((function(e){let t=window.location.href,n=/\/(?:.(?!\/))+$/,r=t.match(n)[0].split("/")[1];if("login#"===r)return o["a"].push("/load");for(let c=0;c<s["a"].length;c++)if(s["a"][c][r]){let t=`CNTY_NBR = '${r}'`;d["a"].commit("setCntyNmbr",r),d["a"].commit("setCntyName",s["a"][c][r]);const n=new i["a"];n.where=t,n.outFields=["*"];let o=a["countyOfficialInfo"].queryFeatures(n);const u=new i["a"];u.outFields=["*"],u.returnGeometry=!0;let l=a["txCounties"].queryFeatures(u);e({response:!0,nbr:parseInt(r),query:o,extent:l})}else e({response:!1})})),t=await e;return t}async function f(){d["a"].commit("setDeltaDis",[0,"Reset"]);let e=Object(r["d"])(),t=await e,n=0;for(let a=0;a<t.features.length;a++){let e=Object(c["c"])(t.features[a].geometry,!0,3);if(1===t.features[a].attributes.EDIT_TYPE_ID)n+=e,t.features[a].attributes.GID=9999,t.features[a].attributes.EDIT_TYPE_ID="add";else if(5===t.features[a].attributes.EDIT_TYPE_ID){let r=await Object(c["g"])(t.features[a]),s=r.features.length?Object(c["c"])(r.features[0].geometry,!0,3):Object(c["c"])(t.features[a].geometry,!0,3),i=e-s;n+=i,t.features[a].attributes.RTE_DEFN_LN_CREATE_DT=new Date,t.features[a].attributes.oldLength=s,t.features[a].attributes.EDIT_TYPE_ID="edit"}else 4===t.features[a].attributes.EDIT_TYPE_ID&&(n-=e,t.features[a].attributes.RTE_DEFN_LN_CREATE_DT=new Date,t.features[a].attributes.EDIT_TYPE_ID="delete",t.features[a].attributes.oldLength=e);Object(c["b"])(t.features[a],"click")}return d["a"].commit("setDeltaDis",[n,"Add"]),[e,n]}function h(e,t){let n=new i["a"];return n.num=2e4,n.where=`CNTY_TYPE_NM = '${e}' and RDBD_GMTRY_LN_ID > ${t}`,n.outFields=["*"],n.orderByFields=["RDBD_GMTRY_LN_ID"],n.returnM=!0,n.hasZ=!0,n.returnGeometry=!0,n}async function m(e){let t={type:"FeatureCollection",features:[]},n=!0,r=[],c=0;while(!0===n){let t=h(e,c),s=await a["featLayer"].queryFeatures(t),i=s.features.at(-1).attributes.RDBD_GMTRY_LN_ID;c=i,s.features.forEach(e=>r.push(e)),n=s.exceededTransferLimit}for(let a=0;a<r.length;a++){let e=u["e"](r[a].geometry),n={type:"Feature",id:r[a].attributes.OBJECTID,geometry:{type:"LineString",coordinates:e.paths[0]},properties:{ASSET_ID:r[a].attributes.ASSET_ID,ASSET_LN_BEGIN_DFO_MS:r[a].attributes.ASSET_LN_BEGIN_DFO_MS,ASSET_LN_END_DFO_MS:r[a].attributes.ASSET_LN_END_DFO_MS,CNTY_TYPE_NBR:r[a].attributes.CNTY_TYPE_NBR,CNTY_TYPE_NM:r[a].attributes.CNTY_TYPE_NM,LENGTH:r[a].attributes.LENGTH,OBJECTID:r[a].attributes.OBJECTID,RDBD_GMTRY_LN_ID:r[a].attributes.RDBD_GMTRY_LN_ID,RTE_DEFN_LN_NM:r[a].attributes.RTE_DEFN_LN_NM,SHAPE__Length:r[a].attributes.SHAPE__Length,SRCH_LONG:r[a].attributes.SRCH_LONG,SRCH_SHORT:r[a].attributes.SRCH_SHORT,ST_DEFN_NM:r[a].attributes.ST_DEFN_NM,ST_PRFX_TYPE_CD:r[a].attributes.ST_PRFX_TYPE_CD,ST_PRFX_TYPE_DSCR:r[a].attributes.ST_PRFX_TYPE_DSCR,ST_PRFX_TYPE_ID:r[a].attributes.ST_PRFX_TYPE_ID,ST_TYPE_DSCR:r[a].attributes.ST_TYPE_DSCR}};t.features.push(n)}const s=new Blob([JSON.stringify(t)],{type:"application/json"}),i=URL.createObjectURL(s);a["clientSideGeoJson"].url=i}async function g(e,t){await m(e);let[n,r]=await f(),s=[];for(let a in n.features)if(null!==n.features[a].attributes){let e=n.features[a].attributes.gid||n.features[a].attributes.RDBD_GMTRY_LN_ID;s.push(e)}a["txCounties"].definitionExpression=`CNTY_NM='${e}'`;const o=new i["a"];o.where=`CNTY_NM = '${e}'`,o.outFields=["*"],o.returnGeometry=!0;let u=a["txCounties"].queryFeatures(o),l=await u;return Object(c["d"])(l.features[0].geometry),d["a"].commit("setDistrict",l.features[0].attributes.TXDOT_DIST_NBR),a["search"].sources._items[0].layer.definitionExpression="CNTY_TYPE_NBR = "+t,a["view"].goTo({target:l.features[0].geometry}),a["viewPoint"].targetGeometry=l.features[0].geometry.extent,a["viewPoint"].scale=5e5,a["home"].viewpoint=a["viewPoint"],a["view"].constraints.geometry=l.features[0].geometry.extent,a["view"].constraints.minZoom=8,r}async function b(e){let t=await e;const n=t.some(e=>"County Road Inventory"===e.title);if(!0!==n)o["a"].push({name:"Login"});else{let e=t.some(e=>"County Road Inventory Advanced"===e.title);d["a"].commit("setCertifiedCheck",e)}}},a18c:function(e,t,n){"use strict";var a=n("2b0e"),r=n("8c4f"),c=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ErrorPage"},[n("h1",[e._v("Hello! You have not been granted access to this Application. Contact the CRI Admin for access.")]),n("p",[e._v("If you were able to login into the application before, close tab or browser. "),n("br"),n("br"),e._v("If closing tab or browser did not work, clear browser cache. "),n("br"),n("br"),e._v("If none of these steps solve the issue, contact CRI admin.")])])}],i={name:"errorPage"},d=i,o=n("2877"),u=Object(o["a"])(d,c,s,!1,null,null,null),l=u.exports;a["default"].use(r["a"]);const f=[{path:"/",redirect:{name:"/login"}},{path:"/:id(\\d{0,3})",name:"JudgeIntro",component:()=>n.e("MileSign").then(n.bind(null,"3c42")),props:!0},{path:"/map",name:"MapHome",component:()=>Promise.all([n.e("chunk-86864ea4"),n.e("Map")]).then(n.bind(null,"f1cd")),props:!0,meta:{requiresAuth:!0}},{path:"/index#",redirect:{name:"/login"}},{path:"/login",name:"Login",component:()=>Promise.all([n.e("chunk-86864ea4"),n.e("Login")]).then(n.bind(null,"a55b")),props:!0},{path:"/load",name:"Loading",component:()=>n.e("Load").then(n.bind(null,"f9f2")),props:!0},{path:"/pickCounty",name:"PickCounty",component:()=>Promise.all([n.e("chunk-86864ea4"),n.e("PickCounty")]).then(n.bind(null,"9708")),props:!0},{path:"/EOY",name:"EOY",component:()=>Promise.all([n.e("chunk-86864ea4"),n.e("PickCounty")]).then(n.bind(null,"3b64")),props:!0},{path:"/catchAll(.*)",name:"error",component:l}],h=new r["a"]({mode:"history",base:"/apps/statewide_mapping/cri/",routes:f});t["a"]=h},bc66:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="bc66"},c0d6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("2b0e"),r=n("2f62");a["default"].use(r["a"]);const c=new r["a"].Store({state:{objectid:0,judgeObjectId:0,roadbedName:null,roadbedDesign:null,roadbedSurface:null,numLane:null,cntyName:"",cntyNmbr:0,cntyMiles:0,district:0,count:0,updateDfo:0,oldLength:0,newTotalLength:0,deltaDistance:0,username:"",userEmail:"",stepperClose:null,addRd:null,editExisting:null,deleteRd:null,deleteRdSecond:null,deleteGraphClick:null,delSketch:null,modifyRd:!1,infoRd:!1,executeDfoPts:"",roadInfoUpdate:[],roadGeometry:[],featureGeometry:[],assetCoverage:[!0,null],cntyEndingMiles:0,stepNumber:1,denyFeatClick:null,activeLoader:null,dfoReturn:0,isDfoReturn:!1,isFinalCheck:!1,isLoggedOut:!1,isLoggedIn:!1,isUndoDisable:!0,isRedoDisable:!0,isClearEditBtn:!1,isClearMapTools:!1,isClearAboutHelpTools:!1,isAbout:!1,isStepCancel:!1,isInitAdd:!1,comment:"",geomCheck:"",isDragDrop:!1,isDownload:!1,editInfo:"",uploadFields:[],serverResp:!1,isCertified:!1,isMapAttr:!0,isJudgeLtter:!1,judgeName:"",judgeEmail:"",isFmeProcess:!1,totalReloadPer:0,cntyCentroid:[0,0],isDocumentUploaded:null,isEoEWarning:!1,editLayer:"",isLastYearEdits:!1,isLegend:!1,showVideo:!1,isTour:!1,isOverlay:!1,registerpopup:!1,alerstatus:!1,editType:["add","https://www.youtube.com/watch?v=5W8jGqaOyXc&list=PLyLWQADRroOUeiQ8sXX3JMVQeu87sgig2&index=7"]},getters:{getIsEditType(e){return e.editType},getIsAlert(e){return e.alerstatus},getIsRegisterPopup(e){return e.registerpopup},getIsOverlay(e){return e.isOverlay},getShowTour(e){return e.isTour},getShowVideo(e){return e.showVideo},getIsLegend(e){return e.isLegend},getIsLastYearEdits(e){return e.isLastYearEdits},getFeatLayerInfo(e){return e.editLayer},getIsEoEWarning(e){return e.isEoEWarning},getIsDocumentUploaded(e){return e.isDocumentUploaded},getCntyCentroid(e){return e.cntyCentroid},getTotalReloadPer(e){return e.totalReloadPer},getJudgeObjectId(e){return e.judgeObjectId},getIsFmeProcess(e){return e.isFmeProcess},getIsJudgeLtter(e){return e.isJudgeLtter},getJudgeName(e){return e.judgeName},getJudgeEmail(e){return e.judgeEmail},getIsMapAttr(e){return e.isMapAttr},getCertifiedrCheck(e){return e.isCertified},getServerCheck(e){return e.serverResp},getUploadFields(e){return e.uploadFields},getEditInfo(e){return e.editInfo},getIsDownload(e){return e.isDownload},getIsDragDrop(e){return e.isDragDrop},getDistrict(e){return e.district},getGeomCheck(e){return e.geomCheck},getIsInitAdd(e){return e.isInitAdd},getIsStepCancel(e){return e.isStepCancel},getComment(e){return e.comment},getIsAbout(e){return e.isAbout},getIsClearEditBtn(e){return e.isClearEditBtn},getIsClearMapTools(e){return e.isClearMapTools},getIsAboutHelpTools(e){return e.isClearAboutHelpTools},getIsUndoDisable(e){return e.isUndoDisable},getIsLoggedOut(e){return e.isLoggedOut},getIsLoggedIn(e){return e.isLoggedIn},getIsFinalCheck(e){return e.isFinalCheck},getIsDfoReturn(e){return e.isDfoReturn},getDfoReturn(e){return e.dfoReturn},getDelSketch(e){return e.delSketch},getdeleteGraphClick(e){return e.deleteGraphClick},getActiveLoader(e){return e.activeLoader},getdenyFeatClick(e){return e.denyFeatClick},getDeleteRdSecond(e){return e.deleteRdSecond},getDeleteRd(e){return e.deleteRd},getModifyRd(e){return e.modifyRd},getInfoRd(e){return e.infoRd},getStepNumber(e){return e.stepNumber},getCntyEndingMiles(e){return e.cntyEndingMiles},getRoadGeom(e){return e.roadGeometry},getFeatureGeom(e){return e.featureGeometry},getAssetCoverage(e){return e.assetCoverage},getroadInfoUpdate(e){return e.roadInfoUpdate},getExecuteDfoPts(e){return e.executeDfoPts},getEditExisting(e){return e.editExisting},getAddRd(e){return e.addRd},getStepperClose(e){return e.stepperClose},getUserName(e){return e.username},getUserEmail(e){return e.userEmail},getOldLength(e){return e.oldLength},getDeltaDistance(e){return e.deltaDistance},getUpdateDfo(e){return e.updateDfo},getObjectid(e){return e.objectid},getCount(e){return e.count},getCntyNmbr(e){return e.cntyNmbr},getCntyMiles(e){return e.cntyMiles},getCntyName(e){return e.cntyName},getRoadbedName(e){return e.roadbedName},getRoadbedDesign(e){return e.roadbedDesign},getRoadbedSurface(e){return e.roadbedSurface},getNumLane(e){return e.numLane}},mutations:{setIsEditType(e,t){e.editType=t},setIsAlert(e,t){e.alerstatus=t},setIsRegisterPopup(e,t){e.registerpopup=t},setIsOverlay(e,t){e.isOverlay=t},setShowTour(e,t){e.isTour=t},setIsShowVideo(e,t){e.showVideo=t},setIsLegend(e,t){e.isLegend=t},setIsLastYearEdits(e,t){e.isLastYearEdits=t},setFeatLayerInfo(e,t){e.editLayer=t},setIsEoEWarning(e,t){e.isEoEWarning=t,setTimeout(()=>{e.isEoEWarning=!1},3e4)},setIsDocumentUploaded(e,t){e.isDocumentUploaded=t},setCntyCentroid(e,t){e.cntyCentroid=t},setTotalReloadPer(e,t){e.totalReloadPer=t},setJudgeObjectId(e,t){e.judgeObjectId=t},setIsFmeProcess(e,t){e.isFmeProcess=t,console.log("this is is "+e.isFmeProcess)},setJudgeName(e,t){e.judgeName=t},setJudgeEmail(e,t){e.judgeEmail=t},setIsJudgeLetter(e,t){e.isJudgeLtter=t},setIsMapAttr(e,t){e.isMapAttr=t},setCertifiedCheck(e,t){e.isCertified=t},setServerCheck(e,t){e.serverResp=t},setUploadFields(e,t){e.uploadFields=t},setEditInfo(e,t){e.editInfo=t},setIsDownload(e,t){e.isDownload=t},setIsDragDrop(e,t){e.isDragDrop=t},setDistrict(e,t){e.district=t},setGeomCheck(e,t){e.geomCheck=t},setIsInitAdd(e,t){e.isInitAdd=t},setIsStepCancel(e,t){e.isStepCancel=t},setComment(e,t){e.comment=t},setIsAbout(e,t){e.isAbout=t},setIsClearEditBtn(e,t){if(t)return e.isClearEditBtn=t,e.isClearMapTools=!1,void(e.isClearAboutHelpTools=!1);e.isClearEditBtn=t},setIsClearMapTools(e,t){if(t)return e.isClearMapTools=t,e.isClearEditBtn=!1,void(e.isClearAboutHelpTools=!1);e.isClearMapTools=t},setIsAboutHelpTools(e,t){if(t)return e.isClearAboutHelpTools=t,e.isClearEditBtn=!1,void(e.isClearMapTools=!1);e.isClearAboutHelpTools=t},setIsUndoDisable(e,t){e.isUndoDisable=t},setIsRedoDisable(e,t){e.isRedoDisable=t},setIsLoggedOut(e,t){e.isLoggedOut=t},setIsLoggedIn(e,t){e.isLoggedIn=t},setIsFinalCheck(e,t){e.isFinalCheck=t},setIsDfoReturn(e,t){e.isDfoReturn=t},setDfoReturn(e,t){e.dfoReturn=t},setDelSketch(e,t){e.delSketch=t},setdeleteGraphClick(e,t){e.deleteGraphClick=t},setActiveLoader(e,t){e.activeLoader=t},setdenyFeatClick(e,t){e.denyFeatClick=t},setDeleteRdSecond(e,t){e.deleteRdSecond=t},setDeleteRd(e,t){e.deleteRd=t},setModifyRd(e,t){e.modifyRd=t},setInfoRd(e,t){e.infoRd=t},setStepNumber(e,t){e.stepNumber=t},setCntyEndingMiles(e,t){e.cntyEndingMiles=t},setRoadGeom(e,t){e.roadGeometry=t},setFeatureGeom(e,t){e.featureGeometry=t},setAssetCoverage(e,t){let n=[];t.forEach((function(e){t.length>1?n.push(e[0]+e[1]):n.push(e[0],e[1])}));let a=0,r=n.reduce((e,t)=>t-e,a);const c=e.roadGeometry.paths[0].at(-1)[2]-e.roadGeometry.paths[0].at(0)[2];if(Number(c.toFixed(3))!==Number(r.toFixed(3)))try{if(t.length>1){for(let n=0;n<t.length;n++)return void 0===t[n+1][1]?void 0:t[n][1]>t[n+1][0]?(e.assetCoverage=[!1,"overlap",t[n][1],t[n+1][0]],e.assetCoverage):t[n][1]<t[n+1][0]?(e.assetCoverage=[!1,"gap",t[n][1],t[n+1][0]],e.assetCoverage):(e.assetCoverage=[!1,"short",t[0][1],Number(c.toFixed(3))],e.assetCoverage);return}if(t[0][1]-t[0][1]<Number(c.toFixed(3))||t[0][1]-t[0][1]>Number(c.toFixed(3)))return void(e.assetCoverage=[!1,"short",t[0][1],Number(c.toFixed(3))])}catch{console.log("no more assets to review")}else e.assetCoverage=[!0,null]},setRoadInfoUpdate(e,t){e.roadInfoUpdate=t},setExecuteDfoPts(e,t){e.executeDfoPts=t},setEditExisting(e,t){e.editExisting=t},setAddRd(e,t){e.addRd=t},setStepperClose(e,t){!0===t&&(document.getElementById("stepper").style.width="500px"),e.stepperClose=t},setUserName(e,t){e.username=t},setUserEmail(e,t){e.userEmail=t},setDeltaDis(e,t){"Reset"!==t[1]?"Add"!==t[1]?"Delete"!==t[1]&&"Edit"!==t[1]?0!==e.oldLength&&(e.deltaDistance+=t[0]):e.deltaDistance-=t[0]:e.deltaDistance+=t[0]:e.deltaDistance-=e.deltaDistance},setOldLength(e,t){e.oldLength=t},setNewTotalLength(e,t){e.newTotalLength=t},setUpdateDfo(e,t){e.updateDfo=t},setObjectid(e,t){e.objectid=t},setCount(e,t){e.count=t},setCntyNmbr(e,t){e.cntyNmbr=t},setCntyMiles(e,t){e.cntyMiles=t},setCntyName(e,t){e.cntyName=t},setRoadbedName(e,t){e.roadbedName=t},setRoadbedDesign(e,t){e.roadbedDesign=t},setRoadbedSurface(e,t){e.roadbedSurface=t},setNumLane(e,t){e.numLane=t}}})},e9ee:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return E})),n.d(t,"j",(function(){return k})),n.d(t,"c",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return _})),n.d(t,"d",(function(){return N})),n.d(t,"k",(function(){return R})),n.d(t,"b",(function(){return I})),n.d(t,"i",(function(){return O}));var a=n("3514"),r=n("2a33"),c=n("9275"),s=n("c0d6"),i=n("0fc3"),d=n("375c"),o=n("ea51"),u=n("8d60"),l=n("9786"),f=n("40b6");async function h(){try{let e=new Promise((function(e,t){a["sketch"].create("polyline",{mode:"click",hasZ:!1}),a["sketch"].on("create",n=>{let a;if("start"===n.state)S("addRoad");else if("active"===n.state){let e=o["geodesicLength"](n.graphic.geometry,"miles");s["a"].commit("setDfoReturn",e),N(n.graphic.geometry,!0)}"complete"===n.state&&(s["a"].commit("setIsDfoReturn",!1),s["a"].commit("setDfoReturn",0),s["a"].commit("setIsInitAdd",!0),a=o["geodesicLength"](n.graphic.geometry,"miles"),e([a,n.graphic.geometry,"add"]),t("cancel"),R())})})),t=await e;m(t)}catch(Error){console.log(Error)}}function m(e){a["sketch"].layer.graphics.items.at(-1).geometry.hasM=!0;const t=new Date;a["sketch"].layer.graphics.items.at(-1).attributes={editType:r["a"].editType[""+e[2]][1],gid:9999,objectid:Number(t.getTime().toFixed(7)),roadbedName:JSON.stringify(null),originalLength:Number(e[0].toFixed(3)),createDt:t,createNm:s["a"].getters.getUserName,isCreatedAssets:!1},a["sketch"].layer.graphics.items.at(-1).symbol={type:"simple-line",color:r["a"].editType[""+e[2]][0],width:2,style:"dash"},k(a["sketch"].layer.graphics.items.at(-1));let n=Object(d["a"])(t);C(a["gLayer"].graphics.items.at(-1)),s["a"].commit("setOldLength",Number(e[0].toFixed(3))),s["a"].commit("setRoadGeom",a["gLayer"].graphics.items.at(-1).geometry.clone()),s["a"].commit("setModifyRd",!1),s["a"].commit("setEditInfo",[null,null,s["a"].getters.getUserName,n[1]]),Object(i["j"])(a["sketch"].layer.graphics.items.at(-1).attributes.roadbedName,a["sketch"].layer.graphics.items.at(-1).attributes.objectid,"")}async function g(e,t){let n=new Promise((function(t,n){const r=a["view"].on(e,e=>{if(!1===s["a"].getters.getEditExisting&&!1===s["a"].getters.getDeleteRd)return s["a"].commit("setEditExisting",null),s["a"].commit("setDeleteRd",null),n("cancel"),void r.remove();let c={include:a["clientSideGeoJson"]};a["view"].hitTest(e,c).then((function(e){for(let n=0;n<e.results.length;n++)if(!0!==s["a"].getters.getEditExisting&&!0!==s["a"].getters.getDeleteRd||s["a"].commit("setActiveLoader",!0),null!==e.results[n].graphic.geometry&&null!==e.results[n].graphic.sourceLayer){let n=Object(i["g"])(e);r.remove(),n.then(e=>t(e))}}))})})),r=await n;return s["a"].commit("setRoadGeom",r.features[0].geometry.clone()),a["view"].goTo(r.features[0].geometry),await Object(i["h"])(r,!0),Object(i["b"])(r,e,t),r}async function b(e,t){let n=[];if(!0===t)return n.length&&(n.length=0),a["gLayer"].graphics.items.forEach(e=>{9999!==e.attributes.gid&&e.attributes.objectid!==s["a"].getters.getObjectid&&n.push(e.attributes.gid)}),void(0===n.length?a["clientSideGeoJson"].definitionExpression=`CNTY_TYPE_NM = '${s["a"].getters.getCntyName}'`:a["clientSideGeoJson"].definitionExpression=`RDBD_GMTRY_LN_ID not in (${n}) and CNTY_TYPE_NM = '${s["a"].getters.getCntyName}'`);let r=e.graphics?e.graphics.items:e.features;for(let a in r)if(null!==r[a].attributes){let e=r[a].attributes.gid||r[a].attributes.RDBD_GMTRY_LN_ID;"ADD"!==r[a].attributes.editType&&n.push(e)}a["clientSideGeoJson"].definitionExpression=`RDBD_GMTRY_LN_ID not in (${n}) and CNTY_TYPE_NM = '${s["a"].getters.getCntyName}'`}function p(){try{let e;return L(),void a["sketch"].on("update",t=>{if("start"===t.state&&(e=Number(o["geodesicLength"](t.graphics[0].geometry,"miles").toFixed(3))),"active"===t.state&&("reshape-stop"===t.toolEventInfo.type?(N(t.graphics[0].geometry,!1),a["sketch"]["_operationHandle"].history.redo.length?s["a"].commit("setIsRedoDisable",!1):s["a"].commit("setIsRedoDisable",!0),a["sketch"]["_operationHandle"].history.undo.length?s["a"].commit("setIsUndoDisable",!1):s["a"].commit("setIsUndoDisable",!0)):"vertex-remove"===t.toolEventInfo.type&&N(t.graphics[0].geometry,!1)),"complete"===t.state){N(t.graphics[0].geometry,!1);let n=Number(o["geodesicLength"](t.graphics[0].geometry,"miles").toFixed(3));if("ADD"===t.graphics[0].attributes.editType&&0===s["a"].getters.getOldLength);else{null===a["sketch"]["_operationHandle"]&&(s["a"].commit("setIsRedoDisable",!0),s["a"].commit("setIsUndoDisable",!0));let r=n-e;s["a"].commit("setDeltaDis",[r,"Modify"]),s["a"].commit("setRoadGeom",t.graphics[0].geometry.clone()),C(t.graphics[0])}}})}catch(Error){console.log("updateLength error",Error)}}function y(){a["sketch"].cancel()}function E(){a["sketchPoint"].cancel()}function k(e){a["sketch"].update([e],{tool:"reshape"})}function T(){let e=a["gLayer"].graphics.items.filter(e=>e.attributes.objectid===s["a"].getters.getObjectid);e[0].attributes.editType="DELETE",a["view"].goTo(e[0].geometry);let t=Number(o["geodesicLength"](e[0].geometry,"miles").toFixed(5));s["a"].commit("setDeltaDis",[t,"Delete"]);let n=e[0].symbol.clone();n.color=r["a"].editType["delete"][0],e[0].symbol=n}function D(){let e=a["view"].allLayerViews.items.filter(e=>"feature"===e.layer.type&&e._highlightIds);e[0]._highlightIds.delete(s["a"].getters.getObjectid)}function _(){y();let e=a["gLayer"].graphics.items.filter(e=>e.attributes.objectid===s["a"].getters.getObjectid);Object(c["c"])(e[0],!0),a["gLayer"].remove(e[0]),D(),b(null,!0);let t=Number(o["geodesicLength"](e[0].geometry,"miles").toFixed(5));if("ADD"===e[0].attributes.editType)s["a"].commit("setDeltaDis",[t,"Delete"]);else if("DELETE"===e[0].attributes.editType)s["a"].commit("setDeltaDis",[e[0].attributes.originalLength,"Add"]);else if("EDIT"===e[0].attributes.editType){let n=t-e[0].attributes.originalLength;s["a"].commit("setDeltaDis",[n,"Edit"])}}function S(e){let t={dfo:e=>{try{let t={include:[a["gLayer"]]};a["view"].hitTest(e,t).then(t=>{if(t.results.length){let n=l["e"](a["view"].toMap({x:e.x,y:e.y}));l["e"](a["view"].toMap({x:e.x,y:e.y}));let r=l["b"]({x:n.x,y:n.y});if(s["a"].getters.getObjectid===t.results[0].graphic.attributes["objectid"]){s["a"].commit("setIsDfoReturn",!0);let t=Object(d["c"])(s["a"].getters.getObjectid,r.x,r.y,!0),n=document.getElementById("dfoBox");if(!n)return s["a"].commit("setIsDfoReturn",!1),void s["a"].commit("setDfoReturn",0);n.style.left=e.x+"px",n.style.top=e.y+"px",s["a"].commit("setDfoReturn",t)}}})}catch{return}},addRoad:e=>{try{let t=document.getElementById("dfoBox");t.style.left=e.x+"px",t.style.top=e.y+"px"}catch{return 0}}};a["view"].on("pointer-move",t[""+e])}function N(e,t){let n=o["geodesicLength"](e,"miles");if(n<.007)return void(!1===t&&s["a"].commit("setGeomCheck",1));let a=[];for(let c=0;c<e.paths[0].length;c++)try{e.paths[0].at(-1)===e.paths[0][c]||a.push(new u["a"]({geometry:{type:"polyline",paths:[e.paths[0][c],e.paths[0][c+1]]}}))}catch{}let r=0;while(r<a.length)try{for(let e=0;e<a.length;e++){let t=o["crosses"](a[r].geometry,a[e].geometry);if(t)return void s["a"].commit("setGeomCheck",2)}r++}catch{}s["a"].commit("setGeomCheck",0),a.length=0}function R(){a["sketch"].complete()}async function I(){let e=await Object(c["d"])(),t=e.features.filter(e=>e.attributes.OBJECTID===s["a"].getters.getObjectid);if(t.length){let e=1===t[0].attributes.EDIT_TYPE_ID?t[0]:await Object(i["g"])(t[0]),n=1===t[0].attributes.EDIT_TYPE_ID?Object(i["c"])(e.geometry,!0,3):Object(i["c"])(e.features[0].geometry,!0,3),r=a["gLayer"].graphics.items.filter(e=>e.attributes.objectid===s["a"].getters.getObjectid),c=Object(i["c"])(r[0].geometry,!0,3),d=Object(i["c"])(t[0].geometry,!0,3),o=d-c;s["a"].commit("setIsStepCancel",!0);let u=c<d?"Add":"Delete";return 1===t[0].attributes.EDIT_TYPE_ID?(s["a"].commit("setDeltaDis",[Math.abs(o),u]),t[0].attributes.EDIT_TYPE_ID="add"):5===t[0].attributes.EDIT_TYPE_ID&&(t[0].attributes.oldLength=n,s["a"].commit("setDeltaDis",[Math.abs(o),u]),t[0].attributes.EDIT_TYPE_ID="edit"),a["gLayer"].remove(r[0]),Object(i["b"])(t[0],"click",null),void s["a"].commit("setIsStepCancel",!1)}return null}function C(e){let t=a["gLayer"].graphics.items.filter(t=>t.objectid=e.attributes.objectid).at(-1),n=t.attributes.assetBegin,r=[];try{let t=n;e.geometry.paths[0][0][2]?r.push(e.geometry.paths[0][0][2]):r.push(t);for(let n=0;n<e.geometry.paths[0].length;n++){let a=new u["a"]({geometry:{type:"point",longitude:e.geometry.paths[0][n][0],latitude:e.geometry.paths[0][n][1]}}),c=new u["a"]({geometry:{type:"point",longitude:e.geometry.paths[0][n+1][0],latitude:e.geometry.paths[0][n+1][1]}}),s=f["b"](l["e"](c.geometry),l["e"](a.geometry),"miles");t+=s.distance,r.push(t)}}catch{}if(t)for(let a=0;a<r.length;a++)t.geometry.setPoint(0,a,[e.geometry.paths[0][a][0],e.geometry.paths[0][a][1],r[a]]);s["a"].commit("setRoadGeom",t.geometry.clone())}function L(){a["view"].on("click",e=>{let t=[a["gLayer"]];s["a"].commit("setIsDfoReturn",!1),a["view"].hitTest(e,t).then(e=>{e.results.length&&!0===s["a"].getters.getStepperClose&&s["a"].getters.getStepNumber>1||e.results.length&&(!0===s["a"].getters.getEditExisting||!0===s["a"].getters.getDeleteRd)||e.results.forEach(e=>{if(e.graphic.attributes.objectid===s["a"].getters.getObjectid)if("ADD"!==e.graphic.attributes.editType&&"EDIT"!==e.graphic.attributes.editType||!1!==s["a"].getters.getInfoRd||!1!==s["a"].getters.getIsStepCancel){if("DELETE"===e.graphic.attributes.editType)return}else if(e.graphic.layer===a["sketch"].layer&&e.graphic.attributes){let t=Number(o["geodesicLength"](e.graphic.geometry,"miles").toFixed(3));s["a"].commit("setRoadGeom",e.graphic.geometry),s["a"].commit("setOldLength",t),a["sketch"].update([e.graphic],{tool:"reshape"})}})})})}function O(){let e=a["gLayer"].graphics.items.find(e=>e.attributes.objectid===s["a"].getters.getObjectid);Object(c["c"])(e,!1)}}});
//# sourceMappingURL=app.2db58f2e.js.map