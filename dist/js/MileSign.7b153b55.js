(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MileSign"],{"00b4":function(e,t,a){"use strict";a("ac1f");var i=a("23e7"),r=a("da84"),n=a("c65b"),o=a("e330"),l=a("1626"),s=a("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=r.Error,d=o(/./.test);i({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!l(t))return d(this,e);var a=n(t,this,e);if(null!==a&&!s(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"174f":function(e,t,a){},"235f":function(e,t,a){e.exports=a.p+"img/txdotLogo.f6cd20cf.png"},4451:function(e,t,a){"use strict";a("174f")},9379:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-main",[i("v-dialog",{attrs:{persistent:"","max-width":"1100"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[i("v-img",[i("img",{attrs:{src:a("235f")}})])],1),i("v-card-text",{attrs:{justify:"left"},domProps:{innerHTML:e._s(e.txt)}}),i("v-card-actions",[i("v-row",[i("v-col",[i("v-spacer"),i("div",{attrs:{id:"disagree"}},[i("v-btn",{attrs:{small:"",dark:"",color:"red"},on:{click:function(t){e.dialog=!1,e.logMeIn()}}},[e._v(" Review & Edit ")])],1),i("div",{attrs:{id:"agree"}},[i("v-btn",{attrs:{small:"",dark:"",color:"blue"},on:{click:function(t){e.dialog=!1,e.agree=!0}}},[e._v(" Agree & Certify ")])],1),i("div",{attrs:{id:"delegate"}},[i("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){e.dialog=!1,e.delegate=!0}}},[e._v(" Assign Delegate ")])],1)],1)],1)],1)],1)],1),i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[i("v-card",[i("v-card-text",[i("p",{staticClass:"text-body-1",domProps:{innerHTML:e._s(e.agreeTxt)}})]),i("div",{attrs:{id:"agreeTxtBox"}},[i("v-text-field",{attrs:{disabled:"",required:"",outlined:"",label:"County Judge Name"},model:{value:e.judgeName,callback:function(t){e.judgeName=t},expression:"judgeName"}}),i("v-text-field",{attrs:{disabled:"",label:"County Judge E-mail",required:"",outlined:""},model:{value:e.judgeEmail,callback:function(t){e.judgeEmail=t},expression:"judgeEmail"}}),e._l(e.emailCounter,(function(t,a){return i("v-text-field",{key:a,attrs:{rules:e.emailRules,label:"CC E-mail",required:"",outlined:"","append-icon":e.trash},on:{"click:append":function(t){return e.deleteEmail(a)}},scopedSlots:e._u([{key:"append",fn:function(){return[i("v-icon",{on:{click:function(t){return e.deleteEmail(a)}}},[e._v("mdi-delete")])]},proxy:!0}],null,!0),model:{value:t.index,callback:function(a){e.$set(t,"index",a)},expression:"item.index"}},[e._v(e._s(t)+" ")])})),i("div",[i("a",{staticStyle:{color:"blue"},attrs:{id:"addEmail","x-small":""},on:{click:e.addEmail}},[e._v("Add CC")])]),i("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{attrs:{rules:e.sigRules,outlined:"",placeholder:"Gimme your John Hancock"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),i("p",{staticStyle:{"font-family":"Brush Script MT","font-size":"30px"}},[e._v("Signature: "+e._s(e.message))]),i("div",{attrs:{id:"CCEmail"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.valid,expression:"valid"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.valid)?e._i(e.valid,null)>-1:e.valid},on:{change:function(t){var a=e.valid,i=t.target,r=!!i.checked;if(Array.isArray(a)){var n=null,o=e._i(a,n);i.checked?o<0&&(e.valid=a.concat([n])):o>-1&&(e.valid=a.slice(0,o).concat(a.slice(o+1)))}else e.valid=r}}}),i("label",[e._v(" I certify, I am "+e._s(e.judgeName))])]),i("v-spacer"),i("v-btn",{attrs:{outlined:"",color:"blue",disabled:!e.valid},on:{click:function(t){e.alert=!0,e.agree=!1,e.submit("certify")}}},[e._v("Submit")])],2),i("v-spacer"),i("v-alert",{staticStyle:{left:"15px",top:"5px"},attrs:{borderd:"bottom",type:"info","max-width":"550"},domProps:{innerHTML:e._s(e.certiAlert)}})],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[i("v-card",[i("v-icon",{staticStyle:{left:"0%"},attrs:{color:"green"}},[e._v(" mdi-check ")]),e._v(" Thank you for certifing your mileage! Be on the lookout for an email confirming your certification. ")],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"650px"},model:{value:e.delegate,callback:function(t){e.delegate=t},expression:"delegate"}},[i("v-card",[i("v-spacer"),i("v-card-text",{attrs:{justify:"center"},domProps:{innerHTML:e._s(e.delegateTxt)}}),i("div",[i("v-card-action",[i("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{counter:30,required:"",outlined:"",label:"Name"}}),i("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{rules:e.emailRules,label:"E-mail",required:"",outlined:""}})],1)],1),i("v-divider"),e._l(e.emailCounter,(function(t,a){return i("div",{key:a},[i("v-card-action",[i("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{counter:30,required:"",outlined:"",label:"Name"}}),i("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{rules:e.emailRules,label:"E-mail",required:"",outlined:""}}),i("v-divider")],1),i("div",{staticStyle:{position:"relative",left:"40%",bottom:"110px"}},[i("v-icon",{on:{click:function(t){return e.deleteEmail(e.index)}}},[e._v("mdi-delete")])],1)],1)})),i("div",{staticStyle:{position:"relative",left:"0px",bottom:"3px"}},[i("a",{staticStyle:{color:"blue"},attrs:{"x-small":""},on:{click:e.addEmail}},[e._v("Add CC")])]),i("v-btn-toggle",[i("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialog=!0,e.delegate=!1}}},[e._v("Back to Certification Page")]),i("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.submit("delegate")}}},[e._v("Send")]),i("v-btn",{attrs:{color:"primary",href:"https://www.txdot.gov/"}},[e._v("Exit")])],1)],2)],1)],1)},r=[],n=a("1da1"),o=(a("96cf"),a("ac1f"),a("00b4"),a("e9c4"),a("99af"),a("a434"),a("2316")),l=a("3514"),s=a("69dd"),c={name:"MileSign",props:["id"],data:function(){return{certify:!1,statusMessageFalse:"",statusMessageTrue:"",valid:!0,sigRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length>=5||"Name must be greater than 5 characters"}],disabled:!0,checkbox:!1,sign:!1,delegate:!1,alert:!1,dialog:!1,txt:"",disagree:!1,agree:!1,disagreeTxt:"<br><br>Click on the Login button to use your CRI credentials to access DUSA. If you do not have a DUSA account, click on the sign up button to register.",agreeTxt:"",currentMiles:0,date:0,sendData:0,signed:!1,countyNbr:"",judgeName:"",judgeEmail:"",county:"",enabled:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],select:null,emailCounter:[],ccEmailList:[],counter:0,message:"",certiAlert:"",delegateTxt:""}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.certify=!1,t.next=3,Object(o["d"])();case 3:return a=t.sent,t.next=6,a["query"];case 6:i=t.sent,e.judgeName=i.features[0].attributes["Judge_Name"],e.judgeEmail=i.features[0].attributes["Judge_Email"],e.countyNbr=i.features[0].attributes["County_NBR"],e.currentMiles=i.features[0].attributes["Total_Mileage"],e.county=i.features[0].attributes["County_Name"],e.sendData=parseInt(e.currentMiles),localStorage.setItem("county",JSON.stringify([e.county,e.countyNbr,e.currentMiles])),e.sendCountyName(),e.$store.commit("setCntyMiles",e.currentMiles),e.dialog=!0,e.agreeTxt='<br><br><p align="justify">You are about to certify your county mileage. The current mileage for <b>'.concat(e.county,"</b> is <b>").concat(e.currentMiles,"</b>. Only the county judge can certify the county road inventory.<br><br>\n                          If you are not the county judge, please exit this form, or proceed to the DUSA application to start making edits.<br></p><br>"),e.delegateTxt='<p align="justify">Use this form to delegate persons to make edits to the '.concat(e.county," County Road Inventory.<br><br> Delegates will receive an email stating that you, ").concat(e.judgeName,", have granted them this authority.<br>\n                              You will be copied on all delegation emails. Delegating others to assist with review and edits of your county road inventory does not prevent you from making edits yourself.<br>\n                              Furthermore, as county judge, you will have to certify the changes upon their completion and submittal of edits.</p>"),r=new Date,e.certiAlert="<p>By clicking submit, you are certifying the mileage for your county and completing the process for ".concat(r.getFullYear()-1,".<br> Edits made in ").concat(r.getFullYear()," after certifying are allowed, but will need to be recertified by the county judge prior to <DATE> in order to be accepted."),r.toDateString(),e.statusMessageFalse="As of today, ".concat(r.toDateString().substring(4,15),", ").concat(e.judgeName,", has not certified the mileage for County ").concat(e.county),e.statusMessageTrue="As of today, ".concat(r.toDateString().substring(4,15),", ").concat(e.judgeName,", has certified the mileage for County ").concat(e.county),e.date=r.toDateString().substring(4,15),e.txt='<p align="justify">'.concat(r.toDateString().substring(4,15),'</p>\n          </br>\n          <p align="justify" style=font-family: Arial, Helvetica, sans-serif>Dear ').concat(e.judgeName,',</p><br>\n          <p align="justify" style=font-family: Arial, Helvetica, sans-serif>The Texas Department of Transportation (TxDOT) is soliciting updates to the county road inventory (CRI) from your county. The deadline for the ').concat(r.getFullYear()," submission is <u>August 31</u>.<br><br>\n           \n          In September ").concat(r.getFullYear(),", the certified county-maintained road mileage from ").concat(r.getFullYear()-1," will be submitted to the Texas Department of Motor Vehicles for disbursement of the tile\n          and registration fees and to the State Comptroller's Office for disbursement of the Lateral Road and Bridge funds. Updates made by Ausgust 31, ").concat(r.getFullYear()," will be reviewed and updated in our system then reported\n          in September of ").concat(r.getFullYear()+1,"<br><br>\n            \n          Your ").concat(r.getFullYear()," certified mileage is: <b><u>").concat(e.currentMiles,'</b></u><br><br>\n            \n          Please click the appropriate response below to agree or disagree with this mileage.  You may also delegate the certification to another county official.<br><br>\n          Thank you for your assistance in keeping the county road inventory up to date. If you have any questions or need clarification, please contact us by email or phone. <br><br>\n          Sincerely,<br><br> \n          Michael Chamberlain<br>  \n          Transportation Planning and Programming Division<br>  \n          Director of Data Management<br>  \n          TPP-GIS@txdot.gov<br>  \n          (512) 486-5054<br><br></p>\n                                                       <br><br><br> \n                                                       <footer style="text-align: center;font-size:12px"><p style=font-family: Arial, Helvetica, sans-serif>OUR VALUES: People • Accountability • Trust • Honesty<br>\n                                                              OUR MISSION:  Connecting You With Texas<br>\n                                                                  An Equal Opportunity Employer</p></footer>');case 26:case"end":return t.stop()}}),t)})))()},methods:{addSignature:function(){return this.signature},addEmail:function(){var e=this.counter++;this.emailCounter.push({counter:e,ccEmail:""})},goToMap:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push("/map"),l["featLayer"].definitionExpression="CNTY_TYPE_NM = '".concat(e.county,"'"),l["txCounties"].definitionExpression="CNTY_NM='".concat(e.county,"'"),a=new s["a"],a.where="CNTY_NM = '".concat(e.county,"'"),a.outFields=["*"],a.returnGeometry=!0,l["view"].goTo(l["viewPoint"]);case 8:case"end":return t.stop()}}),t)})))()},sendCountyName:function(){this.sendData=parseInt(this.currentMiles),this.$emit("county-miles",this.sendData)},deleteEmail:function(e){this.emailCounter.splice(e,1)},logMeIn:function(){this.$router.push("/login")}}},u=c,d=(a("4451"),a("2877")),f=Object(d["a"])(u,i,r,!1,null,"4e3c85de",null);t["default"]=f.exports},a434:function(e,t,a){"use strict";var i=a("23e7"),r=a("da84"),n=a("23cb"),o=a("5926"),l=a("07fa"),s=a("7b0b"),c=a("65f0"),u=a("8418"),d=a("1dde"),f=d("splice"),g=r.TypeError,m=Math.max,v=Math.min,p=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,i,r,d,f,y,h=s(this),x=l(h),w=n(e,x),k=arguments.length;if(0===k?a=i=0:1===k?(a=0,i=x-w):(a=k-2,i=v(m(o(t),0),x-w)),x+a-i>p)throw g(b);for(r=c(h,i),d=0;d<i;d++)f=w+d,f in h&&u(r,d,h[f]);if(r.length=i,a<i){for(d=w;d<x-i;d++)f=d+i,y=d+a,f in h?h[y]=h[f]:delete h[y];for(d=x;d>x-i+a;d--)delete h[d-1]}else if(a>i)for(d=x-i;d>w;d--)f=d+i-1,y=d+a-1,f in h?h[y]=h[f]:delete h[y];for(d=0;d<a;d++)h[d+w]=arguments[d+2];return h.length=x-i+a,r}})}}]);
//# sourceMappingURL=MileSign.7b153b55.js.map