(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MileSign"],{"3c42":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[n("v-dialog",{attrs:{persistent:"","max-width":"1000",id:"judgeDialog"},model:{value:t.judgeLetter,callback:function(e){t.judgeLetter=e},expression:"judgeLetter"}},[n("v-card",{attrs:{id:"judgeLetter"}},[n("v-card-title",[n("v-img",{attrs:{src:i("d79a"),id:"judgeLetterLogo"}})],1),n("v-card-text",{staticClass:"letterTxt",attrs:{justify:"left",id:"mainTxt"},domProps:{innerHTML:t._s(t.mainTxt)}}),n("v-btn",{staticClass:"buttonColor",attrs:{small:"",tile:"",color:"green",id:"acceptCert"},on:{click:function(e){t.judgeLetter=!1,t.assignDel=!1,t.accptCertify=!0}}},[n("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-certificate")]),t._v("Agree & Certify")],1),n("v-btn",{staticClass:"buttonColor",attrs:{small:"",tile:"",color:"blue"},on:{click:function(e){return t.logMeIn()}}},[n("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-vector-polyline-edit")]),t._v("Review & Edit")],1),n("v-btn",{staticClass:"buttonColor",attrs:{small:"",tile:"",color:"black",id:"assignDelegate"},on:{click:function(e){t.judgeLetter=!1,t.accptCertify=!1,t.assignDel=!0}}},[n("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-account-multiple-plus")]),t._v("Assign Delegate")],1),n("v-card-text",{staticClass:"letterTxt",attrs:{id:"subTxt"},domProps:{innerHTML:t._s(t.subTxt)}})],1)],1),n("v-dialog",{attrs:{width:"560",persistent:""},model:{value:t.assignDel,callback:function(e){t.assignDel=e},expression:"assignDel"}},[n("AssignDelegate")],1),n("v-dialog",{attrs:{width:"490",persistent:""},model:{value:t.accptCertify,callback:function(e){t.accptCertify=e},expression:"accptCertify"}},[n("acceptCertify")],1)],1)},a=[],s=i("1da1"),r=(i("96cf"),i("e9c4"),i("99af"),i("a9e3"),i("b680"),i("9e3e")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{tile:"",id:"assignDelCard"}},[i("v-card-title",{staticClass:"cardTitle"},[i("v-icon",{attrs:{id:"assignDelIcon"}},[t._v("mdi-account-multiple-plus")]),i("p",{attrs:{id:"titleTxt"}},[t._v("Assign Delegate")])],1),i("v-card-text",{attrs:{id:"addDelgTxt"},domProps:{innerHTML:t._s(t.delTxt)}}),t._l(t.emailCounter,(function(e,n){return i("v-row",{key:n},[i("v-col",{attrs:{cols:"12",md:"4",id:"txtFieldName"}},[i("v-text-field",{attrs:{dense:"",required:"",outlined:"",label:"Delegate Name"},model:{value:e.delUserName,callback:function(i){t.$set(e,"delUserName",i)},expression:"i.delUserName"}})],1),i("v-col",{attrs:{cols:"12",md:"8",id:"txtFieldEmail"}},[i("v-text-field",{staticStyle:{width:"60%",left:"20%"},attrs:{type:"email",dense:"",rules:t.emailRules,label:"Delegate email address",required:"",outlined:""},on:{input:function(t){e.delEmail=e.delEmail.toLowerCase()}},model:{value:e.delEmail,callback:function(i){t.$set(e,"delEmail",i)},expression:"i.delEmail"}})],1),i("v-col",{attrs:{id:"trashIcon"}},[i("v-icon",{attrs:{color:"red",disabled:1===t.emailCounter.length},on:{click:function(e){return t.deleteEmail(n)}}},[t._v("mdi-delete")])],1)],1)})),i("a",{attrs:{"x-small":"",id:"addDelegate"},on:{click:t.addEmail}},[t._v("Add additional delegate")]),i("v-btn",{attrs:{text:"",color:"#204E70",id:"cancelBtn"},on:{click:function(e){return t.returnToLetter()}}},[t._v("Cancel")]),i("v-btn",{attrs:{tile:"",outlined:"",color:"#204E70",id:"acceptBtn"},on:{click:function(e){return t.submit("delegate")}}},[i("u",[t._v("Accept")])])],2)},l=[],u=(i("ac1f"),i("00b4"),i("a434"),i("d3b7"),i("159b"),i("0fc3")),c={name:"AssignDelegate",data:function(){return{delTxt:"",del:!0,counter:0,emailCounter:[{counter:0,delEmail:"",delUserName:""}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}]}},mounted:function(){this.delTxt='<p align="justify">Use this form to assign delegates to make edits to the '.concat(this.county,' County Road Inventory.</p>\n                       <p align="justify">Delegates will receive an email stating that you, ').concat(this.judgeNameSend,", have granted them authority\n                        to make edits to the County Road Inventory on your behalf. Delegating others to assist with review and edits\n                        does not preclude you from making edits yourself. Furthermore, as county judge, you will have to certify changes\n                        made by your delegate(s) upon their completion and submittal of edits.")},methods:{addEmail:function(){var t=this.counter++;this.emailCounter.push({counter:t,delEmail:"",delUserName:""})},deleteEmail:function(t){this.emailCounter.splice(t,1)},returnToLetter:function(){this.isJudgeLetter=!this.isJudgeLetter},submit:function(t){var e=[],i=[];this.emailCounter.forEach((function(t){e.push(t.delEmail),i.push(t.delUserName)})),Object(u["h"])(t,i,e,null,null,null)}},computed:{isJudgeLetter:{get:function(){return this.$store.state.isJudgeLtter},set:function(t){this.$store.commit("setIsJudgeLetter",t)}},judgeNameSend:{get:function(){return this.$store.state.judgeName},set:function(t){this.$store.commit("setJudgeName",t)}},county:{get:function(){return this.$store.state.cntyName},set:function(t){this.$store.commit("setCntyName",t)}}}},d=c,m=(i("d7b0"),i("2877")),g=Object(m["a"])(d,o,l,!1,null,"1f0a18dd",null),f=g.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{tile:""}},[t.test1?i("v-card",{attrs:{tile:"",id:"acceptCard"}},[i("v-card-title",{staticClass:"cardTitle"},[i("v-icon",{attrs:{color:"white",id:"certIcon"}},[t._v("mdi-certificate")]),i("p",{attrs:{id:"certTitle"}},[t._v("Mileage Certification")])],1),i("v-card-text",{staticClass:"textSymb",attrs:{id:"countyMileTxt"}},[t._v("Sign below to certify your county's mileage.")]),i("v-card-text",{staticClass:"textSymb",domProps:{innerHTML:t._s(t.countyMileageTxt())}}),i("v-row",[i("v-col",{attrs:{cols:"12",md:"5",id:"judgeName"}},[i("v-text-field",{attrs:{disabled:"",dense:"",label:"County Judge Name",outlined:""},model:{value:this.judgeNameSend,callback:function(e){t.$set(this,"judgeNameSend",e)},expression:"this.judgeNameSend"}})],1),i("v-col",{attrs:{cols:"12",md:"6",id:"judgeEmail"}},[i("v-text-field",{attrs:{disabled:"",dense:"",label:"County Judge E-mail",outlined:""},model:{value:this.judgeEmailSend,callback:function(e){t.$set(this,"judgeEmailSend",e)},expression:"this.judgeEmailSend"}})],1)],1),t._l(t.ccEmail,(function(e,n){return i("v-row",{key:n},[i("v-col",{attrs:{cols:"12",md:"5",id:"emailCC"}},[i("v-text-field",{attrs:{dense:"",rules:t.ccEmailRules,outlined:"",label:"CC Email",type:"email"},on:{input:function(t){e.EmailAdd=e.EmailAdd.toLowerCase()}},model:{value:e.EmailAdd,callback:function(i){t.$set(e,"EmailAdd",i)},expression:"i.EmailAdd"}})],1),i("v-col",[i("v-icon",{attrs:{id:"trashIcon"},on:{click:function(e){return t.deleteEmail(n)}}},[t._v("mdi-delete")])],1)],1)})),i("a",{attrs:{"x-small":"",id:"addCCEmail"},on:{click:t.addEmail}},[t._v("Add CC Email")]),i("p",{attrs:{id:"signature"}},[t._v("Signature: "+t._s(t.signature))]),i("v-text-field",{staticClass:"signatureBox",attrs:{rules:t.sigRules,outlined:"",placeholder:"Please Sign Here","v-if":t.toggleSubTxt()},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}}),t.hideSubText?i("div",[i("p",{attrs:{id:"signNote"},domProps:{innerHTML:t._s(t.signatureNote)}}),i("v-checkbox",{staticClass:"acceptCheckbox",scopedSlots:t._u([{key:"label",fn:function(){return[i("p",{attrs:{id:"acceptCheckbox"}},[t._v("I am the county judge listed above.")])]},proxy:!0}],null,!1,3905723523),model:{value:t.isCountyJudge,callback:function(e){t.isCountyJudge=e},expression:"isCountyJudge"}})],1):t._e(),i("v-btn",{attrs:{text:"",color:"#204E70",id:"cancelBtn"},on:{click:function(e){return t.returnToLetter()}}},[t._v("Cancel")]),i("v-btn",{attrs:{tile:"",outlined:"",color:"#204E70",id:"acceptBtn",disabled:!1===t.hideSubText||!1===t.isCountyJudge},on:{click:function(e){t.submit("certify"),t.test1=!1,t.test2=!0}}},[t._v("Accept")]),t.hideSubText?i("div",[i("v-alert",{attrs:{id:"mileageAlert",color:"rgba(255,153,102,.4)",dense:""}},[i("b",[t._v("Note:")]),i("br"),t._v("Any subsequent edits made in the CRI Map up until August 31 will need to be recertified. ")])],1):t._e()],2):t._e(),i("v-dialog",{attrs:{"max-width":"600px",persistent:""},model:{value:t.test2,callback:function(e){t.test2=e},expression:"test2"}},[i("v-card",[i("v-icon",{staticStyle:{left:"0%"},attrs:{color:"green"}},[t._v(" mdi-check ")]),t._v(" Thank you for certifing your mileage! Be on the lookout for an email confirming your certification. ")],1)],1)],1)},b=[],p={name:"acceptCertify",acceptCertify:!0,data:function(){return{date:"",test1:!0,test2:!1,ccEmailAdd:"",disableAddCCBtn:!1,ccEmail:[],ccEmailRules:[function(t){return!!t||"CC Email is required"}],sigRules:[function(t){return!!t||"Signature is required"},function(t){return t&&t.length>=5||"Name must be greater than 5 characters"}],signature:"",signatureNote:"By clicking submit, you are certifying the mileage for your county and completing the process for ".concat((new Date).getFullYear(),"."),hideSubText:!1,isCountyJudge:!1}},methods:{addEmail:function(){this.ccEmail.push({EmailAdd:""})},deleteEmail:function(t){this.ccEmail.splice(t,1)},toggleSubTxt:function(){this.signature.length>=5?this.hideSubText=!0:this.hideSubText=!1},countyMileageTxt:function(){return"The current mileage for ".concat(this.countyName," is ").concat(this.countyMileage)},returnToLetter:function(){this.isJudgeLetter=!this.isJudgeLetter},submit:function(t){var e=[];this.ccEmail.forEach((function(t){e.push(t.EmailAdd)})),Object(u["h"])(t,[],e,this.signature,this.countyNumber,null)}},computed:{judgeNameSend:{get:function(){return this.$store.state.judgeName}},judgeEmailSend:{get:function(){return this.$store.state.judgeEmail}},countyName:{get:function(){return this.$store.state.cntyName}},countyMileage:{get:function(){return this.$store.state.cntyMiles}},countyNumber:{get:function(){return this.$store.state.cntyNmbr},set:function(t){this.$store.commit("setCntyNmbr",t)}},isJudgeLetter:{get:function(){return this.$store.state.isJudgeLtter},set:function(t){this.$store.commit("setIsJudgeLetter",t)}}}},v=p,y=(i("9a62"),Object(m["a"])(v,h,b,!1,null,"45094c1c",null)),x=y.exports,E={name:"JudgeIntro",components:{AssignDelegate:f,acceptCertify:x},props:["id"],data:function(){return{judgeLetter:!0,mainTxt:"",subTxt:"",judgeName:"",judgeEmail:"",countyNbr:"",sendData:"",assignDel:!1,accptCertify:!1,mileageTxt:""}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])();case 2:return i=e.sent,e.next=5,i["query"];case 5:n=e.sent,t.judgeName=n.features[0].attributes["JUDGE_NM"],t.judgeNameSend=t.judgeName,t.judgeEmail=n.features[0].attributes["JUDGE_EML"].toLowerCase(),t.judgeEmailSend=t.judgeEmail,t.countyNbr=n.features[0].attributes["CNTY_NBR"],t.currentMiles=n.features[0].attributes["UPDATED_MLGE"]?n.features[0].attributes["UPDATED_MLGE"]:n.features[0].attributes["TOT_MLGE"],a=n.features[0].attributes["TOT_MLGE"],s=n.features[0].attributes["UPDATED_MLGE"],t.county=n.features[0].attributes["CNTY_NM"],t.sendData=parseInt(t.currentMiles),t.updateMileage(n.features[0].attributes["TOT_MLGE"],s),localStorage.setItem("county",JSON.stringify([t.county,t.countyNbr,a])),t.mainTxt='\n          <p align="justify">Dear '.concat(t.judgeName,',</p>\n          <p align="justify">The Texas Department of Transportation (TxDOT) is soliciting updates to the County Road Inventory (CRI) from your county.  The deadline for the ').concat((new Date).getFullYear()," submission is <u>August 31</u>.<br><br>\n            \n          Your ").concat((new Date).getFullYear()," certified mileage is: <b><u>").concat(t.currentMiles,".</b></u> ").concat(t.mileageTxt,'<br><br>\n          \n          If you agree with this mileage, please click the AGREE & CERTIFY button below.  To review your CRI and make edits, please click the REVIEW & EDIT button below.  To delegate the responsibility of making updates to a trusted partner, please click the ASSIGN DELEGATE button below.<br><br>\n\n          For those who need assistance, TxDOT will be hosting live WebEx video training on these dates:<br>\n          &nbsp;&nbsp;  • Wednesday, June 21, 2023, 2:00 – 3:00 pm<br>\n          &nbsp;&nbsp;  • Wednesday, July 19, 2023, 2:00 – 3:00 pm<br>\n          &nbsp;&nbsp;  • Wednesday, August 16, 2023, 2:00 – 3:00 pm<br>\n          To join training, click the following link: <a href="https://txdot.webex.com/join/jferrell" target="_blank">https://txdot.webex.com/join/jferrell</a><br><br>\n\n          Thank you for your assistance in keeping the county road inventory up to date. If you have any questions or need clarification, please contact us by email or phone. <br>\n          Sincerely,<br><br> \n          Michael Chamberlain<br>  \n          Transportation Planning and Programming Division<br>  \n          Director of Data Management<br>  \n          TPP_CRI@txdot.gov<br>  \n          (512) 851-9039<br><br></p>'),t.subTxt="<br><p align=\"justify\">If you would like to review your inventory using the Review & Edit button above, but have not yet created an account for yourself, you can <a href='https://www.txdot.gov/data-maps/roadway-inventory/cri-form.html' target='_blank'><u>register here</u></a>.</p>\n                         <p align=\"justify\">TxDOT reports county road mileage to the Texas State Comptroller and Department of Motor Vehicles. That data is used to calculate funds to be distributed to each county. \n                         Your participation in the County Road Inventory program is essential for ensuring an accurate and complete inventory.</p>";case 20:case"end":return e.stop()}}),e)})))()},methods:{logMeIn:function(){this.$router.push("/login")},updateMileage:function(t,e){if(e){var i=t-e;this.mileageTxt=0===Number(Math.abs(i).toFixed(2))?"Edits were made in the CRI Map for a net change in total mileage of 0.00 miles.":e>t?"Edits were made in the CRI Map for a net change in total mileage of +".concat(Math.abs(i).toFixed(2)," miles."):"Edits were made in the CRI Map for a net change in total mileage of -".concat(Math.abs(i).toFixed(2)," miles.")}else this.mileageTxt="No edits have been made."}},watch:{isJdgeLetter:{handler:function(){this.assignDel=!1,this.judgeLetter=!0,this.accptCertify=!1},immediate:!0}},computed:{isJdgeLetter:{get:function(){return this.$store.state.isJudgeLtter},set:function(t){this.$store.commit("setIsJudgeLetter",t)}},judgeNameSend:{get:function(){return this.$store.state.judgeName},set:function(t){this.$store.commit("setJudgeName",t)}},judgeEmailSend:{get:function(){return this.$store.state.judgeEmail},set:function(t){this.$store.commit("setJudgeEmail",t)}},county:{get:function(){return this.$store.state.cntyName},set:function(t){this.$store.commit("setCntyName",t)}},currentMiles:{get:function(){return this.$store.state.cntyMiles},set:function(t){this.$store.commit("setCntyMiles",t)}}}},C=E,T=(i("e290"),Object(m["a"])(C,n,a,!1,null,"052b233b",null));e["default"]=T.exports},5280:function(t,e,i){},7868:function(t,e,i){},8467:function(t,e,i){},"9a62":function(t,e,i){"use strict";i("7868")},d79a:function(t,e,i){t.exports=i.p+"img/txdotLogo.cd18eab1.jpeg"},d7b0:function(t,e,i){"use strict";i("8467")},e290:function(t,e,i){"use strict";i("5280")}}]);
//# sourceMappingURL=MileSign.6e5524af.js.map