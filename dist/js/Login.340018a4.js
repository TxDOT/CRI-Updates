(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"0cb2":function(e,t,n){var r=n("e330"),o=n("7b0b"),a=Math.floor,s=r("".charAt),i=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,g){var f=n+e.length,p=r.length,b=l;return void 0!==d&&(d=o(d),b=u),i(g,b,(function(o,i){var u;switch(s(i,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,f);case"<":u=d[c(i,1,-1)];break;default:var l=+i;if(0===l)return o;if(l>p){var g=a(l/10);return 0===g?o:g<=p?void 0===r[g-1]?s(i,1):r[g-1]+s(i,1):o}u=r[l-1]}return void 0===u?"":u}))}},2532:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),a=n("5a34"),s=n("1d80"),i=n("577e"),c=n("ab13"),u=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(i(s(this)),i(a(e)),arguments.length>1?arguments[1]:void 0)}})},5319:function(e,t,n){"use strict";var r=n("2ba4"),o=n("c65b"),a=n("e330"),s=n("d784"),i=n("d039"),c=n("825a"),u=n("1626"),l=n("5926"),d=n("50c4"),g=n("577e"),f=n("1d80"),p=n("8aa5"),b=n("dc4a"),h=n("0cb2"),m=n("14c3"),v=n("b622"),y=v("replace"),x=Math.max,w=Math.min,M=a([].concat),$=a([].push),k=a("".indexOf),T=a("".slice),I=function(e){return void 0===e?e:String(e)},N=function(){return"$0"==="a".replace(/./,"$0")}(),S=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),O=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var a=S?"$":"$0";return[function(e,n){var r=f(this),a=void 0==e?void 0:b(e,y);return a?o(a,e,r,n):o(t,g(r),e,n)},function(e,o){var s=c(this),i=g(e);if("string"==typeof o&&-1===k(o,a)&&-1===k(o,"$<")){var f=n(t,s,i,o);if(f.done)return f.value}var b=u(o);b||(o=g(o));var v=s.global;if(v){var y=s.unicode;s.lastIndex=0}var N=[];while(1){var S=m(s,i);if(null===S)break;if($(N,S),!v)break;var O=g(S[0]);""===O&&(s.lastIndex=p(i,d(s.lastIndex),y))}for(var _="",L=0,C=0;C<N.length;C++){S=N[C];for(var R=g(S[0]),j=x(w(l(S.index),i.length),0),E=[],D=1;D<S.length;D++)$(E,I(S[D]));var F=S.groups;if(b){var A=M([R],E,j,i);void 0!==F&&$(A,F);var B=g(r(o,void 0,A))}else B=h(R,i,j,E,F,o);j>=L&&(_+=T(i,L,j)+B,L=j+R.length)}return _+T(i,L)}]}),!O||!N||S)},"5a34":function(e,t,n){var r=n("da84"),o=n("44e7"),a=r.TypeError;e.exports=function(e){if(o(e))throw a("The method doesn't accept regular expressions");return e}},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"500",id:"cardDisplay"},model:{value:e.disagree,callback:function(t){e.disagree=t},expression:"disagree"}},[n("v-card",{staticStyle:{"border-radius":"0px"},attrs:{height:"250"},model:{value:e.disagree,callback:function(t){e.disagree=t},expression:"disagree"}},[n("v-card-actions",[!1===e.certify?n("div",{staticStyle:{position:"absolute",top:"0%",left:"0%",width:"100%"}},[n("v-alert",{staticStyle:{"border-radius":"0px","text-align":"left"},attrs:{color:"#14375A",border:"top",dark:""},domProps:{innerHTML:e._s(e.statusMessageFalse)}})],1):e._e(),!0===e.certify?n("div",{staticStyle:{position:"absolute",top:"10%",left:"0%"}},[n("v-alert",{staticClass:"black--text mb-3",attrs:{color:"green",border:"top",dark:""},domProps:{innerHTML:e._s(e.statusMessageTrue)}})],1):e._e(),n("div",{staticClass:"black--text mb-3",staticStyle:{position:"absolute",top:"15%",left:"5%","text-align":"left"}},[n("v-card-text",{staticStyle:{color:"black"},domProps:{innerHTML:e._s(e.disagreeTxt)}})],1),n("div",{staticStyle:{position:"absolute",right:"4%",bottom:"10%"}},[n("v-btn",{attrs:{id:"loginButton",outlined:"",tile:"",color:"#14375A"},on:{click:function(t){e.disagree=!1,e.logMeIn()}}},[e._v(" Login ")])],1),n("v-btn",{staticStyle:{position:"absolute",left:"4%",bottom:"13%"},attrs:{depressed:"",text:"",tile:"",color:"black","x-small":"",onclick:"window.open('https://www.dot.state.tx.us/apps-cg/contact_us/form/dusa-form.htm','_blank')"}},[e._v(" Sign-Up ")])],1)],1)],1)},o=[],a=n("1da1"),s=(n("96cf"),n("99af"),n("7db0"),n("d3b7"),n("b64b"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("e9c4"),n("a9e3"),n("3514")),i=n("2316"),c=n("1baa"),u=n("0224"),l=n("69dd"),d={name:"Login",props:["id"],data:function(){return{statusMessageTrue:"",statusMessageFalse:"",certify:!1,disagree:!0,countyPopup:!1,disagreeTxt:"<br><br>Click the Login button and use your TxDOT-provided credentials to access the County Road Inventory Map. If you do not have an account, click the Sign-Up button to register.",judgeName:"",county:"",auth:{},cntyNme:"",loginToMap:!1}},beforeRouteLeave:function(e,t,n){console.log(e),this.loginToMap?n():(console.log(e,t),n(!1))},mounted:function(){document.getElementById("cardDisplay").addEventListener("load",(function(e){console.log(e,"load")})),this.certify=!1;var e=new Date;this.certiAlert="<p>By clicking submit, you are certifying the mileage for your county and completing the process for ".concat(e.getFullYear()-1,".<br> Edits made in ").concat(e.getFullYear()," after certifying are allowed, but will need to be recertified by the county judge prior to <DATE> in order to be accepted."),e.toDateString(),this.statusMessageFalse="The TxDOT County Road Inventory Map"},methods:{logMeIn:function(){this.loadMap("Bastrop",11)},loadMap:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(i["j"])(e,t);case 2:console.log(s["viewPoint"]),n.loginToMap=!0,n.$router.push("/map"),n.loginToMap=!1;case 6:case"end":return r.stop()}}),r)})))()},handleSignedIn:function(){var e=this,t=new u["a"];this.loginToMap=!0,t.load().then(Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r={name:t.user.fullName,username:t.user.username},console.log(r),e.$router.push("/load"),!localStorage.getItem("county")){n.next=7;break}n.t0=JSON.parse(localStorage.getItem("county")),n.next=10;break;case 7:return n.next=9,e.getCountyInfo(t.user.username);case 9:n.t0=n.sent;case 10:o=n.t0,e.userName=t.user.username,a=o[1],i=o[0],s["search"].sources._items[0].layer.definitionExpression="CNTY_TYPE_NBR = ".concat(a),console.log(s["search"].sources),e.countyName=i,e.countyNumber=a,e.countyMiles=o[2],e.loadMap(i,a);case 20:case"end":return n.stop()}}),n)}))))},getCountyInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o,a,i,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=Object.keys(c["a"][0]).find((function(t){if(e.toLowerCase().includes(c["a"][0][t].replace(/\s/,"").toLowerCase()))return console.log(c["a"][0][t]),r=c["a"][0][t],c["a"][0]})),console.log(o),!o){n.next=16;break}return a="County_NBR = '".concat(o,"'"),i=new l["a"],i.where=a,i.outFields=["*"],n.next=9,s["countyOfficialInfo"].queryFeatures(i);case 9:return u=n.sent,t.countyNumber=o,console.log(u,u.features[0].attributes["Total_Mileage"],o),localStorage.setItem("county",JSON.stringify([r,o,u.features[0].attributes["Total_Mileage"]])),n.abrupt("return",[r,Number(o),u.features[0].attributes["Total_Mileage"]]);case 16:console.log("leggo"),t.$router.push("/pickCounty");case 18:case"end":return n.stop()}}),n)})))()}},computed:{setLogOut:{get:function(){return console.log(this.$store.state.isLoggedOut),this.$store.state.isLoggedOut},set:function(e){this.$store.commit("setIsLoggedOut",e)}},countyName:{get:function(){return this.$store.state.cntyName},set:function(e){this.$store.commit("setCntyName",e)}},countyNumber:{get:function(){return this.$store.state.cntyNmbr},set:function(e){console.log(e),this.$store.commit("setCntyNmbr",e)}},countyMiles:{get:function(){return this.$store.state.cntyMiles},set:function(e){this.$store.commit("setCntyMiles",e)}},userName:{get:function(){return this.$store.state.username},set:function(e){this.$store.commit("setUserName",e)}},logIn:{get:function(){return this.$store.state.isLoggedIn},set:function(e){this.$store.commit("setIsLoggedIn",e)}}}},g=d,f=(n("d6db"),n("2877")),p=Object(f["a"])(g,r,o,!1,null,null,null);t["default"]=p.exports},ab13:function(e,t,n){var r=n("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},b64b:function(e,t,n){var r=n("23e7"),o=n("7b0b"),a=n("df75"),s=n("d039"),i=s((function(){a(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return a(o(e))}})},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,a=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},d6db:function(e,t,n){"use strict";n("e67a")},e67a:function(e,t,n){}}]);
//# sourceMappingURL=Login.340018a4.js.map